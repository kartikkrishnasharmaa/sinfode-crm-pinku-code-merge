/*! For license information please see main.fd1b6b45.js.LICENSE.txt */
(()=>{var e={78:(e,t,n)=>{"use strict";var r=n(5763),s=n(4414),a=n(6283),i=n(6143),o=n(2934).notEmptyKey,l=n(5037),c=n(2002),d=n(8691),u=i.isEngine("Gecko");e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e.editor.ownerDocument.defaultView.getSelection(),i=n.anchorNode,h=n.isCollapsed,A=(null===i||void 0===i?void 0:i.nodeType)!==Node.TEXT_NODE&&(null===i||void 0===i?void 0:i.nodeType)!==Node.ELEMENT_NODE;if(null!=i&&!A){if(i.nodeType===Node.TEXT_NODE&&(null!==i.previousSibling||null!==i.nextSibling)){var f=i.parentNode;if(null==f)return;i.nodeValue=f.textContent;for(var m=f.firstChild;null!=m;m=m.nextSibling)m!==i&&f.removeChild(m)}var p=i.textContent,g=e._latestEditorState,x=d(l(i)),b=s.decode(x),y=b.blockKey,v=b.decoratorKey,w=b.leafKey,j=g.getBlockTree(y).getIn([v,"leaves",w]),N=j.start,_=j.end,C=g.getCurrentContent(),S=C.getBlockForKey(y),k=S.getText().slice(N,_);if(p.endsWith("\n\n")&&(p=p.slice(0,-1)),p!==k){var B,E,L,M,F=g.getSelection(),I=F.merge({anchorOffset:N,focusOffset:_,isBackward:!1}),D=S.getEntityAt(N),T=o(D)?C.getEntity(D):null,O="MUTABLE"===(null!=T?T.getMutability():null),P=O?"spellcheck-change":"apply-entity",U=r.replaceText(C,I,p,S.getInlineStyleAt(N),O?S.getEntityAt(N):null);if(u)B=n.anchorOffset,E=n.focusOffset,M=(L=N+Math.min(B,E))+Math.abs(B-E),B=L,E=M;else{var R=p.length-k.length;L=F.getStartOffset(),M=F.getEndOffset(),B=h?M+R:L,E=M+R}var Q=U.merge({selectionBefore:C.getSelectionAfter(),selectionAfter:F.merge({anchorOffset:B,focusOffset:E})});e.update(a.push(g,Q,P))}else{var z=t.nativeEvent.inputType;if(z){var H=function(e,t){return"deleteContentBackward"===e?c(t):t}(z,g);if(H!==g)return e.restoreEditorDOM(),void e.update(H)}}}}},88:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(5782),a=n(4669),i=n(6415),o=function(){function e(e){r(this,"_defaultDir",void 0),r(this,"_lastDir",void 0),e?a.isStrong(e)||i(!1):e=a.getGlobalDir(),this._defaultDir=e,this.reset()}var t=e.prototype;return t.reset=function(){this._lastDir=this._defaultDir},t.getDirection=function(e){return this._lastDir=s.getDirection(e,this._lastDir),this._lastDir},e}();e.exports=o},93:e=>{"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}}},169:(e,t,n)=>{"use strict";var r=n(5763),s=n(6283),a=n(1275),i=n(8691),o={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t,n){switch(t){case"bold":return o.toggleInlineStyle(e,"BOLD");case"italic":return o.toggleInlineStyle(e,"ITALIC");case"underline":return o.toggleInlineStyle(e,"UNDERLINE");case"code":return o.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return o.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return o.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=s.push(e,t,"insert-characters");return s.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),a=n.getBlockBefore(r);if(a&&"atomic"===a.getType()){var i=n.getBlockMap().delete(a.getKey()),l=n.merge({blockMap:i,selectionAfter:t});if(l!==n)return s.push(e,l,"remove-range")}var c=o.tryToRemoveBlockStyle(e);return c?s.push(e,c,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),a=t.getStartKey(),i=n.getBlockForKey(a).getLength();if(t.getStartOffset()<i)return null;var o=n.getBlockAfter(a);if(!o||"atomic"!==o.getType())return null;var l=t.merge({focusKey:o.getKey(),focusOffset:o.getLength()}),c=r.removeRange(n,l,"forward");return c!==n?s.push(e,c,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),i=r.getAnchorKey();if(i!==r.getFocusKey())return t;var o=t.getCurrentContent(),l=o.getBlockForKey(i),c=l.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return t;e.preventDefault();var d=l.getDepth();if(!e.shiftKey&&d===n)return t;var u=a(o,r,e.shiftKey?-1:1,n);return s.push(t,u,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),a=n.getStartKey(),o=n.getEndKey(),l=e.getCurrentContent(),c=n;if(a!==o&&0===n.getEndOffset()){var d=i(l.getBlockBefore(o));o=d.getKey(),c=c.merge({anchorKey:a,anchorOffset:n.getStartOffset(),focusKey:o,focusOffset:d.getLength(),isBackward:!1})}if(l.getBlockMap().skipWhile(function(e,t){return t!==a}).reverse().skipWhile(function(e,t){return t!==o}).some(function(e){return"atomic"===e.getType()}))return e;var u=l.getBlockForKey(a).getType()===t?"unstyled":t;return s.push(e,r.setBlockType(l,c,u),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?o.toggleBlockType(e,"code-block"):o.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),a=e.getCurrentInlineStyle();if(n.isCollapsed())return s.setInlineStyleOverride(e,a.has(t)?a.remove(t):a.add(t));var i,o=e.getCurrentContent();return i=a.has(t)?r.removeInlineStyle(o,n,t):r.applyInlineStyle(o,n,t),s.push(e,i,"change-inline-style")},toggleLink:function(e,t,n){var a=r.applyEntity(e.getCurrentContent(),t,n);return s.push(e,a,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var s=t.getAnchorKey(),a=e.getCurrentContent(),i=a.getBlockForKey(s).getType(),o=a.getBlockBefore(s);if("code-block"===i&&o&&"code-block"===o.getType()&&0!==o.getLength())return null;if("unstyled"!==i)return r.setBlockType(a,t,"unstyled")}return null}};e.exports=o},186:(e,t,n)=>{"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.getType=function(){return this.get("type")},s.getMutability=function(){return this.get("mutability")},s.getData=function(){return this.get("data")},r}((0,n(1320).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));e.exports=r},306:e=>{"use strict";var t={},n=Math.pow(2,24);e.exports=function(){for(var e;void 0===e||t.hasOwnProperty(e)||!isNaN(+e);)e=Math.floor(Math.random()*n).toString(32);return t[e]=!0,e}},317:(e,t,n)=>{"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(5043),i=n(6143),o=n(6415),l=n(7385),c=i.isBrowser("IE <= 11");var d=function(e){var t,n;function i(t){var n;return s(r(n=e.call(this,t)||this),"_forceFlag",void 0),s(r(n),"_node",void 0),n._forceFlag=!1,n}n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=i.prototype;return d.shouldComponentUpdate=function(e){var t=this._node,n=""===e.children;l(t)||o(!1);var r=t;return n?!function(e){return c?"\n"===e.textContent:"BR"===e.tagName}(r):r.textContent!==e.children},d.componentDidMount=function(){this._forceFlag=!this._forceFlag},d.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},d.render=function(){var e,t=this;return""===this.props.children?this._forceFlag?(e=function(e){return t._node=e},c?a.createElement("span",{key:"A","data-text":"true",ref:e},"\n"):a.createElement("br",{key:"A","data-text":"true",ref:e})):function(e){return c?a.createElement("span",{key:"B","data-text":"true",ref:e},"\n"):a.createElement("br",{key:"B","data-text":"true",ref:e})}(function(e){return t._node=e}):a.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true",ref:function(e){return t._node=e}},this.props.children)},i}(a.Component);e.exports=d},475:(e,t,n)=>{"use strict";var r=n(6415);e.exports=function(e){return function(e){return!!e&&("object"==typeof e||"function"==typeof e)&&"length"in e&&!("setInterval"in e)&&"number"!=typeof e.nodeType&&(Array.isArray(e)||"callee"in e||"item"in e)}(e)?Array.isArray(e)?e.slice():function(e){var t=e.length;if((Array.isArray(e)||"object"!==typeof e&&"function"!==typeof e)&&r(!1),"number"!==typeof t&&r(!1),0===t||t-1 in e||r(!1),"function"===typeof e.callee&&r(!1),e.hasOwnProperty)try{return Array.prototype.slice.call(e)}catch(a){}for(var n=Array(t),s=0;s<t;s++)n[s]=e[s];return n}(e):[e]}},555:(e,t,n)=>{"use strict";var r;function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){a(e,t,n[t])})}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(2367),o=n(7707),l=n(6559),c=n(1144),d=n(2593),u=n(9493),h=n(7904),A=n(306),f=n(6357),m=n(8819),p=n(1320),g=p.List,x=p.Map,b=p.OrderedSet,y=n(5941),v=n(5030),w=n(9990),j=n(1967),N=m("draft_tree_data_support"),_=new RegExp("\r","g"),C=new RegExp("\n","g"),S=new RegExp("^\n","g"),k=new RegExp("&nbsp;","g"),B=new RegExp("&#13;?","g"),E=new RegExp("&#8203;?","g"),L=["bold","bolder","500","600","700","800","900"],M=["light","lighter","normal","100","200","300","400"],F=["className","href","rel","target","title"],I=["alt","className","height","src","width"],D=(a(r={},h("public/DraftStyleDefault/depth0"),0),a(r,h("public/DraftStyleDefault/depth1"),1),a(r,h("public/DraftStyleDefault/depth2"),2),a(r,h("public/DraftStyleDefault/depth3"),3),a(r,h("public/DraftStyleDefault/depth4"),4),r),T=x({b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE",mark:"HIGHLIGHT"}),O=function(e){if(w(e)&&e.style.fontFamily.includes("monospace"))return"CODE";return null},P=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(D).some(function(n){e.classList.contains(n)&&(t=D[n])}),t},U=function(e){if(!y(e))return!1;var t=e;if(!t.href||"http:"!==t.protocol&&"https:"!==t.protocol&&"mailto:"!==t.protocol&&"tel:"!==t.protocol)return!1;try{new u(t.href);return!0}catch(n){return!1}},R=function(e){if(!j(e))return!1;var t=e;return!(!t.attributes.getNamedItem("src")||!t.attributes.getNamedItem("src").value)},Q=function(e,t){if(!w(e))return t;var n=e,r=n.style.fontWeight,s=n.style.fontStyle,a=n.style.textDecoration;return t.withMutations(function(e){L.indexOf(r)>=0?e.add("BOLD"):M.indexOf(r)>=0&&e.remove("BOLD"),"italic"===s?e.add("ITALIC"):"normal"===s&&e.remove("ITALIC"),"underline"===a&&e.add("UNDERLINE"),"line-through"===a&&e.add("STRIKETHROUGH"),"none"===a&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))})},z=function(e){return"ul"===e||"ol"===e},H=function(){function e(e,t){a(this,"characterList",g()),a(this,"currentBlockType","unstyled"),a(this,"currentDepth",0),a(this,"currentEntity",null),a(this,"currentText",""),a(this,"wrapper",null),a(this,"blockConfigs",[]),a(this,"contentBlocks",[]),a(this,"entityMap",d),a(this,"blockTypeMap",void 0),a(this,"disambiguate",void 0),this.clear(),this.blockTypeMap=e,this.disambiguate=t}var t=e.prototype;return t.clear=function(){this.characterList=g(),this.blockConfigs=[],this.currentBlockType="unstyled",this.currentDepth=0,this.currentEntity=null,this.currentText="",this.entityMap=d,this.wrapper=null,this.contentBlocks=[]},t.addDOMNode=function(e){var t;return this.contentBlocks=[],this.currentDepth=0,(t=this.blockConfigs).push.apply(t,this._toBlockConfigs([e],b())),this._trimCurrentText(),""!==this.currentText&&this.blockConfigs.push(this._makeBlockConfig()),this},t.getContentBlocks=function(){return 0===this.contentBlocks.length&&(N?this._toContentBlocks(this.blockConfigs):this._toFlatContentBlocks(this.blockConfigs)),{contentBlocks:this.contentBlocks,entityMap:this.entityMap}},t._makeBlockConfig=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=s({key:e.key||A(),type:this.currentBlockType,text:this.currentText,characterList:this.characterList,depth:this.currentDepth,parent:null,children:g(),prevSibling:null,nextSibling:null,childConfigs:[]},e);return this.characterList=g(),this.currentBlockType="unstyled",this.currentText="",t},t._toBlockConfigs=function(e,t){for(var n=[],r=0;r<e.length;r++){var s=e[r],a=s.nodeName.toLowerCase();if("body"===a||z(a)){this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var i=this.currentDepth,o=this.wrapper;z(a)&&(this.wrapper=a,z(o)&&this.currentDepth++),n.push.apply(n,this._toBlockConfigs(Array.from(s.childNodes),t)),this.currentDepth=i,this.wrapper=o}else{var l=this.blockTypeMap.get(a);if(void 0===l)if("#text"!==a)if("br"!==a)if(R(s))this._addImgNode(s,t);else if(U(s))this._addAnchorNode(s,n,t);else{var c=t;T.has(a)&&(c=c.add(T.get(a))),c=Q(s,c);var d=O(s);null!=d&&(c=c.add(d)),n.push.apply(n,this._toBlockConfigs(Array.from(s.childNodes),c))}else this._addBreakNode(s,t);else this._addTextNode(s,t);else{this._trimCurrentText(),""!==this.currentText&&n.push(this._makeBlockConfig());var u=this.currentDepth,h=this.wrapper;if(this.wrapper="pre"===a?"pre":this.wrapper,"string"!==typeof l&&(l=this.disambiguate(a,this.wrapper)||l[0]||"unstyled"),!N&&w(s)&&("unordered-list-item"===l||"ordered-list-item"===l)){var f=s;this.currentDepth=P(f,this.currentDepth)}var m=A(),p=this._toBlockConfigs(Array.from(s.childNodes),t);this._trimCurrentText(),n.push(this._makeBlockConfig({key:m,childConfigs:p,type:l})),this.currentDepth=u,this.wrapper=h}}}return n},t._appendText=function(e,t){var n;this.currentText+=e;var r=i.create({style:t,entity:this.currentEntity});this.characterList=(n=this.characterList).push.apply(n,Array(e.length).fill(r))},t._trimCurrentText=function(){var e=this.currentText.length,t=e-this.currentText.trimLeft().length,n=this.currentText.trimRight().length,r=this.characterList.findEntry(function(e){return null!==e.getEntity()});(t=void 0!==r?Math.min(t,r[0]):t)>(n=void 0!==(r=this.characterList.reverse().findEntry(function(e){return null!==e.getEntity()}))?Math.max(n,e-r[0]):n)?(this.currentText="",this.characterList=g()):(this.currentText=this.currentText.slice(t,n),this.characterList=this.characterList.slice(t,n))},t._addTextNode=function(e,t){var n=e.textContent;""===n.trim()&&"pre"!==this.wrapper&&(n=" "),"pre"!==this.wrapper&&(n=(n=n.replace(S,"")).replace(C," ")),this._appendText(n,t)},t._addBreakNode=function(e,t){v(e)&&this._appendText("\n",t)},t._addImgNode=function(e,t){if(j(e)){var n=e,r={};I.forEach(function(e){var t=n.getAttribute(e);t&&(r[e]=t)}),this.currentEntity=this.entityMap.__create("IMAGE","IMMUTABLE",r),m("draftjs_fix_paste_for_img")?"presentation"!==n.getAttribute("role")&&this._appendText("\ud83d\udcf7",t):this._appendText("\ud83d\udcf7",t),this.currentEntity=null}},t._addAnchorNode=function(e,t,n){if(y(e)){var r=e,s={};F.forEach(function(e){var t=r.getAttribute(e);t&&(s[e]=t)}),s.url=new u(r.href).toString(),this.currentEntity=this.entityMap.__create("LINK","MUTABLE",s||{}),t.push.apply(t,this._toBlockConfigs(Array.from(e.childNodes),n)),this.currentEntity=null}},t._toContentBlocks=function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=e.length-1,r=0;r<=n;r++){var a=e[r];a.parent=t,a.prevSibling=r>0?e[r-1].key:null,a.nextSibling=r<n?e[r+1].key:null,a.children=g(a.childConfigs.map(function(e){return e.key})),this.contentBlocks.push(new l(s({},a))),this._toContentBlocks(a.childConfigs,a.key)}},t._hoistContainersInBlockConfigs=function(e){var t=this;return g(e).flatMap(function(e){return"unstyled"!==e.type||""!==e.text?[e]:t._hoistContainersInBlockConfigs(e.childConfigs)})},t._toFlatContentBlocks=function(e){var t=this;this._hoistContainersInBlockConfigs(e).forEach(function(e){var n=t._extractTextFromBlockConfigs(e.childConfigs),r=n.text,a=n.characterList;t.contentBlocks.push(new o(s({},e,{text:e.text+r,characterList:e.characterList.concat(a)})))})},t._extractTextFromBlockConfigs=function(e){for(var t=e.length-1,n="",r=g(),s=0;s<=t;s++){var a=e[s];n+=a.text,r=r.concat(a.characterList),""!==n&&"unstyled"!==a.type&&(n+="\n",r=r.push(r.last()));var i=this._extractTextFromBlockConfigs(a.childConfigs);n+=i.text,r=r.concat(i.characterList)}return{text:n,characterList:r}},e}();e.exports=function(e){var t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c,n=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:f)(e=e.trim().replace(_,"").replace(k," ").replace(B,"").replace(E,""));if(!n)return null;var r=function(e){var t={};return e.mapKeys(function(e,n){var r=[n.element];void 0!==n.aliasedElements&&r.push.apply(r,n.aliasedElements),r.forEach(function(n){void 0===t[n]?t[n]=e:"string"===typeof t[n]?t[n]=[t[n],e]:t[n].push(e)})}),x(t)}(t);return new H(r,function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null}).addDOMNode(n).getContentBlocks()}},557:function(e,t,n){var r;"undefined"!==typeof globalThis?globalThis:"undefined"!==typeof this||("undefined"!==typeof window?window:"undefined"!==typeof self?self:n.g),r=function(e){return function(){"use strict";var t={172:function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.CellHookData=t.HookData=void 0;var r=function(e,t,n){this.table=t,this.pageNumber=t.pageNumber,this.pageCount=this.pageNumber,this.settings=t.settings,this.cursor=n,this.doc=e.getDocument()};t.HookData=r;var s=function(e){function t(t,n,r,s,a,i){var o=e.call(this,t,n,i)||this;return o.cell=r,o.row=s,o.column=a,o.section=s.section,o}return n(t,e),t}(r);t.CellHookData=s},340:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),s=n(136),a=n(744),i=n(776),o=n(664),l=n(972);t.default=function(e){e.API.autoTable=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];1===t.length?e=t[0]:(console.error("Use of deprecated autoTable initiation"),(e=t[2]||{}).columns=t[0],e.body=t[1]);var r=(0,i.parseInput)(this,e),s=(0,l.createTable)(this,r);return(0,o.drawTable)(this,s),this},e.API.lastAutoTable=!1,e.API.previousAutoTable=!1,e.API.autoTable.previous=!1,e.API.autoTableText=function(e,t,n,r){(0,s.default)(e,t,n,r,this)},e.API.autoTableSetDefaults=function(e){return a.DocHandler.setDefaults(e,this),this},e.autoTableSetDefaults=function(e,t){a.DocHandler.setDefaults(e,t)},e.API.autoTableHtmlToJson=function(e,t){var n;if(void 0===t&&(t=!1),"undefined"===typeof window)return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var s=new a.DocHandler(this),i=(0,r.parseHtml)(s,e,window,t,!1),o=i.head,l=i.body;return{columns:(null===(n=o[0])||void 0===n?void 0:n.map(function(e){return e.content}))||[],rows:l,data:l}},e.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var e=this.lastAutoTable;return e&&e.finalY?e.finalY:0},e.API.autoTableAddPageContent=function(t){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),e.API.autoTable.globalDefaults||(e.API.autoTable.globalDefaults={}),e.API.autoTable.globalDefaults.addPageContent=t,this},e.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}},136:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r,s){r=r||{};var a=s.internal.scaleFactor,i=s.internal.getFontSize()/a,o=i*(s.getLineHeightFactor?s.getLineHeightFactor():1.15),l="",c=1;if("middle"!==r.valign&&"bottom"!==r.valign&&"center"!==r.halign&&"right"!==r.halign||(c=(l="string"===typeof e?e.split(/\r\n|\r|\n/g):e).length||1),n+=i*(2-1.15),"middle"===r.valign?n-=c/2*o:"bottom"===r.valign&&(n-=c*o),"center"===r.halign||"right"===r.halign){var d=i;if("center"===r.halign&&(d*=.5),l&&c>=1){for(var u=0;u<l.length;u++)s.text(l[u],t-s.getStringUnitWidth(l[u])*d,n),n+=o;return s}t-=s.getStringUnitWidth(e)*d}return"justify"===r.halign?s.text(e,t,n,{maxWidth:r.maxWidth||100,align:"justify"}):s.text(e,t,n),s}},420:function(e,t){function n(e,t){var n=e>0,r=t||0===t;return n&&r?"DF":n?"S":r?"F":null}function r(e,t){var n,r,s,a;if(e=e||t,Array.isArray(e)){if(e.length>=4)return{top:e[0],right:e[1],bottom:e[2],left:e[3]};if(3===e.length)return{top:e[0],right:e[1],bottom:e[2],left:e[1]};if(2===e.length)return{top:e[0],right:e[1],bottom:e[0],left:e[1]};e=1===e.length?e[0]:t}return"object"===typeof e?("number"===typeof e.vertical&&(e.top=e.vertical,e.bottom=e.vertical),"number"===typeof e.horizontal&&(e.right=e.horizontal,e.left=e.horizontal),{left:null!==(n=e.left)&&void 0!==n?n:t,top:null!==(r=e.top)&&void 0!==r?r:t,right:null!==(s=e.right)&&void 0!==s?s:t,bottom:null!==(a=e.bottom)&&void 0!==a?a:t}):("number"!==typeof e&&(e=t),{top:e,right:e,bottom:e,left:e})}Object.defineProperty(t,"__esModule",{value:!0}),t.getPageAvailableWidth=t.parseSpacing=t.getFillStyle=t.addTableBorder=t.getStringWidth=void 0,t.getStringWidth=function(e,t,n){return n.applyStyles(t,!0),(Array.isArray(e)?e:[e]).map(function(e){return n.getTextWidth(e)}).reduce(function(e,t){return Math.max(e,t)},0)},t.addTableBorder=function(e,t,r,s){var a=t.settings.tableLineWidth,i=t.settings.tableLineColor;e.applyStyles({lineWidth:a,lineColor:i});var o=n(a,!1);o&&e.rect(r.x,r.y,t.getWidth(e.pageSize().width),s.y-r.y,o)},t.getFillStyle=n,t.parseSpacing=r,t.getPageAvailableWidth=function(e,t){var n=r(t.settings.margin,0);return e.pageSize().width-(n.left+n.right)}},796:function(e,t){var n=this&&this.__extends||function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};return function(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(t,"__esModule",{value:!0}),t.getTheme=t.defaultStyles=t.HtmlRowInput=void 0;var r=function(e){function t(t){var n=e.call(this)||this;return n._element=t,n}return n(t,e),t}(Array);t.HtmlRowInput=r,t.defaultStyles=function(e){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/e,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}},t.getTheme=function(e){return{striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}}[e]}},903:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseCss=void 0;var r=n(420);function s(e,t){var n=a(e,t);if(!n)return null;var r=n.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!r||!Array.isArray(r))return null;var s=[parseInt(r[1]),parseInt(r[2]),parseInt(r[3])];return 0===parseInt(r[4])||isNaN(s[0])||isNaN(s[1])||isNaN(s[2])?null:s}function a(e,t){var n=t(e);return"rgba(0, 0, 0, 0)"===n||"transparent"===n||"initial"===n||"inherit"===n?null==e.parentElement?null:a(e.parentElement,t):n}t.parseCss=function(e,t,n,a,i){var o={},l=96/72,c=s(t,function(e){return i.getComputedStyle(e).backgroundColor});null!=c&&(o.fillColor=c);var d=s(t,function(e){return i.getComputedStyle(e).color});null!=d&&(o.textColor=d);var u=function(e,t){var n=[e.paddingTop,e.paddingRight,e.paddingBottom,e.paddingLeft],s=96/(72/t),a=(parseInt(e.lineHeight)-parseInt(e.fontSize))/t/2,i=n.map(function(e){return parseInt(e||"0")/s}),o=(0,r.parseSpacing)(i,0);return a>o.top&&(o.top=a),a>o.bottom&&(o.bottom=a),o}(a,n);u&&(o.cellPadding=u);var h="borderTopColor",A=l*n,f=a.borderTopWidth;if(a.borderBottomWidth===f&&a.borderRightWidth===f&&a.borderLeftWidth===f){var m=(parseFloat(f)||0)/A;m&&(o.lineWidth=m)}else o.lineWidth={top:(parseFloat(a.borderTopWidth)||0)/A,right:(parseFloat(a.borderRightWidth)||0)/A,bottom:(parseFloat(a.borderBottomWidth)||0)/A,left:(parseFloat(a.borderLeftWidth)||0)/A},o.lineWidth.top||(o.lineWidth.right?h="borderRightColor":o.lineWidth.bottom?h="borderBottomColor":o.lineWidth.left&&(h="borderLeftColor"));var p=s(t,function(e){return i.getComputedStyle(e)[h]});null!=p&&(o.lineColor=p);var g=["left","right","center","justify"];-1!==g.indexOf(a.textAlign)&&(o.halign=a.textAlign),-1!==(g=["middle","bottom","top"]).indexOf(a.verticalAlign)&&(o.valign=a.verticalAlign);var x=parseInt(a.fontSize||"");isNaN(x)||(o.fontSize=x/l);var b=function(e){var t="";return("bold"===e.fontWeight||"bolder"===e.fontWeight||parseInt(e.fontWeight)>=700)&&(t="bold"),"italic"!==e.fontStyle&&"oblique"!==e.fontStyle||(t+="italic"),t}(a);b&&(o.fontStyle=b);var y=(a.fontFamily||"").toLowerCase();return-1!==e.indexOf(y)&&(o.font=y),o}},744:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.DocHandler=void 0;var n={},r=function(){function e(e){this.jsPDFDocument=e,this.userStyles={textColor:e.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:e.internal.getFontSize(),fontStyle:e.internal.getFont().fontStyle,font:e.internal.getFont().fontName,lineWidth:e.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:e.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return e.setDefaults=function(e,t){void 0===t&&(t=null),t?t.__autoTableDocumentDefaults=e:n=e},e.unifyColor=function(e){return Array.isArray(e)?e:"number"===typeof e?[e,e,e]:"string"===typeof e?[e]:null},e.prototype.applyStyles=function(t,n){var r,s,a;void 0===n&&(n=!1),t.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(t.fontStyle);var i=this.jsPDFDocument.internal.getFont(),o=i.fontStyle,l=i.fontName;if(t.font&&(l=t.font),t.fontStyle){o=t.fontStyle;var c=this.getFontList()[l];c&&-1===c.indexOf(o)&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(c[0]),o=c[0])}if(this.jsPDFDocument.setFont(l,o),t.fontSize&&this.jsPDFDocument.setFontSize(t.fontSize),!n){var d=e.unifyColor(t.fillColor);d&&(r=this.jsPDFDocument).setFillColor.apply(r,d),(d=e.unifyColor(t.textColor))&&(s=this.jsPDFDocument).setTextColor.apply(s,d),(d=e.unifyColor(t.lineColor))&&(a=this.jsPDFDocument).setDrawColor.apply(a,d),"number"===typeof t.lineWidth&&this.jsPDFDocument.setLineWidth(t.lineWidth)}},e.prototype.splitTextToSize=function(e,t,n){return this.jsPDFDocument.splitTextToSize(e,t,n)},e.prototype.rect=function(e,t,n,r,s){return this.jsPDFDocument.rect(e,t,n,r,s)},e.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},e.prototype.getTextWidth=function(e){return this.jsPDFDocument.getTextWidth(e)},e.prototype.getDocument=function(){return this.jsPDFDocument},e.prototype.setPage=function(e){this.jsPDFDocument.setPage(e)},e.prototype.addPage=function(){return this.jsPDFDocument.addPage()},e.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},e.prototype.getGlobalOptions=function(){return n||{}},e.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},e.prototype.pageSize=function(){var e=this.jsPDFDocument.internal.pageSize;return null==e.width&&(e={width:e.getWidth(),height:e.getHeight()}),e},e.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},e.prototype.getLineHeightFactor=function(){var e=this.jsPDFDocument;return e.getLineHeightFactor?e.getLineHeightFactor():1.15},e.prototype.getLineHeight=function(e){return e/this.scaleFactor()*this.getLineHeightFactor()},e.prototype.pageNumber=function(){var e=this.jsPDFDocument.internal.getCurrentPageInfo();return e?e.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},e}();t.DocHandler=r},4:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseHtml=void 0;var r=n(903),s=n(796);function a(e,t,n,a,o,l){for(var c=new s.HtmlRowInput(a),d=0;d<a.cells.length;d++){var u=a.cells[d],h=n.getComputedStyle(u);if(o||"none"!==h.display){var A=void 0;l&&(A=(0,r.parseCss)(e,u,t,h,n)),c.push({rowSpan:u.rowSpan,colSpan:u.colSpan,styles:A,_element:u,content:i(u)})}}var f=n.getComputedStyle(a);if(c.length>0&&(o||"none"!==f.display))return c}function i(e){var t=e.cloneNode(!0);return t.innerHTML=t.innerHTML.replace(/\n/g,"").replace(/ +/g," "),t.innerHTML=t.innerHTML.split(/<br.*?>/).map(function(e){return e.trim()}).join("\n"),t.innerText||t.textContent||""}t.parseHtml=function(e,t,n,r,s){var i,o,l;void 0===r&&(r=!1),void 0===s&&(s=!1),l="string"===typeof t?n.document.querySelector(t):t;var c=Object.keys(e.getFontList()),d=e.scaleFactor(),u=[],h=[],A=[];if(!l)return console.error("Html table could not be found with input: ",t),{head:u,body:h,foot:A};for(var f=0;f<l.rows.length;f++){var m=l.rows[f],p=null===(o=null===(i=null===m||void 0===m?void 0:m.parentElement)||void 0===i?void 0:i.tagName)||void 0===o?void 0:o.toLowerCase(),g=a(c,d,n,m,r,s);g&&("thead"===p?u.push(g):"tfoot"===p?A.push(g):h.push(g))}return{head:u,body:h,foot:A}}},776:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.parseInput=void 0;var r=n(4),s=n(356),a=n(420),i=n(744),o=n(792);t.parseInput=function(e,t){var n=new i.DocHandler(e),l=n.getDocumentOptions(),c=n.getGlobalOptions();(0,o.default)(n,c,l,t);var d,u=(0,s.assign)({},c,l,t);"undefined"!==typeof window&&(d=window);var h=function(e,t,n){for(var r={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},a=function(a){if("columnStyles"===a){var i=e[a],o=t[a],l=n[a];r.columnStyles=(0,s.assign)({},i,o,l)}else{var c=[e,t,n].map(function(e){return e[a]||{}});r[a]=(0,s.assign)({},c[0],c[1],c[2])}},i=0,o=Object.keys(r);i<o.length;i++)a(o[i]);return r}(c,l,t),A=function(e,t,n){for(var r={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},s=0,a=[e,t,n];s<a.length;s++){var i=a[s];i.didParseCell&&r.didParseCell.push(i.didParseCell),i.willDrawCell&&r.willDrawCell.push(i.willDrawCell),i.didDrawCell&&r.didDrawCell.push(i.didDrawCell),i.willDrawPage&&r.willDrawPage.push(i.willDrawPage),i.didDrawPage&&r.didDrawPage.push(i.didDrawPage)}return r}(c,l,t),f=function(e,t){var n,r,s,i,o,l,c,d,u,h,A,f,m,p,g=(0,a.parseSpacing)(t.margin,40/e.scaleFactor()),x=null!==(n=function(e,t){var n=e.getLastAutoTable(),r=e.scaleFactor(),s=e.pageNumber(),a=!1;return n&&n.startPageNumber&&(a=n.startPageNumber+n.pageNumber-1===s),"number"===typeof t?t:null!=t&&!1!==t||!a||null==(null===n||void 0===n?void 0:n.finalY)?null:n.finalY+20/r}(e,t.startY))&&void 0!==n?n:g.top;m=!0===t.showFoot?"everyPage":!1===t.showFoot?"never":null!==(r=t.showFoot)&&void 0!==r?r:"everyPage",p=!0===t.showHead?"everyPage":!1===t.showHead?"never":null!==(s=t.showHead)&&void 0!==s?s:"everyPage";var b=null!==(i=t.useCss)&&void 0!==i&&i,y=t.theme||(b?"plain":"striped"),v=!!t.horizontalPageBreak,w=null!==(o=t.horizontalPageBreakRepeat)&&void 0!==o?o:null;return{includeHiddenHtml:null!==(l=t.includeHiddenHtml)&&void 0!==l&&l,useCss:b,theme:y,startY:x,margin:g,pageBreak:null!==(c=t.pageBreak)&&void 0!==c?c:"auto",rowPageBreak:null!==(d=t.rowPageBreak)&&void 0!==d?d:"auto",tableWidth:null!==(u=t.tableWidth)&&void 0!==u?u:"auto",showHead:p,showFoot:m,tableLineWidth:null!==(h=t.tableLineWidth)&&void 0!==h?h:0,tableLineColor:null!==(A=t.tableLineColor)&&void 0!==A?A:200,horizontalPageBreak:v,horizontalPageBreakRepeat:w,horizontalPageBreakBehaviour:null!==(f=t.horizontalPageBreakBehaviour)&&void 0!==f?f:"afterAllRows"}}(n,u),m=function(e,t,n){var s=t.head||[],a=t.body||[],i=t.foot||[];if(t.html){var o=t.includeHiddenHtml;if(n){var l=(0,r.parseHtml)(e,t.html,n,o,t.useCss)||{};s=l.head||s,a=l.body||s,i=l.foot||s}else console.error("Cannot parse html in non browser environment")}var c=t.columns||function(e,t,n){var r=e[0]||t[0]||n[0]||[],s=[];return Object.keys(r).filter(function(e){return"_element"!==e}).forEach(function(e){var t,n=1;"object"!==typeof(t=Array.isArray(r)?r[parseInt(e)]:r[e])||Array.isArray(t)||(n=(null===t||void 0===t?void 0:t.colSpan)||1);for(var a=0;a<n;a++){var i={dataKey:Array.isArray(r)?s.length:e+(a>0?"_".concat(a):"")};s.push(i)}}),s}(s,a,i);return{columns:c,head:s,body:a,foot:i}}(n,u,d);return{id:t.tableId,content:m,hooks:A,styles:h,settings:f}}},792:function(e,t){function n(e){e.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),e.minCellHeight||(e.minCellHeight=e.rowHeight)):e.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),e.cellWidth||(e.cellWidth=e.columnWidth))}Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,r,s){for(var a=function(t){t&&"object"!==typeof t&&console.error("The options parameter should be of type object, is: "+typeof t),"undefined"!==typeof t.extendWidth&&(t.tableWidth=t.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),"undefined"!==typeof t.margins&&("undefined"===typeof t.margin&&(t.margin=t.margins),console.error("Use of deprecated option: margins, use margin instead.")),t.startY&&"number"!==typeof t.startY&&(console.error("Invalid value for startY option",t.startY),delete t.startY),!t.didDrawPage&&(t.afterPageContent||t.beforePageContent||t.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),t.didDrawPage=function(n){e.applyStyles(e.userStyles),t.beforePageContent&&t.beforePageContent(n),e.applyStyles(e.userStyles),t.afterPageContent&&t.afterPageContent(n),e.applyStyles(e.userStyles),t.afterPageAdd&&n.pageNumber>1&&n.afterPageAdd(n),e.applyStyles(e.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(e){t[e]&&console.error('The "'.concat(e,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(e){var n=e[0],r=e[1];t[r]&&(console.error("Use of deprecated option ".concat(r,". Use ").concat(n," instead")),t[n]=t[r])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(e){var n="string"===typeof e?e:e[0],r="string"===typeof e?e:e[1];"undefined"!==typeof t[n]&&("undefined"===typeof t.styles[r]&&(t.styles[r]=t[n]),console.error("Use of deprecated option: "+n+", use the style "+r+" instead."))});for(var r=0,s=["styles","bodyStyles","headStyles","footStyles"];r<s.length;r++)n(t[s[r]]||{});for(var a=t.columnStyles||{},i=0,o=Object.keys(a);i<o.length;i++)n(a[o[i]]||{})},i=0,o=[t,r,s];i<o.length;i++)a(o[i])}},260:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.Column=t.Cell=t.Row=t.Table=void 0;var r=n(796),s=n(172),a=n(420),i=function(){function e(e,t){this.pageNumber=1,this.pageCount=1,this.id=e.id,this.settings=e.settings,this.styles=e.styles,this.hooks=e.hooks,this.columns=t.columns,this.head=t.head,this.body=t.body,this.foot=t.foot}return e.prototype.getHeadHeight=function(e){return this.head.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.getFootHeight=function(e){return this.foot.reduce(function(t,n){return t+n.getMaxCellHeight(e)},0)},e.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},e.prototype.callCellHooks=function(e,t,n,r,a,i){for(var o=0,l=t;o<l.length;o++){var c=!1===(0,l[o])(new s.CellHookData(e,this,n,r,a,i));if(n.text=Array.isArray(n.text)?n.text:[n.text],c)return!1}return!0},e.prototype.callEndPageHooks=function(e,t){e.applyStyles(e.userStyles);for(var n=0,r=this.hooks.didDrawPage;n<r.length;n++)(0,r[n])(new s.HookData(e,this,t))},e.prototype.callWillDrawPageHooks=function(e,t){for(var n=0,r=this.hooks.willDrawPage;n<r.length;n++)(0,r[n])(new s.HookData(e,this,t))},e.prototype.getWidth=function(e){if("number"===typeof this.settings.tableWidth)return this.settings.tableWidth;if("wrap"===this.settings.tableWidth)return this.columns.reduce(function(e,t){return e+t.wrappedWidth},0);var t=this.settings.margin;return e-t.left-t.right},e}();t.Table=i;var o=function(){function e(e,t,n,s,a){void 0===a&&(a=!1),this.height=0,this.raw=e,e instanceof r.HtmlRowInput&&(this.raw=e._element,this.element=e._element),this.index=t,this.section=n,this.cells=s,this.spansMultiplePages=a}return e.prototype.getMaxCellHeight=function(e){var t=this;return e.reduce(function(e,n){var r;return Math.max(e,(null===(r=t.cells[n.index])||void 0===r?void 0:r.height)||0)},0)},e.prototype.hasRowSpan=function(e){var t=this;return e.filter(function(e){var n=t.cells[e.index];return!!n&&n.rowSpan>1}).length>0},e.prototype.canEntireRowFit=function(e,t){return this.getMaxCellHeight(t)<=e},e.prototype.getMinimumRowHeight=function(e,t){var n=this;return e.reduce(function(e,r){var s=n.cells[r.index];if(!s)return 0;var a=t.getLineHeight(s.styles.fontSize),i=s.padding("vertical")+a;return i>e?i:e},0)},e}();t.Row=o;var l=function(){function e(e,t,n){var r,s;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=t,this.section=n,this.raw=e;var a=e;null==e||"object"!==typeof e||Array.isArray(e)?(this.rowSpan=1,this.colSpan=1):(this.rowSpan=e.rowSpan||1,this.colSpan=e.colSpan||1,a=null!==(s=null!==(r=e.content)&&void 0!==r?r:e.title)&&void 0!==s?s:e,e._element&&(this.raw=e._element));var i=null!=a?""+a:"";this.text=i.split(/\r\n|\r|\n/g)}return e.prototype.getTextPos=function(){var e,t;if("top"===this.styles.valign)e=this.y+this.padding("top");else if("bottom"===this.styles.valign)e=this.y+this.height-this.padding("bottom");else{var n=this.height-this.padding("vertical");e=this.y+n/2+this.padding("top")}if("right"===this.styles.halign)t=this.x+this.width-this.padding("right");else if("center"===this.styles.halign){var r=this.width-this.padding("horizontal");t=this.x+r/2+this.padding("left")}else t=this.x+this.padding("left");return{x:t,y:e}},e.prototype.getContentHeight=function(e,t){void 0===t&&(t=1.15);var n=(Array.isArray(this.text)?this.text.length:1)*(this.styles.fontSize/e*t)+this.padding("vertical");return Math.max(n,this.styles.minCellHeight)},e.prototype.padding=function(e){var t=(0,a.parseSpacing)(this.styles.cellPadding,0);return"vertical"===e?t.top+t.bottom:"horizontal"===e?t.left+t.right:t[e]},e}();t.Cell=l;var c=function(){function e(e,t,n){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=e,this.raw=t,this.index=n}return e.prototype.getMaxCustomCellWidth=function(e){for(var t=0,n=0,r=e.allRows();n<r.length;n++){var s=r[n].cells[this.index];s&&"number"===typeof s.styles.cellWidth&&(t=Math.max(t,s.styles.cellWidth))}return t},e}();t.Column=c},356:function(e,t){Object.defineProperty(t,"__esModule",{value:!0}),t.assign=void 0,t.assign=function(e,t,n,r,s){if(null==e)throw new TypeError("Cannot convert undefined or null to object");for(var a=Object(e),i=1;i<arguments.length;i++){var o=arguments[i];if(null!=o)for(var l in o)Object.prototype.hasOwnProperty.call(o,l)&&(a[l]=o[l])}return a}},972:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.createTable=void 0;var r=n(744),s=n(260),a=n(324),i=n(796),o=n(356);function l(e,t,n,r,a,i){var o={};return t.map(function(t,l){for(var c=0,u={},h=0,A=0,f=0,m=n;f<m.length;f++){var p=m[f];if(null==o[p.index]||0===o[p.index].left)if(0===A){var g=void 0,x={};"object"!==typeof(g=Array.isArray(t)?t[p.index-h-c]:t[p.dataKey])||Array.isArray(g)||(x=(null===g||void 0===g?void 0:g.styles)||{});var b=d(e,p,l,a,r,i,x),y=new s.Cell(g,b,e);u[p.dataKey]=y,u[p.index]=y,A=y.colSpan-1,o[p.index]={left:y.rowSpan-1,times:A}}else A--,h++;else o[p.index].left--,A=o[p.index].times,c++}return new s.Row(t,l,e,u)})}function c(e,t){var n={};return e.forEach(function(e){if(null!=e.raw){var r=function(e,t){if("head"===e){if("object"===typeof t)return t.header||t.title||null;if("string"===typeof t||"number"===typeof t)return t}else if("foot"===e&&"object"===typeof t)return t.footer;return null}(t,e.raw);null!=r&&(n[e.dataKey]=r)}}),Object.keys(n).length>0?n:null}function d(e,t,n,r,s,a,l){var c,d=(0,i.getTheme)(r);"head"===e?c=s.headStyles:"body"===e?c=s.bodyStyles:"foot"===e&&(c=s.footStyles);var u=(0,o.assign)({},d.table,d[e],s.styles,c),h=s.columnStyles[t.dataKey]||s.columnStyles[t.index]||{},A="body"===e?h:{},f="body"===e&&n%2===0?(0,o.assign)({},d.alternateRow,s.alternateRowStyles):{},m=(0,i.defaultStyles)(a),p=(0,o.assign)({},m,u,f,A);return(0,o.assign)(p,l)}t.createTable=function(e,t){var n=new r.DocHandler(e),i=function(e,t){var n,r=e.content,a=function(e){return e.map(function(e,t){var n,r,a;return a="object"===typeof e&&null!==(r=null!==(n=e.dataKey)&&void 0!==n?n:e.key)&&void 0!==r?r:t,new s.Column(a,e,t)})}(r.columns);(0===r.head.length&&(n=c(a,"head"))&&r.head.push(n),0===r.foot.length)&&((n=c(a,"foot"))&&r.foot.push(n));var i=e.settings.theme,o=e.styles;return{columns:a,head:l("head",r.head,a,o,i,t),body:l("body",r.body,a,o,i,t),foot:l("foot",r.foot,a,o,i,t)}}(t,n.scaleFactor()),o=new s.Table(t,i);return(0,a.calculateWidths)(n,o),n.applyStyles(n.userStyles),o}},664:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.addPage=t.drawTable=void 0;var r=n(420),s=n(260),a=n(744),i=n(356),o=n(136),l=n(224);function c(e,t,n,r){var s=t.settings;e.applyStyles(e.userStyles),"firstPage"!==s.showHead&&"everyPage"!==s.showHead||t.head.forEach(function(s){return f(e,t,s,n,r)})}function d(e,t,n,r,s,a){e.applyStyles(e.userStyles),a=null!==a&&void 0!==a?a:t.body.length;var i=Math.min(n+a,t.body.length),o=-1;return t.body.slice(n,i).forEach(function(a,i){var l=n+i===t.body.length-1,c=p(e,t,l,r);a.canEntireRowFit(c,s)&&(f(e,t,a,r,s),o=n+i)}),o}function u(e,t,n,r){var s=t.settings;e.applyStyles(e.userStyles),"lastPage"!==s.showFoot&&"everyPage"!==s.showFoot||t.foot.forEach(function(s){return f(e,t,s,n,r)})}function h(e,t,n){var r=n.getLineHeight(e.styles.fontSize),s=e.padding("vertical"),a=Math.floor((t-s)/r);return Math.max(0,a)}function A(e,t,n,r,a,o,l){var c=p(e,t,r,o);if(n.canEntireRowFit(c,l))f(e,t,n,o,l);else if(function(e,t,n,r){var s=e.pageSize().height,a=r.settings.margin,i=s-(a.top+a.bottom);"body"===t.section&&(i-=r.getHeadHeight(r.columns)+r.getFootHeight(r.columns));var o=t.getMinimumRowHeight(r.columns,e),l=o<n;if(o>i)return console.error("Will not be able to print row ".concat(t.index," correctly since it's minimum height is larger than page height")),!0;if(!l)return!1;var c=t.hasRowSpan(r.columns);return t.getMaxCellHeight(r.columns)>i?(c&&console.error("The content of row ".concat(t.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!c&&"avoid"!==r.settings.rowPageBreak}(e,n,c,t)){var d=function(e,t,n,r){var a={};e.spansMultiplePages=!0,e.height=0;for(var o=0,l=0,c=n.columns;l<c.length;l++){var d=c[l];if(b=e.cells[d.index]){Array.isArray(b.text)||(b.text=[b.text]);var u=new s.Cell(b.raw,b.styles,b.section);(u=(0,i.assign)(u,b)).text=[];var A=h(b,t,r);b.text.length>A&&(u.text=b.text.splice(A,b.text.length));var f=r.scaleFactor(),m=r.getLineHeightFactor();b.contentHeight=b.getContentHeight(f,m),b.contentHeight>=t&&(b.contentHeight=t,u.styles.minCellHeight-=t),b.contentHeight>e.height&&(e.height=b.contentHeight),u.contentHeight=u.getContentHeight(f,m),u.contentHeight>o&&(o=u.contentHeight),a[d.index]=u}}var p=new s.Row(e.raw,-1,e.section,a,!0);p.height=o;for(var g=0,x=n.columns;g<x.length;g++){var b;d=x[g],(u=p.cells[d.index])&&(u.height=p.height),(b=e.cells[d.index])&&(b.height=e.height)}return p}(n,c,t,e);f(e,t,n,o,l),g(e,t,a,o,l),A(e,t,d,r,a,o,l)}else g(e,t,a,o,l),A(e,t,n,r,a,o,l)}function f(e,t,n,r,s){r.x=t.settings.margin.left;for(var a=0,i=s;a<i.length;a++){var l=i[a],c=n.cells[l.index];if(c)if(e.applyStyles(c.styles),c.x=r.x,c.y=r.y,!1!==t.callCellHooks(e,t.hooks.willDrawCell,c,n,l,r)){m(e,c,r);var d=c.getTextPos();(0,o.default)(c.text,d.x,d.y,{halign:c.styles.halign,valign:c.styles.valign,maxWidth:Math.ceil(c.width-c.padding("left")-c.padding("right"))},e.getDocument()),t.callCellHooks(e,t.hooks.didDrawCell,c,n,l,r),r.x+=l.width}else r.x+=l.width;else r.x+=l.width}r.y+=n.height}function m(e,t,n){var s=t.styles;if(e.getDocument().setFillColor(e.getDocument().getFillColor()),"number"===typeof s.lineWidth){var a=(0,r.getFillStyle)(s.lineWidth,s.fillColor);a&&e.rect(t.x,n.y,t.width,t.height,a)}else"object"===typeof s.lineWidth&&(s.fillColor&&e.rect(t.x,n.y,t.width,t.height,"F"),function(e,t,n,r){var s,a,i,o;function l(t,n,r,s,a){e.getDocument().setLineWidth(t),e.getDocument().line(n,r,s,a,"S")}r.top&&(s=n.x,a=n.y,i=n.x+t.width,o=n.y,r.right&&(i+=.5*r.right),r.left&&(s-=.5*r.left),l(r.top,s,a,i,o)),r.bottom&&(s=n.x,a=n.y+t.height,i=n.x+t.width,o=n.y+t.height,r.right&&(i+=.5*r.right),r.left&&(s-=.5*r.left),l(r.bottom,s,a,i,o)),r.left&&(s=n.x,a=n.y,i=n.x,o=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.left,s,a,i,o)),r.right&&(s=n.x+t.width,a=n.y,i=n.x+t.width,o=n.y+t.height,r.top&&(a-=.5*r.top),r.bottom&&(o+=.5*r.bottom),l(r.right,s,a,i,o))}(e,t,n,s.lineWidth))}function p(e,t,n,r){var s=t.settings.margin.bottom,a=t.settings.showFoot;return("everyPage"===a||"lastPage"===a&&n)&&(s+=t.getFootHeight(t.columns)),e.pageSize().height-r.y-s}function g(e,t,n,s,a,i){void 0===a&&(a=[]),void 0===i&&(i=!1),e.applyStyles(e.userStyles),"everyPage"!==t.settings.showFoot||i||t.foot.forEach(function(n){return f(e,t,n,s,a)}),t.callEndPageHooks(e,s);var o=t.settings.margin;(0,r.addTableBorder)(e,t,n,s),x(e),t.pageNumber++,t.pageCount++,s.x=o.left,s.y=o.top,n.y=o.top,t.callWillDrawPageHooks(e,s),"everyPage"===t.settings.showHead&&(t.head.forEach(function(n){return f(e,t,n,s,a)}),e.applyStyles(e.userStyles))}function x(e){var t=e.pageNumber();return e.setPage(t+1),e.pageNumber()===t&&(e.addPage(),!0)}t.drawTable=function(e,t){var n=t.settings,s=n.startY,o=n.margin,h={x:o.left,y:s},m=t.getHeadHeight(t.columns)+t.getFootHeight(t.columns),p=s+o.bottom+m;"avoid"===n.pageBreak&&(p+=t.body.reduce(function(e,t){return e+t.height},0));var b=new a.DocHandler(e);("always"===n.pageBreak||null!=n.startY&&p>b.pageSize().height)&&(x(b),h.y=o.top),t.callWillDrawPageHooks(b,h);var y=(0,i.assign)({},h);t.startPageNumber=b.pageNumber(),n.horizontalPageBreak?function(e,t,n,r){var s=(0,l.calculateAllColumnsCanFitInPage)(e,t),a=t.settings;if("afterAllRows"===a.horizontalPageBreakBehaviour)s.forEach(function(s,a){e.applyStyles(e.userStyles),a>0?g(e,t,n,r,s.columns,!0):c(e,t,r,s.columns),function(e,t,n,r,s){e.applyStyles(e.userStyles),t.body.forEach(function(a,i){var o=i===t.body.length-1;A(e,t,a,o,n,r,s)})}(e,t,n,r,s.columns),u(e,t,r,s.columns)});else for(var i=-1,o=s[0],h=function(){var a=i;if(o){e.applyStyles(e.userStyles);var l=o.columns;i>=0?g(e,t,n,r,l,!0):c(e,t,r,l),a=d(e,t,i+1,r,l),u(e,t,r,l)}var h=a-i;s.slice(1).forEach(function(s){e.applyStyles(e.userStyles),g(e,t,n,r,s.columns,!0),d(e,t,i+1,r,s.columns,h),u(e,t,r,s.columns)}),i=a};i<t.body.length-1;)h()}(b,t,y,h):(b.applyStyles(b.userStyles),"firstPage"!==n.showHead&&"everyPage"!==n.showHead||t.head.forEach(function(e){return f(b,t,e,h,t.columns)}),b.applyStyles(b.userStyles),t.body.forEach(function(e,n){var r=n===t.body.length-1;A(b,t,e,r,y,h,t.columns)}),b.applyStyles(b.userStyles),"lastPage"!==n.showFoot&&"everyPage"!==n.showFoot||t.foot.forEach(function(e){return f(b,t,e,h,t.columns)})),(0,r.addTableBorder)(b,t,y,h),t.callEndPageHooks(b,h),t.finalY=h.y,e.lastAutoTable=t,e.previousAutoTable=t,e.autoTable&&(e.autoTable.previous=t),b.applyStyles(b.userStyles)},t.addPage=g},224:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.calculateAllColumnsCanFitInPage=void 0;var r=n(420);function s(e,t,n){var s;void 0===n&&(n={});var a=(0,r.getPageAvailableWidth)(e,t),i=new Map,o=[],l=[],c=[];t.settings.horizontalPageBreakRepeat,Array.isArray(t.settings.horizontalPageBreakRepeat)?c=t.settings.horizontalPageBreakRepeat:"string"!==typeof t.settings.horizontalPageBreakRepeat&&"number"!==typeof t.settings.horizontalPageBreakRepeat||(c=[t.settings.horizontalPageBreakRepeat]),c.forEach(function(e){var n=t.columns.find(function(t){return t.dataKey===e||t.index===e});n&&!i.has(n.index)&&(i.set(n.index,!0),o.push(n.index),l.push(t.columns[n.index]),a-=n.wrappedWidth)});for(var d=!0,u=null!==(s=null===n||void 0===n?void 0:n.start)&&void 0!==s?s:0;u<t.columns.length;)if(i.has(u))u++;else{var h=t.columns[u].wrappedWidth;if(!(d||a>=h))break;d=!1,o.push(u),l.push(t.columns[u]),a-=h,u++}return{colIndexes:o,columns:l,lastIndex:u-1}}t.calculateAllColumnsCanFitInPage=function(e,t){for(var n=[],r=0;r<t.columns.length;r++){var a=s(e,t,{start:r});a.columns.length&&(n.push(a),r=a.lastIndex)}return n}},324:function(e,t,n){Object.defineProperty(t,"__esModule",{value:!0}),t.ellipsize=t.resizeColumns=t.calculateWidths=void 0;var r=n(420);function s(e,t,n){for(var r=t,a=e.reduce(function(e,t){return e+t.wrappedWidth},0),i=0;i<e.length;i++){var o=e[i],l=r*(o.wrappedWidth/a),c=o.width+l,d=n(o),u=c<d?d:c;t-=u-o.width,o.width=u}if(t=Math.round(1e10*t)/1e10){var h=e.filter(function(e){return!(t<0)||e.width>n(e)});h.length&&(t=s(h,t,n))}return t}function a(e,t,n,s,a){return e.map(function(e){return function(e,t,n,s,a){var i=1e4*s.scaleFactor();if((t=Math.ceil(t*i)/i)>=(0,r.getStringWidth)(e,n,s))return e;for(;t<(0,r.getStringWidth)(e+a,n,s)&&!(e.length<=1);)e=e.substring(0,e.length-1);return e.trim()+a}(e,t,n,s,a)})}t.calculateWidths=function(e,t){!function(e,t){var n=e.scaleFactor(),s=t.settings.horizontalPageBreak,a=(0,r.getPageAvailableWidth)(e,t);t.allRows().forEach(function(i){for(var o=0,l=t.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){var u=t.hooks.didParseCell;t.callCellHooks(e,u,d,i,c,null);var h=d.padding("horizontal");d.contentWidth=(0,r.getStringWidth)(d.text,d.styles,e)+h;var A=(0,r.getStringWidth)(d.text.join(" ").split(/[^\S\u00A0]+/),d.styles,e);if(d.minReadableWidth=A+d.padding("horizontal"),"number"===typeof d.styles.cellWidth)d.minWidth=d.styles.cellWidth,d.wrappedWidth=d.styles.cellWidth;else if("wrap"===d.styles.cellWidth||!0===s)d.contentWidth>a?(d.minWidth=a,d.wrappedWidth=a):(d.minWidth=d.contentWidth,d.wrappedWidth=d.contentWidth);else{var f=10/n;d.minWidth=d.styles.minCellWidth||f,d.wrappedWidth=d.contentWidth,d.minWidth>d.wrappedWidth&&(d.wrappedWidth=d.minWidth)}}}}),t.allRows().forEach(function(e){for(var n=0,r=t.columns;n<r.length;n++){var s=r[n],a=e.cells[s.index];if(a&&1===a.colSpan)s.wrappedWidth=Math.max(s.wrappedWidth,a.wrappedWidth),s.minWidth=Math.max(s.minWidth,a.minWidth),s.minReadableWidth=Math.max(s.minReadableWidth,a.minReadableWidth);else{var i=t.styles.columnStyles[s.dataKey]||t.styles.columnStyles[s.index]||{},o=i.cellWidth||i.minCellWidth;o&&"number"===typeof o&&(s.minWidth=o,s.wrappedWidth=o)}a&&(a.colSpan>1&&!s.minWidth&&(s.minWidth=a.minWidth),a.colSpan>1&&!s.wrappedWidth&&(s.wrappedWidth=a.minWidth))}})}(e,t);var n=[],i=0;t.columns.forEach(function(e){var r=e.getMaxCustomCellWidth(t);r?e.width=r:(e.width=e.wrappedWidth,n.push(e)),i+=e.width});var o=t.getWidth(e.pageSize().width)-i;o&&(o=s(n,o,function(e){return Math.max(e.minReadableWidth,e.minWidth)})),o&&(o=s(n,o,function(e){return e.minWidth})),o=Math.abs(o),!t.settings.horizontalPageBreak&&o>.1/e.scaleFactor()&&(o=o<1?o:Math.round(o),console.warn("Of the table content, ".concat(o," units width could not fit page"))),function(e){for(var t=e.allRows(),n=0;n<t.length;n++)for(var r=t[n],s=null,a=0,i=0,o=0;o<e.columns.length;o++){var l=e.columns[o];if((i-=1)>1&&e.columns[o+1])a+=l.width,delete r.cells[l.index];else if(s){var c=s;delete r.cells[l.index],s=null,c.width=l.width+a}else{if(!(c=r.cells[l.index]))continue;if(i=c.colSpan,a=0,c.colSpan>1){s=c,a+=l.width;continue}c.width=l.width+a}}}(t),function(e,t){for(var n={count:0,height:0},r=0,s=e.allRows();r<s.length;r++){for(var i=s[r],o=0,l=e.columns;o<l.length;o++){var c=l[o],d=i.cells[c.index];if(d){t.applyStyles(d.styles,!0);var u=d.width-d.padding("horizontal");if("linebreak"===d.styles.overflow)d.text=t.splitTextToSize(d.text,u+1/t.scaleFactor(),{fontSize:d.styles.fontSize});else if("ellipsize"===d.styles.overflow)d.text=a(d.text,u,d.styles,t,"...");else if("hidden"===d.styles.overflow)d.text=a(d.text,u,d.styles,t,"");else if("function"===typeof d.styles.overflow){var h=d.styles.overflow(d.text,u);d.text="string"===typeof h?[h]:h}d.contentHeight=d.getContentHeight(t.scaleFactor(),t.getLineHeightFactor());var A=d.contentHeight/d.rowSpan;d.rowSpan>1&&n.count*n.height<A*d.rowSpan?n={height:A,count:d.rowSpan}:n&&n.count>0&&n.height>A&&(A=n.height),A>i.height&&(i.height=A)}}n.count--}}(t,e),function(e){for(var t={},n=1,r=e.allRows(),s=0;s<r.length;s++)for(var a=r[s],i=0,o=e.columns;i<o.length;i++){var l=o[i],c=t[l.index];if(n>1)n--,delete a.cells[l.index];else if(c)c.cell.height+=a.height,n=c.cell.colSpan,delete a.cells[l.index],c.left--,c.left<=1&&delete t[l.index];else{var d=a.cells[l.index];if(!d)continue;if(d.height=a.height,d.rowSpan>1){var u=r.length-s,h=d.rowSpan>u?u:d.rowSpan;t[l.index]={cell:d,left:h,row:a}}}}}(t)},t.resizeColumns=s,t.ellipsize=a},964:function(t){if("undefined"===typeof e){var n=new Error("Cannot find module 'undefined'");throw n.code="MODULE_NOT_FOUND",n}t.exports=e}},n={};function r(e){var s=n[e];if(void 0!==s)return s.exports;var a=n[e]={exports:{}};return t[e].call(a.exports,a,a.exports,r),a.exports}var s={};return function(){var e=s;Object.defineProperty(e,"__esModule",{value:!0}),e.Cell=e.Column=e.Row=e.Table=e.CellHookData=e.__drawTable=e.__createTable=e.applyPlugin=void 0;var t=r(340),n=r(776),a=r(664),i=r(972),o=r(260);Object.defineProperty(e,"Table",{enumerable:!0,get:function(){return o.Table}});var l=r(172);Object.defineProperty(e,"CellHookData",{enumerable:!0,get:function(){return l.CellHookData}});var c=r(260);function d(e){(0,t.default)(e)}Object.defineProperty(e,"Cell",{enumerable:!0,get:function(){return c.Cell}}),Object.defineProperty(e,"Column",{enumerable:!0,get:function(){return c.Column}}),Object.defineProperty(e,"Row",{enumerable:!0,get:function(){return c.Row}}),e.applyPlugin=d,e.__createTable=function(e,t){var r=(0,n.parseInput)(e,t);return(0,i.createTable)(e,r)},e.__drawTable=function(e,t){(0,a.drawTable)(e,t)};try{var u=r(964);u.jsPDF&&(u=u.jsPDF),d(u)}catch(h){}e.default=function(e,t){var r=(0,n.parseInput)(e,t),s=(0,i.createTable)(e,r);(0,a.drawTable)(e,s)}}(),s}()},e.exports=r(function(){try{return n(7762)}catch(e){}}())},579:(e,t,n)=>{"use strict";e.exports=n(1153)},617:(e,t,n)=>{"use strict";var r=n(5763),s=n(6283),a=n(2333),i=n(4923),o=n(9909),l=n(6143),c=n(9303),d=n(9384),u=n(8502),h=n(6882),A=n(4454),f=n(8516),m=n(7603),p=n(2002),g=n(2198),x=n(9690),b=n(4059),y=a.isOptionKeyCommand,v=l.isBrowser("Chrome");e.exports=function(e,t){var n=t.which,a=e._latestEditorState;function l(n){var r=e.props[n];return!!r&&(r(t),!0)}switch(n){case i.RETURN:if(t.preventDefault(),e.props.handleReturn&&c(e.props.handleReturn(t,a)))return;break;case i.ESC:if(t.preventDefault(),l("onEscape"))return;break;case i.TAB:if(l("onTab"))return;break;case i.UP:if(l("onUpArrow"))return;break;case i.RIGHT:if(l("onRightArrow"))return;break;case i.DOWN:if(l("onDownArrow"))return;break;case i.LEFT:if(l("onLeftArrow"))return;break;case i.SPACE:v&&y(t)&&t.preventDefault()}var w=e.props.keyBindingFn(t);if(null!=w&&""!==w)if("undo"!==w){if(t.preventDefault(),!e.props.handleKeyCommand||!c(e.props.handleKeyCommand(w,a,t.timeStamp))){var j=function(e,t,n){switch(e){case"redo":return s.redo(t);case"delete":return g(t);case"delete-word":return h(t);case"backspace":return p(t);case"backspace-word":return u(t);case"backspace-to-start-of-line":return d(t,n);case"split-block":return A(t);case"transpose-characters":return x(t);case"move-selection-to-start-of-block":return m(t);case"move-selection-to-end-of-block":return f(t);case"secondary-cut":return o.cut(t);case"secondary-paste":return o.paste(t);default:return t}}(w,a,t);j!==a&&e.update(j)}}else b(t,a,e.update);else if(n===i.SPACE&&v&&y(t)){var N=r.replaceText(a.getCurrentContent(),a.getSelection(),"\xa0");e.update(s.push(a,N,"insert-characters"))}}},636:(e,t,n)=>{"use strict";var r=n(7709);e.exports=function(e){var t=r(e);return{x:t.left,y:t.top,width:t.right-t.left,height:t.bottom-t.top}}},899:e=>{"use strict";var t=/([A-Z])/g;e.exports=function(e){return e.replace(t,"-$1").toLowerCase()}},947:e=>{"use strict";e.exports=function(e){var t=e||"",n=arguments.length;if(n>1)for(var r=1;r<n;r++){var s=arguments[r];s&&(t=(t?t+" ":"")+s)}return t}},978:e=>{"use strict";e.exports=function(e){return e&&e.ownerDocument&&e.ownerDocument.defaultView?e.ownerDocument.defaultView:window}},995:(e,t,n)=>{"use strict";var r,s=n(88),a=n(1320),i=n(8691),o=a.OrderedMap,l={getDirectionMap:function(e,t){r?r.reset():r=new s;var n=e.getBlockMap(),l=n.valueSeq().map(function(e){return i(r).getDirection(e.getText())}),c=o(n.keySeq().zip(l));return null!=t&&a.is(t,c)?t:c}};e.exports=l},1075:(e,t,n)=>{"use strict";var r=n(8167),s=n(899);function a(e){return null==e?e:String(e)}e.exports=function(e,t){var n;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return a(n.getPropertyValue(s(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return a(n.getPropertyValue(s(t)));if("display"===t)return"none"}return e.currentStyle?a("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):a(e.style&&e.style[r(t)])}},1144:(e,t,n)=>{"use strict";var r=n(5043),s=n(7904),a=(0,n(1320).Map)({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},section:{element:"section"},article:{element:"article"},"unordered-list-item":{element:"li",wrapper:r.createElement("ul",{className:s("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:r.createElement("ol",{className:s("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:r.createElement("pre",{className:s("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=a},1153:(e,t,n)=>{"use strict";var r=n(5043),s=Symbol.for("react.element"),a=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,d=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(d=t.ref),t)i.call(t,r)&&!l.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:s,type:e,key:c,ref:d,props:a,_owner:o.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},1275:e=>{"use strict";e.exports=function(e,t,n,r){var s=t.getStartKey(),a=t.getEndKey(),i=e.getBlockMap(),o=i.toSeq().skipUntil(function(e,t){return t===s}).takeUntil(function(e,t){return t===a}).concat([[a,i.get(a)]]).map(function(e){var t=e.getDepth()+n;return t=Math.max(0,Math.min(t,r)),e.set("depth",t)});return i=i.merge(o),e.merge({blockMap:i,selectionBefore:t,selectionAfter:t})}},1287:(e,t,n)=>{"use strict";var r=n(6559),s=n(306),a=n(1320).OrderedMap;e.exports=function(e){return e.first()instanceof r?function(e){var t,n={};return a(e.withMutations(function(e){e.forEach(function(r,a){var i=r.getKey(),o=r.getNextSiblingKey(),l=r.getPrevSiblingKey(),c=r.getChildKeys(),d=r.getParentKey(),u=s();if(n[i]=u,o&&(e.get(o)?e.setIn([o,"prevSibling"],u):e.setIn([i,"nextSibling"],null)),l&&(e.get(l)?e.setIn([l,"nextSibling"],u):e.setIn([i,"prevSibling"],null)),d&&e.get(d)){var h=e.get(d).getChildKeys();e.setIn([d,"children"],h.set(h.indexOf(r.getKey()),u))}else e.setIn([i,"parent"],null),t&&(e.setIn([t.getKey(),"nextSibling"],u),e.setIn([i,"prevSibling"],n[t.getKey()])),t=e.get(i);c.forEach(function(t){e.get(t)?e.setIn([t,"parent"],u):e.setIn([i,"children"],r.getChildKeys().filter(function(e){return e!==t}))})})}).toArray().map(function(e){return[n[e.getKey()],e.set("key",n[e.getKey()])]}))}(e):function(e){return a(e.toArray().map(function(e){var t=s();return[t,e.set("key",t)]}))}(e)}},1306:(e,t,n)=>{"use strict";var r=n(6415);e.exports=function(e,t){var n=[];return e.findEntityRanges(function(e){return e.getEntity()===t},function(e,t){n.push({start:e,end:t})}),n.length||r(!1),n}},1320:function(e){e.exports=function(){"use strict";var e=Array.prototype.slice;function t(e,t){t&&(e.prototype=Object.create(t.prototype)),e.prototype.constructor=e}function n(e){return i(e)?e:q(e)}function r(e){return o(e)?e:G(e)}function s(e){return l(e)?e:Y(e)}function a(e){return i(e)&&!c(e)?e:J(e)}function i(e){return!(!e||!e[u])}function o(e){return!(!e||!e[h])}function l(e){return!(!e||!e[A])}function c(e){return o(e)||l(e)}function d(e){return!(!e||!e[f])}t(r,n),t(s,n),t(a,n),n.isIterable=i,n.isKeyed=o,n.isIndexed=l,n.isAssociative=c,n.isOrdered=d,n.Keyed=r,n.Indexed=s,n.Set=a;var u="@@__IMMUTABLE_ITERABLE__@@",h="@@__IMMUTABLE_KEYED__@@",A="@@__IMMUTABLE_INDEXED__@@",f="@@__IMMUTABLE_ORDERED__@@",m="delete",p=5,g=1<<p,x=g-1,b={},y={value:!1},v={value:!1};function w(e){return e.value=!1,e}function j(e){e&&(e.value=!0)}function N(){}function _(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),s=0;s<n;s++)r[s]=e[s+t];return r}function C(e){return void 0===e.size&&(e.size=e.__iterate(k)),e.size}function S(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?C(e)+t:t}function k(){return!0}function B(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function E(e,t){return M(e,t,0)}function L(e,t){return M(e,t,t)}function M(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}var F=0,I=1,D=2,T="function"===typeof Symbol&&Symbol.iterator,O="@@iterator",P=T||O;function U(e){this.next=e}function R(e,t,n,r){var s=0===e?t:1===e?n:[t,n];return r?r.value=s:r={value:s,done:!1},r}function Q(){return{value:void 0,done:!0}}function z(e){return!!W(e)}function H(e){return e&&"function"===typeof e.next}function K(e){var t=W(e);return t&&t.call(e)}function W(e){var t=e&&(T&&e[T]||e[O]);if("function"===typeof t)return t}function V(e){return e&&"number"===typeof e.length}function q(e){return null===e||void 0===e?ie():i(e)?e.toSeq():ce(e)}function G(e){return null===e||void 0===e?ie().toKeyedSeq():i(e)?o(e)?e.toSeq():e.fromEntrySeq():oe(e)}function Y(e){return null===e||void 0===e?ie():i(e)?o(e)?e.entrySeq():e.toIndexedSeq():le(e)}function J(e){return(null===e||void 0===e?ie():i(e)?o(e)?e.entrySeq():e:le(e)).toSetSeq()}U.prototype.toString=function(){return"[Iterator]"},U.KEYS=F,U.VALUES=I,U.ENTRIES=D,U.prototype.inspect=U.prototype.toSource=function(){return this.toString()},U.prototype[P]=function(){return this},t(q,n),q.of=function(){return q(arguments)},q.prototype.toSeq=function(){return this},q.prototype.toString=function(){return this.__toString("Seq {","}")},q.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},q.prototype.__iterate=function(e,t){return ue(this,e,t,!0)},q.prototype.__iterator=function(e,t){return he(this,e,t,!0)},t(G,q),G.prototype.toKeyedSeq=function(){return this},t(Y,q),Y.of=function(){return Y(arguments)},Y.prototype.toIndexedSeq=function(){return this},Y.prototype.toString=function(){return this.__toString("Seq [","]")},Y.prototype.__iterate=function(e,t){return ue(this,e,t,!1)},Y.prototype.__iterator=function(e,t){return he(this,e,t,!1)},t(J,q),J.of=function(){return J(arguments)},J.prototype.toSetSeq=function(){return this},q.isSeq=ae,q.Keyed=G,q.Set=J,q.Indexed=Y;var X,Z,$,ee="@@__IMMUTABLE_SEQ__@@";function te(e){this._array=e,this.size=e.length}function ne(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length}function re(e){this._iterable=e,this.size=e.length||e.size}function se(e){this._iterator=e,this._iteratorCache=[]}function ae(e){return!(!e||!e[ee])}function ie(){return X||(X=new te([]))}function oe(e){var t=Array.isArray(e)?new te(e).fromEntrySeq():H(e)?new se(e).fromEntrySeq():z(e)?new re(e).fromEntrySeq():"object"===typeof e?new ne(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function le(e){var t=de(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function ce(e){var t=de(e)||"object"===typeof e&&new ne(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function de(e){return V(e)?new te(e):H(e)?new se(e):z(e)?new re(e):void 0}function ue(e,t,n,r){var s=e._cache;if(s){for(var a=s.length-1,i=0;i<=a;i++){var o=s[n?a-i:i];if(!1===t(o[1],r?o[0]:i,e))return i+1}return i}return e.__iterateUncached(t,n)}function he(e,t,n,r){var s=e._cache;if(s){var a=s.length-1,i=0;return new U(function(){var e=s[n?a-i:i];return i++>a?Q():R(t,r?e[0]:i-1,e[1])})}return e.__iteratorUncached(t,n)}function Ae(e,t){return t?fe(t,e,"",{"":e}):me(e)}function fe(e,t,n,r){return Array.isArray(t)?e.call(r,n,Y(t).map(function(n,r){return fe(e,n,r,t)})):pe(t)?e.call(r,n,G(t).map(function(n,r){return fe(e,n,r,t)})):t}function me(e){return Array.isArray(e)?Y(e).map(me).toList():pe(e)?G(e).map(me).toMap():e}function pe(e){return e&&(e.constructor===Object||void 0===e.constructor)}function ge(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!("function"!==typeof e.equals||"function"!==typeof t.equals||!e.equals(t))}function xe(e,t){if(e===t)return!0;if(!i(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||o(e)!==o(t)||l(e)!==l(t)||d(e)!==d(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!c(e);if(d(e)){var r=e.entries();return t.every(function(e,t){var s=r.next().value;return s&&ge(s[1],e)&&(n||ge(s[0],t))})&&r.next().done}var s=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{s=!0;var a=e;e=t,t=a}var u=!0,h=t.__iterate(function(t,r){if(n?!e.has(t):s?!ge(t,e.get(r,b)):!ge(e.get(r,b),t))return u=!1,!1});return u&&e.size===h}function be(e,t){if(!(this instanceof be))return new be(e,t);if(this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size){if(Z)return Z;Z=this}}function ye(e,t){if(!e)throw new Error(t)}function ve(e,t,n){if(!(this instanceof ve))return new ve(e,t,n);if(ye(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1),0===this.size){if($)return $;$=this}}function we(){throw TypeError("Abstract")}function je(){}function Ne(){}function _e(){}q.prototype[ee]=!0,t(te,Y),te.prototype.get=function(e,t){return this.has(e)?this._array[S(this,e)]:t},te.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length-1,s=0;s<=r;s++)if(!1===e(n[t?r-s:s],s,this))return s+1;return s},te.prototype.__iterator=function(e,t){var n=this._array,r=n.length-1,s=0;return new U(function(){return s>r?Q():R(e,s,n[t?r-s++:s++])})},t(ne,G),ne.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},ne.prototype.has=function(e){return this._object.hasOwnProperty(e)},ne.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,s=r.length-1,a=0;a<=s;a++){var i=r[t?s-a:a];if(!1===e(n[i],i,this))return a+1}return a},ne.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,s=r.length-1,a=0;return new U(function(){var i=r[t?s-a:a];return a++>s?Q():R(e,i,n[i])})},ne.prototype[f]=!0,t(re,Y),re.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=K(this._iterable),r=0;if(H(n))for(var s;!(s=n.next()).done&&!1!==e(s.value,r++,this););return r},re.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=K(this._iterable);if(!H(n))return new U(Q);var r=0;return new U(function(){var t=n.next();return t.done?t:R(e,r++,t.value)})},t(se,Y),se.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n,r=this._iterator,s=this._iteratorCache,a=0;a<s.length;)if(!1===e(s[a],a++,this))return a;for(;!(n=r.next()).done;){var i=n.value;if(s[a]=i,!1===e(i,a++,this))break}return a},se.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,s=0;return new U(function(){if(s>=r.length){var t=n.next();if(t.done)return t;r[s]=t.value}return R(e,s,r[s++])})},t(be,Y),be.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},be.prototype.get=function(e,t){return this.has(e)?this._value:t},be.prototype.includes=function(e){return ge(this._value,e)},be.prototype.slice=function(e,t){var n=this.size;return B(e,t,n)?this:new be(this._value,L(t,n)-E(e,n))},be.prototype.reverse=function(){return this},be.prototype.indexOf=function(e){return ge(this._value,e)?0:-1},be.prototype.lastIndexOf=function(e){return ge(this._value,e)?this.size:-1},be.prototype.__iterate=function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},be.prototype.__iterator=function(e,t){var n=this,r=0;return new U(function(){return r<n.size?R(e,r++,n._value):Q()})},be.prototype.equals=function(e){return e instanceof be?ge(this._value,e._value):xe(e)},t(ve,Y),ve.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},ve.prototype.get=function(e,t){return this.has(e)?this._start+S(this,e)*this._step:t},ve.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},ve.prototype.slice=function(e,t){return B(e,t,this.size)?this:(e=E(e,this.size),(t=L(t,this.size))<=e?new ve(0,0):new ve(this.get(e,this._end),this.get(t,this._end),this._step))},ve.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},ve.prototype.lastIndexOf=function(e){return this.indexOf(e)},ve.prototype.__iterate=function(e,t){for(var n=this.size-1,r=this._step,s=t?this._start+n*r:this._start,a=0;a<=n;a++){if(!1===e(s,a,this))return a+1;s+=t?-r:r}return a},ve.prototype.__iterator=function(e,t){var n=this.size-1,r=this._step,s=t?this._start+n*r:this._start,a=0;return new U(function(){var i=s;return s+=t?-r:r,a>n?Q():R(e,a++,i)})},ve.prototype.equals=function(e){return e instanceof ve?this._start===e._start&&this._end===e._end&&this._step===e._step:xe(this,e)},t(we,n),t(je,we),t(Ne,we),t(_e,we),we.Keyed=je,we.Indexed=Ne,we.Set=_e;var Ce="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function Se(e){return e>>>1&1073741824|3221225471&e}function ke(e){if(!1===e||null===e||void 0===e)return 0;if("function"===typeof e.valueOf&&(!1===(e=e.valueOf())||null===e||void 0===e))return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){var n=0|e;for(n!==e&&(n^=4294967295*e);e>4294967295;)n^=e/=4294967295;return Se(n)}if("string"===t)return e.length>Ue?Be(e):Ee(e);if("function"===typeof e.hashCode)return e.hashCode();if("object"===t)return Le(e);if("function"===typeof e.toString)return Ee(e.toString());throw new Error("Value type "+t+" cannot be hashed.")}function Be(e){var t=ze[e];return void 0===t&&(t=Ee(e),Qe===Re&&(Qe=0,ze={}),Qe++,ze[e]=t),t}function Ee(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return Se(t)}function Le(e){var t;if(Te&&void 0!==(t=De.get(e)))return t;if(void 0!==(t=e[Pe]))return t;if(!Fe){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[Pe]))return t;if(void 0!==(t=Ie(e)))return t}if(t=++Oe,1073741824&Oe&&(Oe=0),Te)De.set(e,t);else{if(void 0!==Me&&!1===Me(e))throw new Error("Non-extensible objects are not allowed as keys.");if(Fe)Object.defineProperty(e,Pe,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[Pe]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[Pe]=t}}return t}var Me=Object.isExtensible,Fe=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function Ie(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}var De,Te="function"===typeof WeakMap;Te&&(De=new WeakMap);var Oe=0,Pe="__immutablehash__";"function"===typeof Symbol&&(Pe=Symbol(Pe));var Ue=16,Re=255,Qe=0,ze={};function He(e){ye(e!==1/0,"Cannot perform this action with an infinite size.")}function Ke(e){return null===e||void 0===e?st():We(e)&&!d(e)?e:st().withMutations(function(t){var n=r(e);He(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function We(e){return!(!e||!e[qe])}t(Ke,je),Ke.prototype.toString=function(){return this.__toString("Map {","}")},Ke.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},Ke.prototype.set=function(e,t){return at(this,e,t)},Ke.prototype.setIn=function(e,t){return this.updateIn(e,b,function(){return t})},Ke.prototype.remove=function(e){return at(this,e,b)},Ke.prototype.deleteIn=function(e){return this.updateIn(e,function(){return b})},Ke.prototype.update=function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},Ke.prototype.updateIn=function(e,t,n){n||(n=t,t=void 0);var r=pt(this,wn(e),t,n);return r===b?void 0:r},Ke.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):st()},Ke.prototype.merge=function(){return ht(this,void 0,arguments)},Ke.prototype.mergeWith=function(t){return ht(this,t,e.call(arguments,1))},Ke.prototype.mergeIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,st(),function(e){return"function"===typeof e.merge?e.merge.apply(e,n):n[n.length-1]})},Ke.prototype.mergeDeep=function(){return ht(this,At,arguments)},Ke.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return ht(this,ft(t),n)},Ke.prototype.mergeDeepIn=function(t){var n=e.call(arguments,1);return this.updateIn(t,st(),function(e){return"function"===typeof e.mergeDeep?e.mergeDeep.apply(e,n):n[n.length-1]})},Ke.prototype.sort=function(e){return zt(un(this,e))},Ke.prototype.sortBy=function(e,t){return zt(un(this,t,e))},Ke.prototype.withMutations=function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},Ke.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new N)},Ke.prototype.asImmutable=function(){return this.__ensureOwner()},Ke.prototype.wasAltered=function(){return this.__altered},Ke.prototype.__iterator=function(e,t){return new et(this,e,t)},Ke.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},Ke.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?rt(this.size,this._root,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Ke.isMap=We;var Ve,qe="@@__IMMUTABLE_MAP__@@",Ge=Ke.prototype;function Ye(e,t){this.ownerID=e,this.entries=t}function Je(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n}function Xe(e,t,n){this.ownerID=e,this.count=t,this.nodes=n}function Ze(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n}function $e(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n}function et(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&nt(e._root)}function tt(e,t){return R(e,t[0],t[1])}function nt(e,t){return{node:e,index:0,__prev:t}}function rt(e,t,n,r){var s=Object.create(Ge);return s.size=e,s._root=t,s.__ownerID=n,s.__hash=r,s.__altered=!1,s}function st(){return Ve||(Ve=rt(0))}function at(e,t,n){var r,s;if(e._root){var a=w(y),i=w(v);if(r=it(e._root,e.__ownerID,0,void 0,t,n,a,i),!i.value)return e;s=e.size+(a.value?n===b?-1:1:0)}else{if(n===b)return e;s=1,r=new Ye(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=s,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?rt(s,r):st()}function it(e,t,n,r,s,a,i,o){return e?e.update(t,n,r,s,a,i,o):a===b?e:(j(o),j(i),new $e(t,r,[s,a]))}function ot(e){return e.constructor===$e||e.constructor===Ze}function lt(e,t,n,r,s){if(e.keyHash===r)return new Ze(t,r,[e.entry,s]);var a,i=(0===n?e.keyHash:e.keyHash>>>n)&x,o=(0===n?r:r>>>n)&x;return new Je(t,1<<i|1<<o,i===o?[lt(e,t,n+p,r,s)]:(a=new $e(t,r,s),i<o?[e,a]:[a,e]))}function ct(e,t,n,r){e||(e=new N);for(var s=new $e(e,ke(n),[n,r]),a=0;a<t.length;a++){var i=t[a];s=s.update(e,0,void 0,i[0],i[1])}return s}function dt(e,t,n,r){for(var s=0,a=0,i=new Array(n),o=0,l=1,c=t.length;o<c;o++,l<<=1){var d=t[o];void 0!==d&&o!==r&&(s|=l,i[a++]=d)}return new Je(e,s,i)}function ut(e,t,n,r,s){for(var a=0,i=new Array(g),o=0;0!==n;o++,n>>>=1)i[o]=1&n?t[a++]:void 0;return i[r]=s,new Xe(e,a+1,i)}function ht(e,t,n){for(var s=[],a=0;a<n.length;a++){var o=n[a],l=r(o);i(o)||(l=l.map(function(e){return Ae(e)})),s.push(l)}return mt(e,t,s)}function At(e,t,n){return e&&e.mergeDeep&&i(t)?e.mergeDeep(t):ge(e,t)?e:t}function ft(e){return function(t,n,r){if(t&&t.mergeDeepWith&&i(n))return t.mergeDeepWith(e,n);var s=e(t,n,r);return ge(t,s)?t:s}}function mt(e,t,n){return 0===(n=n.filter(function(e){return 0!==e.size})).length?e:0!==e.size||e.__ownerID||1!==n.length?e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,b,function(e){return e===b?n:t(e,n,r)})}:function(t,n){e.set(n,t)},s=0;s<n.length;s++)n[s].forEach(r)}):e.constructor(n[0])}function pt(e,t,n,r){var s=e===b,a=t.next();if(a.done){var i=s?n:e,o=r(i);return o===i?e:o}ye(s||e&&e.set,"invalid keyPath");var l=a.value,c=s?b:e.get(l,b),d=pt(c,t,n,r);return d===c?e:d===b?e.remove(l):(s?st():e).set(l,d)}function gt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function xt(e,t,n,r){var s=r?e:_(e);return s[t]=n,s}function bt(e,t,n,r){var s=e.length+1;if(r&&t+1===s)return e[t]=n,e;for(var a=new Array(s),i=0,o=0;o<s;o++)o===t?(a[o]=n,i=-1):a[o]=e[o+i];return a}function yt(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var s=new Array(r),a=0,i=0;i<r;i++)i===t&&(a=1),s[i]=e[i+a];return s}Ge[qe]=!0,Ge[m]=Ge.remove,Ge.removeIn=Ge.deleteIn,Ye.prototype.get=function(e,t,n,r){for(var s=this.entries,a=0,i=s.length;a<i;a++)if(ge(n,s[a][0]))return s[a][1];return r},Ye.prototype.update=function(e,t,n,r,s,a,i){for(var o=s===b,l=this.entries,c=0,d=l.length;c<d&&!ge(r,l[c][0]);c++);var u=c<d;if(u?l[c][1]===s:o)return this;if(j(i),(o||!u)&&j(a),!o||1!==l.length){if(!u&&!o&&l.length>=vt)return ct(e,l,r,s);var h=e&&e===this.ownerID,A=h?l:_(l);return u?o?c===d-1?A.pop():A[c]=A.pop():A[c]=[r,s]:A.push([r,s]),h?(this.entries=A,this):new Ye(e,A)}},Je.prototype.get=function(e,t,n,r){void 0===t&&(t=ke(n));var s=1<<((0===e?t:t>>>e)&x),a=this.bitmap;return 0===(a&s)?r:this.nodes[gt(a&s-1)].get(e+p,t,n,r)},Je.prototype.update=function(e,t,n,r,s,a,i){void 0===n&&(n=ke(r));var o=(0===t?n:n>>>t)&x,l=1<<o,c=this.bitmap,d=0!==(c&l);if(!d&&s===b)return this;var u=gt(c&l-1),h=this.nodes,A=d?h[u]:void 0,f=it(A,e,t+p,n,r,s,a,i);if(f===A)return this;if(!d&&f&&h.length>=wt)return ut(e,h,c,o,f);if(d&&!f&&2===h.length&&ot(h[1^u]))return h[1^u];if(d&&f&&1===h.length&&ot(f))return f;var m=e&&e===this.ownerID,g=d?f?c:c^l:c|l,y=d?f?xt(h,u,f,m):yt(h,u,m):bt(h,u,f,m);return m?(this.bitmap=g,this.nodes=y,this):new Je(e,g,y)},Xe.prototype.get=function(e,t,n,r){void 0===t&&(t=ke(n));var s=(0===e?t:t>>>e)&x,a=this.nodes[s];return a?a.get(e+p,t,n,r):r},Xe.prototype.update=function(e,t,n,r,s,a,i){void 0===n&&(n=ke(r));var o=(0===t?n:n>>>t)&x,l=s===b,c=this.nodes,d=c[o];if(l&&!d)return this;var u=it(d,e,t+p,n,r,s,a,i);if(u===d)return this;var h=this.count;if(d){if(!u&&--h<jt)return dt(e,c,h,o)}else h++;var A=e&&e===this.ownerID,f=xt(c,o,u,A);return A?(this.count=h,this.nodes=f,this):new Xe(e,h,f)},Ze.prototype.get=function(e,t,n,r){for(var s=this.entries,a=0,i=s.length;a<i;a++)if(ge(n,s[a][0]))return s[a][1];return r},Ze.prototype.update=function(e,t,n,r,s,a,i){void 0===n&&(n=ke(r));var o=s===b;if(n!==this.keyHash)return o?this:(j(i),j(a),lt(this,e,t,n,[r,s]));for(var l=this.entries,c=0,d=l.length;c<d&&!ge(r,l[c][0]);c++);var u=c<d;if(u?l[c][1]===s:o)return this;if(j(i),(o||!u)&&j(a),o&&2===d)return new $e(e,this.keyHash,l[1^c]);var h=e&&e===this.ownerID,A=h?l:_(l);return u?o?c===d-1?A.pop():A[c]=A.pop():A[c]=[r,s]:A.push([r,s]),h?(this.entries=A,this):new Ze(e,this.keyHash,A)},$e.prototype.get=function(e,t,n,r){return ge(n,this.entry[0])?this.entry[1]:r},$e.prototype.update=function(e,t,n,r,s,a,i){var o=s===b,l=ge(r,this.entry[0]);return(l?s===this.entry[1]:o)?this:(j(i),o?void j(a):l?e&&e===this.ownerID?(this.entry[1]=s,this):new $e(e,this.keyHash,[r,s]):(j(a),lt(this,e,t,ke(r),[r,s])))},Ye.prototype.iterate=Ze.prototype.iterate=function(e,t){for(var n=this.entries,r=0,s=n.length-1;r<=s;r++)if(!1===e(n[t?s-r:r]))return!1},Je.prototype.iterate=Xe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,s=n.length-1;r<=s;r++){var a=n[t?s-r:r];if(a&&!1===a.iterate(e,t))return!1}},$e.prototype.iterate=function(e,t){return e(this.entry)},t(et,U),et.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n,r=t.node,s=t.index++;if(r.entry){if(0===s)return tt(e,r.entry)}else if(r.entries){if(s<=(n=r.entries.length-1))return tt(e,r.entries[this._reverse?n-s:s])}else if(s<=(n=r.nodes.length-1)){var a=r.nodes[this._reverse?n-s:s];if(a){if(a.entry)return tt(e,a.entry);t=this._stack=nt(a,t)}continue}t=this._stack=this._stack.__prev}return Q()};var vt=g/4,wt=g/2,jt=g/4;function Nt(e){var t=It();if(null===e||void 0===e)return t;if(_t(e))return e;var n=s(e),r=n.size;return 0===r?t:(He(r),r>0&&r<g?Ft(0,r,p,null,new kt(n.toArray())):t.withMutations(function(e){e.setSize(r),n.forEach(function(t,n){return e.set(n,t)})}))}function _t(e){return!(!e||!e[Ct])}t(Nt,Ne),Nt.of=function(){return this(arguments)},Nt.prototype.toString=function(){return this.__toString("List [","]")},Nt.prototype.get=function(e,t){if((e=S(this,e))>=0&&e<this.size){var n=Pt(this,e+=this._origin);return n&&n.array[e&x]}return t},Nt.prototype.set=function(e,t){return Dt(this,e,t)},Nt.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},Nt.prototype.insert=function(e,t){return this.splice(e,0,t)},Nt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=p,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):It()},Nt.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){Ut(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},Nt.prototype.pop=function(){return Ut(this,0,-1)},Nt.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){Ut(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},Nt.prototype.shift=function(){return Ut(this,1)},Nt.prototype.merge=function(){return Rt(this,void 0,arguments)},Nt.prototype.mergeWith=function(t){return Rt(this,t,e.call(arguments,1))},Nt.prototype.mergeDeep=function(){return Rt(this,At,arguments)},Nt.prototype.mergeDeepWith=function(t){var n=e.call(arguments,1);return Rt(this,ft(t),n)},Nt.prototype.setSize=function(e){return Ut(this,0,e)},Nt.prototype.slice=function(e,t){var n=this.size;return B(e,t,n)?this:Ut(this,E(e,n),L(t,n))},Nt.prototype.__iterator=function(e,t){var n=0,r=Mt(this,t);return new U(function(){var t=r();return t===Lt?Q():R(e,n++,t)})},Nt.prototype.__iterate=function(e,t){for(var n,r=0,s=Mt(this,t);(n=s())!==Lt&&!1!==e(n,r++,this););return r},Nt.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Ft(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):(this.__ownerID=e,this)},Nt.isList=_t;var Ct="@@__IMMUTABLE_LIST__@@",St=Nt.prototype;function kt(e,t){this.array=e,this.ownerID=t}St[Ct]=!0,St[m]=St.remove,St.setIn=Ge.setIn,St.deleteIn=St.removeIn=Ge.removeIn,St.update=Ge.update,St.updateIn=Ge.updateIn,St.mergeIn=Ge.mergeIn,St.mergeDeepIn=Ge.mergeDeepIn,St.withMutations=Ge.withMutations,St.asMutable=Ge.asMutable,St.asImmutable=Ge.asImmutable,St.wasAltered=Ge.wasAltered,kt.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&x;if(r>=this.array.length)return new kt([],e);var s,a=0===r;if(t>0){var i=this.array[r];if((s=i&&i.removeBefore(e,t-p,n))===i&&a)return this}if(a&&!s)return this;var o=Ot(this,e);if(!a)for(var l=0;l<r;l++)o.array[l]=void 0;return s&&(o.array[r]=s),o},kt.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,s=n-1>>>t&x;if(s>=this.array.length)return this;if(t>0){var a=this.array[s];if((r=a&&a.removeAfter(e,t-p,n))===a&&s===this.array.length-1)return this}var i=Ot(this,e);return i.array.splice(s+1),r&&(i.array[s]=r),i};var Bt,Et,Lt={};function Mt(e,t){var n=e._origin,r=e._capacity,s=Qt(r),a=e._tail;return i(e._root,e._level,0);function i(e,t,n){return 0===t?o(e,n):l(e,t,n)}function o(e,i){var o=i===s?a&&a.array:e&&e.array,l=i>n?0:n-i,c=r-i;return c>g&&(c=g),function(){if(l===c)return Lt;var e=t?--c:l++;return o&&o[e]}}function l(e,s,a){var o,l=e&&e.array,c=a>n?0:n-a>>s,d=1+(r-a>>s);return d>g&&(d=g),function(){for(;;){if(o){var e=o();if(e!==Lt)return e;o=null}if(c===d)return Lt;var n=t?--d:c++;o=i(l&&l[n],s-p,a+(n<<s))}}}}function Ft(e,t,n,r,s,a,i){var o=Object.create(St);return o.size=t-e,o._origin=e,o._capacity=t,o._level=n,o._root=r,o._tail=s,o.__ownerID=a,o.__hash=i,o.__altered=!1,o}function It(){return Bt||(Bt=Ft(0,0,p))}function Dt(e,t,n){if((t=S(e,t))!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?Ut(e,t).set(0,n):Ut(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,s=e._root,a=w(v);return t>=Qt(e._capacity)?r=Tt(r,e.__ownerID,0,t,n,a):s=Tt(s,e.__ownerID,e._level,t,n,a),a.value?e.__ownerID?(e._root=s,e._tail=r,e.__hash=void 0,e.__altered=!0,e):Ft(e._origin,e._capacity,e._level,s,r):e}function Tt(e,t,n,r,s,a){var i,o=r>>>n&x,l=e&&o<e.array.length;if(!l&&void 0===s)return e;if(n>0){var c=e&&e.array[o],d=Tt(c,t,n-p,r,s,a);return d===c?e:((i=Ot(e,t)).array[o]=d,i)}return l&&e.array[o]===s?e:(j(a),i=Ot(e,t),void 0===s&&o===i.array.length-1?i.array.pop():i.array[o]=s,i)}function Ot(e,t){return t&&e&&t===e.ownerID?e:new kt(e?e.array.slice():[],t)}function Pt(e,t){if(t>=Qt(e._capacity))return e._tail;if(t<1<<e._level+p){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&x],r-=p;return n}}function Ut(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new N,s=e._origin,a=e._capacity,i=s+t,o=void 0===n?a:n<0?a+n:s+n;if(i===s&&o===a)return e;if(i>=o)return e.clear();for(var l=e._level,c=e._root,d=0;i+d<0;)c=new kt(c&&c.array.length?[void 0,c]:[],r),d+=1<<(l+=p);d&&(i+=d,s+=d,o+=d,a+=d);for(var u=Qt(a),h=Qt(o);h>=1<<l+p;)c=new kt(c&&c.array.length?[c]:[],r),l+=p;var A=e._tail,f=h<u?Pt(e,o-1):h>u?new kt([],r):A;if(A&&h>u&&i<a&&A.array.length){for(var m=c=Ot(c,r),g=l;g>p;g-=p){var b=u>>>g&x;m=m.array[b]=Ot(m.array[b],r)}m.array[u>>>p&x]=A}if(o<a&&(f=f&&f.removeAfter(r,0,o)),i>=h)i-=h,o-=h,l=p,c=null,f=f&&f.removeBefore(r,0,i);else if(i>s||h<u){for(d=0;c;){var y=i>>>l&x;if(y!==h>>>l&x)break;y&&(d+=(1<<l)*y),l-=p,c=c.array[y]}c&&i>s&&(c=c.removeBefore(r,l,i-d)),c&&h<u&&(c=c.removeAfter(r,l,h-d)),d&&(i-=d,o-=d)}return e.__ownerID?(e.size=o-i,e._origin=i,e._capacity=o,e._level=l,e._root=c,e._tail=f,e.__hash=void 0,e.__altered=!0,e):Ft(i,o,l,c,f)}function Rt(e,t,n){for(var r=[],a=0,o=0;o<n.length;o++){var l=n[o],c=s(l);c.size>a&&(a=c.size),i(l)||(c=c.map(function(e){return Ae(e)})),r.push(c)}return a>e.size&&(e=e.setSize(a)),mt(e,t,r)}function Qt(e){return e<g?0:e-1>>>p<<p}function zt(e){return null===e||void 0===e?Wt():Ht(e)?e:Wt().withMutations(function(t){var n=r(e);He(n.size),n.forEach(function(e,n){return t.set(n,e)})})}function Ht(e){return We(e)&&d(e)}function Kt(e,t,n,r){var s=Object.create(zt.prototype);return s.size=e?e.size:0,s._map=e,s._list=t,s.__ownerID=n,s.__hash=r,s}function Wt(){return Et||(Et=Kt(st(),It()))}function Vt(e,t,n){var r,s,a=e._map,i=e._list,o=a.get(t),l=void 0!==o;if(n===b){if(!l)return e;i.size>=g&&i.size>=2*a.size?(r=(s=i.filter(function(e,t){return void 0!==e&&o!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=s.__ownerID=e.__ownerID)):(r=a.remove(t),s=o===i.size-1?i.pop():i.set(o,void 0))}else if(l){if(n===i.get(o)[1])return e;r=a,s=i.set(o,[t,n])}else r=a.set(t,i.size),s=i.set(i.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=s,e.__hash=void 0,e):Kt(r,s)}function qt(e,t){this._iter=e,this._useKeys=t,this.size=e.size}function Gt(e){this._iter=e,this.size=e.size}function Yt(e){this._iter=e,this.size=e.size}function Jt(e){this._iter=e,this.size=e.size}function Xt(e){var t=bn(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=yn,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===D){var r=e.__iterator(t,n);return new U(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===I?F:I,n)},t}function Zt(e,t,n){var r=bn(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,s){var a=e.get(r,b);return a===b?s:t.call(n,a,r,e)},r.__iterateUncached=function(r,s){var a=this;return e.__iterate(function(e,s,i){return!1!==r(t.call(n,e,s,i),s,a)},s)},r.__iteratorUncached=function(r,s){var a=e.__iterator(D,s);return new U(function(){var s=a.next();if(s.done)return s;var i=s.value,o=i[0];return R(r,o,t.call(n,i[1],o,e),s)})},r}function $t(e,t){var n=bn(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=Xt(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.includes=function(t){return e.includes(t)},n.cacheResult=yn,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function en(e,t,n,r){var s=bn(e);return r&&(s.has=function(r){var s=e.get(r,b);return s!==b&&!!t.call(n,s,r,e)},s.get=function(r,s){var a=e.get(r,b);return a!==b&&t.call(n,a,r,e)?a:s}),s.__iterateUncached=function(s,a){var i=this,o=0;return e.__iterate(function(e,a,l){if(t.call(n,e,a,l))return o++,s(e,r?a:o-1,i)},a),o},s.__iteratorUncached=function(s,a){var i=e.__iterator(D,a),o=0;return new U(function(){for(;;){var a=i.next();if(a.done)return a;var l=a.value,c=l[0],d=l[1];if(t.call(n,d,c,e))return R(s,r?c:o++,d,a)}})},s}function tn(e,t,n){var r=Ke().asMutable();return e.__iterate(function(s,a){r.update(t.call(n,s,a,e),0,function(e){return e+1})}),r.asImmutable()}function nn(e,t,n){var r=o(e),s=(d(e)?zt():Ke()).asMutable();e.__iterate(function(a,i){s.update(t.call(n,a,i,e),function(e){return(e=e||[]).push(r?[i,a]:a),e})});var a=xn(e);return s.map(function(t){return mn(e,a(t))})}function rn(e,t,n,r){var s=e.size;if(void 0!==t&&(t|=0),void 0!==n&&(n|=0),B(t,n,s))return e;var a=E(t,s),i=L(n,s);if(a!==a||i!==i)return rn(e.toSeq().cacheResult(),t,n,r);var o,l=i-a;l===l&&(o=l<0?0:l);var c=bn(e);return c.size=0===o?o:e.size&&o||void 0,!r&&ae(e)&&o>=0&&(c.get=function(t,n){return(t=S(this,t))>=0&&t<o?e.get(t+a,n):n}),c.__iterateUncached=function(t,n){var s=this;if(0===o)return 0;if(n)return this.cacheResult().__iterate(t,n);var i=0,l=!0,c=0;return e.__iterate(function(e,n){if(!l||!(l=i++<a))return c++,!1!==t(e,r?n:c-1,s)&&c!==o}),c},c.__iteratorUncached=function(t,n){if(0!==o&&n)return this.cacheResult().__iterator(t,n);var s=0!==o&&e.__iterator(t,n),i=0,l=0;return new U(function(){for(;i++<a;)s.next();if(++l>o)return Q();var e=s.next();return r||t===I?e:R(t,l-1,t===F?void 0:e.value[1],e)})},c}function sn(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,s){var a=this;if(s)return this.cacheResult().__iterate(r,s);var i=0;return e.__iterate(function(e,s,o){return t.call(n,e,s,o)&&++i&&r(e,s,a)}),i},r.__iteratorUncached=function(r,s){var a=this;if(s)return this.cacheResult().__iterator(r,s);var i=e.__iterator(D,s),o=!0;return new U(function(){if(!o)return Q();var e=i.next();if(e.done)return e;var s=e.value,l=s[0],c=s[1];return t.call(n,c,l,a)?r===D?e:R(r,l,c,e):(o=!1,Q())})},r}function an(e,t,n,r){var s=bn(e);return s.__iterateUncached=function(s,a){var i=this;if(a)return this.cacheResult().__iterate(s,a);var o=!0,l=0;return e.__iterate(function(e,a,c){if(!o||!(o=t.call(n,e,a,c)))return l++,s(e,r?a:l-1,i)}),l},s.__iteratorUncached=function(s,a){var i=this;if(a)return this.cacheResult().__iterator(s,a);var o=e.__iterator(D,a),l=!0,c=0;return new U(function(){var e,a,d;do{if((e=o.next()).done)return r||s===I?e:R(s,c++,s===F?void 0:e.value[1],e);var u=e.value;a=u[0],d=u[1],l&&(l=t.call(n,d,a,i))}while(l);return s===D?e:R(s,a,d,e)})},s}function on(e,t){var n=o(e),s=[e].concat(t).map(function(e){return i(e)?n&&(e=r(e)):e=n?oe(e):le(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===s.length)return e;if(1===s.length){var a=s[0];if(a===e||n&&o(a)||l(e)&&l(a))return a}var c=new te(s);return n?c=c.toKeyedSeq():l(e)||(c=c.toSetSeq()),(c=c.flatten(!0)).size=s.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),c}function ln(e,t,n){var r=bn(e);return r.__iterateUncached=function(r,s){var a=0,o=!1;function l(e,c){var d=this;e.__iterate(function(e,s){return(!t||c<t)&&i(e)?l(e,c+1):!1===r(e,n?s:a++,d)&&(o=!0),!o},s)}return l(e,0),a},r.__iteratorUncached=function(r,s){var a=e.__iterator(r,s),o=[],l=0;return new U(function(){for(;a;){var e=a.next();if(!1===e.done){var c=e.value;if(r===D&&(c=c[1]),t&&!(o.length<t)||!i(c))return n?e:R(r,l++,c,e);o.push(a),a=c.__iterator(r,s)}else a=o.pop()}return Q()})},r}function cn(e,t,n){var r=xn(e);return e.toSeq().map(function(s,a){return r(t.call(n,s,a,e))}).flatten(!0)}function dn(e,t){var n=bn(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var s=this,a=0;return e.__iterate(function(e,r){return(!a||!1!==n(t,a++,s))&&!1!==n(e,a++,s)},r),a},n.__iteratorUncached=function(n,r){var s,a=e.__iterator(I,r),i=0;return new U(function(){return(!s||i%2)&&(s=a.next()).done?s:i%2?R(n,i++,t):R(n,i++,s.value,s)})},n}function un(e,t,n){t||(t=vn);var r=o(e),s=0,a=e.toSeq().map(function(t,r){return[r,t,s++,n?n(t,r,e):t]}).toArray();return a.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),r?G(a):l(e)?Y(a):J(a)}function hn(e,t,n){if(t||(t=vn),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return An(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return An(t,e,n)?n:e})}function An(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function fn(e,t,r){var s=bn(e);return s.size=new te(r).map(function(e){return e.size}).min(),s.__iterate=function(e,t){for(var n,r=this.__iterator(I,t),s=0;!(n=r.next()).done&&!1!==e(n.value,s++,this););return s},s.__iteratorUncached=function(e,s){var a=r.map(function(e){return e=n(e),K(s?e.reverse():e)}),i=0,o=!1;return new U(function(){var n;return o||(n=a.map(function(e){return e.next()}),o=n.some(function(e){return e.done})),o?Q():R(e,i++,t.apply(null,n.map(function(e){return e.value})))})},s}function mn(e,t){return ae(e)?t:e.constructor(t)}function pn(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function gn(e){return He(e.size),C(e)}function xn(e){return o(e)?r:l(e)?s:a}function bn(e){return Object.create((o(e)?G:l(e)?Y:J).prototype)}function yn(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):q.prototype.cacheResult.call(this)}function vn(e,t){return e>t?1:e<t?-1:0}function wn(e){var t=K(e);if(!t){if(!V(e))throw new TypeError("Expected iterable or array-like: "+e);t=K(n(e))}return t}function jn(e,t){var n,r=function(a){if(a instanceof r)return a;if(!(this instanceof r))return new r(a);if(!n){n=!0;var i=Object.keys(e);Sn(s,i),s.size=i.length,s._name=t,s._keys=i,s._defaultValues=e}this._map=Ke(a)},s=r.prototype=Object.create(Nn);return s.constructor=r,r}t(zt,Ke),zt.of=function(){return this(arguments)},zt.prototype.toString=function(){return this.__toString("OrderedMap {","}")},zt.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},zt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Wt()},zt.prototype.set=function(e,t){return Vt(this,e,t)},zt.prototype.remove=function(e){return Vt(this,e,b)},zt.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},zt.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},zt.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},zt.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?Kt(t,n,e,this.__hash):(this.__ownerID=e,this._map=t,this._list=n,this)},zt.isOrderedMap=Ht,zt.prototype[f]=!0,zt.prototype[m]=zt.prototype.remove,t(qt,G),qt.prototype.get=function(e,t){return this._iter.get(e,t)},qt.prototype.has=function(e){return this._iter.has(e)},qt.prototype.valueSeq=function(){return this._iter.valueSeq()},qt.prototype.reverse=function(){var e=this,t=$t(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},qt.prototype.map=function(e,t){var n=this,r=Zt(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},qt.prototype.__iterate=function(e,t){var n,r=this;return this._iter.__iterate(this._useKeys?function(t,n){return e(t,n,r)}:(n=t?gn(this):0,function(s){return e(s,t?--n:n++,r)}),t)},qt.prototype.__iterator=function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(I,t),r=t?gn(this):0;return new U(function(){var s=n.next();return s.done?s:R(e,t?--r:r++,s.value,s)})},qt.prototype[f]=!0,t(Gt,Y),Gt.prototype.includes=function(e){return this._iter.includes(e)},Gt.prototype.__iterate=function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},Gt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(I,t),r=0;return new U(function(){var t=n.next();return t.done?t:R(e,r++,t.value,t)})},t(Yt,J),Yt.prototype.has=function(e){return this._iter.includes(e)},Yt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},Yt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(I,t);return new U(function(){var t=n.next();return t.done?t:R(e,t.value,t.value,t)})},t(Jt,G),Jt.prototype.entrySeq=function(){return this._iter.toSeq()},Jt.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){pn(t);var r=i(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},Jt.prototype.__iterator=function(e,t){var n=this._iter.__iterator(I,t);return new U(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){pn(r);var s=i(r);return R(e,s?r.get(0):r[0],s?r.get(1):r[1],t)}}})},Gt.prototype.cacheResult=qt.prototype.cacheResult=Yt.prototype.cacheResult=Jt.prototype.cacheResult=yn,t(jn,je),jn.prototype.toString=function(){return this.__toString(Cn(this)+" {","}")},jn.prototype.has=function(e){return this._defaultValues.hasOwnProperty(e)},jn.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},jn.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=this.constructor;return e._empty||(e._empty=_n(this,st()))},jn.prototype.set=function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+Cn(this));var n=this._map&&this._map.set(e,t);return this.__ownerID||n===this._map?this:_n(this,n)},jn.prototype.remove=function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);return this.__ownerID||t===this._map?this:_n(this,t)},jn.prototype.wasAltered=function(){return this._map.wasAltered()},jn.prototype.__iterator=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterator(e,t)},jn.prototype.__iterate=function(e,t){var n=this;return r(this._defaultValues).map(function(e,t){return n.get(t)}).__iterate(e,t)},jn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);return e?_n(this,t,e):(this.__ownerID=e,this._map=t,this)};var Nn=jn.prototype;function _n(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function Cn(e){return e._name||e.constructor.name||"Record"}function Sn(e,t){try{t.forEach(kn.bind(void 0,e))}catch(n){}}function kn(e,t){Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){ye(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}function Bn(e){return null===e||void 0===e?Tn():En(e)&&!d(e)?e:Tn().withMutations(function(t){var n=a(e);He(n.size),n.forEach(function(e){return t.add(e)})})}function En(e){return!(!e||!e[Mn])}Nn[m]=Nn.remove,Nn.deleteIn=Nn.removeIn=Ge.removeIn,Nn.merge=Ge.merge,Nn.mergeWith=Ge.mergeWith,Nn.mergeIn=Ge.mergeIn,Nn.mergeDeep=Ge.mergeDeep,Nn.mergeDeepWith=Ge.mergeDeepWith,Nn.mergeDeepIn=Ge.mergeDeepIn,Nn.setIn=Ge.setIn,Nn.update=Ge.update,Nn.updateIn=Ge.updateIn,Nn.withMutations=Ge.withMutations,Nn.asMutable=Ge.asMutable,Nn.asImmutable=Ge.asImmutable,t(Bn,_e),Bn.of=function(){return this(arguments)},Bn.fromKeys=function(e){return this(r(e).keySeq())},Bn.prototype.toString=function(){return this.__toString("Set {","}")},Bn.prototype.has=function(e){return this._map.has(e)},Bn.prototype.add=function(e){return In(this,this._map.set(e,!0))},Bn.prototype.remove=function(e){return In(this,this._map.remove(e))},Bn.prototype.clear=function(){return In(this,this._map.clear())},Bn.prototype.union=function(){var t=e.call(arguments,0);return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(e){for(var n=0;n<t.length;n++)a(t[n]).forEach(function(t){return e.add(t)})}):this.constructor(t[0])},Bn.prototype.intersect=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return a(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.every(function(e){return e.includes(n)})||e.remove(n)})})},Bn.prototype.subtract=function(){var t=e.call(arguments,0);if(0===t.length)return this;t=t.map(function(e){return a(e)});var n=this;return this.withMutations(function(e){n.forEach(function(n){t.some(function(e){return e.includes(n)})&&e.remove(n)})})},Bn.prototype.merge=function(){return this.union.apply(this,arguments)},Bn.prototype.mergeWith=function(t){var n=e.call(arguments,1);return this.union.apply(this,n)},Bn.prototype.sort=function(e){return On(un(this,e))},Bn.prototype.sortBy=function(e,t){return On(un(this,t,e))},Bn.prototype.wasAltered=function(){return this._map.wasAltered()},Bn.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t,r){return e(r,r,n)},t)},Bn.prototype.__iterator=function(e,t){return this._map.map(function(e,t){return t}).__iterator(e,t)},Bn.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):(this.__ownerID=e,this._map=t,this)},Bn.isSet=En;var Ln,Mn="@@__IMMUTABLE_SET__@@",Fn=Bn.prototype;function In(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Dn(e,t){var n=Object.create(Fn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Tn(){return Ln||(Ln=Dn(st()))}function On(e){return null===e||void 0===e?zn():Pn(e)?e:zn().withMutations(function(t){var n=a(e);He(n.size),n.forEach(function(e){return t.add(e)})})}function Pn(e){return En(e)&&d(e)}Fn[Mn]=!0,Fn[m]=Fn.remove,Fn.mergeDeep=Fn.merge,Fn.mergeDeepWith=Fn.mergeWith,Fn.withMutations=Ge.withMutations,Fn.asMutable=Ge.asMutable,Fn.asImmutable=Ge.asImmutable,Fn.__empty=Tn,Fn.__make=Dn,t(On,Bn),On.of=function(){return this(arguments)},On.fromKeys=function(e){return this(r(e).keySeq())},On.prototype.toString=function(){return this.__toString("OrderedSet {","}")},On.isOrderedSet=Pn;var Un,Rn=On.prototype;function Qn(e,t){var n=Object.create(Rn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function zn(){return Un||(Un=Qn(Wt()))}function Hn(e){return null===e||void 0===e?Yn():Kn(e)?e:Yn().unshiftAll(e)}function Kn(e){return!(!e||!e[Vn])}Rn[f]=!0,Rn.__empty=zn,Rn.__make=Qn,t(Hn,Ne),Hn.of=function(){return this(arguments)},Hn.prototype.toString=function(){return this.__toString("Stack [","]")},Hn.prototype.get=function(e,t){var n=this._head;for(e=S(this,e);n&&e--;)n=n.next;return n?n.value:t},Hn.prototype.peek=function(){return this._head&&this._head.value},Hn.prototype.push=function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};return this.__ownerID?(this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this):Gn(e,t)},Hn.prototype.pushAll=function(e){if(0===(e=s(e)).size)return this;He(e.size);var t=this.size,n=this._head;return e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):Gn(t,n)},Hn.prototype.pop=function(){return this.slice(1)},Hn.prototype.unshift=function(){return this.push.apply(this,arguments)},Hn.prototype.unshiftAll=function(e){return this.pushAll(e)},Hn.prototype.shift=function(){return this.pop.apply(this,arguments)},Hn.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Yn()},Hn.prototype.slice=function(e,t){if(B(e,t,this.size))return this;var n=E(e,this.size);if(L(t,this.size)!==this.size)return Ne.prototype.slice.call(this,e,t);for(var r=this.size-n,s=this._head;n--;)s=s.next;return this.__ownerID?(this.size=r,this._head=s,this.__hash=void 0,this.__altered=!0,this):Gn(r,s)},Hn.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Gn(this.size,this._head,e,this.__hash):(this.__ownerID=e,this.__altered=!1,this)},Hn.prototype.__iterate=function(e,t){if(t)return this.reverse().__iterate(e);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},Hn.prototype.__iterator=function(e,t){if(t)return this.reverse().__iterator(e);var n=0,r=this._head;return new U(function(){if(r){var t=r.value;return r=r.next,R(e,n++,t)}return Q()})},Hn.isStack=Kn;var Wn,Vn="@@__IMMUTABLE_STACK__@@",qn=Hn.prototype;function Gn(e,t,n,r){var s=Object.create(qn);return s.size=e,s._head=t,s.__ownerID=n,s.__hash=r,s.__altered=!1,s}function Yn(){return Wn||(Wn=Gn(0))}function Jn(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}qn[Vn]=!0,qn.withMutations=Ge.withMutations,qn.asMutable=Ge.asMutable,qn.asImmutable=Ge.asImmutable,qn.wasAltered=Ge.wasAltered,n.Iterator=U,Jn(n,{toArray:function(){He(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new Gt(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"===typeof e.toJS?e.toJS():e}).__toJS()},toJSON:function(){return this.toSeq().map(function(e){return e&&"function"===typeof e.toJSON?e.toJSON():e}).__toJS()},toKeyedSeq:function(){return new qt(this,!0)},toMap:function(){return Ke(this.toKeyedSeq())},toObject:function(){He(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return zt(this.toKeyedSeq())},toOrderedSet:function(){return On(o(this)?this.valueSeq():this)},toSet:function(){return Bn(o(this)?this.valueSeq():this)},toSetSeq:function(){return new Yt(this)},toSeq:function(){return l(this)?this.toIndexedSeq():o(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Hn(o(this)?this.valueSeq():this)},toList:function(){return Nt(o(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){return mn(this,on(this,e.call(arguments,0)))},includes:function(e){return this.some(function(t){return ge(t,e)})},entries:function(){return this.__iterator(D)},every:function(e,t){He(this.size);var n=!0;return this.__iterate(function(r,s,a){if(!e.call(t,r,s,a))return n=!1,!1}),n},filter:function(e,t){return mn(this,en(this,e,t,!0))},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},findEntry:function(e,t){var n;return this.__iterate(function(r,s,a){if(e.call(t,r,s,a))return n=[s,r],!1}),n},findLastEntry:function(e,t){return this.toSeq().reverse().findEntry(e,t)},forEach:function(e,t){return He(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){He(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(F)},map:function(e,t){return mn(this,Zt(this,e,t))},reduce:function(e,t,n){var r,s;return He(this.size),arguments.length<2?s=!0:r=t,this.__iterate(function(t,a,i){s?(s=!1,r=t):r=e.call(n,r,t,a,i)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return mn(this,$t(this,!0))},slice:function(e,t){return mn(this,rn(this,e,t,!0))},some:function(e,t){return!this.every(tr(e),t)},sort:function(e){return mn(this,un(this,e))},values:function(){return this.__iterator(I)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return C(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return tn(this,e,t)},equals:function(e){return xe(this,e)},entrySeq:function(){var e=this;if(e._cache)return new te(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(k)},flatMap:function(e,t){return mn(this,cn(this,e,t))},flatten:function(e){return mn(this,ln(this,e,!0))},fromEntrySeq:function(){return new Jt(this)},get:function(e,t){return this.find(function(t,n){return ge(n,e)},void 0,t)},getIn:function(e,t){for(var n,r=this,s=wn(e);!(n=s.next()).done;){var a=n.value;if((r=r&&r.get?r.get(a,b):b)===b)return t}return r},groupBy:function(e,t){return nn(this,e,t)},has:function(e){return this.get(e,b)!==b},hasIn:function(e){return this.getIn(e,b)!==b},isSubset:function(e){return e="function"===typeof e.includes?e:n(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:n(e)).isSubset(this)},keySeq:function(){return this.toSeq().map($n).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return hn(this,e)},maxBy:function(e,t){return hn(this,t,e)},min:function(e){return hn(this,e?nr(e):ar)},minBy:function(e,t){return hn(this,t?nr(t):ar,e)},rest:function(){return this.slice(1)},skip:function(e){return this.slice(Math.max(0,e))},skipLast:function(e){return mn(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return mn(this,an(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return mn(this,un(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return mn(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return mn(this,sn(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=ir(this))}});var Xn=n.prototype;Xn[u]=!0,Xn[P]=Xn.values,Xn.__toJS=Xn.toArray,Xn.__toStringMapper=rr,Xn.inspect=Xn.toSource=function(){return this.toString()},Xn.chain=Xn.flatMap,Xn.contains=Xn.includes,function(){try{Object.defineProperty(Xn,"length",{get:function(){if(!n.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}(),Jn(r,{flip:function(){return mn(this,Xt(this))},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return ge(t,e)})},lastKeyOf:function(e){return this.findLastKey(function(t){return ge(t,e)})},mapEntries:function(e,t){var n=this,r=0;return mn(this,this.toSeq().map(function(s,a){return e.call(t,[a,s],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return mn(this,this.toSeq().flip().map(function(r,s){return e.call(t,r,s,n)}).flip())}});var Zn=r.prototype;function $n(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(e){return"string"===typeof e?JSON.stringify(e):e}function sr(){return _(arguments)}function ar(e,t){return e<t?1:e>t?-1:0}function ir(e){if(e.size===1/0)return 0;var t=d(e),n=o(e),r=t?1:0;return or(e.__iterate(n?t?function(e,t){r=31*r+lr(ke(e),ke(t))|0}:function(e,t){r=r+lr(ke(e),ke(t))|0}:t?function(e){r=31*r+ke(e)|0}:function(e){r=r+ke(e)|0}),r)}function or(e,t){return t=Ce(t,3432918353),t=Ce(t<<15|t>>>-15,461845907),t=Ce(t<<13|t>>>-13,5),t=Ce((t=(t+3864292196|0)^e)^t>>>16,2246822507),t=Se((t=Ce(t^t>>>13,3266489909))^t>>>16)}function lr(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}return Zn[h]=!0,Zn[P]=Xn.entries,Zn.__toJS=Xn.toObject,Zn.__toStringMapper=function(e,t){return JSON.stringify(t)+": "+rr(e)},Jn(s,{toKeyedSeq:function(){return new qt(this,!1)},filter:function(e,t){return mn(this,en(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().reverse().keyOf(e);return void 0===t?-1:t},reverse:function(){return mn(this,$t(this,!1))},slice:function(e,t){return mn(this,rn(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=E(e,e<0?this.count():this.size);var r=this.slice(0,e);return mn(this,1===n?r:r.concat(_(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return mn(this,ln(this,e,!1))},get:function(e,t){return(e=S(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=S(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return mn(this,dn(this,e))},interleave:function(){var e=[this].concat(_(arguments)),t=fn(this.toSeq(),Y.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),mn(this,n)},last:function(){return this.get(-1)},skipWhile:function(e,t){return mn(this,an(this,e,t,!1))},zip:function(){return mn(this,fn(this,sr,[this].concat(_(arguments))))},zipWith:function(e){var t=_(arguments);return t[0]=this,mn(this,fn(this,e,t))}}),s.prototype[A]=!0,s.prototype[f]=!0,Jn(a,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}}),a.prototype.has=Xn.includes,Jn(G,r.prototype),Jn(Y,s.prototype),Jn(J,a.prototype),Jn(je,r.prototype),Jn(Ne,s.prototype),Jn(_e,a.prototype),{Iterable:n,Seq:q,Collection:we,Map:Ke,OrderedMap:zt,List:Nt,Stack:Hn,Set:Bn,OrderedSet:On,Record:jn,Range:ve,Repeat:be,is:ge,fromJS:Ae}}()},1363:(e,t,n)=>{"use strict";var r=n(5763),s=n(6283),a=n(6143),i=n(5036),o=n(9303),l=n(1900),c=n(8691),d=n(9102),u=a.isBrowser("Firefox");function h(e,t,n,a,i){var o=r.replaceText(e.getCurrentContent(),e.getSelection(),t,n,a);return s.push(e,o,"insert-characters",i)}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,r=t.data;if(r)if(e.props.handleBeforeInput&&o(e.props.handleBeforeInput(r,n,t.timeStamp)))t.preventDefault();else{var a=n.getSelection(),A=a.getStartOffset(),f=a.getAnchorKey();if(!a.isCollapsed())return t.preventDefault(),void e.update(h(n,r,n.getCurrentInlineStyle(),i(n.getCurrentContent(),n.getSelection()),!0));var m,p=h(n,r,n.getCurrentInlineStyle(),i(n.getCurrentContent(),n.getSelection()),!1),g=!1;if(g||(g=l(e._latestCommittedEditorState)),!g){var x=n.getBlockTree(f),b=p.getBlockTree(f);g=x.size!==b.size||x.zip(b).some(function(e){var t=e[0],n=e[1],s=t.get("start"),a=s+(s>=A?r.length:0),i=t.get("end"),o=i+(i>=A?r.length:0),l=n.get("start"),c=n.get("end"),d=n.get("decoratorKey");return t.get("decoratorKey")!==d||t.get("leaves").size!==n.get("leaves").size||a!==l||o!==c||null!=d&&c-l!==i-s})}if(g||(m=r,g=u&&("'"==m||"/"==m)),g||(g=c(p.getDirectionMap()).get(f)!==c(n.getDirectionMap()).get(f)),g)return t.preventDefault(),p=s.set(p,{forceSelection:!0}),void e.update(p);p=s.set(p,{nativelyRenderedContent:p.getCurrentContent()}),e._pendingStateFromBeforeInput=p,d(function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}}},1375:(e,t,n)=>{"use strict";var r=n(4939),s=n(8678),a=function(e,t){return e===t},i=function(e){return!!e},o=[];e.exports=function(e){var t=e.getCharacterList().map(function(e){return e.getStyle()}).toList(),n=t.flatten().toSet().map(function(n){return function(e,t,n){var o=[],l=t.map(function(e){return e.has(n)}).toList();return s(l,a,i,function(t,s){var a=e.getText();o.push({offset:r.strlen(a.slice(0,t)),length:r.strlen(a.slice(t,s)),style:n})}),o}(e,t,n)});return Array.prototype.concat.apply(o,n.toJS())}},1477:(e,t,n)=>{"use strict";var r=n(1320).Map;e.exports=function(e,t,n){var s=t.getStartKey(),a=t.getEndKey(),i=e.getBlockMap(),o=i.toSeq().skipUntil(function(e,t){return t===s}).takeUntil(function(e,t){return t===a}).concat(r([[a,i.get(a)]])).map(n);return e.merge({blockMap:i.merge(o),selectionBefore:t,selectionAfter:t})}},1589:(e,t,n)=>{"use strict";var r=n(2367),s=n(1320).Map,a={add:function(e,t,n){return i(e,t,n,!0)},remove:function(e,t,n){return i(e,t,n,!1)}};function i(e,t,n,a){var i=e.getBlockMap(),o=t.getStartKey(),l=t.getStartOffset(),c=t.getEndKey(),d=t.getEndOffset(),u=i.skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===c}).concat(s([[c,i.get(c)]])).map(function(e,t){var s,i;o===c?(s=l,i=d):(s=t===o?l:0,i=t===c?d:e.getLength());for(var u,h=e.getCharacterList();s<i;)u=h.get(s),h=h.set(s,a?r.applyStyle(u,n):r.removeStyle(u,n)),s++;return e.set("characterList",h)});return e.merge({blockMap:i.merge(u),selectionBefore:t,selectionAfter:t})}e.exports=a},1609:(e,t,n)=>{"use strict";var r=n(6968),s=n(5763),a=n(6283),i=n(5037),o=n(8358),l=n(2962),c=n(4733),d=n(978),u=n(9303),h=n(8691);var A={onDragEnd:function(e){e.exitCurrentMode(),f(e)},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),d=e._latestEditorState,A=function(e,t){var n=null,r=null,s=o(e.currentTarget);if("function"===typeof s.caretRangeFromPoint){var a=s.caretRangeFromPoint(e.x,e.y);n=a.startContainer,r=a.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=h(n),r=h(r);var l=h(i(n));return c(t,l,r,l,r)}(t.nativeEvent,d);if(t.preventDefault(),e._dragCount=0,e.exitCurrentMode(),null!=A){var p=n.getFiles();if(p.length>0){if(e.props.handleDroppedFiles&&u(e.props.handleDroppedFiles(A,p)))return;l(p,function(t){t&&e.update(m(d,A,t))})}else{var g=e._internalDrag?"internal":"external";e.props.handleDrop&&u(e.props.handleDrop(A,n,g))||(e._internalDrag?e.update(function(e,t){var n=s.moveText(e.getCurrentContent(),e.getSelection(),t);return a.push(e,n,"insert-fragment")}(d,A)):e.update(m(d,A,n.getText()))),f(e)}}}};function f(e){e._internalDrag=!1;var t=e.editorContainer;if(t){var n=new MouseEvent("mouseup",{view:d(t),bubbles:!0,cancelable:!0});t.dispatchEvent(n)}}function m(e,t,n){var r=s.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return a.push(e,r,"insert-fragment")}e.exports=A},1614:(e,t,n)=>{"use strict";function r(e,t){var n=s.get(e,t);return"auto"===n||"scroll"===n}var s={get:n(1075),getScrollParent:function(e){if(!e)return null;for(var t=e.ownerDocument;e&&e!==t.body;){if(r(e,"overflow")||r(e,"overflowY")||r(e,"overflowX"))return e;e=e.parentNode}return t.defaultView||t.parentWindow}};e.exports=s},1869:(e,t,n)=>{window,e.exports=function(e,t){return s={},n.m=r=[function(t,n){t.exports=e},function(e,n){e.exports=t},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var r=n(1),s=n(0),a=function(e){var t,n=null;return document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n},i=function(e,t,n){var r,a=e.textContent;return""===a.trim()?{chunk:(r=n,{text:" ",inlines:[new s.OrderedSet],entities:[r],blocks:[]})}:{chunk:{text:a,inlines:Array(a.length).fill(t),entities:Array(a.length).fill(n),blocks:[]}}},o=function(){return{text:"\n",inlines:[new s.OrderedSet],entities:new Array(1),blocks:[]}},l=function(){return{text:"",inlines:[],entities:[],blocks:[]}},c=function(e,t){return{text:"",inlines:[],entities:[],blocks:[{type:e,depth:0,data:t||new s.Map({})}]}},d=function(e,t,n){return{text:"\r",inlines:[],entities:[],blocks:[{type:e,depth:Math.max(0,Math.min(4,t)),data:n||new s.Map({})}]}},u=function(e){return{text:"\r ",inlines:[new s.OrderedSet],entities:[e],blocks:[{type:"atomic",depth:0,data:new s.Map({})}]}},h=function(e,t){return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},A=new s.Map({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:"ul"},"ordered-list-item":{element:"li",wrapper:"ol"},blockquote:{element:"blockquote"},code:{element:"pre"},atomic:{element:"figure"},unstyled:{element:"p",aliasedElements:["div"]}}),f={code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",strong:"BOLD",ins:"UNDERLINE",sub:"SUBSCRIPT",sup:"SUPERSCRIPT"};function m(e){return e.style.textAlign?new s.Map({"text-align":e.style.textAlign}):e.style.marginLeft?new s.Map({"margin-left":e.style.marginLeft}):void 0}var p=function(e){var t=void 0;if(e instanceof HTMLAnchorElement){var n={};t=e.dataset&&void 0!==e.dataset.mention?(n.url=e.href,n.text=e.innerHTML,n.value=e.dataset.value,r.Entity.__create("MENTION","IMMUTABLE",n)):(n.url=e.getAttribute&&e.getAttribute("href")||e.href,n.title=e.innerHTML,n.targetOption=e.target,r.Entity.__create("LINK","MUTABLE",n))}return t};n.d(t,"default",function(){return v});var g=" ",x=new RegExp("&nbsp;","g"),b=!0;function y(e,t,n,s,a,g){var x=e.nodeName.toLowerCase();if(g){var v=g(x,e);if(v){var w=r.Entity.__create(v.type,v.mutability,v.data||{});return{chunk:u(w)}}}if("#text"===x&&"\n"!==e.textContent)return i(e,t,a);if("br"===x)return{chunk:o()};if("img"===x&&e instanceof HTMLImageElement){var j={};j.src=e.getAttribute&&e.getAttribute("src")||e.src,j.alt=e.alt,j.height=e.style.height,j.width=e.style.width,e.style.float&&(j.alignment=e.style.float);var N=r.Entity.__create("IMAGE","MUTABLE",j);return{chunk:u(N)}}if("video"===x&&e instanceof HTMLVideoElement){var _={};_.src=e.getAttribute&&e.getAttribute("src")||e.src,_.alt=e.alt,_.height=e.style.height,_.width=e.style.width,e.style.float&&(_.alignment=e.style.float);var C=r.Entity.__create("VIDEO","MUTABLE",_);return{chunk:u(C)}}if("iframe"===x&&e instanceof HTMLIFrameElement){var S={};S.src=e.getAttribute&&e.getAttribute("src")||e.src,S.height=e.height,S.width=e.width;var k=r.Entity.__create("EMBEDDED_LINK","MUTABLE",S);return{chunk:u(k)}}var B,E=function(e,t){var n=A.filter(function(n){return n.element===e&&(!n.wrapper||n.wrapper===t)||n.wrapper===e||n.aliasedElements&&-1<n.aliasedElements.indexOf(e)}).keySeq().toSet().toArray();if(1===n.length)return n[0]}(x,s);E&&("ul"===x||"ol"===x?(s=x,n+=1):("unordered-list-item"!==E&&"ordered-list-item"!==E&&(s="",n=-1),b?(B=c(E,m(e)),b=!1):B=d(E,n,m(e)))),B=B||l(),t=function(e,t,n){var r,s=f[e];if(s)r=n.add(s).toOrderedSet();else if(t instanceof HTMLElement){var a=t;r=(r=n).withMutations(function(e){var t=a.style.color,n=a.style.backgroundColor,r=a.style.fontSize,s=a.style.fontFamily.replace(/^"|"$/g,""),i=a.style.fontWeight,o=a.style.textDecoration,l=a.style.fontStyle;t&&e.add("color-".concat(t.replace(/ /g,""))),n&&e.add("bgcolor-".concat(n.replace(/ /g,""))),r&&e.add("fontsize-".concat(r.replace(/px$/g,""))),s&&e.add("fontfamily-".concat(s)),"bold"===i&&e.add(f.strong),"underline"===o&&e.add(f.ins),"italic"===l&&e.add(f.em)}).toOrderedSet()}return r}(x,e,t);for(var L=e.firstChild;L;){var M=y(L,t,n,s,p(L)||a,g).chunk;B=h(B,M),L=L.nextSibling}return{chunk:B}}function v(e,t){var n,i,o,l=(n=t,i=e.trim().replace(x,g),(o=a(i))?(b=!0,{chunk:y(o,new s.OrderedSet,-1,"",void 0,n).chunk}):null);if(l){var c=l.chunk,d=new s.OrderedMap({});c.entities&&c.entities.forEach(function(e){e&&(d=d.set(e,r.Entity.__get(e)))});var u=0;return{contentBlocks:c.text.split("\r").map(function(e,t){var n=u+e.length,a=c&&c.inlines.slice(u,n),i=c&&c.entities.slice(u,n),o=new s.List(a.map(function(e,t){var n={style:e,entity:null};return i[t]&&(n.entity=i[t]),r.CharacterMetadata.create(n)}));return u=n,new r.ContentBlock({key:Object(r.genKey)(),type:c&&c.blocks[t]&&c.blocks[t].type||"unstyled",depth:c&&c.blocks[t]&&c.blocks[t].depth,data:c&&c.blocks[t]&&c.blocks[t].data||new s.Map({}),text:e,characterList:o})}),entityMap:d}}return null}}],n.c=s,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)n.d(r,s,function(t){return e[t]}.bind(null,s));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=2);function n(e){if(s[e])return s[e].exports;var t=s[e]={i:e,l:!1,exports:{}};return r[e].call(t.exports,t,t.exports,n),t.l=!0,t.exports}var r,s}(n(2119),n(4410))},1873:(e,t,n)=>{"use strict";n(7443);e.exports=function(e,t){var n=e.getSelection(),r=e.getCurrentContent(),s=n.getStartKey(),a=n.getStartOffset(),i=s,o=0;if(t>a){var l=r.getKeyBefore(s);if(null==l)i=s;else i=l,o=r.getBlockForKey(l).getText().length}else o=a-t;return n.merge({focusKey:i,focusOffset:o,isBackward:!0})}},1894:(e,t,n)=>{"use strict";var r=n(4939).substr;e.exports=function(e,t){var n=Array(e.length).fill(null);return t&&t.forEach(function(t){for(var s=r(e,0,t.offset).length,a=s+r(e,t.offset,t.length).length,i=s;i<a;i++)n[i]=t.key}),n}},1900:e=>{"use strict";e.exports=function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=e.getBlockTree(n),s=t.getStartOffset(),a=!1;return r.some(function(e){return s===e.get("start")?(a=!0,!0):s<e.get("end")&&e.get("leaves").some(function(e){var t=e.get("start");return s===t&&(a=!0,!0)})}),a}},1933:(e,t,n)=>{"use strict";var r=n(6283),s=n(3922),a=n(5089);e.exports=function(e,t){var n=t.currentTarget.ownerDocument;if(!Boolean(e.props.preserveSelectionOnBlur)&&a(n)===n.body){var i=n.defaultView.getSelection(),o=e.editor;1===i.rangeCount&&s(o,i.anchorNode)&&s(o,i.focusNode)&&i.removeAllRanges()}var l=e._latestEditorState,c=l.getSelection();if(c.getHasFocus()){var d=c.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(r.acceptSelection(l,d))}}},1967:(e,t,n)=>{"use strict";var r=n(7385);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"IMG"===e.nodeName)}},1981:(e,t,n)=>{"use strict";var r=n(8250),s=n(8645),a=n(6143),i=n(3922),o=n(5089),l=n(8358),c=n(6415),d=n(7385),u=a.isBrowser("IE");function h(e,t){if(!e)return"[empty]";var n=A(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(d(n)||c(!1),n.outerHTML)}function A(e,t){var n=void 0!==t?t(e):[];if(e.nodeType===Node.TEXT_NODE){var r=e.textContent.length;return l(e).createTextNode("[text "+r+(n.length?" | "+n.join(", "):"")+"]")}var s=e.cloneNode();1===s.nodeType&&n.length&&s.setAttribute("data-labels",n.join(", "));for(var a=e.childNodes,i=0;i<a.length;i++)s.appendChild(A(a[i],t));return s}function f(e,t){for(var n=e,r=n;n;){if(d(n)&&r.hasAttribute("contenteditable"))return h(n,t);r=n=n.parentNode}return"Could not find contentEditable parent of node"}function m(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function p(e,t,n,r){var a=o();if(e.extend&&null!=t&&i(a,t)){n>m(t)&&s.logSelectionStateFailure({anonymizedDom:f(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(r.toJS())});var l=t===e.focusNode;try{e.rangeCount>0&&e.extend&&e.extend(t,n)}catch(d){throw s.logSelectionStateFailure({anonymizedDom:f(t,function(t){var n=[];return t===a&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n}),extraParams:JSON.stringify({activeElementName:a?a.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:l,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:d?""+d:null,offset:n},null,2),selectionState:JSON.stringify(r.toJS(),null,2)}),d}}else if(t&&e.rangeCount>0){var c=e.getRangeAt(0);c.setEnd(t,n),e.addRange(c.cloneRange())}}function g(e,t,n,a){var i=l(t).createRange();if(n>m(t)&&(s.logSelectionStateFailure({anonymizedDom:f(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(a.toJS())}),r.handleExtensionCausedError()),i.setStart(t,n),u)try{e.addRange(i)}catch(o){0}else e.addRange(i)}e.exports={setDraftEditorSelection:function(e,t,n,r,s){var a=l(t);if(i(a.documentElement,t)){var o=a.defaultView.getSelection(),c=e.getAnchorKey(),d=e.getAnchorOffset(),u=e.getFocusKey(),h=e.getFocusOffset(),A=e.getIsBackward();if(!o.extend&&A){var f=c,m=d;c=u,d=h,u=f,h=m,A=!1}var x=c===n&&r<=d&&s>=d,b=u===n&&r<=h&&s>=h;if(x&&b)return o.removeAllRanges(),g(o,t,d-r,e),void p(o,t,h-r,e);if(A){if(b&&(o.removeAllRanges(),g(o,t,h-r,e)),x){var y=o.focusNode,v=o.focusOffset;o.removeAllRanges(),g(o,t,d-r,e),p(o,y,v,e)}}else x&&(o.removeAllRanges(),g(o,t,d-r,e)),b&&p(o,t,h-r,e)}},addFocusToSelection:p}},1984:(e,t,n)=>{"use strict";var r=n(2123);function s(){return s=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(7159),l=n(4414),c=n(5043),d=n(7904),u=n(947),h=n(8691),A=function(e,t,n,r){return d({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":n,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":t>=4,"public/DraftStyleDefault/listLTR":"LTR"===r,"public/DraftStyleDefault/listRTL":"RTL"===r})},f=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),s=t.isInCompositionMode(),a=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||s&&a)return!1;var i=t.getCurrentContent(),o=n.getCurrentContent(),l=t.getDecorator(),c=n.getDecorator();return s!==a||i!==o||l!==c||n.mustForceSelection()},i.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,i=e.customStyleMap,d=e.customStyleFn,f=e.editorState,m=e.editorKey,p=e.preventScroll,g=e.textDirectionality,x=f.getCurrentContent(),b=f.getSelection(),y=f.mustForceSelection(),v=f.getDecorator(),w=h(f.getDirectionMap()),j=x.getBlocksAsArray(),N=[],_=null,C=null,S=0;S<j.length;S++){var k=j[S],B=k.getKey(),E=k.getType(),L=n(k),M=void 0,F=void 0,I=void 0;L&&(M=L.component,F=L.props,I=L.editable);var D=g||w.get(B),T=l.encode(B,0,0),O={contentState:x,block:k,blockProps:F,blockStyleFn:r,customStyleMap:i,customStyleFn:d,decorator:v,direction:D,forceSelection:y,offsetKey:T,preventScroll:p,selection:b,tree:f.getBlockTree(B)},P=t.get(E)||t.get("unstyled"),U=P.wrapper,R=P.element||t.get("unstyled").element,Q=k.getDepth(),z="";if(r&&(z=r(k)),"li"===R)z=u(z,A(E,Q,C!==U||null===_||Q>_,D));var H=M||o,K={className:z,"data-block":!0,"data-editor":m,"data-offset-key":T,key:B};void 0!==I&&(K=a({},K,{contentEditable:I,suppressContentEditableWarning:!0}));var W=c.createElement(R,K,c.createElement(H,s({},O,{key:B})));N.push({block:W,wrapperTemplate:U,key:B,offsetKey:T}),_=U?k.getDepth():null,C=U}for(var V=[],q=0;q<N.length;){var G=N[q];if(G.wrapperTemplate){var Y=[];do{Y.push(N[q].block),q++}while(q<N.length&&N[q].wrapperTemplate===G.wrapperTemplate);var J=c.cloneElement(G.wrapperTemplate,{key:G.key+"-wrap","data-offset-key":G.offsetKey},Y);V.push(J)}else V.push(G.block),q++}return c.createElement("div",{"data-contents":"true"},V)},r}(c.Component);e.exports=f},2002:(e,t,n)=>{"use strict";var r=n(6283),s=n(4939),a=n(1873),i=n(3767);e.exports=function(e){var t=i(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),i=t.getAnchorOffset(),o=n.getBlockForKey(r).getText()[i-1];return a(e,o?s.getUTF16Length(o,0):1)},"backward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"backspace-character":"remove-range")}},2013:(e,t,n)=>{"use strict";var r=n(4923);e.exports=function(e){return e.which===r.RETURN&&(e.getModifierState("Shift")||e.getModifierState("Alt")||e.getModifierState("Control"))}},2119:(e,t,n)=>{"use strict";n.r(t),n.d(t,{Collection:()=>N,Iterable:()=>Nr,List:()=>sn,Map:()=>It,OrderedMap:()=>bn,OrderedSet:()=>ir,PairSorting:()=>ur,Range:()=>Hn,Record:()=>hr,Repeat:()=>br,Seq:()=>q,Set:()=>Tn,Stack:()=>_n,default:()=>_r,fromJS:()=>yr,get:()=>st,getIn:()=>Kn,has:()=>rt,hasIn:()=>Vn,hash:()=>Ae,is:()=>ce,isAssociative:()=>j,isCollection:()=>x,isImmutable:()=>M,isIndexed:()=>w,isKeyed:()=>y,isList:()=>rn,isMap:()=>ie,isOrdered:()=>I,isOrderedMap:()=>oe,isOrderedSet:()=>Mn,isPlainObject:()=>et,isRecord:()=>L,isSeq:()=>B,isSet:()=>Ln,isStack:()=>Nn,isValueObject:()=>le,merge:()=>yt,mergeDeep:()=>wt,mergeDeepWith:()=>jt,mergeWith:()=>vt,remove:()=>it,removeIn:()=>ht,set:()=>ot,setIn:()=>dt,update:()=>ft,updateIn:()=>lt,version:()=>jr});var r="delete",s=32,a=31,i={};function o(e){e&&(e.value=!0)}function l(){}function c(e){return void 0===e.size&&(e.size=e.__iterate(u)),e.size}function d(e,t){if("number"!==typeof t){var n=t>>>0;if(""+n!==t||4294967295===n)return NaN;t=n}return t<0?c(e)+t:t}function u(){return!0}function h(e,t,n){return(0===e&&!p(e)||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function A(e,t){return m(e,t,0)}function f(e,t){return m(e,t,t)}function m(e,t,n){return void 0===e?n:p(e)?t===1/0?t:0|Math.max(0,t+e):void 0===t||t===e?e:0|Math.min(t,e)}function p(e){return e<0||0===e&&1/e===-1/0}var g="@@__IMMUTABLE_ITERABLE__@@";function x(e){return Boolean(e&&e[g])}var b="@@__IMMUTABLE_KEYED__@@";function y(e){return Boolean(e&&e[b])}var v="@@__IMMUTABLE_INDEXED__@@";function w(e){return Boolean(e&&e[v])}function j(e){return y(e)||w(e)}var N=function(e){return x(e)?e:q(e)},_=function(e){function t(e){return y(e)?e:G(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(N),C=function(e){function t(e){return w(e)?e:Y(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(N),S=function(e){function t(e){return x(e)&&!j(e)?e:J(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t}(N);N.Keyed=_,N.Indexed=C,N.Set=S;var k="@@__IMMUTABLE_SEQ__@@";function B(e){return Boolean(e&&e[k])}var E="@@__IMMUTABLE_RECORD__@@";function L(e){return Boolean(e&&e[E])}function M(e){return x(e)||L(e)}var F="@@__IMMUTABLE_ORDERED__@@";function I(e){return Boolean(e&&e[F])}var D="function"===typeof Symbol&&Symbol.iterator,T="@@iterator",O=D||T,P=function(e){this.next=e};function U(e,t,n,r){var s=0===e?t:1===e?n:[t,n];return r?r.value=s:r={value:s,done:!1},r}function R(){return{value:void 0,done:!0}}function Q(e){return!!Array.isArray(e)||!!K(e)}function z(e){return e&&"function"===typeof e.next}function H(e){var t=K(e);return t&&t.call(e)}function K(e){var t=e&&(D&&e[D]||e[T]);if("function"===typeof t)return t}P.prototype.toString=function(){return"[Iterator]"},P.KEYS=0,P.VALUES=1,P.ENTRIES=2,P.prototype.inspect=P.prototype.toSource=function(){return this.toString()},P.prototype[O]=function(){return this};var W=Object.prototype.hasOwnProperty;function V(e){return!(!Array.isArray(e)&&"string"!==typeof e)||e&&"object"===typeof e&&Number.isInteger(e.length)&&e.length>=0&&(0===e.length?1===Object.keys(e).length:e.hasOwnProperty(e.length-1))}var q=function(e){function t(e){return void 0===e||null===e?te():M(e)?e.toSeq():function(e){var t=se(e);if(t)return function(e){var t=K(e);return t&&t===e.entries}(e)?t.fromEntrySeq():function(e){var t=K(e);return t&&t===e.keys}(e)?t.toSetSeq():t;if("object"===typeof e)return new Z(e);throw new TypeError("Expected Array or collection object of values, or keyed object: "+e)}(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq {","}")},t.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},t.prototype.__iterate=function(e,t){var n=this._cache;if(n){for(var r=n.length,s=0;s!==r;){var a=n[t?r-++s:s++];if(!1===e(a[1],a[0],this))break}return s}return this.__iterateUncached(e,t)},t.prototype.__iterator=function(e,t){var n=this._cache;if(n){var r=n.length,s=0;return new P(function(){if(s===r)return{value:void 0,done:!0};var a=n[t?r-++s:s++];return U(e,a[0],a[1])})}return this.__iteratorUncached(e,t)},t}(N),G=function(e){function t(e){return void 0===e||null===e?te().toKeyedSeq():x(e)?y(e)?e.toSeq():e.fromEntrySeq():L(e)?e.toSeq():ne(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toKeyedSeq=function(){return this},t}(q),Y=function(e){function t(e){return void 0===e||null===e?te():x(e)?y(e)?e.entrySeq():e.toIndexedSeq():L(e)?e.toSeq().entrySeq():re(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toIndexedSeq=function(){return this},t.prototype.toString=function(){return this.__toString("Seq [","]")},t}(q),J=function(e){function t(e){return(x(e)&&!j(e)?e:Y(e)).toSetSeq()}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return t(arguments)},t.prototype.toSetSeq=function(){return this},t}(q);q.isSeq=B,q.Keyed=G,q.Set=J,q.Indexed=Y,q.prototype[k]=!0;var X=function(e){function t(e){this._array=e,this.size=e.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this.has(e)?this._array[d(this,e)]:t},t.prototype.__iterate=function(e,t){for(var n=this._array,r=n.length,s=0;s!==r;){var a=t?r-++s:s++;if(!1===e(n[a],a,this))break}return s},t.prototype.__iterator=function(e,t){var n=this._array,r=n.length,s=0;return new P(function(){if(s===r)return{value:void 0,done:!0};var a=t?r-++s:s++;return U(e,a,n[a])})},t}(Y),Z=function(e){function t(e){var t=Object.keys(e).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e):[]);this._object=e,this._keys=t,this.size=t.length}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return void 0===t||this.has(e)?this._object[e]:t},t.prototype.has=function(e){return W.call(this._object,e)},t.prototype.__iterate=function(e,t){for(var n=this._object,r=this._keys,s=r.length,a=0;a!==s;){var i=r[t?s-++a:a++];if(!1===e(n[i],i,this))break}return a},t.prototype.__iterator=function(e,t){var n=this._object,r=this._keys,s=r.length,a=0;return new P(function(){if(a===s)return{value:void 0,done:!0};var i=r[t?s-++a:a++];return U(e,i,n[i])})},t}(G);Z.prototype[F]=!0;var $,ee=function(e){function t(e){this._collection=e,this.size=e.length||e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.__iterateUncached=function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=H(this._collection),r=0;if(z(n))for(var s;!(s=n.next()).done&&!1!==e(s.value,r++,this););return r},t.prototype.__iteratorUncached=function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=H(this._collection);if(!z(n))return new P(R);var r=0;return new P(function(){var t=n.next();return t.done?t:U(e,r++,t.value)})},t}(Y);function te(){return $||($=new X([]))}function ne(e){var t=se(e);if(t)return t.fromEntrySeq();if("object"===typeof e)return new Z(e);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+e)}function re(e){var t=se(e);if(t)return t;throw new TypeError("Expected Array or collection object of values: "+e)}function se(e){return V(e)?new X(e):Q(e)?new ee(e):void 0}var ae="@@__IMMUTABLE_MAP__@@";function ie(e){return Boolean(e&&e[ae])}function oe(e){return ie(e)&&I(e)}function le(e){return Boolean(e&&"function"===typeof e.equals&&"function"===typeof e.hashCode)}function ce(e,t){if(e===t||e!==e&&t!==t)return!0;if(!e||!t)return!1;if("function"===typeof e.valueOf&&"function"===typeof t.valueOf){if((e=e.valueOf())===(t=t.valueOf())||e!==e&&t!==t)return!0;if(!e||!t)return!1}return!!(le(e)&&le(t)&&e.equals(t))}var de="function"===typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(e,t){var n=65535&(e|=0),r=65535&(t|=0);return n*r+((e>>>16)*r+n*(t>>>16)<<16>>>0)|0};function ue(e){return e>>>1&1073741824|3221225471&e}var he=Object.prototype.valueOf;function Ae(e){if(null==e)return fe(e);if("function"===typeof e.hashCode)return ue(e.hashCode(e));var t,n=(t=e).valueOf!==he&&"function"===typeof t.valueOf?t.valueOf(t):t;if(null==n)return fe(n);switch(typeof n){case"boolean":return n?1108378657:1108378656;case"number":return function(e){if(e!==e||e===1/0)return 0;var t=0|e;t!==e&&(t^=4294967295*e);for(;e>4294967295;)t^=e/=4294967295;return ue(t)}(n);case"string":return n.length>Ne?function(e){var t=Se[e];void 0===t&&(t=me(e),Ce===_e&&(Ce=0,Se={}),Ce++,Se[e]=t);return t}(n):me(n);case"object":case"function":return function(e){var t;if(ye&&void 0!==(t=be.get(e)))return t;if(t=e[je],void 0!==t)return t;if(!ge){if(void 0!==(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[je]))return t;if(void 0!==(t=function(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}(e)))return t}if(t=xe(),ye)be.set(e,t);else{if(void 0!==pe&&!1===pe(e))throw new Error("Non-extensible objects are not allowed as keys.");if(ge)Object.defineProperty(e,je,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(void 0!==e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[je]=t;else{if(void 0===e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[je]=t}}return t}(n);case"symbol":return function(e){var t=ve[e];if(void 0!==t)return t;return t=xe(),ve[e]=t,t}(n);default:if("function"===typeof n.toString)return me(n.toString());throw new Error("Value type "+typeof n+" cannot be hashed.")}}function fe(e){return null===e?1108378658:1108378659}function me(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)|0;return ue(t)}var pe=Object.isExtensible,ge=function(){try{return Object.defineProperty({},"@",{}),!0}catch(e){return!1}}();function xe(){var e=++we;return 1073741824&we&&(we=0),e}var be,ye="function"===typeof WeakMap;ye&&(be=new WeakMap);var ve=Object.create(null),we=0,je="__immutablehash__";"function"===typeof Symbol&&(je=Symbol(je));var Ne=16,_e=255,Ce=0,Se={},ke=function(e){function t(e,t){this._iter=e,this._useKeys=t,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.get=function(e,t){return this._iter.get(e,t)},t.prototype.has=function(e){return this._iter.has(e)},t.prototype.valueSeq=function(){return this._iter.valueSeq()},t.prototype.reverse=function(){var e=this,t=Ie(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},t.prototype.map=function(e,t){var n=this,r=Fe(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t,r){return e(t,r,n)},t)},t.prototype.__iterator=function(e,t){return this._iter.__iterator(e,t)},t}(G);ke.prototype[F]=!0;var Be=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.includes=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this,r=0;return t&&c(this),this._iter.__iterate(function(s){return e(s,t?n.size-++r:r++,n)},t)},t.prototype.__iterator=function(e,t){var n=this,r=this._iter.__iterator(1,t),s=0;return t&&c(this),new P(function(){var a=r.next();return a.done?a:U(e,t?n.size-++s:s++,a.value,a)})},t}(Y),Ee=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.has=function(e){return this._iter.includes(e)},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new P(function(){var t=n.next();return t.done?t:U(e,t.value,t.value,t)})},t}(J),Le=function(e){function t(e){this._iter=e,this.size=e.size}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.entrySeq=function(){return this._iter.toSeq()},t.prototype.__iterate=function(e,t){var n=this;return this._iter.__iterate(function(t){if(t){Ke(t);var r=x(t);return e(r?t.get(1):t[1],r?t.get(0):t[0],n)}},t)},t.prototype.__iterator=function(e,t){var n=this._iter.__iterator(1,t);return new P(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r){Ke(r);var s=x(r);return U(e,s?r.get(0):r[0],s?r.get(1):r[1],t)}}})},t}(G);function Me(e){var t=Ve(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.includes(t)},t.includes=function(t){return e.has(t)},t.cacheResult=qe,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(2===t){var r=e.__iterator(t,n);return new P(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(1===t?0:1,n)},t}function Fe(e,t,n){var r=Ve(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,s){var a=e.get(r,i);return a===i?s:t.call(n,a,r,e)},r.__iterateUncached=function(r,s){var a=this;return e.__iterate(function(e,s,i){return!1!==r(t.call(n,e,s,i),s,a)},s)},r.__iteratorUncached=function(r,s){var a=e.__iterator(2,s);return new P(function(){var s=a.next();if(s.done)return s;var i=s.value,o=i[0];return U(r,o,t.call(n,i[1],o,e),s)})},r}function Ie(e,t){var n=this,r=Ve(e);return r._iter=e,r.size=e.size,r.reverse=function(){return e},e.flip&&(r.flip=function(){var t=Me(e);return t.reverse=function(){return e.flip()},t}),r.get=function(n,r){return e.get(t?n:-1-n,r)},r.has=function(n){return e.has(t?n:-1-n)},r.includes=function(t){return e.includes(t)},r.cacheResult=qe,r.__iterate=function(n,r){var s=this,a=0;return r&&c(e),e.__iterate(function(e,i){return n(e,t?i:r?s.size-++a:a++,s)},!r)},r.__iterator=function(r,s){var a=0;s&&c(e);var i=e.__iterator(2,!s);return new P(function(){var e=i.next();if(e.done)return e;var o=e.value;return U(r,t?o[0]:s?n.size-++a:a++,o[1],e)})},r}function De(e,t,n,r){var s=Ve(e);return r&&(s.has=function(r){var s=e.get(r,i);return s!==i&&!!t.call(n,s,r,e)},s.get=function(r,s){var a=e.get(r,i);return a!==i&&t.call(n,a,r,e)?a:s}),s.__iterateUncached=function(s,a){var i=this,o=0;return e.__iterate(function(e,a,l){if(t.call(n,e,a,l))return o++,s(e,r?a:o-1,i)},a),o},s.__iteratorUncached=function(s,a){var i=e.__iterator(2,a),o=0;return new P(function(){for(;;){var a=i.next();if(a.done)return a;var l=a.value,c=l[0],d=l[1];if(t.call(n,d,c,e))return U(s,r?c:o++,d,a)}})},s}function Te(e,t,n,r){var s=e.size;if(h(t,n,s))return e;if("undefined"===typeof s&&(t<0||n<0))return Te(e.toSeq().cacheResult(),t,n,r);var a,i=A(t,s),o=f(n,s)-i;o===o&&(a=o<0?0:o);var l=Ve(e);return l.size=0===a?a:e.size&&a||void 0,!r&&B(e)&&a>=0&&(l.get=function(t,n){return(t=d(this,t))>=0&&t<a?e.get(t+i,n):n}),l.__iterateUncached=function(t,n){var s=this;if(0===a)return 0;if(n)return this.cacheResult().__iterate(t,n);var o=0,l=!0,c=0;return e.__iterate(function(e,n){if(!l||!(l=o++<i))return c++,!1!==t(e,r?n:c-1,s)&&c!==a}),c},l.__iteratorUncached=function(t,n){if(0!==a&&n)return this.cacheResult().__iterator(t,n);if(0===a)return new P(R);var s=e.__iterator(t,n),o=0,l=0;return new P(function(){for(;o++<i;)s.next();if(++l>a)return{value:void 0,done:!0};var e=s.next();return r||1===t||e.done?e:U(t,l-1,0===t?void 0:e.value[1],e)})},l}function Oe(e,t,n,r){var s=Ve(e);return s.__iterateUncached=function(s,a){var i=this;if(a)return this.cacheResult().__iterate(s,a);var o=!0,l=0;return e.__iterate(function(e,a,c){if(!o||!(o=t.call(n,e,a,c)))return l++,s(e,r?a:l-1,i)}),l},s.__iteratorUncached=function(s,a){var i=this;if(a)return this.cacheResult().__iterator(s,a);var o=e.__iterator(2,a),l=!0,c=0;return new P(function(){var e,a,d;do{if((e=o.next()).done)return r||1===s?e:U(s,c++,0===s?void 0:e.value[1],e);var u=e.value;a=u[0],d=u[1],l&&(l=t.call(n,d,a,i))}while(l);return 2===s?e:U(s,a,d,e)})},s}function Pe(e,t,n){var r=Ve(e);return r.__iterateUncached=function(s,a){if(a)return this.cacheResult().__iterate(s,a);var i=0,o=!1;return function e(l,c){l.__iterate(function(a,l){return(!t||c<t)&&x(a)?e(a,c+1):(i++,!1===s(a,n?l:i-1,r)&&(o=!0)),!o},a)}(e,0),i},r.__iteratorUncached=function(r,s){if(s)return this.cacheResult().__iterator(r,s);var a=e.__iterator(r,s),i=[],o=0;return new P(function(){for(;a;){var e=a.next();if(!1===e.done){var l=e.value;if(2===r&&(l=l[1]),t&&!(i.length<t)||!x(l))return n?e:U(r,o++,l,e);i.push(a),a=l.__iterator(r,s)}else a=i.pop()}return{value:void 0,done:!0}})},r}function Ue(e,t,n){t||(t=Ge);var r=y(e),s=0,a=e.toSeq().map(function(t,r){return[r,t,s++,n?n(t,r,e):t]}).valueSeq().toArray();return a.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){a[t].length=2}:function(e,t){a[t]=e[1]}),r?G(a):w(e)?Y(a):J(a)}function Re(e,t,n){if(t||(t=Ge),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return Qe(t,e[1],n[1])?n:e});return r&&r[0]}return e.reduce(function(e,n){return Qe(t,e,n)?n:e})}function Qe(e,t,n){var r=e(n,t);return 0===r&&n!==t&&(void 0===n||null===n||n!==n)||r>0}function ze(e,t,n,r){var s=Ve(e),a=new X(n).map(function(e){return e.size});return s.size=r?a.max():a.min(),s.__iterate=function(e,t){for(var n,r=this.__iterator(1,t),s=0;!(n=r.next()).done&&!1!==e(n.value,s++,this););return s},s.__iteratorUncached=function(e,s){var a=n.map(function(e){return e=N(e),H(s?e.reverse():e)}),i=0,o=!1;return new P(function(){var n;return o||(n=a.map(function(e){return e.next()}),o=r?n.every(function(e){return e.done}):n.some(function(e){return e.done})),o?{value:void 0,done:!0}:U(e,i++,t.apply(null,n.map(function(e){return e.value})))})},s}function He(e,t){return e===t?e:B(e)?t:e.constructor(t)}function Ke(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function We(e){return y(e)?_:w(e)?C:S}function Ve(e){return Object.create((y(e)?G:w(e)?Y:J).prototype)}function qe(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):q.prototype.cacheResult.call(this)}function Ge(e,t){return void 0===e&&void 0===t?0:void 0===e?1:void 0===t?-1:e>t?1:e<t?-1:0}function Ye(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),s=0;s<n;s++)r[s]=e[s+t];return r}function Je(e,t){if(!e)throw new Error(t)}function Xe(e){Je(e!==1/0,"Cannot perform this action with an infinite size.")}function Ze(e){if(V(e)&&"string"!==typeof e)return e;if(I(e))return e.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+e)}Be.prototype.cacheResult=ke.prototype.cacheResult=Ee.prototype.cacheResult=Le.prototype.cacheResult=qe;var $e=Object.prototype.toString;function et(e){if(!e||"object"!==typeof e||"[object Object]"!==$e.call(e))return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var n=t,r=Object.getPrototypeOf(t);null!==r;)n=r,r=Object.getPrototypeOf(n);return n===t}function tt(e){return"object"===typeof e&&(M(e)||Array.isArray(e)||et(e))}function nt(e){try{return"string"===typeof e?JSON.stringify(e):String(e)}catch(t){return JSON.stringify(e)}}function rt(e,t){return M(e)?e.has(t):tt(e)&&W.call(e,t)}function st(e,t,n){return M(e)?e.get(t,n):rt(e,t)?"function"===typeof e.get?e.get(t):e[t]:n}function at(e){if(Array.isArray(e))return Ye(e);var t={};for(var n in e)W.call(e,n)&&(t[n]=e[n]);return t}function it(e,t){if(!tt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(M(e)){if(!e.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+e);return e.remove(t)}if(!W.call(e,t))return e;var n=at(e);return Array.isArray(n)?n.splice(t,1):delete n[t],n}function ot(e,t,n){if(!tt(e))throw new TypeError("Cannot update non-data-structure value: "+e);if(M(e)){if(!e.set)throw new TypeError("Cannot update immutable value without .set() method: "+e);return e.set(t,n)}if(W.call(e,t)&&n===e[t])return e;var r=at(e);return r[t]=n,r}function lt(e,t,n,r){r||(r=n,n=void 0);var s=ct(M(e),e,Ze(t),0,n,r);return s===i?n:s}function ct(e,t,n,r,s,a){var o=t===i;if(r===n.length){var l=o?s:t,c=a(l);return c===l?t:c}if(!o&&!tt(t))throw new TypeError("Cannot update within non-data-structure value in path ["+n.slice(0,r).map(nt)+"]: "+t);var d=n[r],u=o?i:st(t,d,i),h=ct(u===i?e:M(u),u,n,r+1,s,a);return h===u?t:h===i?it(t,d):ot(o?e?Vt():{}:t,d,h)}function dt(e,t,n){return lt(e,t,i,function(){return n})}function ut(e,t){return dt(this,e,t)}function ht(e,t){return lt(e,t,function(){return i})}function At(e){return ht(this,e)}function ft(e,t,n,r){return lt(e,[t],n,r)}function mt(e,t,n){return 1===arguments.length?e(this):ft(this,e,t,n)}function pt(e,t,n){return lt(this,e,t,n)}function gt(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return bt(this,e)}function xt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];if("function"!==typeof e)throw new TypeError("Invalid merger function: "+e);return bt(this,t,e)}function bt(e,t,n){for(var r=[],s=0;s<t.length;s++){var a=_(t[s]);0!==a.size&&r.push(a)}return 0===r.length?e:0!==e.toSeq().size||e.__ownerID||1!==r.length?e.withMutations(function(e){for(var t=n?function(t,r){ft(e,r,i,function(e){return e===i?t:n(e,t,r)})}:function(t,n){e.set(n,t)},s=0;s<r.length;s++)r[s].forEach(t)}):e.constructor(r[0])}function yt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return _t(e,t)}function vt(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return _t(t,n,e)}function wt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Nt(e,t)}function jt(e,t){for(var n=[],r=arguments.length-2;r-- >0;)n[r]=arguments[r+2];return Nt(t,n,e)}function Nt(e,t,n){return _t(e,t,function(e){function t(n,r,s){return tt(n)&&tt(r)&&function(e,t){var n=q(e),r=q(t);return w(n)===w(r)&&y(n)===y(r)}(n,r)?_t(n,[r],t):e?e(n,r,s):r}return t}(n))}function _t(e,t,n){if(!tt(e))throw new TypeError("Cannot merge into non-data-structure value: "+e);if(M(e))return"function"===typeof n&&e.mergeWith?e.mergeWith.apply(e,[n].concat(t)):e.merge?e.merge.apply(e,t):e.concat.apply(e,t);for(var r=Array.isArray(e),s=e,a=r?C:_,i=r?function(t){s===e&&(s=at(s)),s.push(t)}:function(t,r){var a=W.call(s,r),i=a&&n?n(s[r],t,r):t;a&&i===s[r]||(s===e&&(s=at(s)),s[r]=i)},o=0;o<t.length;o++)a(t[o]).forEach(i);return s}function Ct(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Nt(this,e)}function St(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return Nt(this,t,e)}function kt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return lt(this,e,Vt(),function(e){return _t(e,t)})}function Bt(e){for(var t=[],n=arguments.length-1;n-- >0;)t[n]=arguments[n+1];return lt(this,e,Vt(),function(e){return Nt(e,t)})}function Et(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this}function Lt(){return this.__ownerID?this:this.__ensureOwner(new l)}function Mt(){return this.__ensureOwner()}function Ft(){return this.__altered}var It=function(e){function t(t){return void 0===t||null===t?Vt():ie(t)&&!I(t)?t:Vt().withMutations(function(n){var r=e(t);Xe(r.size),r.forEach(function(e,t){return n.set(t,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return Vt().withMutations(function(t){for(var n=0;n<e.length;n+=2){if(n+1>=e.length)throw new Error("Missing value for key: "+e[n]);t.set(e[n],e[n+1])}})},t.prototype.toString=function(){return this.__toString("Map {","}")},t.prototype.get=function(e,t){return this._root?this._root.get(0,void 0,e,t):t},t.prototype.set=function(e,t){return qt(this,e,t)},t.prototype.remove=function(e){return qt(this,e,i)},t.prototype.deleteAll=function(e){var t=N(e);return 0===t.size?this:this.withMutations(function(e){t.forEach(function(t){return e.remove(t)})})},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Vt()},t.prototype.sort=function(e){return bn(Ue(this,e))},t.prototype.sortBy=function(e,t){return bn(Ue(this,t,e))},t.prototype.map=function(e,t){var n=this;return this.withMutations(function(r){r.forEach(function(s,a){r.set(a,e.call(t,s,a,n))})})},t.prototype.__iterator=function(e,t){return new zt(this,e,t)},t.prototype.__iterate=function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?Wt(this.size,this._root,e,this.__hash):0===this.size?Vt():(this.__ownerID=e,this.__altered=!1,this)},t}(_);It.isMap=ie;var Dt=It.prototype;Dt[ae]=!0,Dt[r]=Dt.remove,Dt.removeAll=Dt.deleteAll,Dt.setIn=ut,Dt.removeIn=Dt.deleteIn=At,Dt.update=mt,Dt.updateIn=pt,Dt.merge=Dt.concat=gt,Dt.mergeWith=xt,Dt.mergeDeep=Ct,Dt.mergeDeepWith=St,Dt.mergeIn=kt,Dt.mergeDeepIn=Bt,Dt.withMutations=Et,Dt.wasAltered=Ft,Dt.asImmutable=Mt,Dt["@@transducer/init"]=Dt.asMutable=Lt,Dt["@@transducer/step"]=function(e,t){return e.set(t[0],t[1])},Dt["@@transducer/result"]=function(e){return e.asImmutable()};var Tt=function(e,t){this.ownerID=e,this.entries=t};Tt.prototype.get=function(e,t,n,r){for(var s=this.entries,a=0,i=s.length;a<i;a++)if(ce(n,s[a][0]))return s[a][1];return r},Tt.prototype.update=function(e,t,n,r,s,a,c){for(var d=s===i,u=this.entries,h=0,A=u.length;h<A&&!ce(r,u[h][0]);h++);var f=h<A;if(f?u[h][1]===s:d)return this;if(o(c),(d||!f)&&o(a),!d||1!==u.length){if(!f&&!d&&u.length>=$t)return function(e,t,n,r){e||(e=new l);for(var s=new Rt(e,Ae(n),[n,r]),a=0;a<t.length;a++){var i=t[a];s=s.update(e,0,void 0,i[0],i[1])}return s}(e,u,r,s);var m=e&&e===this.ownerID,p=m?u:Ye(u);return f?d?h===A-1?p.pop():p[h]=p.pop():p[h]=[r,s]:p.push([r,s]),m?(this.entries=p,this):new Tt(e,p)}};var Ot=function(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n};Ot.prototype.get=function(e,t,n,r){void 0===t&&(t=Ae(n));var s=1<<((0===e?t:t>>>e)&a),i=this.bitmap;return 0===(i&s)?r:this.nodes[Xt(i&s-1)].get(e+5,t,n,r)},Ot.prototype.update=function(e,t,n,r,o,l,c){void 0===n&&(n=Ae(r));var d=(0===t?n:n>>>t)&a,u=1<<d,h=this.bitmap,A=0!==(h&u);if(!A&&o===i)return this;var f=Xt(h&u-1),m=this.nodes,p=A?m[f]:void 0,g=Gt(p,e,t+5,n,r,o,l,c);if(g===p)return this;if(!A&&g&&m.length>=en)return function(e,t,n,r,a){for(var i=0,o=new Array(s),l=0;0!==n;l++,n>>>=1)o[l]=1&n?t[i++]:void 0;return o[r]=a,new Pt(e,i+1,o)}(e,m,h,d,g);if(A&&!g&&2===m.length&&Yt(m[1^f]))return m[1^f];if(A&&g&&1===m.length&&Yt(g))return g;var x=e&&e===this.ownerID,b=A?g?h:h^u:h|u,y=A?g?Zt(m,f,g,x):function(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var s=new Array(r),a=0,i=0;i<r;i++)i===t&&(a=1),s[i]=e[i+a];return s}(m,f,x):function(e,t,n,r){var s=e.length+1;if(r&&t+1===s)return e[t]=n,e;for(var a=new Array(s),i=0,o=0;o<s;o++)o===t?(a[o]=n,i=-1):a[o]=e[o+i];return a}(m,f,g,x);return x?(this.bitmap=b,this.nodes=y,this):new Ot(e,b,y)};var Pt=function(e,t,n){this.ownerID=e,this.count=t,this.nodes=n};Pt.prototype.get=function(e,t,n,r){void 0===t&&(t=Ae(n));var s=(0===e?t:t>>>e)&a,i=this.nodes[s];return i?i.get(e+5,t,n,r):r},Pt.prototype.update=function(e,t,n,r,s,o,l){void 0===n&&(n=Ae(r));var c=(0===t?n:n>>>t)&a,d=s===i,u=this.nodes,h=u[c];if(d&&!h)return this;var A=Gt(h,e,t+5,n,r,s,o,l);if(A===h)return this;var f=this.count;if(h){if(!A&&--f<tn)return function(e,t,n,r){for(var s=0,a=0,i=new Array(n),o=0,l=1,c=t.length;o<c;o++,l<<=1){var d=t[o];void 0!==d&&o!==r&&(s|=l,i[a++]=d)}return new Ot(e,s,i)}(e,u,f,c)}else f++;var m=e&&e===this.ownerID,p=Zt(u,c,A,m);return m?(this.count=f,this.nodes=p,this):new Pt(e,f,p)};var Ut=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n};Ut.prototype.get=function(e,t,n,r){for(var s=this.entries,a=0,i=s.length;a<i;a++)if(ce(n,s[a][0]))return s[a][1];return r},Ut.prototype.update=function(e,t,n,r,s,a,l){void 0===n&&(n=Ae(r));var c=s===i;if(n!==this.keyHash)return c?this:(o(l),o(a),Jt(this,e,t,n,[r,s]));for(var d=this.entries,u=0,h=d.length;u<h&&!ce(r,d[u][0]);u++);var A=u<h;if(A?d[u][1]===s:c)return this;if(o(l),(c||!A)&&o(a),c&&2===h)return new Rt(e,this.keyHash,d[1^u]);var f=e&&e===this.ownerID,m=f?d:Ye(d);return A?c?u===h-1?m.pop():m[u]=m.pop():m[u]=[r,s]:m.push([r,s]),f?(this.entries=m,this):new Ut(e,this.keyHash,m)};var Rt=function(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n};Rt.prototype.get=function(e,t,n,r){return ce(n,this.entry[0])?this.entry[1]:r},Rt.prototype.update=function(e,t,n,r,s,a,l){var c=s===i,d=ce(r,this.entry[0]);return(d?s===this.entry[1]:c)?this:(o(l),c?void o(a):d?e&&e===this.ownerID?(this.entry[1]=s,this):new Rt(e,this.keyHash,[r,s]):(o(a),Jt(this,e,t,Ae(r),[r,s])))},Tt.prototype.iterate=Ut.prototype.iterate=function(e,t){for(var n=this.entries,r=0,s=n.length-1;r<=s;r++)if(!1===e(n[t?s-r:r]))return!1},Ot.prototype.iterate=Pt.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,s=n.length-1;r<=s;r++){var a=n[t?s-r:r];if(a&&!1===a.iterate(e,t))return!1}},Rt.prototype.iterate=function(e,t){return e(this.entry)};var Qt,zt=function(e){function t(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&Kt(e._root)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.next=function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,s=void 0;if(n.entry){if(0===r)return Ht(e,n.entry)}else if(n.entries){if(r<=(s=n.entries.length-1))return Ht(e,n.entries[this._reverse?s-r:r])}else if(r<=(s=n.nodes.length-1)){var a=n.nodes[this._reverse?s-r:r];if(a){if(a.entry)return Ht(e,a.entry);t=this._stack=Kt(a,t)}continue}t=this._stack=this._stack.__prev}return{value:void 0,done:!0}},t}(P);function Ht(e,t){return U(e,t[0],t[1])}function Kt(e,t){return{node:e,index:0,__prev:t}}function Wt(e,t,n,r){var s=Object.create(Dt);return s.size=e,s._root=t,s.__ownerID=n,s.__hash=r,s.__altered=!1,s}function Vt(){return Qt||(Qt=Wt(0))}function qt(e,t,n){var r,s;if(e._root){var a={value:!1},o={value:!1};if(r=Gt(e._root,e.__ownerID,0,void 0,t,n,a,o),!o.value)return e;s=e.size+(a.value?n===i?-1:1:0)}else{if(n===i)return e;s=1,r=new Tt(e.__ownerID,[[t,n]])}return e.__ownerID?(e.size=s,e._root=r,e.__hash=void 0,e.__altered=!0,e):r?Wt(s,r):Vt()}function Gt(e,t,n,r,s,a,l,c){return e?e.update(t,n,r,s,a,l,c):a===i?e:(o(c),o(l),new Rt(t,r,[s,a]))}function Yt(e){return e.constructor===Rt||e.constructor===Ut}function Jt(e,t,n,r,s){if(e.keyHash===r)return new Ut(t,r,[e.entry,s]);var i,o=(0===n?e.keyHash:e.keyHash>>>n)&a,l=(0===n?r:r>>>n)&a,c=o===l?[Jt(e,t,n+5,r,s)]:(i=new Rt(t,r,s),o<l?[e,i]:[i,e]);return new Ot(t,1<<o|1<<l,c)}function Xt(e){return e=(e=(858993459&(e-=e>>1&1431655765))+(e>>2&858993459))+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function Zt(e,t,n,r){var s=r?e:Ye(e);return s[t]=n,s}var $t=8,en=16,tn=8,nn="@@__IMMUTABLE_LIST__@@";function rn(e){return Boolean(e&&e[nn])}var sn=function(e){function t(t){var n=hn();if(void 0===t||null===t)return n;if(rn(t))return t;var r=e(t),a=r.size;return 0===a?n:(Xe(a),a>0&&a<s?un(0,a,5,null,new on(r.toArray())):n.withMutations(function(e){e.setSize(a),r.forEach(function(t,n){return e.set(n,t)})}))}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("List [","]")},t.prototype.get=function(e,t){if((e=d(this,e))>=0&&e<this.size){var n=mn(this,e+=this._origin);return n&&n.array[e&a]}return t},t.prototype.set=function(e,t){return function(e,t,n){if(t=d(e,t),t!==t)return e;if(t>=e.size||t<0)return e.withMutations(function(e){t<0?pn(e,t).set(0,n):pn(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,s=e._root,a={value:!1};t>=gn(e._capacity)?r=An(r,e.__ownerID,0,t,n,a):s=An(s,e.__ownerID,e._level,t,n,a);if(!a.value)return e;if(e.__ownerID)return e._root=s,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return un(e._origin,e._capacity,e._level,s,r)}(this,e,t)},t.prototype.remove=function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},t.prototype.insert=function(e,t){return this.splice(e,0,t)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=5,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):hn()},t.prototype.push=function(){var e=arguments,t=this.size;return this.withMutations(function(n){pn(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},t.prototype.pop=function(){return pn(this,0,-1)},t.prototype.unshift=function(){var e=arguments;return this.withMutations(function(t){pn(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},t.prototype.shift=function(){return pn(this,1)},t.prototype.concat=function(){for(var t=arguments,n=[],r=0;r<arguments.length;r++){var s=t[r],a=e("string"!==typeof s&&Q(s)?s:[s]);0!==a.size&&n.push(a)}return 0===n.length?this:0!==this.size||this.__ownerID||1!==n.length?this.withMutations(function(e){n.forEach(function(t){return t.forEach(function(t){return e.push(t)})})}):this.constructor(n[0])},t.prototype.setSize=function(e){return pn(this,0,e)},t.prototype.map=function(e,t){var n=this;return this.withMutations(function(r){for(var s=0;s<n.size;s++)r.set(s,e.call(t,r.get(s),s,n))})},t.prototype.slice=function(e,t){var n=this.size;return h(e,t,n)?this:pn(this,A(e,n),f(t,n))},t.prototype.__iterator=function(e,t){var n=t?this.size:0,r=dn(this,t);return new P(function(){var s=r();return s===cn?{value:void 0,done:!0}:U(e,t?--n:n++,s)})},t.prototype.__iterate=function(e,t){for(var n,r=t?this.size:0,s=dn(this,t);(n=s())!==cn&&!1!==e(n,t?--r:r++,this););return r},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?un(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash):0===this.size?hn():(this.__ownerID=e,this.__altered=!1,this)},t}(C);sn.isList=rn;var an=sn.prototype;an[nn]=!0,an[r]=an.remove,an.merge=an.concat,an.setIn=ut,an.deleteIn=an.removeIn=At,an.update=mt,an.updateIn=pt,an.mergeIn=kt,an.mergeDeepIn=Bt,an.withMutations=Et,an.wasAltered=Ft,an.asImmutable=Mt,an["@@transducer/init"]=an.asMutable=Lt,an["@@transducer/step"]=function(e,t){return e.push(t)},an["@@transducer/result"]=function(e){return e.asImmutable()};var on=function(e,t){this.array=e,this.ownerID=t};on.prototype.removeBefore=function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var r=n>>>t&a;if(r>=this.array.length)return new on([],e);var s,i=0===r;if(t>0){var o=this.array[r];if((s=o&&o.removeBefore(e,t-5,n))===o&&i)return this}if(i&&!s)return this;var l=fn(this,e);if(!i)for(var c=0;c<r;c++)l.array[c]=void 0;return s&&(l.array[r]=s),l},on.prototype.removeAfter=function(e,t,n){if(n===(t?1<<t:0)||0===this.array.length)return this;var r,s=n-1>>>t&a;if(s>=this.array.length)return this;if(t>0){var i=this.array[s];if((r=i&&i.removeAfter(e,t-5,n))===i&&s===this.array.length-1)return this}var o=fn(this,e);return o.array.splice(s+1),r&&(o.array[s]=r),o};var ln,cn={};function dn(e,t){var n=e._origin,r=e._capacity,a=gn(r),i=e._tail;return o(e._root,e._level,0);function o(e,l,c){return 0===l?function(e,o){var l=o===a?i&&i.array:e&&e.array,c=o>n?0:n-o,d=r-o;d>s&&(d=s);return function(){if(c===d)return cn;var e=t?--d:c++;return l&&l[e]}}(e,c):function(e,a,i){var l,c=e&&e.array,d=i>n?0:n-i>>a,u=1+(r-i>>a);u>s&&(u=s);return function(){for(;;){if(l){var e=l();if(e!==cn)return e;l=null}if(d===u)return cn;var n=t?--u:d++;l=o(c&&c[n],a-5,i+(n<<a))}}}(e,l,c)}}function un(e,t,n,r,s,a,i){var o=Object.create(an);return o.size=t-e,o._origin=e,o._capacity=t,o._level=n,o._root=r,o._tail=s,o.__ownerID=a,o.__hash=i,o.__altered=!1,o}function hn(){return ln||(ln=un(0,0,5))}function An(e,t,n,r,s,i){var l,c=r>>>n&a,d=e&&c<e.array.length;if(!d&&void 0===s)return e;if(n>0){var u=e&&e.array[c],h=An(u,t,n-5,r,s,i);return h===u?e:((l=fn(e,t)).array[c]=h,l)}return d&&e.array[c]===s?e:(i&&o(i),l=fn(e,t),void 0===s&&c===l.array.length-1?l.array.pop():l.array[c]=s,l)}function fn(e,t){return t&&e&&t===e.ownerID?e:new on(e?e.array.slice():[],t)}function mn(e,t){if(t>=gn(e._capacity))return e._tail;if(t<1<<e._level+5){for(var n=e._root,r=e._level;n&&r>0;)n=n.array[t>>>r&a],r-=5;return n}}function pn(e,t,n){void 0!==t&&(t|=0),void 0!==n&&(n|=0);var r=e.__ownerID||new l,s=e._origin,i=e._capacity,o=s+t,c=void 0===n?i:n<0?i+n:s+n;if(o===s&&c===i)return e;if(o>=c)return e.clear();for(var d=e._level,u=e._root,h=0;o+h<0;)u=new on(u&&u.array.length?[void 0,u]:[],r),h+=1<<(d+=5);h&&(o+=h,s+=h,c+=h,i+=h);for(var A=gn(i),f=gn(c);f>=1<<d+5;)u=new on(u&&u.array.length?[u]:[],r),d+=5;var m=e._tail,p=f<A?mn(e,c-1):f>A?new on([],r):m;if(m&&f>A&&o<i&&m.array.length){for(var g=u=fn(u,r),x=d;x>5;x-=5){var b=A>>>x&a;g=g.array[b]=fn(g.array[b],r)}g.array[A>>>5&a]=m}if(c<i&&(p=p&&p.removeAfter(r,0,c)),o>=f)o-=f,c-=f,d=5,u=null,p=p&&p.removeBefore(r,0,o);else if(o>s||f<A){for(h=0;u;){var y=o>>>d&a;if(y!==f>>>d&a)break;y&&(h+=(1<<d)*y),d-=5,u=u.array[y]}u&&o>s&&(u=u.removeBefore(r,d,o-h)),u&&f<A&&(u=u.removeAfter(r,d,f-h)),h&&(o-=h,c-=h)}return e.__ownerID?(e.size=c-o,e._origin=o,e._capacity=c,e._level=d,e._root=u,e._tail=p,e.__hash=void 0,e.__altered=!0,e):un(o,c,d,u,p)}function gn(e){return e<s?0:e-1>>>5<<5}var xn,bn=function(e){function t(e){return void 0===e||null===e?vn():oe(e)?e:vn().withMutations(function(t){var n=_(e);Xe(n.size),n.forEach(function(e,n){return t.set(n,e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("OrderedMap {","}")},t.prototype.get=function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):vn()},t.prototype.set=function(e,t){return wn(this,e,t)},t.prototype.remove=function(e){return wn(this,e,i)},t.prototype.__iterate=function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},t.prototype.__iterator=function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);return e?yn(t,n,e,this.__hash):0===this.size?vn():(this.__ownerID=e,this.__altered=!1,this._map=t,this._list=n,this)},t}(It);function yn(e,t,n,r){var s=Object.create(bn.prototype);return s.size=e?e.size:0,s._map=e,s._list=t,s.__ownerID=n,s.__hash=r,s.__altered=!1,s}function vn(){return xn||(xn=yn(Vt(),hn()))}function wn(e,t,n){var r,a,o=e._map,l=e._list,c=o.get(t),d=void 0!==c;if(n===i){if(!d)return e;l.size>=s&&l.size>=2*o.size?(r=(a=l.filter(function(e,t){return void 0!==e&&c!==t})).toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(r.__ownerID=a.__ownerID=e.__ownerID)):(r=o.remove(t),a=c===l.size-1?l.pop():l.set(c,void 0))}else if(d){if(n===l.get(c)[1])return e;r=o,a=l.set(c,[t,n])}else r=o.set(t,l.size),a=l.set(l.size,[t,n]);return e.__ownerID?(e.size=r.size,e._map=r,e._list=a,e.__hash=void 0,e.__altered=!0,e):yn(r,a)}bn.isOrderedMap=oe,bn.prototype[F]=!0,bn.prototype[r]=bn.prototype.remove;var jn="@@__IMMUTABLE_STACK__@@";function Nn(e){return Boolean(e&&e[jn])}var _n=function(e){function t(e){return void 0===e||null===e?Bn():Nn(e)?e:Bn().pushAll(e)}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.prototype.toString=function(){return this.__toString("Stack [","]")},t.prototype.get=function(e,t){var n=this._head;for(e=d(this,e);n&&e--;)n=n.next;return n?n.value:t},t.prototype.peek=function(){return this._head&&this._head.value},t.prototype.push=function(){var e=arguments;if(0===arguments.length)return this;for(var t=this.size+arguments.length,n=this._head,r=arguments.length-1;r>=0;r--)n={value:e[r],next:n};return this.__ownerID?(this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this):kn(t,n)},t.prototype.pushAll=function(t){if(0===(t=e(t)).size)return this;if(0===this.size&&Nn(t))return t;Xe(t.size);var n=this.size,r=this._head;return t.__iterate(function(e){n++,r={value:e,next:r}},!0),this.__ownerID?(this.size=n,this._head=r,this.__hash=void 0,this.__altered=!0,this):kn(n,r)},t.prototype.pop=function(){return this.slice(1)},t.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Bn()},t.prototype.slice=function(t,n){if(h(t,n,this.size))return this;var r=A(t,this.size);if(f(n,this.size)!==this.size)return e.prototype.slice.call(this,t,n);for(var s=this.size-r,a=this._head;r--;)a=a.next;return this.__ownerID?(this.size=s,this._head=a,this.__hash=void 0,this.__altered=!0,this):kn(s,a)},t.prototype.__ensureOwner=function(e){return e===this.__ownerID?this:e?kn(this.size,this._head,e,this.__hash):0===this.size?Bn():(this.__ownerID=e,this.__altered=!1,this)},t.prototype.__iterate=function(e,t){var n=this;if(t)return new X(this.toArray()).__iterate(function(t,r){return e(t,r,n)},t);for(var r=0,s=this._head;s&&!1!==e(s.value,r++,this);)s=s.next;return r},t.prototype.__iterator=function(e,t){if(t)return new X(this.toArray()).__iterator(e,t);var n=0,r=this._head;return new P(function(){if(r){var t=r.value;return r=r.next,U(e,n++,t)}return{value:void 0,done:!0}})},t}(C);_n.isStack=Nn;var Cn,Sn=_n.prototype;function kn(e,t,n,r){var s=Object.create(Sn);return s.size=e,s._head=t,s.__ownerID=n,s.__hash=r,s.__altered=!1,s}function Bn(){return Cn||(Cn=kn(0))}Sn[jn]=!0,Sn.shift=Sn.pop,Sn.unshift=Sn.push,Sn.unshiftAll=Sn.pushAll,Sn.withMutations=Et,Sn.wasAltered=Ft,Sn.asImmutable=Mt,Sn["@@transducer/init"]=Sn.asMutable=Lt,Sn["@@transducer/step"]=function(e,t){return e.unshift(t)},Sn["@@transducer/result"]=function(e){return e.asImmutable()};var En="@@__IMMUTABLE_SET__@@";function Ln(e){return Boolean(e&&e[En])}function Mn(e){return Ln(e)&&I(e)}function Fn(e,t){if(e===t)return!0;if(!x(t)||void 0!==e.size&&void 0!==t.size&&e.size!==t.size||void 0!==e.__hash&&void 0!==t.__hash&&e.__hash!==t.__hash||y(e)!==y(t)||w(e)!==w(t)||I(e)!==I(t))return!1;if(0===e.size&&0===t.size)return!0;var n=!j(e);if(I(e)){var r=e.entries();return t.every(function(e,t){var s=r.next().value;return s&&ce(s[1],e)&&(n||ce(s[0],t))})&&r.next().done}var s=!1;if(void 0===e.size)if(void 0===t.size)"function"===typeof e.cacheResult&&e.cacheResult();else{s=!0;var a=e;e=t,t=a}var o=!0,l=t.__iterate(function(t,r){if(n?!e.has(t):s?!ce(t,e.get(r,i)):!ce(e.get(r,i),t))return o=!1,!1});return o&&e.size===l}function In(e,t){var n=function(n){e.prototype[n]=t[n]};return Object.keys(t).forEach(n),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(n),e}function Dn(e){if(!e||"object"!==typeof e)return e;if(!x(e)){if(!tt(e))return e;e=q(e)}if(y(e)){var t={};return e.__iterate(function(e,n){t[n]=Dn(e)}),t}var n=[];return e.__iterate(function(e){n.push(Dn(e))}),n}var Tn=function(e){function t(t){return void 0===t||null===t?Qn():Ln(t)&&!I(t)?t:Qn().withMutations(function(n){var r=e(t);Xe(r.size),r.forEach(function(e){return n.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(_(e).keySeq())},t.intersect=function(e){return(e=N(e).toArray()).length?Pn.intersect.apply(t(e.pop()),e):Qn()},t.union=function(e){return(e=N(e).toArray()).length?Pn.union.apply(t(e.pop()),e):Qn()},t.prototype.toString=function(){return this.__toString("Set {","}")},t.prototype.has=function(e){return this._map.has(e)},t.prototype.add=function(e){return Un(this,this._map.set(e,e))},t.prototype.remove=function(e){return Un(this,this._map.remove(e))},t.prototype.clear=function(){return Un(this,this._map.clear())},t.prototype.map=function(e,t){var n=this,r=!1,s=Un(this,this._map.mapEntries(function(s){var a=s[1],i=e.call(t,a,a,n);return i!==a&&(r=!0),[i,i]},t));return r?s:this},t.prototype.union=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];return 0===(t=t.filter(function(e){return 0!==e.size})).length?this:0!==this.size||this.__ownerID||1!==t.length?this.withMutations(function(n){for(var r=0;r<t.length;r++)"string"===typeof t[r]?n.add(t[r]):e(t[r]).forEach(function(e){return n.add(e)})}):this.constructor(t[0])},t.prototype.intersect=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.every(function(t){return t.includes(e)})||r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.subtract=function(){for(var t=[],n=arguments.length;n--;)t[n]=arguments[n];if(0===t.length)return this;t=t.map(function(t){return e(t)});var r=[];return this.forEach(function(e){t.some(function(t){return t.includes(e)})&&r.push(e)}),this.withMutations(function(e){r.forEach(function(t){e.remove(t)})})},t.prototype.sort=function(e){return ir(Ue(this,e))},t.prototype.sortBy=function(e,t){return ir(Ue(this,t,e))},t.prototype.wasAltered=function(){return this._map.wasAltered()},t.prototype.__iterate=function(e,t){var n=this;return this._map.__iterate(function(t){return e(t,t,n)},t)},t.prototype.__iterator=function(e,t){return this._map.__iterator(e,t)},t.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);return e?this.__make(t,e):0===this.size?this.__empty():(this.__ownerID=e,this._map=t,this)},t}(S);Tn.isSet=Ln;var On,Pn=Tn.prototype;function Un(e,t){return e.__ownerID?(e.size=t.size,e._map=t,e):t===e._map?e:0===t.size?e.__empty():e.__make(t)}function Rn(e,t){var n=Object.create(Pn);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function Qn(){return On||(On=Rn(Vt()))}Pn[En]=!0,Pn[r]=Pn.remove,Pn.merge=Pn.concat=Pn.union,Pn.withMutations=Et,Pn.asImmutable=Mt,Pn["@@transducer/init"]=Pn.asMutable=Lt,Pn["@@transducer/step"]=function(e,t){return e.add(t)},Pn["@@transducer/result"]=function(e){return e.asImmutable()},Pn.__empty=Qn,Pn.__make=Rn;var zn,Hn=function(e){function t(e,n,r){if(!(this instanceof t))return new t(e,n,r);if(Je(0!==r,"Cannot step a Range by 0"),e=e||0,void 0===n&&(n=1/0),r=void 0===r?1:Math.abs(r),n<e&&(r=-r),this._start=e,this._end=n,this._step=r,this.size=Math.max(0,Math.ceil((n-e)/r-1)+1),0===this.size){if(zn)return zn;zn=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(1!==this._step?" by "+this._step:"")+" ]"},t.prototype.get=function(e,t){return this.has(e)?this._start+d(this,e)*this._step:t},t.prototype.includes=function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},t.prototype.slice=function(e,n){return h(e,n,this.size)?this:(e=A(e,this.size),(n=f(n,this.size))<=e?new t(0,0):new t(this.get(e,this._end),this.get(n,this._end),this._step))},t.prototype.indexOf=function(e){var t=e-this._start;if(t%this._step===0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},t.prototype.lastIndexOf=function(e){return this.indexOf(e)},t.prototype.__iterate=function(e,t){for(var n=this.size,r=this._step,s=t?this._start+(n-1)*r:this._start,a=0;a!==n&&!1!==e(s,t?n-++a:a++,this);)s+=t?-r:r;return a},t.prototype.__iterator=function(e,t){var n=this.size,r=this._step,s=t?this._start+(n-1)*r:this._start,a=0;return new P(function(){if(a===n)return{value:void 0,done:!0};var i=s;return s+=t?-r:r,U(e,t?n-++a:a++,i)})},t.prototype.equals=function(e){return e instanceof t?this._start===e._start&&this._end===e._end&&this._step===e._step:Fn(this,e)},t}(Y);function Kn(e,t,n){for(var r=Ze(t),s=0;s!==r.length;)if((e=st(e,r[s++],i))===i)return n;return e}function Wn(e,t){return Kn(this,e,t)}function Vn(e,t){return Kn(e,t,i)!==i}function qn(){Xe(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e}N.isIterable=x,N.isKeyed=y,N.isIndexed=w,N.isAssociative=j,N.isOrdered=I,N.Iterator=P,In(N,{toArray:function(){Xe(this.size);var e=new Array(this.size||0),t=y(this),n=0;return this.__iterate(function(r,s){e[n++]=t?[s,r]:r}),e},toIndexedSeq:function(){return new Be(this)},toJS:function(){return Dn(this)},toKeyedSeq:function(){return new ke(this,!0)},toMap:function(){return It(this.toKeyedSeq())},toObject:qn,toOrderedMap:function(){return bn(this.toKeyedSeq())},toOrderedSet:function(){return ir(y(this)?this.valueSeq():this)},toSet:function(){return Tn(y(this)?this.valueSeq():this)},toSetSeq:function(){return new Ee(this)},toSeq:function(){return w(this)?this.toIndexedSeq():y(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return _n(y(this)?this.valueSeq():this)},toList:function(){return sn(y(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(e,t){return 0===this.size?e+t:e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=arguments.length;t--;)e[t]=arguments[t];return He(this,function(e,t){var n=y(e),r=[e].concat(t).map(function(e){return x(e)?n&&(e=_(e)):e=n?ne(e):re(Array.isArray(e)?e:[e]),e}).filter(function(e){return 0!==e.size});if(0===r.length)return e;if(1===r.length){var s=r[0];if(s===e||n&&y(s)||w(e)&&w(s))return s}var a=new X(r);return n?a=a.toKeyedSeq():w(e)||(a=a.toSetSeq()),(a=a.flatten(!0)).size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),a}(this,e))},includes:function(e){return this.some(function(t){return ce(t,e)})},entries:function(){return this.__iterator(2)},every:function(e,t){Xe(this.size);var n=!0;return this.__iterate(function(r,s,a){if(!e.call(t,r,s,a))return n=!1,!1}),n},filter:function(e,t){return He(this,De(this,e,t,!0))},partition:function(e,t){return function(e,t,n){var r=y(e),s=[[],[]];e.__iterate(function(a,i){s[t.call(n,a,i,e)?1:0].push(r?[i,a]:a)});var a=We(e);return s.map(function(t){return He(e,a(t))})}(this,e,t)},find:function(e,t,n){var r=this.findEntry(e,t);return r?r[1]:n},forEach:function(e,t){return Xe(this.size),this.__iterate(t?e.bind(t):e)},join:function(e){Xe(this.size),e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r.toString():""}),t},keys:function(){return this.__iterator(0)},map:function(e,t){return He(this,Fe(this,e,t))},reduce:function(e,t,n){return Zn(this,e,t,n,arguments.length<2,!1)},reduceRight:function(e,t,n){return Zn(this,e,t,n,arguments.length<2,!0)},reverse:function(){return He(this,Ie(this,!0))},slice:function(e,t){return He(this,Te(this,e,t,!0))},some:function(e,t){Xe(this.size);var n=!1;return this.__iterate(function(r,s,a){if(e.call(t,r,s,a))return n=!0,!1}),n},sort:function(e){return He(this,Ue(this,e))},values:function(){return this.__iterator(1)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(e,t){return c(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return function(e,t,n){var r=It().asMutable();return e.__iterate(function(s,a){r.update(t.call(n,s,a,e),0,function(e){return e+1})}),r.asImmutable()}(this,e,t)},equals:function(e){return Fn(this,e)},entrySeq:function(){var e=this;if(e._cache)return new X(e._cache);var t=e.toSeq().map(er).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(tr(e),t)},findEntry:function(e,t,n){var r=n;return this.__iterate(function(n,s,a){if(e.call(t,n,s,a))return r=[s,n],!1}),r},findKey:function(e,t){var n=this.findEntry(e,t);return n&&n[0]},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},findLastEntry:function(e,t,n){return this.toKeyedSeq().reverse().findEntry(e,t,n)},findLastKey:function(e,t){return this.toKeyedSeq().reverse().findKey(e,t)},first:function(e){return this.find(u,null,e)},flatMap:function(e,t){return He(this,function(e,t,n){var r=We(e);return e.toSeq().map(function(s,a){return r(t.call(n,s,a,e))}).flatten(!0)}(this,e,t))},flatten:function(e){return He(this,Pe(this,e,!0))},fromEntrySeq:function(){return new Le(this)},get:function(e,t){return this.find(function(t,n){return ce(n,e)},void 0,t)},getIn:Wn,groupBy:function(e,t){return function(e,t,n){var r=y(e),s=(I(e)?bn():It()).asMutable();e.__iterate(function(a,i){s.update(t.call(n,a,i,e),function(e){return(e=e||[]).push(r?[i,a]:a),e})});var a=We(e);return s.map(function(t){return He(e,a(t))}).asImmutable()}(this,e,t)},has:function(e){return this.get(e,i)!==i},hasIn:function(e){return Vn(this,e)},isSubset:function(e){return e="function"===typeof e.includes?e:N(e),this.every(function(t){return e.includes(t)})},isSuperset:function(e){return(e="function"===typeof e.isSubset?e:N(e)).isSubset(this)},keyOf:function(e){return this.findKey(function(t){return ce(t,e)})},keySeq:function(){return this.toSeq().map($n).toIndexedSeq()},last:function(e){return this.toSeq().reverse().first(e)},lastKeyOf:function(e){return this.toKeyedSeq().reverse().keyOf(e)},max:function(e){return Re(this,e)},maxBy:function(e,t){return Re(this,t,e)},min:function(e){return Re(this,e?nr(e):sr)},minBy:function(e,t){return Re(this,t?nr(t):sr,e)},rest:function(){return this.slice(1)},skip:function(e){return 0===e?this:this.slice(Math.max(0,e))},skipLast:function(e){return 0===e?this:this.slice(0,-Math.max(0,e))},skipWhile:function(e,t){return He(this,Oe(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(tr(e),t)},sortBy:function(e,t){return He(this,Ue(this,t,e))},take:function(e){return this.slice(0,Math.max(0,e))},takeLast:function(e){return this.slice(-Math.max(0,e))},takeWhile:function(e,t){return He(this,function(e,t,n){var r=Ve(e);return r.__iterateUncached=function(r,s){var a=this;if(s)return this.cacheResult().__iterate(r,s);var i=0;return e.__iterate(function(e,s,o){return t.call(n,e,s,o)&&++i&&r(e,s,a)}),i},r.__iteratorUncached=function(r,s){var a=this;if(s)return this.cacheResult().__iterator(r,s);var i=e.__iterator(2,s),o=!0;return new P(function(){if(!o)return{value:void 0,done:!0};var e=i.next();if(e.done)return e;var s=e.value,l=s[0],c=s[1];return t.call(n,c,l,a)?2===r?e:U(r,l,c,e):(o=!1,{value:void 0,done:!0})})},r}(this,e,t))},takeUntil:function(e,t){return this.takeWhile(tr(e),t)},update:function(e){return e(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(e){if(e.size===1/0)return 0;var t=I(e),n=y(e),r=t?1:0;return function(e,t){return t=de(t,3432918353),t=de(t<<15|t>>>-15,461845907),t=de(t<<13|t>>>-13,5),t=(t+3864292196|0)^e,t=de(t^t>>>16,2246822507),t=de(t^t>>>13,3266489909),t=ue(t^t>>>16),t}(e.__iterate(n?t?function(e,t){r=31*r+ar(Ae(e),Ae(t))|0}:function(e,t){r=r+ar(Ae(e),Ae(t))|0}:t?function(e){r=31*r+Ae(e)|0}:function(e){r=r+Ae(e)|0}),r)}(this))}});var Gn=N.prototype;Gn[g]=!0,Gn[O]=Gn.values,Gn.toJSON=Gn.toArray,Gn.__toStringMapper=nt,Gn.inspect=Gn.toSource=function(){return this.toString()},Gn.chain=Gn.flatMap,Gn.contains=Gn.includes,In(_,{flip:function(){return He(this,Me(this))},mapEntries:function(e,t){var n=this,r=0;return He(this,this.toSeq().map(function(s,a){return e.call(t,[a,s],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return He(this,this.toSeq().flip().map(function(r,s){return e.call(t,r,s,n)}).flip())}});var Yn=_.prototype;Yn[b]=!0,Yn[O]=Gn.entries,Yn.toJSON=qn,Yn.__toStringMapper=function(e,t){return nt(t)+": "+nt(e)},In(C,{toKeyedSeq:function(){return new ke(this,!1)},filter:function(e,t){return He(this,De(this,e,t,!1))},findIndex:function(e,t){var n=this.findEntry(e,t);return n?n[0]:-1},indexOf:function(e){var t=this.keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return He(this,Ie(this,!1))},slice:function(e,t){return He(this,Te(this,e,t,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(t||0,0),0===n||2===n&&!t)return this;e=A(e,e<0?this.count():this.size);var r=this.slice(0,e);return He(this,1===n?r:r.concat(Ye(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.findLastEntry(e,t);return n?n[0]:-1},first:function(e){return this.get(0,e)},flatten:function(e){return He(this,Pe(this,e,!1))},get:function(e,t){return(e=d(this,e))<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(t,n){return n===e},void 0,t)},has:function(e){return(e=d(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return He(this,function(e,t){var n=Ve(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var s=this,a=0;return e.__iterate(function(e){return(!a||!1!==n(t,a++,s))&&!1!==n(e,a++,s)},r),a},n.__iteratorUncached=function(n,r){var s,a=e.__iterator(1,r),i=0;return new P(function(){return(!s||i%2)&&(s=a.next()).done?s:i%2?U(n,i++,t):U(n,i++,s.value,s)})},n}(this,e))},interleave:function(){var e=[this].concat(Ye(arguments)),t=ze(this.toSeq(),Y.of,e),n=t.flatten(!0);return t.size&&(n.size=t.size*e.length),He(this,n)},keySeq:function(){return Hn(0,this.size)},last:function(e){return this.get(-1,e)},skipWhile:function(e,t){return He(this,Oe(this,e,t,!1))},zip:function(){return He(this,ze(this,rr,[this].concat(Ye(arguments))))},zipAll:function(){return He(this,ze(this,rr,[this].concat(Ye(arguments)),!0))},zipWith:function(e){var t=Ye(arguments);return t[0]=this,He(this,ze(this,e,t))}});var Jn=C.prototype;Jn[v]=!0,Jn[F]=!0,In(S,{get:function(e,t){return this.has(e)?e:t},includes:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}});var Xn=S.prototype;function Zn(e,t,n,r,s,a){return Xe(e.size),e.__iterate(function(e,a,i){s?(s=!1,n=e):n=t.call(r,n,e,a,i)},a),n}function $n(e,t){return t}function er(e,t){return[t,e]}function tr(e){return function(){return!e.apply(this,arguments)}}function nr(e){return function(){return-e.apply(this,arguments)}}function rr(){return Ye(arguments)}function sr(e,t){return e<t?1:e>t?-1:0}function ar(e,t){return e^t+2654435769+(e<<6)+(e>>2)|0}Xn.has=Gn.includes,Xn.contains=Xn.includes,Xn.keys=Xn.values,In(G,Yn),In(Y,Jn),In(J,Xn);var ir=function(e){function t(e){return void 0===e||null===e?dr():Mn(e)?e:dr().withMutations(function(t){var n=S(e);Xe(n.size),n.forEach(function(e){return t.add(e)})})}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.of=function(){return this(arguments)},t.fromKeys=function(e){return this(_(e).keySeq())},t.prototype.toString=function(){return this.__toString("OrderedSet {","}")},t}(Tn);ir.isOrderedSet=Mn;var or,lr=ir.prototype;function cr(e,t){var n=Object.create(lr);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function dr(){return or||(or=cr(vn()))}lr[F]=!0,lr.zip=Jn.zip,lr.zipWith=Jn.zipWith,lr.zipAll=Jn.zipAll,lr.__empty=dr,lr.__make=cr;var ur={LeftThenRight:-1,RightThenLeft:1};var hr=function(e,t){var n;!function(e){if(L(e))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(M(e))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(null===e||"object"!==typeof e)throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}(e);var r=function(a){var i=this;if(a instanceof r)return a;if(!(this instanceof r))return new r(a);if(!n){n=!0;var o=Object.keys(e),l=s._indices={};s._name=t,s._keys=o,s._defaultValues=e;for(var c=0;c<o.length;c++){var d=o[c];l[d]=c,s[d]?"object"===typeof console&&console.warn&&console.warn("Cannot define "+mr(this)+' with property "'+d+'" since that property name is part of the Record API.'):gr(s,d)}}return this.__ownerID=void 0,this._values=sn().withMutations(function(e){e.setSize(i._keys.length),_(a).forEach(function(t,n){e.set(i._indices[n],t===i._defaultValues[n]?void 0:t)})}),this},s=r.prototype=Object.create(Ar);return s.constructor=r,t&&(r.displayName=t),r};hr.prototype.toString=function(){for(var e,t=mr(this)+" { ",n=this._keys,r=0,s=n.length;r!==s;r++)t+=(r?", ":"")+(e=n[r])+": "+nt(this.get(e));return t+" }"},hr.prototype.equals=function(e){return this===e||L(e)&&pr(this).equals(pr(e))},hr.prototype.hashCode=function(){return pr(this).hashCode()},hr.prototype.has=function(e){return this._indices.hasOwnProperty(e)},hr.prototype.get=function(e,t){if(!this.has(e))return t;var n=this._indices[e],r=this._values.get(n);return void 0===r?this._defaultValues[e]:r},hr.prototype.set=function(e,t){if(this.has(e)){var n=this._values.set(this._indices[e],t===this._defaultValues[e]?void 0:t);if(n!==this._values&&!this.__ownerID)return fr(this,n)}return this},hr.prototype.remove=function(e){return this.set(e)},hr.prototype.clear=function(){var e=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:fr(this,e)},hr.prototype.wasAltered=function(){return this._values.wasAltered()},hr.prototype.toSeq=function(){return pr(this)},hr.prototype.toJS=function(){return Dn(this)},hr.prototype.entries=function(){return this.__iterator(2)},hr.prototype.__iterator=function(e,t){return pr(this).__iterator(e,t)},hr.prototype.__iterate=function(e,t){return pr(this).__iterate(e,t)},hr.prototype.__ensureOwner=function(e){if(e===this.__ownerID)return this;var t=this._values.__ensureOwner(e);return e?fr(this,t,e):(this.__ownerID=e,this._values=t,this)},hr.isRecord=L,hr.getDescriptiveName=mr;var Ar=hr.prototype;function fr(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._values=t,r.__ownerID=n,r}function mr(e){return e.constructor.displayName||e.constructor.name||"Record"}function pr(e){return ne(e._keys.map(function(t){return[t,e.get(t)]}))}function gr(e,t){try{Object.defineProperty(e,t,{get:function(){return this.get(t)},set:function(e){Je(this.__ownerID,"Cannot set on an immutable record."),this.set(t,e)}})}catch(n){}}Ar[E]=!0,Ar[r]=Ar.remove,Ar.deleteIn=Ar.removeIn=At,Ar.getIn=Wn,Ar.hasIn=Gn.hasIn,Ar.merge=gt,Ar.mergeWith=xt,Ar.mergeIn=kt,Ar.mergeDeep=Ct,Ar.mergeDeepWith=St,Ar.mergeDeepIn=Bt,Ar.setIn=ut,Ar.update=mt,Ar.updateIn=pt,Ar.withMutations=Et,Ar.asMutable=Lt,Ar.asImmutable=Mt,Ar[O]=Ar.entries,Ar.toJSON=Ar.toObject=Gn.toObject,Ar.inspect=Ar.toSource=function(){return this.toString()};var xr,br=function(e){function t(e,n){if(!(this instanceof t))return new t(e,n);if(this._value=e,this.size=void 0===n?1/0:Math.max(0,n),0===this.size){if(xr)return xr;xr=this}}return e&&(t.__proto__=e),t.prototype=Object.create(e&&e.prototype),t.prototype.constructor=t,t.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},t.prototype.get=function(e,t){return this.has(e)?this._value:t},t.prototype.includes=function(e){return ce(this._value,e)},t.prototype.slice=function(e,n){var r=this.size;return h(e,n,r)?this:new t(this._value,f(n,r)-A(e,r))},t.prototype.reverse=function(){return this},t.prototype.indexOf=function(e){return ce(this._value,e)?0:-1},t.prototype.lastIndexOf=function(e){return ce(this._value,e)?this.size:-1},t.prototype.__iterate=function(e,t){for(var n=this.size,r=0;r!==n&&!1!==e(this._value,t?n-++r:r++,this););return r},t.prototype.__iterator=function(e,t){var n=this,r=this.size,s=0;return new P(function(){return s===r?{value:void 0,done:!0}:U(e,t?r-++s:s++,n._value)})},t.prototype.equals=function(e){return e instanceof t?ce(this._value,e._value):Fn(this,e)},t}(Y);function yr(e,t){return vr([],t||wr,e,"",t&&t.length>2?[]:void 0,{"":e})}function vr(e,t,n,r,s,a){if("string"!==typeof n&&!M(n)&&(V(n)||Q(n)||et(n))){if(~e.indexOf(n))throw new TypeError("Cannot convert circular structure to Immutable");e.push(n),s&&""!==r&&s.push(r);var i=t.call(a,r,q(n).map(function(r,a){return vr(e,t,r,a,s,n)}),s&&s.slice());return e.pop(),s&&s.pop(),i}return n}function wr(e,t){return w(t)?t.toList():y(t)?t.toMap():t.toSet()}var jr="4.3.7",Nr=N;const _r={version:jr,Collection:N,Iterable:N,Seq:q,Map:It,OrderedMap:bn,List:sn,Stack:_n,Set:Tn,OrderedSet:ir,PairSorting:ur,Record:hr,Range:Hn,Repeat:br,is:ce,fromJS:yr,hash:Ae,isImmutable:M,isCollection:x,isKeyed:y,isIndexed:w,isAssociative:j,isOrdered:I,isValueObject:le,isPlainObject:et,isSeq:B,isList:rn,isMap:ie,isOrderedMap:oe,isStack:Nn,isSet:Ln,isOrderedSet:Mn,isRecord:L,get:st,getIn:Kn,has:rt,hasIn:Vn,merge:yt,mergeDeep:wt,mergeWith:vt,mergeDeepWith:jt,remove:it,removeIn:ht,set:ot,setIn:dt,update:ft,updateIn:lt}},2123:e=>{"use strict";var t=Object.getOwnPropertySymbols,n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;e.exports=function(){try{if(!Object.assign)return!1;var e=new String("abc");if(e[5]="de","5"===Object.getOwnPropertyNames(e)[0])return!1;for(var t={},n=0;n<10;n++)t["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(t).map(function(e){return t[e]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(e){r[e]=e}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(s){return!1}}()?Object.assign:function(e,s){for(var a,i,o=function(e){if(null===e||void 0===e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}(e),l=1;l<arguments.length;l++){for(var c in a=Object(arguments[l]))n.call(a,c)&&(o[c]=a[c]);if(t){i=t(a);for(var d=0;d<i.length;d++)r.call(a,i[d])&&(o[i[d]]=a[i[d]])}}return o}},2124:(e,t,n)=>{"use strict";var r=n(8645),s=n(6283),a=n(4909),i=n(7809);e.exports=function(e){if(e._blockSelectEvents||e._latestEditorState!==e.props.editorState){if(e._blockSelectEvents){var t=e.props.editorState.getSelection();r.logBlockedSelectionEvent({anonymizedDom:"N/A",extraParams:JSON.stringify({stacktrace:(new Error).stack}),selectionState:JSON.stringify(t.toJS())})}}else{var n=e.props.editorState,o=i(n,a(e)),l=o.selectionState;l!==n.getSelection()&&(n=o.needsRecovery?s.forceSelection(n,l):s.acceptSelection(n,l),e.update(n))}}},2198:(e,t,n)=>{"use strict";var r=n(6283),s=n(4939),a=n(8799),i=n(3767);e.exports=function(e){var t=i(e,function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getAnchorKey(),i=t.getAnchorOffset(),o=n.getBlockForKey(r).getText()[i];return a(e,o?s.getUTF16Length(o,0):1)},"forward");if(t===e.getCurrentContent())return e;var n=e.getSelection();return r.push(e,t.set("selectionBefore",n),n.isCollapsed()?"delete-character":"remove-range")}},2251:(e,t,n)=>{"use strict";var r=n(5043),s=n(7904),a=function(e){var t,n;function a(){return e.apply(this,arguments)||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=a.prototype;return i.shouldComponentUpdate=function(e){return this.props.text!==e.text||this.props.editorState.getSelection().getHasFocus()!==e.editorState.getSelection().getHasFocus()},i.render=function(){var e=this.props.editorState.getSelection().getHasFocus(),t=s({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":e});return r.createElement("div",{className:t},r.createElement("div",{className:s("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},a}(r.Component);e.exports=a},2284:(e,t,n)=>{"use strict";function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}n.d(t,{A:()=>r})},2333:(e,t,n)=>{"use strict";var r=n(6143),s=n(2013),a=r.isPlatform("Mac OS X"),i={isCtrlKeyCommand:function(e){return!!e.ctrlKey&&!e.altKey},isOptionKeyCommand:function(e){return a&&e.altKey},usesMacOSHeuristics:function(){return a},hasCommandModifier:function(e){return a?!!e.metaKey&&!e.altKey:i.isCtrlKeyCommand(e)},isSoftNewlineEvent:s};e.exports=i},2367:(e,t,n)=>{"use strict";var r=n(1320),s=r.Map,a=r.OrderedSet,i=r.Record,o=a(),l={style:o,entity:null},c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.getStyle=function(){return this.get("style")},i.getEntity=function(){return this.get("entity")},i.hasStyle=function(e){return this.getStyle().includes(e)},r.applyStyle=function(e,t){var n=e.set("style",e.getStyle().add(t));return r.create(n)},r.removeStyle=function(e,t){var n=e.set("style",e.getStyle().remove(t));return r.create(n)},r.applyEntity=function(e,t){var n=e.getEntity()===t?e:e.set("entity",t);return r.create(n)},r.create=function(e){if(!e)return d;var t=s({style:o,entity:null}).merge(e),n=u.get(t);if(n)return n;var a=new r(t);return u=u.set(t,a),a},r.fromJS=function(e){var t=e.style,n=e.entity;return new r({style:Array.isArray(t)?a(t):t,entity:Array.isArray(n)?a(n):n})},r}(i(l)),d=new c,u=s([[s(l),d]]);c.EMPTY=d,e.exports=c},2370:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(3305),i=n(2367),o=n(7707),l=n(6559),c=n(5763),d=n(6283),u=n(306),h=n(8819),A=n(1320),f=n(7414),m=h("draft_tree_data_support"),p=m?l:o,g=A.List,x=A.Repeat,b={insertAtomicBlock:function(e,t,n){var s=e.getCurrentContent(),o=e.getSelection(),l=c.removeRange(s,o,"backward"),h=l.getSelectionAfter(),A=c.splitBlock(l,h),f=A.getSelectionAfter(),b=c.setBlockType(A,f,"atomic"),y=i.create({entity:t}),v={key:u(),type:"atomic",text:n,characterList:g(x(y,n.length))},w={key:u(),type:"unstyled"};m&&(v=r({},v,{nextSibling:w.key}),w=r({},w,{prevSibling:v.key}));var j=[new p(v),new p(w)],N=a.createFromArray(j),_=c.replaceWithFragment(b,f,N),C=_.merge({selectionBefore:o,selectionAfter:_.getSelectionAfter().set("hasFocus",!0)});return d.push(e,C,"insert-fragment")},moveAtomicBlock:function(e,t,n,r){var s,a=e.getCurrentContent(),i=e.getSelection();if("before"===r||"after"===r){var o=a.getBlockForKey("before"===r?n.getStartKey():n.getEndKey());s=f(a,t,o,r)}else{var l=c.removeRange(a,n,"backward"),u=l.getSelectionAfter(),h=l.getBlockForKey(u.getFocusKey());if(0===u.getStartOffset())s=f(l,t,h,"before");else if(u.getEndOffset()===h.getLength())s=f(l,t,h,"after");else{var A=c.splitBlock(l,u),m=A.getSelectionAfter(),p=A.getBlockForKey(m.getFocusKey());s=f(A,t,p,"before")}}var g=s.merge({selectionBefore:i,selectionAfter:s.getSelectionAfter().set("hasFocus",!0)});return d.push(e,g,"move-block")}};e.exports=b},2593:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(186),a=n(1320),i=n(6415),o=n(6246),l=(0,a.Map)(),c=o();function d(e,t){console.warn("WARNING: "+e+' will be deprecated soon!\nPlease use "'+t+'" instead.')}var u={getLastCreatedEntityKey:function(){return d("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),u.__getLastCreatedEntityKey()},create:function(e,t,n){return d("DraftEntity.create","contentState.createEntity"),u.__create(e,t,n)},add:function(e){return d("DraftEntity.add","contentState.addEntity"),u.__add(e)},get:function(e){return d("DraftEntity.get","contentState.getEntity"),u.__get(e)},__getAll:function(){return l},__loadWithEntities:function(e){l=e,c=o()},mergeData:function(e,t){return d("DraftEntity.mergeData","contentState.mergeEntityData"),u.__mergeData(e,t)},replaceData:function(e,t){return d("DraftEntity.replaceData","contentState.replaceEntityData"),u.__replaceData(e,t)},__getLastCreatedEntityKey:function(){return c},__create:function(e,t,n){return u.__add(new s({type:e,mutability:t,data:n||{}}))},__add:function(e){return c=o(),l=l.set(c,e),c},__get:function(e){var t=l.get(e);return t||i(!1),t},__mergeData:function(e,t){var n=u.__get(e),s=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){r(e,t,n[t])})}return e}({},n.getData(),t),a=n.set("data",s);return l=l.set(e,a),a},__replaceData:function(e,t){var n=u.__get(e).set("data",t);return l=l.set(e,n),n}};e.exports=u},2730:(e,t,n)=>{"use strict";var r=n(5043),s=n(8853);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)i.add(t[e])}var d=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),u=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,A={},f={};function m(e,t,n,r,s,a,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=i}var p={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){p[e]=new m(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];p[t]=new m(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){p[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){p[e]=new m(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){p[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){p[e]=new m(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){p[e]=new m(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){p[e]=new m(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){p[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function x(e){return e[1].toUpperCase()}function b(e,t,n,r){var s=p.hasOwnProperty(t)?p[t]:null;(null!==s?0!==s.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,s,r)&&(n=null),r||null===s?function(e){return!!u.call(f,e)||!u.call(A,e)&&(h.test(e)?f[e]=!0:(A[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=null===n?3!==s.type&&"":n:(t=s.attributeName,r=s.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(s=s.type)||4===s&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,x);p[t]=new m(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,x);p[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,x);p[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){p[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)}),p.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){p[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)});var y=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,v=Symbol.for("react.element"),w=Symbol.for("react.portal"),j=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),C=Symbol.for("react.provider"),S=Symbol.for("react.context"),k=Symbol.for("react.forward_ref"),B=Symbol.for("react.suspense"),E=Symbol.for("react.suspense_list"),L=Symbol.for("react.memo"),M=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var F=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var I=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=I&&e[I]||e["@@iterator"])?e:null}var T,O=Object.assign;function P(e){if(void 0===T)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);T=t&&t[1]||""}return"\n"+T+e}var U=!1;function R(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var s=c.stack.split("\n"),a=r.stack.split("\n"),i=s.length-1,o=a.length-1;1<=i&&0<=o&&s[i]!==a[o];)o--;for(;1<=i&&0<=o;i--,o--)if(s[i]!==a[o]){if(1!==i||1!==o)do{if(i--,0>--o||s[i]!==a[o]){var l="\n"+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=i&&0<=o);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?P(e):""}function Q(e){switch(e.tag){case 5:return P(e.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 2:case 15:return e=R(e.type,!1);case 11:return e=R(e.type.render,!1);case 1:return e=R(e.type,!0);default:return""}}function z(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case j:return"Fragment";case w:return"Portal";case _:return"Profiler";case N:return"StrictMode";case B:return"Suspense";case E:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case S:return(e.displayName||"Context")+".Consumer";case C:return(e._context.displayName||"Context")+".Provider";case k:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case L:return null!==(t=e.displayName||null)?t:z(e.type)||"Memo";case M:t=e._payload,e=e._init;try{return z(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return z(t);case 8:return t===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function K(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function W(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function V(e){e._valueTracker||(e._valueTracker=function(e){var t=W(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function q(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=W(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function G(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function Y(e,t){var n=t.checked;return O({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function J(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=K(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Z(e,t){X(e,t);var n=K(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,K(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function $(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&G(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+K(n),t=null,s=0;s<e.length;s++){if(e[s].value===n)return e[s].selected=!0,void(r&&(e[s].defaultSelected=!0));null!==t||e[s].disabled||(t=e[s])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return O({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function se(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:K(n)}}function ae(e,t){var n=K(t.value),r=K(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,de,ue=(de=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return de(e,t)})}:de);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var Ae={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function me(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||Ae.hasOwnProperty(e)&&Ae[e]?(""+t).trim():t+"px"}function pe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),s=me(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}Object.keys(Ae).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ae[t]=Ae[e]})});var ge=O({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xe(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ye=null;function ve(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,je=null,Ne=null;function _e(e){if(e=bs(e)){if("function"!==typeof we)throw Error(a(280));var t=e.stateNode;t&&(t=vs(t),we(e.stateNode,e.type,t))}}function Ce(e){je?Ne?Ne.push(e):Ne=[e]:je=e}function Se(){if(je){var e=je,t=Ne;if(Ne=je=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function ke(e,t){return e(t)}function Be(){}var Ee=!1;function Le(e,t,n){if(Ee)return e(t,n);Ee=!0;try{return ke(e,t,n)}finally{Ee=!1,(null!==je||null!==Ne)&&(Be(),Se())}}function Me(e,t){var n=e.stateNode;if(null===n)return null;var r=vs(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Fe=!1;if(d)try{var Ie={};Object.defineProperty(Ie,"passive",{get:function(){Fe=!0}}),window.addEventListener("test",Ie,Ie),window.removeEventListener("test",Ie,Ie)}catch(de){Fe=!1}function De(e,t,n,r,s,a,i,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var Te=!1,Oe=null,Pe=!1,Ue=null,Re={onError:function(e){Te=!0,Oe=e}};function Qe(e,t,n,r,s,a,i,o,l){Te=!1,Oe=null,De.apply(Re,arguments)}function ze(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function Ke(e){if(ze(e)!==e)throw Error(a(188))}function We(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=ze(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(null===s)break;var i=s.alternate;if(null===i){if(null!==(r=s.return)){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return Ke(s),e;if(i===r)return Ke(s),t;i=i.sibling}throw Error(a(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,l=s.child;l;){if(l===n){o=!0,n=s,r=i;break}if(l===r){o=!0,r=s,n=i;break}l=l.sibling}if(!o){for(l=i.child;l;){if(l===n){o=!0,n=i,r=s;break}if(l===r){o=!0,r=i,n=s;break}l=l.sibling}if(!o)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ve(e):null}function Ve(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ve(e);if(null!==t)return t;e=e.sibling}return null}var qe=s.unstable_scheduleCallback,Ge=s.unstable_cancelCallback,Ye=s.unstable_shouldYield,Je=s.unstable_requestPaint,Xe=s.unstable_now,Ze=s.unstable_getCurrentPriorityLevel,$e=s.unstable_ImmediatePriority,et=s.unstable_UserBlockingPriority,tt=s.unstable_NormalPriority,nt=s.unstable_LowPriority,rt=s.unstable_IdlePriority,st=null,at=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,dt=4194304;function ut(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,i=268435455&n;if(0!==i){var o=i&~s;0!==o?r=ut(o):0!==(a&=i)&&(r=ut(a))}else 0!==(i=n&~s)?r=ut(i):0!==a&&(r=ut(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&s)&&((s=r&-r)>=(a=t&-t)||16===s&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)s=1<<(n=31-it(t)),r|=e[n],t&=~s;return r}function At(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function mt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function pt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function xt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var bt=0;function yt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var vt,wt,jt,Nt,_t,Ct=!1,St=[],kt=null,Bt=null,Et=null,Lt=new Map,Mt=new Map,Ft=[],It="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":kt=null;break;case"dragenter":case"dragleave":Bt=null;break;case"mouseover":case"mouseout":Et=null;break;case"pointerover":case"pointerout":Lt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mt.delete(t.pointerId)}}function Tt(e,t,n,r,s,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},null!==t&&(null!==(t=bs(t))&&wt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==s&&-1===t.indexOf(s)&&t.push(s),e)}function Ot(e){var t=xs(e.target);if(null!==t){var n=ze(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void _t(e.priority,function(){jt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function Pt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Yt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bs(n))&&wt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);ye=r,n.target.dispatchEvent(r),ye=null,t.shift()}return!0}function Ut(e,t,n){Pt(e)&&n.delete(t)}function Rt(){Ct=!1,null!==kt&&Pt(kt)&&(kt=null),null!==Bt&&Pt(Bt)&&(Bt=null),null!==Et&&Pt(Et)&&(Et=null),Lt.forEach(Ut),Mt.forEach(Ut)}function Qt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ct||(Ct=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,Rt)))}function zt(e){function t(t){return Qt(t,e)}if(0<St.length){Qt(St[0],e);for(var n=1;n<St.length;n++){var r=St[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==kt&&Qt(kt,e),null!==Bt&&Qt(Bt,e),null!==Et&&Qt(Et,e),Lt.forEach(t),Mt.forEach(t),n=0;n<Ft.length;n++)(r=Ft[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ft.length&&null===(n=Ft[0]).blockedOn;)Ot(n),null===n.blockedOn&&Ft.shift()}var Ht=y.ReactCurrentBatchConfig,Kt=!0;function Wt(e,t,n,r){var s=bt,a=Ht.transition;Ht.transition=null;try{bt=1,qt(e,t,n,r)}finally{bt=s,Ht.transition=a}}function Vt(e,t,n,r){var s=bt,a=Ht.transition;Ht.transition=null;try{bt=4,qt(e,t,n,r)}finally{bt=s,Ht.transition=a}}function qt(e,t,n,r){if(Kt){var s=Yt(e,t,n,r);if(null===s)Kr(e,t,r,Gt,n),Dt(e,r);else if(function(e,t,n,r,s){switch(t){case"focusin":return kt=Tt(kt,e,t,n,r,s),!0;case"dragenter":return Bt=Tt(Bt,e,t,n,r,s),!0;case"mouseover":return Et=Tt(Et,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Lt.set(a,Tt(Lt.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Mt.set(a,Tt(Mt.get(a)||null,e,t,n,r,s)),!0}return!1}(s,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<It.indexOf(e)){for(;null!==s;){var a=bs(s);if(null!==a&&vt(a),null===(a=Yt(e,t,n,r))&&Kr(e,t,r,Gt,n),a===s)break;s=a}null!==s&&r.stopPropagation()}else Kr(e,t,r,null,n)}}var Gt=null;function Yt(e,t,n,r){if(Gt=null,null!==(e=xs(e=ve(r))))if(null===(t=ze(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gt=e,null}function Jt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Ze()){case $e:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Xt=null,Zt=null,$t=null;function en(){if($t)return $t;var e,t,n=Zt,r=n.length,s="value"in Xt?Xt.value:Xt.textContent,a=s.length;for(e=0;e<r&&n[e]===s[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===s[a-t];t++);return $t=s.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,s,a){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(s):s[i]);return this.isDefaultPrevented=(null!=s.defaultPrevented?s.defaultPrevented:!1===s.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return O(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dn=sn(cn),un=O({},cn,{view:0,detail:0}),hn=sn(un),An=O({},un,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_n,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(An),mn=sn(O({},An,{dataTransfer:0})),pn=sn(O({},un,{relatedTarget:0})),gn=sn(O({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),xn=O({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(xn),yn=sn(O({},cn,{data:0})),vn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},jn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Nn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=jn[e])&&!!t[e]}function _n(){return Nn}var Cn=O({},un,{key:function(e){if(e.key){var t=vn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?wn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_n,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Sn=sn(Cn),kn=sn(O({},An,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Bn=sn(O({},un,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_n})),En=sn(O({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Ln=O({},An,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mn=sn(Ln),Fn=[9,13,27,32],In=d&&"CompositionEvent"in window,Dn=null;d&&"documentMode"in document&&(Dn=document.documentMode);var Tn=d&&"TextEvent"in window&&!Dn,On=d&&(!In||Dn&&8<Dn&&11>=Dn),Pn=String.fromCharCode(32),Un=!1;function Rn(e,t){switch(e){case"keyup":return-1!==Fn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Qn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var zn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function Wn(e,t,n,r){Ce(r),0<(t=Vr(t,"onChange")).length&&(n=new dn("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Vn=null,qn=null;function Gn(e){Pr(e,0)}function Yn(e){if(q(ys(e)))return e}function Jn(e,t){if("change"===e)return t}var Xn=!1;if(d){var Zn;if(d){var $n="oninput"in document;if(!$n){var er=document.createElement("div");er.setAttribute("oninput","return;"),$n="function"===typeof er.oninput}Zn=$n}else Zn=!1;Xn=Zn&&(!document.documentMode||9<document.documentMode)}function tr(){Vn&&(Vn.detachEvent("onpropertychange",nr),qn=Vn=null)}function nr(e){if("value"===e.propertyName&&Yn(qn)){var t=[];Wn(t,qn,e,ve(e)),Le(Gn,t)}}function rr(e,t,n){"focusin"===e?(tr(),qn=n,(Vn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function sr(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Yn(qn)}function ar(e,t){if("click"===e)return Yn(t)}function ir(e,t){if("input"===e||"change"===e)return Yn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!u.call(t,s)||!or(e[s],t[s]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function dr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function ur(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?ur(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=G();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=G((e=t.contentWindow).document)}return t}function Ar(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ur(n.ownerDocument.documentElement,n)){if(null!==r&&Ar(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=void 0===r.end?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=dr(n,a);var i=dr(n,r);s&&i&&(1!==e.rangeCount||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var mr=d&&"documentMode"in document&&11>=document.documentMode,pr=null,gr=null,xr=null,br=!1;function yr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==pr||pr!==G(r)||("selectionStart"in(r=pr)&&Ar(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},xr&&lr(xr,r)||(xr=r,0<(r=Vr(gr,"onSelect")).length&&(t=new dn("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=pr)))}function vr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var wr={animationend:vr("Animation","AnimationEnd"),animationiteration:vr("Animation","AnimationIteration"),animationstart:vr("Animation","AnimationStart"),transitionend:vr("Transition","TransitionEnd")},jr={},Nr={};function _r(e){if(jr[e])return jr[e];if(!wr[e])return e;var t,n=wr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Nr)return jr[e]=n[t];return e}d&&(Nr=document.createElement("div").style,"AnimationEvent"in window||(delete wr.animationend.animation,delete wr.animationiteration.animation,delete wr.animationstart.animation),"TransitionEvent"in window||delete wr.transitionend.transition);var Cr=_r("animationend"),Sr=_r("animationiteration"),kr=_r("animationstart"),Br=_r("transitionend"),Er=new Map,Lr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Mr(e,t){Er.set(e,t),l(t,[e])}for(var Fr=0;Fr<Lr.length;Fr++){var Ir=Lr[Fr];Mr(Ir.toLowerCase(),"on"+(Ir[0].toUpperCase()+Ir.slice(1)))}Mr(Cr,"onAnimationEnd"),Mr(Sr,"onAnimationIteration"),Mr(kr,"onAnimationStart"),Mr("dblclick","onDoubleClick"),Mr("focusin","onFocus"),Mr("focusout","onBlur"),Mr(Br,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Or(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,s,i,o,l,c){if(Qe.apply(this,arguments),Te){if(!Te)throw Error(a(198));var d=Oe;Te=!1,Oe=null,Pe||(Pe=!0,Ue=d)}}(r,t,void 0,e),e.currentTarget=null}function Pr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var i=r.length-1;0<=i;i--){var o=r[i],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==a&&s.isPropagationStopped())break e;Or(s,o,c),a=l}else for(i=0;i<r.length;i++){if(l=(o=r[i]).instance,c=o.currentTarget,o=o.listener,l!==a&&s.isPropagationStopped())break e;Or(s,o,c),a=l}}}if(Pe)throw e=Ue,Pe=!1,Ue=null,e}function Ur(e,t){var n=t[ms];void 0===n&&(n=t[ms]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Rr(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Qr="_reactListening"+Math.random().toString(36).slice(2);function zr(e){if(!e[Qr]){e[Qr]=!0,i.forEach(function(t){"selectionchange"!==t&&(Tr.has(t)||Rr(t,!1,e),Rr(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Qr]||(t[Qr]=!0,Rr("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Jt(t)){case 1:var s=Wt;break;case 4:s=Vt;break;default:s=qt}n=s.bind(null,t,n,e),s=void 0,!Fe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(s=!0),r?void 0!==s?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):void 0!==s?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function Kr(e,t,n,r,s){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var o=r.stateNode.containerInfo;if(o===s||8===o.nodeType&&o.parentNode===s)break;if(4===i)for(i=r.return;null!==i;){var l=i.tag;if((3===l||4===l)&&((l=i.stateNode.containerInfo)===s||8===l.nodeType&&l.parentNode===s))return;i=i.return}for(;null!==o;){if(null===(i=xs(o)))return;if(5===(l=i.tag)||6===l){r=a=i;continue e}o=o.parentNode}}r=r.return}Le(function(){var r=a,s=ve(n),i=[];e:{var o=Er.get(e);if(void 0!==o){var l=dn,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Sn;break;case"focusin":c="focus",l=pn;break;case"focusout":c="blur",l=pn;break;case"beforeblur":case"afterblur":l=pn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=mn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Bn;break;case Cr:case Sr:case kr:l=gn;break;case Br:l=En;break;case"scroll":l=hn;break;case"wheel":l=Mn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=kn}var d=0!==(4&t),u=!d&&"scroll"===e,h=d?null!==o?o+"Capture":null:o;d=[];for(var A,f=r;null!==f;){var m=(A=f).stateNode;if(5===A.tag&&null!==m&&(A=m,null!==h&&(null!=(m=Me(f,h))&&d.push(Wr(f,m,A)))),u)break;f=f.return}0<d.length&&(o=new l(o,c,null,n,s),i.push({event:o,listeners:d}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===ye||!(c=n.relatedTarget||n.fromElement)||!xs(c)&&!c[fs])&&(l||o)&&(o=s.window===s?s:(o=s.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?xs(c):null)&&(c!==(u=ze(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(d=fn,m="onMouseLeave",h="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(d=kn,m="onPointerLeave",h="onPointerEnter",f="pointer"),u=null==l?o:ys(l),A=null==c?o:ys(c),(o=new d(m,f+"leave",l,n,s)).target=u,o.relatedTarget=A,m=null,xs(s)===r&&((d=new d(h,f+"enter",c,n,s)).target=A,d.relatedTarget=u,m=d),u=m,l&&c)e:{for(h=c,f=0,A=d=l;A;A=qr(A))f++;for(A=0,m=h;m;m=qr(m))A++;for(;0<f-A;)d=qr(d),f--;for(;0<A-f;)h=qr(h),A--;for(;f--;){if(d===h||null!==h&&d===h.alternate)break e;d=qr(d),h=qr(h)}d=null}else d=null;null!==l&&Gr(i,o,l,d,!1),null!==c&&null!==u&&Gr(i,u,c,d,!0)}if("select"===(l=(o=r?ys(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var p=Jn;else if(Kn(o))if(Xn)p=ir;else{p=sr;var g=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(p=ar);switch(p&&(p=p(e,r))?Wn(i,p,n,s):(g&&g(e,o,r),"focusout"===e&&(g=o._wrapperState)&&g.controlled&&"number"===o.type&&ee(o,"number",o.value)),g=r?ys(r):window,e){case"focusin":(Kn(g)||"true"===g.contentEditable)&&(pr=g,gr=r,xr=null);break;case"focusout":xr=gr=pr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,yr(i,n,s);break;case"selectionchange":if(mr)break;case"keydown":case"keyup":yr(i,n,s)}var x;if(In)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else zn?Rn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(On&&"ko"!==n.locale&&(zn||"onCompositionStart"!==b?"onCompositionEnd"===b&&zn&&(x=en()):(Zt="value"in(Xt=s)?Xt.value:Xt.textContent,zn=!0)),0<(g=Vr(r,b)).length&&(b=new yn(b,e,null,n,s),i.push({event:b,listeners:g}),x?b.data=x:null!==(x=Qn(n))&&(b.data=x))),(x=Tn?function(e,t){switch(e){case"compositionend":return Qn(t);case"keypress":return 32!==t.which?null:(Un=!0,Pn);case"textInput":return(e=t.data)===Pn&&Un?null:e;default:return null}}(e,n):function(e,t){if(zn)return"compositionend"===e||!In&&Rn(e,t)?(e=en(),$t=Zt=Xt=null,zn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return On&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Vr(r,"onBeforeInput")).length&&(s=new yn("onBeforeInput","beforeinput",null,n,s),i.push({event:s,listeners:r}),s.data=x))}Pr(i,t)})}function Wr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Vr(e,t){for(var n=t+"Capture",r=[];null!==e;){var s=e,a=s.stateNode;5===s.tag&&null!==a&&(s=a,null!=(a=Me(e,n))&&r.unshift(Wr(e,a,s)),null!=(a=Me(e,t))&&r.push(Wr(e,a,s))),e=e.return}return r}function qr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Gr(e,t,n,r,s){for(var a=t._reactName,i=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,s?null!=(l=Me(n,a))&&i.unshift(Wr(n,l,o)):s||null!=(l=Me(n,a))&&i.push(Wr(n,l,o))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Yr=/\r\n?/g,Jr=/\u0000|\uFFFD/g;function Xr(e){return("string"===typeof e?e:""+e).replace(Yr,"\n").replace(Jr,"")}function Zr(e,t,n){if(t=Xr(t),Xr(e)!==t&&n)throw Error(a(425))}function $r(){}var es=null,ts=null;function ns(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var rs="function"===typeof setTimeout?setTimeout:void 0,ss="function"===typeof clearTimeout?clearTimeout:void 0,as="function"===typeof Promise?Promise:void 0,is="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof as?function(e){return as.resolve(null).then(e).catch(os)}:rs;function os(e){setTimeout(function(){throw e})}function ls(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&8===s.nodeType)if("/$"===(n=s.data)){if(0===r)return e.removeChild(s),void zt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=s}while(n);zt(t)}function cs(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ds(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var us=Math.random().toString(36).slice(2),hs="__reactFiber$"+us,As="__reactProps$"+us,fs="__reactContainer$"+us,ms="__reactEvents$"+us,ps="__reactListeners$"+us,gs="__reactHandles$"+us;function xs(e){var t=e[hs];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fs]||n[hs]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ds(e);null!==e;){if(n=e[hs])return n;e=ds(e)}return t}n=(e=n).parentNode}return null}function bs(e){return!(e=e[hs]||e[fs])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ys(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function vs(e){return e[As]||null}var ws=[],js=-1;function Ns(e){return{current:e}}function _s(e){0>js||(e.current=ws[js],ws[js]=null,js--)}function Cs(e,t){js++,ws[js]=e.current,e.current=t}var Ss={},ks=Ns(Ss),Bs=Ns(!1),Es=Ss;function Ls(e,t){var n=e.type.contextTypes;if(!n)return Ss;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s,a={};for(s in n)a[s]=t[s];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ms(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Fs(){_s(Bs),_s(ks)}function Is(e,t,n){if(ks.current!==Ss)throw Error(a(168));Cs(ks,t),Cs(Bs,n)}function Ds(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var s in r=r.getChildContext())if(!(s in t))throw Error(a(108,H(e)||"Unknown",s));return O({},n,r)}function Ts(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ss,Es=ks.current,Cs(ks,e),Cs(Bs,Bs.current),!0}function Os(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Ds(e,t,Es),r.__reactInternalMemoizedMergedChildContext=e,_s(Bs),_s(ks),Cs(ks,e)):_s(Bs),Cs(Bs,n)}var Ps=null,Us=!1,Rs=!1;function Qs(e){null===Ps?Ps=[e]:Ps.push(e)}function zs(){if(!Rs&&null!==Ps){Rs=!0;var e=0,t=bt;try{var n=Ps;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Ps=null,Us=!1}catch(s){throw null!==Ps&&(Ps=Ps.slice(e+1)),qe($e,zs),s}finally{bt=t,Rs=!1}}return null}var Hs=[],Ks=0,Ws=null,Vs=0,qs=[],Gs=0,Ys=null,Js=1,Xs="";function Zs(e,t){Hs[Ks++]=Vs,Hs[Ks++]=Ws,Ws=e,Vs=t}function $s(e,t,n){qs[Gs++]=Js,qs[Gs++]=Xs,qs[Gs++]=Ys,Ys=e;var r=Js;e=Xs;var s=32-it(r)-1;r&=~(1<<s),n+=1;var a=32-it(t)+s;if(30<a){var i=s-s%5;a=(r&(1<<i)-1).toString(32),r>>=i,s-=i,Js=1<<32-it(t)+s|n<<s|r,Xs=a+e}else Js=1<<a|n<<s|r,Xs=e}function ea(e){null!==e.return&&(Zs(e,1),$s(e,1,0))}function ta(e){for(;e===Ws;)Ws=Hs[--Ks],Hs[Ks]=null,Vs=Hs[--Ks],Hs[Ks]=null;for(;e===Ys;)Ys=qs[--Gs],qs[Gs]=null,Xs=qs[--Gs],qs[Gs]=null,Js=qs[--Gs],qs[Gs]=null}var na=null,ra=null,sa=!1,aa=null;function ia(e,t){var n=Lc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function oa(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,na=e,ra=cs(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,na=e,ra=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ys?{id:Js,overflow:Xs}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Lc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,na=e,ra=null,!0);default:return!1}}function la(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function ca(e){if(sa){var t=ra;if(t){var n=t;if(!oa(e,t)){if(la(e))throw Error(a(418));t=cs(n.nextSibling);var r=na;t&&oa(e,t)?ia(r,n):(e.flags=-4097&e.flags|2,sa=!1,na=e)}}else{if(la(e))throw Error(a(418));e.flags=-4097&e.flags|2,sa=!1,na=e}}}function da(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;na=e}function ua(e){if(e!==na)return!1;if(!sa)return da(e),sa=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ns(e.type,e.memoizedProps)),t&&(t=ra)){if(la(e))throw ha(),Error(a(418));for(;t;)ia(e,t),t=cs(t.nextSibling)}if(da(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){ra=cs(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}ra=null}}else ra=na?cs(e.stateNode.nextSibling):null;return!0}function ha(){for(var e=ra;e;)e=cs(e.nextSibling)}function Aa(){ra=na=null,sa=!1}function fa(e){null===aa?aa=[e]:aa.push(e)}var ma=y.ReactCurrentBatchConfig;function pa(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var s=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=s.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function ga(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xa(e){return(0,e._init)(e._payload)}function ba(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function s(e,t){return(e=Fc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=Oc(n,e.mode,r)).return=e,t):((t=s(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===j?u(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===M&&xa(a)===t.type)?((r=s(t,n.props)).ref=pa(e,t,n),r.return=e,r):((r=Ic(n.type,n.key,n.props,null,e.mode,r)).ref=pa(e,t,n),r.return=e,r)}function d(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Pc(n,e.mode,r)).return=e,t):((t=s(t,n.children||[])).return=e,t)}function u(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=s(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Oc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case v:return(n=Ic(t.type,t.key,t.props,null,e.mode,n)).ref=pa(e,null,t),n.return=e,n;case w:return(t=Pc(t,e.mode,n)).return=e,t;case M:return h(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Dc(t,e.mode,n,null)).return=e,t;ga(e,t)}return null}function A(e,t,n,r){var s=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==s?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case v:return n.key===s?c(e,t,n,r):null;case w:return n.key===s?d(e,t,n,r):null;case M:return A(e,t,(s=n._init)(n._payload),r)}if(te(n)||D(n))return null!==s?null:u(e,t,n,r,null);ga(e,n)}return null}function f(e,t,n,r,s){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,s);if("object"===typeof r&&null!==r){switch(r.$$typeof){case v:return c(t,e=e.get(null===r.key?n:r.key)||null,r,s);case w:return d(t,e=e.get(null===r.key?n:r.key)||null,r,s);case M:return f(e,t,n,(0,r._init)(r._payload),s)}if(te(r)||D(r))return u(t,e=e.get(n)||null,r,s,null);ga(t,r)}return null}function m(s,a,o,l){for(var c=null,d=null,u=a,m=a=0,p=null;null!==u&&m<o.length;m++){u.index>m?(p=u,u=null):p=u.sibling;var g=A(s,u,o[m],l);if(null===g){null===u&&(u=p);break}e&&u&&null===g.alternate&&t(s,u),a=i(g,a,m),null===d?c=g:d.sibling=g,d=g,u=p}if(m===o.length)return n(s,u),sa&&Zs(s,m),c;if(null===u){for(;m<o.length;m++)null!==(u=h(s,o[m],l))&&(a=i(u,a,m),null===d?c=u:d.sibling=u,d=u);return sa&&Zs(s,m),c}for(u=r(s,u);m<o.length;m++)null!==(p=f(u,s,m,o[m],l))&&(e&&null!==p.alternate&&u.delete(null===p.key?m:p.key),a=i(p,a,m),null===d?c=p:d.sibling=p,d=p);return e&&u.forEach(function(e){return t(s,e)}),sa&&Zs(s,m),c}function p(s,o,l,c){var d=D(l);if("function"!==typeof d)throw Error(a(150));if(null==(l=d.call(l)))throw Error(a(151));for(var u=d=null,m=o,p=o=0,g=null,x=l.next();null!==m&&!x.done;p++,x=l.next()){m.index>p?(g=m,m=null):g=m.sibling;var b=A(s,m,x.value,c);if(null===b){null===m&&(m=g);break}e&&m&&null===b.alternate&&t(s,m),o=i(b,o,p),null===u?d=b:u.sibling=b,u=b,m=g}if(x.done)return n(s,m),sa&&Zs(s,p),d;if(null===m){for(;!x.done;p++,x=l.next())null!==(x=h(s,x.value,c))&&(o=i(x,o,p),null===u?d=x:u.sibling=x,u=x);return sa&&Zs(s,p),d}for(m=r(s,m);!x.done;p++,x=l.next())null!==(x=f(m,s,p,x.value,c))&&(e&&null!==x.alternate&&m.delete(null===x.key?p:x.key),o=i(x,o,p),null===u?d=x:u.sibling=x,u=x);return e&&m.forEach(function(e){return t(s,e)}),sa&&Zs(s,p),d}return function e(r,a,i,l){if("object"===typeof i&&null!==i&&i.type===j&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case v:e:{for(var c=i.key,d=a;null!==d;){if(d.key===c){if((c=i.type)===j){if(7===d.tag){n(r,d.sibling),(a=s(d,i.props.children)).return=r,r=a;break e}}else if(d.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===M&&xa(c)===d.type){n(r,d.sibling),(a=s(d,i.props)).ref=pa(r,d,i),a.return=r,r=a;break e}n(r,d);break}t(r,d),d=d.sibling}i.type===j?((a=Dc(i.props.children,r.mode,l,i.key)).return=r,r=a):((l=Ic(i.type,i.key,i.props,null,r.mode,l)).ref=pa(r,a,i),l.return=r,r=l)}return o(r);case w:e:{for(d=i.key;null!==a;){if(a.key===d){if(4===a.tag&&a.stateNode.containerInfo===i.containerInfo&&a.stateNode.implementation===i.implementation){n(r,a.sibling),(a=s(a,i.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Pc(i,r.mode,l)).return=r,r=a}return o(r);case M:return e(r,a,(d=i._init)(i._payload),l)}if(te(i))return m(r,a,i,l);if(D(i))return p(r,a,i,l);ga(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==a&&6===a.tag?(n(r,a.sibling),(a=s(a,i)).return=r,r=a):(n(r,a),(a=Oc(i,r.mode,l)).return=r,r=a),o(r)):n(r,a)}}var ya=ba(!0),va=ba(!1),wa=Ns(null),ja=null,Na=null,_a=null;function Ca(){_a=Na=ja=null}function Sa(e){var t=wa.current;_s(wa),e._currentValue=t}function ka(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ba(e,t){ja=e,_a=Na=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bo=!0),e.firstContext=null)}function Ea(e){var t=e._currentValue;if(_a!==e)if(e={context:e,memoizedValue:t,next:null},null===Na){if(null===ja)throw Error(a(308));Na=e,ja.dependencies={lanes:0,firstContext:e}}else Na=Na.next=e;return t}var La=null;function Ma(e){null===La?La=[e]:La.push(e)}function Fa(e,t,n,r){var s=t.interleaved;return null===s?(n.next=n,Ma(t)):(n.next=s.next,s.next=n),t.interleaved=n,Ia(e,r)}function Ia(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Da=!1;function Ta(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oa(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Pa(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ua(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&kl)){var s=r.pending;return null===s?t.next=t:(t.next=s.next,s.next=t),r.pending=t,Ia(e,n)}return null===(s=r.interleaved)?(t.next=t,Ma(r)):(t.next=s.next,s.next=t),r.interleaved=t,Ia(e,n)}function Ra(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}function Qa(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var s=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?s=a=i:a=a.next=i,n=n.next}while(null!==n);null===a?s=a=t:a=a.next=t}else s=a=t;return n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function za(e,t,n,r){var s=e.updateQueue;Da=!1;var a=s.firstBaseUpdate,i=s.lastBaseUpdate,o=s.shared.pending;if(null!==o){s.shared.pending=null;var l=o,c=l.next;l.next=null,null===i?a=c:i.next=c,i=l;var d=e.alternate;null!==d&&((o=(d=d.updateQueue).lastBaseUpdate)!==i&&(null===o?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(null!==a){var u=s.baseState;for(i=0,d=c=l=null,o=a;;){var h=o.lane,A=o.eventTime;if((r&h)===h){null!==d&&(d=d.next={eventTime:A,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,m=o;switch(h=t,A=n,m.tag){case 1:if("function"===typeof(f=m.payload)){u=f.call(A,u,h);break e}u=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(h="function"===typeof(f=m.payload)?f.call(A,u,h):f)||void 0===h)break e;u=O({},u,h);break e;case 2:Da=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(h=s.effects)?s.effects=[o]:h.push(o))}else A={eventTime:A,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===d?(c=d=A,l=u):d=d.next=A,i|=h;if(null===(o=o.next)){if(null===(o=s.shared.pending))break;o=(h=o).next,h.next=null,s.lastBaseUpdate=h,s.shared.pending=null}}if(null===d&&(l=u),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,null!==(t=s.shared.interleaved)){s=t;do{i|=s.lane,s=s.next}while(s!==t)}else null===a&&(s.shared.lanes=0);Tl|=i,e.lanes=i,e.memoizedState=u}}function Ha(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(null!==s){if(r.callback=null,r=n,"function"!==typeof s)throw Error(a(191,s));s.call(r)}}}var Ka={},Wa=Ns(Ka),Va=Ns(Ka),qa=Ns(Ka);function Ga(e){if(e===Ka)throw Error(a(174));return e}function Ya(e,t){switch(Cs(qa,t),Cs(Va,e),Cs(Wa,Ka),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}_s(Wa),Cs(Wa,t)}function Ja(){_s(Wa),_s(Va),_s(qa)}function Xa(e){Ga(qa.current);var t=Ga(Wa.current),n=le(t,e.type);t!==n&&(Cs(Va,e),Cs(Wa,n))}function Za(e){Va.current===e&&(_s(Wa),_s(Va))}var $a=Ns(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=y.ReactCurrentDispatcher,si=y.ReactCurrentBatchConfig,ai=0,ii=null,oi=null,li=null,ci=!1,di=!1,ui=0,hi=0;function Ai(){throw Error(a(321))}function fi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function mi(e,t,n,r,s,i){if(ai=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Zi:$i,e=n(r,s),di){i=0;do{if(di=!1,ui=0,25<=i)throw Error(a(301));i+=1,li=oi=null,t.updateQueue=null,ri.current=eo,e=n(r,s)}while(di)}if(ri.current=Xi,t=null!==oi&&null!==oi.next,ai=0,li=oi=ii=null,ci=!1,t)throw Error(a(300));return e}function pi(){var e=0!==ui;return ui=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===li?ii.memoizedState=li=e:li=li.next=e,li}function xi(){if(null===oi){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=oi.next;var t=null===li?ii.memoizedState:li.next;if(null!==t)li=t,oi=e;else{if(null===e)throw Error(a(310));e={memoizedState:(oi=e).memoizedState,baseState:oi.baseState,baseQueue:oi.baseQueue,queue:oi.queue,next:null},null===li?ii.memoizedState=li=e:li=li.next=e}return li}function bi(e,t){return"function"===typeof t?t(e):t}function yi(e){var t=xi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=oi,s=r.baseQueue,i=n.pending;if(null!==i){if(null!==s){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(null!==s){i=s.next,r=r.baseState;var l=o=null,c=null,d=i;do{var u=d.lane;if((ai&u)===u)null!==c&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:e(r,d.action);else{var h={lane:u,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};null===c?(l=c=h,o=r):c=c.next=h,ii.lanes|=u,Tl|=u}d=d.next}while(null!==d&&d!==i);null===c?o=r:c.next=l,or(r,t.memoizedState)||(bo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){s=e;do{i=s.lane,ii.lanes|=i,Tl|=i,s=s.next}while(s!==e)}else null===s&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function vi(e){var t=xi(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,i=t.memoizedState;if(null!==s){n.pending=null;var o=s=s.next;do{i=e(i,o.action),o=o.next}while(o!==s);or(i,t.memoizedState)||(bo=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function wi(){}function ji(e,t){var n=ii,r=xi(),s=t(),i=!or(r.memoizedState,s);if(i&&(r.memoizedState=s,bo=!0),r=r.queue,Di(Ci.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==li&&1&li.memoizedState.tag){if(n.flags|=2048,Ei(9,_i.bind(null,n,r,s,t),void 0,null),null===Bl)throw Error(a(349));0!==(30&ai)||Ni(n,t,s)}return s}function Ni(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _i(e,t,n,r){t.value=n,t.getSnapshot=r,Si(t)&&ki(e)}function Ci(e,t,n){return n(function(){Si(t)&&ki(e)})}function Si(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function ki(e){var t=Ia(e,1);null!==t&&nc(t,e,1,-1)}function Bi(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bi,lastRenderedState:e},t.queue=e,e=e.dispatch=qi.bind(null,ii,e),[t.memoizedState,e]}function Ei(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Li(){return xi().memoizedState}function Mi(e,t,n,r){var s=gi();ii.flags|=e,s.memoizedState=Ei(1|t,n,void 0,void 0===r?null:r)}function Fi(e,t,n,r){var s=xi();r=void 0===r?null:r;var a=void 0;if(null!==oi){var i=oi.memoizedState;if(a=i.destroy,null!==r&&fi(r,i.deps))return void(s.memoizedState=Ei(t,n,a,r))}ii.flags|=e,s.memoizedState=Ei(1|t,n,a,r)}function Ii(e,t){return Mi(8390656,8,e,t)}function Di(e,t){return Fi(2048,8,e,t)}function Ti(e,t){return Fi(4,2,e,t)}function Oi(e,t){return Fi(4,4,e,t)}function Pi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ui(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4,4,Pi.bind(null,t,e),n)}function Ri(){}function Qi(e,t){var n=xi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zi(e,t){var n=xi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&ai)?(e.baseState&&(e.baseState=!1,bo=!0),e.memoizedState=n):(or(n,t)||(n=mt(),ii.lanes|=n,Tl|=n,e.baseState=!0),t)}function Ki(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=si.transition;si.transition={};try{e(!1),t()}finally{bt=n,si.transition=r}}function Wi(){return xi().memoizedState}function Vi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Gi(e))Yi(t,n);else if(null!==(n=Fa(e,t,n,r))){nc(n,e,r,ec()),Ji(n,t,r)}}function qi(e,t,n){var r=tc(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Gi(e))Yi(t,s);else{var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var i=t.lastRenderedState,o=a(i,n);if(s.hasEagerState=!0,s.eagerState=o,or(o,i)){var l=t.interleaved;return null===l?(s.next=s,Ma(t)):(s.next=l.next,l.next=s),void(t.interleaved=s)}}catch(c){}null!==(n=Fa(e,t,s,r))&&(nc(n,e,r,s=ec()),Ji(n,t,r))}}function Gi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Yi(e,t){di=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ji(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,xt(e,n)}}var Xi={readContext:Ea,useCallback:Ai,useContext:Ai,useEffect:Ai,useImperativeHandle:Ai,useInsertionEffect:Ai,useLayoutEffect:Ai,useMemo:Ai,useReducer:Ai,useRef:Ai,useState:Ai,useDebugValue:Ai,useDeferredValue:Ai,useTransition:Ai,useMutableSource:Ai,useSyncExternalStore:Ai,useId:Ai,unstable_isNewReconciler:!1},Zi={readContext:Ea,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Ea,useEffect:Ii,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mi(4194308,4,Pi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mi(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Vi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Bi,useDebugValue:Ri,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Bi(!1),t=e[0];return e=Ki.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,s=gi();if(sa){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Bl)throw Error(a(349));0!==(30&ai)||Ni(r,t,n)}s.memoizedState=n;var i={value:n,getSnapshot:t};return s.queue=i,Ii(Ci.bind(null,r,i,e),[e]),r.flags|=2048,Ei(9,_i.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=Bl.identifierPrefix;if(sa){var n=Xs;t=":"+t+"R"+(n=(Js&~(1<<32-it(Js)-1)).toString(32)+n),0<(n=ui++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=hi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},$i={readContext:Ea,useCallback:Qi,useContext:Ea,useEffect:Di,useImperativeHandle:Ui,useInsertionEffect:Ti,useLayoutEffect:Oi,useMemo:zi,useReducer:yi,useRef:Li,useState:function(){return yi(bi)},useDebugValue:Ri,useDeferredValue:function(e){return Hi(xi(),oi.memoizedState,e)},useTransition:function(){return[yi(bi)[0],xi().memoizedState]},useMutableSource:wi,useSyncExternalStore:ji,useId:Wi,unstable_isNewReconciler:!1},eo={readContext:Ea,useCallback:Qi,useContext:Ea,useEffect:Di,useImperativeHandle:Ui,useInsertionEffect:Ti,useLayoutEffect:Oi,useMemo:zi,useReducer:vi,useRef:Li,useState:function(){return vi(bi)},useDebugValue:Ri,useDeferredValue:function(e){var t=xi();return null===oi?t.memoizedState=e:Hi(t,oi.memoizedState,e)},useTransition:function(){return[vi(bi)[0],xi().memoizedState]},useMutableSource:wi,useSyncExternalStore:ji,useId:Wi,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=O({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:O({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&ze(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=Pa(r,s);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,s))&&(nc(t,e,s,r),Ra(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),s=tc(e),a=Pa(r,s);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),null!==(t=Ua(e,a,s))&&(nc(t,e,s,r),Ra(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),s=Pa(n,r);s.tag=2,void 0!==t&&null!==t&&(s.callback=t),null!==(t=Ua(e,s,r))&&(nc(t,e,r,n),Ra(t,e,r))}};function so(e,t,n,r,s,a,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,i):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(s,a))}function ao(e,t,n){var r=!1,s=Ss,a=t.contextType;return"object"===typeof a&&null!==a?a=Ea(a):(s=Ms(t)?Es:ks.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Ls(e,s):Ss),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function io(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function oo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Ta(e);var a=t.contextType;"object"===typeof a&&null!==a?s.context=Ea(a):(a=Ms(t)?Es:ks.current,s.context=Ls(e,a)),s.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(no(e,t,a,n),s.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof s.getSnapshotBeforeUpdate||"function"!==typeof s.UNSAFE_componentWillMount&&"function"!==typeof s.componentWillMount||(t=s.state,"function"===typeof s.componentWillMount&&s.componentWillMount(),"function"===typeof s.UNSAFE_componentWillMount&&s.UNSAFE_componentWillMount(),t!==s.state&&ro.enqueueReplaceState(s,s.state,null),za(e,n,s,r),s.state=e.memoizedState),"function"===typeof s.componentDidMount&&(e.flags|=4194308)}function lo(e,t){try{var n="",r=t;do{n+=Q(r),r=r.return}while(r);var s=n}catch(a){s="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:s,digest:null}}function co(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function uo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ho="function"===typeof WeakMap?WeakMap:Map;function Ao(e,t,n){(n=Pa(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Kl||(Kl=!0,Wl=r),uo(0,t)},n}function fo(e,t,n){(n=Pa(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){uo(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uo(0,t),"function"!==typeof r&&(null===Vl?Vl=new Set([this]):Vl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new ho;var s=new Set;r.set(t,s)}else void 0===(s=r.get(t))&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=_c.bind(null,e,t,n),t.then(e,e))}function po(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function go(e,t,n,r,s){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Pa(-1,1)).tag=2,Ua(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=s,e)}var xo=y.ReactCurrentOwner,bo=!1;function yo(e,t,n,r){t.child=null===e?va(t,null,n,r):ya(t,e.child,n,r)}function vo(e,t,n,r,s){n=n.render;var a=t.ref;return Ba(t,s),r=mi(e,t,n,r,a,s),n=pi(),null===e||bo?(sa&&n&&ea(t),t.flags|=1,yo(e,t,r,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ko(e,t,s))}function wo(e,t,n,r,s){if(null===e){var a=n.type;return"function"!==typeof a||Mc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Ic(n.type,null,r,t,t.mode,s)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,jo(e,t,a,r,s))}if(a=e.child,0===(e.lanes&s)){var i=a.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(i,r)&&e.ref===t.ref)return Ko(e,t,s)}return t.flags|=1,(e=Fc(a,r)).ref=t.ref,e.return=t,t.child=e}function jo(e,t,n,r,s){if(null!==e){var a=e.memoizedProps;if(lr(a,r)&&e.ref===t.ref){if(bo=!1,t.pendingProps=r=a,0===(e.lanes&s))return t.lanes=e.lanes,Ko(e,t,s);0!==(131072&e.flags)&&(bo=!0)}}return Co(e,t,n,r,s)}function No(e,t,n){var r=t.pendingProps,s=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Cs(Fl,Ml),Ml|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Cs(Fl,Ml),Ml|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Cs(Fl,Ml),Ml|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Cs(Fl,Ml),Ml|=r;return yo(e,t,s,n),t.child}function _o(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,s){var a=Ms(n)?Es:ks.current;return a=Ls(t,a),Ba(t,s),n=mi(e,t,n,r,a,s),r=pi(),null===e||bo?(sa&&r&&ea(t),t.flags|=1,yo(e,t,n,s),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,Ko(e,t,s))}function So(e,t,n,r,s){if(Ms(n)){var a=!0;Ts(t)}else a=!1;if(Ba(t,s),null===t.stateNode)Ho(e,t),ao(t,n,r),oo(t,n,r,s),r=!0;else if(null===e){var i=t.stateNode,o=t.memoizedProps;i.props=o;var l=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Ea(c):c=Ls(t,c=Ms(n)?Es:ks.current);var d=n.getDerivedStateFromProps,u="function"===typeof d||"function"===typeof i.getSnapshotBeforeUpdate;u||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==r||l!==c)&&io(t,i,r,c),Da=!1;var h=t.memoizedState;i.state=h,za(t,r,i,s),l=t.memoizedState,o!==r||h!==l||Bs.current||Da?("function"===typeof d&&(no(t,n,d,r),l=t.memoizedState),(o=Da||so(t,n,o,r,h,l,c))?(u||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=o):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Oa(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),i.props=c,u=t.pendingProps,h=i.context,"object"===typeof(l=n.contextType)&&null!==l?l=Ea(l):l=Ls(t,l=Ms(n)?Es:ks.current);var A=n.getDerivedStateFromProps;(d="function"===typeof A||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(o!==u||h!==l)&&io(t,i,r,l),Da=!1,h=t.memoizedState,i.state=h,za(t,r,i,s);var f=t.memoizedState;o!==u||h!==f||Bs.current||Da?("function"===typeof A&&(no(t,n,A,r),f=t.memoizedState),(c=Da||so(t,n,c,r,h,f,l)||!1)?(d||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,l),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=l,r=c):("function"!==typeof i.componentDidUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return ko(e,t,n,r,a,s)}function ko(e,t,n,r,s,a){_o(e,t);var i=0!==(128&t.flags);if(!r&&!i)return s&&Os(t,n,!1),Ko(e,t,a);r=t.stateNode,xo.current=t;var o=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=ya(t,e.child,null,a),t.child=ya(t,null,o,a)):yo(e,t,o,a),t.memoizedState=r.state,s&&Os(t,n,!0),t.child}function Bo(e){var t=e.stateNode;t.pendingContext?Is(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Is(0,t.context,!1),Ya(e,t.containerInfo)}function Eo(e,t,n,r,s){return Aa(),fa(s),t.flags|=256,yo(e,t,n,r),t.child}var Lo,Mo,Fo,Io,Do={dehydrated:null,treeContext:null,retryLane:0};function To(e){return{baseLanes:e,cachePool:null,transitions:null}}function Oo(e,t,n){var r,s=t.pendingProps,i=$a.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),Cs($a,1&i),null===e)return ca(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=s.children,e=s.fallback,o?(s=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&s)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Tc(l,s,0,null),e=Dc(e,s,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=To(n),t.memoizedState=Do,e):Po(t,l));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,s,i,o){if(n)return 256&t.flags?(t.flags&=-257,Uo(e,t,o,r=co(Error(a(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,s=t.mode,r=Tc({mode:"visible",children:r.children},s,0,null),(i=Dc(i,s,o,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&ya(t,e.child,null,o),t.child.memoizedState=To(o),t.memoizedState=Do,i);if(0===(1&t.mode))return Uo(e,t,o,null);if("$!"===s.data){if(r=s.nextSibling&&s.nextSibling.dataset)var l=r.dgst;return r=l,Uo(e,t,o,r=co(i=Error(a(419)),r,void 0))}if(l=0!==(o&e.childLanes),bo||l){if(null!==(r=Bl)){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}0!==(s=0!==(s&(r.suspendedLanes|o))?0:s)&&s!==i.retryLane&&(i.retryLane=s,Ia(e,s),nc(r,e,s,-1))}return mc(),Uo(e,t,o,r=co(Error(a(421))))}return"$?"===s.data?(t.flags|=128,t.child=e.child,t=Sc.bind(null,e),s._reactRetry=t,null):(e=i.treeContext,ra=cs(s.nextSibling),na=t,sa=!0,aa=null,null!==e&&(qs[Gs++]=Js,qs[Gs++]=Xs,qs[Gs++]=Ys,Js=e.id,Xs=e.overflow,Ys=t),t=Po(t,r.children),t.flags|=4096,t)}(e,t,l,s,r,i,n);if(o){o=s.fallback,l=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:s.children};return 0===(1&l)&&t.child!==i?((s=t.child).childLanes=0,s.pendingProps=c,t.deletions=null):(s=Fc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?o=Fc(r,o):(o=Dc(o,l,n,null)).flags|=2,o.return=t,s.return=t,s.sibling=o,t.child=s,s=o,o=t.child,l=null===(l=e.child.memoizedState)?To(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Do,s}return e=(o=e.child).sibling,s=Fc(o,{mode:"visible",children:s.children}),0===(1&t.mode)&&(s.lanes=n),s.return=t,s.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=s,t.memoizedState=null,s}function Po(e,t){return(t=Tc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Uo(e,t,n,r){return null!==r&&fa(r),ya(t,e.child,null,n),(e=Po(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ro(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),ka(e.return,t,n)}function Qo(e,t,n,r,s){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function zo(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(yo(e,t,r.children,n),0!==(2&(r=$a.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ro(e,n,t);else if(19===e.tag)Ro(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Cs($a,r),0===(1&t.mode))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(s=n),n=n.sibling;null===(n=s)?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Qo(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;null!==s;){if(null!==(e=s.alternate)&&null===ei(e)){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Qo(t,!0,n,null,a);break;case"together":Qo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Ko(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Tl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Fc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Fc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Wo(e,t){if(!sa)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Vo(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=14680064&s.subtreeFlags,r|=14680064&s.flags,s.return=e,s=s.sibling;else for(s=e.child;null!==s;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qo(e,t,n){var r=t.pendingProps;switch(ta(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vo(t),null;case 1:case 17:return Ms(t.type)&&Fs(),Vo(t),null;case 3:return r=t.stateNode,Ja(),_s(Bs),_s(ks),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==aa&&(ic(aa),aa=null))),Mo(e,t),Vo(t),null;case 5:Za(t);var s=Ga(qa.current);if(n=t.type,null!==e&&null!=t.stateNode)Fo(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return Vo(t),null}if(e=Ga(Wa.current),ua(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[hs]=t,r[As]=i,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(s=0;s<Dr.length;s++)Ur(Dr[s],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":J(r,i),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ur("invalid",r);break;case"textarea":se(r,i),Ur("invalid",r)}for(var l in xe(n,i),s=null,i)if(i.hasOwnProperty(l)){var c=i[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,e),s=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Zr(r.textContent,c,e),s=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Ur("scroll",r)}switch(n){case"input":V(r),$(r,i,!0);break;case"textarea":V(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=$r)}r=s,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===s.nodeType?s:s.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[hs]=t,e[As]=r,Lo(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),s=r;break;case"iframe":case"object":case"embed":Ur("load",e),s=r;break;case"video":case"audio":for(s=0;s<Dr.length;s++)Ur(Dr[s],e);s=r;break;case"source":Ur("error",e),s=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),s=r;break;case"details":Ur("toggle",e),s=r;break;case"input":J(e,r),s=Y(e,r),Ur("invalid",e);break;case"option":default:s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=O({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":se(e,r),s=re(e,r),Ur("invalid",e)}for(i in xe(n,s),c=s)if(c.hasOwnProperty(i)){var d=c[i];"style"===i?pe(e,d):"dangerouslySetInnerHTML"===i?null!=(d=d?d.__html:void 0)&&ue(e,d):"children"===i?"string"===typeof d?("textarea"!==n||""!==d)&&he(e,d):"number"===typeof d&&he(e,""+d):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(o.hasOwnProperty(i)?null!=d&&"onScroll"===i&&Ur("scroll",e):null!=d&&b(e,i,d,l))}switch(n){case"input":V(e),$(e,r,!1);break;case"textarea":V(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+K(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof s.onClick&&(e.onclick=$r)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Vo(t),null;case 6:if(e&&null!=t.stateNode)Io(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Ga(qa.current),Ga(Wa.current),ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[hs]=t,(i=r.nodeValue!==n)&&null!==(e=na))switch(e.tag){case 3:Zr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Zr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hs]=t,t.stateNode=r}return Vo(t),null;case 13:if(_s($a),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(sa&&null!==ra&&0!==(1&t.mode)&&0===(128&t.flags))ha(),Aa(),t.flags|=98560,i=!1;else if(i=ua(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(a(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(a(317));i[hs]=t}else Aa(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Vo(t),i=!1}else null!==aa&&(ic(aa),aa=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&$a.current)?0===Il&&(Il=3):mc())),null!==t.updateQueue&&(t.flags|=4),Vo(t),null);case 4:return Ja(),Mo(e,t),null===e&&zr(t.stateNode.containerInfo),Vo(t),null;case 10:return Sa(t.type._context),Vo(t),null;case 19:if(_s($a),null===(i=t.memoizedState))return Vo(t),null;if(r=0!==(128&t.flags),null===(l=i.rendering))if(r)Wo(i,!1);else{if(0!==Il||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ei(e))){for(t.flags|=128,Wo(i,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(l=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=l.childLanes,i.lanes=l.lanes,i.child=l.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=l.memoizedProps,i.memoizedState=l.memoizedState,i.updateQueue=l.updateQueue,i.type=l.type,e=l.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Cs($a,1&$a.current|2),t.child}e=e.sibling}null!==i.tail&&Xe()>zl&&(t.flags|=128,r=!0,Wo(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Wo(i,!0),null===i.tail&&"hidden"===i.tailMode&&!l.alternate&&!sa)return Vo(t),null}else 2*Xe()-i.renderingStartTime>zl&&1073741824!==n&&(t.flags|=128,r=!0,Wo(i,!1),t.lanes=4194304);i.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=i.last)?n.sibling=l:t.child=l,i.last=l)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Xe(),t.sibling=null,n=$a.current,Cs($a,r?1&n|2:1&n),t):(Vo(t),null);case 22:case 23:return uc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ml)&&(Vo(t),6&t.subtreeFlags&&(t.flags|=8192)):Vo(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}function Go(e,t){switch(ta(t),t.tag){case 1:return Ms(t.type)&&Fs(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ja(),_s(Bs),_s(ks),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Za(t),null;case 13:if(_s($a),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Aa()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return _s($a),null;case 4:return Ja(),null;case 10:return Sa(t.type._context),null;case 22:case 23:return uc(),null;default:return null}}Lo=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Mo=function(){},Fo=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,Ga(Wa.current);var a,i=null;switch(n){case"input":s=Y(e,s),r=Y(e,r),i=[];break;case"select":s=O({},s,{value:void 0}),r=O({},r,{value:void 0}),i=[];break;case"textarea":s=re(e,s),r=re(e,r),i=[];break;default:"function"!==typeof s.onClick&&"function"===typeof r.onClick&&(e.onclick=$r)}for(d in xe(n,r),n=null,s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&null!=s[d])if("style"===d){var l=s[d];for(a in l)l.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==d&&"children"!==d&&"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&"autoFocus"!==d&&(o.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(l=null!=s?s[d]:void 0,r.hasOwnProperty(d)&&c!==l&&(null!=c||null!=l))if("style"===d)if(l){for(a in l)!l.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&l[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(i||(i=[]),i.push(d,n)),n=c;else"dangerouslySetInnerHTML"===d?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(i=i||[]).push(d,c)):"children"===d?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(d,""+c):"suppressContentEditableWarning"!==d&&"suppressHydrationWarning"!==d&&(o.hasOwnProperty(d)?(null!=c&&"onScroll"===d&&Ur("scroll",e),i||l===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(t.updateQueue=d)&&(t.flags|=4)}},Io=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Jo=!1,Xo="function"===typeof WeakSet?WeakSet:Set,Zo=null;function $o(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){Nc(e,t,r)}else n.current=null}function el(e,t,n){try{n()}catch(r){Nc(e,t,r)}}var tl=!1;function nl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,void 0!==a&&el(t,n,a)}s=s.next}while(s!==r)}}function rl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hs],delete t[As],delete t[ms],delete t[ps],delete t[gs])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function il(e){return 5===e.tag||3===e.tag||4===e.tag}function ol(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||il(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function ll(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=$r));else if(4!==r&&null!==(e=e.child))for(ll(e,t,n),e=e.sibling;null!==e;)ll(e,t,n),e=e.sibling}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}var dl=null,ul=!1;function hl(e,t,n){for(n=n.child;null!==n;)Al(e,t,n),n=n.sibling}function Al(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(st,n)}catch(o){}switch(n.tag){case 5:Jo||$o(n,t);case 6:var r=dl,s=ul;dl=null,hl(e,t,n),ul=s,null!==(dl=r)&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):dl.removeChild(n.stateNode));break;case 18:null!==dl&&(ul?(e=dl,n=n.stateNode,8===e.nodeType?ls(e.parentNode,n):1===e.nodeType&&ls(e,n),zt(e)):ls(dl,n.stateNode));break;case 4:r=dl,s=ul,dl=n.stateNode.containerInfo,ul=!0,hl(e,t,n),dl=r,ul=s;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){s=r=r.next;do{var a=s,i=a.destroy;a=a.tag,void 0!==i&&(0!==(2&a)||0!==(4&a))&&el(n,t,i),s=s.next}while(s!==r)}hl(e,t,n);break;case 1:if(!Jo&&($o(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Nc(n,t,o)}hl(e,t,n);break;case 21:hl(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,hl(e,t,n),Jo=r):hl(e,t,n);break;default:hl(e,t,n)}}function fl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Xo),t.forEach(function(t){var r=kc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var s=n[r];try{var i=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:dl=l.stateNode,ul=!1;break e;case 3:case 4:dl=l.stateNode.containerInfo,ul=!0;break e}l=l.return}if(null===dl)throw Error(a(160));Al(i,o,s),dl=null,ul=!1;var c=s.alternate;null!==c&&(c.return=null),s.return=null}catch(d){Nc(s,t,d)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)pl(t,e),t=t.sibling}function pl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),gl(e),4&r){try{nl(3,e,e.return),rl(3,e)}catch(p){Nc(e,e.return,p)}try{nl(5,e,e.return)}catch(p){Nc(e,e.return,p)}}break;case 1:ml(t,e),gl(e),512&r&&null!==n&&$o(n,n.return);break;case 5:if(ml(t,e),gl(e),512&r&&null!==n&&$o(n,n.return),32&e.flags){var s=e.stateNode;try{he(s,"")}catch(p){Nc(e,e.return,p)}}if(4&r&&null!=(s=e.stateNode)){var i=e.memoizedProps,o=null!==n?n.memoizedProps:i,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===i.type&&null!=i.name&&X(s,i),be(l,o);var d=be(l,i);for(o=0;o<c.length;o+=2){var u=c[o],h=c[o+1];"style"===u?pe(s,h):"dangerouslySetInnerHTML"===u?ue(s,h):"children"===u?he(s,h):b(s,u,h,d)}switch(l){case"input":Z(s,i);break;case"textarea":ae(s,i);break;case"select":var A=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?ne(s,!!i.multiple,f,!1):A!==!!i.multiple&&(null!=i.defaultValue?ne(s,!!i.multiple,i.defaultValue,!0):ne(s,!!i.multiple,i.multiple?[]:"",!1))}s[As]=i}catch(p){Nc(e,e.return,p)}}break;case 6:if(ml(t,e),gl(e),4&r){if(null===e.stateNode)throw Error(a(162));s=e.stateNode,i=e.memoizedProps;try{s.nodeValue=i}catch(p){Nc(e,e.return,p)}}break;case 3:if(ml(t,e),gl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{zt(t.containerInfo)}catch(p){Nc(e,e.return,p)}break;case 4:default:ml(t,e),gl(e);break;case 13:ml(t,e),gl(e),8192&(s=e.child).flags&&(i=null!==s.memoizedState,s.stateNode.isHidden=i,!i||null!==s.alternate&&null!==s.alternate.memoizedState||(Ql=Xe())),4&r&&fl(e);break;case 22:if(u=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(d=Jo)||u,ml(t,e),Jo=d):ml(t,e),gl(e),8192&r){if(d=null!==e.memoizedState,(e.stateNode.isHidden=d)&&!u&&0!==(1&e.mode))for(Zo=e,u=e.child;null!==u;){for(h=Zo=u;null!==Zo;){switch(f=(A=Zo).child,A.tag){case 0:case 11:case 14:case 15:nl(4,A,A.return);break;case 1:$o(A,A.return);var m=A.stateNode;if("function"===typeof m.componentWillUnmount){r=A,n=A.return;try{t=r,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(p){Nc(r,n,p)}}break;case 5:$o(A,A.return);break;case 22:if(null!==A.memoizedState){vl(h);continue}}null!==f?(f.return=A,Zo=f):vl(h)}u=u.sibling}e:for(u=null,h=e;;){if(5===h.tag){if(null===u){u=h;try{s=h.stateNode,d?"function"===typeof(i=s.style).setProperty?i.setProperty("display","none","important"):i.display="none":(l=h.stateNode,o=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=me("display",o))}catch(p){Nc(e,e.return,p)}}}else if(6===h.tag){if(null===u)try{h.stateNode.nodeValue=d?"":h.memoizedProps}catch(p){Nc(e,e.return,p)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;u===h&&(u=null),h=h.return}u===h&&(u=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ml(t,e),gl(e),4&r&&fl(e);case 21:}}function gl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(il(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var s=r.stateNode;32&r.flags&&(he(s,""),r.flags&=-33),cl(e,ol(e),s);break;case 3:case 4:var i=r.stateNode.containerInfo;ll(e,ol(e),i);break;default:throw Error(a(161))}}catch(o){Nc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function xl(e,t,n){Zo=e,bl(e,t,n)}function bl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var s=Zo,a=s.child;if(22===s.tag&&r){var i=null!==s.memoizedState||Yo;if(!i){var o=s.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Yo;var c=Jo;if(Yo=i,(Jo=l)&&!c)for(Zo=s;null!==Zo;)l=(i=Zo).child,22===i.tag&&null!==i.memoizedState?wl(s):null!==l?(l.return=i,Zo=l):wl(s);for(;null!==a;)Zo=a,bl(a,t,n),a=a.sibling;Zo=s,Yo=o,Jo=c}yl(e)}else 0!==(8772&s.subtreeFlags)&&null!==a?(a.return=s,Zo=a):yl(e)}}function yl(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||rl(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Ha(t,i,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ha(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var d=t.alternate;if(null!==d){var u=d.memoizedState;if(null!==u){var h=u.dehydrated;null!==h&&zt(h)}}}break;default:throw Error(a(163))}Jo||512&t.flags&&sl(t)}catch(A){Nc(t,t.return,A)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function vl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function wl(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{rl(4,t)}catch(l){Nc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var s=t.return;try{r.componentDidMount()}catch(l){Nc(t,s,l)}}var a=t.return;try{sl(t)}catch(l){Nc(t,a,l)}break;case 5:var i=t.return;try{sl(t)}catch(l){Nc(t,i,l)}}}catch(l){Nc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var jl,Nl=Math.ceil,_l=y.ReactCurrentDispatcher,Cl=y.ReactCurrentOwner,Sl=y.ReactCurrentBatchConfig,kl=0,Bl=null,El=null,Ll=0,Ml=0,Fl=Ns(0),Il=0,Dl=null,Tl=0,Ol=0,Pl=0,Ul=null,Rl=null,Ql=0,zl=1/0,Hl=null,Kl=!1,Wl=null,Vl=null,ql=!1,Gl=null,Yl=0,Jl=0,Xl=null,Zl=-1,$l=0;function ec(){return 0!==(6&kl)?Xe():-1!==Zl?Zl:Zl=Xe()}function tc(e){return 0===(1&e.mode)?1:0!==(2&kl)&&0!==Ll?Ll&-Ll:null!==ma.transition?(0===$l&&($l=mt()),$l):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Jt(e.type)}function nc(e,t,n,r){if(50<Jl)throw Jl=0,Xl=null,Error(a(185));gt(e,n,r),0!==(2&kl)&&e===Bl||(e===Bl&&(0===(2&kl)&&(Ol|=n),4===Il&&oc(e,Ll)),rc(e,r),1===n&&0===kl&&0===(1&t.mode)&&(zl=Xe()+500,Us&&zs()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var i=31-it(a),o=1<<i,l=s[i];-1===l?0!==(o&n)&&0===(o&r)||(s[i]=At(o,t)):l<=t&&(e.expiredLanes|=o),a&=~o}}(e,t);var r=ht(e,e===Bl?Ll:0);if(0===r)null!==n&&Ge(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ge(n),1===t)0===e.tag?function(e){Us=!0,Qs(e)}(lc.bind(null,e)):Qs(lc.bind(null,e)),is(function(){0===(6&kl)&&zs()}),n=null;else{switch(yt(r)){case 1:n=$e;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Bc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,$l=0,0!==(6&kl))throw Error(a(327));var n=e.callbackNode;if(wc()&&e.callbackNode!==n)return null;var r=ht(e,e===Bl?Ll:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=pc(e,r);else{t=r;var s=kl;kl|=2;var i=fc();for(Bl===e&&Ll===t||(Hl=null,zl=Xe()+500,hc(e,t));;)try{xc();break}catch(l){Ac(e,l)}Ca(),_l.current=i,kl=s,null!==El?t=0:(Bl=null,Ll=0,t=Il)}if(0!==t){if(2===t&&(0!==(s=ft(e))&&(r=s,t=ac(e,s))),1===t)throw n=Dl,hc(e,0),oc(e,r),rc(e,Xe()),n;if(6===t)oc(e,r);else{if(s=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!or(a(),s))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(s)&&(2===(t=pc(e,r))&&(0!==(i=ft(e))&&(r=i,t=ac(e,i))),1===t))throw n=Dl,hc(e,0),oc(e,r),rc(e,Xe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:vc(e,Rl,Hl);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=Ql+500-Xe())){if(0!==ht(e,0))break;if(((s=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=rs(vc.bind(null,e,Rl,Hl),t);break}vc(e,Rl,Hl);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,s=-1;0<r;){var o=31-it(r);i=1<<o,(o=t[o])>s&&(s=o),r&=~i}if(r=s,10<(r=(120>(r=Xe()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Nl(r/1960))-r)){e.timeoutHandle=rs(vc.bind(null,e,Rl,Hl),r);break}vc(e,Rl,Hl);break;default:throw Error(a(329))}}}return rc(e,Xe()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=Ul;return e.current.memoizedState.isDehydrated&&(hc(e,t).flags|=256),2!==(e=pc(e,t))&&(t=Rl,Rl=n,null!==t&&ic(t)),e}function ic(e){null===Rl?Rl=e:Rl.push.apply(Rl,e)}function oc(e,t){for(t&=~Pl,t&=~Ol,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function lc(e){if(0!==(6&kl))throw Error(a(327));wc();var t=ht(e,0);if(0===(1&t))return rc(e,Xe()),null;var n=pc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Dl,hc(e,0),oc(e,t),rc(e,Xe()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,vc(e,Rl,Hl),rc(e,Xe()),null}function cc(e,t){var n=kl;kl|=1;try{return e(t)}finally{0===(kl=n)&&(zl=Xe()+500,Us&&zs())}}function dc(e){null!==Gl&&0===Gl.tag&&0===(6&kl)&&wc();var t=kl;kl|=1;var n=Sl.transition,r=bt;try{if(Sl.transition=null,bt=1,e)return e()}finally{bt=r,Sl.transition=n,0===(6&(kl=t))&&zs()}}function uc(){Ml=Fl.current,_s(Fl)}function hc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ss(n)),null!==El)for(n=El.return;null!==n;){var r=n;switch(ta(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Fs();break;case 3:Ja(),_s(Bs),_s(ks),ni();break;case 5:Za(r);break;case 4:Ja();break;case 13:case 19:_s($a);break;case 10:Sa(r.type._context);break;case 22:case 23:uc()}n=n.return}if(Bl=e,El=e=Fc(e.current,null),Ll=Ml=t,Il=0,Dl=null,Pl=Ol=Tl=0,Rl=Ul=null,null!==La){for(t=0;t<La.length;t++)if(null!==(r=(n=La[t]).interleaved)){n.interleaved=null;var s=r.next,a=n.pending;if(null!==a){var i=a.next;a.next=s,r.next=i}n.pending=r}La=null}return e}function Ac(e,t){for(;;){var n=El;try{if(Ca(),ri.current=Xi,ci){for(var r=ii.memoizedState;null!==r;){var s=r.queue;null!==s&&(s.pending=null),r=r.next}ci=!1}if(ai=0,li=oi=ii=null,di=!1,ui=0,Cl.current=null,null===n||null===n.return){Il=1,Dl=t,El=null;break}e:{var i=e,o=n.return,l=n,c=t;if(t=Ll,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var d=c,u=l,h=u.tag;if(0===(1&u.mode)&&(0===h||11===h||15===h)){var A=u.alternate;A?(u.updateQueue=A.updateQueue,u.memoizedState=A.memoizedState,u.lanes=A.lanes):(u.updateQueue=null,u.memoizedState=null)}var f=po(o);if(null!==f){f.flags&=-257,go(f,o,l,0,t),1&f.mode&&mo(i,d,t),c=d;var m=(t=f).updateQueue;if(null===m){var p=new Set;p.add(c),t.updateQueue=p}else m.add(c);break e}if(0===(1&t)){mo(i,d,t),mc();break e}c=Error(a(426))}else if(sa&&1&l.mode){var g=po(o);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),go(g,o,l,0,t),fa(lo(c,l));break e}}i=c=lo(c,l),4!==Il&&(Il=2),null===Ul?Ul=[i]:Ul.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Qa(i,Ao(0,c,t));break e;case 1:l=c;var x=i.type,b=i.stateNode;if(0===(128&i.flags)&&("function"===typeof x.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Vl||!Vl.has(b)))){i.flags|=65536,t&=-t,i.lanes|=t,Qa(i,fo(i,l,t));break e}}i=i.return}while(null!==i)}yc(n)}catch(y){t=y,El===n&&null!==n&&(El=n=n.return);continue}break}}function fc(){var e=_l.current;return _l.current=Xi,null===e?Xi:e}function mc(){0!==Il&&3!==Il&&2!==Il||(Il=4),null===Bl||0===(268435455&Tl)&&0===(268435455&Ol)||oc(Bl,Ll)}function pc(e,t){var n=kl;kl|=2;var r=fc();for(Bl===e&&Ll===t||(Hl=null,hc(e,t));;)try{gc();break}catch(s){Ac(e,s)}if(Ca(),kl=n,_l.current=r,null!==El)throw Error(a(261));return Bl=null,Ll=0,Il}function gc(){for(;null!==El;)bc(El)}function xc(){for(;null!==El&&!Ye();)bc(El)}function bc(e){var t=jl(e.alternate,e,Ml);e.memoizedProps=e.pendingProps,null===t?yc(e):El=t,Cl.current=null}function yc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=qo(n,t,Ml)))return void(El=n)}else{if(null!==(n=Go(n,t)))return n.flags&=32767,void(El=n);if(null===e)return Il=6,void(El=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(El=t);El=t=e}while(null!==t);0===Il&&(Il=5)}function vc(e,t,n){var r=bt,s=Sl.transition;try{Sl.transition=null,bt=1,function(e,t,n,r){do{wc()}while(null!==Gl);if(0!==(6&kl))throw Error(a(327));n=e.finishedWork;var s=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-it(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}(e,i),e===Bl&&(El=Bl=null,Ll=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||ql||(ql=!0,Bc(tt,function(){return wc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Sl.transition,Sl.transition=null;var o=bt;bt=1;var l=kl;kl|=4,Cl.current=null,function(e,t){if(es=Kt,Ar(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(v){n=null;break e}var o=0,l=-1,c=-1,d=0,u=0,h=e,A=null;t:for(;;){for(var f;h!==n||0!==s&&3!==h.nodeType||(l=o+s),h!==i||0!==r&&3!==h.nodeType||(c=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)A=h,h=f;for(;;){if(h===e)break t;if(A===n&&++d===s&&(l=o),A===i&&++u===r&&(c=o),null!==(f=h.nextSibling))break;A=(h=A).parentNode}h=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ts={focusedElem:e,selectionRange:n},Kt=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var p=m.memoizedProps,g=m.memoizedState,x=t.stateNode,b=x.getSnapshotBeforeUpdate(t.elementType===t.type?p:to(t.type,p),g);x.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var y=t.stateNode.containerInfo;1===y.nodeType?y.textContent="":9===y.nodeType&&y.documentElement&&y.removeChild(y.documentElement);break;default:throw Error(a(163))}}catch(v){Nc(t,t.return,v)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}m=tl,tl=!1}(e,n),pl(n,e),fr(ts),Kt=!!es,ts=es=null,e.current=n,xl(n,e,s),Je(),kl=l,bt=o,Sl.transition=i}else e.current=n;if(ql&&(ql=!1,Gl=e,Yl=s),i=e.pendingLanes,0===i&&(Vl=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(st,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Xe()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Kl)throw Kl=!1,e=Wl,Wl=null,e;0!==(1&Yl)&&0!==e.tag&&wc(),i=e.pendingLanes,0!==(1&i)?e===Xl?Jl++:(Jl=0,Xl=e):Jl=0,zs()}(e,t,n,r)}finally{Sl.transition=s,bt=r}return null}function wc(){if(null!==Gl){var e=yt(Yl),t=Sl.transition,n=bt;try{if(Sl.transition=null,bt=16>e?16:e,null===Gl)var r=!1;else{if(e=Gl,Gl=null,Yl=0,0!==(6&kl))throw Error(a(331));var s=kl;for(kl|=4,Zo=e.current;null!==Zo;){var i=Zo,o=i.child;if(0!==(16&Zo.flags)){var l=i.deletions;if(null!==l){for(var c=0;c<l.length;c++){var d=l[c];for(Zo=d;null!==Zo;){var u=Zo;switch(u.tag){case 0:case 11:case 15:nl(8,u,i)}var h=u.child;if(null!==h)h.return=u,Zo=h;else for(;null!==Zo;){var A=(u=Zo).sibling,f=u.return;if(al(u),u===d){Zo=null;break}if(null!==A){A.return=f,Zo=A;break}Zo=f}}}var m=i.alternate;if(null!==m){var p=m.child;if(null!==p){m.child=null;do{var g=p.sibling;p.sibling=null,p=g}while(null!==p)}}Zo=i}}if(0!==(2064&i.subtreeFlags)&&null!==o)o.return=i,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(i=Zo).flags))switch(i.tag){case 0:case 11:case 15:nl(9,i,i.return)}var x=i.sibling;if(null!==x){x.return=i.return,Zo=x;break e}Zo=i.return}}var b=e.current;for(Zo=b;null!==Zo;){var y=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==y)y.return=o,Zo=y;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:rl(9,l)}}catch(w){Nc(l,l.return,w)}if(l===o){Zo=null;break e}var v=l.sibling;if(null!==v){v.return=l.return,Zo=v;break e}Zo=l.return}}if(kl=s,zs(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(st,e)}catch(w){}r=!0}return r}finally{bt=n,Sl.transition=t}}return!1}function jc(e,t,n){e=Ua(e,t=Ao(0,t=lo(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function Nc(e,t,n){if(3===e.tag)jc(e,e,n);else for(;null!==t;){if(3===t.tag){jc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Vl||!Vl.has(r))){t=Ua(t,e=fo(t,e=lo(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function _c(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,Bl===e&&(Ll&n)===n&&(4===Il||3===Il&&(130023424&Ll)===Ll&&500>Xe()-Ql?hc(e,0):Pl|=n),rc(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=dt,0===(130023424&(dt<<=1))&&(dt=4194304)));var n=ec();null!==(e=Ia(e,t))&&(gt(e,t,n),rc(e,n))}function Sc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function kc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;null!==s&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Cc(e,n)}function Bc(e,t){return qe(e,t)}function Ec(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Lc(e,t,n,r){return new Ec(e,t,n,r)}function Mc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Fc(e,t){var n=e.alternate;return null===n?((n=Lc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ic(e,t,n,r,s,i){var o=2;if(r=e,"function"===typeof e)Mc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case j:return Dc(n.children,s,i,t);case N:o=8,s|=8;break;case _:return(e=Lc(12,n,t,2|s)).elementType=_,e.lanes=i,e;case B:return(e=Lc(13,n,t,s)).elementType=B,e.lanes=i,e;case E:return(e=Lc(19,n,t,s)).elementType=E,e.lanes=i,e;case F:return Tc(n,s,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case C:o=10;break e;case S:o=9;break e;case k:o=11;break e;case L:o=14;break e;case M:o=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Lc(o,n,t,s)).elementType=e,t.type=r,t.lanes=i,t}function Dc(e,t,n,r){return(e=Lc(7,e,r,t)).lanes=n,e}function Tc(e,t,n,r){return(e=Lc(22,e,r,t)).elementType=F,e.lanes=n,e.stateNode={isHidden:!1},e}function Oc(e,t,n){return(e=Lc(6,e,null,t)).lanes=n,e}function Pc(e,t,n){return(t=Lc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Uc(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pt(0),this.expirationTimes=pt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pt(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Rc(e,t,n,r,s,a,i,o,l){return e=new Uc(e,t,n,o,l),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Lc(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ta(a),e}function Qc(e){if(!e)return Ss;e:{if(ze(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ms(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ms(n))return Ds(e,n,t)}return t}function zc(e,t,n,r,s,a,i,o,l){return(e=Rc(n,r,!0,e,0,a,0,o,l)).context=Qc(null),n=e.current,(a=Pa(r=ec(),s=tc(n))).callback=void 0!==t&&null!==t?t:null,Ua(n,a,s),e.current.lanes=s,gt(e,s,r),rc(e,r),e}function Hc(e,t,n,r){var s=t.current,a=ec(),i=tc(s);return n=Qc(n),null===t.context?t.context=n:t.pendingContext=n,(t=Pa(a,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ua(s,t,i))&&(nc(e,s,i,a),Ra(e,s,i)),i}function Kc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Wc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Vc(e,t){Wc(e,t),(e=e.alternate)&&Wc(e,t)}jl=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Bs.current)bo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bo=!1,function(e,t,n){switch(t.tag){case 3:Bo(t),Aa();break;case 5:Xa(t);break;case 1:Ms(t.type)&&Ts(t);break;case 4:Ya(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;Cs(wa,r._currentValue),r._currentValue=s;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Cs($a,1&$a.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Oo(e,t,n):(Cs($a,1&$a.current),null!==(e=Ko(e,t,n))?e.sibling:null);Cs($a,1&$a.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return zo(e,t,n);t.flags|=128}if(null!==(s=t.memoizedState)&&(s.rendering=null,s.tail=null,s.lastEffect=null),Cs($a,$a.current),r)break;return null;case 22:case 23:return t.lanes=0,No(e,t,n)}return Ko(e,t,n)}(e,t,n);bo=0!==(131072&e.flags)}else bo=!1,sa&&0!==(1048576&t.flags)&&$s(t,Vs,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var s=Ls(t,ks.current);Ba(t,n),s=mi(null,t,r,e,s,n);var i=pi();return t.flags|=1,"object"===typeof s&&null!==s&&"function"===typeof s.render&&void 0===s.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ms(r)?(i=!0,Ts(t)):i=!1,t.memoizedState=null!==s.state&&void 0!==s.state?s.state:null,Ta(t),s.updater=ro,t.stateNode=s,s._reactInternals=t,oo(t,r,e,n),t=ko(null,t,r,!0,i,n)):(t.tag=0,sa&&i&&ea(t),yo(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(s=r._init)(r._payload),t.type=r,s=t.tag=function(e){if("function"===typeof e)return Mc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===k)return 11;if(e===L)return 14}return 2}(r),e=to(r,e),s){case 0:t=Co(null,t,r,e,n);break e;case 1:t=So(null,t,r,e,n);break e;case 11:t=vo(null,t,r,e,n);break e;case 14:t=wo(null,t,r,to(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,Co(e,t,r,s=t.elementType===r?s:to(r,s),n);case 1:return r=t.type,s=t.pendingProps,So(e,t,r,s=t.elementType===r?s:to(r,s),n);case 3:e:{if(Bo(t),null===e)throw Error(a(387));r=t.pendingProps,s=(i=t.memoizedState).element,Oa(e,t),za(t,r,null,n);var o=t.memoizedState;if(r=o.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Eo(e,t,r,n,s=lo(Error(a(423)),t));break e}if(r!==s){t=Eo(e,t,r,n,s=lo(Error(a(424)),t));break e}for(ra=cs(t.stateNode.containerInfo.firstChild),na=t,sa=!0,aa=null,n=va(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Aa(),r===s){t=Ko(e,t,n);break e}yo(e,t,r,n)}t=t.child}return t;case 5:return Xa(t),null===e&&ca(t),r=t.type,s=t.pendingProps,i=null!==e?e.memoizedProps:null,o=s.children,ns(r,s)?o=null:null!==i&&ns(r,i)&&(t.flags|=32),_o(e,t),yo(e,t,o,n),t.child;case 6:return null===e&&ca(t),null;case 13:return Oo(e,t,n);case 4:return Ya(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ya(t,null,r,n):yo(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,vo(e,t,r,s=t.elementType===r?s:to(r,s),n);case 7:return yo(e,t,t.pendingProps,n),t.child;case 8:case 12:return yo(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,i=t.memoizedProps,o=s.value,Cs(wa,r._currentValue),r._currentValue=o,null!==i)if(or(i.value,o)){if(i.children===s.children&&!Bs.current){t=Ko(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var l=i.dependencies;if(null!==l){o=i.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=Pa(-1,n&-n)).tag=2;var d=i.updateQueue;if(null!==d){var u=(d=d.shared).pending;null===u?c.next=c:(c.next=u.next,u.next=c),d.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),ka(i.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===i.tag)o=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(o=i.return))throw Error(a(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),ka(o,n,t),o=i.sibling}else o=i.child;if(null!==o)o.return=i;else for(o=i;null!==o;){if(o===t){o=null;break}if(null!==(i=o.sibling)){i.return=o.return,o=i;break}o=o.return}i=o}yo(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Ba(t,n),r=r(s=Ea(s)),t.flags|=1,yo(e,t,r,n),t.child;case 14:return s=to(r=t.type,t.pendingProps),wo(e,t,r,s=to(r.type,s),n);case 15:return jo(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:to(r,s),Ho(e,t),t.tag=1,Ms(r)?(e=!0,Ts(t)):e=!1,Ba(t,n),ao(t,r,s),oo(t,r,s,n),ko(null,t,r,!0,e,n);case 19:return zo(e,t,n);case 22:return No(e,t,n)}throw Error(a(156,t.tag))};var qc="function"===typeof reportError?reportError:function(e){console.error(e)};function Gc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Xc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function $c(e,t,n,r,s){var a=n._reactRootContainer;if(a){var i=a;if("function"===typeof s){var o=s;s=function(){var e=Kc(i);o.call(e)}}Hc(t,i,e,s)}else i=function(e,t,n,r,s){if(s){if("function"===typeof r){var a=r;r=function(){var e=Kc(i);a.call(e)}}var i=zc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=i,e[fs]=i.current,zr(8===e.nodeType?e.parentNode:e),dc(),i}for(;s=e.lastChild;)e.removeChild(s);if("function"===typeof r){var o=r;r=function(){var e=Kc(l);o.call(e)}}var l=Rc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fs]=l.current,zr(8===e.nodeType?e.parentNode:e),dc(function(){Hc(t,l,n,r)}),l}(n,t,e,s,r);return Kc(i)}Yc.prototype.render=Gc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));Hc(e,t,null,null)},Yc.prototype.unmount=Gc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;dc(function(){Hc(null,e,null,null)}),t[fs]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Nt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ft.length&&0!==t&&t<Ft[n].priority;n++);Ft.splice(n,0,e),0===n&&Ot(e)}},vt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ut(t.pendingLanes);0!==n&&(xt(t,1|n),rc(t,Xe()),0===(6&kl)&&(zl=Xe()+500,zs()))}break;case 13:dc(function(){var t=Ia(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Vc(e,1)}},wt=function(e){if(13===e.tag){var t=Ia(e,134217728);if(null!==t)nc(t,e,134217728,ec());Vc(e,134217728)}},jt=function(e){if(13===e.tag){var t=tc(e),n=Ia(e,t);if(null!==n)nc(n,e,t,ec());Vc(e,t)}},Nt=function(){return bt},_t=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},we=function(e,t,n){switch(t){case"input":if(Z(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=vs(r);if(!s)throw Error(a(90));q(r),Z(r,s)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},ke=cc,Be=dc;var ed={usingClientEntryPoint:!1,Events:[bs,ys,vs,Ce,Se,cc]},td={findFiberByHostInstance:xs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nd={bundleType:td.bundleType,version:td.version,rendererPackageName:td.rendererPackageName,rendererConfig:td.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:y.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=We(e))?null:e.stateNode},findFiberByHostInstance:td.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rd.isDisabled&&rd.supportsFiber)try{st=rd.inject(nd),at=rd}catch(de){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ed,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(a(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:w,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(a(299));var n=!1,r="",s=qc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(s=t.onRecoverableError)),t=Rc(e,1,!1,null,0,n,0,r,s),e[fs]=t.current,zr(8===e.nodeType?e.parentNode:e),new Gc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=We(t))?null:e.stateNode},t.flushSync=function(e){return dc(e)},t.hydrate=function(e,t,n){if(!Xc(t))throw Error(a(200));return $c(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,s=!1,i="",o=qc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(s=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=zc(t,null,e,1,null!=n?n:null,s,0,i,o),e[fs]=t.current,zr(e),r)for(e=0;e<r.length;e++)s=(s=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Yc(t)},t.render=function(e,t,n){if(!Xc(t))throw Error(a(200));return $c(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Xc(e))throw Error(a(40));return!!e._reactRootContainer&&(dc(function(){$c(null,null,e,!1,function(){e._reactRootContainer=null,e[fs]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Xc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return $c(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},2934:e=>{"use strict";e.exports={notEmptyKey:function(e){return null!=e&&""!=e}}},2962:(e,t,n)=>{"use strict";var r=n(6415),s=/\.textClipping$/,a={"text/plain":!0,"text/html":!0,"text/rtf":!0};e.exports=function(e,t){var i=0,o=[];e.forEach(function(l){!function(e,t){if(!n.g.FileReader||e.type&&!(e.type in a))return void t("");if(""===e.type){var i="";return s.test(e.name)&&(i=e.name.replace(s,"")),void t(i)}var o=new FileReader;o.onload=function(){var e=o.result;"string"!==typeof e&&r(!1),t(e)},o.onerror=function(){t("")},o.readAsText(e)}(l,function(n){i++,n&&o.push(n.slice(0,5e3)),i==e.length&&t(o.join("\r"))})})}},3e3:(e,t,n)=>{"use strict";var r=n(6143),s=n(6415);var a=r.isBrowser("Chrome")?function(e){for(var t=e.cloneRange(),n=[],r=e.endContainer;null!=r;r=r.parentNode){var a=r===e.commonAncestorContainer;a?t.setStart(e.startContainer,e.startOffset):t.setStart(t.endContainer,0);var i,o=Array.from(t.getClientRects());if(n.push(o),a)return n.reverse(),(i=[]).concat.apply(i,n);t.setEndBefore(r)}s(!1)}:function(e){return Array.from(e.getClientRects())};e.exports=a},3112:e=>{"use strict";e.exports=function(e){return Object.keys(e).map(function(t){return e[t]})}},3226:(e,t,n)=>{"use strict";var r=n(4088),s=n(4939).strlen;e.exports=function(e,t){var n=[];return e.findEntityRanges(function(e){return!!e.getEntity()},function(a,i){var o=e.getText(),l=e.getEntityAt(a);n.push({offset:s(o.slice(0,a)),length:s(o.slice(a,i)),key:Number(t[r.stringify(l)])})}),n}},3272:e=>{"use strict";var t=new RegExp("\r","g");e.exports=function(e){return e.replace(t,"")}},3305:(e,t,n)=>{"use strict";var r=n(1320).OrderedMap,s={createFromArray:function(e){return r(e.map(function(e){return[e.getKey(),e]}))}};e.exports=s},3327:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(7707),i=n(6559),o=n(4075),l=n(2593),c=n(7551),d=(n(4863),n(4666)),u=n(9806),h=n(1894),A=n(4155),f=n(306),m=n(8819),p=n(1320),g=n(6415),x=m("draft_tree_data_support"),b=p.List,y=p.Map,v=p.OrderedMap,w=function(e,t){var n=e.key,r=e.type,s=e.data;return{text:e.text,depth:e.depth||0,type:r||"unstyled",key:n||f(),data:y(s),characterList:j(e,t)}},j=function(e,t){var n=e.text,s=e.entityRanges,a=e.inlineStyleRanges,i=s||[];return u(A(n,a||[]),h(n,i.filter(function(e){return t.hasOwnProperty(e.key)}).map(function(e){return r({},e,{key:t[e.key]})})))},N=function(e){return r({},e,{key:e.key||f()})},_=function(e,t,n){var s=t.map(function(e){return r({},e,{parentRef:n})});return e.concat(s.reverse())},C=function(e,t){var n=e.blocks.find(function(e){return Array.isArray(e.children)&&e.children.length>0}),s=x&&!n?c.fromRawStateToRawTreeState(e).blocks:e.blocks;if(!x)return function(e,t){return v(e.map(function(e){var n=new a(w(e,t));return[n.getKey(),n]}))}(n?c.fromRawTreeStateToRawState(e).blocks:s,t);var o=function(e,t){return e.map(N).reduce(function(n,s,a){Array.isArray(s.children)||g(!1);var o=s.children.map(N),l=new i(r({},w(s,t),{prevSibling:0===a?null:e[a-1].key,nextSibling:a===e.length-1?null:e[a+1].key,children:b(o.map(function(e){return e.key}))}));n=n.set(l.getKey(),l);for(var c=_([],o,l);c.length>0;){var d=c.pop(),u=d.parentRef,h=u.getChildKeys(),A=h.indexOf(d.key),f=Array.isArray(d.children);if(!f){f||g(!1);break}var m=d.children.map(N),p=new i(r({},w(d,t),{parent:u.getKey(),children:b(m.map(function(e){return e.key})),prevSibling:0===A?null:h.get(A-1),nextSibling:A===h.size-1?null:h.get(A+1)}));n=n.set(p.getKey(),p),c=_(c,m,p)}return n},v())}(s,t);return o};e.exports=function(e){Array.isArray(e.blocks)||g(!1);var t=function(e){var t=e.entityMap,n={};return Object.keys(t).forEach(function(e){var r=t[e],s=r.type,a=r.mutability,i=r.data;n[e]=l.__create(s,a,i||{})}),n}(e),n=C(e,t),r=n.isEmpty()?new d:d.createEmpty(n.first().getKey());return new o({blockMap:n,entityMap:t,selectionBefore:r,selectionAfter:r})}},3366:(e,t,n)=>{"use strict";var r=n(1320).List,s=function(){function e(e){var t,n,r;r=void 0,(n="_decorators")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._decorators=e.slice()}var t=e.prototype;return t.getDecorations=function(e,t){var n=Array(e.getText().length).fill(null);return this._decorators.forEach(function(r,s){var a=0;(0,r.strategy)(e,function(e,t){(function(e,t,n){for(var r=t;r<n;r++)if(null!=e[r])return!1;return!0})(n,e,t)&&(!function(e,t,n,r){for(var s=t;s<n;s++)e[s]=r}(n,e,t,s+"."+a),a++)},t)}),r(n)},t.getComponentForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].component},t.getPropsForKey=function(e){var t=parseInt(e.split(".")[0],10);return this._decorators[t].props},e}();e.exports=s},3384:(e,t,n)=>{"use strict";var r=n(3305),s=n(6559),a=n(1320),i=n(3422),o=n(6415),l=n(1287),c=a.List,d=function(e,t,n,a,i,o){var l=n.first()instanceof s,d=[],u=a.size,h=n.get(i),A=a.first(),f=a.last(),m=f.getLength(),p=f.getKey(),g=l&&(!h.getChildKeys().isEmpty()||!A.getChildKeys().isEmpty());n.forEach(function(e,t){t===i?(g?d.push(e):d.push(function(e,t,n){var r=e.getText(),s=e.getCharacterList(),a=r.slice(0,t),i=s.slice(0,t),o=n.first();return e.merge({text:a+o.getText(),characterList:i.concat(o.getCharacterList()),type:a?e.getType():o.getType(),data:o.getData()})}(e,o,a)),a.slice(g?0:1,u-1).forEach(function(e){return d.push(e)}),d.push(function(e,t,n){var r=e.getText(),s=e.getCharacterList(),a=r.length,i=r.slice(t,a),o=s.slice(t,a),l=n.last();return l.merge({text:l.getText()+i,characterList:l.getCharacterList().concat(o),data:l.getData()})}(e,o,a))):d.push(e)});var x=r.createFromArray(d);return l&&(x=function(e,t,n,r){return e.withMutations(function(t){var s=n.getKey(),a=r.getKey(),i=n.getNextSiblingKey(),o=n.getParentKey(),l=function(e,t){var n=e.getKey(),r=e,s=[];for(t.get(n)&&s.push(n);r&&r.getNextSiblingKey();){var a=r.getNextSiblingKey();if(!a)break;s.push(a),r=t.get(a)}return s}(r,e),d=l[l.length-1];if(t.get(a)?(t.setIn([s,"nextSibling"],a),t.setIn([a,"prevSibling"],s)):(t.setIn([s,"nextSibling"],r.getNextSiblingKey()),t.setIn([r.getNextSiblingKey(),"prevSibling"],s)),t.setIn([d,"nextSibling"],i),i&&t.setIn([i,"prevSibling"],d),l.forEach(function(e){return t.setIn([e,"parent"],o)}),o){var u=e.get(o).getChildKeys(),h=u.indexOf(s)+1,A=u.toArray();A.splice.apply(A,[h,0].concat(l)),t.setIn([o,"children"],c(A))}})}(x,0,h,A)),e.merge({blockMap:x,selectionBefore:t,selectionAfter:t.merge({anchorKey:p,anchorOffset:m,focusKey:p,focusOffset:m,isBackward:!1})})};e.exports=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA";t.isCollapsed()||o(!1);var a=e.getBlockMap(),c=l(n),u=t.getStartKey(),h=t.getStartOffset(),A=a.get(u);return A instanceof s&&(A.getChildKeys().isEmpty()||o(!1)),1===c.size?function(e,t,n,r,s,a){var o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:"REPLACE_WITH_NEW_DATA",l=n.get(s),c=l.getText(),d=l.getCharacterList(),u=s,h=a+r.getText().length,A=null;switch(o){case"MERGE_OLD_DATA_TO_NEW_DATA":A=r.getData().merge(l.getData());break;case"REPLACE_WITH_NEW_DATA":A=r.getData()}var f=l.getType();c&&"unstyled"===f&&(f=r.getType());var m=l.merge({text:c.slice(0,a)+r.getText()+c.slice(a),characterList:i(d,r.getCharacterList(),a),type:f,data:A});return e.merge({blockMap:n.set(s,m),selectionBefore:t,selectionAfter:t.merge({anchorKey:u,anchorOffset:h,focusKey:u,focusOffset:h,isBackward:!1})})}(e,t,a,c.first(),u,h,r):d(e,t,a,c,u,h)}},3422:e=>{"use strict";e.exports=function(e,t,n){var r=e;if(n===r.count())t.forEach(function(e){r=r.push(e)});else if(0===n)t.reverse().forEach(function(e){r=r.unshift(e)});else{var s=r.slice(0,n),a=r.slice(n);r=s.concat(t,a).toList()}return r}},3586:(e,t,n)=>{"use strict";var r=n(2123);var s=n(317),a=n(5043),i=n(6415),o=n(5030),l=n(1981).setDraftEditorSelection,c=function(e){var t,n;function c(){for(var t,n,r,s,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),s=void 0,(r="leaf")in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,t}n=e,(t=c).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var d=c.prototype;return d._setSelection=function(){var e=this.props.selection;if(null!=e&&e.getHasFocus()){var t=this.props,n=t.block,r=t.start,s=t.text,a=n.getKey(),c=r+s.length;if(e.hasEdgeWithin(a,r,c)){var d=this.leaf;d||i(!1);var u,h=d.firstChild;h||i(!1),h.nodeType===Node.TEXT_NODE?u=h:o(h)?u=d:(u=h.firstChild)||i(!1),l(e,u,a,r,c)}}},d.shouldComponentUpdate=function(e){var t=this.leaf;return t||i(!1),t.textContent!==e.text||e.styleSet!==this.props.styleSet||e.forceSelection},d.componentDidUpdate=function(){this._setSelection()},d.componentDidMount=function(){this._setSelection()},d.render=function(){var e=this,t=this.props.block,n=this.props.text;n.endsWith("\n")&&this.props.isLast&&(n+="\n");var i=this.props,o=i.customStyleMap,l=i.customStyleFn,c=i.offsetKey,d=i.styleSet,u=d.reduce(function(e,t){var n={},s=o[t];return void 0!==s&&e.textDecoration!==s.textDecoration&&(n.textDecoration=[e.textDecoration,s.textDecoration].join(" ").trim()),r(e,s,n)},{});if(l){var h=l(d,t);u=r(u,h)}return a.createElement("span",{"data-offset-key":c,ref:function(t){return e.leaf=t},style:u},a.createElement(s,null,n))},c}(a.Component);e.exports=c},3633:(e,t,n)=>{"use strict";var r=n(4701),s=n(1320);e.exports=function(e,t,n){var a=e.getBlockMap(),i=t.getStartKey(),o=t.getStartOffset(),l=t.getEndKey(),c=t.getEndOffset(),d=a.skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===l}).toOrderedMap().merge(s.OrderedMap([[l,a.get(l)]])).map(function(e,t){var s=t===i?o:0,a=t===l?c:e.getLength();return r(e,s,a,n)});return e.merge({blockMap:a.merge(d),selectionBefore:t,selectionAfter:t})}},3767:(e,t,n)=>{"use strict";var r=n(5763),s=n(8819)("draft_tree_data_support");e.exports=function(e,t,n){var a=e.getSelection(),i=e.getCurrentContent(),o=a,l=a.getAnchorKey(),c=a.getFocusKey(),d=i.getBlockForKey(l);if(s&&"forward"===n&&l!==c)return i;if(a.isCollapsed()){if("forward"===n){if(e.isSelectionAtEndOfContent())return i;if(s)if(a.getAnchorOffset()===i.getBlockForKey(l).getLength()){var u=i.getBlockForKey(d.nextSibling);if(!u||0===u.getLength())return i}}else if(e.isSelectionAtStartOfContent())return i;if((o=t(e))===a)return i}return r.removeRange(i,o,n)}},3922:(e,t,n)=>{"use strict";var r=n(6620);e.exports=function e(t,n){return!(!t||!n)&&(t===n||!r(t)&&(r(n)?e(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))}},3935:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(6143),a=n(5037),i=n(978),o=n(1320),l=n(6415),c=n(8691),d=o.Map,u={subtree:!0,characterData:!0,childList:!0,characterDataOldValue:!1,attributes:!1},h=s.isBrowser("IE <= 11"),A=function(){function e(e){var t=this;r(this,"observer",void 0),r(this,"container",void 0),r(this,"mutations",void 0),r(this,"onCharData",void 0),this.container=e,this.mutations=d();var n=i(e);n.MutationObserver&&!h?this.observer=new n.MutationObserver(function(e){return t.registerMutations(e)}):this.onCharData=function(e){e.target instanceof Node||l(!1),t.registerMutation({type:"characterData",target:e.target})}}var t=e.prototype;return t.start=function(){this.observer?this.observer.observe(this.container,u):this.container.addEventListener("DOMCharacterDataModified",this.onCharData)},t.stopAndFlushMutations=function(){var e=this.observer;e?(this.registerMutations(e.takeRecords()),e.disconnect()):this.container.removeEventListener("DOMCharacterDataModified",this.onCharData);var t=this.mutations;return this.mutations=d(),t},t.registerMutations=function(e){for(var t=0;t<e.length;t++)this.registerMutation(e[t])},t.getMutationTextContent=function(e){var t=e.type,n=e.target,r=e.removedNodes;if("characterData"===t){if(""!==n.textContent)return h?n.textContent.replace("\n",""):n.textContent}else if("childList"===t){if(r&&r.length)return"";if(""!==n.textContent)return n.textContent}return null},t.registerMutation=function(e){var t=this.getMutationTextContent(e);if(null!=t){var n=c(a(e.target));this.mutations=this.mutations.set(n,t)}},e}();e.exports=A},4059:(e,t,n)=>{"use strict";var r=n(6283);e.exports=function(e,t,n){var s=r.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(r.set(t,{nativelyRenderedContent:null})),setTimeout(function(){n(s)},0)):n(s);else{var a=s.getCurrentContent();n(r.set(s,{nativelyRenderedContent:a}))}}},4075:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(3305),i=n(2367),o=n(7707),l=n(6559),c=n(2593),d=n(4666),u=n(306),h=n(3112),A=n(8819),f=n(1320),m=n(3272),p=f.List,g=f.Record,x=f.Repeat,b=f.Map,y=f.OrderedMap,v=g({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}),w=A("draft_tree_data_support")?l:o,j=function(e){var t,n;function s(){return e.apply(this,arguments)||this}n=e,(t=s).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=s.prototype;return o.getEntityMap=function(){return c},o.getBlockMap=function(){return this.get("blockMap")},o.getSelectionBefore=function(){return this.get("selectionBefore")},o.getSelectionAfter=function(){return this.get("selectionAfter")},o.getBlockForKey=function(e){return this.getBlockMap().get(e)},o.getKeyBefore=function(e){return this.getBlockMap().reverse().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},o.getKeyAfter=function(e){return this.getBlockMap().keySeq().skipUntil(function(t){return t===e}).skip(1).first()},o.getBlockAfter=function(e){return this.getBlockMap().skipUntil(function(t,n){return n===e}).skip(1).first()},o.getBlockBefore=function(e){return this.getBlockMap().reverse().skipUntil(function(t,n){return n===e}).skip(1).first()},o.getBlocksAsArray=function(){return this.getBlockMap().toArray()},o.getFirstBlock=function(){return this.getBlockMap().first()},o.getLastBlock=function(){return this.getBlockMap().last()},o.getPlainText=function(e){return this.getBlockMap().map(function(e){return e?e.getText():""}).join(e||"\n")},o.getLastCreatedEntityKey=function(){return c.__getLastCreatedEntityKey()},o.hasText=function(){var e=this.getBlockMap();return e.size>1||escape(e.first().getText()).replace(/%u200B/g,"").length>0},o.createEntity=function(e,t,n){return c.__create(e,t,n),this},o.mergeEntityData=function(e,t){return c.__mergeData(e,t),this},o.replaceEntityData=function(e,t){return c.__replaceData(e,t),this},o.addEntity=function(e){return c.__add(e),this},o.getEntity=function(e){return c.__get(e)},o.getAllEntities=function(){return c.__getAll()},o.loadWithEntities=function(e){return c.__loadWithEntities(e)},s.createFromBlockArray=function(e,t){var n=Array.isArray(e)?e:e.contentBlocks,r=a.createFromArray(n),i=r.isEmpty()?new d:d.createEmpty(r.first().getKey());return new s({blockMap:r,entityMap:t||c,selectionBefore:i,selectionAfter:i})},s.createFromText=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=e.split(t).map(function(e){return e=m(e),new w({key:u(),text:e,type:"unstyled",characterList:p(x(i.EMPTY,e.length))})});return s.createFromBlockArray(n)},s.fromJS=function(e){return new s(r({},e,{blockMap:y(e.blockMap).map(s.createContentBlockFromJS),selectionBefore:new d(e.selectionBefore),selectionAfter:new d(e.selectionAfter)}))},s.createContentBlockFromJS=function(e){var t=e.characterList;return new w(r({},e,{data:b(e.data),characterList:null!=t?p((Array.isArray(t)?t:h(t)).map(function(e){return i.fromJS(e)})):void 0}))},s}(v);e.exports=j},4088:e=>{"use strict";var t={stringify:function(e){return"_"+String(e)},unstringify:function(e){return e.slice(1)}};e.exports=t},4099:e=>{"use strict";e.exports=function(e){var t=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"===typeof t.Node?e instanceof t.Node:"object"===typeof e&&"number"===typeof e.nodeType&&"string"===typeof e.nodeName))}},4121:function(e,t,n){var r;!function(s,a){"use strict";var i="function",o="undefined",l="object",c="string",d="major",u="model",h="name",A="type",f="vendor",m="version",p="architecture",g="console",x="mobile",b="tablet",y="smarttv",v="wearable",w="embedded",j="Amazon",N="Apple",_="ASUS",C="BlackBerry",S="Browser",k="Chrome",B="Firefox",E="Google",L="Honor",M="Huawei",F="LG",I="Microsoft",D="Motorola",T="Nvidia",O="OnePlus",P="Opera",U="OPPO",R="Samsung",Q="Sharp",z="Sony",H="Xiaomi",K="Zebra",W="Facebook",V="Chromium OS",q="Mac OS",G=" Browser",Y=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},J=function(e,t){return typeof e===c&&-1!==X(t).indexOf(X(e))},X=function(e){return e.toLowerCase()},Z=function(e,t){if(typeof e===c)return e=e.replace(/^\s\s*/,""),typeof t===o?e:e.substring(0,500)},$=function(e,t){for(var n,r,s,o,c,d,u=0;u<t.length&&!c;){var h=t[u],A=t[u+1];for(n=r=0;n<h.length&&!c&&h[n];)if(c=h[n++].exec(e))for(s=0;s<A.length;s++)d=c[++r],typeof(o=A[s])===l&&o.length>0?2===o.length?typeof o[1]==i?this[o[0]]=o[1].call(this,d):this[o[0]]=o[1]:3===o.length?typeof o[1]!==i||o[1].exec&&o[1].test?this[o[0]]=d?d.replace(o[1],o[2]):a:this[o[0]]=d?o[1].call(this,d,o[2]):a:4===o.length&&(this[o[0]]=d?o[3].call(this,d.replace(o[1],o[2])):a):this[o]=d||a;u+=2}},ee=function(e,t){for(var n in t)if(typeof t[n]===l&&t[n].length>0){for(var r=0;r<t[n].length;r++)if(J(t[n][r],e))return"?"===n?a:n}else if(J(t[n],e))return"?"===n?a:n;return t.hasOwnProperty("*")?t["*"]:e},te={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},ne={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[m,[h,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[m,[h,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[h,m],[/opios[\/ ]+([\w\.]+)/i],[m,[h,P+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[m,[h,P+" GX"]],[/\bopr\/([\w\.]+)/i],[m,[h,P]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[m,[h,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[m,[h,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[h,m],[/quark(?:pc)?\/([-\w\.]+)/i],[m,[h,"Quark"]],[/\bddg\/([\w\.]+)/i],[m,[h,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[m,[h,"UC"+S]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[m,[h,"WeChat"]],[/konqueror\/([\w\.]+)/i],[m,[h,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[m,[h,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[m,[h,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[m,[h,"Smart Lenovo "+S]],[/(avast|avg)\/([\w\.]+)/i],[[h,/(.+)/,"$1 Secure "+S],m],[/\bfocus\/([\w\.]+)/i],[m,[h,B+" Focus"]],[/\bopt\/([\w\.]+)/i],[m,[h,P+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[m,[h,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[m,[h,"Dolphin"]],[/coast\/([\w\.]+)/i],[m,[h,P+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[m,[h,"MIUI"+G]],[/fxios\/([\w\.-]+)/i],[m,[h,B]],[/\bqihoobrowser\/?([\w\.]*)/i],[m,[h,"360"]],[/\b(qq)\/([\w\.]+)/i],[[h,/(.+)/,"$1Browser"],m],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[h,/(.+)/,"$1"+G],m],[/samsungbrowser\/([\w\.]+)/i],[m,[h,R+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[m,[h,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[h,"Sogou Mobile"],m],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[h,m],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[h],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[m,h],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[h,W],m],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[h,m],[/\bgsa\/([\w\.]+) .*safari\//i],[m,[h,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[m,[h,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[m,[h,k+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[h,k+" WebView"],m],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[m,[h,"Android "+S]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[h,m],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[m,[h,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[m,h],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[h,[m,ee,{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}]],[/(webkit|khtml)\/([\w\.]+)/i],[h,m],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[h,"Netscape"],m],[/(wolvic|librewolf)\/([\w\.]+)/i],[h,m],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[m,[h,B+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[h,[m,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[h,[m,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[p,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[p,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[p,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[p,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[p,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[p,/ower/,"",X]],[/ sun4\w[;\)]/i],[[p,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[p,X]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[u,[f,R],[A,b]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[u,[f,R],[A,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[u,[f,N],[A,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[u,[f,N],[A,b]],[/(macintosh);/i],[u,[f,N]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[u,[f,Q],[A,x]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[u,[f,L],[A,b]],[/honor([-\w ]+)[;\)]/i],[u,[f,L],[A,x]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[u,[f,M],[A,b]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[u,[f,M],[A,x]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[u,/_/g," "],[f,H],[A,b]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[u,/_/g," "],[f,H],[A,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[u,[f,U],[A,x]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[u,[f,ee,{OnePlus:["304","403","203"],"*":U}],[A,b]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[u,[f,"Vivo"],[A,x]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[u,[f,"Realme"],[A,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[u,[f,D],[A,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[u,[f,D],[A,b]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[u,[f,F],[A,b]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[u,[f,F],[A,x]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[u,[f,"Lenovo"],[A,b]],[/(nokia) (t[12][01])/i],[f,u,[A,b]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[u,/_/g," "],[A,x],[f,"Nokia"]],[/(pixel (c|tablet))\b/i],[u,[f,E],[A,b]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[u,[f,E],[A,x]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[u,[f,z],[A,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[u,"Xperia Tablet"],[f,z],[A,b]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[u,[f,O],[A,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[u,[f,j],[A,b]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[u,/(.+)/g,"Fire Phone $1"],[f,j],[A,x]],[/(playbook);[-\w\),; ]+(rim)/i],[u,f,[A,b]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[u,[f,C],[A,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[u,[f,_],[A,b]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[u,[f,_],[A,x]],[/(nexus 9)/i],[u,[f,"HTC"],[A,b]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[f,[u,/_/g," "],[A,x]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[u,[f,"TCL"],[A,b]],[/(itel) ((\w+))/i],[[f,X],u,[A,ee,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[u,[f,"Acer"],[A,b]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[u,[f,"Meizu"],[A,x]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[u,[f,"Ulefone"],[A,x]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[u,[f,"Energizer"],[A,x]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[u,[f,"Cat"],[A,x]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[u,[f,"Smartfren"],[A,x]],[/droid.+; (a(?:015|06[35]|142p?))/i],[u,[f,"Nothing"],[A,x]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[u,[f,"Archos"],[A,b]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[u,[f,"Archos"],[A,x]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[f,u,[A,b]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[f,u,[A,x]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[f,u,[A,b]],[/(surface duo)/i],[u,[f,I],[A,b]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[u,[f,"Fairphone"],[A,x]],[/(u304aa)/i],[u,[f,"AT&T"],[A,x]],[/\bsie-(\w*)/i],[u,[f,"Siemens"],[A,x]],[/\b(rct\w+) b/i],[u,[f,"RCA"],[A,b]],[/\b(venue[\d ]{2,7}) b/i],[u,[f,"Dell"],[A,b]],[/\b(q(?:mv|ta)\w+) b/i],[u,[f,"Verizon"],[A,b]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[u,[f,"Barnes & Noble"],[A,b]],[/\b(tm\d{3}\w+) b/i],[u,[f,"NuVision"],[A,b]],[/\b(k88) b/i],[u,[f,"ZTE"],[A,b]],[/\b(nx\d{3}j) b/i],[u,[f,"ZTE"],[A,x]],[/\b(gen\d{3}) b.+49h/i],[u,[f,"Swiss"],[A,x]],[/\b(zur\d{3}) b/i],[u,[f,"Swiss"],[A,b]],[/\b((zeki)?tb.*\b) b/i],[u,[f,"Zeki"],[A,b]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[f,"Dragon Touch"],u,[A,b]],[/\b(ns-?\w{0,9}) b/i],[u,[f,"Insignia"],[A,b]],[/\b((nxa|next)-?\w{0,9}) b/i],[u,[f,"NextBook"],[A,b]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[f,"Voice"],u,[A,x]],[/\b(lvtel\-)?(v1[12]) b/i],[[f,"LvTel"],u,[A,x]],[/\b(ph-1) /i],[u,[f,"Essential"],[A,x]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[u,[f,"Envizen"],[A,b]],[/\b(trio[-\w\. ]+) b/i],[u,[f,"MachSpeed"],[A,b]],[/\btu_(1491) b/i],[u,[f,"Rotor"],[A,b]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[u,[f,T],[A,b]],[/(sprint) (\w+)/i],[f,u,[A,x]],[/(kin\.[onetw]{3})/i],[[u,/\./g," "],[f,I],[A,x]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[u,[f,K],[A,b]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[u,[f,K],[A,x]],[/smart-tv.+(samsung)/i],[f,[A,y]],[/hbbtv.+maple;(\d+)/i],[[u,/^/,"SmartTV"],[f,R],[A,y]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[f,F],[A,y]],[/(apple) ?tv/i],[f,[u,N+" TV"],[A,y]],[/crkey/i],[[u,k+"cast"],[f,E],[A,y]],[/droid.+aft(\w+)( bui|\))/i],[u,[f,j],[A,y]],[/(shield \w+ tv)/i],[u,[f,T],[A,y]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[u,[f,Q],[A,y]],[/(bravia[\w ]+)( bui|\))/i],[u,[f,z],[A,y]],[/(mi(tv|box)-?\w+) bui/i],[u,[f,H],[A,y]],[/Hbbtv.*(technisat) (.*);/i],[f,u,[A,y]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[f,Z],[u,Z],[A,y]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[u,[A,y]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[A,y]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[f,u,[A,g]],[/droid.+; (shield)( bui|\))/i],[u,[f,T],[A,g]],[/(playstation \w+)/i],[u,[f,z],[A,g]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[u,[f,I],[A,g]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[u,[f,R],[A,v]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[f,u,[A,v]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[u,[f,U],[A,v]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[u,[f,N],[A,v]],[/(opwwe\d{3})/i],[u,[f,O],[A,v]],[/(moto 360)/i],[u,[f,D],[A,v]],[/(smartwatch 3)/i],[u,[f,z],[A,v]],[/(g watch r)/i],[u,[f,F],[A,v]],[/droid.+; (wt63?0{2,3})\)/i],[u,[f,K],[A,v]],[/droid.+; (glass) \d/i],[u,[f,E],[A,v]],[/(pico) (4|neo3(?: link|pro)?)/i],[f,u,[A,v]],[/; (quest( \d| pro)?)/i],[u,[f,W],[A,v]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[f,[A,w]],[/(aeobc)\b/i],[u,[f,j],[A,w]],[/(homepod).+mac os/i],[u,[f,N],[A,w]],[/windows iot/i],[[A,w]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[u,[A,x]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[u,[A,b]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[A,b]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[A,x]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[u,[f,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[m,[h,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[h,m],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[m,[h,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[h,m],[/ladybird\//i],[[h,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[m,h]],os:[[/microsoft (windows) (vista|xp)/i],[h,m],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[h,[m,ee,te]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,ee,te],[h,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[m,/_/g,"."],[h,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[h,q],[m,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[m,h],[/(ubuntu) ([\w\.]+) like android/i],[[h,/(.+)/,"$1 Touch"],m],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[h,m],[/\(bb(10);/i],[m,[h,C]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[m,[h,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[m,[h,B+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[m,[h,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[m,[h,"watchOS"]],[/crkey\/([\d\.]+)/i],[m,[h,k+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[h,V],m],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[h,m],[/(sunos) ?([\w\.\d]*)/i],[[h,"Solaris"],m],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[h,m]]},re=function(e,t){if(typeof e===l&&(t=e,e=a),!(this instanceof re))return new re(e,t).getResult();var n=typeof s!==o&&s.navigator?s.navigator:a,r=e||(n&&n.userAgent?n.userAgent:""),g=n&&n.userAgentData?n.userAgentData:a,y=t?function(e,t){var n={};for(var r in e)t[r]&&t[r].length%2===0?n[r]=t[r].concat(e[r]):n[r]=e[r];return n}(ne,t):ne,v=n&&n.userAgent==r;return this.getBrowser=function(){var e,t={};return t[h]=a,t[m]=a,$.call(t,r,y.browser),t[d]=typeof(e=t[m])===c?e.replace(/[^\d\.]/g,"").split(".")[0]:a,v&&n&&n.brave&&typeof n.brave.isBrave==i&&(t[h]="Brave"),t},this.getCPU=function(){var e={};return e[p]=a,$.call(e,r,y.cpu),e},this.getDevice=function(){var e={};return e[f]=a,e[u]=a,e[A]=a,$.call(e,r,y.device),v&&!e[A]&&g&&g.mobile&&(e[A]=x),v&&"Macintosh"==e[u]&&n&&typeof n.standalone!==o&&n.maxTouchPoints&&n.maxTouchPoints>2&&(e[u]="iPad",e[A]=b),e},this.getEngine=function(){var e={};return e[h]=a,e[m]=a,$.call(e,r,y.engine),e},this.getOS=function(){var e={};return e[h]=a,e[m]=a,$.call(e,r,y.os),v&&!e[h]&&g&&g.platform&&"Unknown"!=g.platform&&(e[h]=g.platform.replace(/chrome os/i,V).replace(/macos/i,q)),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=typeof e===c&&e.length>500?Z(e,500):e,this},this.setUA(r),this};re.VERSION="0.7.41",re.BROWSER=Y([h,m,d]),re.CPU=Y([p]),re.DEVICE=Y([u,f,A,g,x,y,b,v,w]),re.ENGINE=re.OS=Y([h,m]),typeof t!==o?(e.exports&&(t=e.exports=re),t.UAParser=re):n.amdO?(r=function(){return re}.call(t,n,t,e))===a||(e.exports=r):typeof s!==o&&(s.UAParser=re);var se=typeof s!==o&&(s.jQuery||s.Zepto);if(se&&!se.ua){var ae=new re;se.ua=ae.getResult(),se.ua.get=function(){return ae.getUA()},se.ua.set=function(e){ae.setUA(e);var t=ae.getResult();for(var n in t)se.ua[n]=t[n]}}}("object"===typeof window?window:this)},4132:function(e,t,n){!function(e){"use strict";if(!e.setImmediate){var t,n=1,r={},s=!1,a=e.document,i=Object.getPrototypeOf&&Object.getPrototypeOf(e);i=i&&i.setTimeout?i:e,"[object process]"==={}.toString.call(e.process)?t=function(e){process.nextTick(function(){l(e)})}:function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?function(){var n="setImmediate$"+Math.random()+"$",r=function(t){t.source===e&&"string"===typeof t.data&&0===t.data.indexOf(n)&&l(+t.data.slice(n.length))};e.addEventListener?e.addEventListener("message",r,!1):e.attachEvent("onmessage",r),t=function(t){e.postMessage(n+t,"*")}}():e.MessageChannel?function(){var e=new MessageChannel;e.port1.onmessage=function(e){l(e.data)},t=function(t){e.port2.postMessage(t)}}():a&&"onreadystatechange"in a.createElement("script")?function(){var e=a.documentElement;t=function(t){var n=a.createElement("script");n.onreadystatechange=function(){l(t),n.onreadystatechange=null,e.removeChild(n),n=null},e.appendChild(n)}}():t=function(e){setTimeout(l,0,e)},i.setImmediate=function(e){"function"!==typeof e&&(e=new Function(""+e));for(var s=new Array(arguments.length-1),a=0;a<s.length;a++)s[a]=arguments[a+1];var i={callback:e,args:s};return r[n]=i,t(n),n++},i.clearImmediate=o}function o(e){delete r[e]}function l(e){if(s)setTimeout(l,0,e);else{var t=r[e];if(t){s=!0;try{!function(e){var t=e.callback,n=e.args;switch(n.length){case 0:t();break;case 1:t(n[0]);break;case 2:t(n[0],n[1]);break;case 3:t(n[0],n[1],n[2]);break;default:t.apply(void 0,n)}}(t)}finally{o(e),s=!1}}}}}("undefined"===typeof self?"undefined"===typeof n.g?this:n.g:self)},4155:(e,t,n)=>{"use strict";var r=n(4939),s=n(1320).OrderedSet,a=r.substr,i=s();e.exports=function(e,t){var n=Array(e.length).fill(i);return t&&t.forEach(function(t){for(var r=a(e,0,t.offset).length,s=r+a(e,t.offset,t.length).length;r<s;)n[r]=n[r].add(t.style),r++}),n}},4202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),A=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,p={};function g(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}function x(){}function b(e,t,n){this.props=e,this.context=t,this.refs=p,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},x.prototype=g.prototype;var y=b.prototype=new x;y.constructor=b,m(y,g.prototype),y.isPureReactComponent=!0;var v=Array.isArray,w=Object.prototype.hasOwnProperty,j={current:null},N={key:!0,ref:!0,__self:!0,__source:!0};function _(e,t,r){var s,a={},i=null,o=null;if(null!=t)for(s in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(i=""+t.key),t)w.call(t,s)&&!N.hasOwnProperty(s)&&(a[s]=t[s]);var l=arguments.length-2;if(1===l)a.children=r;else if(1<l){for(var c=Array(l),d=0;d<l;d++)c[d]=arguments[d+2];a.children=c}if(e&&e.defaultProps)for(s in l=e.defaultProps)void 0===a[s]&&(a[s]=l[s]);return{$$typeof:n,type:e,key:i,ref:o,props:a,_owner:j.current}}function C(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var S=/\/+/g;function k(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function B(e,t,s,a,i){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return i=i(l=e),e=""===a?"."+k(l,0):a,v(i)?(s="",null!=e&&(s=e.replace(S,"$&/")+"/"),B(i,t,s,"",function(e){return e})):null!=i&&(C(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,s+(!i.key||l&&l.key===i.key?"":(""+i.key).replace(S,"$&/")+"/")+e)),t.push(i)),1;if(l=0,a=""===a?".":a+":",v(e))for(var c=0;c<e.length;c++){var d=a+k(o=e[c],c);l+=B(o,t,s,d,i)}else if(d=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}(e),"function"===typeof d)for(e=d.call(e),c=0;!(o=e.next()).done;)l+=B(o=o.value,t,s,d=a+k(o,c++),i);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function E(e,t,n){if(null==e)return e;var r=[],s=0;return B(e,r,"","",function(e){return t.call(n,e,s++)}),r}function L(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var M={current:null},F={transition:null},I={ReactCurrentDispatcher:M,ReactCurrentBatchConfig:F,ReactCurrentOwner:j};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:E,forEach:function(e,t,n){E(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return E(e,function(){t++}),t},toArray:function(e){return E(e,function(e){return e})||[]},only:function(e){if(!C(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=s,t.Profiler=i,t.PureComponent=b,t.StrictMode=a,t.Suspense=d,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=I,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var s=m({},e.props),a=e.key,i=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,o=j.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)w.call(t,c)&&!N.hasOwnProperty(c)&&(s[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)s.children=r;else if(1<c){l=Array(c);for(var d=0;d<c;d++)l[d]=arguments[d+2];s.children=l}return{$$typeof:n,type:e.type,key:a,ref:i,props:s,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=_,t.createFactory=function(e){var t=_.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=C,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:L}},t.memo=function(e,t){return{$$typeof:u,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=F.transition;F.transition={};try{e()}finally{F.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return M.current.useCallback(e,t)},t.useContext=function(e){return M.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return M.current.useDeferredValue(e)},t.useEffect=function(e,t){return M.current.useEffect(e,t)},t.useId=function(){return M.current.useId()},t.useImperativeHandle=function(e,t,n){return M.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return M.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return M.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return M.current.useMemo(e,t)},t.useReducer=function(e,t,n){return M.current.useReducer(e,t,n)},t.useRef=function(e){return M.current.useRef(e)},t.useState=function(e){return M.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return M.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return M.current.useTransition()},t.version="18.3.1"},4391:(e,t,n)=>{"use strict";var r=n(7950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},4410:(e,t,n)=>{"use strict";var r=n(2370),s=n(3305),a=n(2367),i=n(3366),o=n(7707),l=n(4075),c=n(1144),d=n(8063),u=n(7538),h=n(7159),A=n(2593),f=n(5763),m=n(186),p=n(6283),g=n(2333),x=n(6966),b=n(169),y=n(4666),v=n(8421),w=n(3327),j=n(306),N=n(9684),_=n(4587),C={Editor:u,EditorBlock:h,EditorState:p,CompositeDecorator:i,Entity:A,EntityInstance:m,BlockMapBuilder:s,CharacterMetadata:a,ContentBlock:o,ContentState:l,RawDraftContentState:x,SelectionState:y,AtomicBlockUtils:r,KeyBindingUtil:g,Modifier:f,RichUtils:b,DefaultDraftBlockRenderMap:c,DefaultDraftInlineStyle:d,convertFromHTML:n(555),convertFromRaw:w,convertToRaw:v,genKey:j,getDefaultKeyBinding:N,getVisibleSelectionRect:_};e.exports=C},4414:e=>{"use strict";var t="-",n={encode:function(e,n,r){return e+t+n+t+r},decode:function(e){var n=e.split(t).reverse(),r=n[0],s=n[1];return{blockKey:n.slice(2).reverse().join(t),decoratorKey:parseInt(s,10),leafKey:parseInt(r,10)}}};e.exports=n},4454:(e,t,n)=>{"use strict";var r=n(5763),s=n(6283);e.exports=function(e){var t=r.splitBlock(e.getCurrentContent(),e.getSelection());return s.push(e,t,"split-block")}},4587:(e,t,n)=>{"use strict";var r=n(9193);e.exports=function(e){var t=e.getSelection();if(!t.rangeCount)return null;var n=t.getRangeAt(0),s=r(n),a=s.top,i=s.right,o=s.bottom,l=s.left;return 0===a&&0===i&&0===o&&0===l?null:s}},4666:(e,t,n)=>{"use strict";var r=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},s.getAnchorKey=function(){return this.get("anchorKey")},s.getAnchorOffset=function(){return this.get("anchorOffset")},s.getFocusKey=function(){return this.get("focusKey")},s.getFocusOffset=function(){return this.get("focusOffset")},s.getIsBackward=function(){return this.get("isBackward")},s.getHasFocus=function(){return this.get("hasFocus")},s.hasEdgeWithin=function(e,t,n){var r=this.getAnchorKey(),s=this.getFocusKey();if(r===s&&r===e){var a=this.getStartOffset(),i=this.getEndOffset();return t<=a&&a<=n||t<=i&&i<=n}if(e!==r&&e!==s)return!1;var o=e===r?this.getAnchorOffset():this.getFocusOffset();return t<=o&&n>=o},s.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},s.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},s.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},s.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},s.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},r.createEmpty=function(e){return new r({anchorKey:e,anchorOffset:0,focusKey:e,focusOffset:0,isBackward:!1,hasFocus:!1})},r}((0,n(1320).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));e.exports=r},4669:(e,t,n)=>{"use strict";var r=n(6415),s="LTR",a=null;function i(e){return e===s||"RTL"===e}function o(e){return i(e)||r(!1),e===s?"ltr":"rtl"}function l(e){a=e}var c={NEUTRAL:"NEUTRAL",LTR:s,RTL:"RTL",isStrong:i,getHTMLDir:o,getHTMLDirIfDifferent:function(e,t){return i(e)||r(!1),i(t)||r(!1),e===t?null:o(e)},setGlobalDir:l,initGlobalDir:function(){l(s)},getGlobalDir:function(){return a||this.initGlobalDir(),a||r(!1),a}};e.exports=c},4701:(e,t,n)=>{"use strict";var r=n(2367);e.exports=function(e,t,n,s){for(var a=t,i=e.getCharacterList();a<n;)i=i.set(a,r.applyEntity(i.get(a),s)),a++;return e.set("characterList",i)}},4733:(e,t,n)=>{"use strict";var r=n(4414),s=n(8691);e.exports=function(e,t,n,a,i){var o=s(e.getSelection());if(!t||!a)return o;var l=r.decode(t),c=l.blockKey,d=e.getBlockTree(c),u=d&&d.getIn([l.decoratorKey,"leaves",l.leafKey]),h=r.decode(a),A=h.blockKey,f=e.getBlockTree(A),m=f&&f.getIn([h.decoratorKey,"leaves",h.leafKey]);if(!u||!m)return o;var p=u.get("start"),g=m.get("start"),x=u?p+n:null,b=m?g+i:null;if(o.getAnchorKey()===c&&o.getAnchorOffset()===x&&o.getFocusKey()===A&&o.getFocusOffset()===b)return o;var y=!1;if(c===A){var v=u.get("end"),w=m.get("end");y=g===p&&w===v?i<n:g<p}else{y=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===c||e===A}).first()===A}return o.merge({anchorKey:c,anchorOffset:x,focusKey:A,focusOffset:b,isBackward:y})}},4801:(e,t,n)=>{"use strict";var r="['\u2018\u2019]",s="\\s|(?![_])"+n(8978).getPunctuation(),a=new RegExp("^(?:"+s+")*(?:"+r+"|(?!"+s+").)*(?:(?!"+s+").)"),i=new RegExp("(?:(?!"+s+").)(?:"+r+"|(?!"+s+").)*(?:"+s+")*$");function o(e,t){var n=t?i.exec(e):a.exec(e);return n?n[0]:e}var l={getBackward:function(e){return o(e,!0)},getForward:function(e){return o(e,!1)}};e.exports=l},4863:(e,t,n)=>{"use strict";n(7443);e.exports={isValidBlock:function(e,t){var n=e.getKey(),r=e.getParentKey();if(null!=r&&!t.get(r).getChildKeys().includes(n))return!1;if(!e.getChildKeys().map(function(e){return t.get(e)}).every(function(e){return e.getParentKey()===n}))return!1;var s=e.getPrevSiblingKey();if(null!=s&&t.get(s).getNextSiblingKey()!==n)return!1;var a=e.getNextSiblingKey();if(null!=a&&t.get(a).getPrevSiblingKey()!==n)return!1;return(null===a||null===s||s!==a)&&!(""!=e.text&&e.getChildKeys().size>0)},isConnectedTree:function(e){var t=e.toArray().filter(function(e){return null==e.getParentKey()&&null==e.getPrevSiblingKey()});if(1!==t.length)return!1;for(var n=0,r=t.shift().getKey(),s=[];null!=r;){var a=e.get(r),i=a.getChildKeys(),o=a.getNextSiblingKey();if(i.size>0){null!=o&&s.unshift(o);var l=i.map(function(t){return e.get(t)}).find(function(e){return null==e.getPrevSiblingKey()});if(null==l)return!1;r=l.getKey()}else r=null!=a.getNextSiblingKey()?a.getNextSiblingKey():s.shift();n++}return n===e.size},isValidTree:function(e){var t=this;return!!e.toArray().every(function(n){return t.isValidBlock(n,e)})&&this.isConnectedTree(e)}}},4909:(e,t,n)=>{"use strict";var r=n(6415),s=n(9990);e.exports=function(e){var t=e.editorContainer;return t||r(!1),s(t.firstChild)||r(!1),t.firstChild}},4923:e=>{"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},4939:(e,t,n)=>{"use strict";var r=n(6415),s=/[\uD800-\uDFFF]/;function a(e){return 55296<=e&&e<=57343}function i(e){return s.test(e)}function o(e,t){return 1+a(e.charCodeAt(t))}function l(e,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!i(e))return e.substr(t,n);var r=e.length;if(r<=0||t>r||n<=0)return"";var s=0;if(t>0){for(;t>0&&s<r;t--)s+=o(e,s);if(s>=r)return""}else if(t<0){for(s=r;t<0&&0<s;t++)s-=o(e,s-1);s<0&&(s=0)}var a=r;if(n<r)for(a=s;n>0&&a<r;n--)a+=o(e,a);return e.substring(s,a)}var c={getCodePoints:function(e){for(var t=[],n=0;n<e.length;n+=o(e,n))t.push(e.codePointAt(n));return t},getUTF16Length:o,hasSurrogateUnit:i,isCodeUnitInSurrogateRange:a,isSurrogatePair:function(e,t){if(0<=t&&t<e.length||r(!1),t+1===e.length)return!1;var n=e.charCodeAt(t),s=e.charCodeAt(t+1);return 55296<=n&&n<=56319&&56320<=s&&s<=57343},strlen:function(e){if(!i(e))return e.length;for(var t=0,n=0;n<e.length;n+=o(e,n))t++;return t},substring:function(e,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var r=Math.abs(n-t);return l(e,t=t<n?t:n,r)},substr:l};e.exports=c},4980:(e,t,n)=>{"use strict";n.d(t,{A:()=>a});var r=n(2284);function s(e){var t=function(e,t){if("object"!=(0,r.A)(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var s=n.call(e,t||"default");if("object"!=(0,r.A)(s))return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==(0,r.A)(t)?t:t+""}function a(e,t,n){return(t=s(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}},5030:(e,t,n)=>{"use strict";var r=n(7385);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"BR"===e.nodeName)}},5036:(e,t,n)=>{"use strict";var r=n(2934).notEmptyKey;function s(e,t){return r(t)&&"MUTABLE"===e.__get(t).getMutability()?t:null}e.exports=function(e,t){var n;if(t.isCollapsed()){var r=t.getAnchorKey(),a=t.getAnchorOffset();return a>0?(n=e.getBlockForKey(r).getEntityAt(a-1))!==e.getBlockForKey(r).getEntityAt(a)?null:s(e.getEntityMap(),n):null}var i=t.getStartKey(),o=t.getStartOffset(),l=e.getBlockForKey(i);return n=o===l.getLength()?null:l.getEntityAt(o),s(e.getEntityMap(),n)}},5037:(e,t,n)=>{"use strict";var r=n(8358),s=n(8746);e.exports=function(e){for(var t=e;t&&t!==r(e).documentElement;){var n=s(t);if(null!=n)return n;t=t.parentNode}return null}},5043:(e,t,n)=>{"use strict";e.exports=n(4202)},5089:e=>{"use strict";e.exports=function(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}},5103:(e,t,n)=>{"use strict";var r=n(2123);function s(){return s=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){i(e,t,n[t])})}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(9358),l=n(4414),c=n(5043),d=n(5914),u=n(1614),h=n(636),A=n(8349),f=n(5628),m=n(1320),p=n(6415),g=n(9990),x=(m.List,function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t}),b=function(e,t){var n=t.get(e.getType())||t.get("unstyled"),r=n.wrapper;return{Element:n.element||t.get("unstyled").element,wrapperTemplate:r}},y=function(e,t){var n=t(e);return n?{CustomComponent:n.component,customProps:n.props,customEditable:n.editable}:{}},v=function(e,t,n,r,s,i){var o={"data-block":!0,"data-editor":t,"data-offset-key":n,key:e.getKey(),ref:i},l=r(e);return l&&(o.className=l),void 0!==s.customEditable&&(o=a({},o,{contentEditable:s.customEditable,suppressContentEditableWarning:!0})),o},w=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return i(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t=e.call.apply(e,[this].concat(r))||this),"wrapperRef",c.createRef()),t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var m=r.prototype;return m.shouldComponentUpdate=function(e){var t=this.props,n=t.block,r=t.direction,s=t.tree,a=!n.getChildKeys().isEmpty(),i=n!==e.block||s!==e.tree||r!==e.direction||x(e.selection,e.block.getKey())&&e.forceSelection;return a||i},m.componentDidMount=function(){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this.wrapperRef.current;if(n){var r,s=u.getScrollParent(n),a=A(s);if(s===window){var i=h(n);(r=i.y+i.height-f().height)>0&&window.scrollTo(a.x,a.y+r+10)}else{g(n)||p(!1);var o=n;(r=o.offsetHeight+o.offsetTop-(s.offsetHeight+a.y))>0&&d.setTop(s,d.getTop(s)+r+10)}}}},m.render=function(){var e=this,t=this.props,n=t.block,i=t.blockRenderMap,d=t.blockRendererFn,u=t.blockStyleFn,h=t.contentState,A=t.decorator,f=t.editorKey,m=t.editorState,p=t.customStyleFn,g=t.customStyleMap,w=t.direction,j=t.forceSelection,N=t.selection,_=t.tree,C=null;n.children.size&&(C=n.children.reduce(function(t,n){var s=l.encode(n,0,0),o=h.getBlockForKey(n),A=y(o,d),p=A.CustomComponent||r,g=b(o,i),x=g.Element,w=g.wrapperTemplate,j=v(o,f,s,u,A,null),N=a({},e.props,{tree:m.getBlockTree(n),blockProps:A.customProps,offsetKey:s,block:o});return t.push(c.createElement(x,j,c.createElement(p,N))),!w||function(e,t){var n=e.getNextSiblingKey();return!!n&&t.getBlockForKey(n).getType()===e.getType()}(o,h)||function(e,t,n){var r=[],s=!0,a=!1,i=void 0;try{for(var o,d=n.reverse()[Symbol.iterator]();!(s=(o=d.next()).done);s=!0){var u=o.value;if(u.type!==t)break;r.push(u)}}catch(f){a=!0,i=f}finally{try{s||null==d.return||d.return()}finally{if(a)throw i}}n.splice(n.indexOf(r[0]),r.length+1);var h=r.reverse(),A=h[0].key;n.push(c.cloneElement(e,{key:"".concat(A,"-wrap"),"data-offset-key":l.encode(A,0,0)},h))}(w,x,t),t},[]));var S=n.getKey(),k=l.encode(S,0,0),B=y(n,d),E=B.CustomComponent,L=null!=E?c.createElement(E,s({},this.props,{tree:m.getBlockTree(S),blockProps:B.customProps,offsetKey:k,block:n})):c.createElement(o,{block:n,children:C,contentState:h,customStyleFn:p,customStyleMap:g,decorator:A,direction:w,forceSelection:j,hasSelection:x(N,S),selection:N,tree:_});if(n.getParentKey())return L;var M=b(n,i).Element,F=v(n,f,k,u,B,this.wrapperRef);return c.createElement(M,F,L)},r}(c.Component);e.exports=w},5169:(e,t,n)=>{"use strict";var r=n(6643);e.exports=function(e,t){e._latestEditorState.getSelection().isCollapsed()?t.preventDefault():e.setClipboard(r(e._latestEditorState))}},5239:function(e){e.exports=function(){"use strict";var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])},e(t,n)};function t(t,n){if("function"!==typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}var n=function(){return n=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var s in t=arguments[n])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},n.apply(this,arguments)};function r(e,t,n,r){function s(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,a){function i(e){try{l(r.next(e))}catch(Ot){a(Ot)}}function o(e){try{l(r.throw(e))}catch(Ot){a(Ot)}}function l(e){e.done?n(e.value):s(e.value).then(i,o)}l((r=r.apply(e,t||[])).next())})}function s(e,t){var n,r,s,a,i={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return a={next:o(0),throw:o(1),return:o(2)},"function"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),a;function o(e){return function(t){return l([e,t])}}function l(a){if(n)throw new TypeError("Generator is already executing.");for(;i;)try{if(n=1,r&&(s=2&a[0]?r.return:a[0]?r.throw||((s=r.return)&&s.call(r),0):r.next)&&!(s=s.call(r,a[1])).done)return s;switch(r=0,s&&(a=[2&a[0],s.value]),a[0]){case 0:case 1:s=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(s=(s=i.trys).length>0&&s[s.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!s||a[1]>s[0]&&a[1]<s[3])){i.label=a[1];break}if(6===a[0]&&i.label<s[1]){i.label=s[1],s=a;break}if(s&&i.label<s[2]){i.label=s[2],i.ops.push(a);break}s[2]&&i.ops.pop(),i.trys.pop();continue}a=t.call(e,i)}catch(Ot){a=[6,Ot],r=0}finally{n=s=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}function a(e,t,n){if(n||2===arguments.length)for(var r,s=0,a=t.length;s<a;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||t)}for(var i=function(){function e(e,t,n,r){this.left=e,this.top=t,this.width=n,this.height=r}return e.prototype.add=function(t,n,r,s){return new e(this.left+t,this.top+n,this.width+r,this.height+s)},e.fromClientRect=function(t,n){return new e(n.left+t.windowBounds.left,n.top+t.windowBounds.top,n.width,n.height)},e.fromDOMRectList=function(t,n){var r=Array.from(n).find(function(e){return 0!==e.width});return r?new e(r.left+t.windowBounds.left,r.top+t.windowBounds.top,r.width,r.height):e.EMPTY},e.EMPTY=new e(0,0,0,0),e}(),o=function(e,t){return i.fromClientRect(e,t.getBoundingClientRect())},l=function(e){var t=e.body,n=e.documentElement;if(!t||!n)throw new Error("Unable to get document size");var r=Math.max(Math.max(t.scrollWidth,n.scrollWidth),Math.max(t.offsetWidth,n.offsetWidth),Math.max(t.clientWidth,n.clientWidth)),s=Math.max(Math.max(t.scrollHeight,n.scrollHeight),Math.max(t.offsetHeight,n.offsetHeight),Math.max(t.clientHeight,n.clientHeight));return new i(0,0,r,s)},c=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),n--)}else t.push(s)}return t},d=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=e[s];i<=65535?r.push(i):(i-=65536,r.push(55296+(i>>10),i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",h="undefined"===typeof Uint8Array?[]:new Uint8Array(256),A=0;A<u.length;A++)h[u.charCodeAt(A)]=A;for(var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m="undefined"===typeof Uint8Array?[]:new Uint8Array(256),p=0;p<f.length;p++)m[f.charCodeAt(p)]=p;for(var g=function(e){var t,n,r,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),d=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<o;t+=4)n=m[e.charCodeAt(t)],r=m[e.charCodeAt(t+1)],s=m[e.charCodeAt(t+2)],a=m[e.charCodeAt(t+3)],d[l++]=n<<2|r>>4,d[l++]=(15&r)<<4|s>>2,d[l++]=(3&s)<<6|63&a;return c},x=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},b=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},y=5,v=11,w=2,j=65536>>y,N=(1<<y)-1,_=j+(1024>>y)+32,C=65536>>v,S=(1<<v-y)-1,k=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},B=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},E=function(e,t){var n=g(e),r=Array.isArray(n)?b(n):new Uint32Array(n),s=Array.isArray(n)?x(n):new Uint16Array(n),a=24,i=k(s,a/2,r[4]/2),o=2===r[5]?k(s,(a+r[4])/2):B(r,Math.ceil((a+r[4])/4));return new L(r[0],r[1],r[2],r[3],i,o)},L=function(){function e(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>y])<<w)+(e&N),this.data[t];if(e<=65535)return t=((t=this.index[j+(e-55296>>y)])<<w)+(e&N),this.data[t];if(e<this.highStart)return t=_-C+(e>>v),t=this.index[t],t+=e>>y&S,t=((t=this.index[t])<<w)+(e&N),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),M="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",F="undefined"===typeof Uint8Array?[]:new Uint8Array(256),I=0;I<M.length;I++)F[M.charCodeAt(I)]=I;var D=50,T=1,O=2,P=3,U=4,R=5,Q=7,z=8,H=9,K=10,W=11,V=12,q=13,G=14,Y=15,J=16,X=17,Z=18,$=19,ee=20,te=21,ne=22,re=23,se=24,ae=25,ie=26,oe=27,le=28,ce=29,de=30,ue=31,he=32,Ae=33,fe=34,me=35,pe=36,ge=37,xe=38,be=39,ye=40,ve=41,we=42,je=43,Ne=[9001,65288],_e="!",Ce="\xd7",Se="\xf7",ke=E("KwAAAAAAAAAACA4AUD0AADAgAAACAAAAAAAIABAAGABAAEgAUABYAGAAaABgAGgAYgBqAF8AZwBgAGgAcQB5AHUAfQCFAI0AlQCdAKIAqgCyALoAYABoAGAAaABgAGgAwgDKAGAAaADGAM4A0wDbAOEA6QDxAPkAAQEJAQ8BFwF1AH0AHAEkASwBNAE6AUIBQQFJAVEBWQFhAWgBcAF4ATAAgAGGAY4BlQGXAZ8BpwGvAbUBvQHFAc0B0wHbAeMB6wHxAfkBAQIJAvEBEQIZAiECKQIxAjgCQAJGAk4CVgJeAmQCbAJ0AnwCgQKJApECmQKgAqgCsAK4ArwCxAIwAMwC0wLbAjAA4wLrAvMC+AIAAwcDDwMwABcDHQMlAy0DNQN1AD0DQQNJA0kDSQNRA1EDVwNZA1kDdQB1AGEDdQBpA20DdQN1AHsDdQCBA4kDkQN1AHUAmQOhA3UAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AKYDrgN1AHUAtgO+A8YDzgPWAxcD3gPjA+sD8wN1AHUA+wMDBAkEdQANBBUEHQQlBCoEFwMyBDgEYABABBcDSARQBFgEYARoBDAAcAQzAXgEgASIBJAEdQCXBHUAnwSnBK4EtgS6BMIEyAR1AHUAdQB1AHUAdQCVANAEYABgAGAAYABgAGAAYABgANgEYADcBOQEYADsBPQE/AQEBQwFFAUcBSQFLAU0BWQEPAVEBUsFUwVbBWAAYgVgAGoFcgV6BYIFigWRBWAAmQWfBaYFYABgAGAAYABgAKoFYACxBbAFuQW6BcEFwQXHBcEFwQXPBdMF2wXjBeoF8gX6BQIGCgYSBhoGIgYqBjIGOgZgAD4GRgZMBmAAUwZaBmAAYABgAGAAYABgAGAAYABgAGAAYABgAGIGYABpBnAGYABgAGAAYABgAGAAYABgAGAAYAB4Bn8GhQZgAGAAYAB1AHcDFQSLBmAAYABgAJMGdQA9A3UAmwajBqsGqwaVALMGuwbDBjAAywbSBtIG1QbSBtIG0gbSBtIG0gbdBuMG6wbzBvsGAwcLBxMHAwcbByMHJwcsBywHMQcsB9IGOAdAB0gHTgfSBkgHVgfSBtIG0gbSBtIG0gbSBtIG0gbSBiwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdgAGAALAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAdbB2MHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB2kH0gZwB64EdQB1AHUAdQB1AHUAdQB1AHUHfQdgAIUHjQd1AHUAlQedB2AAYAClB6sHYACzB7YHvgfGB3UAzgfWBzMB3gfmB1EB7gf1B/0HlQENAQUIDQh1ABUIHQglCBcDLQg1CD0IRQhNCEEDUwh1AHUAdQBbCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIaQhjCGQIZQhmCGcIaAhpCGMIZAhlCGYIZwhoCGkIYwhkCGUIZghnCGgIcAh3CHoIMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIgggwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAALAcsBywHLAcsBywHLAcsBywHLAcsB4oILAcsB44I0gaWCJ4Ipgh1AHUAqgiyCHUAdQB1AHUAdQB1AHUAdQB1AHUAtwh8AXUAvwh1AMUIyQjRCNkI4AjoCHUAdQB1AO4I9gj+CAYJDgkTCS0HGwkjCYIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiCCIIIggiAAIAAAAFAAYABgAGIAXwBgAHEAdQBFAJUAogCyAKAAYABgAEIA4ABGANMA4QDxAMEBDwE1AFwBLAE6AQEBUQF4QkhCmEKoQrhCgAHIQsAB0MLAAcABwAHAAeDC6ABoAHDCwMMAAcABwAHAAdDDGMMAAcAB6MM4wwjDWMNow3jDaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAGgAaABoAEjDqABWw6bDqABpg6gAaABoAHcDvwOPA+gAaABfA/8DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DvwO/A78DpcPAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcAB9cPKwkyCToJMAB1AHUAdQBCCUoJTQl1AFUJXAljCWcJawkwADAAMAAwAHMJdQB2CX4JdQCECYoJjgmWCXUAngkwAGAAYABxAHUApgn3A64JtAl1ALkJdQDACTAAMAAwADAAdQB1AHUAdQB1AHUAdQB1AHUAowYNBMUIMAAwADAAMADICcsJ0wnZCRUE4QkwAOkJ8An4CTAAMAB1AAAKvwh1AAgKDwoXCh8KdQAwACcKLgp1ADYKqAmICT4KRgowADAAdQB1AE4KMAB1AFYKdQBeCnUAZQowADAAMAAwADAAMAAwADAAMAAVBHUAbQowADAAdQC5CXUKMAAwAHwBxAijBogEMgF9CoQKiASMCpQKmgqIBKIKqgquCogEDQG2Cr4KxgrLCjAAMADTCtsKCgHjCusK8Qr5CgELMAAwADAAMAB1AIsECQsRC3UANAEZCzAAMAAwADAAMAB1ACELKQswAHUANAExCzkLdQBBC0kLMABRC1kLMAAwADAAMAAwADAAdQBhCzAAMAAwAGAAYABpC3ELdwt/CzAAMACHC4sLkwubC58Lpwt1AK4Ltgt1APsDMAAwADAAMAAwADAAMAAwAL4LwwvLC9IL1wvdCzAAMADlC+kL8Qv5C/8LSQswADAAMAAwADAAMAAwADAAMAAHDDAAMAAwADAAMAAODBYMHgx1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1ACYMMAAwADAAdQB1AHUALgx1AHUAdQB1AHUAdQA2DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AD4MdQBGDHUAdQB1AHUAdQB1AEkMdQB1AHUAdQB1AFAMMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQBYDHUAdQB1AF8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUA+wMVBGcMMAAwAHwBbwx1AHcMfwyHDI8MMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAYABgAJcMMAAwADAAdQB1AJ8MlQClDDAAMACtDCwHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsB7UMLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHdQB1AHUAdQB1AHUAdQB1AHUAdQB1AHUAdQB1AA0EMAC9DDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAsBywHLAcsBywHLAcsBywHLQcwAMEMyAwsBywHLAcsBywHLAcsBywHLAcsBywHzAwwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwAHUAdQB1ANQM2QzhDDAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMABgAGAAYABgAGAAYABgAOkMYADxDGAA+AwADQYNYABhCWAAYAAODTAAMAAwADAAFg1gAGAAHg37AzAAMAAwADAAYABgACYNYAAsDTQNPA1gAEMNPg1LDWAAYABgAGAAYABgAGAAYABgAGAAUg1aDYsGVglhDV0NcQBnDW0NdQ15DWAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAlQCBDZUAiA2PDZcNMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAnw2nDTAAMAAwADAAMAAwAHUArw23DTAAMAAwADAAMAAwADAAMAAwADAAMAB1AL8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAB1AHUAdQB1AHUAdQDHDTAAYABgAM8NMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA1w11ANwNMAAwAD0B5A0wADAAMAAwADAAMADsDfQN/A0EDgwOFA4wABsOMAAwADAAMAAwADAAMAAwANIG0gbSBtIG0gbSBtIG0gYjDigOwQUuDsEFMw7SBjoO0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGQg5KDlIOVg7SBtIGXg5lDm0OdQ7SBtIGfQ6EDooOjQ6UDtIGmg6hDtIG0gaoDqwO0ga0DrwO0gZgAGAAYADEDmAAYAAkBtIGzA5gANIOYADaDokO0gbSBt8O5w7SBu8O0gb1DvwO0gZgAGAAxA7SBtIG0gbSBtIGYABgAGAAYAAED2AAsAUMD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHJA8sBywHLAcsBywHLAccDywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywPLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAc0D9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAccD9IG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIGFA8sBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHLAcsBywHPA/SBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gbSBtIG0gYUD0QPlQCVAJUAMAAwADAAMACVAJUAlQCVAJUAlQCVAEwPMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAA//8EAAQABAAEAAQABAAEAAQABAANAAMAAQABAAIABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQACgATABcAHgAbABoAHgAXABYAEgAeABsAGAAPABgAHABLAEsASwBLAEsASwBLAEsASwBLABgAGAAeAB4AHgATAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABYAGwASAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWAA0AEQAeAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAFAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJABYAGgAbABsAGwAeAB0AHQAeAE8AFwAeAA0AHgAeABoAGwBPAE8ADgBQAB0AHQAdAE8ATwAXAE8ATwBPABYAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AHgAeAFAATwBAAE8ATwBPAEAATwBQAFAATwBQAB4AHgAeAB4AHgAeAB0AHQAdAB0AHgAdAB4ADgBQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgBQAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAJAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAkACQAJAAkACQAJAAkABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAFAAHgAeAB4AKwArAFAAUABQAFAAGABQACsAKwArACsAHgAeAFAAHgBQAFAAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUAAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAYAA0AKwArAB4AHgAbACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAB4ABAAEAB4ABAAEABMABAArACsAKwArACsAKwArACsAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAKwArACsAKwBWAFYAVgBWAB4AHgArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AGgAaABoAGAAYAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQAEwAEACsAEwATAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABLAEsASwBLAEsASwBLAEsASwBLABoAGQAZAB4AUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQABMAUAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABABQAFAABAAEAB4ABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUAAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAFAABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQAUABQAB4AHgAYABMAUAArACsABAAbABsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAFAABAAEAAQABAAEAFAABAAEAAQAUAAEAAQABAAEAAQAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArACsAHgArAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAUAAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEAA0ADQBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUAArACsAKwBQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABABQACsAKwArACsAKwArACsAKwAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUAAaABoAUABQAFAAUABQAEwAHgAbAFAAHgAEACsAKwAEAAQABAArAFAAUABQAFAAUABQACsAKwArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQACsAUABQACsAKwAEACsABAAEAAQABAAEACsAKwArACsABAAEACsAKwAEAAQABAArACsAKwAEACsAKwArACsAKwArACsAUABQAFAAUAArAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLAAQABABQAFAAUAAEAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsAKwAEAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAArACsAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AGwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAKwArACsAKwArAAQABAAEACsAKwArACsAUABQACsAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAAQAUAArAFAAUABQAFAAUABQACsAKwArAFAAUABQACsAUABQAFAAUAArACsAKwBQAFAAKwBQACsAUABQACsAKwArAFAAUAArACsAKwBQAFAAUAArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArAAQABAAEAAQABAArACsAKwAEAAQABAArAAQABAAEAAQAKwArAFAAKwArACsAKwArACsABAArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAHgAeAB4AHgAeAB4AGwAeACsAKwArACsAKwAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAUABQAFAAKwArACsAKwArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwAOAFAAUABQAFAAUABQAFAAHgBQAAQABAAEAA4AUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAKwArAAQAUAAEAAQABAAEAAQABAAEACsABAAEAAQAKwAEAAQABAAEACsAKwArACsAKwArACsABAAEACsAKwArACsAKwArACsAUAArAFAAUAAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAFAABAAEAAQABAAEAAQABAArAAQABAAEACsABAAEAAQABABQAB4AKwArACsAKwBQAFAAUAAEAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQABoAUABQAFAAUABQAFAAKwAEAAQABAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQACsAUAArACsAUABQAFAAUABQAFAAUAArACsAKwAEACsAKwArACsABAAEAAQABAAEAAQAKwAEACsABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArAAQABAAeACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAXAAqACoAKgAqACoAKgAqACsAKwArACsAGwBcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAeAEsASwBLAEsASwBLAEsASwBLAEsADQANACsAKwArACsAKwBcAFwAKwBcACsAXABcAFwAXABcACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAXAArAFwAXABcAFwAXABcAFwAXABcAFwAKgBcAFwAKgAqACoAKgAqACoAKgAqACoAXAArACsAXABcAFwAXABcACsAXAArACoAKgAqACoAKgAqACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwBcAFwAXABcAFAADgAOAA4ADgAeAA4ADgAJAA4ADgANAAkAEwATABMAEwATAAkAHgATAB4AHgAeAAQABAAeAB4AHgAeAB4AHgBLAEsASwBLAEsASwBLAEsASwBLAFAAUABQAFAAUABQAFAAUABQAFAADQAEAB4ABAAeAAQAFgARABYAEQAEAAQAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQADQAEAAQABAAEAAQADQAEAAQAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAA0ADQAeAB4AHgAeAB4AHgAEAB4AHgAeAB4AHgAeACsAHgAeAA4ADgANAA4AHgAeAB4AHgAeAAkACQArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgBcAEsASwBLAEsASwBLAEsASwBLAEsADQANAB4AHgAeAB4AXABcAFwAXABcAFwAKgAqACoAKgBcAFwAXABcACoAKgAqAFwAKgAqACoAXABcACoAKgAqACoAKgAqACoAXABcAFwAKgAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKgAqAFwAKgBLAEsASwBLAEsASwBLAEsASwBLACoAKgAqACoAKgAqAFAAUABQAFAAUABQACsAUAArACsAKwArACsAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAKwBQACsAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsABAAEAAQAHgANAB4AHgAeAB4AHgAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUAArACsADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAWABEAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQANAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAANAA0AKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUAArAAQABAArACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqAA0ADQAVAFwADQAeAA0AGwBcACoAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwAeAB4AEwATAA0ADQAOAB4AEwATAB4ABAAEAAQACQArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAHgArACsAKwATABMASwBLAEsASwBLAEsASwBLAEsASwBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAXABcAFwAXABcACsAKwArACsAKwArACsAKwArACsAKwBcAFwAXABcAFwAXABcAFwAXABcAFwAXAArACsAKwArAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAXAArACsAKwAqACoAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAArACsAHgAeAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcACoAKgAqACoAKgAqACoAKgAqACoAKwAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKwArAAQASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACoAKgAqACoAKgAqACoAXAAqACoAKgAqACoAKgArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABABQAFAAUABQAFAAUABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwANAA0AHgANAA0ADQANAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAEAAQABAAEAAQAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwAeAB4AHgAeAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArAA0ADQANAA0ADQBLAEsASwBLAEsASwBLAEsASwBLACsAKwArAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAA0ADQBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUAAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArAAQABAAEAB4ABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAAQAUABQAFAAUABQAFAABABQAFAABAAEAAQAUAArACsAKwArACsABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQACsAUAArAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAFAAUABQACsAHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQACsAKwAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQACsAHgAeAB4AHgAeAB4AHgAOAB4AKwANAA0ADQANAA0ADQANAAkADQANAA0ACAAEAAsABAAEAA0ACQANAA0ADAAdAB0AHgAXABcAFgAXABcAFwAWABcAHQAdAB4AHgAUABQAFAANAAEAAQAEAAQABAAEAAQACQAaABoAGgAaABoAGgAaABoAHgAXABcAHQAVABUAHgAeAB4AHgAeAB4AGAAWABEAFQAVABUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ADQAeAA0ADQANAA0AHgANAA0ADQAHAB4AHgAeAB4AKwAEAAQABAAEAAQABAAEAAQABAAEAFAAUAArACsATwBQAFAAUABQAFAAHgAeAB4AFgARAE8AUABPAE8ATwBPAFAAUABQAFAAUAAeAB4AHgAWABEAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArABsAGwAbABsAGwAbABsAGgAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGgAbABsAGwAbABoAGwAbABoAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbABsAGwAbAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAHgAeAFAAGgAeAB0AHgBQAB4AGgAeAB4AHgAeAB4AHgAeAB4AHgBPAB4AUAAbAB4AHgBQAFAAUABQAFAAHgAeAB4AHQAdAB4AUAAeAFAAHgBQAB4AUABPAFAAUAAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAHgBQAFAAUABQAE8ATwBQAFAAUABQAFAATwBQAFAATwBQAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAUABQAFAATwBPAE8ATwBPAE8ATwBPAE8ATwBQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABPAB4AHgArACsAKwArAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHQAdAB4AHgAeAB0AHQAeAB4AHQAeAB4AHgAdAB4AHQAbABsAHgAdAB4AHgAeAB4AHQAeAB4AHQAdAB0AHQAeAB4AHQAeAB0AHgAdAB0AHQAdAB0AHQAeAB0AHgAeAB4AHgAeAB0AHQAdAB0AHgAeAB4AHgAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB4AHgAeAB0AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAeAB0AHQAdAB0AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAdAB4AHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAWABEAHgAeAB4AHgAeAB4AHQAeAB4AHgAeAB4AHgAeACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAWABEAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAFAAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAeAB4AHQAdAB0AHQAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB0AHQAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB0AHQAeAB4AHQAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AHQAdAB0AHgAeAB0AHgAeAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlAB4AHQAdAB4AHgAdAB4AHgAeAB4AHQAdAB4AHgAeAB4AJQAlAB0AHQAlAB4AJQAlACUAIAAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAeAB4AHgAeAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHgAdAB0AHQAeAB0AJQAdAB0AHgAdAB0AHgAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHQAdAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAdAB0AHQAdACUAHgAlACUAJQAdACUAJQAdAB0AHQAlACUAHQAdACUAHQAdACUAJQAlAB4AHQAeAB4AHgAeAB0AHQAlAB0AHQAdAB0AHQAdACUAJQAlACUAJQAdACUAJQAgACUAHQAdACUAJQAlACUAJQAlACUAJQAeAB4AHgAlACUAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB0AHgAeAB4AFwAXABcAFwAXABcAHgATABMAJQAeAB4AHgAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARABYAEQAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAWABEAFgARABYAEQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAWABEAFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AFgARAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAdAB0AHQAdAB0AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAFAAUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAEAAQABAAeAB4AKwArACsAKwArABMADQANAA0AUAATAA0AUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUAANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAA0ADQANAA0ADQANAA0ADQAeAA0AFgANAB4AHgAXABcAHgAeABcAFwAWABEAFgARABYAEQAWABEADQANAA0ADQATAFAADQANAB4ADQANAB4AHgAeAB4AHgAMAAwADQANAA0AHgANAA0AFgANAA0ADQANAA0ADQANAA0AHgANAB4ADQANAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArACsAKwArACsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArAA0AEQARACUAJQBHAFcAVwAWABEAFgARABYAEQAWABEAFgARACUAJQAWABEAFgARABYAEQAWABEAFQAWABEAEQAlAFcAVwBXAFcAVwBXAFcAVwBXAAQABAAEAAQABAAEACUAVwBXAFcAVwA2ACUAJQBXAFcAVwBHAEcAJQAlACUAKwBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBRAFcAUQBXAFEAVwBXAFcAVwBXAFcAUQBXAFcAVwBXAFcAVwBRAFEAKwArAAQABAAVABUARwBHAFcAFQBRAFcAUQBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFEAVwBRAFcAUQBXAFcAVwBXAFcAVwBRAFcAVwBXAFcAVwBXAFEAUQBXAFcAVwBXABUAUQBHAEcAVwArACsAKwArACsAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwAlACUAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACsAKwArACsAKwArACsAKwArACsAKwArAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAUQBRAFEAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBPAE8ATwBPAE8ATwBPAE8AJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADQATAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABLAEsASwBLAEsASwBLAEsASwBLAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAABAAEAAQABAAeAAQABAAEAAQABAAEAAQABAAEAAQAHgBQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUABQAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAeAA0ADQANAA0ADQArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AUAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAB4AHgAeAB4AHgAeAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AUABQAFAAUABQAFAAUABQAFAAUABQAAQAUABQAFAABABQAFAAUABQAAQAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAeAB4AHgAeAAQAKwArACsAUABQAFAAUABQAFAAHgAeABoAHgArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAADgAOABMAEwArACsAKwArACsAKwArACsABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwANAA0ASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUAAeAB4AHgBQAA4AUABQAAQAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArAB4AWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYAFgAWABYACsAKwArAAQAHgAeAB4AHgAeAB4ADQANAA0AHgAeAB4AHgArAFAASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArAB4AHgBcAFwAXABcAFwAKgBcAFwAXABcAFwAXABcAFwAXABcAEsASwBLAEsASwBLAEsASwBLAEsAXABcAFwAXABcACsAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAFAAUABQAAQAUABQAFAAUABQAFAAUABQAAQABAArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAHgANAA0ADQBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKgAqACoAXAAqACoAKgBcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXAAqAFwAKgAqACoAXABcACoAKgBcAFwAXABcAFwAKgAqAFwAKgBcACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFwAXABcACoAKgBQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAA0ADQBQAFAAUAAEAAQAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQADQAEAAQAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAVABVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBUAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVAFUAVQBVACsAKwArACsAKwArACsAKwArACsAKwArAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAWQBZAFkAKwArACsAKwBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAWgBaAFoAKwArACsAKwAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYABgAGAAYAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAKwArACsAKwArAFYABABWAFYAVgBWAFYAVgBWAFYAVgBWAB4AVgBWAFYAVgBWAFYAVgBWAFYAVgBWAFYAVgArAFYAVgBWAFYAVgArAFYAKwBWAFYAKwBWAFYAKwBWAFYAVgBWAFYAVgBWAFYAVgBWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAEQAWAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAaAB4AKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAGAARABEAGAAYABMAEwAWABEAFAArACsAKwArACsAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACUAJQAlACUAJQAWABEAFgARABYAEQAWABEAFgARABYAEQAlACUAFgARACUAJQAlACUAJQAlACUAEQAlABEAKwAVABUAEwATACUAFgARABYAEQAWABEAJQAlACUAJQAlACUAJQAlACsAJQAbABoAJQArACsAKwArAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAcAKwATACUAJQAbABoAJQAlABYAEQAlACUAEQAlABEAJQBXAFcAVwBXAFcAVwBXAFcAVwBXABUAFQAlACUAJQATACUAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXABYAJQARACUAJQAlAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAWACUAEQAlABYAEQARABYAEQARABUAVwBRAFEAUQBRAFEAUQBRAFEAUQBRAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAEcARwArACsAVwBXAFcAVwBXAFcAKwArAFcAVwBXAFcAVwBXACsAKwBXAFcAVwBXAFcAVwArACsAVwBXAFcAKwArACsAGgAbACUAJQAlABsAGwArAB4AHgAeAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwAEAAQABAAQAB0AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsADQANAA0AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAA0AUABQAFAAUAArACsAKwArAFAAUABQAFAAUABQAFAAUAANAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwArAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwBQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwANAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAB4AUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAUABQAFAAUABQAAQABAAEACsABAAEACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAKwBQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAA0ADQANAA0ADQANAA0ADQAeACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAArACsAKwArAFAAUABQAFAAUAANAA0ADQANAA0ADQAUACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsADQANAA0ADQANAA0ADQBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAB4AHgAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArAAQABAANACsAKwBQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAB4AHgAeAB4AHgArACsAKwArACsAKwAEAAQABAAEAAQABAAEAA0ADQAeAB4AHgAeAB4AKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwAeACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEACsASwBLAEsASwBLAEsASwBLAEsASwANAA0ADQANAFAABAAEAFAAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAeAA4AUAArACsAKwArACsAKwArACsAKwAEAFAAUABQAFAADQANAB4ADQAEAAQABAAEAB4ABAAEAEsASwBLAEsASwBLAEsASwBLAEsAUAAOAFAADQANAA0AKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAANAA0AHgANAA0AHgAEACsAUABQAFAAUABQAFAAUAArAFAAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAA0AKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsABAAEAAQABAArAFAAUABQAFAAUABQAFAAUAArACsAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQACsABAAEAFAABAAEAAQABAAEAAQABAArACsABAAEACsAKwAEAAQABAArACsAUAArACsAKwArACsAKwAEACsAKwArACsAKwBQAFAAUABQAFAABAAEACsAKwAEAAQABAAEAAQABAAEACsAKwArAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsABAAEAAQABAAEAAQABABQAFAAUABQAA0ADQANAA0AHgBLAEsASwBLAEsASwBLAEsASwBLAA0ADQArAB4ABABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAFAAUAAeAFAAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABAAEAAQADgANAA0AEwATAB4AHgAeAA0ADQANAA0ADQANAA0ADQANAA0ADQANAA0ADQANAFAAUABQAFAABAAEACsAKwAEAA0ADQAeAFAAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAFAAKwArACsAKwArACsAKwBLAEsASwBLAEsASwBLAEsASwBLACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAXABcAFwAKwArACoAKgAqACoAKgAqACoAKgAqACoAKgAqACoAKgAqACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBcAFwADQANAA0AKgBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAKwArAFAAKwArAFAAUABQAFAAUABQAFAAUAArAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQAKwAEAAQAKwArAAQABAAEAAQAUAAEAFAABAAEAA0ADQANACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAArACsABAAEAAQABAAEAAQABABQAA4AUAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAABAAEAAQABAAEAAQABAAEAAQABABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAFAABAAEAAQABAAOAB4ADQANAA0ADQAOAB4ABAArACsAKwArACsAKwArACsAUAAEAAQABAAEAAQABAAEAAQABAAEAAQAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAA0ADQANAFAADgAOAA4ADQANACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAEAAQABAAEACsABAAEAAQABAAEAAQABAAEAFAADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAOABMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQACsAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAArACsAKwAEACsABAAEACsABAAEAAQABAAEAAQABABQAAQAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAUABQAFAAUABQAFAAKwBQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAUAArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAABAAEAAQABAAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAaABoAGgAaAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArAA0AUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsADQANAA0ADQANACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABIAEgAQwBDAEMAUABQAFAAUABDAFAAUABQAEgAQwBIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAASABDAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwAJAAkACQAJAAkACQAJABYAEQArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABIAEMAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwANAA0AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArAAQABAAEAAQABAANACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEAA0ADQANAB4AHgAeAB4AHgAeAFAAUABQAFAADQAeACsAKwArACsAKwArACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAANAA0AHgAeACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwAEAFAABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwAEAAQABAAEAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAARwBHABUARwAJACsAKwArACsAKwArACsAKwArACsAKwAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUQBRAFEAKwArACsAKwArACsAKwArACsAKwArACsAKwBRAFEAUQBRACsAKwArACsAKwArACsAKwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUAArACsAHgAEAAQADQAEAAQABAAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAAQABAAEAAQABAAeAB4AHgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAB4AHgAEAAQABAAEAAQABAAEAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4ABAAEAAQAHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwArACsAKwArACsAKwArACsAKwArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAKwArAFAAKwArAFAAUAArACsAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACsAUAArAFAAUABQAFAAUABQAFAAKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwBQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAHgAeAFAAUABQAFAAUAArAFAAKwArACsAUABQAFAAUABQAFAAUAArAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAB4AHgAeAB4AHgAeAB4AHgAeACsAKwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAEsASwBLAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAeAB4AHgAeAB4AHgAeAB4ABAAeAB4AHgAeAB4AHgAeAB4AHgAeAAQAHgAeAA0ADQANAA0AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQAKwAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArAAQABAAEAAQABAAEAAQAKwAEAAQAKwAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwAEAAQABAAEAAQABAAEAFAAUABQAFAAUABQAFAAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwBQAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArABsAUABQAFAAUABQACsAKwBQAFAAUABQAFAAUABQAFAAUAAEAAQABAAEAAQABAAEACsAKwArACsAKwArACsAKwArAB4AHgAeAB4ABAAEAAQABAAEAAQABABQACsAKwArACsASwBLAEsASwBLAEsASwBLAEsASwArACsAKwArABYAFgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAGgBQAFAAUAAaAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAeAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQACsAKwBQAFAAUABQACsAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUAArACsAKwArACsAKwBQACsAKwArACsAUAArAFAAKwBQACsAUABQAFAAKwBQAFAAKwBQACsAKwBQACsAUAArAFAAKwBQACsAUAArAFAAUAArAFAAKwArAFAAUABQAFAAKwBQAFAAUABQAFAAUABQACsAUABQAFAAUAArAFAAUABQAFAAKwBQACsAUABQAFAAUABQAFAAUABQAFAAUAArAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAArACsAKwArACsAUABQAFAAKwBQAFAAUABQAFAAKwBQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwAeAB4AKwArACsAKwArACsAKwArACsAKwArACsAKwArAE8ATwBPAE8ATwBPAE8ATwBPAE8ATwBPAE8AJQAlACUAHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHgAeAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB4AHgAeACUAJQAlAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAdAB0AHQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAKQApACkAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAlACUAJQAlACUAHgAlACUAJQAlACUAIAAgACAAJQAlACAAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACEAIQAhACEAIQAlACUAIAAgACUAJQAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlACUAIAAlACUAJQAlACAAIAAgACUAIAAgACAAJQAlACUAJQAlACUAJQAgACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAlAB4AJQAeACUAJQAlACUAJQAgACUAJQAlACUAHgAlAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAgACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACAAIAAgACAAIAAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeABcAFwAXABUAFQAVAB4AHgAeAB4AJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAgACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlACUAJQAeAB4AHgAeAB4AHgAeAB4AHgAeACUAJQAlACUAJQAlAB4AHgAeAB4AHgAeAB4AHgAlACUAJQAlACUAJQAlACUAHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAgACUAJQAgACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAJQAlACUAJQAlACUAIAAlACUAJQAlACUAJQAlACUAJQAgACAAIAAgACAAIAAgACAAIAAgACUAJQAgACAAIAAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACAAIAAlACAAIAAlACAAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAgACAAIAAlACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAJQAlAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AKwAeAB4AHgAeAB4AHgAeAB4AHgAeAB4AHgArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAEsASwBLAEsASwBLAEsASwBLAEsAKwArACsAKwArACsAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwArAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwAlACUAJQAlACUAJQAlACUAJQAlACUAVwBXACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQBXAFcAVwBXAFcAVwBXAFcAVwBXAFcAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAJQAlACUAKwAEACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArACsAKwArAA=="),Be=[de,pe],Ee=[T,O,P,R],Le=[K,z],Me=[oe,ie],Fe=Ee.concat(Le),Ie=[xe,be,ye,fe,me],De=[Y,q],Te=function(e,t){void 0===t&&(t="strict");var n=[],r=[],s=[];return e.forEach(function(e,a){var i=ke.get(e);if(i>D?(s.push(!0),i-=D):s.push(!1),-1!==["normal","auto","loose"].indexOf(t)&&-1!==[8208,8211,12316,12448].indexOf(e))return r.push(a),n.push(J);if(i===U||i===W){if(0===a)return r.push(a),n.push(de);var o=n[a-1];return-1===Fe.indexOf(o)?(r.push(r[a-1]),n.push(o)):(r.push(a),n.push(de))}return r.push(a),i===ue?n.push("strict"===t?te:ge):i===we||i===ce?n.push(de):i===je?e>=131072&&e<=196605||e>=196608&&e<=262141?n.push(ge):n.push(de):void n.push(i)}),[r,n,s]},Oe=function(e,t,n,r){var s=r[n];if(Array.isArray(e)?-1!==e.indexOf(s):e===s)for(var a=n;a<=r.length;){if((l=r[++a])===t)return!0;if(l!==K)break}if(s===K)for(a=n;a>0;){var i=r[--a];if(Array.isArray(e)?-1!==e.indexOf(i):e===i)for(var o=n;o<=r.length;){var l;if((l=r[++o])===t)return!0;if(l!==K)break}if(i!==K)break}return!1},Pe=function(e,t){for(var n=e;n>=0;){var r=t[n];if(r!==K)return r;n--}return 0},Ue=function(e,t,n,r,s){if(0===n[r])return Ce;var a=r-1;if(Array.isArray(s)&&!0===s[a])return Ce;var i=a-1,o=a+1,l=t[a],c=i>=0?t[i]:0,d=t[o];if(l===O&&d===P)return Ce;if(-1!==Ee.indexOf(l))return _e;if(-1!==Ee.indexOf(d))return Ce;if(-1!==Le.indexOf(d))return Ce;if(Pe(a,t)===z)return Se;if(ke.get(e[a])===W)return Ce;if((l===he||l===Ae)&&ke.get(e[o])===W)return Ce;if(l===Q||d===Q)return Ce;if(l===H)return Ce;if(-1===[K,q,Y].indexOf(l)&&d===H)return Ce;if(-1!==[X,Z,$,se,le].indexOf(d))return Ce;if(Pe(a,t)===ne)return Ce;if(Oe(re,ne,a,t))return Ce;if(Oe([X,Z],te,a,t))return Ce;if(Oe(V,V,a,t))return Ce;if(l===K)return Se;if(l===re||d===re)return Ce;if(d===J||l===J)return Se;if(-1!==[q,Y,te].indexOf(d)||l===G)return Ce;if(c===pe&&-1!==De.indexOf(l))return Ce;if(l===le&&d===pe)return Ce;if(d===ee)return Ce;if(-1!==Be.indexOf(d)&&l===ae||-1!==Be.indexOf(l)&&d===ae)return Ce;if(l===oe&&-1!==[ge,he,Ae].indexOf(d)||-1!==[ge,he,Ae].indexOf(l)&&d===ie)return Ce;if(-1!==Be.indexOf(l)&&-1!==Me.indexOf(d)||-1!==Me.indexOf(l)&&-1!==Be.indexOf(d))return Ce;if(-1!==[oe,ie].indexOf(l)&&(d===ae||-1!==[ne,Y].indexOf(d)&&t[o+1]===ae)||-1!==[ne,Y].indexOf(l)&&d===ae||l===ae&&-1!==[ae,le,se].indexOf(d))return Ce;if(-1!==[ae,le,se,X,Z].indexOf(d))for(var u=a;u>=0;){if((h=t[u])===ae)return Ce;if(-1===[le,se].indexOf(h))break;u--}if(-1!==[oe,ie].indexOf(d))for(u=-1!==[X,Z].indexOf(l)?i:a;u>=0;){var h;if((h=t[u])===ae)return Ce;if(-1===[le,se].indexOf(h))break;u--}if(xe===l&&-1!==[xe,be,fe,me].indexOf(d)||-1!==[be,fe].indexOf(l)&&-1!==[be,ye].indexOf(d)||-1!==[ye,me].indexOf(l)&&d===ye)return Ce;if(-1!==Ie.indexOf(l)&&-1!==[ee,ie].indexOf(d)||-1!==Ie.indexOf(d)&&l===oe)return Ce;if(-1!==Be.indexOf(l)&&-1!==Be.indexOf(d))return Ce;if(l===se&&-1!==Be.indexOf(d))return Ce;if(-1!==Be.concat(ae).indexOf(l)&&d===ne&&-1===Ne.indexOf(e[o])||-1!==Be.concat(ae).indexOf(d)&&l===Z)return Ce;if(l===ve&&d===ve){for(var A=n[a],f=1;A>0&&t[--A]===ve;)f++;if(f%2!==0)return Ce}return l===he&&d===Ae?Ce:Se},Re=function(e,t){t||(t={lineBreak:"normal",wordBreak:"normal"});var n=Te(e,t.lineBreak),r=n[0],s=n[1],a=n[2];"break-all"!==t.wordBreak&&"break-word"!==t.wordBreak||(s=s.map(function(e){return-1!==[ae,de,we].indexOf(e)?ge:e}));var i="keep-all"===t.wordBreak?a.map(function(t,n){return t&&e[n]>=19968&&e[n]<=40959}):void 0;return[r,s,i]},Qe=function(){function e(e,t,n,r){this.codePoints=e,this.required=t===_e,this.start=n,this.end=r}return e.prototype.slice=function(){return d.apply(void 0,this.codePoints.slice(this.start,this.end))},e}(),ze=function(e,t){var n=c(e),r=Re(n,t),s=r[0],a=r[1],i=r[2],o=n.length,l=0,d=0;return{next:function(){if(d>=o)return{done:!0,value:null};for(var e=Ce;d<o&&(e=Ue(n,a,s,++d,i))===Ce;);if(e!==Ce||d===o){var t=new Qe(n,e,l,d);return l=d,{value:t,done:!1}}return{done:!0,value:null}}}},He=1,Ke=2,We=4,Ve=8,qe=10,Ge=47,Ye=92,Je=9,Xe=32,Ze=34,$e=61,et=35,tt=36,nt=37,rt=39,st=40,at=41,it=95,ot=45,lt=33,ct=60,dt=62,ut=64,ht=91,At=93,ft=61,mt=123,pt=63,gt=125,xt=124,bt=126,yt=128,vt=65533,wt=42,jt=43,Nt=44,_t=58,Ct=59,St=46,kt=0,Bt=8,Et=11,Lt=14,Mt=31,Ft=127,It=-1,Dt=48,Tt=97,Ot=101,Pt=102,Ut=117,Rt=122,Qt=65,zt=69,Ht=70,Kt=85,Wt=90,Vt=function(e){return e>=Dt&&e<=57},qt=function(e){return e>=55296&&e<=57343},Gt=function(e){return Vt(e)||e>=Qt&&e<=Ht||e>=Tt&&e<=Pt},Yt=function(e){return e>=Tt&&e<=Rt},Jt=function(e){return e>=Qt&&e<=Wt},Xt=function(e){return Yt(e)||Jt(e)},Zt=function(e){return e>=yt},$t=function(e){return e===qe||e===Je||e===Xe},en=function(e){return Xt(e)||Zt(e)||e===it},tn=function(e){return en(e)||Vt(e)||e===ot},nn=function(e){return e>=kt&&e<=Bt||e===Et||e>=Lt&&e<=Mt||e===Ft},rn=function(e,t){return e===Ye&&t!==qe},sn=function(e,t,n){return e===ot?en(t)||rn(t,n):!!en(e)||!(e!==Ye||!rn(e,t))},an=function(e,t,n){return e===jt||e===ot?!!Vt(t)||t===St&&Vt(n):Vt(e===St?t:e)},on=function(e){var t=0,n=1;e[t]!==jt&&e[t]!==ot||(e[t]===ot&&(n=-1),t++);for(var r=[];Vt(e[t]);)r.push(e[t++]);var s=r.length?parseInt(d.apply(void 0,r),10):0;e[t]===St&&t++;for(var a=[];Vt(e[t]);)a.push(e[t++]);var i=a.length,o=i?parseInt(d.apply(void 0,a),10):0;e[t]!==zt&&e[t]!==Ot||t++;var l=1;e[t]!==jt&&e[t]!==ot||(e[t]===ot&&(l=-1),t++);for(var c=[];Vt(e[t]);)c.push(e[t++]);var u=c.length?parseInt(d.apply(void 0,c),10):0;return n*(s+o*Math.pow(10,-i))*Math.pow(10,l*u)},ln={type:2},cn={type:3},dn={type:4},un={type:13},hn={type:8},An={type:21},fn={type:9},mn={type:10},pn={type:11},gn={type:12},xn={type:14},bn={type:23},yn={type:1},vn={type:25},wn={type:24},jn={type:26},Nn={type:27},_n={type:28},Cn={type:29},Sn={type:31},kn={type:32},Bn=function(){function e(){this._value=[]}return e.prototype.write=function(e){this._value=this._value.concat(c(e))},e.prototype.read=function(){for(var e=[],t=this.consumeToken();t!==kn;)e.push(t),t=this.consumeToken();return e},e.prototype.consumeToken=function(){var e=this.consumeCodePoint();switch(e){case Ze:return this.consumeStringToken(Ze);case et:var t=this.peekCodePoint(0),n=this.peekCodePoint(1),r=this.peekCodePoint(2);if(tn(t)||rn(n,r)){var s=sn(t,n,r)?Ke:He;return{type:5,value:this.consumeName(),flags:s}}break;case tt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),un;break;case rt:return this.consumeStringToken(rt);case st:return ln;case at:return cn;case wt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),xn;break;case jt:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Nt:return dn;case ot:var a=e,i=this.peekCodePoint(0),o=this.peekCodePoint(1);if(an(a,i,o))return this.reconsumeCodePoint(e),this.consumeNumericToken();if(sn(a,i,o))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();if(i===ot&&o===dt)return this.consumeCodePoint(),this.consumeCodePoint(),wn;break;case St:if(an(e,this.peekCodePoint(0),this.peekCodePoint(1)))return this.reconsumeCodePoint(e),this.consumeNumericToken();break;case Ge:if(this.peekCodePoint(0)===wt)for(this.consumeCodePoint();;){var l=this.consumeCodePoint();if(l===wt&&(l=this.consumeCodePoint())===Ge)return this.consumeToken();if(l===It)return this.consumeToken()}break;case _t:return jn;case Ct:return Nn;case ct:if(this.peekCodePoint(0)===lt&&this.peekCodePoint(1)===ot&&this.peekCodePoint(2)===ot)return this.consumeCodePoint(),this.consumeCodePoint(),vn;break;case ut:var c=this.peekCodePoint(0),u=this.peekCodePoint(1),h=this.peekCodePoint(2);if(sn(c,u,h))return{type:7,value:this.consumeName()};break;case ht:return _n;case Ye:if(rn(e,this.peekCodePoint(0)))return this.reconsumeCodePoint(e),this.consumeIdentLikeToken();break;case At:return Cn;case ft:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),hn;break;case mt:return pn;case gt:return gn;case Ut:case Kt:var A=this.peekCodePoint(0),f=this.peekCodePoint(1);return A!==jt||!Gt(f)&&f!==pt||(this.consumeCodePoint(),this.consumeUnicodeRangeToken()),this.reconsumeCodePoint(e),this.consumeIdentLikeToken();case xt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),fn;if(this.peekCodePoint(0)===xt)return this.consumeCodePoint(),An;break;case bt:if(this.peekCodePoint(0)===$e)return this.consumeCodePoint(),mn;break;case It:return kn}return $t(e)?(this.consumeWhiteSpace(),Sn):Vt(e)?(this.reconsumeCodePoint(e),this.consumeNumericToken()):en(e)?(this.reconsumeCodePoint(e),this.consumeIdentLikeToken()):{type:6,value:d(e)}},e.prototype.consumeCodePoint=function(){var e=this._value.shift();return"undefined"===typeof e?-1:e},e.prototype.reconsumeCodePoint=function(e){this._value.unshift(e)},e.prototype.peekCodePoint=function(e){return e>=this._value.length?-1:this._value[e]},e.prototype.consumeUnicodeRangeToken=function(){for(var e=[],t=this.consumeCodePoint();Gt(t)&&e.length<6;)e.push(t),t=this.consumeCodePoint();for(var n=!1;t===pt&&e.length<6;)e.push(t),t=this.consumeCodePoint(),n=!0;if(n)return{type:30,start:parseInt(d.apply(void 0,e.map(function(e){return e===pt?Dt:e})),16),end:parseInt(d.apply(void 0,e.map(function(e){return e===pt?Ht:e})),16)};var r=parseInt(d.apply(void 0,e),16);if(this.peekCodePoint(0)===ot&&Gt(this.peekCodePoint(1))){this.consumeCodePoint(),t=this.consumeCodePoint();for(var s=[];Gt(t)&&s.length<6;)s.push(t),t=this.consumeCodePoint();return{type:30,start:r,end:parseInt(d.apply(void 0,s),16)}}return{type:30,start:r,end:r}},e.prototype.consumeIdentLikeToken=function(){var e=this.consumeName();return"url"===e.toLowerCase()&&this.peekCodePoint(0)===st?(this.consumeCodePoint(),this.consumeUrlToken()):this.peekCodePoint(0)===st?(this.consumeCodePoint(),{type:19,value:e}):{type:20,value:e}},e.prototype.consumeUrlToken=function(){var e=[];if(this.consumeWhiteSpace(),this.peekCodePoint(0)===It)return{type:22,value:""};var t=this.peekCodePoint(0);if(t===rt||t===Ze){var n=this.consumeStringToken(this.consumeCodePoint());return 0===n.type&&(this.consumeWhiteSpace(),this.peekCodePoint(0)===It||this.peekCodePoint(0)===at)?(this.consumeCodePoint(),{type:22,value:n.value}):(this.consumeBadUrlRemnants(),bn)}for(;;){var r=this.consumeCodePoint();if(r===It||r===at)return{type:22,value:d.apply(void 0,e)};if($t(r))return this.consumeWhiteSpace(),this.peekCodePoint(0)===It||this.peekCodePoint(0)===at?(this.consumeCodePoint(),{type:22,value:d.apply(void 0,e)}):(this.consumeBadUrlRemnants(),bn);if(r===Ze||r===rt||r===st||nn(r))return this.consumeBadUrlRemnants(),bn;if(r===Ye){if(!rn(r,this.peekCodePoint(0)))return this.consumeBadUrlRemnants(),bn;e.push(this.consumeEscapedCodePoint())}else e.push(r)}},e.prototype.consumeWhiteSpace=function(){for(;$t(this.peekCodePoint(0));)this.consumeCodePoint()},e.prototype.consumeBadUrlRemnants=function(){for(;;){var e=this.consumeCodePoint();if(e===at||e===It)return;rn(e,this.peekCodePoint(0))&&this.consumeEscapedCodePoint()}},e.prototype.consumeStringSlice=function(e){for(var t=5e4,n="";e>0;){var r=Math.min(t,e);n+=d.apply(void 0,this._value.splice(0,r)),e-=r}return this._value.shift(),n},e.prototype.consumeStringToken=function(e){for(var t="",n=0;;){var r=this._value[n];if(r===It||void 0===r||r===e)return{type:0,value:t+=this.consumeStringSlice(n)};if(r===qe)return this._value.splice(0,n),yn;if(r===Ye){var s=this._value[n+1];s!==It&&void 0!==s&&(s===qe?(t+=this.consumeStringSlice(n),n=-1,this._value.shift()):rn(r,s)&&(t+=this.consumeStringSlice(n),t+=d(this.consumeEscapedCodePoint()),n=-1))}n++}},e.prototype.consumeNumber=function(){var e=[],t=We,n=this.peekCodePoint(0);for(n!==jt&&n!==ot||e.push(this.consumeCodePoint());Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0);var r=this.peekCodePoint(1);if(n===St&&Vt(r))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ve;Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());n=this.peekCodePoint(0),r=this.peekCodePoint(1);var s=this.peekCodePoint(2);if((n===zt||n===Ot)&&((r===jt||r===ot)&&Vt(s)||Vt(r)))for(e.push(this.consumeCodePoint(),this.consumeCodePoint()),t=Ve;Vt(this.peekCodePoint(0));)e.push(this.consumeCodePoint());return[on(e),t]},e.prototype.consumeNumericToken=function(){var e=this.consumeNumber(),t=e[0],n=e[1],r=this.peekCodePoint(0),s=this.peekCodePoint(1),a=this.peekCodePoint(2);return sn(r,s,a)?{type:15,number:t,flags:n,unit:this.consumeName()}:r===nt?(this.consumeCodePoint(),{type:16,number:t,flags:n}):{type:17,number:t,flags:n}},e.prototype.consumeEscapedCodePoint=function(){var e=this.consumeCodePoint();if(Gt(e)){for(var t=d(e);Gt(this.peekCodePoint(0))&&t.length<6;)t+=d(this.consumeCodePoint());$t(this.peekCodePoint(0))&&this.consumeCodePoint();var n=parseInt(t,16);return 0===n||qt(n)||n>1114111?vt:n}return e===It?vt:e},e.prototype.consumeName=function(){for(var e="";;){var t=this.consumeCodePoint();if(tn(t))e+=d(t);else{if(!rn(t,this.peekCodePoint(0)))return this.reconsumeCodePoint(t),e;e+=d(this.consumeEscapedCodePoint())}}},e}(),En=function(){function e(e){this._tokens=e}return e.create=function(t){var n=new Bn;return n.write(t),new e(n.read())},e.parseValue=function(t){return e.create(t).parseComponentValue()},e.parseValues=function(t){return e.create(t).parseComponentValues()},e.prototype.parseComponentValue=function(){for(var e=this.consumeToken();31===e.type;)e=this.consumeToken();if(32===e.type)throw new SyntaxError("Error parsing CSS component value, unexpected EOF");this.reconsumeToken(e);var t=this.consumeComponentValue();do{e=this.consumeToken()}while(31===e.type);if(32===e.type)return t;throw new SyntaxError("Error parsing CSS component value, multiple values found when expecting only one")},e.prototype.parseComponentValues=function(){for(var e=[];;){var t=this.consumeComponentValue();if(32===t.type)return e;e.push(t),e.push()}},e.prototype.consumeComponentValue=function(){var e=this.consumeToken();switch(e.type){case 11:case 28:case 2:return this.consumeSimpleBlock(e.type);case 19:return this.consumeFunction(e)}return e},e.prototype.consumeSimpleBlock=function(e){for(var t={type:e,values:[]},n=this.consumeToken();;){if(32===n.type||Un(n,e))return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue()),n=this.consumeToken()}},e.prototype.consumeFunction=function(e){for(var t={name:e.value,values:[],type:18};;){var n=this.consumeToken();if(32===n.type||3===n.type)return t;this.reconsumeToken(n),t.values.push(this.consumeComponentValue())}},e.prototype.consumeToken=function(){var e=this._tokens.shift();return"undefined"===typeof e?kn:e},e.prototype.reconsumeToken=function(e){this._tokens.unshift(e)},e}(),Ln=function(e){return 15===e.type},Mn=function(e){return 17===e.type},Fn=function(e){return 20===e.type},In=function(e){return 0===e.type},Dn=function(e,t){return Fn(e)&&e.value===t},Tn=function(e){return 31!==e.type},On=function(e){return 31!==e.type&&4!==e.type},Pn=function(e){var t=[],n=[];return e.forEach(function(e){if(4===e.type){if(0===n.length)throw new Error("Error parsing function args, zero tokens for arg");return t.push(n),void(n=[])}31!==e.type&&n.push(e)}),n.length&&t.push(n),t},Un=function(e,t){return 11===t&&12===e.type||28===t&&29===e.type||2===t&&3===e.type},Rn=function(e){return 17===e.type||15===e.type},Qn=function(e){return 16===e.type||Rn(e)},zn=function(e){return e.length>1?[e[0],e[1]]:[e[0]]},Hn={type:17,number:0,flags:We},Kn={type:16,number:50,flags:We},Wn={type:16,number:100,flags:We},Vn=function(e,t,n){var r=e[0],s=e[1];return[qn(r,t),qn("undefined"!==typeof s?s:r,n)]},qn=function(e,t){if(16===e.type)return e.number/100*t;if(Ln(e))switch(e.unit){case"rem":case"em":return 16*e.number;default:return e.number}return e.number},Gn="deg",Yn="grad",Jn="rad",Xn="turn",Zn={name:"angle",parse:function(e,t){if(15===t.type)switch(t.unit){case Gn:return Math.PI*t.number/180;case Yn:return Math.PI/200*t.number;case Jn:return t.number;case Xn:return 2*Math.PI*t.number}throw new Error("Unsupported angle type")}},$n=function(e){return 15===e.type&&(e.unit===Gn||e.unit===Yn||e.unit===Jn||e.unit===Xn)},er=function(e){switch(e.filter(Fn).map(function(e){return e.value}).join(" ")){case"to bottom right":case"to right bottom":case"left top":case"top left":return[Hn,Hn];case"to top":case"bottom":return tr(0);case"to bottom left":case"to left bottom":case"right top":case"top right":return[Hn,Wn];case"to right":case"left":return tr(90);case"to top left":case"to left top":case"right bottom":case"bottom right":return[Wn,Wn];case"to bottom":case"top":return tr(180);case"to top right":case"to right top":case"left bottom":case"bottom left":return[Wn,Hn];case"to left":case"right":return tr(270)}return 0},tr=function(e){return Math.PI*e/180},nr={name:"color",parse:function(e,t){if(18===t.type){var n=dr[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported color function "'+t.name+'"');return n(e,t.values)}if(5===t.type){if(3===t.value.length){var r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);return ar(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),1)}if(4===t.value.length){r=t.value.substring(0,1),s=t.value.substring(1,2),a=t.value.substring(2,3);var i=t.value.substring(3,4);return ar(parseInt(r+r,16),parseInt(s+s,16),parseInt(a+a,16),parseInt(i+i,16)/255)}if(6===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),ar(parseInt(r,16),parseInt(s,16),parseInt(a,16),1);if(8===t.value.length)return r=t.value.substring(0,2),s=t.value.substring(2,4),a=t.value.substring(4,6),i=t.value.substring(6,8),ar(parseInt(r,16),parseInt(s,16),parseInt(a,16),parseInt(i,16)/255)}if(20===t.type){var o=hr[t.value.toUpperCase()];if("undefined"!==typeof o)return o}return hr.TRANSPARENT}},rr=function(e){return 0===(255&e)},sr=function(e){var t=255&e,n=255&e>>8,r=255&e>>16,s=255&e>>24;return t<255?"rgba("+s+","+r+","+n+","+t/255+")":"rgb("+s+","+r+","+n+")"},ar=function(e,t,n,r){return(e<<24|t<<16|n<<8|Math.round(255*r))>>>0},ir=function(e,t){if(17===e.type)return e.number;if(16===e.type){var n=3===t?1:255;return 3===t?e.number/100*n:Math.round(e.number/100*n)}return 0},or=function(e,t){var n=t.filter(On);if(3===n.length){var r=n.map(ir),s=r[0],a=r[1],i=r[2];return ar(s,a,i,1)}if(4===n.length){var o=n.map(ir),l=(s=o[0],a=o[1],i=o[2],o[3]);return ar(s,a,i,l)}return 0};function lr(e,t,n){return n<0&&(n+=1),n>=1&&(n-=1),n<1/6?(t-e)*n*6+e:n<.5?t:n<2/3?6*(t-e)*(2/3-n)+e:e}var cr=function(e,t){var n=t.filter(On),r=n[0],s=n[1],a=n[2],i=n[3],o=(17===r.type?tr(r.number):Zn.parse(e,r))/(2*Math.PI),l=Qn(s)?s.number/100:0,c=Qn(a)?a.number/100:0,d="undefined"!==typeof i&&Qn(i)?qn(i,1):1;if(0===l)return ar(255*c,255*c,255*c,1);var u=c<=.5?c*(l+1):c+l-c*l,h=2*c-u,A=lr(h,u,o+1/3),f=lr(h,u,o),m=lr(h,u,o-1/3);return ar(255*A,255*f,255*m,d)},dr={hsl:cr,hsla:cr,rgb:or,rgba:or},ur=function(e,t){return nr.parse(e,En.create(t).parseComponentValue())},hr={ALICEBLUE:4042850303,ANTIQUEWHITE:4209760255,AQUA:16777215,AQUAMARINE:2147472639,AZURE:4043309055,BEIGE:4126530815,BISQUE:4293182719,BLACK:255,BLANCHEDALMOND:4293643775,BLUE:65535,BLUEVIOLET:2318131967,BROWN:2771004159,BURLYWOOD:3736635391,CADETBLUE:1604231423,CHARTREUSE:2147418367,CHOCOLATE:3530104575,CORAL:4286533887,CORNFLOWERBLUE:1687547391,CORNSILK:4294499583,CRIMSON:3692313855,CYAN:16777215,DARKBLUE:35839,DARKCYAN:9145343,DARKGOLDENROD:3095837695,DARKGRAY:2846468607,DARKGREEN:6553855,DARKGREY:2846468607,DARKKHAKI:3182914559,DARKMAGENTA:2332068863,DARKOLIVEGREEN:1433087999,DARKORANGE:4287365375,DARKORCHID:2570243327,DARKRED:2332033279,DARKSALMON:3918953215,DARKSEAGREEN:2411499519,DARKSLATEBLUE:1211993087,DARKSLATEGRAY:793726975,DARKSLATEGREY:793726975,DARKTURQUOISE:13554175,DARKVIOLET:2483082239,DEEPPINK:4279538687,DEEPSKYBLUE:12582911,DIMGRAY:1768516095,DIMGREY:1768516095,DODGERBLUE:512819199,FIREBRICK:2988581631,FLORALWHITE:4294635775,FORESTGREEN:579543807,FUCHSIA:4278255615,GAINSBORO:3705462015,GHOSTWHITE:4177068031,GOLD:4292280575,GOLDENROD:3668254975,GRAY:2155905279,GREEN:8388863,GREENYELLOW:2919182335,GREY:2155905279,HONEYDEW:4043305215,HOTPINK:4285117695,INDIANRED:3445382399,INDIGO:1258324735,IVORY:4294963455,KHAKI:4041641215,LAVENDER:3873897215,LAVENDERBLUSH:4293981695,LAWNGREEN:2096890111,LEMONCHIFFON:4294626815,LIGHTBLUE:2916673279,LIGHTCORAL:4034953471,LIGHTCYAN:3774873599,LIGHTGOLDENRODYELLOW:4210742015,LIGHTGRAY:3553874943,LIGHTGREEN:2431553791,LIGHTGREY:3553874943,LIGHTPINK:4290167295,LIGHTSALMON:4288707327,LIGHTSEAGREEN:548580095,LIGHTSKYBLUE:2278488831,LIGHTSLATEGRAY:2005441023,LIGHTSLATEGREY:2005441023,LIGHTSTEELBLUE:2965692159,LIGHTYELLOW:4294959359,LIME:16711935,LIMEGREEN:852308735,LINEN:4210091775,MAGENTA:4278255615,MAROON:2147483903,MEDIUMAQUAMARINE:1724754687,MEDIUMBLUE:52735,MEDIUMORCHID:3126187007,MEDIUMPURPLE:2473647103,MEDIUMSEAGREEN:1018393087,MEDIUMSLATEBLUE:2070474495,MEDIUMSPRINGGREEN:16423679,MEDIUMTURQUOISE:1221709055,MEDIUMVIOLETRED:3340076543,MIDNIGHTBLUE:421097727,MINTCREAM:4127193855,MISTYROSE:4293190143,MOCCASIN:4293178879,NAVAJOWHITE:4292783615,NAVY:33023,OLDLACE:4260751103,OLIVE:2155872511,OLIVEDRAB:1804477439,ORANGE:4289003775,ORANGERED:4282712319,ORCHID:3664828159,PALEGOLDENROD:4008225535,PALEGREEN:2566625535,PALETURQUOISE:2951671551,PALEVIOLETRED:3681588223,PAPAYAWHIP:4293907967,PEACHPUFF:4292524543,PERU:3448061951,PINK:4290825215,PLUM:3718307327,POWDERBLUE:2967529215,PURPLE:2147516671,REBECCAPURPLE:1714657791,RED:4278190335,ROSYBROWN:3163525119,ROYALBLUE:1097458175,SADDLEBROWN:2336560127,SALMON:4202722047,SANDYBROWN:4104413439,SEAGREEN:780883967,SEASHELL:4294307583,SIENNA:2689740287,SILVER:3233857791,SKYBLUE:2278484991,SLATEBLUE:1784335871,SLATEGRAY:1887473919,SLATEGREY:1887473919,SNOW:4294638335,SPRINGGREEN:16744447,STEELBLUE:1182971135,TAN:3535047935,TEAL:8421631,THISTLE:3636451583,TOMATO:4284696575,TRANSPARENT:0,TURQUOISE:1088475391,VIOLET:4001558271,WHEAT:4125012991,WHITE:4294967295,WHITESMOKE:4126537215,YELLOW:4294902015,YELLOWGREEN:2597139199},Ar={name:"background-clip",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Fn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},fr={name:"background-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},mr=function(e,t){var n=nr.parse(e,t[0]),r=t[1];return r&&Qn(r)?{color:n,stop:r}:{color:n,stop:null}},pr=function(e,t){var n=e[0],r=e[e.length-1];null===n.stop&&(n.stop=Hn),null===r.stop&&(r.stop=Wn);for(var s=[],a=0,i=0;i<e.length;i++){var o=e[i].stop;if(null!==o){var l=qn(o,t);l>a?s.push(l):s.push(a),a=l}else s.push(null)}var c=null;for(i=0;i<s.length;i++){var d=s[i];if(null===d)null===c&&(c=i);else if(null!==c){for(var u=i-c,h=(d-s[c-1])/(u+1),A=1;A<=u;A++)s[c+A-1]=h*A;c=null}}return e.map(function(e,n){return{color:e.color,stop:Math.max(Math.min(1,s[n]/t),0)}})},gr=function(e,t,n){var r=t/2,s=n/2,a=qn(e[0],t)-r,i=s-qn(e[1],n);return(Math.atan2(i,a)+2*Math.PI)%(2*Math.PI)},xr=function(e,t,n){var r="number"===typeof e?e:gr(e,t,n),s=Math.abs(t*Math.sin(r))+Math.abs(n*Math.cos(r)),a=t/2,i=n/2,o=s/2,l=Math.sin(r-Math.PI/2)*o,c=Math.cos(r-Math.PI/2)*o;return[s,a-c,a+c,i-l,i+l]},br=function(e,t){return Math.sqrt(e*e+t*t)},yr=function(e,t,n,r,s){return[[0,0],[0,t],[e,0],[e,t]].reduce(function(e,t){var a=t[0],i=t[1],o=br(n-a,r-i);return(s?o<e.optimumDistance:o>e.optimumDistance)?{optimumCorner:t,optimumDistance:o}:e},{optimumDistance:s?1/0:-1/0,optimumCorner:null}).optimumCorner},vr=function(e,t,n,r,s){var a=0,i=0;switch(e.size){case 0:0===e.shape?a=i=Math.min(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(a=Math.min(Math.abs(t),Math.abs(t-r)),i=Math.min(Math.abs(n),Math.abs(n-s)));break;case 2:if(0===e.shape)a=i=Math.min(br(t,n),br(t,n-s),br(t-r,n),br(t-r,n-s));else if(1===e.shape){var o=Math.min(Math.abs(n),Math.abs(n-s))/Math.min(Math.abs(t),Math.abs(t-r)),l=yr(r,s,t,n,!0),c=l[0],d=l[1];i=o*(a=br(c-t,(d-n)/o))}break;case 1:0===e.shape?a=i=Math.max(Math.abs(t),Math.abs(t-r),Math.abs(n),Math.abs(n-s)):1===e.shape&&(a=Math.max(Math.abs(t),Math.abs(t-r)),i=Math.max(Math.abs(n),Math.abs(n-s)));break;case 3:if(0===e.shape)a=i=Math.max(br(t,n),br(t,n-s),br(t-r,n),br(t-r,n-s));else if(1===e.shape){o=Math.max(Math.abs(n),Math.abs(n-s))/Math.max(Math.abs(t),Math.abs(t-r));var u=yr(r,s,t,n,!1);c=u[0],d=u[1],i=o*(a=br(c-t,(d-n)/o))}}return Array.isArray(e.size)&&(a=qn(e.size[0],r),i=2===e.size.length?qn(e.size[1],s):a),[a,i]},wr=function(e,t){var n=tr(180),r=[];return Pn(t).forEach(function(t,s){if(0===s){var a=t[0];if(20===a.type&&-1!==["top","left","right","bottom"].indexOf(a.value))return void(n=er(t));if($n(a))return void(n=(Zn.parse(e,a)+tr(270))%tr(360))}var i=mr(e,t);r.push(i)}),{angle:n,stops:r,type:1}},jr="closest-side",Nr="farthest-side",_r="closest-corner",Cr="farthest-corner",Sr="circle",kr="ellipse",Br="cover",Er="contain",Lr=function(e,t){var n=0,r=3,s=[],a=[];return Pn(t).forEach(function(t,i){var o=!0;if(0===i?o=t.reduce(function(e,t){if(Fn(t))switch(t.value){case"center":return a.push(Kn),!1;case"top":case"left":return a.push(Hn),!1;case"right":case"bottom":return a.push(Wn),!1}else if(Qn(t)||Rn(t))return a.push(t),!1;return e},o):1===i&&(o=t.reduce(function(e,t){if(Fn(t))switch(t.value){case Sr:return n=0,!1;case kr:return n=1,!1;case Er:case jr:return r=0,!1;case Nr:return r=1,!1;case _r:return r=2,!1;case Br:case Cr:return r=3,!1}else if(Rn(t)||Qn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},o)),o){var l=mr(e,t);s.push(l)}}),{size:r,shape:n,stops:s,position:a,type:2}},Mr=function(e){return 1===e.type},Fr=function(e){return 2===e.type},Ir={name:"image",parse:function(e,t){if(22===t.type){var n={url:t.value,type:0};return e.cache.addImage(t.value),n}if(18===t.type){var r=Or[t.name];if("undefined"===typeof r)throw new Error('Attempting to parse an unsupported image function "'+t.name+'"');return r(e,t.values)}throw new Error("Unsupported image type "+t.type)}};function Dr(e){return!(20===e.type&&"none"===e.value)&&(18!==e.type||!!Or[e.name])}var Tr,Or={"linear-gradient":function(e,t){var n=tr(180),r=[];return Pn(t).forEach(function(t,s){if(0===s){var a=t[0];if(20===a.type&&"to"===a.value)return void(n=er(t));if($n(a))return void(n=Zn.parse(e,a))}var i=mr(e,t);r.push(i)}),{angle:n,stops:r,type:1}},"-moz-linear-gradient":wr,"-ms-linear-gradient":wr,"-o-linear-gradient":wr,"-webkit-linear-gradient":wr,"radial-gradient":function(e,t){var n=0,r=3,s=[],a=[];return Pn(t).forEach(function(t,i){var o=!0;if(0===i){var l=!1;o=t.reduce(function(e,t){if(l)if(Fn(t))switch(t.value){case"center":return a.push(Kn),e;case"top":case"left":return a.push(Hn),e;case"right":case"bottom":return a.push(Wn),e}else(Qn(t)||Rn(t))&&a.push(t);else if(Fn(t))switch(t.value){case Sr:return n=0,!1;case kr:return n=1,!1;case"at":return l=!0,!1;case jr:return r=0,!1;case Br:case Nr:return r=1,!1;case Er:case _r:return r=2,!1;case Cr:return r=3,!1}else if(Rn(t)||Qn(t))return Array.isArray(r)||(r=[]),r.push(t),!1;return e},o)}if(o){var c=mr(e,t);s.push(c)}}),{size:r,shape:n,stops:s,position:a,type:2}},"-moz-radial-gradient":Lr,"-ms-radial-gradient":Lr,"-o-radial-gradient":Lr,"-webkit-radial-gradient":Lr,"-webkit-gradient":function(e,t){var n=tr(180),r=[],s=1,a=0,i=3,o=[];return Pn(t).forEach(function(t,n){var a=t[0];if(0===n){if(Fn(a)&&"linear"===a.value)return void(s=1);if(Fn(a)&&"radial"===a.value)return void(s=2)}if(18===a.type)if("from"===a.name){var i=nr.parse(e,a.values[0]);r.push({stop:Hn,color:i})}else if("to"===a.name)i=nr.parse(e,a.values[0]),r.push({stop:Wn,color:i});else if("color-stop"===a.name){var o=a.values.filter(On);if(2===o.length){i=nr.parse(e,o[1]);var l=o[0];Mn(l)&&r.push({stop:{type:16,number:100*l.number,flags:l.flags},color:i})}}}),1===s?{angle:(n+tr(180))%tr(360),stops:r,type:s}:{size:i,shape:a,stops:r,position:o,type:s}}},Pr={name:"background-image",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t.filter(function(e){return On(e)&&Dr(e)}).map(function(t){return Ir.parse(e,t)})}},Ur={name:"background-origin",initialValue:"border-box",prefix:!1,type:1,parse:function(e,t){return t.map(function(e){if(Fn(e))switch(e.value){case"padding-box":return 1;case"content-box":return 2}return 0})}},Rr={name:"background-position",initialValue:"0% 0%",type:1,prefix:!1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(Qn)}).map(zn)}},Qr={name:"background-repeat",initialValue:"repeat",prefix:!1,type:1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(Fn).map(function(e){return e.value}).join(" ")}).map(zr)}},zr=function(e){switch(e){case"no-repeat":return 1;case"repeat-x":case"repeat no-repeat":return 2;case"repeat-y":case"no-repeat repeat":return 3;default:return 0}};!function(e){e.AUTO="auto",e.CONTAIN="contain",e.COVER="cover"}(Tr||(Tr={}));var Hr,Kr={name:"background-size",initialValue:"0",prefix:!1,type:1,parse:function(e,t){return Pn(t).map(function(e){return e.filter(Wr)})}},Wr=function(e){return Fn(e)||Qn(e)},Vr=function(e){return{name:"border-"+e+"-color",initialValue:"transparent",prefix:!1,type:3,format:"color"}},qr=Vr("top"),Gr=Vr("right"),Yr=Vr("bottom"),Jr=Vr("left"),Xr=function(e){return{name:"border-radius-"+e,initialValue:"0 0",prefix:!1,type:1,parse:function(e,t){return zn(t.filter(Qn))}}},Zr=Xr("top-left"),$r=Xr("top-right"),es=Xr("bottom-right"),ts=Xr("bottom-left"),ns=function(e){return{name:"border-"+e+"-style",initialValue:"solid",prefix:!1,type:2,parse:function(e,t){switch(t){case"none":return 0;case"dashed":return 2;case"dotted":return 3;case"double":return 4}return 1}}},rs=ns("top"),ss=ns("right"),as=ns("bottom"),is=ns("left"),os=function(e){return{name:"border-"+e+"-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ln(t)?t.number:0}}},ls=os("top"),cs=os("right"),ds=os("bottom"),us=os("left"),hs={name:"color",initialValue:"transparent",prefix:!1,type:3,format:"color"},As={name:"direction",initialValue:"ltr",prefix:!1,type:2,parse:function(e,t){return"rtl"===t?1:0}},fs={name:"display",initialValue:"inline-block",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).reduce(function(e,t){return e|ms(t.value)},0)}},ms=function(e){switch(e){case"block":case"-webkit-box":return 2;case"inline":return 4;case"run-in":return 8;case"flow":return 16;case"flow-root":return 32;case"table":return 64;case"flex":case"-webkit-flex":return 128;case"grid":case"-ms-grid":return 256;case"ruby":return 512;case"subgrid":return 1024;case"list-item":return 2048;case"table-row-group":return 4096;case"table-header-group":return 8192;case"table-footer-group":return 16384;case"table-row":return 32768;case"table-cell":return 65536;case"table-column-group":return 131072;case"table-column":return 262144;case"table-caption":return 524288;case"ruby-base":return 1048576;case"ruby-text":return 2097152;case"ruby-base-container":return 4194304;case"ruby-text-container":return 8388608;case"contents":return 16777216;case"inline-block":return 33554432;case"inline-list-item":return 67108864;case"inline-table":return 134217728;case"inline-flex":return 268435456;case"inline-grid":return 536870912}return 0},ps={name:"float",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"left":return 1;case"right":return 2;case"inline-start":return 3;case"inline-end":return 4}return 0}},gs={name:"letter-spacing",initialValue:"0",prefix:!1,type:0,parse:function(e,t){return 20===t.type&&"normal"===t.value?0:17===t.type||15===t.type?t.number:0}};!function(e){e.NORMAL="normal",e.STRICT="strict"}(Hr||(Hr={}));var xs,bs={name:"line-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"strict"===t?Hr.STRICT:Hr.NORMAL}},ys={name:"line-height",initialValue:"normal",prefix:!1,type:4},vs=function(e,t){return Fn(e)&&"normal"===e.value?1.2*t:17===e.type?t*e.number:Qn(e)?qn(e,t):t},ws={name:"list-style-image",initialValue:"none",type:0,prefix:!1,parse:function(e,t){return 20===t.type&&"none"===t.value?null:Ir.parse(e,t)}},js={name:"list-style-position",initialValue:"outside",prefix:!1,type:2,parse:function(e,t){return"inside"===t?0:1}},Ns={name:"list-style-type",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"disc":return 0;case"circle":return 1;case"square":return 2;case"decimal":return 3;case"cjk-decimal":return 4;case"decimal-leading-zero":return 5;case"lower-roman":return 6;case"upper-roman":return 7;case"lower-greek":return 8;case"lower-alpha":return 9;case"upper-alpha":return 10;case"arabic-indic":return 11;case"armenian":return 12;case"bengali":return 13;case"cambodian":return 14;case"cjk-earthly-branch":return 15;case"cjk-heavenly-stem":return 16;case"cjk-ideographic":return 17;case"devanagari":return 18;case"ethiopic-numeric":return 19;case"georgian":return 20;case"gujarati":return 21;case"gurmukhi":case"hebrew":return 22;case"hiragana":return 23;case"hiragana-iroha":return 24;case"japanese-formal":return 25;case"japanese-informal":return 26;case"kannada":return 27;case"katakana":return 28;case"katakana-iroha":return 29;case"khmer":return 30;case"korean-hangul-formal":return 31;case"korean-hanja-formal":return 32;case"korean-hanja-informal":return 33;case"lao":return 34;case"lower-armenian":return 35;case"malayalam":return 36;case"mongolian":return 37;case"myanmar":return 38;case"oriya":return 39;case"persian":return 40;case"simp-chinese-formal":return 41;case"simp-chinese-informal":return 42;case"tamil":return 43;case"telugu":return 44;case"thai":return 45;case"tibetan":return 46;case"trad-chinese-formal":return 47;case"trad-chinese-informal":return 48;case"upper-armenian":return 49;case"disclosure-open":return 50;case"disclosure-closed":return 51;default:return-1}}},_s=function(e){return{name:"margin-"+e,initialValue:"0",prefix:!1,type:4}},Cs=_s("top"),Ss=_s("right"),ks=_s("bottom"),Bs=_s("left"),Es={name:"overflow",initialValue:"visible",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map(function(e){switch(e.value){case"hidden":return 1;case"scroll":return 2;case"clip":return 3;case"auto":return 4;default:return 0}})}},Ls={name:"overflow-wrap",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){return"break-word"===t?"break-word":"normal"}},Ms=function(e){return{name:"padding-"+e,initialValue:"0",prefix:!1,type:3,format:"length-percentage"}},Fs=Ms("top"),Is=Ms("right"),Ds=Ms("bottom"),Ts=Ms("left"),Os={name:"text-align",initialValue:"left",prefix:!1,type:2,parse:function(e,t){switch(t){case"right":return 2;case"center":case"justify":return 1;default:return 0}}},Ps={name:"position",initialValue:"static",prefix:!1,type:2,parse:function(e,t){switch(t){case"relative":return 1;case"absolute":return 2;case"fixed":return 3;case"sticky":return 4}return 0}},Us={name:"text-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Dn(t[0],"none")?[]:Pn(t).map(function(t){for(var n={color:hr.TRANSPARENT,offsetX:Hn,offsetY:Hn,blur:Hn},r=0,s=0;s<t.length;s++){var a=t[s];Rn(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:n.blur=a,r++):n.color=nr.parse(e,a)}return n})}},Rs={name:"text-transform",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"uppercase":return 2;case"lowercase":return 1;case"capitalize":return 3}return 0}},Qs={name:"transform",initialValue:"none",prefix:!0,type:0,parse:function(e,t){if(20===t.type&&"none"===t.value)return null;if(18===t.type){var n=zs[t.name];if("undefined"===typeof n)throw new Error('Attempting to parse an unsupported transform function "'+t.name+'"');return n(t.values)}return null}},zs={matrix:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number});return 6===t.length?t:null},matrix3d:function(e){var t=e.filter(function(e){return 17===e.type}).map(function(e){return e.number}),n=t[0],r=t[1];t[2],t[3];var s=t[4],a=t[5];t[6],t[7],t[8],t[9],t[10],t[11];var i=t[12],o=t[13];return t[14],t[15],16===t.length?[n,r,s,a,i,o]:null}},Hs={type:16,number:50,flags:We},Ks=[Hs,Hs],Ws={name:"transform-origin",initialValue:"50% 50%",prefix:!0,type:1,parse:function(e,t){var n=t.filter(Qn);return 2!==n.length?Ks:[n[0],n[1]]}},Vs={name:"visible",initialValue:"none",prefix:!1,type:2,parse:function(e,t){switch(t){case"hidden":return 1;case"collapse":return 2;default:return 0}}};!function(e){e.NORMAL="normal",e.BREAK_ALL="break-all",e.KEEP_ALL="keep-all"}(xs||(xs={}));for(var qs={name:"word-break",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"break-all":return xs.BREAK_ALL;case"keep-all":return xs.KEEP_ALL;default:return xs.NORMAL}}},Gs={name:"z-index",initialValue:"auto",prefix:!1,type:0,parse:function(e,t){if(20===t.type)return{auto:!0,order:0};if(Mn(t))return{auto:!1,order:t.number};throw new Error("Invalid z-index number parsed")}},Ys={name:"time",parse:function(e,t){if(15===t.type)switch(t.unit.toLowerCase()){case"s":return 1e3*t.number;case"ms":return t.number}throw new Error("Unsupported time type")}},Js={name:"opacity",initialValue:"1",type:0,prefix:!1,parse:function(e,t){return Mn(t)?t.number:1}},Xs={name:"text-decoration-color",initialValue:"transparent",prefix:!1,type:3,format:"color"},Zs={name:"text-decoration-line",initialValue:"none",prefix:!1,type:1,parse:function(e,t){return t.filter(Fn).map(function(e){switch(e.value){case"underline":return 1;case"overline":return 2;case"line-through":return 3;case"none":return 4}return 0}).filter(function(e){return 0!==e})}},$s={name:"font-family",initialValue:"",prefix:!1,type:1,parse:function(e,t){var n=[],r=[];return t.forEach(function(e){switch(e.type){case 20:case 0:n.push(e.value);break;case 17:n.push(e.number.toString());break;case 4:r.push(n.join(" ")),n.length=0}}),n.length&&r.push(n.join(" ")),r.map(function(e){return-1===e.indexOf(" ")?e:"'"+e+"'"})}},ea={name:"font-size",initialValue:"0",prefix:!1,type:3,format:"length"},ta={name:"font-weight",initialValue:"normal",type:0,prefix:!1,parse:function(e,t){return Mn(t)?t.number:Fn(t)&&"bold"===t.value?700:400}},na={name:"font-variant",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return t.filter(Fn).map(function(e){return e.value})}},ra={name:"font-style",initialValue:"normal",prefix:!1,type:2,parse:function(e,t){switch(t){case"oblique":return"oblique";case"italic":return"italic";default:return"normal"}}},sa=function(e,t){return 0!==(e&t)},aa={name:"content",initialValue:"none",type:1,prefix:!1,parse:function(e,t){if(0===t.length)return[];var n=t[0];return 20===n.type&&"none"===n.value?[]:t}},ia={name:"counter-increment",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;for(var r=[],s=t.filter(Tn),a=0;a<s.length;a++){var i=s[a],o=s[a+1];if(20===i.type){var l=o&&Mn(o)?o.number:1;r.push({counter:i.value,increment:l})}}return r}},oa={name:"counter-reset",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return[];for(var n=[],r=t.filter(Tn),s=0;s<r.length;s++){var a=r[s],i=r[s+1];if(Fn(a)&&"none"!==a.value){var o=i&&Mn(i)?i.number:0;n.push({counter:a.value,reset:o})}}return n}},la={name:"duration",initialValue:"0s",prefix:!1,type:1,parse:function(e,t){return t.filter(Ln).map(function(t){return Ys.parse(e,t)})}},ca={name:"quotes",initialValue:"none",prefix:!0,type:1,parse:function(e,t){if(0===t.length)return null;var n=t[0];if(20===n.type&&"none"===n.value)return null;var r=[],s=t.filter(In);if(s.length%2!==0)return null;for(var a=0;a<s.length;a+=2){var i=s[a].value,o=s[a+1].value;r.push({open:i,close:o})}return r}},da=function(e,t,n){if(!e)return"";var r=e[Math.min(t,e.length-1)];return r?n?r.open:r.close:""},ua={name:"box-shadow",initialValue:"none",type:1,prefix:!1,parse:function(e,t){return 1===t.length&&Dn(t[0],"none")?[]:Pn(t).map(function(t){for(var n={color:255,offsetX:Hn,offsetY:Hn,blur:Hn,spread:Hn,inset:!1},r=0,s=0;s<t.length;s++){var a=t[s];Dn(a,"inset")?n.inset=!0:Rn(a)?(0===r?n.offsetX=a:1===r?n.offsetY=a:2===r?n.blur=a:n.spread=a,r++):n.color=nr.parse(e,a)}return n})}},ha={name:"paint-order",initialValue:"normal",prefix:!1,type:1,parse:function(e,t){var n=[0,1,2],r=[];return t.filter(Fn).forEach(function(e){switch(e.value){case"stroke":r.push(1);break;case"fill":r.push(0);break;case"markers":r.push(2)}}),n.forEach(function(e){-1===r.indexOf(e)&&r.push(e)}),r}},Aa={name:"-webkit-text-stroke-color",initialValue:"currentcolor",prefix:!1,type:3,format:"color"},fa={name:"-webkit-text-stroke-width",initialValue:"0",type:0,prefix:!1,parse:function(e,t){return Ln(t)?t.number:0}},ma=function(){function e(e,t){var n,r;this.animationDuration=xa(e,la,t.animationDuration),this.backgroundClip=xa(e,Ar,t.backgroundClip),this.backgroundColor=xa(e,fr,t.backgroundColor),this.backgroundImage=xa(e,Pr,t.backgroundImage),this.backgroundOrigin=xa(e,Ur,t.backgroundOrigin),this.backgroundPosition=xa(e,Rr,t.backgroundPosition),this.backgroundRepeat=xa(e,Qr,t.backgroundRepeat),this.backgroundSize=xa(e,Kr,t.backgroundSize),this.borderTopColor=xa(e,qr,t.borderTopColor),this.borderRightColor=xa(e,Gr,t.borderRightColor),this.borderBottomColor=xa(e,Yr,t.borderBottomColor),this.borderLeftColor=xa(e,Jr,t.borderLeftColor),this.borderTopLeftRadius=xa(e,Zr,t.borderTopLeftRadius),this.borderTopRightRadius=xa(e,$r,t.borderTopRightRadius),this.borderBottomRightRadius=xa(e,es,t.borderBottomRightRadius),this.borderBottomLeftRadius=xa(e,ts,t.borderBottomLeftRadius),this.borderTopStyle=xa(e,rs,t.borderTopStyle),this.borderRightStyle=xa(e,ss,t.borderRightStyle),this.borderBottomStyle=xa(e,as,t.borderBottomStyle),this.borderLeftStyle=xa(e,is,t.borderLeftStyle),this.borderTopWidth=xa(e,ls,t.borderTopWidth),this.borderRightWidth=xa(e,cs,t.borderRightWidth),this.borderBottomWidth=xa(e,ds,t.borderBottomWidth),this.borderLeftWidth=xa(e,us,t.borderLeftWidth),this.boxShadow=xa(e,ua,t.boxShadow),this.color=xa(e,hs,t.color),this.direction=xa(e,As,t.direction),this.display=xa(e,fs,t.display),this.float=xa(e,ps,t.cssFloat),this.fontFamily=xa(e,$s,t.fontFamily),this.fontSize=xa(e,ea,t.fontSize),this.fontStyle=xa(e,ra,t.fontStyle),this.fontVariant=xa(e,na,t.fontVariant),this.fontWeight=xa(e,ta,t.fontWeight),this.letterSpacing=xa(e,gs,t.letterSpacing),this.lineBreak=xa(e,bs,t.lineBreak),this.lineHeight=xa(e,ys,t.lineHeight),this.listStyleImage=xa(e,ws,t.listStyleImage),this.listStylePosition=xa(e,js,t.listStylePosition),this.listStyleType=xa(e,Ns,t.listStyleType),this.marginTop=xa(e,Cs,t.marginTop),this.marginRight=xa(e,Ss,t.marginRight),this.marginBottom=xa(e,ks,t.marginBottom),this.marginLeft=xa(e,Bs,t.marginLeft),this.opacity=xa(e,Js,t.opacity);var s=xa(e,Es,t.overflow);this.overflowX=s[0],this.overflowY=s[s.length>1?1:0],this.overflowWrap=xa(e,Ls,t.overflowWrap),this.paddingTop=xa(e,Fs,t.paddingTop),this.paddingRight=xa(e,Is,t.paddingRight),this.paddingBottom=xa(e,Ds,t.paddingBottom),this.paddingLeft=xa(e,Ts,t.paddingLeft),this.paintOrder=xa(e,ha,t.paintOrder),this.position=xa(e,Ps,t.position),this.textAlign=xa(e,Os,t.textAlign),this.textDecorationColor=xa(e,Xs,null!==(n=t.textDecorationColor)&&void 0!==n?n:t.color),this.textDecorationLine=xa(e,Zs,null!==(r=t.textDecorationLine)&&void 0!==r?r:t.textDecoration),this.textShadow=xa(e,Us,t.textShadow),this.textTransform=xa(e,Rs,t.textTransform),this.transform=xa(e,Qs,t.transform),this.transformOrigin=xa(e,Ws,t.transformOrigin),this.visibility=xa(e,Vs,t.visibility),this.webkitTextStrokeColor=xa(e,Aa,t.webkitTextStrokeColor),this.webkitTextStrokeWidth=xa(e,fa,t.webkitTextStrokeWidth),this.wordBreak=xa(e,qs,t.wordBreak),this.zIndex=xa(e,Gs,t.zIndex)}return e.prototype.isVisible=function(){return this.display>0&&this.opacity>0&&0===this.visibility},e.prototype.isTransparent=function(){return rr(this.backgroundColor)},e.prototype.isTransformed=function(){return null!==this.transform},e.prototype.isPositioned=function(){return 0!==this.position},e.prototype.isPositionedWithZIndex=function(){return this.isPositioned()&&!this.zIndex.auto},e.prototype.isFloating=function(){return 0!==this.float},e.prototype.isInlineLevel=function(){return sa(this.display,4)||sa(this.display,33554432)||sa(this.display,268435456)||sa(this.display,536870912)||sa(this.display,67108864)||sa(this.display,134217728)},e}(),pa=function(){function e(e,t){this.content=xa(e,aa,t.content),this.quotes=xa(e,ca,t.quotes)}return e}(),ga=function(){function e(e,t){this.counterIncrement=xa(e,ia,t.counterIncrement),this.counterReset=xa(e,oa,t.counterReset)}return e}(),xa=function(e,t,n){var r=new Bn,s=null!==n&&"undefined"!==typeof n?n.toString():t.initialValue;r.write(s);var a=new En(r.read());switch(t.type){case 2:var i=a.parseComponentValue();return t.parse(e,Fn(i)?i.value:t.initialValue);case 0:return t.parse(e,a.parseComponentValue());case 1:return t.parse(e,a.parseComponentValues());case 4:return a.parseComponentValue();case 3:switch(t.format){case"angle":return Zn.parse(e,a.parseComponentValue());case"color":return nr.parse(e,a.parseComponentValue());case"image":return Ir.parse(e,a.parseComponentValue());case"length":var o=a.parseComponentValue();return Rn(o)?o:Hn;case"length-percentage":var l=a.parseComponentValue();return Qn(l)?l:Hn;case"time":return Ys.parse(e,a.parseComponentValue())}}},ba="data-html2canvas-debug",ya=function(e){switch(e.getAttribute(ba)){case"all":return 1;case"clone":return 2;case"parse":return 3;case"render":return 4;default:return 0}},va=function(e,t){var n=ya(e);return 1===n||t===n},wa=function(){function e(e,t){this.context=e,this.textNodes=[],this.elements=[],this.flags=0,va(t,3),this.styles=new ma(e,window.getComputedStyle(t,null)),co(t)&&(this.styles.animationDuration.some(function(e){return e>0})&&(t.style.animationDuration="0s"),null!==this.styles.transform&&(t.style.transform="none")),this.bounds=o(this.context,t),va(t,4)&&(this.flags|=16)}return e}(),ja="AAAAAAAAAAAAEA4AGBkAAFAaAAACAAAAAAAIABAAGAAwADgACAAQAAgAEAAIABAACAAQAAgAEAAIABAACAAQAAgAEAAIABAAQABIAEQATAAIABAACAAQAAgAEAAIABAAVABcAAgAEAAIABAACAAQAGAAaABwAHgAgACIAI4AlgAIABAAmwCjAKgAsAC2AL4AvQDFAMoA0gBPAVYBWgEIAAgACACMANoAYgFkAWwBdAF8AX0BhQGNAZUBlgGeAaMBlQGWAasBswF8AbsBwwF0AcsBYwHTAQgA2wG/AOMBdAF8AekB8QF0AfkB+wHiAHQBfAEIAAMC5gQIAAsCEgIIAAgAFgIeAggAIgIpAggAMQI5AkACygEIAAgASAJQAlgCYAIIAAgACAAKBQoFCgUTBRMFGQUrBSsFCAAIAAgACAAIAAgACAAIAAgACABdAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABoAmgCrwGvAQgAbgJ2AggAHgEIAAgACADnAXsCCAAIAAgAgwIIAAgACAAIAAgACACKAggAkQKZAggAPADJAAgAoQKkAqwCsgK6AsICCADJAggA0AIIAAgACAAIANYC3gIIAAgACAAIAAgACABAAOYCCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAkASoB+QIEAAgACAA8AEMCCABCBQgACABJBVAFCAAIAAgACAAIAAgACAAIAAgACABTBVoFCAAIAFoFCABfBWUFCAAIAAgACAAIAAgAbQUIAAgACAAIAAgACABzBXsFfQWFBYoFigWKBZEFigWKBYoFmAWfBaYFrgWxBbkFCAAIAAgACAAIAAgACAAIAAgACAAIAMEFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAMgFCADQBQgACAAIAAgACAAIAAgACAAIAAgACAAIAO4CCAAIAAgAiQAIAAgACABAAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAD0AggACAD8AggACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIANYFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAMDvwAIAAgAJAIIAAgACAAIAAgACAAIAAgACwMTAwgACAB9BOsEGwMjAwgAKwMyAwsFYgE3A/MEPwMIAEUDTQNRAwgAWQOsAGEDCAAIAAgACAAIAAgACABpAzQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFOgU0BTUFNgU3BTgFOQU6BTQFNQU2BTcFOAU5BToFNAU1BTYFNwU4BTkFIQUoBSwFCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABtAwgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABMAEwACAAIAAgACAAIABgACAAIAAgACAC/AAgACAAyAQgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACAAIAAwAAgACAAIAAgACAAIAAgACAAIAAAARABIAAgACAAIABQASAAIAAgAIABwAEAAjgCIABsAqAC2AL0AigDQAtwC+IJIQqVAZUBWQqVAZUBlQGVAZUBlQGrC5UBlQGVAZUBlQGVAZUBlQGVAXsKlQGVAbAK6wsrDGUMpQzlDJUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAZUBlQGVAfAKAAuZA64AtwCJALoC6ADwAAgAuACgA/oEpgO6AqsD+AAIAAgAswMIAAgACAAIAIkAuwP5AfsBwwPLAwgACAAIAAgACADRA9kDCAAIAOED6QMIAAgACAAIAAgACADuA/YDCAAIAP4DyQAIAAgABgQIAAgAXQAOBAgACAAIAAgACAAIABMECAAIAAgACAAIAAgACAD8AAQBCAAIAAgAGgQiBCoECAExBAgAEAEIAAgACAAIAAgACAAIAAgACAAIAAgACAA4BAgACABABEYECAAIAAgATAQYAQgAVAQIAAgACAAIAAgACAAIAAgACAAIAFoECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAOQEIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAB+BAcACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAEABhgSMBAgACAAIAAgAlAQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAwAEAAQABAADAAMAAwADAAQABAAEAAQABAAEAAQABHATAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAdQMIAAgACAAIAAgACAAIAMkACAAIAAgAfQMIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACACFA4kDCAAIAAgACAAIAOcBCAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAIcDCAAIAAgACAAIAAgACAAIAAgACAAIAJEDCAAIAAgACADFAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABgBAgAZgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAbAQCBXIECAAIAHkECAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACABAAJwEQACjBKoEsgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAC6BMIECAAIAAgACAAIAAgACABmBAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAxwQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAGYECAAIAAgAzgQIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBd0FXwUIAOIF6gXxBYoF3gT5BQAGCAaKBYoFigWKBYoFigWKBYoFigWKBYoFigXWBIoFigWKBYoFigWKBYoFigWKBYsFEAaKBYoFigWKBYoFigWKBRQGCACKBYoFigWKBQgACAAIANEECAAIABgGigUgBggAJgYIAC4GMwaKBYoF0wQ3Bj4GigWKBYoFigWKBYoFigWKBYoFigWKBYoFigUIAAgACAAIAAgACAAIAAgAigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWKBYoFigWLBf///////wQABAAEAAQABAAEAAQABAAEAAQAAwAEAAQAAgAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAQADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUAAAAFAAUAAAAFAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUAAQAAAAUABQAFAAUABQAFAAAAAAAFAAUAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAFAAUAAQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAAABwAHAAcAAAAHAAcABwAFAAEAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAcABwAFAAUAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAQABAAAAAAAAAAAAAAAFAAUABQAFAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAHAAcAAAAHAAcAAAAAAAUABQAHAAUAAQAHAAEABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwABAAUABQAFAAUAAAAAAAAAAAAAAAEAAQABAAEAAQABAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABQANAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAABQAHAAUABQAFAAAAAAAAAAcABQAFAAUABQAFAAQABAAEAAQABAAEAAQABAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUAAAAFAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAUAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAcABwAFAAcABwAAAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUABwAHAAUABQAFAAUAAAAAAAcABwAAAAAABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAABQAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAAAAAAAAAAABQAFAAAAAAAFAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAFAAUABQAFAAUAAAAFAAUABwAAAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABwAFAAUABQAFAAAAAAAHAAcAAAAAAAcABwAFAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAAAAAAAAAHAAcABwAAAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAABQAHAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAUABQAFAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAHAAcABQAHAAcAAAAFAAcABwAAAAcABwAFAAUAAAAAAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAFAAcABwAFAAUABQAAAAUAAAAHAAcABwAHAAcABwAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAHAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAABwAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAUAAAAFAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABwAFAAUABQAFAAUAAAAFAAUAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABwAFAAUABQAFAAUABQAAAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABQAFAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABQAFAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAHAAUABQAFAAUABQAFAAUABwAHAAcABwAHAAcABwAHAAUABwAHAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABwAHAAcABwAFAAUABwAHAAcAAAAAAAAAAAAHAAcABQAHAAcABwAHAAcABwAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAcABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAUABQAFAAUABQAFAAUAAAAFAAAABQAAAAAABQAFAAUABQAFAAUABQAFAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAFAAUAAAAAAAUABQAFAAUABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABwAFAAcABwAHAAcABwAFAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAUABQAFAAUABwAHAAUABQAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABQAFAAcABwAHAAUABwAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAcABQAFAAUABQAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAAAAAABwAFAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAUABQAHAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAUABQAFAAUABQAHAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAcABwAFAAUABQAFAAcABwAFAAUABwAHAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAFAAcABwAFAAUABwAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAFAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAFAAUABQAAAAAABQAFAAAAAAAAAAAAAAAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAcABwAAAAAAAAAAAAAABwAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAcABwAFAAcABwAAAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAFAAUABQAAAAUABQAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABwAFAAUABQAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAUABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAHAAcABQAHAAUABQAAAAAAAAAAAAAAAAAFAAAABwAHAAcABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAHAAcABwAAAAAABwAHAAAAAAAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABwAHAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAFAAUABwAFAAcABwAFAAcABQAFAAcABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAHAAcABQAFAAUABQAAAAAABwAHAAcABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAHAAUABQAFAAUABQAFAAUABQAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABwAFAAcABwAFAAUABQAFAAUABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAcABwAFAAUABQAFAAcABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAUABQAFAAUABQAHAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAFAAUABQAFAAAAAAAFAAUABwAHAAcABwAFAAAAAAAAAAcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABwAHAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAcABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUAAAAHAAUABQAFAAUABQAFAAUABwAFAAUABwAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUAAAAAAAAABQAAAAUABQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAcABwAHAAcAAAAFAAUAAAAHAAcABQAHAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAAAAUABQAFAAAAAAAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAFAAUABQAAAAAABQAFAAUABQAFAAUABQAAAAUABQAAAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAUABQAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAFAAUABQAFAAUABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAFAAUABQAFAAUADgAOAA4ADgAOAA4ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAA8ADwAPAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAcABwAHAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAgACAAIAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAMAAwADAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkACQAJAAkAAAAAAAAAAAAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAKAAoACgAAAAAAAAAAAAsADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwACwAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAMAAwADAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAADgAOAA4AAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAAAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4AAAAOAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAAAAAAAAAAAA4AAAAOAAAAAAAAAAAADgAOAA4AAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAA4AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAA4ADgAOAA4ADgAOAA4ADgAOAAAADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4ADgAOAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAOAA4ADgAOAA4AAAAAAAAAAAAAAAAAAAAAAA4ADgAOAA4ADgAOAA4ADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAOAA4ADgAOAA4ADgAAAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4ADgAOAA4AAAAAAAAAAAA=",Na="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",_a="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ca=0;Ca<Na.length;Ca++)_a[Na.charCodeAt(Ca)]=Ca;for(var Sa=function(e){var t,n,r,s,a,i=.75*e.length,o=e.length,l=0;"="===e[e.length-1]&&(i--,"="===e[e.length-2]&&i--);var c="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof Uint8Array&&"undefined"!==typeof Uint8Array.prototype.slice?new ArrayBuffer(i):new Array(i),d=Array.isArray(c)?c:new Uint8Array(c);for(t=0;t<o;t+=4)n=_a[e.charCodeAt(t)],r=_a[e.charCodeAt(t+1)],s=_a[e.charCodeAt(t+2)],a=_a[e.charCodeAt(t+3)],d[l++]=n<<2|r>>4,d[l++]=(15&r)<<4|s>>2,d[l++]=(3&s)<<6|63&a;return c},ka=function(e){for(var t=e.length,n=[],r=0;r<t;r+=2)n.push(e[r+1]<<8|e[r]);return n},Ba=function(e){for(var t=e.length,n=[],r=0;r<t;r+=4)n.push(e[r+3]<<24|e[r+2]<<16|e[r+1]<<8|e[r]);return n},Ea=5,La=11,Ma=2,Fa=65536>>Ea,Ia=(1<<Ea)-1,Da=Fa+(1024>>Ea)+32,Ta=65536>>La,Oa=(1<<La-Ea)-1,Pa=function(e,t,n){return e.slice?e.slice(t,n):new Uint16Array(Array.prototype.slice.call(e,t,n))},Ua=function(e,t,n){return e.slice?e.slice(t,n):new Uint32Array(Array.prototype.slice.call(e,t,n))},Ra=function(e,t){var n=Sa(e),r=Array.isArray(n)?Ba(n):new Uint32Array(n),s=Array.isArray(n)?ka(n):new Uint16Array(n),a=24,i=Pa(s,a/2,r[4]/2),o=2===r[5]?Pa(s,(a+r[4])/2):Ua(r,Math.ceil((a+r[4])/4));return new Qa(r[0],r[1],r[2],r[3],i,o)},Qa=function(){function e(e,t,n,r,s,a){this.initialValue=e,this.errorValue=t,this.highStart=n,this.highValueIndex=r,this.index=s,this.data=a}return e.prototype.get=function(e){var t;if(e>=0){if(e<55296||e>56319&&e<=65535)return t=((t=this.index[e>>Ea])<<Ma)+(e&Ia),this.data[t];if(e<=65535)return t=((t=this.index[Fa+(e-55296>>Ea)])<<Ma)+(e&Ia),this.data[t];if(e<this.highStart)return t=Da-Ta+(e>>La),t=this.index[t],t+=e>>Ea&Oa,t=((t=this.index[t])<<Ma)+(e&Ia),this.data[t];if(e<=1114111)return this.data[this.highValueIndex]}return this.errorValue},e}(),za="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ha="undefined"===typeof Uint8Array?[]:new Uint8Array(256),Ka=0;Ka<za.length;Ka++)Ha[za.charCodeAt(Ka)]=Ka;var Wa,Va=1,qa=2,Ga=3,Ya=4,Ja=5,Xa=7,Za=8,$a=9,ei=10,ti=11,ni=12,ri=13,si=14,ai=15,ii=function(e){for(var t=[],n=0,r=e.length;n<r;){var s=e.charCodeAt(n++);if(s>=55296&&s<=56319&&n<r){var a=e.charCodeAt(n++);56320===(64512&a)?t.push(((1023&s)<<10)+(1023&a)+65536):(t.push(s),n--)}else t.push(s)}return t},oi=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(String.fromCodePoint)return String.fromCodePoint.apply(String,e);var n=e.length;if(!n)return"";for(var r=[],s=-1,a="";++s<n;){var i=e[s];i<=65535?r.push(i):(i-=65536,r.push(55296+(i>>10),i%1024+56320)),(s+1===n||r.length>16384)&&(a+=String.fromCharCode.apply(String,r),r.length=0)}return a},li=Ra(ja),ci="\xd7",di="\xf7",ui=function(e){return li.get(e)},hi=function(e,t,n){var r=n-2,s=t[r],a=t[n-1],i=t[n];if(a===qa&&i===Ga)return ci;if(a===qa||a===Ga||a===Ya)return di;if(i===qa||i===Ga||i===Ya)return di;if(a===Za&&-1!==[Za,$a,ti,ni].indexOf(i))return ci;if((a===ti||a===$a)&&(i===$a||i===ei))return ci;if((a===ni||a===ei)&&i===ei)return ci;if(i===ri||i===Ja)return ci;if(i===Xa)return ci;if(a===Va)return ci;if(a===ri&&i===si){for(;s===Ja;)s=t[--r];if(s===si)return ci}if(a===ai&&i===ai){for(var o=0;s===ai;)o++,s=t[--r];if(o%2===0)return ci}return di},Ai=function(e){var t=ii(e),n=t.length,r=0,s=0,a=t.map(ui);return{next:function(){if(r>=n)return{done:!0,value:null};for(var e=ci;r<n&&(e=hi(t,a,++r))===ci;);if(e!==ci||r===n){var i=oi.apply(null,t.slice(s,r));return s=r,{value:i,done:!1}}return{done:!0,value:null}}}},fi=function(e){for(var t,n=Ai(e),r=[];!(t=n.next()).done;)t.value&&r.push(t.value.slice());return r},mi=function(e){var t=123;if(e.createRange){var n=e.createRange();if(n.getBoundingClientRect){var r=e.createElement("boundtest");r.style.height=t+"px",r.style.display="block",e.body.appendChild(r),n.selectNode(r);var s=n.getBoundingClientRect(),a=Math.round(s.height);if(e.body.removeChild(r),a===t)return!0}}return!1},pi=function(e){var t=e.createElement("boundtest");t.style.width="50px",t.style.display="block",t.style.fontSize="12px",t.style.letterSpacing="0px",t.style.wordSpacing="0px",e.body.appendChild(t);var n=e.createRange();t.innerHTML="function"===typeof"".repeat?"&#128104;".repeat(10):"";var r=t.firstChild,s=c(r.data).map(function(e){return d(e)}),a=0,i={},o=s.every(function(e,t){n.setStart(r,a),n.setEnd(r,a+e.length);var s=n.getBoundingClientRect();a+=e.length;var o=s.x>i.x||s.y>i.y;return i=s,0===t||o});return e.body.removeChild(t),o},gi=function(){return"undefined"!==typeof(new Image).crossOrigin},xi=function(){return"string"===typeof(new XMLHttpRequest).responseType},bi=function(e){var t=new Image,n=e.createElement("canvas"),r=n.getContext("2d");if(!r)return!1;t.src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg'></svg>";try{r.drawImage(t,0,0),n.toDataURL()}catch(Ot){return!1}return!0},yi=function(e){return 0===e[0]&&255===e[1]&&0===e[2]&&255===e[3]},vi=function(e){var t=e.createElement("canvas"),n=100;t.width=n,t.height=n;var r=t.getContext("2d");if(!r)return Promise.reject(!1);r.fillStyle="rgb(0, 255, 0)",r.fillRect(0,0,n,n);var s=new Image,a=t.toDataURL();s.src=a;var i=wi(n,n,0,0,s);return r.fillStyle="red",r.fillRect(0,0,n,n),ji(i).then(function(t){r.drawImage(t,0,0);var s=r.getImageData(0,0,n,n).data;r.fillStyle="red",r.fillRect(0,0,n,n);var i=e.createElement("div");return i.style.backgroundImage="url("+a+")",i.style.height=n+"px",yi(s)?ji(wi(n,n,0,0,i)):Promise.reject(!1)}).then(function(e){return r.drawImage(e,0,0),yi(r.getImageData(0,0,n,n).data)}).catch(function(){return!1})},wi=function(e,t,n,r,s){var a="http://www.w3.org/2000/svg",i=document.createElementNS(a,"svg"),o=document.createElementNS(a,"foreignObject");return i.setAttributeNS(null,"width",e.toString()),i.setAttributeNS(null,"height",t.toString()),o.setAttributeNS(null,"width","100%"),o.setAttributeNS(null,"height","100%"),o.setAttributeNS(null,"x",n.toString()),o.setAttributeNS(null,"y",r.toString()),o.setAttributeNS(null,"externalResourcesRequired","true"),i.appendChild(o),o.appendChild(s),i},ji=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){return t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},Ni={get SUPPORT_RANGE_BOUNDS(){var e=mi(document);return Object.defineProperty(Ni,"SUPPORT_RANGE_BOUNDS",{value:e}),e},get SUPPORT_WORD_BREAKING(){var e=Ni.SUPPORT_RANGE_BOUNDS&&pi(document);return Object.defineProperty(Ni,"SUPPORT_WORD_BREAKING",{value:e}),e},get SUPPORT_SVG_DRAWING(){var e=bi(document);return Object.defineProperty(Ni,"SUPPORT_SVG_DRAWING",{value:e}),e},get SUPPORT_FOREIGNOBJECT_DRAWING(){var e="function"===typeof Array.from&&"function"===typeof window.fetch?vi(document):Promise.resolve(!1);return Object.defineProperty(Ni,"SUPPORT_FOREIGNOBJECT_DRAWING",{value:e}),e},get SUPPORT_CORS_IMAGES(){var e=gi();return Object.defineProperty(Ni,"SUPPORT_CORS_IMAGES",{value:e}),e},get SUPPORT_RESPONSE_TYPE(){var e=xi();return Object.defineProperty(Ni,"SUPPORT_RESPONSE_TYPE",{value:e}),e},get SUPPORT_CORS_XHR(){var e="withCredentials"in new XMLHttpRequest;return Object.defineProperty(Ni,"SUPPORT_CORS_XHR",{value:e}),e},get SUPPORT_NATIVE_TEXT_SEGMENTATION(){var e=!("undefined"===typeof Intl||!Intl.Segmenter);return Object.defineProperty(Ni,"SUPPORT_NATIVE_TEXT_SEGMENTATION",{value:e}),e}},_i=function(){function e(e,t){this.text=e,this.bounds=t}return e}(),Ci=function(e,t,n,r){var s=Li(t,n),a=[],o=0;return s.forEach(function(t){if(n.textDecorationLine.length||t.trim().length>0)if(Ni.SUPPORT_RANGE_BOUNDS){var s=ki(r,o,t.length).getClientRects();if(s.length>1){var l=Bi(t),c=0;l.forEach(function(t){a.push(new _i(t,i.fromDOMRectList(e,ki(r,c+o,t.length).getClientRects()))),c+=t.length})}else a.push(new _i(t,i.fromDOMRectList(e,s)))}else{var d=r.splitText(t.length);a.push(new _i(t,Si(e,r))),r=d}else Ni.SUPPORT_RANGE_BOUNDS||(r=r.splitText(t.length));o+=t.length}),a},Si=function(e,t){var n=t.ownerDocument;if(n){var r=n.createElement("html2canvaswrapper");r.appendChild(t.cloneNode(!0));var s=t.parentNode;if(s){s.replaceChild(r,t);var a=o(e,r);return r.firstChild&&s.replaceChild(r.firstChild,r),a}}return i.EMPTY},ki=function(e,t,n){var r=e.ownerDocument;if(!r)throw new Error("Node has no owner document");var s=r.createRange();return s.setStart(e,t),s.setEnd(e,t+n),s},Bi=function(e){if(Ni.SUPPORT_NATIVE_TEXT_SEGMENTATION){var t=new Intl.Segmenter(void 0,{granularity:"grapheme"});return Array.from(t.segment(e)).map(function(e){return e.segment})}return fi(e)},Ei=function(e,t){if(Ni.SUPPORT_NATIVE_TEXT_SEGMENTATION){var n=new Intl.Segmenter(void 0,{granularity:"word"});return Array.from(n.segment(e)).map(function(e){return e.segment})}return Fi(e,t)},Li=function(e,t){return 0!==t.letterSpacing?Bi(e):Ei(e,t)},Mi=[32,160,4961,65792,65793,4153,4241],Fi=function(e,t){for(var n,r=ze(e,{lineBreak:t.lineBreak,wordBreak:"break-word"===t.overflowWrap?"break-word":t.wordBreak}),s=[],a=function(){if(n.value){var e=n.value.slice(),t=c(e),r="";t.forEach(function(e){-1===Mi.indexOf(e)?r+=d(e):(r.length&&s.push(r),s.push(d(e)),r="")}),r.length&&s.push(r)}};!(n=r.next()).done;)a();return s},Ii=function(){function e(e,t,n){this.text=Di(t.data,n.textTransform),this.textBounds=Ci(e,this.text,n,t)}return e}(),Di=function(e,t){switch(t){case 1:return e.toLowerCase();case 3:return e.replace(Ti,Oi);case 2:return e.toUpperCase();default:return e}},Ti=/(^|\s|:|-|\(|\))([a-z])/g,Oi=function(e,t,n){return e.length>0?t+n.toUpperCase():e},Pi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.src=n.currentSrc||n.src,r.intrinsicWidth=n.naturalWidth,r.intrinsicHeight=n.naturalHeight,r.context.cache.addImage(r.src),r}return t(n,e),n}(wa),Ui=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n,r.intrinsicWidth=n.width,r.intrinsicHeight=n.height,r}return t(n,e),n}(wa),Ri=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=new XMLSerializer,a=o(t,n);return n.setAttribute("width",a.width+"px"),n.setAttribute("height",a.height+"px"),r.svg="data:image/svg+xml,"+encodeURIComponent(s.serializeToString(n)),r.intrinsicWidth=n.width.baseVal.value,r.intrinsicHeight=n.height.baseVal.value,r.context.cache.addImage(r.svg),r}return t(n,e),n}(wa),Qi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(wa),zi=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.start=n.start,r.reversed="boolean"===typeof n.reversed&&!0===n.reversed,r}return t(n,e),n}(wa),Hi=[{type:15,flags:0,unit:"px",number:3}],Ki=[{type:16,flags:0,number:50}],Wi=function(e){return e.width>e.height?new i(e.left+(e.width-e.height)/2,e.top,e.height,e.height):e.width<e.height?new i(e.left,e.top+(e.height-e.width)/2,e.width,e.width):e},Vi=function(e){var t=e.type===Yi?new Array(e.value.length+1).join("\u2022"):e.value;return 0===t.length?e.placeholder||"":t},qi="checkbox",Gi="radio",Yi="password",Ji=707406591,Xi=function(e){function n(t,n){var r=e.call(this,t,n)||this;switch(r.type=n.type.toLowerCase(),r.checked=n.checked,r.value=Vi(n),r.type!==qi&&r.type!==Gi||(r.styles.backgroundColor=3739148031,r.styles.borderTopColor=r.styles.borderRightColor=r.styles.borderBottomColor=r.styles.borderLeftColor=2779096575,r.styles.borderTopWidth=r.styles.borderRightWidth=r.styles.borderBottomWidth=r.styles.borderLeftWidth=1,r.styles.borderTopStyle=r.styles.borderRightStyle=r.styles.borderBottomStyle=r.styles.borderLeftStyle=1,r.styles.backgroundClip=[0],r.styles.backgroundOrigin=[0],r.bounds=Wi(r.bounds)),r.type){case qi:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Hi;break;case Gi:r.styles.borderTopRightRadius=r.styles.borderTopLeftRadius=r.styles.borderBottomRightRadius=r.styles.borderBottomLeftRadius=Ki}return r}return t(n,e),n}(wa),Zi=function(e){function n(t,n){var r=e.call(this,t,n)||this,s=n.options[n.selectedIndex||0];return r.value=s&&s.text||"",r}return t(n,e),n}(wa),$i=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.value=n.value,r}return t(n,e),n}(wa),eo=function(e){function n(t,n){var r=e.call(this,t,n)||this;r.src=n.src,r.width=parseInt(n.width,10)||0,r.height=parseInt(n.height,10)||0,r.backgroundColor=r.styles.backgroundColor;try{if(n.contentWindow&&n.contentWindow.document&&n.contentWindow.document.documentElement){r.tree=so(t,n.contentWindow.document.documentElement);var s=n.contentWindow.document.documentElement?ur(t,getComputedStyle(n.contentWindow.document.documentElement).backgroundColor):hr.TRANSPARENT,a=n.contentWindow.document.body?ur(t,getComputedStyle(n.contentWindow.document.body).backgroundColor):hr.TRANSPARENT;r.backgroundColor=rr(s)?rr(a)?r.styles.backgroundColor:a:s}}catch(Ot){}return r}return t(n,e),n}(wa),to=["OL","UL","MENU"],no=function(e,t,n,r){for(var s=t.firstChild,a=void 0;s;s=a)if(a=s.nextSibling,oo(s)&&s.data.trim().length>0)n.textNodes.push(new Ii(e,s,n.styles));else if(lo(s))if(Co(s)&&s.assignedNodes)s.assignedNodes().forEach(function(t){return no(e,t,n,r)});else{var i=ro(e,s);i.styles.isVisible()&&(ao(s,i,r)?i.flags|=4:io(i.styles)&&(i.flags|=2),-1!==to.indexOf(s.tagName)&&(i.flags|=8),n.elements.push(i),s.slot,s.shadowRoot?no(e,s.shadowRoot,i,r):No(s)||po(s)||_o(s)||no(e,s,i,r))}},ro=function(e,t){return yo(t)?new Pi(e,t):xo(t)?new Ui(e,t):po(t)?new Ri(e,t):ho(t)?new Qi(e,t):Ao(t)?new zi(e,t):fo(t)?new Xi(e,t):_o(t)?new Zi(e,t):No(t)?new $i(e,t):vo(t)?new eo(e,t):new wa(e,t)},so=function(e,t){var n=ro(e,t);return n.flags|=4,no(e,t,n,n),n},ao=function(e,t,n){return t.styles.isPositionedWithZIndex()||t.styles.opacity<1||t.styles.isTransformed()||go(e)&&n.styles.isTransparent()},io=function(e){return e.isPositioned()||e.isFloating()},oo=function(e){return e.nodeType===Node.TEXT_NODE},lo=function(e){return e.nodeType===Node.ELEMENT_NODE},co=function(e){return lo(e)&&"undefined"!==typeof e.style&&!uo(e)},uo=function(e){return"object"===typeof e.className},ho=function(e){return"LI"===e.tagName},Ao=function(e){return"OL"===e.tagName},fo=function(e){return"INPUT"===e.tagName},mo=function(e){return"HTML"===e.tagName},po=function(e){return"svg"===e.tagName},go=function(e){return"BODY"===e.tagName},xo=function(e){return"CANVAS"===e.tagName},bo=function(e){return"VIDEO"===e.tagName},yo=function(e){return"IMG"===e.tagName},vo=function(e){return"IFRAME"===e.tagName},wo=function(e){return"STYLE"===e.tagName},jo=function(e){return"SCRIPT"===e.tagName},No=function(e){return"TEXTAREA"===e.tagName},_o=function(e){return"SELECT"===e.tagName},Co=function(e){return"SLOT"===e.tagName},So=function(e){return e.tagName.indexOf("-")>0},ko=function(){function e(){this.counters={}}return e.prototype.getCounterValue=function(e){var t=this.counters[e];return t&&t.length?t[t.length-1]:1},e.prototype.getCounterValues=function(e){var t=this.counters[e];return t||[]},e.prototype.pop=function(e){var t=this;e.forEach(function(e){return t.counters[e].pop()})},e.prototype.parse=function(e){var t=this,n=e.counterIncrement,r=e.counterReset,s=!0;null!==n&&n.forEach(function(e){var n=t.counters[e.counter];n&&0!==e.increment&&(s=!1,n.length||n.push(1),n[Math.max(0,n.length-1)]+=e.increment)});var a=[];return s&&r.forEach(function(e){var n=t.counters[e.counter];a.push(e.counter),n||(n=t.counters[e.counter]=[]),n.push(e.reset)}),a},e}(),Bo={integers:[1e3,900,500,400,100,90,50,40,10,9,5,4,1],values:["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"]},Eo={integers:[9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u0554","\u0553","\u0552","\u0551","\u0550","\u054f","\u054e","\u054d","\u054c","\u054b","\u054a","\u0549","\u0548","\u0547","\u0546","\u0545","\u0544","\u0543","\u0542","\u0541","\u0540","\u053f","\u053e","\u053d","\u053c","\u053b","\u053a","\u0539","\u0538","\u0537","\u0536","\u0535","\u0534","\u0533","\u0532","\u0531"]},Lo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,400,300,200,100,90,80,70,60,50,40,30,20,19,18,17,16,15,10,9,8,7,6,5,4,3,2,1],values:["\u05d9\u05f3","\u05d8\u05f3","\u05d7\u05f3","\u05d6\u05f3","\u05d5\u05f3","\u05d4\u05f3","\u05d3\u05f3","\u05d2\u05f3","\u05d1\u05f3","\u05d0\u05f3","\u05ea","\u05e9","\u05e8","\u05e7","\u05e6","\u05e4","\u05e2","\u05e1","\u05e0","\u05de","\u05dc","\u05db","\u05d9\u05d8","\u05d9\u05d7","\u05d9\u05d6","\u05d8\u05d6","\u05d8\u05d5","\u05d9","\u05d8","\u05d7","\u05d6","\u05d5","\u05d4","\u05d3","\u05d2","\u05d1","\u05d0"]},Mo={integers:[1e4,9e3,8e3,7e3,6e3,5e3,4e3,3e3,2e3,1e3,900,800,700,600,500,400,300,200,100,90,80,70,60,50,40,30,20,10,9,8,7,6,5,4,3,2,1],values:["\u10f5","\u10f0","\u10ef","\u10f4","\u10ee","\u10ed","\u10ec","\u10eb","\u10ea","\u10e9","\u10e8","\u10e7","\u10e6","\u10e5","\u10e4","\u10f3","\u10e2","\u10e1","\u10e0","\u10df","\u10de","\u10dd","\u10f2","\u10dc","\u10db","\u10da","\u10d9","\u10d8","\u10d7","\u10f1","\u10d6","\u10d5","\u10d4","\u10d3","\u10d2","\u10d1","\u10d0"]},Fo=function(e,t,n,r,s,a){return e<t||e>n?Vo(e,s,a.length>0):r.integers.reduce(function(t,n,s){for(;e>=n;)e-=n,t+=r.values[s];return t},"")+a},Io=function(e,t,n,r){var s="";do{n||e--,s=r(e)+s,e/=t}while(e*t>=t);return s},Do=function(e,t,n,r,s){var a=n-t+1;return(e<0?"-":"")+(Io(Math.abs(e),a,r,function(e){return d(Math.floor(e%a)+t)})+s)},To=function(e,t,n){void 0===n&&(n=". ");var r=t.length;return Io(Math.abs(e),r,!1,function(e){return t[Math.floor(e%r)]})+n},Oo=1,Po=2,Uo=4,Ro=8,Qo=function(e,t,n,r,s,a){if(e<-9999||e>9999)return Vo(e,4,s.length>0);var i=Math.abs(e),o=s;if(0===i)return t[0]+o;for(var l=0;i>0&&l<=4;l++){var c=i%10;0===c&&sa(a,Oo)&&""!==o?o=t[c]+o:c>1||1===c&&0===l||1===c&&1===l&&sa(a,Po)||1===c&&1===l&&sa(a,Uo)&&e>100||1===c&&l>1&&sa(a,Ro)?o=t[c]+(l>0?n[l-1]:"")+o:1===c&&l>0&&(o=n[l-1]+o),i=Math.floor(i/10)}return(e<0?r:"")+o},zo="\u5341\u767e\u5343\u842c",Ho="\u62fe\u4f70\u4edf\u842c",Ko="\u30de\u30a4\u30ca\u30b9",Wo="\ub9c8\uc774\ub108\uc2a4",Vo=function(e,t,n){var r=n?". ":"",s=n?"\u3001":"",a=n?", ":"",i=n?" ":"";switch(t){case 0:return"\u2022"+i;case 1:return"\u25e6"+i;case 2:return"\u25fe"+i;case 5:var o=Do(e,48,57,!0,r);return o.length<4?"0"+o:o;case 4:return To(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",s);case 6:return Fo(e,1,3999,Bo,3,r).toLowerCase();case 7:return Fo(e,1,3999,Bo,3,r);case 8:return Do(e,945,969,!1,r);case 9:return Do(e,97,122,!1,r);case 10:return Do(e,65,90,!1,r);case 11:return Do(e,1632,1641,!0,r);case 12:case 49:return Fo(e,1,9999,Eo,3,r);case 35:return Fo(e,1,9999,Eo,3,r).toLowerCase();case 13:return Do(e,2534,2543,!0,r);case 14:case 30:return Do(e,6112,6121,!0,r);case 15:return To(e,"\u5b50\u4e11\u5bc5\u536f\u8fb0\u5df3\u5348\u672a\u7533\u9149\u620c\u4ea5",s);case 16:return To(e,"\u7532\u4e59\u4e19\u4e01\u620a\u5df1\u5e9a\u8f9b\u58ec\u7678",s);case 17:case 48:return Qo(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",zo,"\u8ca0",s,Po|Uo|Ro);case 47:return Qo(e,"\u96f6\u58f9\u8cb3\u53c3\u8086\u4f0d\u9678\u67d2\u634c\u7396",Ho,"\u8ca0",s,Oo|Po|Uo|Ro);case 42:return Qo(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d",zo,"\u8d1f",s,Po|Uo|Ro);case 41:return Qo(e,"\u96f6\u58f9\u8d30\u53c1\u8086\u4f0d\u9646\u67d2\u634c\u7396",Ho,"\u8d1f",s,Oo|Po|Uo|Ro);case 26:return Qo(e,"\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u4e07",Ko,s,0);case 25:return Qo(e,"\u96f6\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343\u4e07",Ko,s,Oo|Po|Uo);case 31:return Qo(e,"\uc601\uc77c\uc774\uc0bc\uc0ac\uc624\uc721\uce60\ud314\uad6c","\uc2ed\ubc31\ucc9c\ub9cc",Wo,a,Oo|Po|Uo);case 33:return Qo(e,"\u96f6\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u5341\u767e\u5343\u842c",Wo,a,0);case 32:return Qo(e,"\u96f6\u58f9\u8cb3\u53c3\u56db\u4e94\u516d\u4e03\u516b\u4e5d","\u62fe\u767e\u5343",Wo,a,Oo|Po|Uo);case 18:return Do(e,2406,2415,!0,r);case 20:return Fo(e,1,19999,Mo,3,r);case 21:return Do(e,2790,2799,!0,r);case 22:return Do(e,2662,2671,!0,r);case 22:return Fo(e,1,10999,Lo,3,r);case 23:return To(e,"\u3042\u3044\u3046\u3048\u304a\u304b\u304d\u304f\u3051\u3053\u3055\u3057\u3059\u305b\u305d\u305f\u3061\u3064\u3066\u3068\u306a\u306b\u306c\u306d\u306e\u306f\u3072\u3075\u3078\u307b\u307e\u307f\u3080\u3081\u3082\u3084\u3086\u3088\u3089\u308a\u308b\u308c\u308d\u308f\u3090\u3091\u3092\u3093");case 24:return To(e,"\u3044\u308d\u306f\u306b\u307b\u3078\u3068\u3061\u308a\u306c\u308b\u3092\u308f\u304b\u3088\u305f\u308c\u305d\u3064\u306d\u306a\u3089\u3080\u3046\u3090\u306e\u304a\u304f\u3084\u307e\u3051\u3075\u3053\u3048\u3066\u3042\u3055\u304d\u3086\u3081\u307f\u3057\u3091\u3072\u3082\u305b\u3059");case 27:return Do(e,3302,3311,!0,r);case 28:return To(e,"\u30a2\u30a4\u30a6\u30a8\u30aa\u30ab\u30ad\u30af\u30b1\u30b3\u30b5\u30b7\u30b9\u30bb\u30bd\u30bf\u30c1\u30c4\u30c6\u30c8\u30ca\u30cb\u30cc\u30cd\u30ce\u30cf\u30d2\u30d5\u30d8\u30db\u30de\u30df\u30e0\u30e1\u30e2\u30e4\u30e6\u30e8\u30e9\u30ea\u30eb\u30ec\u30ed\u30ef\u30f0\u30f1\u30f2\u30f3",s);case 29:return To(e,"\u30a4\u30ed\u30cf\u30cb\u30db\u30d8\u30c8\u30c1\u30ea\u30cc\u30eb\u30f2\u30ef\u30ab\u30e8\u30bf\u30ec\u30bd\u30c4\u30cd\u30ca\u30e9\u30e0\u30a6\u30f0\u30ce\u30aa\u30af\u30e4\u30de\u30b1\u30d5\u30b3\u30a8\u30c6\u30a2\u30b5\u30ad\u30e6\u30e1\u30df\u30b7\u30f1\u30d2\u30e2\u30bb\u30b9",s);case 34:return Do(e,3792,3801,!0,r);case 37:return Do(e,6160,6169,!0,r);case 38:return Do(e,4160,4169,!0,r);case 39:return Do(e,2918,2927,!0,r);case 40:return Do(e,1776,1785,!0,r);case 43:return Do(e,3046,3055,!0,r);case 44:return Do(e,3174,3183,!0,r);case 45:return Do(e,3664,3673,!0,r);case 46:return Do(e,3872,3881,!0,r);default:return Do(e,48,57,!0,r)}},qo="data-html2canvas-ignore",Go=function(){function e(e,t,n){if(this.context=e,this.options=n,this.scrolledElements=[],this.referenceElement=t,this.counters=new ko,this.quoteDepth=0,!t.ownerDocument)throw new Error("Cloned element does not have an owner document");this.documentElement=this.cloneNode(t.ownerDocument.documentElement,!1)}return e.prototype.toIFrame=function(e,t){var n=this,a=Jo(e,t);if(!a.contentWindow)return Promise.reject("Unable to find iframe window");var i=e.defaultView.pageXOffset,o=e.defaultView.pageYOffset,l=a.contentWindow,c=l.document,d=$o(a).then(function(){return r(n,void 0,void 0,function(){var e,n;return s(this,function(r){switch(r.label){case 0:return this.scrolledElements.forEach(sl),l&&(l.scrollTo(t.left,t.top),!/(iPad|iPhone|iPod)/g.test(navigator.userAgent)||l.scrollY===t.top&&l.scrollX===t.left||(this.context.logger.warn("Unable to restore scroll position for cloned document"),this.context.windowBounds=this.context.windowBounds.add(l.scrollX-t.left,l.scrollY-t.top,0,0))),e=this.options.onclone,"undefined"===typeof(n=this.clonedReferenceElement)?[2,Promise.reject("Error finding the "+this.referenceElement.nodeName+" in the cloned document")]:c.fonts&&c.fonts.ready?[4,c.fonts.ready]:[3,2];case 1:r.sent(),r.label=2;case 2:return/(AppleWebKit)/g.test(navigator.userAgent)?[4,Zo(c)]:[3,4];case 3:r.sent(),r.label=4;case 4:return"function"===typeof e?[2,Promise.resolve().then(function(){return e(c,n)}).then(function(){return a})]:[2,a]}})})});return c.open(),c.write(nl(document.doctype)+"<html></html>"),rl(this.referenceElement.ownerDocument,i,o),c.replaceChild(c.adoptNode(this.documentElement),c.documentElement),c.close(),d},e.prototype.createElementClone=function(e){if(va(e,2),xo(e))return this.createCanvasClone(e);if(bo(e))return this.createVideoClone(e);if(wo(e))return this.createStyleClone(e);var t=e.cloneNode(!1);return yo(t)&&(yo(e)&&e.currentSrc&&e.currentSrc!==e.src&&(t.src=e.currentSrc,t.srcset=""),"lazy"===t.loading&&(t.loading="eager")),So(t)?this.createCustomElementClone(t):t},e.prototype.createCustomElementClone=function(e){var t=document.createElement("html2canvascustomelement");return tl(e.style,t),t},e.prototype.createStyleClone=function(e){try{var t=e.sheet;if(t&&t.cssRules){var n=[].slice.call(t.cssRules,0).reduce(function(e,t){return t&&"string"===typeof t.cssText?e+t.cssText:e},""),r=e.cloneNode(!1);return r.textContent=n,r}}catch(Ot){if(this.context.logger.error("Unable to access cssRules property",Ot),"SecurityError"!==Ot.name)throw Ot}return e.cloneNode(!1)},e.prototype.createCanvasClone=function(e){var t;if(this.options.inlineImages&&e.ownerDocument){var n=e.ownerDocument.createElement("img");try{return n.src=e.toDataURL(),n}catch(Ot){this.context.logger.info("Unable to inline canvas contents, canvas is tainted",e)}}var r=e.cloneNode(!1);try{r.width=e.width,r.height=e.height;var s=e.getContext("2d"),a=r.getContext("2d");if(a)if(!this.options.allowTaint&&s)a.putImageData(s.getImageData(0,0,e.width,e.height),0,0);else{var i=null!==(t=e.getContext("webgl2"))&&void 0!==t?t:e.getContext("webgl");if(i){var o=i.getContextAttributes();!1===(null===o||void 0===o?void 0:o.preserveDrawingBuffer)&&this.context.logger.warn("Unable to clone WebGL context as it has preserveDrawingBuffer=false",e)}a.drawImage(e,0,0)}return r}catch(Ot){this.context.logger.info("Unable to clone canvas as it is tainted",e)}return r},e.prototype.createVideoClone=function(e){var t=e.ownerDocument.createElement("canvas");t.width=e.offsetWidth,t.height=e.offsetHeight;var n=t.getContext("2d");try{return n&&(n.drawImage(e,0,0,t.width,t.height),this.options.allowTaint||n.getImageData(0,0,t.width,t.height)),t}catch(Ot){this.context.logger.info("Unable to clone video as it is tainted",e)}var r=e.ownerDocument.createElement("canvas");return r.width=e.offsetWidth,r.height=e.offsetHeight,r},e.prototype.appendChildNode=function(e,t,n){lo(t)&&(jo(t)||t.hasAttribute(qo)||"function"===typeof this.options.ignoreElements&&this.options.ignoreElements(t))||this.options.copyStyles&&lo(t)&&wo(t)||e.appendChild(this.cloneNode(t,n))},e.prototype.cloneChildNodes=function(e,t,n){for(var r=this,s=e.shadowRoot?e.shadowRoot.firstChild:e.firstChild;s;s=s.nextSibling)if(lo(s)&&Co(s)&&"function"===typeof s.assignedNodes){var a=s.assignedNodes();a.length&&a.forEach(function(e){return r.appendChildNode(t,e,n)})}else this.appendChildNode(t,s,n)},e.prototype.cloneNode=function(e,t){if(oo(e))return document.createTextNode(e.data);if(!e.ownerDocument)return e.cloneNode(!1);var n=e.ownerDocument.defaultView;if(n&&lo(e)&&(co(e)||uo(e))){var r=this.createElementClone(e);r.style.transitionProperty="none";var s=n.getComputedStyle(e),a=n.getComputedStyle(e,":before"),i=n.getComputedStyle(e,":after");this.referenceElement===e&&co(r)&&(this.clonedReferenceElement=r),go(r)&&dl(r);var o=this.counters.parse(new ga(this.context,s)),l=this.resolvePseudoContent(e,r,a,Wa.BEFORE);So(e)&&(t=!0),bo(e)||this.cloneChildNodes(e,r,t),l&&r.insertBefore(l,r.firstChild);var c=this.resolvePseudoContent(e,r,i,Wa.AFTER);return c&&r.appendChild(c),this.counters.pop(o),(s&&(this.options.copyStyles||uo(e))&&!vo(e)||t)&&tl(s,r),0===e.scrollTop&&0===e.scrollLeft||this.scrolledElements.push([r,e.scrollLeft,e.scrollTop]),(No(e)||_o(e))&&(No(r)||_o(r))&&(r.value=e.value),r}return e.cloneNode(!1)},e.prototype.resolvePseudoContent=function(e,t,n,r){var s=this;if(n){var a=n.content,i=t.ownerDocument;if(i&&a&&"none"!==a&&"-moz-alt-content"!==a&&"none"!==n.display){this.counters.parse(new ga(this.context,n));var o=new pa(this.context,n),l=i.createElement("html2canvaspseudoelement");tl(n,l),o.content.forEach(function(t){if(0===t.type)l.appendChild(i.createTextNode(t.value));else if(22===t.type){var n=i.createElement("img");n.src=t.value,n.style.opacity="1",l.appendChild(n)}else if(18===t.type){if("attr"===t.name){var r=t.values.filter(Fn);r.length&&l.appendChild(i.createTextNode(e.getAttribute(r[0].value)||""))}else if("counter"===t.name){var a=t.values.filter(On),c=a[0],d=a[1];if(c&&Fn(c)){var u=s.counters.getCounterValue(c.value),h=d&&Fn(d)?Ns.parse(s.context,d.value):3;l.appendChild(i.createTextNode(Vo(u,h,!1)))}}else if("counters"===t.name){var A=t.values.filter(On),f=(c=A[0],A[1]);if(d=A[2],c&&Fn(c)){var m=s.counters.getCounterValues(c.value),p=d&&Fn(d)?Ns.parse(s.context,d.value):3,g=f&&0===f.type?f.value:"",x=m.map(function(e){return Vo(e,p,!1)}).join(g);l.appendChild(i.createTextNode(x))}}}else if(20===t.type)switch(t.value){case"open-quote":l.appendChild(i.createTextNode(da(o.quotes,s.quoteDepth++,!0)));break;case"close-quote":l.appendChild(i.createTextNode(da(o.quotes,--s.quoteDepth,!1)));break;default:l.appendChild(i.createTextNode(t.value))}}),l.className=ol+" "+ll;var c=r===Wa.BEFORE?" "+ol:" "+ll;return uo(t)?t.className.baseValue+=c:t.className+=c,l}}},e.destroy=function(e){return!!e.parentNode&&(e.parentNode.removeChild(e),!0)},e}();!function(e){e[e.BEFORE=0]="BEFORE",e[e.AFTER=1]="AFTER"}(Wa||(Wa={}));var Yo,Jo=function(e,t){var n=e.createElement("iframe");return n.className="html2canvas-container",n.style.visibility="hidden",n.style.position="fixed",n.style.left="-10000px",n.style.top="0px",n.style.border="0",n.width=t.width.toString(),n.height=t.height.toString(),n.scrolling="no",n.setAttribute(qo,"true"),e.body.appendChild(n),n},Xo=function(e){return new Promise(function(t){e.complete?t():e.src?(e.onload=t,e.onerror=t):t()})},Zo=function(e){return Promise.all([].slice.call(e.images,0).map(Xo))},$o=function(e){return new Promise(function(t,n){var r=e.contentWindow;if(!r)return n("No window assigned for iframe");var s=r.document;r.onload=e.onload=function(){r.onload=e.onload=null;var n=setInterval(function(){s.body.childNodes.length>0&&"complete"===s.readyState&&(clearInterval(n),t(e))},50)}})},el=["all","d","content"],tl=function(e,t){for(var n=e.length-1;n>=0;n--){var r=e.item(n);-1===el.indexOf(r)&&t.style.setProperty(r,e.getPropertyValue(r))}return t},nl=function(e){var t="";return e&&(t+="<!DOCTYPE ",e.name&&(t+=e.name),e.internalSubset&&(t+=e.internalSubset),e.publicId&&(t+='"'+e.publicId+'"'),e.systemId&&(t+='"'+e.systemId+'"'),t+=">"),t},rl=function(e,t,n){e&&e.defaultView&&(t!==e.defaultView.pageXOffset||n!==e.defaultView.pageYOffset)&&e.defaultView.scrollTo(t,n)},sl=function(e){var t=e[0],n=e[1],r=e[2];t.scrollLeft=n,t.scrollTop=r},al=":before",il=":after",ol="___html2canvas___pseudoelement_before",ll="___html2canvas___pseudoelement_after",cl='{\n    content: "" !important;\n    display: none !important;\n}',dl=function(e){ul(e,"."+ol+al+cl+"\n         ."+ll+il+cl)},ul=function(e,t){var n=e.ownerDocument;if(n){var r=n.createElement("style");r.textContent=t,e.appendChild(r)}},hl=function(){function e(){}return e.getOrigin=function(t){var n=e._link;return n?(n.href=t,n.href=n.href,n.protocol+n.hostname+n.port):"about:blank"},e.isSameOrigin=function(t){return e.getOrigin(t)===e._origin},e.setContext=function(t){e._link=t.document.createElement("a"),e._origin=e.getOrigin(t.location.href)},e._origin="about:blank",e}(),Al=function(){function e(e,t){this.context=e,this._options=t,this._cache={}}return e.prototype.addImage=function(e){var t=Promise.resolve();return this.has(e)?t:yl(e)||gl(e)?((this._cache[e]=this.loadImage(e)).catch(function(){}),t):t},e.prototype.match=function(e){return this._cache[e]},e.prototype.loadImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,i=this;return s(this,function(s){switch(s.label){case 0:return t=hl.isSameOrigin(e),n=!xl(e)&&!0===this._options.useCORS&&Ni.SUPPORT_CORS_IMAGES&&!t,r=!xl(e)&&!t&&!yl(e)&&"string"===typeof this._options.proxy&&Ni.SUPPORT_CORS_XHR&&!n,t||!1!==this._options.allowTaint||xl(e)||yl(e)||r||n?(a=e,r?[4,this.proxy(a)]:[3,2]):[2];case 1:a=s.sent(),s.label=2;case 2:return this.context.logger.debug("Added image "+e.substring(0,256)),[4,new Promise(function(e,t){var r=new Image;r.onload=function(){return e(r)},r.onerror=t,(bl(a)||n)&&(r.crossOrigin="anonymous"),r.src=a,!0===r.complete&&setTimeout(function(){return e(r)},500),i._options.imageTimeout>0&&setTimeout(function(){return t("Timed out ("+i._options.imageTimeout+"ms) loading image")},i._options.imageTimeout)})];case 3:return[2,s.sent()]}})})},e.prototype.has=function(e){return"undefined"!==typeof this._cache[e]},e.prototype.keys=function(){return Promise.resolve(Object.keys(this._cache))},e.prototype.proxy=function(e){var t=this,n=this._options.proxy;if(!n)throw new Error("No proxy defined");var r=e.substring(0,256);return new Promise(function(s,a){var i=Ni.SUPPORT_RESPONSE_TYPE?"blob":"text",o=new XMLHttpRequest;o.onload=function(){if(200===o.status)if("text"===i)s(o.response);else{var e=new FileReader;e.addEventListener("load",function(){return s(e.result)},!1),e.addEventListener("error",function(e){return a(e)},!1),e.readAsDataURL(o.response)}else a("Failed to proxy resource "+r+" with status code "+o.status)},o.onerror=a;var l=n.indexOf("?")>-1?"&":"?";if(o.open("GET",""+n+l+"url="+encodeURIComponent(e)+"&responseType="+i),"text"!==i&&o instanceof XMLHttpRequest&&(o.responseType=i),t._options.imageTimeout){var c=t._options.imageTimeout;o.timeout=c,o.ontimeout=function(){return a("Timed out ("+c+"ms) proxying "+r)}}o.send()})},e}(),fl=/^data:image\/svg\+xml/i,ml=/^data:image\/.*;base64,/i,pl=/^data:image\/.*/i,gl=function(e){return Ni.SUPPORT_SVG_DRAWING||!vl(e)},xl=function(e){return pl.test(e)},bl=function(e){return ml.test(e)},yl=function(e){return"blob"===e.substr(0,4)},vl=function(e){return"svg"===e.substr(-3).toLowerCase()||fl.test(e)},wl=function(){function e(e,t){this.type=0,this.x=e,this.y=t}return e.prototype.add=function(t,n){return new e(this.x+t,this.y+n)},e}(),jl=function(e,t,n){return new wl(e.x+(t.x-e.x)*n,e.y+(t.y-e.y)*n)},Nl=function(){function e(e,t,n,r){this.type=1,this.start=e,this.startControl=t,this.endControl=n,this.end=r}return e.prototype.subdivide=function(t,n){var r=jl(this.start,this.startControl,t),s=jl(this.startControl,this.endControl,t),a=jl(this.endControl,this.end,t),i=jl(r,s,t),o=jl(s,a,t),l=jl(i,o,t);return n?new e(this.start,r,i,l):new e(l,o,a,this.end)},e.prototype.add=function(t,n){return new e(this.start.add(t,n),this.startControl.add(t,n),this.endControl.add(t,n),this.end.add(t,n))},e.prototype.reverse=function(){return new e(this.end,this.endControl,this.startControl,this.start)},e}(),_l=function(e){return 1===e.type},Cl=function(){function e(e){var t=e.styles,n=e.bounds,r=Vn(t.borderTopLeftRadius,n.width,n.height),s=r[0],a=r[1],i=Vn(t.borderTopRightRadius,n.width,n.height),o=i[0],l=i[1],c=Vn(t.borderBottomRightRadius,n.width,n.height),d=c[0],u=c[1],h=Vn(t.borderBottomLeftRadius,n.width,n.height),A=h[0],f=h[1],m=[];m.push((s+o)/n.width),m.push((A+d)/n.width),m.push((a+f)/n.height),m.push((l+u)/n.height);var p=Math.max.apply(Math,m);p>1&&(s/=p,a/=p,o/=p,l/=p,d/=p,u/=p,A/=p,f/=p);var g=n.width-o,x=n.height-u,b=n.width-d,y=n.height-f,v=t.borderTopWidth,w=t.borderRightWidth,j=t.borderBottomWidth,N=t.borderLeftWidth,_=qn(t.paddingTop,e.bounds.width),C=qn(t.paddingRight,e.bounds.width),S=qn(t.paddingBottom,e.bounds.width),k=qn(t.paddingLeft,e.bounds.width);this.topLeftBorderDoubleOuterBox=s>0||a>0?Sl(n.left+N/3,n.top+v/3,s-N/3,a-v/3,Yo.TOP_LEFT):new wl(n.left+N/3,n.top+v/3),this.topRightBorderDoubleOuterBox=s>0||a>0?Sl(n.left+g,n.top+v/3,o-w/3,l-v/3,Yo.TOP_RIGHT):new wl(n.left+n.width-w/3,n.top+v/3),this.bottomRightBorderDoubleOuterBox=d>0||u>0?Sl(n.left+b,n.top+x,d-w/3,u-j/3,Yo.BOTTOM_RIGHT):new wl(n.left+n.width-w/3,n.top+n.height-j/3),this.bottomLeftBorderDoubleOuterBox=A>0||f>0?Sl(n.left+N/3,n.top+y,A-N/3,f-j/3,Yo.BOTTOM_LEFT):new wl(n.left+N/3,n.top+n.height-j/3),this.topLeftBorderDoubleInnerBox=s>0||a>0?Sl(n.left+2*N/3,n.top+2*v/3,s-2*N/3,a-2*v/3,Yo.TOP_LEFT):new wl(n.left+2*N/3,n.top+2*v/3),this.topRightBorderDoubleInnerBox=s>0||a>0?Sl(n.left+g,n.top+2*v/3,o-2*w/3,l-2*v/3,Yo.TOP_RIGHT):new wl(n.left+n.width-2*w/3,n.top+2*v/3),this.bottomRightBorderDoubleInnerBox=d>0||u>0?Sl(n.left+b,n.top+x,d-2*w/3,u-2*j/3,Yo.BOTTOM_RIGHT):new wl(n.left+n.width-2*w/3,n.top+n.height-2*j/3),this.bottomLeftBorderDoubleInnerBox=A>0||f>0?Sl(n.left+2*N/3,n.top+y,A-2*N/3,f-2*j/3,Yo.BOTTOM_LEFT):new wl(n.left+2*N/3,n.top+n.height-2*j/3),this.topLeftBorderStroke=s>0||a>0?Sl(n.left+N/2,n.top+v/2,s-N/2,a-v/2,Yo.TOP_LEFT):new wl(n.left+N/2,n.top+v/2),this.topRightBorderStroke=s>0||a>0?Sl(n.left+g,n.top+v/2,o-w/2,l-v/2,Yo.TOP_RIGHT):new wl(n.left+n.width-w/2,n.top+v/2),this.bottomRightBorderStroke=d>0||u>0?Sl(n.left+b,n.top+x,d-w/2,u-j/2,Yo.BOTTOM_RIGHT):new wl(n.left+n.width-w/2,n.top+n.height-j/2),this.bottomLeftBorderStroke=A>0||f>0?Sl(n.left+N/2,n.top+y,A-N/2,f-j/2,Yo.BOTTOM_LEFT):new wl(n.left+N/2,n.top+n.height-j/2),this.topLeftBorderBox=s>0||a>0?Sl(n.left,n.top,s,a,Yo.TOP_LEFT):new wl(n.left,n.top),this.topRightBorderBox=o>0||l>0?Sl(n.left+g,n.top,o,l,Yo.TOP_RIGHT):new wl(n.left+n.width,n.top),this.bottomRightBorderBox=d>0||u>0?Sl(n.left+b,n.top+x,d,u,Yo.BOTTOM_RIGHT):new wl(n.left+n.width,n.top+n.height),this.bottomLeftBorderBox=A>0||f>0?Sl(n.left,n.top+y,A,f,Yo.BOTTOM_LEFT):new wl(n.left,n.top+n.height),this.topLeftPaddingBox=s>0||a>0?Sl(n.left+N,n.top+v,Math.max(0,s-N),Math.max(0,a-v),Yo.TOP_LEFT):new wl(n.left+N,n.top+v),this.topRightPaddingBox=o>0||l>0?Sl(n.left+Math.min(g,n.width-w),n.top+v,g>n.width+w?0:Math.max(0,o-w),Math.max(0,l-v),Yo.TOP_RIGHT):new wl(n.left+n.width-w,n.top+v),this.bottomRightPaddingBox=d>0||u>0?Sl(n.left+Math.min(b,n.width-N),n.top+Math.min(x,n.height-j),Math.max(0,d-w),Math.max(0,u-j),Yo.BOTTOM_RIGHT):new wl(n.left+n.width-w,n.top+n.height-j),this.bottomLeftPaddingBox=A>0||f>0?Sl(n.left+N,n.top+Math.min(y,n.height-j),Math.max(0,A-N),Math.max(0,f-j),Yo.BOTTOM_LEFT):new wl(n.left+N,n.top+n.height-j),this.topLeftContentBox=s>0||a>0?Sl(n.left+N+k,n.top+v+_,Math.max(0,s-(N+k)),Math.max(0,a-(v+_)),Yo.TOP_LEFT):new wl(n.left+N+k,n.top+v+_),this.topRightContentBox=o>0||l>0?Sl(n.left+Math.min(g,n.width+N+k),n.top+v+_,g>n.width+N+k?0:o-N+k,l-(v+_),Yo.TOP_RIGHT):new wl(n.left+n.width-(w+C),n.top+v+_),this.bottomRightContentBox=d>0||u>0?Sl(n.left+Math.min(b,n.width-(N+k)),n.top+Math.min(x,n.height+v+_),Math.max(0,d-(w+C)),u-(j+S),Yo.BOTTOM_RIGHT):new wl(n.left+n.width-(w+C),n.top+n.height-(j+S)),this.bottomLeftContentBox=A>0||f>0?Sl(n.left+N+k,n.top+y,Math.max(0,A-(N+k)),f-(j+S),Yo.BOTTOM_LEFT):new wl(n.left+N+k,n.top+n.height-(j+S))}return e}();!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.TOP_RIGHT=1]="TOP_RIGHT",e[e.BOTTOM_RIGHT=2]="BOTTOM_RIGHT",e[e.BOTTOM_LEFT=3]="BOTTOM_LEFT"}(Yo||(Yo={}));var Sl=function(e,t,n,r,s){var a=(Math.sqrt(2)-1)/3*4,i=n*a,o=r*a,l=e+n,c=t+r;switch(s){case Yo.TOP_LEFT:return new Nl(new wl(e,c),new wl(e,c-o),new wl(l-i,t),new wl(l,t));case Yo.TOP_RIGHT:return new Nl(new wl(e,t),new wl(e+i,t),new wl(l,c-o),new wl(l,c));case Yo.BOTTOM_RIGHT:return new Nl(new wl(l,t),new wl(l,t+o),new wl(e+i,c),new wl(e,c));case Yo.BOTTOM_LEFT:default:return new Nl(new wl(l,c),new wl(l-i,c),new wl(e,t+o),new wl(e,t))}},kl=function(e){return[e.topLeftBorderBox,e.topRightBorderBox,e.bottomRightBorderBox,e.bottomLeftBorderBox]},Bl=function(e){return[e.topLeftContentBox,e.topRightContentBox,e.bottomRightContentBox,e.bottomLeftContentBox]},El=function(e){return[e.topLeftPaddingBox,e.topRightPaddingBox,e.bottomRightPaddingBox,e.bottomLeftPaddingBox]},Ll=function(){function e(e,t,n){this.offsetX=e,this.offsetY=t,this.matrix=n,this.type=0,this.target=6}return e}(),Ml=function(){function e(e,t){this.path=e,this.target=t,this.type=1}return e}(),Fl=function(){function e(e){this.opacity=e,this.type=2,this.target=6}return e}(),Il=function(e){return 0===e.type},Dl=function(e){return 1===e.type},Tl=function(e){return 2===e.type},Ol=function(e,t){return e.length===t.length&&e.some(function(e,n){return e===t[n]})},Pl=function(e,t,n,r,s){return e.map(function(e,a){switch(a){case 0:return e.add(t,n);case 1:return e.add(t+r,n);case 2:return e.add(t+r,n+s);case 3:return e.add(t,n+s)}return e})},Ul=function(){function e(e){this.element=e,this.inlineLevel=[],this.nonInlineLevel=[],this.negativeZIndex=[],this.zeroOrAutoZIndexOrTransformedOrOpacity=[],this.positiveZIndex=[],this.nonPositionedFloats=[],this.nonPositionedInlineLevel=[]}return e}(),Rl=function(){function e(e,t){if(this.container=e,this.parent=t,this.effects=[],this.curves=new Cl(this.container),this.container.styles.opacity<1&&this.effects.push(new Fl(this.container.styles.opacity)),null!==this.container.styles.transform){var n=this.container.bounds.left+this.container.styles.transformOrigin[0].number,r=this.container.bounds.top+this.container.styles.transformOrigin[1].number,s=this.container.styles.transform;this.effects.push(new Ll(n,r,s))}if(0!==this.container.styles.overflowX){var a=kl(this.curves),i=El(this.curves);Ol(a,i)?this.effects.push(new Ml(a,6)):(this.effects.push(new Ml(a,2)),this.effects.push(new Ml(i,4)))}}return e.prototype.getEffects=function(e){for(var t=-1===[2,3].indexOf(this.container.styles.position),n=this.parent,r=this.effects.slice(0);n;){var s=n.effects.filter(function(e){return!Dl(e)});if(t||0!==n.container.styles.position||!n.parent){if(r.unshift.apply(r,s),t=-1===[2,3].indexOf(n.container.styles.position),0!==n.container.styles.overflowX){var a=kl(n.curves),i=El(n.curves);Ol(a,i)||r.unshift(new Ml(i,6))}}else r.unshift.apply(r,s);n=n.parent}return r.filter(function(t){return sa(t.target,e)})},e}(),Ql=function(e,t,n,r){e.container.elements.forEach(function(s){var a=sa(s.flags,4),i=sa(s.flags,2),o=new Rl(s,e);sa(s.styles.display,2048)&&r.push(o);var l=sa(s.flags,8)?[]:r;if(a||i){var c=a||s.styles.isPositioned()?n:t,d=new Ul(o);if(s.styles.isPositioned()||s.styles.opacity<1||s.styles.isTransformed()){var u=s.styles.zIndex.order;if(u<0){var h=0;c.negativeZIndex.some(function(e,t){return u>e.element.container.styles.zIndex.order?(h=t,!1):h>0}),c.negativeZIndex.splice(h,0,d)}else if(u>0){var A=0;c.positiveZIndex.some(function(e,t){return u>=e.element.container.styles.zIndex.order?(A=t+1,!1):A>0}),c.positiveZIndex.splice(A,0,d)}else c.zeroOrAutoZIndexOrTransformedOrOpacity.push(d)}else s.styles.isFloating()?c.nonPositionedFloats.push(d):c.nonPositionedInlineLevel.push(d);Ql(o,d,a?d:n,l)}else s.styles.isInlineLevel()?t.inlineLevel.push(o):t.nonInlineLevel.push(o),Ql(o,t,n,l);sa(s.flags,8)&&zl(s,l)})},zl=function(e,t){for(var n=e instanceof zi?e.start:1,r=e instanceof zi&&e.reversed,s=0;s<t.length;s++){var a=t[s];a.container instanceof Qi&&"number"===typeof a.container.value&&0!==a.container.value&&(n=a.container.value),a.listValue=Vo(n,a.container.styles.listStyleType,!0),n+=r?-1:1}},Hl=function(e){var t=new Rl(e,null),n=new Ul(t),r=[];return Ql(t,n,n,r),zl(t.container,r),n},Kl=function(e,t){switch(t){case 0:return Yl(e.topLeftBorderBox,e.topLeftPaddingBox,e.topRightBorderBox,e.topRightPaddingBox);case 1:return Yl(e.topRightBorderBox,e.topRightPaddingBox,e.bottomRightBorderBox,e.bottomRightPaddingBox);case 2:return Yl(e.bottomRightBorderBox,e.bottomRightPaddingBox,e.bottomLeftBorderBox,e.bottomLeftPaddingBox);default:return Yl(e.bottomLeftBorderBox,e.bottomLeftPaddingBox,e.topLeftBorderBox,e.topLeftPaddingBox)}},Wl=function(e,t){switch(t){case 0:return Yl(e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox,e.topRightBorderBox,e.topRightBorderDoubleOuterBox);case 1:return Yl(e.topRightBorderBox,e.topRightBorderDoubleOuterBox,e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox);case 2:return Yl(e.bottomRightBorderBox,e.bottomRightBorderDoubleOuterBox,e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox);default:return Yl(e.bottomLeftBorderBox,e.bottomLeftBorderDoubleOuterBox,e.topLeftBorderBox,e.topLeftBorderDoubleOuterBox)}},Vl=function(e,t){switch(t){case 0:return Yl(e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox,e.topRightBorderDoubleInnerBox,e.topRightPaddingBox);case 1:return Yl(e.topRightBorderDoubleInnerBox,e.topRightPaddingBox,e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox);case 2:return Yl(e.bottomRightBorderDoubleInnerBox,e.bottomRightPaddingBox,e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox);default:return Yl(e.bottomLeftBorderDoubleInnerBox,e.bottomLeftPaddingBox,e.topLeftBorderDoubleInnerBox,e.topLeftPaddingBox)}},ql=function(e,t){switch(t){case 0:return Gl(e.topLeftBorderStroke,e.topRightBorderStroke);case 1:return Gl(e.topRightBorderStroke,e.bottomRightBorderStroke);case 2:return Gl(e.bottomRightBorderStroke,e.bottomLeftBorderStroke);default:return Gl(e.bottomLeftBorderStroke,e.topLeftBorderStroke)}},Gl=function(e,t){var n=[];return _l(e)?n.push(e.subdivide(.5,!1)):n.push(e),_l(t)?n.push(t.subdivide(.5,!0)):n.push(t),n},Yl=function(e,t,n,r){var s=[];return _l(e)?s.push(e.subdivide(.5,!1)):s.push(e),_l(n)?s.push(n.subdivide(.5,!0)):s.push(n),_l(r)?s.push(r.subdivide(.5,!0).reverse()):s.push(r),_l(t)?s.push(t.subdivide(.5,!1).reverse()):s.push(t),s},Jl=function(e){var t=e.bounds,n=e.styles;return t.add(n.borderLeftWidth,n.borderTopWidth,-(n.borderRightWidth+n.borderLeftWidth),-(n.borderTopWidth+n.borderBottomWidth))},Xl=function(e){var t=e.styles,n=e.bounds,r=qn(t.paddingLeft,n.width),s=qn(t.paddingRight,n.width),a=qn(t.paddingTop,n.width),i=qn(t.paddingBottom,n.width);return n.add(r+t.borderLeftWidth,a+t.borderTopWidth,-(t.borderRightWidth+t.borderLeftWidth+r+s),-(t.borderTopWidth+t.borderBottomWidth+a+i))},Zl=function(e,t){return 0===e?t.bounds:2===e?Xl(t):Jl(t)},$l=function(e,t){return 0===e?t.bounds:2===e?Xl(t):Jl(t)},ec=function(e,t,n){var r=Zl(sc(e.styles.backgroundOrigin,t),e),s=$l(sc(e.styles.backgroundClip,t),e),a=rc(sc(e.styles.backgroundSize,t),n,r),i=a[0],o=a[1],l=Vn(sc(e.styles.backgroundPosition,t),r.width-i,r.height-o);return[ac(sc(e.styles.backgroundRepeat,t),l,a,r,s),Math.round(r.left+l[0]),Math.round(r.top+l[1]),i,o]},tc=function(e){return Fn(e)&&e.value===Tr.AUTO},nc=function(e){return"number"===typeof e},rc=function(e,t,n){var r=t[0],s=t[1],a=t[2],i=e[0],o=e[1];if(!i)return[0,0];if(Qn(i)&&o&&Qn(o))return[qn(i,n.width),qn(o,n.height)];var l=nc(a);if(Fn(i)&&(i.value===Tr.CONTAIN||i.value===Tr.COVER))return nc(a)?n.width/n.height<a!==(i.value===Tr.COVER)?[n.width,n.width/a]:[n.height*a,n.height]:[n.width,n.height];var c=nc(r),d=nc(s),u=c||d;if(tc(i)&&(!o||tc(o)))return c&&d?[r,s]:l||u?u&&l?[c?r:s*a,d?s:r/a]:[c?r:n.width,d?s:n.height]:[n.width,n.height];if(l){var h=0,A=0;return Qn(i)?h=qn(i,n.width):Qn(o)&&(A=qn(o,n.height)),tc(i)?h=A*a:o&&!tc(o)||(A=h/a),[h,A]}var f=null,m=null;if(Qn(i)?f=qn(i,n.width):o&&Qn(o)&&(m=qn(o,n.height)),null===f||o&&!tc(o)||(m=c&&d?f/r*s:n.height),null!==m&&tc(i)&&(f=c&&d?m/s*r:n.width),null!==f&&null!==m)return[f,m];throw new Error("Unable to calculate background-size for element")},sc=function(e,t){var n=e[t];return"undefined"===typeof n?e[0]:n},ac=function(e,t,n,r,s){var a=t[0],i=t[1],o=n[0],l=n[1];switch(e){case 2:return[new wl(Math.round(r.left),Math.round(r.top+i)),new wl(Math.round(r.left+r.width),Math.round(r.top+i)),new wl(Math.round(r.left+r.width),Math.round(l+r.top+i)),new wl(Math.round(r.left),Math.round(l+r.top+i))];case 3:return[new wl(Math.round(r.left+a),Math.round(r.top)),new wl(Math.round(r.left+a+o),Math.round(r.top)),new wl(Math.round(r.left+a+o),Math.round(r.height+r.top)),new wl(Math.round(r.left+a),Math.round(r.height+r.top))];case 1:return[new wl(Math.round(r.left+a),Math.round(r.top+i)),new wl(Math.round(r.left+a+o),Math.round(r.top+i)),new wl(Math.round(r.left+a+o),Math.round(r.top+i+l)),new wl(Math.round(r.left+a),Math.round(r.top+i+l))];default:return[new wl(Math.round(s.left),Math.round(s.top)),new wl(Math.round(s.left+s.width),Math.round(s.top)),new wl(Math.round(s.left+s.width),Math.round(s.height+s.top)),new wl(Math.round(s.left),Math.round(s.height+s.top))]}},ic="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",oc="Hidden Text",lc=function(){function e(e){this._data={},this._document=e}return e.prototype.parseMetrics=function(e,t){var n=this._document.createElement("div"),r=this._document.createElement("img"),s=this._document.createElement("span"),a=this._document.body;n.style.visibility="hidden",n.style.fontFamily=e,n.style.fontSize=t,n.style.margin="0",n.style.padding="0",n.style.whiteSpace="nowrap",a.appendChild(n),r.src=ic,r.width=1,r.height=1,r.style.margin="0",r.style.padding="0",r.style.verticalAlign="baseline",s.style.fontFamily=e,s.style.fontSize=t,s.style.margin="0",s.style.padding="0",s.appendChild(this._document.createTextNode(oc)),n.appendChild(s),n.appendChild(r);var i=r.offsetTop-s.offsetTop+2;n.removeChild(s),n.appendChild(this._document.createTextNode(oc)),n.style.lineHeight="normal",r.style.verticalAlign="super";var o=r.offsetTop-n.offsetTop+2;return a.removeChild(n),{baseline:i,middle:o}},e.prototype.getMetrics=function(e,t){var n=e+" "+t;return"undefined"===typeof this._data[n]&&(this._data[n]=this.parseMetrics(e,t)),this._data[n]},e}(),cc=function(){function e(e,t){this.context=e,this.options=t}return e}(),dc=1e4,uc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r._activeEffects=[],r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),n.canvas||(r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px"),r.fontMetrics=new lc(document),r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.ctx.textBaseline="bottom",r._activeEffects=[],r.context.logger.debug("Canvas renderer initialized ("+n.width+"x"+n.height+") with scale "+n.scale),r}return t(n,e),n.prototype.applyEffects=function(e){for(var t=this;this._activeEffects.length;)this.popEffect();e.forEach(function(e){return t.applyEffect(e)})},n.prototype.applyEffect=function(e){this.ctx.save(),Tl(e)&&(this.ctx.globalAlpha=e.opacity),Il(e)&&(this.ctx.translate(e.offsetX,e.offsetY),this.ctx.transform(e.matrix[0],e.matrix[1],e.matrix[2],e.matrix[3],e.matrix[4],e.matrix[5]),this.ctx.translate(-e.offsetX,-e.offsetY)),Dl(e)&&(this.path(e.path),this.ctx.clip()),this._activeEffects.push(e)},n.prototype.popEffect=function(){this._activeEffects.pop(),this.ctx.restore()},n.prototype.renderStack=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return e.element.container.styles.isVisible()?[4,this.renderStackContent(e)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},n.prototype.renderNode=function(e){return r(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return sa(e.container.flags,16),e.container.styles.isVisible()?[4,this.renderNodeBackgroundAndBorders(e)]:[3,3];case 1:return t.sent(),[4,this.renderNodeContent(e)];case 2:t.sent(),t.label=3;case 3:return[2]}})})},n.prototype.renderTextWithLetterSpacing=function(e,t,n){var r=this;0===t?this.ctx.fillText(e.text,e.bounds.left,e.bounds.top+n):Bi(e.text).reduce(function(t,s){return r.ctx.fillText(s,t,e.bounds.top+n),t+r.ctx.measureText(s).width},e.bounds.left)},n.prototype.createFontStyle=function(e){var t=e.fontVariant.filter(function(e){return"normal"===e||"small-caps"===e}).join(""),n=pc(e.fontFamily).join(", "),r=Ln(e.fontSize)?""+e.fontSize.number+e.fontSize.unit:e.fontSize.number+"px";return[[e.fontStyle,t,e.fontWeight,r,n].join(" "),n,r]},n.prototype.renderTextNode=function(e,t){return r(this,void 0,void 0,function(){var n,r,a,i,o,l,c,d,u=this;return s(this,function(s){return n=this.createFontStyle(t),r=n[0],a=n[1],i=n[2],this.ctx.font=r,this.ctx.direction=1===t.direction?"rtl":"ltr",this.ctx.textAlign="left",this.ctx.textBaseline="alphabetic",o=this.fontMetrics.getMetrics(a,i),l=o.baseline,c=o.middle,d=t.paintOrder,e.textBounds.forEach(function(e){d.forEach(function(n){switch(n){case 0:u.ctx.fillStyle=sr(t.color),u.renderTextWithLetterSpacing(e,t.letterSpacing,l);var r=t.textShadow;r.length&&e.text.trim().length&&(r.slice(0).reverse().forEach(function(n){u.ctx.shadowColor=sr(n.color),u.ctx.shadowOffsetX=n.offsetX.number*u.options.scale,u.ctx.shadowOffsetY=n.offsetY.number*u.options.scale,u.ctx.shadowBlur=n.blur.number,u.renderTextWithLetterSpacing(e,t.letterSpacing,l)}),u.ctx.shadowColor="",u.ctx.shadowOffsetX=0,u.ctx.shadowOffsetY=0,u.ctx.shadowBlur=0),t.textDecorationLine.length&&(u.ctx.fillStyle=sr(t.textDecorationColor||t.color),t.textDecorationLine.forEach(function(t){switch(t){case 1:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top+l),e.bounds.width,1);break;case 2:u.ctx.fillRect(e.bounds.left,Math.round(e.bounds.top),e.bounds.width,1);break;case 3:u.ctx.fillRect(e.bounds.left,Math.ceil(e.bounds.top+c),e.bounds.width,1)}}));break;case 1:t.webkitTextStrokeWidth&&e.text.trim().length&&(u.ctx.strokeStyle=sr(t.webkitTextStrokeColor),u.ctx.lineWidth=t.webkitTextStrokeWidth,u.ctx.lineJoin=window.chrome?"miter":"round",u.ctx.strokeText(e.text,e.bounds.left,e.bounds.top+l)),u.ctx.strokeStyle="",u.ctx.lineWidth=0,u.ctx.lineJoin="miter"}})}),[2]})})},n.prototype.renderReplacedElement=function(e,t,n){if(n&&e.intrinsicWidth>0&&e.intrinsicHeight>0){var r=Xl(e),s=El(t);this.path(s),this.ctx.save(),this.ctx.clip(),this.ctx.drawImage(n,0,0,e.intrinsicWidth,e.intrinsicHeight,r.left,r.top,r.width,r.height),this.ctx.restore()}},n.prototype.renderNodeContent=function(e){return r(this,void 0,void 0,function(){var t,r,a,o,l,c,d,u,h,A,f,m,p,g,x,b,y,v;return s(this,function(s){switch(s.label){case 0:this.applyEffects(e.getEffects(4)),t=e.container,r=e.curves,a=t.styles,o=0,l=t.textNodes,s.label=1;case 1:return o<l.length?(c=l[o],[4,this.renderTextNode(c,a)]):[3,4];case 2:s.sent(),s.label=3;case 3:return o++,[3,1];case 4:if(!(t instanceof Pi))return[3,8];s.label=5;case 5:return s.trys.push([5,7,,8]),[4,this.context.cache.match(t.src)];case 6:return x=s.sent(),this.renderReplacedElement(t,r,x),[3,8];case 7:return s.sent(),this.context.logger.error("Error loading image "+t.src),[3,8];case 8:if(t instanceof Ui&&this.renderReplacedElement(t,r,t.canvas),!(t instanceof Ri))return[3,12];s.label=9;case 9:return s.trys.push([9,11,,12]),[4,this.context.cache.match(t.svg)];case 10:return x=s.sent(),this.renderReplacedElement(t,r,x),[3,12];case 11:return s.sent(),this.context.logger.error("Error loading svg "+t.svg.substring(0,255)),[3,12];case 12:return t instanceof eo&&t.tree?[4,new n(this.context,{scale:this.options.scale,backgroundColor:t.backgroundColor,x:0,y:0,width:t.width,height:t.height}).render(t.tree)]:[3,14];case 13:d=s.sent(),t.width&&t.height&&this.ctx.drawImage(d,0,0,t.width,t.height,t.bounds.left,t.bounds.top,t.bounds.width,t.bounds.height),s.label=14;case 14:if(t instanceof Xi&&(u=Math.min(t.bounds.width,t.bounds.height),t.type===qi?t.checked&&(this.ctx.save(),this.path([new wl(t.bounds.left+.39363*u,t.bounds.top+.79*u),new wl(t.bounds.left+.16*u,t.bounds.top+.5549*u),new wl(t.bounds.left+.27347*u,t.bounds.top+.44071*u),new wl(t.bounds.left+.39694*u,t.bounds.top+.5649*u),new wl(t.bounds.left+.72983*u,t.bounds.top+.23*u),new wl(t.bounds.left+.84*u,t.bounds.top+.34085*u),new wl(t.bounds.left+.39363*u,t.bounds.top+.79*u)]),this.ctx.fillStyle=sr(Ji),this.ctx.fill(),this.ctx.restore()):t.type===Gi&&t.checked&&(this.ctx.save(),this.ctx.beginPath(),this.ctx.arc(t.bounds.left+u/2,t.bounds.top+u/2,u/4,0,2*Math.PI,!0),this.ctx.fillStyle=sr(Ji),this.ctx.fill(),this.ctx.restore())),hc(t)&&t.value.length){switch(h=this.createFontStyle(a),y=h[0],A=h[1],f=this.fontMetrics.getMetrics(y,A).baseline,this.ctx.font=y,this.ctx.fillStyle=sr(a.color),this.ctx.textBaseline="alphabetic",this.ctx.textAlign=fc(t.styles.textAlign),v=Xl(t),m=0,t.styles.textAlign){case 1:m+=v.width/2;break;case 2:m+=v.width}p=v.add(m,0,0,-v.height/2+1),this.ctx.save(),this.path([new wl(v.left,v.top),new wl(v.left+v.width,v.top),new wl(v.left+v.width,v.top+v.height),new wl(v.left,v.top+v.height)]),this.ctx.clip(),this.renderTextWithLetterSpacing(new _i(t.value,p),a.letterSpacing,f),this.ctx.restore(),this.ctx.textBaseline="alphabetic",this.ctx.textAlign="left"}if(!sa(t.styles.display,2048))return[3,20];if(null===t.styles.listStyleImage)return[3,19];if(0!==(g=t.styles.listStyleImage).type)return[3,18];x=void 0,b=g.url,s.label=15;case 15:return s.trys.push([15,17,,18]),[4,this.context.cache.match(b)];case 16:return x=s.sent(),this.ctx.drawImage(x,t.bounds.left-(x.width+10),t.bounds.top),[3,18];case 17:return s.sent(),this.context.logger.error("Error loading list-style-image "+b),[3,18];case 18:return[3,20];case 19:e.listValue&&-1!==t.styles.listStyleType&&(y=this.createFontStyle(a)[0],this.ctx.font=y,this.ctx.fillStyle=sr(a.color),this.ctx.textBaseline="middle",this.ctx.textAlign="right",v=new i(t.bounds.left,t.bounds.top+qn(t.styles.paddingTop,t.bounds.width),t.bounds.width,vs(a.lineHeight,a.fontSize.number)/2+1),this.renderTextWithLetterSpacing(new _i(e.listValue,v),a.letterSpacing,vs(a.lineHeight,a.fontSize.number)/2+2),this.ctx.textBaseline="bottom",this.ctx.textAlign="left"),s.label=20;case 20:return[2]}})})},n.prototype.renderStackContent=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,i,o,l,c,d,u,h,A,f,m,p;return s(this,function(s){switch(s.label){case 0:return sa(e.element.container.flags,16),[4,this.renderNodeBackgroundAndBorders(e.element)];case 1:s.sent(),t=0,n=e.negativeZIndex,s.label=2;case 2:return t<n.length?(p=n[t],[4,this.renderStack(p)]):[3,5];case 3:s.sent(),s.label=4;case 4:return t++,[3,2];case 5:return[4,this.renderNodeContent(e.element)];case 6:s.sent(),r=0,a=e.nonInlineLevel,s.label=7;case 7:return r<a.length?(p=a[r],[4,this.renderNode(p)]):[3,10];case 8:s.sent(),s.label=9;case 9:return r++,[3,7];case 10:i=0,o=e.nonPositionedFloats,s.label=11;case 11:return i<o.length?(p=o[i],[4,this.renderStack(p)]):[3,14];case 12:s.sent(),s.label=13;case 13:return i++,[3,11];case 14:l=0,c=e.nonPositionedInlineLevel,s.label=15;case 15:return l<c.length?(p=c[l],[4,this.renderStack(p)]):[3,18];case 16:s.sent(),s.label=17;case 17:return l++,[3,15];case 18:d=0,u=e.inlineLevel,s.label=19;case 19:return d<u.length?(p=u[d],[4,this.renderNode(p)]):[3,22];case 20:s.sent(),s.label=21;case 21:return d++,[3,19];case 22:h=0,A=e.zeroOrAutoZIndexOrTransformedOrOpacity,s.label=23;case 23:return h<A.length?(p=A[h],[4,this.renderStack(p)]):[3,26];case 24:s.sent(),s.label=25;case 25:return h++,[3,23];case 26:f=0,m=e.positiveZIndex,s.label=27;case 27:return f<m.length?(p=m[f],[4,this.renderStack(p)]):[3,30];case 28:s.sent(),s.label=29;case 29:return f++,[3,27];case 30:return[2]}})})},n.prototype.mask=function(e){this.ctx.beginPath(),this.ctx.moveTo(0,0),this.ctx.lineTo(this.canvas.width,0),this.ctx.lineTo(this.canvas.width,this.canvas.height),this.ctx.lineTo(0,this.canvas.height),this.ctx.lineTo(0,0),this.formatPath(e.slice(0).reverse()),this.ctx.closePath()},n.prototype.path=function(e){this.ctx.beginPath(),this.formatPath(e),this.ctx.closePath()},n.prototype.formatPath=function(e){var t=this;e.forEach(function(e,n){var r=_l(e)?e.start:e;0===n?t.ctx.moveTo(r.x,r.y):t.ctx.lineTo(r.x,r.y),_l(e)&&t.ctx.bezierCurveTo(e.startControl.x,e.startControl.y,e.endControl.x,e.endControl.y,e.end.x,e.end.y)})},n.prototype.renderRepeat=function(e,t,n,r){this.path(e),this.ctx.fillStyle=t,this.ctx.translate(n,r),this.ctx.fill(),this.ctx.translate(-n,-r)},n.prototype.resizeImage=function(e,t,n){var r;if(e.width===t&&e.height===n)return e;var s=(null!==(r=this.canvas.ownerDocument)&&void 0!==r?r:document).createElement("canvas");return s.width=Math.max(1,t),s.height=Math.max(1,n),s.getContext("2d").drawImage(e,0,0,e.width,e.height,0,0,t,n),s},n.prototype.renderBackgroundImage=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,i,o;return s(this,function(l){switch(l.label){case 0:t=e.styles.backgroundImage.length-1,n=function(n){var a,i,o,l,c,d,u,h,A,f,m,p,g,x,b,y,v,w,j,N,_,C,S,k,B,E,L,M,F,I,D;return s(this,function(s){switch(s.label){case 0:if(0!==n.type)return[3,5];a=void 0,i=n.url,s.label=1;case 1:return s.trys.push([1,3,,4]),[4,r.context.cache.match(i)];case 2:return a=s.sent(),[3,4];case 3:return s.sent(),r.context.logger.error("Error loading background-image "+i),[3,4];case 4:return a&&(o=ec(e,t,[a.width,a.height,a.width/a.height]),y=o[0],C=o[1],S=o[2],j=o[3],N=o[4],x=r.ctx.createPattern(r.resizeImage(a,j,N),"repeat"),r.renderRepeat(y,x,C,S)),[3,6];case 5:Mr(n)?(l=ec(e,t,[null,null,null]),y=l[0],C=l[1],S=l[2],j=l[3],N=l[4],c=xr(n.angle,j,N),d=c[0],u=c[1],h=c[2],A=c[3],f=c[4],(m=document.createElement("canvas")).width=j,m.height=N,p=m.getContext("2d"),g=p.createLinearGradient(u,A,h,f),pr(n.stops,d).forEach(function(e){return g.addColorStop(e.stop,sr(e.color))}),p.fillStyle=g,p.fillRect(0,0,j,N),j>0&&N>0&&(x=r.ctx.createPattern(m,"repeat"),r.renderRepeat(y,x,C,S))):Fr(n)&&(b=ec(e,t,[null,null,null]),y=b[0],v=b[1],w=b[2],j=b[3],N=b[4],_=0===n.position.length?[Kn]:n.position,C=qn(_[0],j),S=qn(_[_.length-1],N),k=vr(n,C,S,j,N),B=k[0],E=k[1],B>0&&E>0&&(L=r.ctx.createRadialGradient(v+C,w+S,0,v+C,w+S,B),pr(n.stops,2*B).forEach(function(e){return L.addColorStop(e.stop,sr(e.color))}),r.path(y),r.ctx.fillStyle=L,B!==E?(M=e.bounds.left+.5*e.bounds.width,F=e.bounds.top+.5*e.bounds.height,D=1/(I=E/B),r.ctx.save(),r.ctx.translate(M,F),r.ctx.transform(1,0,0,I,0,0),r.ctx.translate(-M,-F),r.ctx.fillRect(v,D*(w-F)+F,j,N*D),r.ctx.restore()):r.ctx.fill())),s.label=6;case 6:return t--,[2]}})},r=this,a=0,i=e.styles.backgroundImage.slice(0).reverse(),l.label=1;case 1:return a<i.length?(o=i[a],[5,n(o)]):[3,4];case 2:l.sent(),l.label=3;case 3:return a++,[3,1];case 4:return[2]}})})},n.prototype.renderSolidBorder=function(e,t,n){return r(this,void 0,void 0,function(){return s(this,function(r){return this.path(Kl(n,t)),this.ctx.fillStyle=sr(e),this.ctx.fill(),[2]})})},n.prototype.renderDoubleBorder=function(e,t,n,a){return r(this,void 0,void 0,function(){var r,i;return s(this,function(s){switch(s.label){case 0:return t<3?[4,this.renderSolidBorder(e,n,a)]:[3,2];case 1:return s.sent(),[2];case 2:return r=Wl(a,n),this.path(r),this.ctx.fillStyle=sr(e),this.ctx.fill(),i=Vl(a,n),this.path(i),this.ctx.fill(),[2]}})})},n.prototype.renderNodeBackgroundAndBorders=function(e){return r(this,void 0,void 0,function(){var t,n,r,a,i,o,l,c,d=this;return s(this,function(s){switch(s.label){case 0:return this.applyEffects(e.getEffects(2)),t=e.container.styles,n=!rr(t.backgroundColor)||t.backgroundImage.length,r=[{style:t.borderTopStyle,color:t.borderTopColor,width:t.borderTopWidth},{style:t.borderRightStyle,color:t.borderRightColor,width:t.borderRightWidth},{style:t.borderBottomStyle,color:t.borderBottomColor,width:t.borderBottomWidth},{style:t.borderLeftStyle,color:t.borderLeftColor,width:t.borderLeftWidth}],a=Ac(sc(t.backgroundClip,0),e.curves),n||t.boxShadow.length?(this.ctx.save(),this.path(a),this.ctx.clip(),rr(t.backgroundColor)||(this.ctx.fillStyle=sr(t.backgroundColor),this.ctx.fill()),[4,this.renderBackgroundImage(e.container)]):[3,2];case 1:s.sent(),this.ctx.restore(),t.boxShadow.slice(0).reverse().forEach(function(t){d.ctx.save();var n=kl(e.curves),r=t.inset?0:dc,s=Pl(n,-r+(t.inset?1:-1)*t.spread.number,(t.inset?1:-1)*t.spread.number,t.spread.number*(t.inset?-2:2),t.spread.number*(t.inset?-2:2));t.inset?(d.path(n),d.ctx.clip(),d.mask(s)):(d.mask(n),d.ctx.clip(),d.path(s)),d.ctx.shadowOffsetX=t.offsetX.number+r,d.ctx.shadowOffsetY=t.offsetY.number,d.ctx.shadowColor=sr(t.color),d.ctx.shadowBlur=t.blur.number,d.ctx.fillStyle=t.inset?sr(t.color):"rgba(0,0,0,1)",d.ctx.fill(),d.ctx.restore()}),s.label=2;case 2:i=0,o=0,l=r,s.label=3;case 3:return o<l.length?0!==(c=l[o]).style&&!rr(c.color)&&c.width>0?2!==c.style?[3,5]:[4,this.renderDashedDottedBorder(c.color,c.width,i,e.curves,2)]:[3,11]:[3,13];case 4:return s.sent(),[3,11];case 5:return 3!==c.style?[3,7]:[4,this.renderDashedDottedBorder(c.color,c.width,i,e.curves,3)];case 6:return s.sent(),[3,11];case 7:return 4!==c.style?[3,9]:[4,this.renderDoubleBorder(c.color,c.width,i,e.curves)];case 8:return s.sent(),[3,11];case 9:return[4,this.renderSolidBorder(c.color,i,e.curves)];case 10:s.sent(),s.label=11;case 11:i++,s.label=12;case 12:return o++,[3,3];case 13:return[2]}})})},n.prototype.renderDashedDottedBorder=function(e,t,n,a,i){return r(this,void 0,void 0,function(){var r,o,l,c,d,u,h,A,f,m,p,g,x,b,y,v;return s(this,function(s){return this.ctx.save(),r=ql(a,n),o=Kl(a,n),2===i&&(this.path(o),this.ctx.clip()),_l(o[0])?(l=o[0].start.x,c=o[0].start.y):(l=o[0].x,c=o[0].y),_l(o[1])?(d=o[1].end.x,u=o[1].end.y):(d=o[1].x,u=o[1].y),h=0===n||2===n?Math.abs(l-d):Math.abs(c-u),this.ctx.beginPath(),3===i?this.formatPath(r):this.formatPath(o.slice(0,2)),A=t<3?3*t:2*t,f=t<3?2*t:t,3===i&&(A=t,f=t),m=!0,h<=2*A?m=!1:h<=2*A+f?(A*=p=h/(2*A+f),f*=p):(g=Math.floor((h+f)/(A+f)),x=(h-g*A)/(g-1),f=(b=(h-(g+1)*A)/g)<=0||Math.abs(f-x)<Math.abs(f-b)?x:b),m&&(3===i?this.ctx.setLineDash([0,A+f]):this.ctx.setLineDash([A,f])),3===i?(this.ctx.lineCap="round",this.ctx.lineWidth=t):this.ctx.lineWidth=2*t+1.1,this.ctx.strokeStyle=sr(e),this.ctx.stroke(),this.ctx.setLineDash([]),2===i&&(_l(o[0])&&(y=o[3],v=o[0],this.ctx.beginPath(),this.formatPath([new wl(y.end.x,y.end.y),new wl(v.start.x,v.start.y)]),this.ctx.stroke()),_l(o[1])&&(y=o[1],v=o[2],this.ctx.beginPath(),this.formatPath([new wl(y.end.x,y.end.y),new wl(v.start.x,v.start.y)]),this.ctx.stroke())),this.ctx.restore(),[2]})})},n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t;return s(this,function(n){switch(n.label){case 0:return this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(this.options.x,this.options.y,this.options.width,this.options.height)),t=Hl(e),[4,this.renderStack(t)];case 1:return n.sent(),this.applyEffects([]),[2,this.canvas]}})})},n}(cc),hc=function(e){return e instanceof $i||e instanceof Zi||e instanceof Xi&&e.type!==Gi&&e.type!==qi},Ac=function(e,t){switch(e){case 0:return kl(t);case 2:return Bl(t);default:return El(t)}},fc=function(e){switch(e){case 1:return"center";case 2:return"right";default:return"left"}},mc=["-apple-system","system-ui"],pc=function(e){return/iPhone OS 15_(0|1)/.test(window.navigator.userAgent)?e.filter(function(e){return-1===mc.indexOf(e)}):e},gc=function(e){function n(t,n){var r=e.call(this,t,n)||this;return r.canvas=n.canvas?n.canvas:document.createElement("canvas"),r.ctx=r.canvas.getContext("2d"),r.options=n,r.canvas.width=Math.floor(n.width*n.scale),r.canvas.height=Math.floor(n.height*n.scale),r.canvas.style.width=n.width+"px",r.canvas.style.height=n.height+"px",r.ctx.scale(r.options.scale,r.options.scale),r.ctx.translate(-n.x,-n.y),r.context.logger.debug("EXPERIMENTAL ForeignObject renderer initialized ("+n.width+"x"+n.height+" at "+n.x+","+n.y+") with scale "+n.scale),r}return t(n,e),n.prototype.render=function(e){return r(this,void 0,void 0,function(){var t,n;return s(this,function(r){switch(r.label){case 0:return t=wi(this.options.width*this.options.scale,this.options.height*this.options.scale,this.options.scale,this.options.scale,e),[4,xc(t)];case 1:return n=r.sent(),this.options.backgroundColor&&(this.ctx.fillStyle=sr(this.options.backgroundColor),this.ctx.fillRect(0,0,this.options.width*this.options.scale,this.options.height*this.options.scale)),this.ctx.drawImage(n,-this.options.x*this.options.scale,-this.options.y*this.options.scale),[2,this.canvas]}})})},n}(cc),xc=function(e){return new Promise(function(t,n){var r=new Image;r.onload=function(){t(r)},r.onerror=n,r.src="data:image/svg+xml;charset=utf-8,"+encodeURIComponent((new XMLSerializer).serializeToString(e))})},bc=function(){function e(e){var t=e.id,n=e.enabled;this.id=t,this.enabled=n,this.start=Date.now()}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.debug?console.debug.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.getTime=function(){return Date.now()-this.start},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&"undefined"!==typeof window&&window.console&&"function"===typeof console.info&&console.info.apply(console,a([this.id,this.getTime()+"ms"],e))},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.warn?console.warn.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.enabled&&("undefined"!==typeof window&&window.console&&"function"===typeof console.error?console.error.apply(console,a([this.id,this.getTime()+"ms"],e)):this.info.apply(this,e))},e.instances={},e}(),yc=function(){function e(t,n){var r;this.windowBounds=n,this.instanceName="#"+e.instanceCount++,this.logger=new bc({id:this.instanceName,enabled:t.logging}),this.cache=null!==(r=t.cache)&&void 0!==r?r:new Al(this,t)}return e.instanceCount=1,e}(),vc=function(e,t){return void 0===t&&(t={}),wc(e,t)};"undefined"!==typeof window&&hl.setContext(window);var wc=function(e,t){return r(void 0,void 0,void 0,function(){var r,a,c,d,u,h,A,f,m,p,g,x,b,y,v,w,j,N,_,C,S,k,B,E,L,M,F,I,D,T,O,P,U,R,Q,z,H,K;return s(this,function(s){switch(s.label){case 0:if(!e||"object"!==typeof e)return[2,Promise.reject("Invalid element provided as first argument")];if(!(r=e.ownerDocument))throw new Error("Element is not attached to a Document");if(!(a=r.defaultView))throw new Error("Document is not attached to a Window");return c={allowTaint:null!==(k=t.allowTaint)&&void 0!==k&&k,imageTimeout:null!==(B=t.imageTimeout)&&void 0!==B?B:15e3,proxy:t.proxy,useCORS:null!==(E=t.useCORS)&&void 0!==E&&E},d=n({logging:null===(L=t.logging)||void 0===L||L,cache:t.cache},c),u={windowWidth:null!==(M=t.windowWidth)&&void 0!==M?M:a.innerWidth,windowHeight:null!==(F=t.windowHeight)&&void 0!==F?F:a.innerHeight,scrollX:null!==(I=t.scrollX)&&void 0!==I?I:a.pageXOffset,scrollY:null!==(D=t.scrollY)&&void 0!==D?D:a.pageYOffset},h=new i(u.scrollX,u.scrollY,u.windowWidth,u.windowHeight),A=new yc(d,h),f=null!==(T=t.foreignObjectRendering)&&void 0!==T&&T,m={allowTaint:null!==(O=t.allowTaint)&&void 0!==O&&O,onclone:t.onclone,ignoreElements:t.ignoreElements,inlineImages:f,copyStyles:f},A.logger.debug("Starting document clone with size "+h.width+"x"+h.height+" scrolled to "+-h.left+","+-h.top),p=new Go(A,e,m),(g=p.clonedReferenceElement)?[4,p.toIFrame(r,h)]:[2,Promise.reject("Unable to find element in cloned iframe")];case 1:return x=s.sent(),b=go(g)||mo(g)?l(g.ownerDocument):o(A,g),y=b.width,v=b.height,w=b.left,j=b.top,N=jc(A,g,t.backgroundColor),_={canvas:t.canvas,backgroundColor:N,scale:null!==(U=null!==(P=t.scale)&&void 0!==P?P:a.devicePixelRatio)&&void 0!==U?U:1,x:(null!==(R=t.x)&&void 0!==R?R:0)+w,y:(null!==(Q=t.y)&&void 0!==Q?Q:0)+j,width:null!==(z=t.width)&&void 0!==z?z:Math.ceil(y),height:null!==(H=t.height)&&void 0!==H?H:Math.ceil(v)},f?(A.logger.debug("Document cloned, using foreign object rendering"),[4,new gc(A,_).render(g)]):[3,3];case 2:return C=s.sent(),[3,5];case 3:return A.logger.debug("Document cloned, element located at "+w+","+j+" with size "+y+"x"+v+" using computed rendering"),A.logger.debug("Starting DOM parsing"),S=so(A,g),N===S.styles.backgroundColor&&(S.styles.backgroundColor=hr.TRANSPARENT),A.logger.debug("Starting renderer for element at "+_.x+","+_.y+" with size "+_.width+"x"+_.height),[4,new uc(A,_).render(S)];case 4:C=s.sent(),s.label=5;case 5:return(null===(K=t.removeContainer)||void 0===K||K)&&(Go.destroy(x)||A.logger.error("Cannot detach cloned iframe as it is not in the DOM anymore")),A.logger.debug("Finished rendering"),[2,C]}})})},jc=function(e,t,n){var r=t.ownerDocument,s=r.documentElement?ur(e,getComputedStyle(r.documentElement).backgroundColor):hr.TRANSPARENT,a=r.body?ur(e,getComputedStyle(r.body).backgroundColor):hr.TRANSPARENT,i="string"===typeof n?ur(e,n):null===n?hr.TRANSPARENT:4294967295;return t===r.documentElement?rr(s)?rr(a)?i:a:s:i};return vc}()},5311:(e,t,n)=>{"use strict";var r=n(1320),s=n(3422),a=n(6415),i=r.Repeat;e.exports=function(e,t,n,r){t.isCollapsed()||a(!1);var o=null;if(null!=n&&(o=n.length),null==o||0===o)return e;var l=e.getBlockMap(),c=t.getStartKey(),d=t.getStartOffset(),u=l.get(c),h=u.getText(),A=u.merge({text:h.slice(0,d)+n+h.slice(d,u.getLength()),characterList:s(u.getCharacterList(),i(r,o).toList(),d)}),f=d+o;return e.merge({blockMap:l.set(c,A),selectionAfter:t.merge({anchorOffset:f,focusOffset:f})})}},5401:(e,t,n)=>{"use strict";var r=n(3935),s=n(5763),a=n(4414),i=n(6283),o=n(4923),l=n(6143),c=n(2124),d=n(4909),u=n(7809),h=n(5036),A=n(8691),f=l.isBrowser("IE"),m=!1,p=!1,g=null;var x={onCompositionStart:function(e){p=!0,function(e){g||(g=new r(d(e))).start()}(e)},onCompositionEnd:function(e){m=!1,p=!1,setTimeout(function(){m||x.resolveComposition(e)},20)},onSelect:c,onKeyDown:function(e,t){if(!p)return x.resolveComposition(e),void e._onKeyDown(t);t.which!==o.RIGHT&&t.which!==o.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===o.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!p){var t=A(g).stopAndFlushMutations();g=null,m=!0;var n=i.set(e._latestEditorState,{inCompositionMode:!1});if(e.exitCurrentMode(),t.size){var r=n.getCurrentContent();t.forEach(function(e,t){var o=a.decode(t),l=o.blockKey,c=o.decoratorKey,d=o.leafKey,u=n.getBlockTree(l).getIn([c,"leaves",d]),A=u.start,f=u.end,m=n.getSelection().merge({anchorKey:l,focusKey:l,anchorOffset:A,focusOffset:f,isBackward:!1}),p=h(r,m),g=r.getBlockForKey(l).getInlineStyleAt(A);r=s.replaceText(r,m,e,g,p),n=i.set(n,{currentContent:r})});var o=u(n,d(e)).selectionState;e.restoreEditorDOM();var l=f?i.forceSelection(n,o):i.acceptSelection(n,o);e.update(i.push(l,r,"insert-characters"))}else e.update(n)}}};e.exports=x},5628:e=>{"use strict";function t(){var e;return document.documentElement&&(e=document.documentElement.clientWidth),!e&&document.body&&(e=document.body.clientWidth),e||0}function n(){var e;return document.documentElement&&(e=document.documentElement.clientHeight),!e&&document.body&&(e=document.body.clientHeight),e||0}function r(){return{width:window.innerWidth||t(),height:window.innerHeight||n()}}r.withoutScrollbars=function(){return{width:t(),height:n()}},e.exports=r},5638:(e,t,n)=>{"use strict";var r=n(6559),s=n(5791),a=n(1320),i=(a.List,a.Map),o=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},l=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var s=r.getParentKey();s&&n.push(s),r=s?t.get(s):null}return n},c=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},d=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},u=function(e,t,n,r){return e.withMutations(function(a){if(o(t.getKey(),a,function(e){return e.merge({nextSibling:c(e,a,r),prevSibling:d(e,a,r)})}),o(n.getKey(),a,function(e){return e.merge({nextSibling:c(e,a,r),prevSibling:d(e,a,r)})}),l(t.getKey(),r).forEach(function(e){return o(e,a,function(e){return e.merge({children:e.getChildKeys().filter(function(e){return a.get(e)}),nextSibling:c(e,a,r),prevSibling:d(e,a,r)})})}),o(t.getNextSiblingKey(),a,function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})}),o(t.getPrevSiblingKey(),a,function(e){return e.merge({nextSibling:c(e,a,r)})}),o(n.getNextSiblingKey(),a,function(e){return e.merge({prevSibling:d(e,a,r)})}),o(n.getPrevSiblingKey(),a,function(e){return e.merge({nextSibling:n.getNextSiblingKey()})}),l(n.getKey(),r).forEach(function(e){o(e,a,function(e){return e.merge({children:e.getChildKeys().filter(function(e){return a.get(e)}),nextSibling:c(e,a,r),prevSibling:d(e,a,r)})})}),function(e,t){var n=[];if(!e)return n;for(var r=s(e,t);r&&t.get(r);){var a=t.get(r);n.push(r),r=a.getParentKey()?s(a,t):null}return n}(n,r).forEach(function(e){return o(e,a,function(e){return e.merge({nextSibling:c(e,a,r),prevSibling:d(e,a,r)})})}),null==e.get(t.getKey())&&null!=e.get(n.getKey())&&n.getParentKey()===t.getKey()&&null==n.getPrevSiblingKey()){var i=t.getPrevSiblingKey();o(n.getKey(),a,function(e){return e.merge({prevSibling:i})}),o(i,a,function(e){return e.merge({nextSibling:n.getKey()})});var u=i?e.get(i):null,h=u?u.getParentKey():null;if(t.getChildKeys().forEach(function(e){o(e,a,function(e){return e.merge({parent:h})})}),null!=h){var A=e.get(h);o(h,a,function(e){return e.merge({children:A.getChildKeys().concat(t.getChildKeys())})})}o(t.getChildKeys().find(function(t){return null===e.get(t).getNextSiblingKey()}),a,function(e){return e.merge({nextSibling:t.getNextSiblingKey()})})}})},h=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),s=e.slice(n);e=r.concat(s).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n,a=e.getBlockMap(),o=t.getStartKey(),c=t.getStartOffset(),d=t.getEndKey(),A=t.getEndOffset(),f=a.get(o),m=a.get(d),p=f instanceof r,g=[];if(p){var x=m.getChildKeys(),b=l(d,a);m.getNextSiblingKey()&&(g=g.concat(b)),x.isEmpty()||(g=g.concat(b.concat([d]))),g=g.concat(l(s(m,a),a))}n=f===m?h(f.getCharacterList(),c,A):f.getCharacterList().slice(0,c).concat(m.getCharacterList().slice(A));var y=f.merge({text:f.getText().slice(0,c)+m.getText().slice(A),characterList:n}),v=p&&0===c&&0===A&&m.getParentKey()===o&&null==m.getPrevSiblingKey()?i([[o,null]]):a.toSeq().skipUntil(function(e,t){return t===o}).takeUntil(function(e,t){return t===d}).filter(function(e,t){return-1===g.indexOf(t)}).concat(i([[d,null]])).map(function(e,t){return t===o?y:null}),w=a.merge(v).filter(function(e){return!!e});return p&&f!==m&&(w=u(w,f,m,a)),e.merge({blockMap:w,selectionBefore:t,selectionAfter:t.merge({anchorKey:o,anchorOffset:c,focusKey:o,focusOffset:c,isBackward:!1})})}},5714:(e,t,n)=>{"use strict";var r=n(2123);function s(){return s=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=n(5103),i=n(4414),o=n(5043),l=n(8691),c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var c=r.prototype;return c.shouldComponentUpdate=function(e){var t=this.props.editorState,n=e.editorState;if(t.getDirectionMap()!==n.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==n.getSelection().getHasFocus())return!0;var r=n.getNativelyRenderedContent(),s=t.isInCompositionMode(),a=n.isInCompositionMode();if(t===n||null!==r&&n.getCurrentContent()===r||s&&a)return!1;var i=t.getCurrentContent(),o=n.getCurrentContent(),l=t.getDecorator(),c=n.getDecorator();return s!==a||i!==o||l!==c||n.mustForceSelection()},c.render=function(){for(var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,c=e.customStyleMap,d=e.customStyleFn,u=e.editorState,h=e.editorKey,A=e.textDirectionality,f=u.getCurrentContent(),m=u.getSelection(),p=u.mustForceSelection(),g=u.getDecorator(),x=l(u.getDirectionMap()),b=[],y=f.getBlocksAsArray()[0];y;){var v=y.getKey(),w={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,contentState:f,customStyleFn:d,customStyleMap:c,decorator:g,editorKey:h,editorState:u,forceSelection:p,selection:m,block:y,direction:A||x.get(v),tree:u.getBlockTree(v)},j=(t.get(y.getType())||t.get("unstyled")).wrapper;b.push({block:o.createElement(a,s({key:v},w)),wrapperTemplate:j,key:v,offsetKey:i.encode(v,0,0)});var N=y.getNextSiblingKey();y=N?f.getBlockForKey(N):null}for(var _=[],C=0;C<b.length;){var S=b[C];if(S.wrapperTemplate){var k=[];do{k.push(b[C].block),C++}while(C<b.length&&b[C].wrapperTemplate===S.wrapperTemplate);var B=o.cloneElement(S.wrapperTemplate,{key:S.key+"-wrap","data-offset-key":S.offsetKey},k);_.push(B)}else _.push(S.block),C++}return o.createElement("div",{"data-contents":"true"},_)},r}(o.Component);e.exports=c},5722:(e,t,n)=>{"use strict";var r=n(6283),s=n(6143);e.exports=function(e,t){var n=e._latestEditorState,a=n.getSelection();if(!a.getHasFocus()){var i=a.set("hasFocus",!0);e.props.onFocus&&e.props.onFocus(t),s.isBrowser("Chrome < 60.0.3081.0")?e.update(r.forceSelection(n,i)):e.update(r.acceptSelection(n,i))}}},5754:(e,t,n)=>{"use strict";var r=n(6415),s=/\./,a=/\|\|/,i=/\s+\-\s+/,o=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,l=/^(\d*)(.*)/;function c(e,t){var n=e.split(a);return n.length>1?n.some(function(e){return y.contains(e,t)}):function(e,t){var n=e.split(i);if(n.length>0&&n.length<=2||r(!1),1===n.length)return d(n[0],t);var s=n[0],a=n[1];return m(s)&&m(a)||r(!1),d(">="+s,t)&&d("<="+a,t)}(e=n[0].trim(),t)}function d(e,t){if(""===(e=e.trim()))return!0;var n=t.split(s),r=A(e),a=r.modifier,i=r.rangeComponents;switch(a){case"<":return u(n,i);case"<=":return function(e,t){var n=b(e,t);return-1===n||0===n}(n,i);case">=":return h(n,i);case">":return 1===b(n,i);case"~":case"~>":return function(e,t){var n=t.slice(),r=t.slice();r.length>1&&r.pop();var s=r.length-1,a=parseInt(r[s],10);f(a)&&(r[s]=a+1+"");return h(e,n)&&u(e,r)}(n,i);default:return function(e,t){return 0===b(e,t)}(n,i)}}function u(e,t){return-1===b(e,t)}function h(e,t){var n=b(e,t);return 1===n||0===n}function A(e){var t=e.split(s),n=t[0].match(o);return n||r(!1),{modifier:n[1],rangeComponents:[n[2]].concat(t.slice(1))}}function f(e){return!isNaN(e)&&isFinite(e)}function m(e){return!A(e).modifier}function p(e,t){for(var n=e.length;n<t;n++)e[n]="0"}function g(e,t){var n=e.match(l)[1],r=t.match(l)[1],s=parseInt(n,10),a=parseInt(r,10);return f(s)&&f(a)&&s!==a?x(s,a):x(e,t)}function x(e,t){return typeof e!==typeof t&&r(!1),e>t?1:e<t?-1:0}function b(e,t){for(var n=function(e,t){p(e=e.slice(),(t=t.slice()).length);for(var n=0;n<t.length;n++){var r=t[n].match(/^[x*]$/i);if(r&&(t[n]=e[n]="0","*"===r[0]&&n===t.length-1))for(var s=n;s<e.length;s++)e[s]="0"}return p(t,e.length),[e,t]}(e,t),r=n[0],s=n[1],a=0;a<s.length;a++){var i=g(r[a],s[a]);if(i)return i}return 0}var y={contains:function(e,t){return c(e.trim(),t.trim())}};e.exports=y},5763:(e,t,n)=>{"use strict";var r=n(2367),s=n(1589),a=n(3633),i=n(9639),o=n(6935),l=n(1320),c=n(3384),d=n(5311),u=n(6415),h=n(1477),A=n(9529),f=n(5638),m=n(8701),p=l.OrderedSet,g={replaceText:function(e,t,n,s,a){var i=A(e,t),o=f(i,t),l=r.create({style:s||p(),entity:a||null});return d(o,o.getSelectionAfter(),n,l)},insertText:function(e,t,n,r,s){return t.isCollapsed()||u(!1),g.replaceText(e,t,n,r,s)},moveText:function(e,t,n){var r=o(e,t),s=g.removeRange(e,t,"backward");return g.replaceWithFragment(s,n,r)},replaceWithFragment:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REPLACE_WITH_NEW_DATA",s=A(e,t),a=f(s,t);return c(a,a.getSelectionAfter(),n,r)},removeRange:function(e,t,n){var r,s,a,o;t.getIsBackward()&&(t=t.merge({anchorKey:t.getFocusKey(),anchorOffset:t.getFocusOffset(),focusKey:t.getAnchorKey(),focusOffset:t.getAnchorOffset(),isBackward:!1})),r=t.getAnchorKey(),s=t.getFocusKey(),a=e.getBlockForKey(r),o=e.getBlockForKey(s);var l=t.getStartOffset(),c=t.getEndOffset(),d=a.getEntityAt(l),u=o.getEntityAt(c-1);if(r===s&&d&&d===u){var h=i(e.getEntityMap(),a,o,t,n);return f(e,h)}var m=A(e,t);return f(m,t)},splitBlock:function(e,t){var n=A(e,t),r=f(n,t);return m(r,r.getSelectionAfter())},applyInlineStyle:function(e,t,n){return s.add(e,t,n)},removeInlineStyle:function(e,t,n){return s.remove(e,t,n)},setBlockType:function(e,t,n){return h(e,t,function(e){return e.merge({type:n,depth:0})})},setBlockData:function(e,t,n){return h(e,t,function(e){return e.merge({data:n})})},mergeBlockData:function(e,t,n){return h(e,t,function(e){return e.merge({data:e.getData().merge(n)})})},applyEntity:function(e,t,n){var r=A(e,t);return a(r,t,n)}};e.exports=g},5782:(e,t,n)=>{"use strict";var r=n(4669),s=n(6415),a="\u0590\u05be\u05c0\u05c3\u05c6\u05c8-\u05cf\u05d0-\u05ea\u05eb-\u05ef\u05f0-\u05f2\u05f3-\u05f4\u05f5-\u05ff\u07c0-\u07c9\u07ca-\u07ea\u07f4-\u07f5\u07fa\u07fb-\u07ff\u0800-\u0815\u081a\u0824\u0828\u082e-\u082f\u0830-\u083e\u083f\u0840-\u0858\u085c-\u085d\u085e\u085f-\u089f\u200f\ufb1d\ufb1f-\ufb28\ufb2a-\ufb36\ufb37\ufb38-\ufb3c\ufb3d\ufb3e\ufb3f\ufb40-\ufb41\ufb42\ufb43-\ufb44\ufb45\ufb46-\ufb4f",i="\u0608\u060b\u060d\u061b\u061c\u061d\u061e-\u061f\u0620-\u063f\u0640\u0641-\u064a\u066d\u066e-\u066f\u0671-\u06d3\u06d4\u06d5\u06e5-\u06e6\u06ee-\u06ef\u06fa-\u06fc\u06fd-\u06fe\u06ff\u0700-\u070d\u070e\u070f\u0710\u0712-\u072f\u074b-\u074c\u074d-\u07a5\u07b1\u07b2-\u07bf\u08a0-\u08b2\u08b3-\u08e3\ufb50-\ufbb1\ufbb2-\ufbc1\ufbc2-\ufbd2\ufbd3-\ufd3d\ufd40-\ufd4f\ufd50-\ufd8f\ufd90-\ufd91\ufd92-\ufdc7\ufdc8-\ufdcf\ufdf0-\ufdfb\ufdfc\ufdfe-\ufdff\ufe70-\ufe74\ufe75\ufe76-\ufefc\ufefd-\ufefe",o=new RegExp("["+"A-Za-z\xaa\xb5\xba\xc0-\xd6\xd8-\xf6\xf8-\u01ba\u01bb\u01bc-\u01bf\u01c0-\u01c3\u01c4-\u0293\u0294\u0295-\u02af\u02b0-\u02b8\u02bb-\u02c1\u02d0-\u02d1\u02e0-\u02e4\u02ee\u0370-\u0373\u0376-\u0377\u037a\u037b-\u037d\u037f\u0386\u0388-\u038a\u038c\u038e-\u03a1\u03a3-\u03f5\u03f7-\u0481\u0482\u048a-\u052f\u0531-\u0556\u0559\u055a-\u055f\u0561-\u0587\u0589\u0903\u0904-\u0939\u093b\u093d\u093e-\u0940\u0949-\u094c\u094e-\u094f\u0950\u0958-\u0961\u0964-\u0965\u0966-\u096f\u0970\u0971\u0972-\u0980\u0982-\u0983\u0985-\u098c\u098f-\u0990\u0993-\u09a8\u09aa-\u09b0\u09b2\u09b6-\u09b9\u09bd\u09be-\u09c0\u09c7-\u09c8\u09cb-\u09cc\u09ce\u09d7\u09dc-\u09dd\u09df-\u09e1\u09e6-\u09ef\u09f0-\u09f1\u09f4-\u09f9\u09fa\u0a03\u0a05-\u0a0a\u0a0f-\u0a10\u0a13-\u0a28\u0a2a-\u0a30\u0a32-\u0a33\u0a35-\u0a36\u0a38-\u0a39\u0a3e-\u0a40\u0a59-\u0a5c\u0a5e\u0a66-\u0a6f\u0a72-\u0a74\u0a83\u0a85-\u0a8d\u0a8f-\u0a91\u0a93-\u0aa8\u0aaa-\u0ab0\u0ab2-\u0ab3\u0ab5-\u0ab9\u0abd\u0abe-\u0ac0\u0ac9\u0acb-\u0acc\u0ad0\u0ae0-\u0ae1\u0ae6-\u0aef\u0af0\u0b02-\u0b03\u0b05-\u0b0c\u0b0f-\u0b10\u0b13-\u0b28\u0b2a-\u0b30\u0b32-\u0b33\u0b35-\u0b39\u0b3d\u0b3e\u0b40\u0b47-\u0b48\u0b4b-\u0b4c\u0b57\u0b5c-\u0b5d\u0b5f-\u0b61\u0b66-\u0b6f\u0b70\u0b71\u0b72-\u0b77\u0b83\u0b85-\u0b8a\u0b8e-\u0b90\u0b92-\u0b95\u0b99-\u0b9a\u0b9c\u0b9e-\u0b9f\u0ba3-\u0ba4\u0ba8-\u0baa\u0bae-\u0bb9\u0bbe-\u0bbf\u0bc1-\u0bc2\u0bc6-\u0bc8\u0bca-\u0bcc\u0bd0\u0bd7\u0be6-\u0bef\u0bf0-\u0bf2\u0c01-\u0c03\u0c05-\u0c0c\u0c0e-\u0c10\u0c12-\u0c28\u0c2a-\u0c39\u0c3d\u0c41-\u0c44\u0c58-\u0c59\u0c60-\u0c61\u0c66-\u0c6f\u0c7f\u0c82-\u0c83\u0c85-\u0c8c\u0c8e-\u0c90\u0c92-\u0ca8\u0caa-\u0cb3\u0cb5-\u0cb9\u0cbd\u0cbe\u0cbf\u0cc0-\u0cc4\u0cc6\u0cc7-\u0cc8\u0cca-\u0ccb\u0cd5-\u0cd6\u0cde\u0ce0-\u0ce1\u0ce6-\u0cef\u0cf1-\u0cf2\u0d02-\u0d03\u0d05-\u0d0c\u0d0e-\u0d10\u0d12-\u0d3a\u0d3d\u0d3e-\u0d40\u0d46-\u0d48\u0d4a-\u0d4c\u0d4e\u0d57\u0d60-\u0d61\u0d66-\u0d6f\u0d70-\u0d75\u0d79\u0d7a-\u0d7f\u0d82-\u0d83\u0d85-\u0d96\u0d9a-\u0db1\u0db3-\u0dbb\u0dbd\u0dc0-\u0dc6\u0dcf-\u0dd1\u0dd8-\u0ddf\u0de6-\u0def\u0df2-\u0df3\u0df4\u0e01-\u0e30\u0e32-\u0e33\u0e40-\u0e45\u0e46\u0e4f\u0e50-\u0e59\u0e5a-\u0e5b\u0e81-\u0e82\u0e84\u0e87-\u0e88\u0e8a\u0e8d\u0e94-\u0e97\u0e99-\u0e9f\u0ea1-\u0ea3\u0ea5\u0ea7\u0eaa-\u0eab\u0ead-\u0eb0\u0eb2-\u0eb3\u0ebd\u0ec0-\u0ec4\u0ec6\u0ed0-\u0ed9\u0edc-\u0edf\u0f00\u0f01-\u0f03\u0f04-\u0f12\u0f13\u0f14\u0f15-\u0f17\u0f1a-\u0f1f\u0f20-\u0f29\u0f2a-\u0f33\u0f34\u0f36\u0f38\u0f3e-\u0f3f\u0f40-\u0f47\u0f49-\u0f6c\u0f7f\u0f85\u0f88-\u0f8c\u0fbe-\u0fc5\u0fc7-\u0fcc\u0fce-\u0fcf\u0fd0-\u0fd4\u0fd5-\u0fd8\u0fd9-\u0fda\u1000-\u102a\u102b-\u102c\u1031\u1038\u103b-\u103c\u103f\u1040-\u1049\u104a-\u104f\u1050-\u1055\u1056-\u1057\u105a-\u105d\u1061\u1062-\u1064\u1065-\u1066\u1067-\u106d\u106e-\u1070\u1075-\u1081\u1083-\u1084\u1087-\u108c\u108e\u108f\u1090-\u1099\u109a-\u109c\u109e-\u109f\u10a0-\u10c5\u10c7\u10cd\u10d0-\u10fa\u10fb\u10fc\u10fd-\u1248\u124a-\u124d\u1250-\u1256\u1258\u125a-\u125d\u1260-\u1288\u128a-\u128d\u1290-\u12b0\u12b2-\u12b5\u12b8-\u12be\u12c0\u12c2-\u12c5\u12c8-\u12d6\u12d8-\u1310\u1312-\u1315\u1318-\u135a\u1360-\u1368\u1369-\u137c\u1380-\u138f\u13a0-\u13f4\u1401-\u166c\u166d-\u166e\u166f-\u167f\u1681-\u169a\u16a0-\u16ea\u16eb-\u16ed\u16ee-\u16f0\u16f1-\u16f8\u1700-\u170c\u170e-\u1711\u1720-\u1731\u1735-\u1736\u1740-\u1751\u1760-\u176c\u176e-\u1770\u1780-\u17b3\u17b6\u17be-\u17c5\u17c7-\u17c8\u17d4-\u17d6\u17d7\u17d8-\u17da\u17dc\u17e0-\u17e9\u1810-\u1819\u1820-\u1842\u1843\u1844-\u1877\u1880-\u18a8\u18aa\u18b0-\u18f5\u1900-\u191e\u1923-\u1926\u1929-\u192b\u1930-\u1931\u1933-\u1938\u1946-\u194f\u1950-\u196d\u1970-\u1974\u1980-\u19ab\u19b0-\u19c0\u19c1-\u19c7\u19c8-\u19c9\u19d0-\u19d9\u19da\u1a00-\u1a16\u1a19-\u1a1a\u1a1e-\u1a1f\u1a20-\u1a54\u1a55\u1a57\u1a61\u1a63-\u1a64\u1a6d-\u1a72\u1a80-\u1a89\u1a90-\u1a99\u1aa0-\u1aa6\u1aa7\u1aa8-\u1aad\u1b04\u1b05-\u1b33\u1b35\u1b3b\u1b3d-\u1b41\u1b43-\u1b44\u1b45-\u1b4b\u1b50-\u1b59\u1b5a-\u1b60\u1b61-\u1b6a\u1b74-\u1b7c\u1b82\u1b83-\u1ba0\u1ba1\u1ba6-\u1ba7\u1baa\u1bae-\u1baf\u1bb0-\u1bb9\u1bba-\u1be5\u1be7\u1bea-\u1bec\u1bee\u1bf2-\u1bf3\u1bfc-\u1bff\u1c00-\u1c23\u1c24-\u1c2b\u1c34-\u1c35\u1c3b-\u1c3f\u1c40-\u1c49\u1c4d-\u1c4f\u1c50-\u1c59\u1c5a-\u1c77\u1c78-\u1c7d\u1c7e-\u1c7f\u1cc0-\u1cc7\u1cd3\u1ce1\u1ce9-\u1cec\u1cee-\u1cf1\u1cf2-\u1cf3\u1cf5-\u1cf6\u1d00-\u1d2b\u1d2c-\u1d6a\u1d6b-\u1d77\u1d78\u1d79-\u1d9a\u1d9b-\u1dbf\u1e00-\u1f15\u1f18-\u1f1d\u1f20-\u1f45\u1f48-\u1f4d\u1f50-\u1f57\u1f59\u1f5b\u1f5d\u1f5f-\u1f7d\u1f80-\u1fb4\u1fb6-\u1fbc\u1fbe\u1fc2-\u1fc4\u1fc6-\u1fcc\u1fd0-\u1fd3\u1fd6-\u1fdb\u1fe0-\u1fec\u1ff2-\u1ff4\u1ff6-\u1ffc\u200e\u2071\u207f\u2090-\u209c\u2102\u2107\u210a-\u2113\u2115\u2119-\u211d\u2124\u2126\u2128\u212a-\u212d\u212f-\u2134\u2135-\u2138\u2139\u213c-\u213f\u2145-\u2149\u214e\u214f\u2160-\u2182\u2183-\u2184\u2185-\u2188\u2336-\u237a\u2395\u249c-\u24e9\u26ac\u2800-\u28ff\u2c00-\u2c2e\u2c30-\u2c5e\u2c60-\u2c7b\u2c7c-\u2c7d\u2c7e-\u2ce4\u2ceb-\u2cee\u2cf2-\u2cf3\u2d00-\u2d25\u2d27\u2d2d\u2d30-\u2d67\u2d6f\u2d70\u2d80-\u2d96\u2da0-\u2da6\u2da8-\u2dae\u2db0-\u2db6\u2db8-\u2dbe\u2dc0-\u2dc6\u2dc8-\u2dce\u2dd0-\u2dd6\u2dd8-\u2dde\u3005\u3006\u3007\u3021-\u3029\u302e-\u302f\u3031-\u3035\u3038-\u303a\u303b\u303c\u3041-\u3096\u309d-\u309e\u309f\u30a1-\u30fa\u30fc-\u30fe\u30ff\u3105-\u312d\u3131-\u318e\u3190-\u3191\u3192-\u3195\u3196-\u319f\u31a0-\u31ba\u31f0-\u31ff\u3200-\u321c\u3220-\u3229\u322a-\u3247\u3248-\u324f\u3260-\u327b\u327f\u3280-\u3289\u328a-\u32b0\u32c0-\u32cb\u32d0-\u32fe\u3300-\u3376\u337b-\u33dd\u33e0-\u33fe\u3400-\u4db5\u4e00-\u9fcc\ua000-\ua014\ua015\ua016-\ua48c\ua4d0-\ua4f7\ua4f8-\ua4fd\ua4fe-\ua4ff\ua500-\ua60b\ua60c\ua610-\ua61f\ua620-\ua629\ua62a-\ua62b\ua640-\ua66d\ua66e\ua680-\ua69b\ua69c-\ua69d\ua6a0-\ua6e5\ua6e6-\ua6ef\ua6f2-\ua6f7\ua722-\ua76f\ua770\ua771-\ua787\ua789-\ua78a\ua78b-\ua78e\ua790-\ua7ad\ua7b0-\ua7b1\ua7f7\ua7f8-\ua7f9\ua7fa\ua7fb-\ua801\ua803-\ua805\ua807-\ua80a\ua80c-\ua822\ua823-\ua824\ua827\ua830-\ua835\ua836-\ua837\ua840-\ua873\ua880-\ua881\ua882-\ua8b3\ua8b4-\ua8c3\ua8ce-\ua8cf\ua8d0-\ua8d9\ua8f2-\ua8f7\ua8f8-\ua8fa\ua8fb\ua900-\ua909\ua90a-\ua925\ua92e-\ua92f\ua930-\ua946\ua952-\ua953\ua95f\ua960-\ua97c\ua983\ua984-\ua9b2\ua9b4-\ua9b5\ua9ba-\ua9bb\ua9bd-\ua9c0\ua9c1-\ua9cd\ua9cf\ua9d0-\ua9d9\ua9de-\ua9df\ua9e0-\ua9e4\ua9e6\ua9e7-\ua9ef\ua9f0-\ua9f9\ua9fa-\ua9fe\uaa00-\uaa28\uaa2f-\uaa30\uaa33-\uaa34\uaa40-\uaa42\uaa44-\uaa4b\uaa4d\uaa50-\uaa59\uaa5c-\uaa5f\uaa60-\uaa6f\uaa70\uaa71-\uaa76\uaa77-\uaa79\uaa7a\uaa7b\uaa7d\uaa7e-\uaaaf\uaab1\uaab5-\uaab6\uaab9-\uaabd\uaac0\uaac2\uaadb-\uaadc\uaadd\uaade-\uaadf\uaae0-\uaaea\uaaeb\uaaee-\uaaef\uaaf0-\uaaf1\uaaf2\uaaf3-\uaaf4\uaaf5\uab01-\uab06\uab09-\uab0e\uab11-\uab16\uab20-\uab26\uab28-\uab2e\uab30-\uab5a\uab5b\uab5c-\uab5f\uab64-\uab65\uabc0-\uabe2\uabe3-\uabe4\uabe6-\uabe7\uabe9-\uabea\uabeb\uabec\uabf0-\uabf9\uac00-\ud7a3\ud7b0-\ud7c6\ud7cb-\ud7fb\ue000-\uf8ff\uf900-\ufa6d\ufa70-\ufad9\ufb00-\ufb06\ufb13-\ufb17\uff21-\uff3a\uff41-\uff5a\uff66-\uff6f\uff70\uff71-\uff9d\uff9e-\uff9f\uffa0-\uffbe\uffc2-\uffc7\uffca-\uffcf\uffd2-\uffd7\uffda-\uffdc"+a+i+"]"),l=new RegExp("["+a+i+"]");function c(e){var t=o.exec(e);return null==t?null:t[0]}function d(e){var t=c(e);return null==t?r.NEUTRAL:l.exec(t)?r.RTL:r.LTR}function u(e,t){if(t=t||r.NEUTRAL,!e.length)return t;var n=d(e);return n===r.NEUTRAL?t:n}function h(e,t){return t||(t=r.getGlobalDir()),r.isStrong(t)||s(!1),u(e,t)}var A={firstStrongChar:c,firstStrongCharDir:d,resolveBlockDir:u,getDirection:h,isDirectionLTR:function(e,t){return h(e,t)===r.LTR},isDirectionRTL:function(e,t){return h(e,t)===r.RTL}};e.exports=A},5791:(e,t,n)=>{"use strict";var r=n(6559);e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var s=e.getParentKey();if(!s)return null;for(var a=t.get(s);a&&!a.getNextSiblingKey();){var i=a.getParentKey();a=i?t.get(i):null}return a?a.getNextSiblingKey():null}},5798:(e,t,n)=>{"use strict";var r=n(4939),s=n(8358),a=n(3e3),i=n(6415);function o(e,t){for(var n=1/0,r=1/0,s=-1/0,a=-1/0,i=0;i<e.length;i++){var o=e[i];0!==o.width&&1!==o.width&&(n=Math.min(n,o.top),r=Math.min(r,o.bottom),s=Math.max(s,o.top),a=Math.max(a,o.bottom))}return s<=r&&s-n<t&&a-r<t}function l(e){switch(e.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return e.length;default:return e.childNodes.length}}e.exports=function(e){e.collapsed||i(!1);var t=(e=e.cloneRange()).startContainer;1!==t.nodeType&&(t=t.parentNode);var n=function(e){var t=getComputedStyle(e),n=s(e),r=n.createElement("div");r.style.fontFamily=t.fontFamily,r.style.fontSize=t.fontSize,r.style.fontStyle=t.fontStyle,r.style.fontWeight=t.fontWeight,r.style.lineHeight=t.lineHeight,r.style.position="absolute",r.textContent="M";var a=n.body;a||i(!1),a.appendChild(r);var o=r.getBoundingClientRect();return a.removeChild(r),o.height}(t),c=e.endContainer,d=e.endOffset;for(e.setStart(e.startContainer,0);o(a(e),n)&&(c=e.startContainer,d=e.startOffset,c.parentNode||i(!1),e.setStartBefore(c),1!==c.nodeType||"inline"===getComputedStyle(c).display););for(var u=c,h=d-1;;){for(var A=u.nodeValue,f=h;f>=0;f--)if(!(null!=A&&f>0&&r.isSurrogatePair(A,f-1))){if(e.setStart(u,f),!o(a(e),n))break;c=u,d=f}if(-1===f||0===u.childNodes.length)break;h=l(u=u.childNodes[f])}return e.setStart(c,d),e}},5902:e=>{"use strict";var t={isImage:function(e){return"image"===n(e)[0]},isJpeg:function(e){var r=n(e);return t.isImage(e)&&("jpeg"===r[1]||"pjpeg"===r[1])}};function n(e){return e.split("/")}e.exports=t},5914:e=>{"use strict";function t(e,t){return!!t&&(e===t.documentElement||e===t.body)}var n={getTop:function(e){var n=e.ownerDocument;return t(e,n)?n.body.scrollTop||n.documentElement.scrollTop:e.scrollTop},setTop:function(e,n){var r=e.ownerDocument;t(e,r)?r.body.scrollTop=r.documentElement.scrollTop=n:e.scrollTop=n},getLeft:function(e){var n=e.ownerDocument;return t(e,n)?n.body.scrollLeft||n.documentElement.scrollLeft:e.scrollLeft},setLeft:function(e,n){var r=e.ownerDocument;t(e,r)?r.body.scrollLeft=r.documentElement.scrollLeft=n:e.scrollLeft=n}};e.exports=n},5941:(e,t,n)=>{"use strict";var r=n(7385);e.exports=function(e){return!(!e||!e.ownerDocument)&&(r(e)&&"A"===e.nodeName)}},6143:(e,t,n)=>{"use strict";var r=n(9399),s=n(5754),a=n(7014),i=n(8332);function o(e,t,n,r){if(e===n)return!0;if(!n.startsWith(e))return!1;var a=n.slice(e.length);return!!t&&(a=r?r(a):a,s.contains(a,t))}function l(e){return"Windows"===r.platformName?e.replace(/^\s*NT/,""):e}var c={isBrowser:function(e){return o(r.browserName,r.browserFullVersion,e)},isBrowserArchitecture:function(e){return o(r.browserArchitecture,null,e)},isDevice:function(e){return o(r.deviceName,null,e)},isEngine:function(e){return o(r.engineName,r.engineVersion,e)},isPlatform:function(e){return o(r.platformName,r.platformFullVersion,e,l)},isPlatformArchitecture:function(e){return o(r.platformArchitecture,null,e)}};e.exports=a(c,i)},6246:e=>{"use strict";e.exports=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})}},6283:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(8208),i=n(4075),o=n(995),l=n(4666),c=n(1320),d=c.OrderedSet,u=c.Record,h=c.Stack,A=c.OrderedMap,f=c.List,m=u({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:h(),selection:null,treeMap:null,undoStack:h()}),p=function(){t.createEmpty=function(e){return this.createWithText("",e)},t.createWithText=function(e,n){return t.createWithContent(i.createFromText(e),n)},t.createWithContent=function(e,n){if(0===e.getBlockMap().count())return t.createEmpty(n);var r=e.getBlockMap().first().getKey();return t.create({currentContent:e,undoStack:h(),redoStack:h(),decorator:n||null,selection:l.createEmpty(r)})},t.create=function(e){var n=e.currentContent,s=r({},e,{treeMap:x(n,e.decorator),directionMap:o.getDirectionMap(n)});return new t(new m(s))},t.fromJS=function(e){return new t(new m(r({},e,{directionMap:null!=e.directionMap?A(e.directionMap):e.directionMap,inlineStyleOverride:null!=e.inlineStyleOverride?d(e.inlineStyleOverride):e.inlineStyleOverride,nativelyRenderedContent:null!=e.nativelyRenderedContent?i.fromJS(e.nativelyRenderedContent):e.nativelyRenderedContent,redoStack:null!=e.redoStack?h(e.redoStack.map(function(e){return i.fromJS(e)})):e.redoStack,selection:null!=e.selection?new l(e.selection):e.selection,treeMap:null!=e.treeMap?A(e.treeMap).map(function(e){return f(e).map(function(e){return a.fromJS(e)})}):e.treeMap,undoStack:null!=e.undoStack?h(e.undoStack.map(function(e){return i.fromJS(e)})):e.undoStack,currentContent:i.fromJS(e.currentContent)})))},t.set=function(e,n){return new t(e.getImmutable().withMutations(function(t){var r=t.get("decorator"),s=r;null===n.decorator?s=null:n.decorator&&(s=n.decorator);var i=n.currentContent||e.getCurrentContent();if(s!==r){var o,l=t.get("treeMap");return o=s&&r?function(e,t,n,r,s){return n.merge(t.toSeq().filter(function(t){return r.getDecorations(t,e)!==s.getDecorations(t,e)}).map(function(t){return a.generate(e,t,r)}))}(i,i.getBlockMap(),l,s,r):x(i,s),void t.merge({decorator:s,treeMap:o,nativelyRenderedContent:null})}i!==e.getCurrentContent()&&t.set("treeMap",function(e,t,n,r){var s=e.getCurrentContent().set("entityMap",n),i=s.getBlockMap(),o=e.getImmutable().get("treeMap");return o.merge(t.toSeq().filter(function(e,t){return e!==i.get(t)}).map(function(e){return a.generate(s,e,r)}))}(e,i.getBlockMap(),i.getEntityMap(),s)),t.merge(n)}))};var e=t.prototype;function t(e){s(this,"_immutable",void 0),this._immutable=e}return e.toJS=function(){return this.getImmutable().toJS()},e.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.getSelection=function(){return this.getImmutable().get("selection")},e.getDecorator=function(){return this.getImmutable().get("decorator")},e.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},t.setInlineStyleOverride=function(e,n){return t.set(e,{inlineStyleOverride:n})},e.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),s=e.getBlockForKey(n);if(r>0)return s.getInlineStyleAt(r-1);if(s.getLength())return s.getInlineStyleAt(0);return b(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),s=e.getBlockForKey(n);if(r<s.getLength())return s.getInlineStyleAt(r);if(r>0)return s.getInlineStyleAt(r-1);return b(e,n)}(t,n)},e.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.getDirectionMap=function(){return this.getImmutable().get("directionMap")},t.acceptSelection=function(e,t){return g(e,t,!1)},t.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),g(e,t,!0)},t.moveSelectionToEnd=function(e){var n=e.getCurrentContent().getLastBlock(),r=n.getKey(),s=n.getLength();return t.acceptSelection(e,new l({anchorKey:r,anchorOffset:s,focusKey:r,focusOffset:s,isBackward:!1}))},t.moveFocusToEnd=function(e){var n=t.moveSelectionToEnd(e);return t.forceSelection(n,n.getSelection())},t.push=function(e,n,r){var s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(e.getCurrentContent()===n)return e;var a=o.getDirectionMap(n,e.getDirectionMap());if(!e.getAllowUndo())return t.set(e,{currentContent:n,directionMap:a,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:s,inlineStyleOverride:null});var i=e.getSelection(),l=e.getCurrentContent(),c=e.getUndoStack(),d=n;i!==l.getSelectionAfter()||function(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}(e,r)?(c=c.push(l),d=d.set("selectionBefore",i)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(d=d.set("selectionBefore",l.getSelectionBefore()));var u=e.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(r)&&(u=null);var A={currentContent:d,directionMap:a,undoStack:c,redoStack:h(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:s,inlineStyleOverride:u};return t.set(e,A)},t.undo=function(e){if(!e.getAllowUndo())return e;var n=e.getUndoStack(),r=n.peek();if(!r)return e;var s=e.getCurrentContent(),a=o.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:a,undoStack:n.shift(),redoStack:e.getRedoStack().push(s),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:s.getSelectionBefore()})},t.redo=function(e){if(!e.getAllowUndo())return e;var n=e.getRedoStack(),r=n.peek();if(!r)return e;var s=e.getCurrentContent(),a=o.getDirectionMap(r,e.getDirectionMap());return t.set(e,{currentContent:r,directionMap:a,undoStack:e.getUndoStack().push(s),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.getImmutable=function(){return this._immutable},t}();function g(e,t,n){return p.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function x(e,t){return e.getBlockMap().map(function(n){return a.generate(e,n,t)}).toOrderedMap()}function b(e,t){var n=e.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).skipUntil(function(e,t){return e.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):d()}e.exports=p},6350:(e,t,n)=>{"use strict";var r=n(5763),s=n(6283),a=n(1614),i=n(6643),o=n(8349),l=n(9167);e.exports=function(e,t){var n,c=e._latestEditorState,d=c.getSelection(),u=t.target;if(d.isCollapsed())t.preventDefault();else{if(l(u)){var h=u;n=o(a.getScrollParent(h))}var A=i(c);e.setClipboard(A),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(n),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return s.push(e,t,"remove-range")}(c))},0)}}},6357:(e,t,n)=>{"use strict";var r=n(6143),s=n(6415),a=r.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!a&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||s(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}},6415:e=>{"use strict";var t=function(e){};e.exports=function(e,n){for(var r=arguments.length,s=new Array(r>2?r-2:0),a=2;a<r;a++)s[a-2]=arguments[a];if(t(n),!e){var i;if(void 0===n)i=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var o=0;(i=new Error(n.replace(/%s/g,function(){return String(s[o++])}))).name="Invariant Violation"}throw i.framesToPop=1,i}}},6559:(e,t,n)=>{"use strict";var r=n(2367),s=n(8678),a=n(1320),i=a.List,o=a.Map,l=a.OrderedSet,c=a.Record,d=a.Repeat,u=l(),h={parent:null,characterList:i(),data:o(),depth:0,key:"",text:"",type:"unstyled",children:i(),prevSibling:null,nextSibling:null},A=function(e,t){return e.getStyle()===t.getStyle()},f=function(e,t){return e.getEntity()===t.getEntity()},m=function(e){var t,n;function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;return e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=i(d(r.EMPTY,n.length))),e}(t))||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():u},o.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},o.getChildKeys=function(){return this.get("children")},o.getParentKey=function(){return this.get("parent")},o.getPrevSiblingKey=function(){return this.get("prevSibling")},o.getNextSiblingKey=function(){return this.get("nextSibling")},o.findStyleRanges=function(e,t){s(this.getCharacterList(),A,e,t)},o.findEntityRanges=function(e,t){s(this.getCharacterList(),f,e,t)},a}(c(h));e.exports=m},6620:(e,t,n)=>{"use strict";var r=n(4099);e.exports=function(e){return r(e)&&3==e.nodeType}},6627:(e,t,n)=>{"use strict";var r=n(6143),s=n(1363),a=n(1933),i=n(9678),o=n(5169),l=n(6350),c=n(7660),d=n(8796),u=n(5722),h=n(78),A=n(617),f=n(7677),m=n(2124),p=r.isBrowser("Chrome"),g=r.isBrowser("Firefox"),x=p||g?m:function(e){},b={onBeforeInput:s,onBlur:a,onCompositionStart:i,onCopy:o,onCut:l,onDragOver:c,onDragStart:d,onFocus:u,onInput:h,onKeyDown:A,onPaste:f,onSelect:m,onMouseUp:x,onKeyUp:x};e.exports=b},6643:(e,t,n)=>{"use strict";var r=n(6935);e.exports=function(e){var t=e.getSelection();return t.isCollapsed()?null:r(e.getCurrentContent(),t)}},6882:(e,t,n)=>{"use strict";var r=n(4801),s=n(6283),a=n(8799),i=n(3767);e.exports=function(e){var t=i(e,function(e){var t=e.getSelection(),n=t.getStartOffset(),s=t.getStartKey(),i=e.getCurrentContent().getBlockForKey(s).getText().slice(n),o=r.getForward(i);return a(e,o.length||1)},"forward");return t===e.getCurrentContent()?e:s.push(e,t,"remove-range")}},6935:(e,t,n)=>{"use strict";var r=n(1287),s=n(9529);e.exports=function(e,t){var n=t.getStartKey(),a=t.getStartOffset(),i=t.getEndKey(),o=t.getEndOffset(),l=s(e,t).getBlockMap(),c=l.keySeq(),d=c.indexOf(n),u=c.indexOf(i)+1;return r(l.slice(d,u).map(function(e,t){var r=e.getText(),s=e.getCharacterList();return n===i?e.merge({text:r.slice(a,o),characterList:s.slice(a,o)}):t===n?e.merge({text:r.slice(a),characterList:s.slice(a)}):t===i?e.merge({text:r.slice(0,o),characterList:s.slice(0,o)}):e}))}},6959:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(7707),a=n(6559),i=n(555),o=n(306),l=n(6357),c=n(8819),d=n(1320),u=n(3272),h=d.List,A=d.Repeat,f=c("draft_tree_data_support"),m=f?a:s,p={processHTML:function(e,t){return i(e,l,t)},processText:function(e,t,n){return e.reduce(function(e,s,a){s=u(s);var i=o(),l={key:i,type:n,text:s,characterList:h(A(t,s.length))};if(f&&0!==a){var c=a-1;l=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){r(e,t,n[t])})}return e}({},l,{prevSibling:(e[c]=e[c].merge({nextSibling:i})).getKey()})}return e.push(new m(l)),e},[])}};e.exports=p},6966:()=>{},6968:(e,t,n)=>{"use strict";var r=n(5902),s=n(475),a=n(9534),i=new RegExp("\r\n","g"),o={"text/rtf":1,"text/html":1};function l(e){if("file"==e.kind)return e.getAsFile()}var c=function(){function e(e){this.data=e,this.types=e.types?s(e.types):[]}var t=e.prototype;return t.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(e){return o[e]})},t.getText=function(){var e;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(e=this.data.getData("text/plain")):e=this.data.getData("Text")),e?e.replace(i,"\n"):null},t.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.isLink=function(){return this.types.some(function(e){return-1!=e.indexOf("Url")||-1!=e.indexOf("text/uri-list")||e.indexOf("text/x-moz-url")})},t.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.isImage=function(){var e=this.types.some(function(e){return-1!=e.indexOf("application/x-moz-file")});if(e)return!0;for(var t=this.getFiles(),n=0;n<t.length;n++){var s=t[n].type;if(!r.isImage(s))return!1}return!0},t.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(l).filter(a.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.hasFiles=function(){return this.getFiles().length>0},e}();e.exports=c},7003:e=>{"use strict";e.exports={getRemovalRange:function(e,t,n,r,s){var a=n.split(" ");a=a.map(function(e,t){if("forward"===s){if(t>0)return" "+e}else if(t<a.length-1)return e+" ";return e});for(var i,o=r,l=null,c=null,d=0;d<a.length;d++){if(e<(i=o+a[d].length)&&o<t)null!==l||(l=o),c=i;else if(null!==l)break;o=i}var u=r+n.length,h=l===r,A=c===u;return(!h&&A||h&&!A)&&("forward"===s?c!==u&&c++:l!==r&&l--),{start:l,end:c}}}},7014:e=>{"use strict";var t=Object.prototype.hasOwnProperty;e.exports=function(e,n,r){if(!e)return null;var s={};for(var a in e)t.call(e,a)&&(s[a]=n.call(r,e[a],a,e));return s}},7159:(e,t,n)=>{"use strict";var r=n(2123);function s(){return s=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=n(3586),i=n(4414),o=n(5043),l=n(5914),c=n(1614),d=n(5782),u=n(4669),h=n(7904),A=n(636),f=n(8349),m=n(5628),p=n(6415),g=n(9990),x=n(8691),b=function(e,t){return e.getAnchorKey()===t||e.getFocusKey()===t},y=function(e){var t,n;function r(){for(var t,n,r,s,a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return t=e.call.apply(e,[this].concat(i))||this,n=function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(t),s=void 0,(r="_node")in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var y=r.prototype;return y.shouldComponentUpdate=function(e){return this.props.block!==e.block||this.props.tree!==e.tree||this.props.direction!==e.direction||b(e.selection,e.block.getKey())&&e.forceSelection},y.componentDidMount=function(){if(!this.props.preventScroll){var e=this.props.selection,t=e.getEndKey();if(e.getHasFocus()&&t===this.props.block.getKey()){var n=this._node;if(null!=n){var r,s=c.getScrollParent(n),a=f(s);if(s===window){var i=A(n);(r=i.y+i.height-m().height)>0&&window.scrollTo(a.x,a.y+r+10)}else{g(n)||p(!1),(r=n.offsetHeight+n.offsetTop-(s.offsetTop+s.offsetHeight+a.y))>0&&l.setTop(s,l.getTop(s)+r+10)}}}}},y._renderChildren=function(){var e=this,t=this.props.block,n=t.getKey(),r=t.getText(),l=this.props.tree.size-1,c=b(this.props.selection,n);return this.props.tree.map(function(h,A){var f=h.get("leaves");if(0===f.size)return null;var m=f.size-1,p=f.map(function(s,d){var u=i.encode(n,A,d),h=s.get("start"),f=s.get("end");return o.createElement(a,{key:u,offsetKey:u,block:t,start:h,selection:c?e.props.selection:null,forceSelection:e.props.forceSelection,text:r.slice(h,f),styleSet:t.getInlineStyleAt(h),customStyleMap:e.props.customStyleMap,customStyleFn:e.props.customStyleFn,isLast:A===l&&d===m})}).toArray(),g=h.get("decoratorKey");if(null==g)return p;if(!e.props.decorator)return p;var b=x(e.props.decorator),y=b.getComponentForKey(g);if(!y)return p;var v=b.getPropsForKey(g),w=i.encode(n,A,0),j=f.first().get("start"),N=f.last().get("end"),_=r.slice(j,N),C=t.getEntityAt(h.get("start")),S=u.getHTMLDirIfDifferent(d.getDirection(_),e.props.direction),k={contentState:e.props.contentState,decoratedText:_,dir:S,start:j,end:N,blockKey:n,entityKey:C,offsetKey:w};return o.createElement(y,s({},v,k,{key:w}),p)}).toArray()},y.render=function(){var e=this,t=this.props,n=t.direction,r=t.offsetKey,s=h({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===n,"public/DraftStyleDefault/rtl":"RTL"===n});return o.createElement("div",{"data-offset-key":r,className:s,ref:function(t){return e._node=t}},this._renderChildren())},r}(o.Component);e.exports=y},7234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<a(s,t)))break e;e[r]=t,e[n]=s,n=r}}function r(e){return 0===e.length?null:e[0]}function s(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,i=s>>>1;r<i;){var o=2*(r+1)-1,l=e[o],c=o+1,d=e[c];if(0>a(l,n))c<s&&0>a(d,l)?(e[r]=d,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<s&&0>a(d,n)))break e;e[r]=d,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],d=[],u=1,h=null,A=3,f=!1,m=!1,p=!1,g="function"===typeof setTimeout?setTimeout:null,x="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function y(e){for(var t=r(d);null!==t;){if(null===t.callback)s(d);else{if(!(t.startTime<=e))break;s(d),t.sortIndex=t.expirationTime,n(c,t)}t=r(d)}}function v(e){if(p=!1,y(e),!m)if(null!==r(c))m=!0,F(w);else{var t=r(d);null!==t&&I(v,t.startTime-e)}}function w(e,n){m=!1,p&&(p=!1,x(C),C=-1),f=!0;var a=A;try{for(y(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!B());){var i=h.callback;if("function"===typeof i){h.callback=null,A=h.priorityLevel;var o=i(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?h.callback=o:h===r(c)&&s(c),y(n)}else s(c);h=r(c)}if(null!==h)var l=!0;else{var u=r(d);null!==u&&I(v,u.startTime-n),l=!1}return l}finally{h=null,A=a,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var j,N=!1,_=null,C=-1,S=5,k=-1;function B(){return!(t.unstable_now()-k<S)}function E(){if(null!==_){var e=t.unstable_now();k=e;var n=!0;try{n=_(!0,e)}finally{n?j():(N=!1,_=null)}}else N=!1}if("function"===typeof b)j=function(){b(E)};else if("undefined"!==typeof MessageChannel){var L=new MessageChannel,M=L.port2;L.port1.onmessage=E,j=function(){M.postMessage(null)}}else j=function(){g(E,0)};function F(e){_=e,N||(N=!0,j())}function I(e,n){C=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||f||(m=!0,F(w))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return A},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(A){case 1:case 2:case 3:var t=3;break;default:t=A}var n=A;A=t;try{return e()}finally{A=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=A;A=e;try{return t()}finally{A=n}},t.unstable_scheduleCallback=function(e,s,a){var i=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?i+a:i:a=i,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:u++,callback:s,priorityLevel:e,startTime:a,expirationTime:o=a+o,sortIndex:-1},a>i?(e.sortIndex=a,n(d,e),null===r(c)&&e===r(d)&&(p?(x(C),C=-1):p=!0,I(v,a-i))):(e.sortIndex=o,n(c,e),m||f||(m=!0,F(w))),e},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(e){var t=A;return function(){var n=A;A=t;try{return e.apply(this,arguments)}finally{A=n}}}},7237:(e,t,n)=>{"use strict";e.exports=n(8365)},7275:(e,t,n)=>{window,e.exports=function(e,t,n){return a={},r.m=s=[function(e,t,n){e.exports=n(10)()},function(t,n){t.exports=e},function(e,t,n){var r;!function(){"use strict";var n={}.hasOwnProperty;function s(){for(var e=[],t=0;t<arguments.length;t++){var r=arguments[t];if(r){var a=typeof r;if("string"==a||"number"==a)e.push(r);else if(Array.isArray(r)&&r.length){var i=s.apply(null,r);i&&e.push(i)}else if("object"==a)for(var o in r)n.call(r,o)&&r[o]&&e.push(o)}}return e.join(" ")}e.exports?(s.default=s,e.exports=s):void 0===(r=function(){return s}.apply(t,[]))||(e.exports=r)}()},function(e,n){e.exports=t},function(e,t,n){function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var s,a,i,o;window,e.exports=(s=n(3),a=n(5),o={},r.m=i=[function(e,t){e.exports=s},function(e,t){e.exports=a},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var r=n(0),s=n(1);function a(e){var t=e.getSelection(),n=e.getCurrentContent(),r=t.getStartKey(),s=t.getEndKey(),a=n.getBlockMap();return a.toSeq().skipUntil(function(e,t){return t===r}).takeUntil(function(e,t){return t===s}).concat([[s,a.get(s)]])}function i(e){return a(e).toList()}function o(e){if(e)return i(e).get(0)}function l(e){if(e){var t=o(e),n=e.getCurrentContent().getBlockMap().toSeq().toList(),r=0;if(n.forEach(function(e,n){e.get("key")===t.get("key")&&(r=n-1)}),-1<r)return n.get(r)}}function c(e){return e?e.getCurrentContent().getBlockMap().toList():new s.List}function d(e){var t=i(e);if(!t.some(function(e){return e.type!==t.get(0).type}))return t.get(0).type}function u(e){var t=r.RichUtils.tryToRemoveBlockStyle(e);return t?r.EditorState.push(e,t,"change-block-type"):e}function h(e){var t="",n=e.getSelection(),r=n.getAnchorOffset(),s=n.getFocusOffset(),a=i(e);if(0<a.size){if(n.getIsBackward()){var o=r;r=s,s=o}for(var l=0;l<a.size;l+=1){var c=0===l?r:0,d=l===a.size-1?s:a.get(l).getText().length;t+=a.get(l).getText().slice(c,d)}}return t}function A(e){var t=e.getCurrentContent(),n=e.getSelection(),s=r.Modifier.removeRange(t,n,"forward"),a=s.getSelectionAfter(),i=s.getBlockForKey(a.getStartKey());return s=r.Modifier.insertText(s,a,"\n",i.getInlineStyleAt(a.getStartOffset()),null),r.EditorState.push(e,s,"insert-fragment")}function f(e){var t=r.Modifier.splitBlock(e.getCurrentContent(),e.getSelection());return u(r.EditorState.push(e,t,"split-block"))}function m(e){var t=e.getCurrentContent().getBlockMap().toList(),n=e.getSelection().merge({anchorKey:t.first().get("key"),anchorOffset:0,focusKey:t.last().get("key"),focusOffset:t.last().getLength()}),s=r.Modifier.removeRange(e.getCurrentContent(),n,"forward");return r.EditorState.push(e,s,"remove-range")}function p(e,t){var n=r.Modifier.setBlockData(e.getCurrentContent(),e.getSelection(),t);return r.EditorState.push(e,n,"change-block-data")}function g(e){var t=new s.Map({}),n=i(e);if(n&&0<n.size)for(var r=function(e){var r=n.get(e).getData();if(!r||0===r.size)return t=t.clear(),"break";if(0===e)t=r;else if(t.forEach(function(e,n){r.get(n)&&r.get(n)===e||(t=t.delete(n))}),0===t.size)return t=t.clear(),"break"},a=0;a<n.size&&"break"!==r(a);a+=1);return t}var x=Object(s.Map)({code:{element:"pre"}}),b=r.DefaultDraftBlockRenderMap.merge(x);function y(e){if(e){var t=e.getType();return"unordered-list-item"===t||"ordered-list-item"===t}return!1}function v(e,t,n){var s,i=e.getSelection();s=i.getIsBackward()?i.getFocusKey():i.getAnchorKey();var o=e.getCurrentContent(),l=o.getBlockForKey(s),c=l.getType();if("unordered-list-item"!==c&&"ordered-list-item"!==c)return e;var d=o.getBlockBefore(s);if(!d)return e;if(d.getType()!==c)return e;var u=l.getDepth();if(1===t&&u===n)return e;var h,A,f,m,p,g,x,b=Math.min(d.getDepth()+1,n),y=(A=t,f=b,m=(h=e).getSelection(),g=(p=h.getCurrentContent()).getBlockMap(),x=a(h).map(function(e){var t=e.getDepth()+A;return t=Math.max(0,Math.min(t,f)),e.set("depth",t)}),g=g.merge(x),p.merge({blockMap:g,selectionBefore:m,selectionAfter:m}));return r.EditorState.push(e,y,"adjust-depth")}function w(e,t){var n;return 13===(n=t).which&&(n.getModifierState("Shift")||n.getModifierState("Alt")||n.getModifierState("Control"))?e.getSelection().isCollapsed()?r.RichUtils.insertSoftNewline(e):A(e):function(e){var t=e.getSelection();if(t.isCollapsed()){var n=e.getCurrentContent(),r=t.getStartKey(),s=n.getBlockForKey(r);if(!y(s)&&"unstyled"!==s.getType()&&s.getLength()===t.getStartOffset())return f(e);if(y(s)&&0===s.getLength()){var a=s.getDepth();if(0===a)return u(e);if(0<a)return v(e,-1,a)}}}(e)}function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _(e){return(_="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function C(e){var t=e.getSelection();if(t.isCollapsed()){var n={},r=e.getCurrentInlineStyle().toList().toJS();if(r)return["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach(function(e){n[e]=0<=r.indexOf(e)}),n}var s=t.getStartOffset(),a=t.getEndOffset(),o=i(e);if(0<o.size){var l=function(){for(var e={BOLD:!0,ITALIC:!0,UNDERLINE:!0,STRIKETHROUGH:!0,CODE:!0,SUPERSCRIPT:!0,SUBSCRIPT:!0},t=0;t<o.size;t+=1){var n=0===t?s:0,r=t===o.size-1?a:o.get(t).getText().length;n===r&&0===n?(n=1,r=2):n===r&&--n;for(var i=function(n){var r=o.get(t).getInlineStyleAt(n);["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"].forEach(function(t){e[t]=e[t]&&r.get(t)===t})},l=n;l<r;l+=1)i(l)}return{v:e}}();if("object"===_(l))return l.v}return{}}function S(e){var t,n=e.getSelection(),r=n.getStartOffset(),s=n.getEndOffset();r===s&&0===r?s=1:r===s&&--r;for(var a=o(e),i=r;i<s;i+=1){var l=a.getEntityAt(i);if(!l){t=void 0;break}if(i===r)t=l;else if(t!==l){t=void 0;break}}return t}function k(e,t){var n,r=o(e);return r.findEntityRanges(function(e){return e.get("entity")===t},function(e,t){n={start:e,end:t,text:r.get("text").slice(e,t)}}),n}function B(e,t,n){L[e]["".concat(e.toLowerCase(),"-").concat(n)]=N({},"".concat(t),n)}function E(){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){N(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}({},L.color,{},L.bgcolor,{},L.fontSize,{},L.fontFamily,{CODE:L.CODE,SUPERSCRIPT:L.SUPERSCRIPT,SUBSCRIPT:L.SUBSCRIPT})}var L={color:{},bgcolor:{},fontSize:{},fontFamily:{},CODE:{fontFamily:"monospace",wordWrap:"break-word",background:"#f1f1f1",borderRadius:3,padding:"1px 3px"},SUPERSCRIPT:{fontSize:11,position:"relative",top:-8,display:"inline-flex"},SUBSCRIPT:{fontSize:11,position:"relative",bottom:-8,display:"inline-flex"}};function M(e,t,n){var s=e.getSelection(),a=Object.keys(L[t]).reduce(function(e,t){return r.Modifier.removeInlineStyle(e,s,t)},e.getCurrentContent()),i=r.EditorState.push(e,a,"changeinline-style"),o=e.getCurrentInlineStyle();if(s.isCollapsed()&&(i=o.reduce(function(e,t){return r.RichUtils.toggleInlineStyle(e,t)},i)),"SUPERSCRIPT"===t||"SUBSCRIPT"==t)o.has(n)||(i=r.RichUtils.toggleInlineStyle(i,n));else{var l="bgcolor"===t?"backgroundColor":t;o.has("".concat(l,"-").concat(n))||(i=r.RichUtils.toggleInlineStyle(i,"".concat(t.toLowerCase(),"-").concat(n)),B(t,l,n))}return i}function F(e){e&&e.getCurrentContent().getBlockMap().map(function(e){return e.get("characterList")}).toList().flatten().forEach(function(e){e&&0===e.indexOf("color-")?B("color","color",e.substr(6)):e&&0===e.indexOf("bgcolor-")?B("bgcolor","backgroundColor",e.substr(8)):e&&0===e.indexOf("fontsize-")?B("fontSize","fontSize",+e.substr(9)):e&&0===e.indexOf("fontfamily-")&&B("fontFamily","fontFamily",e.substr(11))})}function I(e,t,n){var r=e.getInlineStyleAt(n).toList().filter(function(e){return e.startsWith(t.toLowerCase())});if(r&&0<r.size)return r.get(0)}function D(e,t){if(e&&t&&0<t.length){var n=function(){var n=e.getSelection(),r={};if(n.isCollapsed())return t.forEach(function(t){r[t]=function(e,t){var n=e.getCurrentInlineStyle().toList().filter(function(e){return e.startsWith(t.toLowerCase())});if(n&&0<n.size)return n.get(0)}(e,t)}),{v:r};var s=n.getStartOffset(),a=n.getEndOffset(),o=i(e);if(0<o.size){for(var l=function(e){var n=0===e?s:0,i=e===o.size-1?a:o.get(e).getText().length;n===i&&0===n?(n=1,i=2):n===i&&--n;for(var l=function(s){s===n?t.forEach(function(t){r[t]=I(o.get(e),t,s)}):t.forEach(function(t){r[t]&&r[t]!==I(o.get(e),t,s)&&(r[t]=void 0)})},c=n;c<i;c+=1)l(c)},c=0;c<o.size;c+=1)l(c);return{v:r}}}();if("object"===_(n))return n.v}return{}}function T(e){var t=e.getCurrentInlineStyle(),n=e.getCurrentContent();return t.forEach(function(t){n=r.Modifier.removeInlineStyle(n,e.getSelection(),t)}),r.EditorState.push(e,n,"change-inline-style")}n.d(t,"isListBlock",function(){return y}),n.d(t,"changeDepth",function(){return v}),n.d(t,"handleNewLine",function(){return w}),n.d(t,"getEntityRange",function(){return k}),n.d(t,"getCustomStyleMap",function(){return E}),n.d(t,"toggleCustomInlineStyle",function(){return M}),n.d(t,"getSelectionEntity",function(){return S}),n.d(t,"extractInlineStyle",function(){return F}),n.d(t,"removeAllInlineStyles",function(){return T}),n.d(t,"getSelectionInlineStyle",function(){return C}),n.d(t,"getSelectionCustomInlineStyle",function(){return D}),n.d(t,"getSelectedBlocksMap",function(){return a}),n.d(t,"getSelectedBlocksList",function(){return i}),n.d(t,"getSelectedBlock",function(){return o}),n.d(t,"getBlockBeforeSelectedBlock",function(){return l}),n.d(t,"getAllBlocks",function(){return c}),n.d(t,"getSelectedBlocksType",function(){return d}),n.d(t,"removeSelectedBlocksStyle",function(){return u}),n.d(t,"getSelectionText",function(){return h}),n.d(t,"addLineBreakRemovingSelection",function(){return A}),n.d(t,"insertNewUnstyledBlock",function(){return f}),n.d(t,"clearEditorContent",function(){return m}),n.d(t,"setBlockData",function(){return p}),n.d(t,"getSelectedBlocksMetadata",function(){return g}),n.d(t,"blockRenderMap",function(){return b})}],r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2))},function(e,t){e.exports=n},function(e,t,n){function r(e){if(o[e])return o[e].exports;var t=o[e]={i:e,l:!1,exports:{}};return i[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var s,a,i,o;window,e.exports=(s=n(5),a=n(3),o={},r.m=i=[function(e,t){e.exports=s},function(e,t){e.exports=a},function(e,t,n){e.exports=n(3)},function(e,t,n){"use strict";n.r(t);var r=n(1),s=n(0),a=function(e,t,n){var r,a=e.textContent;return""===a.trim()?{chunk:(r=n,{text:" ",inlines:[new s.OrderedSet],entities:[r],blocks:[]})}:{chunk:{text:a,inlines:Array(a.length).fill(t),entities:Array(a.length).fill(n),blocks:[]}}},i=function(){return{text:"\n",inlines:[new s.OrderedSet],entities:new Array(1),blocks:[]}},o=function(){return{text:"",inlines:[],entities:[],blocks:[]}},l=function(e,t){return{text:"",inlines:[],entities:[],blocks:[{type:e,depth:0,data:t||new s.Map({})}]}},c=function(e,t,n){return{text:"\r",inlines:[],entities:[],blocks:[{type:e,depth:Math.max(0,Math.min(4,t)),data:n||new s.Map({})}]}},d=function(e){return{text:"\r ",inlines:[new s.OrderedSet],entities:[e],blocks:[{type:"atomic",depth:0,data:new s.Map({})}]}},u=function(e,t){return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},h=new s.Map({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:"ul"},"ordered-list-item":{element:"li",wrapper:"ol"},blockquote:{element:"blockquote"},code:{element:"pre"},atomic:{element:"figure"},unstyled:{element:"p",aliasedElements:["div"]}}),A={code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",strong:"BOLD",ins:"UNDERLINE",sub:"SUBSCRIPT",sup:"SUPERSCRIPT"};function f(e){return e.style.textAlign?new s.Map({"text-align":e.style.textAlign}):e.style.marginLeft?new s.Map({"margin-left":e.style.marginLeft}):void 0}var m=function(e){var t=void 0;if(e instanceof HTMLAnchorElement){var n={};t=e.dataset&&void 0!==e.dataset.mention?(n.url=e.href,n.text=e.innerHTML,n.value=e.dataset.value,r.Entity.__create("MENTION","IMMUTABLE",n)):(n.url=e.getAttribute&&e.getAttribute("href")||e.href,n.title=e.innerHTML,n.targetOption=e.target,r.Entity.__create("LINK","MUTABLE",n))}return t};n.d(t,"default",function(){return b});var p=" ",g=new RegExp("&nbsp;","g"),x=!0;function b(e,t){var n,b,y=(n=t,(b=function(e){var t,n=null;return document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n}(e.trim().replace(g,p)))?(x=!0,{chunk:function e(t,n,s,p,g,b){var y=t.nodeName.toLowerCase();if(b){var v=b(y,t);if(v){var w=r.Entity.__create(v.type,v.mutability,v.data||{});return{chunk:d(w)}}}if("#text"===y&&"\n"!==t.textContent)return a(t,n,g);if("br"===y)return{chunk:i()};if("img"===y&&t instanceof HTMLImageElement){var j={};j.src=t.getAttribute&&t.getAttribute("src")||t.src,j.alt=t.alt,j.height=t.style.height,j.width=t.style.width,t.style.float&&(j.alignment=t.style.float);var N=r.Entity.__create("IMAGE","MUTABLE",j);return{chunk:d(N)}}if("video"===y&&t instanceof HTMLVideoElement){var _={};_.src=t.getAttribute&&t.getAttribute("src")||t.src,_.alt=t.alt,_.height=t.style.height,_.width=t.style.width,t.style.float&&(_.alignment=t.style.float);var C=r.Entity.__create("VIDEO","MUTABLE",_);return{chunk:d(C)}}if("iframe"===y&&t instanceof HTMLIFrameElement){var S={};S.src=t.getAttribute&&t.getAttribute("src")||t.src,S.height=t.height,S.width=t.width;var k=r.Entity.__create("EMBEDDED_LINK","MUTABLE",S);return{chunk:d(k)}}var B,E=function(e,t){var n=h.filter(function(n){return n.element===e&&(!n.wrapper||n.wrapper===t)||n.wrapper===e||n.aliasedElements&&-1<n.aliasedElements.indexOf(e)}).keySeq().toSet().toArray();if(1===n.length)return n[0]}(y,p);E&&("ul"===y||"ol"===y?(p=y,s+=1):("unordered-list-item"!==E&&"ordered-list-item"!==E&&(p="",s=-1),x?(B=l(E,f(t)),x=!1):B=c(E,s,f(t)))),B=B||o(),n=function(e,t,n){var r,s=A[e];if(s)r=n.add(s).toOrderedSet();else if(t instanceof HTMLElement){var a=t;r=(r=n).withMutations(function(e){var t=a.style.color,n=a.style.backgroundColor,r=a.style.fontSize,s=a.style.fontFamily.replace(/^"|"$/g,""),i=a.style.fontWeight,o=a.style.textDecoration,l=a.style.fontStyle;t&&e.add("color-".concat(t.replace(/ /g,""))),n&&e.add("bgcolor-".concat(n.replace(/ /g,""))),r&&e.add("fontsize-".concat(r.replace(/px$/g,""))),s&&e.add("fontfamily-".concat(s)),"bold"===i&&e.add(A.strong),"underline"===o&&e.add(A.ins),"italic"===l&&e.add(A.em)}).toOrderedSet()}return r}(y,t,n);for(var L=t.firstChild;L;){var M=e(L,n,s,p,m(L)||g,b).chunk;B=u(B,M),L=L.nextSibling}return{chunk:B}}(b,new s.OrderedSet,-1,"",void 0,n).chunk}):null);if(y){var v=y.chunk,w=new s.OrderedMap({});v.entities&&v.entities.forEach(function(e){e&&(w=w.set(e,r.Entity.__get(e)))});var j=0;return{contentBlocks:v.text.split("\r").map(function(e,t){var n=j+e.length,a=v&&v.inlines.slice(j,n),i=v&&v.entities.slice(j,n),o=new s.List(a.map(function(e,t){var n={style:e,entity:null};return i[t]&&(n.entity=i[t]),r.CharacterMetadata.create(n)}));return j=n,new r.ContentBlock({key:Object(r.genKey)(),type:v&&v.blocks[t]&&v.blocks[t].type||"unstyled",depth:v&&v.blocks[t]&&v.blocks[t].depth,data:v&&v.blocks[t]&&v.blocks[t].data||new s.Map({}),text:e,characterList:o})}),entityMap:w}}return null}}],r.c=o,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=2))},function(e,t,n){"use strict";function r(e){return Array.prototype.slice.call(arguments,1).forEach(function(t){t&&Object.keys(t).forEach(function(n){e[n]=t[n]})}),e}function s(e){return Object.prototype.toString.call(e)}function a(e){return"[object Function]"===s(e)}function i(e){return e.replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}var o={fuzzyLink:!0,fuzzyEmail:!0,fuzzyIP:!1},l={"http:":{validate:function(e,t,n){var r=e.slice(t);return n.re.http||(n.re.http=new RegExp("^\\/\\/"+n.re.src_auth+n.re.src_host_port_strict+n.re.src_path,"i")),n.re.http.test(r)?r.match(n.re.http)[0].length:0}},"https:":"http:","ftp:":"http:","//":{validate:function(e,t,n){var r=e.slice(t);return n.re.no_http||(n.re.no_http=new RegExp("^"+n.re.src_auth+"(?:localhost|(?:(?:"+n.re.src_domain+")\\.)+"+n.re.src_domain_root+")"+n.re.src_port+n.re.src_host_terminator+n.re.src_path,"i")),n.re.no_http.test(r)?3<=t&&":"===e[t-3]||3<=t&&"/"===e[t-3]?0:r.match(n.re.no_http)[0].length:0}},"mailto:":{validate:function(e,t,n){var r=e.slice(t);return n.re.mailto||(n.re.mailto=new RegExp("^"+n.re.src_email_name+"@"+n.re.src_host_strict,"i")),n.re.mailto.test(r)?r.match(n.re.mailto)[0].length:0}}},c="a[cdefgilmnoqrstuwxz]|b[abdefghijmnorstvwyz]|c[acdfghiklmnoruvwxyz]|d[ejkmoz]|e[cegrstu]|f[ijkmor]|g[abdefghilmnpqrstuwy]|h[kmnrtu]|i[delmnoqrst]|j[emop]|k[eghimnprwyz]|l[abcikrstuvy]|m[acdeghklmnopqrstuvwxyz]|n[acefgilopruz]|om|p[aefghklmnrstwy]|qa|r[eosuw]|s[abcdeghijklmnortuvxyz]|t[cdfghjklmnortvwz]|u[agksyz]|v[aceginu]|w[fs]|y[et]|z[amw]",d="biz|com|edu|gov|net|org|pro|web|xxx|aero|asia|coop|info|museum|name|shop|\u0440\u0444".split("|");function u(){return function(e,t){t.normalize(e)}}function h(e){var t=e.re=n(21)(e.__opts__),r=e.__tlds__.slice();function o(e){return e.replace("%TLDS%",t.src_tlds)}e.onCompile(),e.__tlds_replaced__||r.push(c),r.push(t.src_xn),t.src_tlds=r.join("|"),t.email_fuzzy=RegExp(o(t.tpl_email_fuzzy),"i"),t.link_fuzzy=RegExp(o(t.tpl_link_fuzzy),"i"),t.link_no_ip_fuzzy=RegExp(o(t.tpl_link_no_ip_fuzzy),"i"),t.host_fuzzy_test=RegExp(o(t.tpl_host_fuzzy_test),"i");var l=[];function d(e,t){throw new Error('(LinkifyIt) Invalid schema "'+e+'": '+t)}e.__compiled__={},Object.keys(e.__schemas__).forEach(function(t){var n=e.__schemas__[t];if(null!==n){var r,i={validate:null,link:null};if(e.__compiled__[t]=i,"[object Object]"===s(n))return"[object RegExp]"===s(n.validate)?i.validate=(r=n.validate,function(e,t){var n=e.slice(t);return r.test(n)?n.match(r)[0].length:0}):a(n.validate)?i.validate=n.validate:d(t,n),void(a(n.normalize)?i.normalize=n.normalize:n.normalize?d(t,n):i.normalize=u());"[object String]"!==s(n)?d(t,n):l.push(t)}}),l.forEach(function(t){e.__compiled__[e.__schemas__[t]]&&(e.__compiled__[t].validate=e.__compiled__[e.__schemas__[t]].validate,e.__compiled__[t].normalize=e.__compiled__[e.__schemas__[t]].normalize)}),e.__compiled__[""]={validate:null,normalize:u()};var h,A=Object.keys(e.__compiled__).filter(function(t){return 0<t.length&&e.__compiled__[t]}).map(i).join("|");e.re.schema_test=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+A+")","i"),e.re.schema_search=RegExp("(^|(?!_)(?:[><\uff5c]|"+t.src_ZPCc+"))("+A+")","ig"),e.re.pretest=RegExp("("+e.re.schema_test.source+")|("+e.re.host_fuzzy_test.source+")|@","i"),(h=e).__index__=-1,h.__text_cache__=""}function A(e,t){var n=e.__index__,r=e.__last_index__,s=e.__text_cache__.slice(n,r);this.schema=e.__schema__.toLowerCase(),this.index=n+t,this.lastIndex=r+t,this.raw=s,this.text=s,this.url=s}function f(e,t){var n=new A(e,t);return e.__compiled__[n.schema].normalize(n,e),n}function m(e,t){if(!(this instanceof m))return new m(e,t);var n;t||(n=e,Object.keys(n||{}).reduce(function(e,t){return e||o.hasOwnProperty(t)},!1)&&(t=e,e={})),this.__opts__=r({},o,t),this.__index__=-1,this.__last_index__=-1,this.__schema__="",this.__text_cache__="",this.__schemas__=r({},l,e),this.__compiled__={},this.__tlds__=d,this.__tlds_replaced__=!1,this.re={},h(this)}m.prototype.add=function(e,t){return this.__schemas__[e]=t,h(this),this},m.prototype.set=function(e){return this.__opts__=r(this.__opts__,e),this},m.prototype.test=function(e){if(this.__text_cache__=e,this.__index__=-1,!e.length)return!1;var t,n,r,s,a,i,o,l;if(this.re.schema_test.test(e))for((o=this.re.schema_search).lastIndex=0;null!==(t=o.exec(e));)if(s=this.testSchemaAt(e,t[2],o.lastIndex)){this.__schema__=t[2],this.__index__=t.index+t[1].length,this.__last_index__=t.index+t[0].length+s;break}return this.__opts__.fuzzyLink&&this.__compiled__["http:"]&&0<=(l=e.search(this.re.host_fuzzy_test))&&(this.__index__<0||l<this.__index__)&&null!==(n=e.match(this.__opts__.fuzzyIP?this.re.link_fuzzy:this.re.link_no_ip_fuzzy))&&(a=n.index+n[1].length,(this.__index__<0||a<this.__index__)&&(this.__schema__="",this.__index__=a,this.__last_index__=n.index+n[0].length)),this.__opts__.fuzzyEmail&&this.__compiled__["mailto:"]&&0<=e.indexOf("@")&&null!==(r=e.match(this.re.email_fuzzy))&&(a=r.index+r[1].length,i=r.index+r[0].length,(this.__index__<0||a<this.__index__||a===this.__index__&&i>this.__last_index__)&&(this.__schema__="mailto:",this.__index__=a,this.__last_index__=i)),0<=this.__index__},m.prototype.pretest=function(e){return this.re.pretest.test(e)},m.prototype.testSchemaAt=function(e,t,n){return this.__compiled__[t.toLowerCase()]?this.__compiled__[t.toLowerCase()].validate(e,n,this):0},m.prototype.match=function(e){var t=0,n=[];0<=this.__index__&&this.__text_cache__===e&&(n.push(f(this,t)),t=this.__last_index__);for(var r=t?e.slice(t):e;this.test(r);)n.push(f(this,t)),r=r.slice(this.__last_index__),t+=this.__last_index__;return n.length?n:null},m.prototype.tlds=function(e,t){return e=Array.isArray(e)?e:[e],t?this.__tlds__=this.__tlds__.concat(e).sort().filter(function(e,t,n){return e!==n[t-1]}).reverse():(this.__tlds__=e.slice(),this.__tlds_replaced__=!0),h(this),this},m.prototype.normalize=function(e){e.schema||(e.url="http://"+e.url),"mailto:"!==e.schema||/^mailto:/i.test(e.url)||(e.url="mailto:"+e.url)},m.prototype.onCompile=function(){},e.exports=m},function(e,t,n){e.exports=n(40)},function(e,t,n){},function(e,t,n){"use strict";var r=n(11);function s(){}function a(){}a.resetWarningCache=s,e.exports=function(){function e(e,t,n,s,a,i){if(i!==r){var o=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw o.name="Invariant Violation",o}}function t(){return e}var n={array:e.isRequired=e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:s};return n.PropTypes=n}},function(e,t,n){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";e.exports=function(e){var t={};t.src_Any=n(22).source,t.src_Cc=n(23).source,t.src_Z=n(24).source,t.src_P=n(25).source,t.src_ZPCc=[t.src_Z,t.src_P,t.src_Cc].join("|"),t.src_ZCc=[t.src_Z,t.src_Cc].join("|");var r="[><\uff5c]";return t.src_pseudo_letter="(?:(?![><\uff5c]|"+t.src_ZPCc+")"+t.src_Any+")",t.src_ip4="(?:(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\\.){3}(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)",t.src_auth="(?:(?:(?!"+t.src_ZCc+"|[@/\\[\\]()]).)+@)?",t.src_port="(?::(?:6(?:[0-4]\\d{3}|5(?:[0-4]\\d{2}|5(?:[0-2]\\d|3[0-5])))|[1-5]?\\d{1,4}))?",t.src_host_terminator="(?=$|[><\uff5c]|"+t.src_ZPCc+")(?!-|_|:\\d|\\.-|\\.(?!$|"+t.src_ZPCc+"))",t.src_path="(?:[/?#](?:(?!"+t.src_ZCc+"|"+r+"|[()[\\]{}.,\"'?!\\-]).|\\[(?:(?!"+t.src_ZCc+"|\\]).)*\\]|\\((?:(?!"+t.src_ZCc+"|[)]).)*\\)|\\{(?:(?!"+t.src_ZCc+'|[}]).)*\\}|\\"(?:(?!'+t.src_ZCc+'|["]).)+\\"|\\\'(?:(?!'+t.src_ZCc+"|[']).)+\\'|\\'(?="+t.src_pseudo_letter+"|[-]).|\\.{2,4}[a-zA-Z0-9%/]|\\.(?!"+t.src_ZCc+"|[.]).|"+(e&&e["---"]?"\\-(?!--(?:[^-]|$))(?:-*)|":"\\-+|")+"\\,(?!"+t.src_ZCc+").|\\!(?!"+t.src_ZCc+"|[!]).|\\?(?!"+t.src_ZCc+"|[?]).)+|\\/)?",t.src_email_name='[\\-;:&=\\+\\$,\\.a-zA-Z0-9_][\\-;:&=\\+\\$,\\"\\.a-zA-Z0-9_]*',t.src_xn="xn--[a-z0-9\\-]{1,59}",t.src_domain_root="(?:"+t.src_xn+"|"+t.src_pseudo_letter+"{1,63})",t.src_domain="(?:"+t.src_xn+"|(?:"+t.src_pseudo_letter+")|(?:"+t.src_pseudo_letter+"(?:-|"+t.src_pseudo_letter+"){0,61}"+t.src_pseudo_letter+"))",t.src_host="(?:(?:(?:(?:"+t.src_domain+")\\.)*"+t.src_domain+"))",t.tpl_host_fuzzy="(?:"+t.src_ip4+"|(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%)))",t.tpl_host_no_ip_fuzzy="(?:(?:(?:"+t.src_domain+")\\.)+(?:%TLDS%))",t.src_host_strict=t.src_host+t.src_host_terminator,t.tpl_host_fuzzy_strict=t.tpl_host_fuzzy+t.src_host_terminator,t.src_host_port_strict=t.src_host+t.src_port+t.src_host_terminator,t.tpl_host_port_fuzzy_strict=t.tpl_host_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_port_no_ip_fuzzy_strict=t.tpl_host_no_ip_fuzzy+t.src_port+t.src_host_terminator,t.tpl_host_fuzzy_test="localhost|www\\.|\\.\\d{1,3}\\.|(?:\\.(?:%TLDS%)(?:"+t.src_ZPCc+"|>|$))",t.tpl_email_fuzzy='(^|[><\uff5c]|"|\\(|'+t.src_ZCc+")("+t.src_email_name+"@"+t.tpl_host_fuzzy_strict+")",t.tpl_link_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_fuzzy_strict+t.src_path+")",t.tpl_link_no_ip_fuzzy="(^|(?![.:/\\-_@])(?:[$+<=>^`|\uff5c]|"+t.src_ZPCc+"))((?![$+<=>^`|\uff5c])"+t.tpl_host_port_no_ip_fuzzy_strict+t.src_path+")",t}},function(e,t){e.exports=/[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]/},function(e,t){e.exports=/[\0-\x1F\x7F-\x9F]/},function(e,t){e.exports=/[ \xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/},function(e,t){e.exports=/[!-#%-\*,-\/:;\?@\[-\]_\{\}\xA1\xA7\xAB\xB6\xB7\xBB\xBF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u09FD\u0A76\u0AF0\u0C84\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2308-\u230B\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E4E\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA8FC\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]|\uD800[\uDD00-\uDD02\uDF9F\uDFD0]|\uD801\uDD6F|\uD802[\uDC57\uDD1F\uDD3F\uDE50-\uDE58\uDE7F\uDEF0-\uDEF6\uDF39-\uDF3F\uDF99-\uDF9C]|\uD803[\uDF55-\uDF59]|\uD804[\uDC47-\uDC4D\uDCBB\uDCBC\uDCBE-\uDCC1\uDD40-\uDD43\uDD74\uDD75\uDDC5-\uDDC8\uDDCD\uDDDB\uDDDD-\uDDDF\uDE38-\uDE3D\uDEA9]|\uD805[\uDC4B-\uDC4F\uDC5B\uDC5D\uDCC6\uDDC1-\uDDD7\uDE41-\uDE43\uDE60-\uDE6C\uDF3C-\uDF3E]|\uD806[\uDC3B\uDE3F-\uDE46\uDE9A-\uDE9C\uDE9E-\uDEA2]|\uD807[\uDC41-\uDC45\uDC70\uDC71\uDEF7\uDEF8]|\uD809[\uDC70-\uDC74]|\uD81A[\uDE6E\uDE6F\uDEF5\uDF37-\uDF3B\uDF44]|\uD81B[\uDE97-\uDE9A]|\uD82F\uDC9F|\uD836[\uDE87-\uDE8B]|\uD83A[\uDD5E\uDD5F]/},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t),n.d(t,"Editor",function(){return is});var r=n(1),s=n.n(r),a=n(0),i=n.n(a),o=n(3),l=n(4),c=n(2),d=n.n(c);function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var A=h(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.callBacks=[],this.suggestionCallback=void 0,this.editorFlag=!1,this.suggestionFlag=!1,this.closeAllModals=function(e){t.callBacks.forEach(function(t){t(e)})},this.init=function(e){var n=document.getElementById(e);n&&n.addEventListener("click",function(){t.editorFlag=!0}),document&&(document.addEventListener("click",function(){t.editorFlag?t.editorFlag=!1:(t.closeAllModals(),t.suggestionCallback&&t.suggestionCallback())}),document.addEventListener("keydown",function(e){"Escape"===e.key&&t.closeAllModals()}))},this.onEditorClick=function(){t.closeModals(),!t.suggestionFlag&&t.suggestionCallback?t.suggestionCallback():t.suggestionFlag=!1},this.closeModals=function(e){t.closeAllModals(e)},this.registerCallBack=function(e){t.callBacks.push(e)},this.deregisterCallBack=function(e){t.callBacks=t.callBacks.filter(function(t){return t!==e})},this.setSuggestionCallback=function(e){t.suggestionCallback=e},this.removeSuggestionCallback=function(){t.suggestionCallback=void 0},this.onSuggestionClick=function(){t.suggestionFlag=!0}});function f(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function m(e,t,n){return t&&f(e.prototype,t),n&&f(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}var p,g=m(function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.inputFocused=!1,this.editorMouseDown=!1,this.onEditorMouseDown=function(){t.editorFocused=!0},this.onInputMouseDown=function(){t.inputFocused=!0},this.isEditorBlur=function(e){return"INPUT"!==e.target.tagName&&"LABEL"!==e.target.tagName&&"TEXTAREA"!==e.target.tagName||t.editorFocused?!("INPUT"===e.target.tagName&&"LABEL"===e.target.tagName&&"TEXTAREA"===e.target.tagName||t.inputFocused)&&!(t.editorFocused=!1):!(t.inputFocused=!1)},this.isEditorFocused=function(){return!t.inputFocused||(t.inputFocused=!1)},this.isToolbarFocused=function(){return!t.editorFocused||(t.editorFocused=!1)},this.isInputFocused=function(){return t.inputFocused}}),x=[],b={onKeyDown:function(e){x.forEach(function(t){t(e)})},registerCallBack:function(e){x.push(e)},deregisterCallBack:function(e){x=x.filter(function(t){return t!==e})}},y=function(){p=!0},v=function(){p=!1},w=function(){return p};function j(e){var t=e.getData()&&e.getData().get("text-align");return t?"rdw-".concat(t,"-aligned-block"):""}function N(e,t){if(e)for(var n in e)!{}.hasOwnProperty.call(e,n)||t(n,e[n])}function _(e,t){var n=!1;if(e)for(var r in e)if({}.hasOwnProperty.call(e,r)&&t===r){n=!0;break}return n}function C(e){e.stopPropagation()}function S(e){return e[e.options[0]].icon}function k(e,t){if(e&&void 0===t)return e;var n={};return N(e,function(e,r){var s;s=r,"[object Object]"===Object.prototype.toString.call(s)?n[e]=k(r,t[e]):n[e]=void 0!==t[e]?t[e]:r}),n}var B=n(6),E=n.n(B),L=n(5);function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function F(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function D(e,t){return(D=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function T(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=O(t);if(n){var s=O(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===M(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function O(e){return(O=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(9);var P=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&D(e,t)}(i,r.Component);var e,t,n,a=T(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).onClick=function(){var t=e.props,n=t.disabled,r=t.onClick,s=t.value;n||r(s)},e}return e=i,(t=[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.className,a=t.activeClassName,i=t.active,o=t.disabled,l=t.title;return s.a.createElement("div",{className:d()("rdw-option-wrapper",r,(F(e={},"rdw-option-active ".concat(a),i),F(e,"rdw-option-disabled",o),e)),onClick:this.onClick,"aria-selected":i,title:l},n)}}])&&I(e.prototype,t),n&&I(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function U(e){return(U="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function R(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Q(e,t){return(Q=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function z(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=H(t);if(n){var s=H(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===U(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}P.propTypes={onClick:i.a.func.isRequired,children:i.a.any,value:i.a.string,className:i.a.string,activeClassName:i.a.string,active:i.a.bool,disabled:i.a.bool,title:i.a.string},P.defaultProps={activeClassName:""},n(12);var K=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Q(e,t)}(i,r.Component);var e,t,n,a=z(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={highlighted:-1},e.onChange=function(t){var n=e.props.onChange;n&&n(t),e.toggleExpansion()},e.setHighlighted=function(t){e.setState({highlighted:t})},e.toggleExpansion=function(){var t=e.props,n=t.doExpand,r=t.doCollapse;t.expanded?r():n()},e}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.expanded;e.expanded&&!t&&this.setState({highlighted:-1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.expanded,r=t.children,a=t.className,i=t.optionWrapperClassName,o=t.ariaLabel,l=t.onExpandEvent,c=t.title,u=this.state.highlighted,h=r.slice(1,r.length);return s.a.createElement("div",{className:d()("rdw-dropdown-wrapper",a),"aria-expanded":n,"aria-label":o||"rdw-dropdown"},s.a.createElement("a",{className:"rdw-dropdown-selectedtext",onClick:l,title:c},r[0],s.a.createElement("div",{className:d()({"rdw-dropdown-carettoclose":n,"rdw-dropdown-carettoopen":!n})})),n?s.a.createElement("ul",{className:d()("rdw-dropdown-optionwrapper",i),onClick:C},s.a.Children.map(h,function(t,n){return t&&s.a.cloneElement(t,{onSelect:e.onChange,highlighted:u===n,setHighlighted:e.setHighlighted,index:n})})):void 0)}}])&&R(e.prototype,t),n&&R(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function W(e){return(W="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function V(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function q(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function G(e,t){return(G=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Y(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=J(t);if(n){var s=J(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===W(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function J(e){return(J=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}K.propTypes={children:i.a.any,onChange:i.a.func,className:i.a.string,expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,optionWrapperClassName:i.a.string,ariaLabel:i.a.string,title:i.a.string},n(13);var X=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&G(e,t)}(i,r.Component);var e,t,n,a=Y(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).onClick=function(t){var n=e.props,r=n.onSelect,s=n.onClick,a=n.value;n.disabled||(r&&r(a),s&&(t.stopPropagation(),s(a)))},e.setHighlighted=function(){var t=e.props;(0,t.setHighlighted)(t.index)},e.resetHighlighted=function(){(0,e.props.setHighlighted)(-1)},e}return e=i,(t=[{key:"render",value:function(){var e,t=this.props,n=t.children,r=t.active,a=t.disabled,i=t.highlighted,o=t.className,l=t.activeClassName,c=t.disabledClassName,u=t.highlightedClassName,h=t.title;return s.a.createElement("li",{className:d()("rdw-dropdownoption-default",o,(V(e={},"rdw-dropdownoption-active ".concat(l),r),V(e,"rdw-dropdownoption-highlighted ".concat(u),i),V(e,"rdw-dropdownoption-disabled ".concat(c),a),e)),onMouseEnter:this.setHighlighted,onMouseLeave:this.resetHighlighted,onClick:this.onClick,title:h},n)}}])&&q(e.prototype,t),n&&q(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Z(e){return(Z="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ee(e,t){return(ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function te(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=ne(t);if(n){var s=ne(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Z(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function ne(e){return(ne=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}X.propTypes={children:i.a.any,value:i.a.any,onClick:i.a.func,onSelect:i.a.func,setHighlighted:i.a.func,index:i.a.number,disabled:i.a.bool,active:i.a.bool,highlighted:i.a.bool,className:i.a.string,activeClassName:i.a.string,disabledClassName:i.a.string,highlightedClassName:i.a.string,title:i.a.string},X.defaultProps={activeClassName:"",disabledClassName:"",highlightedClassName:""},n(14);var re=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ee(e,t)}(i,r.Component);var e,t,n,a=te(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return e=i,(t=[{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=e.currentState,r=e.onChange,a=e.translations;return s.a.createElement("div",{className:d()("rdw-inline-wrapper",t.className),"aria-label":"rdw-inline-control"},t.options.map(function(e,i){return s.a.createElement(P,{key:i,value:e,onClick:r,className:d()(t[e].className),active:!0===n[e]||"MONOSPACE"===e&&n.CODE,title:t[e].title||a["components.controls.inline.".concat(e)]},s.a.createElement("img",{alt:"",src:t[e].icon}))}))}},{key:"renderInDropDown",value:function(){var e=this.props,t=e.config,n=e.expanded,r=e.doExpand,a=e.onExpandEvent,i=e.doCollapse,o=e.currentState,l=e.onChange,c=e.translations,u=t.className,h=t.dropdownClassName,A=t.title;return s.a.createElement(K,{className:d()("rdw-inline-dropdown",u),optionWrapperClassName:d()(h),onChange:l,expanded:n,doExpand:r,doCollapse:i,onExpandEvent:a,"aria-label":"rdw-inline-control",title:A},s.a.createElement("img",{src:S(t),alt:""}),t.options.map(function(e,n){return s.a.createElement(X,{key:n,value:e,className:d()("rdw-inline-dropdownoption",t[e].className),active:!0===o[e]||"MONOSPACE"===e&&o.CODE,title:t[e].title||c["components.controls.inline.".concat(e)]},s.a.createElement("img",{src:t[e].icon,alt:""}))}))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&$(e.prototype,t),n&&$(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function se(e){return(se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ie(e,t){return(ie=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function oe(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=le(t);if(n){var s=le(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===se(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function le(e){return(le=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}re.propTypes={expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,config:i.a.object,onChange:i.a.func,currentState:i.a.object,translations:i.a.object};var ce=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ie(e,t)}(i,r.Component);var e,t,n,a=oe(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).onExpandEvent=function(){t.signalExpanded=!t.state.expanded},t.expandCollapse=function(){t.setState({expanded:t.signalExpanded}),t.signalExpanded=!1},t.toggleInlineStyle=function(e){var n="monospace"===e?"CODE":e.toUpperCase(),r=t.props,s=r.editorState,a=r.onChange,i=o.RichUtils.toggleInlineStyle(s,n);if("subscript"===e||"superscript"===e){var l="subscript"===e?"SUPERSCRIPT":"SUBSCRIPT",c=o.Modifier.removeInlineStyle(i.getCurrentContent(),i.getSelection(),l);i=o.EditorState.push(i,c,"change-inline-style")}i&&a(i)},t.changeKeys=function(e){if(e){var t={};return N(e,function(e,n){t["CODE"===e?"monospace":e.toLowerCase()]=n}),t}},t.doExpand=function(){t.setState({expanded:!0})},t.doCollapse=function(){t.setState({expanded:!1})};var n=t.props,r=n.editorState,s=n.modalHandler;return t.state={currentStyles:r?t.changeKeys(Object(l.getSelectionInlineStyle)(r)):{}},s.registerCallBack(t.expandCollapse),t}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentStyles:this.changeKeys(Object(l.getSelectionInlineStyle)(t))})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,a=r.expanded,i=r.currentStyles,o=t.component||re;return s.a.createElement(o,{config:t,translations:n,currentState:i,expanded:a,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.toggleInlineStyle})}}])&&ae(e.prototype,t),n&&ae(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function de(e){return(de="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function he(e,t){return(he=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ae(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=fe(t);if(n){var s=fe(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===de(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function fe(e){return(fe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ce.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(15);var me=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&he(e,t)}(i,r.Component);var e,t,n,a=Ae(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).getBlockTypes=function(e){return[{label:"Normal",displayName:e["components.controls.blocktype.normal"]},{label:"H1",displayName:e["components.controls.blocktype.h1"]},{label:"H2",displayName:e["components.controls.blocktype.h2"]},{label:"H3",displayName:e["components.controls.blocktype.h3"]},{label:"H4",displayName:e["components.controls.blocktype.h4"]},{label:"H5",displayName:e["components.controls.blocktype.h5"]},{label:"H6",displayName:e["components.controls.blocktype.h6"]},{label:"Blockquote",displayName:e["components.controls.blocktype.blockquote"]},{label:"Code",displayName:e["components.controls.blocktype.code"]}]},t.state={blockTypes:t.getBlockTypes(e.translations)},t}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.translations;t!==e.translations&&this.setState({blockTypes:this.getBlockTypes(t)})}},{key:"renderFlat",value:function(e){var t=this.props,n=t.config.className,r=t.onChange,a=t.currentState.blockType;return s.a.createElement("div",{className:d()("rdw-inline-wrapper",n)},e.map(function(e,t){return s.a.createElement(P,{key:t,value:e.label,active:a===e.label,onClick:r},e.displayName)}))}},{key:"renderInDropdown",value:function(e){var t=this.props,n=t.config,r=n.className,a=n.dropdownClassName,i=n.title,o=t.currentState.blockType,l=t.expanded,c=t.doExpand,u=t.onExpandEvent,h=t.doCollapse,A=t.onChange,f=t.translations,m=this.state.blockTypes.filter(function(e){return e.label===o}),p=m&&m[0]&&m[0].displayName;return s.a.createElement("div",{className:"rdw-block-wrapper","aria-label":"rdw-block-control"},s.a.createElement(K,{className:d()("rdw-block-dropdown",r),optionWrapperClassName:d()(a),onChange:A,expanded:l,doExpand:c,doCollapse:h,onExpandEvent:u,title:i||f["components.controls.blocktype.blocktype"]},s.a.createElement("span",null,p||f["components.controls.blocktype.blocktype"]),e.map(function(e,t){return s.a.createElement(X,{active:o===e.label,value:e.label,key:t},e.displayName)})))}},{key:"render",value:function(){var e=this.props.config,t=e.inDropdown,n=this.state.blockTypes.filter(function(t){var n=t.label;return-1<e.options.indexOf(n)});return t?this.renderInDropdown(n):this.renderFlat(n)}}])&&ue(e.prototype,t),n&&ue(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();me.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,doExpand:i.a.func,doCollapse:i.a.func,onChange:i.a.func,config:i.a.object,currentState:i.a.object,translations:i.a.object};var pe=me;function ge(e){return(ge="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function xe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function be(e,t){return(be=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ye(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=ve(t);if(n){var s=ve(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ge(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function ve(e){return(ve=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var we=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&be(e,t)}(i,r.Component);var e,t,n,a=ye(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).onExpandEvent=function(){t.signalExpanded=!t.state.expanded},t.expandCollapse=function(){t.setState({expanded:t.signalExpanded}),t.signalExpanded=!1},t.blocksTypes=[{label:"Normal",style:"unstyled"},{label:"H1",style:"header-one"},{label:"H2",style:"header-two"},{label:"H3",style:"header-three"},{label:"H4",style:"header-four"},{label:"H5",style:"header-five"},{label:"H6",style:"header-six"},{label:"Blockquote",style:"blockquote"},{label:"Code",style:"code"}],t.doExpand=function(){t.setState({expanded:!0})},t.doCollapse=function(){t.setState({expanded:!1})},t.toggleBlockType=function(e){var n=t.blocksTypes.find(function(t){return t.label===e}).style,r=t.props,s=r.editorState,a=r.onChange,i=o.RichUtils.toggleBlockType(s,n);i&&a(i)};var n=e.editorState,r=e.modalHandler;return t.state={expanded:!1,currentBlockType:n?Object(l.getSelectedBlocksType)(n):"unstyled"},r.registerCallBack(t.expandCollapse),t}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentBlockType:Object(l.getSelectedBlocksType)(t)})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,a=r.expanded,i=r.currentBlockType,o=t.component||pe,l=this.blocksTypes.find(function(e){return e.style===i});return s.a.createElement(o,{config:t,translations:n,currentState:{blockType:l&&l.label},onChange:this.toggleBlockType,expanded:a,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&xe(e.prototype,t),n&&xe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();we.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var je=we;function Ne(e){return(Ne="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Se(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=ke(t);if(n){var s=ke(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ne(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function ke(e){return(ke=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(16);var Be=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ce(e,t)}(i,r.Component);var e,t,n,a=Se(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={defaultFontSize:void 0},e}return e=i,(t=[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("DraftEditor-root");if(e&&0<e.length){var t=window.getComputedStyle(e[0]).getPropertyValue("font-size");t=t.substring(0,t.length-2),this.setState({defaultFontSize:t})}}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,a=t.dropdownClassName,i=t.options,o=t.title,l=e.onChange,c=e.expanded,u=e.doCollapse,h=e.onExpandEvent,A=e.doExpand,f=e.translations,m=this.props.currentState.fontSize,p=this.state.defaultFontSize;return p=Number(p),m=m||i&&0<=i.indexOf(p)&&p,s.a.createElement("div",{className:"rdw-fontsize-wrapper","aria-label":"rdw-font-size-control"},s.a.createElement(K,{className:d()("rdw-fontsize-dropdown",r),optionWrapperClassName:d()(a),onChange:l,expanded:c,doExpand:A,doCollapse:u,onExpandEvent:h,title:o||f["components.controls.fontsize.fontsize"]},m?s.a.createElement("span",null,m):s.a.createElement("img",{src:n,alt:""}),i.map(function(e,t){return s.a.createElement(X,{className:"rdw-fontsize-option",active:m===e,value:e,key:t},e)})))}}])&&_e(e.prototype,t),n&&_e(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ee(e){return(Ee="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Le(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Me(e,t){return(Me=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Fe(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Ie(t);if(n){var s=Ie(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ee(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Ie(e){return(Ie=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Be.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,doExpand:i.a.func,doCollapse:i.a.func,onChange:i.a.func,config:i.a.object,currentState:i.a.object,translations:i.a.object};var De=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Me(e,t)}(i,r.Component);var e,t,n,a=Fe(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).onExpandEvent=function(){t.signalExpanded=!t.state.expanded},t.expandCollapse=function(){t.setState({expanded:t.signalExpanded}),t.signalExpanded=!1},t.doExpand=function(){t.setState({expanded:!0})},t.doCollapse=function(){t.setState({expanded:!1})},t.toggleFontSize=function(e){var n=t.props,r=n.editorState,s=n.onChange,a=Object(l.toggleCustomInlineStyle)(r,"fontSize",e);a&&s(a)};var n=e.editorState,r=e.modalHandler;return t.state={expanded:void 0,currentFontSize:n?Object(l.getSelectionCustomInlineStyle)(n,["FONTSIZE"]).FONTSIZE:void 0},r.registerCallBack(t.expandCollapse),t}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentFontSize:Object(l.getSelectionCustomInlineStyle)(t,["FONTSIZE"]).FONTSIZE})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,a=r.expanded,i=r.currentFontSize,o=t.component||Be,l=i&&Number(i.substring(9));return s.a.createElement(o,{config:t,translations:n,currentState:{fontSize:l},onChange:this.toggleFontSize,expanded:a,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&Le(e.prototype,t),n&&Le(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Te(e){return(Te="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e,t){return(Pe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ue(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Re(t);if(n){var s=Re(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Te(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Re(e){return(Re=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}De.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(17);var Qe=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pe(e,t)}(i,r.Component);var e,t,n,a=Ue(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={defaultFontFamily:void 0},e}return e=i,(t=[{key:"componentDidMount",value:function(){var e=document.getElementsByClassName("DraftEditor-root");if(e&&0<e.length){var t=window.getComputedStyle(e[0]).getPropertyValue("font-family");this.setState({defaultFontFamily:t})}}},{key:"render",value:function(){var e=this.state.defaultFontFamily,t=this.props,n=t.config,r=n.className,a=n.dropdownClassName,i=n.options,o=n.title,l=t.translations,c=t.onChange,u=t.expanded,h=t.doCollapse,A=t.onExpandEvent,f=t.doExpand,m=this.props.currentState.fontFamily;return m=m||i&&e&&i.some(function(t){return t.toLowerCase()===e.toLowerCase()})&&e,s.a.createElement("div",{className:"rdw-fontfamily-wrapper","aria-label":"rdw-font-family-control"},s.a.createElement(K,{className:d()("rdw-fontfamily-dropdown",r),optionWrapperClassName:d()("rdw-fontfamily-optionwrapper",a),onChange:c,expanded:u,doExpand:f,doCollapse:h,onExpandEvent:A,title:o||l["components.controls.fontfamily.fontfamily"]},s.a.createElement("span",{className:"rdw-fontfamily-placeholder"},m||l["components.controls.fontfamily.fontfamily"]),i.map(function(e,t){return s.a.createElement(X,{active:m===e,value:e,key:t},e)})))}}])&&Oe(e.prototype,t),n&&Oe(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();Qe.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,doExpand:i.a.func,doCollapse:i.a.func,onChange:i.a.func,config:i.a.object,currentState:i.a.object,translations:i.a.object};var ze=Qe;function He(e){return(He="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function We(e,t){return(We=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ve(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=qe(t);if(n){var s=qe(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===He(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function qe(e){return(qe=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Ge=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&We(e,t)}(i,r.Component);var e,t,n,a=Ve(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).onExpandEvent=function(){t.signalExpanded=!t.state.expanded},t.expandCollapse=function(){t.setState({expanded:t.signalExpanded}),t.signalExpanded=!1},t.doExpand=function(){t.setState({expanded:!0})},t.doCollapse=function(){t.setState({expanded:!1})},t.toggleFontFamily=function(e){var n=t.props,r=n.editorState,s=n.onChange,a=Object(l.toggleCustomInlineStyle)(r,"fontFamily",e);a&&s(a)};var n=e.editorState,r=e.modalHandler;return t.state={expanded:void 0,currentFontFamily:n?Object(l.getSelectionCustomInlineStyle)(n,["FONTFAMILY"]).FONTFAMILY:void 0},r.registerCallBack(t.expandCollapse),t}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentFontFamily:Object(l.getSelectionCustomInlineStyle)(t,["FONTFAMILY"]).FONTFAMILY})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,a=r.expanded,i=r.currentFontFamily,o=t.component||ze,l=i&&i.substring(11);return s.a.createElement(o,{translations:n,config:t,currentState:{fontFamily:l},onChange:this.toggleFontFamily,expanded:a,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&Ke(e.prototype,t),n&&Ke(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Ye(e){return(Ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Xe(e,t){return(Xe=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Ze(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=$e(t);if(n){var s=$e(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ye(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function $e(e){return($e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Ge.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(18);var et=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Xe(e,t)}(i,r.Component);var e,t,n,a=Ze(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).options=["unordered","ordered","indent","outdent"],e.toggleBlockType=function(t){(0,e.props.onChange)(t)},e.indent=function(){(0,e.props.onChange)("indent")},e.outdent=function(){(0,e.props.onChange)("outdent")},e}return e=i,(t=[{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=e.currentState.listType,r=e.translations,a=e.indentDisabled,i=e.outdentDisabled,o=t.options,l=t.unordered,c=t.ordered,u=t.indent,h=t.outdent,A=t.className;return s.a.createElement("div",{className:d()("rdw-list-wrapper",A),"aria-label":"rdw-list-control"},0<=o.indexOf("unordered")&&s.a.createElement(P,{value:"unordered",onClick:this.toggleBlockType,className:d()(l.className),active:"unordered"===n,title:l.title||r["components.controls.list.unordered"]},s.a.createElement("img",{src:l.icon,alt:""})),0<=o.indexOf("ordered")&&s.a.createElement(P,{value:"ordered",onClick:this.toggleBlockType,className:d()(c.className),active:"ordered"===n,title:c.title||r["components.controls.list.ordered"]},s.a.createElement("img",{src:c.icon,alt:""})),0<=o.indexOf("indent")&&s.a.createElement(P,{onClick:this.indent,disabled:a,className:d()(u.className),title:u.title||r["components.controls.list.indent"]},s.a.createElement("img",{src:u.icon,alt:""})),0<=o.indexOf("outdent")&&s.a.createElement(P,{onClick:this.outdent,disabled:i,className:d()(h.className),title:h.title||r["components.controls.list.outdent"]},s.a.createElement("img",{src:h.icon,alt:""})))}},{key:"renderInDropDown",value:function(){var e=this,t=this.props,n=t.config,r=t.expanded,a=t.doCollapse,i=t.doExpand,o=t.onExpandEvent,l=t.onChange,c=t.currentState.listType,u=t.translations,h=n.options,A=n.className,f=n.dropdownClassName,m=n.title;return s.a.createElement(K,{className:d()("rdw-list-dropdown",A),optionWrapperClassName:d()(f),onChange:l,expanded:r,doExpand:i,doCollapse:a,onExpandEvent:o,"aria-label":"rdw-list-control",title:m||u["components.controls.list.list"]},s.a.createElement("img",{src:S(n),alt:""}),this.options.filter(function(e){return 0<=h.indexOf(e)}).map(function(t,r){return s.a.createElement(X,{key:r,value:t,disabled:e.props["".concat(t,"Disabled")],className:d()("rdw-list-dropdownOption",n[t].className),active:c===t,title:n[t].title||u["components.controls.list.".concat(t)]},s.a.createElement("img",{src:n[t].icon,alt:""}))}))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&Je(e.prototype,t),n&&Je(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function tt(e){return(tt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function nt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function rt(e,t){return(rt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function st(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=at(t);if(n){var s=at(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===tt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function at(e){return(at=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}et.propTypes={expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,config:i.a.object,onChange:i.a.func,currentState:i.a.object,translations:i.a.object,indentDisabled:i.a.bool,outdentDisabled:i.a.bool};var it=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&rt(e,t)}(i,r.Component);var e,t,n,a=st(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).onExpandEvent=function(){t.signalExpanded=!t.state.expanded},t.onChange=function(e){"unordered"===e?t.toggleBlockType("unordered-list-item"):"ordered"===e?t.toggleBlockType("ordered-list-item"):"indent"===e?t.adjustDepth(1):t.adjustDepth(-1)},t.expandCollapse=function(){t.setState({expanded:t.signalExpanded}),t.signalExpanded=!1},t.doExpand=function(){t.setState({expanded:!0})},t.doCollapse=function(){t.setState({expanded:!1})},t.toggleBlockType=function(e){var n=t.props,r=n.onChange,s=n.editorState,a=o.RichUtils.toggleBlockType(s,e);a&&r(a)},t.adjustDepth=function(e){var n=t.props,r=n.onChange,s=n.editorState,a=Object(l.changeDepth)(s,e,4);a&&r(a)},t.isIndentDisabled=function(){var e=t.props.editorState,n=t.state.currentBlock,r=Object(l.getBlockBeforeSelectedBlock)(e);return!r||!Object(l.isListBlock)(n)||r.get("type")!==n.get("type")||r.get("depth")<n.get("depth")},t.isOutdentDisabled=function(){var e=t.state.currentBlock;return!e||!Object(l.isListBlock)(e)||e.get("depth")<=0};var n=t.props,r=n.editorState,s=n.modalHandler;return t.state={expanded:!1,currentBlock:r?Object(l.getSelectedBlock)(r):void 0},s.registerCallBack(t.expandCollapse),t}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentBlock:Object(l.getSelectedBlock)(t)})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e,t=this.props,n=t.config,r=t.translations,a=this.state,i=a.expanded,o=a.currentBlock,l=n.component||et;"unordered-list-item"===o.get("type")?e="unordered":"ordered-list-item"===o.get("type")&&(e="ordered");var c=this.isIndentDisabled(),d=this.isOutdentDisabled();return s.a.createElement(l,{config:n,translations:r,currentState:{listType:e},expanded:i,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.onChange,indentDisabled:c,outdentDisabled:d})}}])&&nt(e.prototype,t),n&&nt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function ot(e){return(ot="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function lt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ct(e,t){return(ct=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function dt(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=ut(t);if(n){var s=ut(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ot(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function ut(e){return(ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}it.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(19);var ht=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ct(e,t)}(i,r.Component);var e,t,n,a=dt(i);function i(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),a.apply(this,arguments)}return e=i,(t=[{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=t.options,r=t.left,a=t.center,i=t.right,o=t.justify,l=t.className,c=e.onChange,u=e.currentState.textAlignment,h=e.translations;return s.a.createElement("div",{className:d()("rdw-text-align-wrapper",l),"aria-label":"rdw-textalign-control"},0<=n.indexOf("left")&&s.a.createElement(P,{value:"left",className:d()(r.className),active:"left"===u,onClick:c,title:r.title||h["components.controls.textalign.left"]},s.a.createElement("img",{src:r.icon,alt:""})),0<=n.indexOf("center")&&s.a.createElement(P,{value:"center",className:d()(a.className),active:"center"===u,onClick:c,title:a.title||h["components.controls.textalign.center"]},s.a.createElement("img",{src:a.icon,alt:""})),0<=n.indexOf("right")&&s.a.createElement(P,{value:"right",className:d()(i.className),active:"right"===u,onClick:c,title:i.title||h["components.controls.textalign.right"]},s.a.createElement("img",{src:i.icon,alt:""})),0<=n.indexOf("justify")&&s.a.createElement(P,{value:"justify",className:d()(o.className),active:"justify"===u,onClick:c,title:o.title||h["components.controls.textalign.justify"]},s.a.createElement("img",{src:o.icon,alt:""})))}},{key:"renderInDropDown",value:function(){var e=this.props,t=e.config,n=e.expanded,r=e.doExpand,a=e.onExpandEvent,i=e.doCollapse,o=e.currentState.textAlignment,l=e.onChange,c=e.translations,u=t.options,h=t.left,A=t.center,f=t.right,m=t.justify,p=t.className,g=t.dropdownClassName,x=t.title;return s.a.createElement(K,{className:d()("rdw-text-align-dropdown",p),optionWrapperClassName:d()(g),onChange:l,expanded:n,doExpand:r,doCollapse:i,onExpandEvent:a,"aria-label":"rdw-textalign-control",title:x||c["components.controls.textalign.textalign"]},s.a.createElement("img",{src:o&&t[o]&&t[o].icon||S(t),alt:""}),0<=u.indexOf("left")&&s.a.createElement(X,{value:"left",active:"left"===o,className:d()("rdw-text-align-dropdownOption",h.className),title:h.title||c["components.controls.textalign.left"]},s.a.createElement("img",{src:h.icon,alt:""})),0<=u.indexOf("center")&&s.a.createElement(X,{value:"center",active:"center"===o,className:d()("rdw-text-align-dropdownOption",A.className),title:A.title||c["components.controls.textalign.center"]},s.a.createElement("img",{src:A.icon,alt:""})),0<=u.indexOf("right")&&s.a.createElement(X,{value:"right",active:"right"===o,className:d()("rdw-text-align-dropdownOption",f.className),title:f.title||c["components.controls.textalign.right"]},s.a.createElement("img",{src:f.icon,alt:""})),0<=u.indexOf("justify")&&s.a.createElement(X,{value:"justify",active:"justify"===o,className:d()("rdw-text-align-dropdownOption",m.className),title:m.title||c["components.controls.textalign.justify"]},s.a.createElement("img",{src:m.icon,alt:""})))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&lt(e.prototype,t),n&&lt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function At(e){return(At="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ft(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mt(e,t){return(mt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pt(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=gt(t);if(n){var s=gt(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===At(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function gt(e){return(gt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}ht.propTypes={expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,config:i.a.object,onChange:i.a.func,currentState:i.a.object,translations:i.a.object};var xt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mt(e,t)}(i,r.Component);var e,t,n,a=pt(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).onExpandEvent=function(){t.signalExpanded=!t.state.expanded},t.expandCollapse=function(){t.setState({expanded:t.signalExpanded}),t.signalExpanded=!1},t.doExpand=function(){t.setState({expanded:!0})},t.doCollapse=function(){t.setState({expanded:!1})},t.addBlockAlignmentData=function(e){var n=t.props,r=n.editorState;(0,n.onChange)(t.state.currentTextAlignment!==e?Object(l.setBlockData)(r,{"text-align":e}):Object(l.setBlockData)(r,{"text-align":void 0}))};var n=t.props.modalHandler;return t.state={currentTextAlignment:void 0},n.registerCallBack(t.expandCollapse),t}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t!==e.editorState&&this.setState({currentTextAlignment:Object(l.getSelectedBlocksMetadata)(t).get("text-align")})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,a=r.expanded,i=r.currentTextAlignment,o=t.component||ht;return s.a.createElement(o,{config:t,translations:n,expanded:a,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,currentState:{textAlignment:i},onChange:this.addBlockAlignmentData})}}])&&ft(e.prototype,t),n&&ft(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function bt(e){return(bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function yt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vt(e,t){return(vt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function wt(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=jt(t);if(n){var s=jt(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===bt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function jt(e){return(jt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}xt.propTypes={editorState:i.a.object.isRequired,onChange:i.a.func.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(20);var Nt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&vt(e,t)}(i,r.Component);var e,t,n,a=wt(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={currentStyle:"color"},e.onChange=function(t){(0,e.props.onChange)(e.state.currentStyle,t)},e.setCurrentStyleColor=function(){e.setState({currentStyle:"color"})},e.setCurrentStyleBgcolor=function(){e.setState({currentStyle:"bgcolor"})},e.renderModal=function(){var t=e.props,n=t.config,r=n.popupClassName,a=n.colors,i=t.currentState,o=i.color,l=i.bgColor,c=t.translations,u=e.state.currentStyle,h="color"===u?o:l;return s.a.createElement("div",{className:d()("rdw-colorpicker-modal",r),onClick:C},s.a.createElement("span",{className:"rdw-colorpicker-modal-header"},s.a.createElement("span",{className:d()("rdw-colorpicker-modal-style-label",{"rdw-colorpicker-modal-style-label-active":"color"===u}),onClick:e.setCurrentStyleColor},c["components.controls.colorpicker.text"]),s.a.createElement("span",{className:d()("rdw-colorpicker-modal-style-label",{"rdw-colorpicker-modal-style-label-active":"bgcolor"===u}),onClick:e.setCurrentStyleBgcolor},c["components.controls.colorpicker.background"])),s.a.createElement("span",{className:"rdw-colorpicker-modal-options"},a.map(function(t,n){return s.a.createElement(P,{value:t,key:n,className:"rdw-colorpicker-option",activeClassName:"rdw-colorpicker-option-active",active:h===t,onClick:e.onChange},s.a.createElement("span",{style:{backgroundColor:t},className:"rdw-colorpicker-cube"}))})))},e}return e=i,(t=[{key:"componentDidUpdate",value:function(e){this.props.expanded&&!e.expanded&&this.setState({currentStyle:"color"})}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,a=t.title,i=e.expanded,o=e.onExpandEvent,l=e.translations;return s.a.createElement("div",{className:"rdw-colorpicker-wrapper","aria-haspopup":"true","aria-expanded":i,"aria-label":"rdw-color-picker",title:a||l["components.controls.colorpicker.colorpicker"]},s.a.createElement(P,{onClick:o,className:d()(r)},s.a.createElement("img",{src:n,alt:""})),i?this.renderModal():void 0)}}])&&yt(e.prototype,t),n&&yt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();Nt.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,onChange:i.a.func,config:i.a.object,currentState:i.a.object,translations:i.a.object};var _t=Nt;function Ct(e){return(Ct="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function St(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function kt(e,t){return(kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Bt(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Et(t);if(n){var s=Et(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ct(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Et(e){return(Et=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Lt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&kt(e,t)}(i,r.Component);var e,t,n,a=Bt(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).state={expanded:!1,currentColor:void 0,currentBgColor:void 0},t.onExpandEvent=function(){t.signalExpanded=!t.state.expanded},t.expandCollapse=function(){t.setState({expanded:t.signalExpanded}),t.signalExpanded=!1},t.doExpand=function(){t.setState({expanded:!0})},t.doCollapse=function(){t.setState({expanded:!1})},t.toggleColor=function(e,n){var r=t.props,s=r.editorState,a=r.onChange,i=Object(l.toggleCustomInlineStyle)(s,e,n);i&&a(i),t.doCollapse()};var n=e.editorState,r=e.modalHandler,s={expanded:!1,currentColor:void 0,currentBgColor:void 0};return n&&(s.currentColor=Object(l.getSelectionCustomInlineStyle)(n,["COLOR"]).COLOR,s.currentBgColor=Object(l.getSelectionCustomInlineStyle)(n,["BGCOLOR"]).BGCOLOR),t.state=s,r.registerCallBack(t.expandCollapse),t}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentColor:Object(l.getSelectionCustomInlineStyle)(t,["COLOR"]).COLOR,currentBgColor:Object(l.getSelectionCustomInlineStyle)(t,["BGCOLOR"]).BGCOLOR})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,a=r.currentColor,i=r.currentBgColor,o=r.expanded,l=t.component||_t,c=a&&a.substring(6),d=i&&i.substring(8);return s.a.createElement(l,{config:t,translations:n,onChange:this.toggleColor,expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,currentState:{color:c,bgColor:d}})}}])&&St(e.prototype,t),n&&St(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();Lt.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var Mt=Lt,Ft=n(7),It=n.n(Ft);function Dt(e){return(Dt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Tt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ot(e,t){return(Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Pt(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Ut(t);if(n){var s=Ut(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Dt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Ut(e){return(Ut=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(26);var Rt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ot(e,t)}(i,r.Component);var e,t,n,a=Pt(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={showModal:!1,linkTarget:"",linkTitle:"",linkTargetOption:e.props.config.defaultTargetOption},e.removeLink=function(){(0,e.props.onChange)("unlink")},e.addLink=function(){var t=e.props.onChange,n=e.state;t("link",n.linkTitle,n.linkTarget,n.linkTargetOption)},e.updateValue=function(t){var n,r,s;e.setState((n={},r="".concat(t.target.name),s=t.target.value,r in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n))},e.updateTargetOption=function(t){e.setState({linkTargetOption:t.target.checked?"_blank":"_self"})},e.hideModal=function(){e.setState({showModal:!1})},e.signalExpandShowModal=function(){var t=e.props,n=t.onExpandEvent,r=t.currentState,s=r.link,a=r.selectionText,i=e.state.linkTargetOption;n(),e.setState({showModal:!0,linkTarget:s&&s.target||"",linkTargetOption:s&&s.targetOption||i,linkTitle:s&&s.title||a})},e.forceExpandAndShowModal=function(){var t=e.props,n=t.doExpand,r=t.currentState,s=r.link,a=r.selectionText,i=e.state.linkTargetOption;n(),e.setState({showModal:!0,linkTarget:s&&s.target,linkTargetOption:s&&s.targetOption||i,linkTitle:s&&s.title||a})},e}return e=i,(t=[{key:"componentDidUpdate",value:function(e){e.expanded&&!this.props.expanded&&this.setState({showModal:!1,linkTarget:"",linkTitle:"",linkTargetOption:this.props.config.defaultTargetOption})}},{key:"renderAddLinkModal",value:function(){var e=this.props,t=e.config.popupClassName,n=e.doCollapse,r=e.translations,a=this.state,i=a.linkTitle,o=a.linkTarget,l=a.linkTargetOption;return s.a.createElement("div",{className:d()("rdw-link-modal",t),onClick:C},s.a.createElement("label",{className:"rdw-link-modal-label",htmlFor:"linkTitle"},r["components.controls.link.linkTitle"]),s.a.createElement("input",{id:"linkTitle",className:"rdw-link-modal-input",onChange:this.updateValue,onBlur:this.updateValue,name:"linkTitle",value:i}),s.a.createElement("label",{className:"rdw-link-modal-label",htmlFor:"linkTarget"},r["components.controls.link.linkTarget"]),s.a.createElement("input",{id:"linkTarget",className:"rdw-link-modal-input",onChange:this.updateValue,onBlur:this.updateValue,name:"linkTarget",value:o}),s.a.createElement("label",{className:"rdw-link-modal-target-option",htmlFor:"openLinkInNewWindow"},s.a.createElement("input",{id:"openLinkInNewWindow",type:"checkbox",defaultChecked:"_blank"===l,value:"_blank",onChange:this.updateTargetOption}),s.a.createElement("span",null,r["components.controls.link.linkTargetOption"])),s.a.createElement("span",{className:"rdw-link-modal-buttonsection"},s.a.createElement("button",{className:"rdw-link-modal-btn",onClick:this.addLink,disabled:!o||!i},r["generic.add"]),s.a.createElement("button",{className:"rdw-link-modal-btn",onClick:n},r["generic.cancel"])))}},{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=t.options,r=t.link,a=t.unlink,i=t.className,o=e.currentState,l=e.expanded,c=e.translations,u=this.state.showModal;return s.a.createElement("div",{className:d()("rdw-link-wrapper",i),"aria-label":"rdw-link-control"},0<=n.indexOf("link")&&s.a.createElement(P,{value:"unordered-list-item",className:d()(r.className),onClick:this.signalExpandShowModal,"aria-haspopup":"true","aria-expanded":u,title:r.title||c["components.controls.link.link"]},s.a.createElement("img",{src:r.icon,alt:""})),0<=n.indexOf("unlink")&&s.a.createElement(P,{disabled:!o.link,value:"ordered-list-item",className:d()(a.className),onClick:this.removeLink,title:a.title||c["components.controls.link.unlink"]},s.a.createElement("img",{src:a.icon,alt:""})),l&&u?this.renderAddLinkModal():void 0)}},{key:"renderInDropDown",value:function(){var e=this.props,t=e.expanded,n=e.onExpandEvent,r=e.doCollapse,a=e.doExpand,i=e.onChange,o=e.config,l=e.currentState,c=e.translations,u=o.options,h=o.link,A=o.unlink,f=o.className,m=o.dropdownClassName,p=o.title,g=this.state.showModal;return s.a.createElement("div",{className:"rdw-link-wrapper","aria-haspopup":"true","aria-label":"rdw-link-control","aria-expanded":t,title:p},s.a.createElement(K,{className:d()("rdw-link-dropdown",f),optionWrapperClassName:d()(m),onChange:i,expanded:t&&!g,doExpand:a,doCollapse:r,onExpandEvent:n},s.a.createElement("img",{src:S(o),alt:""}),0<=u.indexOf("link")&&s.a.createElement(X,{onClick:this.forceExpandAndShowModal,className:d()("rdw-link-dropdownoption",h.className),title:h.title||c["components.controls.link.link"]},s.a.createElement("img",{src:h.icon,alt:""})),0<=u.indexOf("unlink")&&s.a.createElement(X,{onClick:this.removeLink,disabled:!l.link,className:d()("rdw-link-dropdownoption",A.className),title:A.title||c["components.controls.link.unlink"]},s.a.createElement("img",{src:A.icon,alt:""}))),t&&g?this.renderAddLinkModal():void 0)}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&Tt(e.prototype,t),n&&Tt(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();Rt.propTypes={expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,config:i.a.object,onChange:i.a.func,currentState:i.a.object,translations:i.a.object};var Qt=Rt;function zt(e){return(zt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Ht(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Kt(e,t){return(Kt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Wt(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Vt(t);if(n){var s=Vt(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===zt(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Vt(e){return(Vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function qt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Gt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?qt(Object(n),!0).forEach(function(t){Yt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Yt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Jt(e){var t=Xt.match(e.target);return Gt(Gt({},e),{},{target:t&&t[0]&&t[0].url||e.target})}var Xt=It()(),Zt=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Kt(e,t)}(i,r.Component);var e,t,n,a=Wt(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).onExpandEvent=function(){t.signalExpanded=!t.state.expanded},t.onChange=function(e,n,r,s){var a=t.props.config.linkCallback;if("link"===e){var i=(a||Jt)({title:n,target:r,targetOption:s});t.addLink(i.title,i.target,i.targetOption)}else t.removeLink()},t.getCurrentValues=function(){var e=t.props.editorState,n=t.state.currentEntity,r=e.getCurrentContent(),s={};if(n&&"LINK"===r.getEntity(n).get("type")){s.link={};var a=n&&Object(l.getEntityRange)(e,n);s.link.target=n&&r.getEntity(n).get("data").url,s.link.targetOption=n&&r.getEntity(n).get("data").targetOption,s.link.title=a&&a.text}return s.selectionText=Object(l.getSelectionText)(e),s},t.doExpand=function(){t.setState({expanded:!0})},t.expandCollapse=function(){t.setState({expanded:t.signalExpanded}),t.signalExpanded=!1},t.doCollapse=function(){t.setState({expanded:!1})},t.removeLink=function(){var e=t.props,n=e.editorState,r=e.onChange,s=t.state.currentEntity,a=n.getSelection();if(s){var i=Object(l.getEntityRange)(n,s);a=a.getIsBackward()?a.merge({anchorOffset:i.end,focusOffset:i.start}):a.merge({anchorOffset:i.start,focusOffset:i.end}),r(o.RichUtils.toggleLink(n,a,null))}},t.addLink=function(e,n,r){var s=t.props,a=s.editorState,i=s.onChange,c=t.state.currentEntity,d=a.getSelection();if(c){var u=Object(l.getEntityRange)(a,c);d=d.getIsBackward()?d.merge({anchorOffset:u.end,focusOffset:u.start}):d.merge({anchorOffset:u.start,focusOffset:u.end})}var h=a.getCurrentContent().createEntity("LINK","MUTABLE",{url:n,targetOption:r}).getLastCreatedEntityKey(),A=o.Modifier.replaceText(a.getCurrentContent(),d,"".concat(e),a.getCurrentInlineStyle(),h),f=o.EditorState.push(a,A,"insert-characters");d=f.getSelection().merge({anchorOffset:d.get("anchorOffset")+e.length,focusOffset:d.get("anchorOffset")+e.length}),f=o.EditorState.acceptSelection(f,d),A=o.Modifier.insertText(f.getCurrentContent(),d," ",f.getCurrentInlineStyle(),void 0),i(o.EditorState.push(f,A,"insert-characters")),t.doCollapse()};var n=t.props,r=n.editorState,s=n.modalHandler;return t.state={expanded:!1,link:void 0,selectionText:void 0,currentEntity:r?Object(l.getSelectionEntity)(r):void 0},s.registerCallBack(t.expandCollapse),t}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&t!==e.editorState&&this.setState({currentEntity:Object(l.getSelectionEntity)(t)})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,a=this.getCurrentValues(),i=a.link,o=a.selectionText,l=t.component||Qt;return s.a.createElement(l,{config:t,translations:n,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,currentState:{link:i,selectionText:o},onChange:this.onChange})}}])&&Ht(e.prototype,t),n&&Ht(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();Zt.propTypes={editorState:i.a.object.isRequired,onChange:i.a.func.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var $t=Zt;function en(e){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function tn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function nn(e,t){return(nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rn(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=sn(t);if(n){var s=sn(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===en(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function sn(e){return(sn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(27);var an=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&nn(e,t)}(i,r.Component);var e,t,n,a=rn(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={embeddedLink:"",height:e.props.config.defaultSize.height,width:e.props.config.defaultSize.width},e.onChange=function(){var t=e.props.onChange,n=e.state;t(n.embeddedLink,n.height,n.width)},e.updateValue=function(t){var n,r,s;e.setState((n={},r="".concat(t.target.name),s=t.target.value,r in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n))},e}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.expanded,r=t.config;if(!n&&e.expanded){var s=r.defaultSize,a=s.height,i=s.width;this.setState({embeddedLink:"",height:a,width:i})}}},{key:"rendeEmbeddedLinkModal",value:function(){var e=this.state,t=e.embeddedLink,n=e.height,r=e.width,a=this.props,i=a.config.popupClassName,o=a.doCollapse,l=a.translations;return s.a.createElement("div",{className:d()("rdw-embedded-modal",i),onClick:C},s.a.createElement("div",{className:"rdw-embedded-modal-header"},s.a.createElement("span",{className:"rdw-embedded-modal-header-option"},l["components.controls.embedded.embeddedlink"],s.a.createElement("span",{className:"rdw-embedded-modal-header-label"}))),s.a.createElement("div",{className:"rdw-embedded-modal-link-section"},s.a.createElement("span",{className:"rdw-embedded-modal-link-input-wrapper"},s.a.createElement("input",{className:"rdw-embedded-modal-link-input",placeholder:l["components.controls.embedded.enterlink"],onChange:this.updateValue,onBlur:this.updateValue,value:t,name:"embeddedLink"}),s.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),s.a.createElement("div",{className:"rdw-embedded-modal-size"},s.a.createElement("span",null,s.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:n,name:"height",className:"rdw-embedded-modal-size-input",placeholder:"Height"}),s.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),s.a.createElement("span",null,s.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:r,name:"width",className:"rdw-embedded-modal-size-input",placeholder:"Width"}),s.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")))),s.a.createElement("span",{className:"rdw-embedded-modal-btn-section"},s.a.createElement("button",{type:"button",className:"rdw-embedded-modal-btn",onClick:this.onChange,disabled:!t||!n||!r},l["generic.add"]),s.a.createElement("button",{type:"button",className:"rdw-embedded-modal-btn",onClick:o},l["generic.cancel"])))}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,a=t.title,i=e.expanded,o=e.onExpandEvent,l=e.translations;return s.a.createElement("div",{className:"rdw-embedded-wrapper","aria-haspopup":"true","aria-expanded":i,"aria-label":"rdw-embedded-control"},s.a.createElement(P,{className:d()(r),value:"unordered-list-item",onClick:o,title:a||l["components.controls.embedded.embedded"]},s.a.createElement("img",{src:n,alt:""})),i?this.rendeEmbeddedLinkModal():void 0)}}])&&tn(e.prototype,t),n&&tn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();an.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,onChange:i.a.func,config:i.a.object,translations:i.a.object,doCollapse:i.a.func};var on=an;function ln(e){return(ln="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function cn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function dn(e,t){return(dn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function un(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=hn(t);if(n){var s=hn(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===ln(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function hn(e){return(hn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var An=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&dn(e,t)}(i,r.Component);var e,t,n,a=un(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={expanded:!1},e.onExpandEvent=function(){e.signalExpanded=!e.state.expanded},e.expandCollapse=function(){e.setState({expanded:e.signalExpanded}),e.signalExpanded=!1},e.doExpand=function(){e.setState({expanded:!0})},e.doCollapse=function(){e.setState({expanded:!1})},e.addEmbeddedLink=function(t,n,r){var s=e.props,a=s.editorState,i=s.onChange,l=s.config.embedCallback,c=l?l(t):t,d=a.getCurrentContent().createEntity("EMBEDDED_LINK","MUTABLE",{src:c,height:n,width:r}).getLastCreatedEntityKey();i(o.AtomicBlockUtils.insertAtomicBlock(a,d," ")),e.doCollapse()},e}return e=i,(t=[{key:"componentDidMount",value:function(){this.props.modalHandler.registerCallBack(this.expandCollapse)}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,a=t.component||on;return s.a.createElement(a,{config:t,translations:n,onChange:this.addEmbeddedLink,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&cn(e.prototype,t),n&&cn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();An.propTypes={editorState:i.a.object.isRequired,onChange:i.a.func.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var fn=An;function mn(e){return(mn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function pn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function gn(e,t){return(gn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function xn(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=bn(t);if(n){var s=bn(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===mn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function bn(e){return(bn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(28);var yn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&gn(e,t)}(i,r.Component);var e,t,n,a=xn(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).onChange=function(t){(0,e.props.onChange)(t.target.innerHTML)},e}return e=i,(t=[{key:"renderEmojiModal",value:function(){var e=this,t=this.props.config,n=t.popupClassName,r=t.emojis;return s.a.createElement("div",{className:d()("rdw-emoji-modal",n),onClick:C},r.map(function(t,n){return s.a.createElement("span",{key:n,className:"rdw-emoji-icon",alt:"",onClick:e.onChange},t)}))}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,a=t.title,i=e.expanded,o=e.onExpandEvent,l=e.translations;return s.a.createElement("div",{className:"rdw-emoji-wrapper","aria-haspopup":"true","aria-label":"rdw-emoji-control","aria-expanded":i,title:a||l["components.controls.emoji.emoji"]},s.a.createElement(P,{className:d()(r),value:"unordered-list-item",onClick:o},s.a.createElement("img",{src:n,alt:""})),i?this.renderEmojiModal():void 0)}}])&&pn(e.prototype,t),n&&pn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();yn.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,onChange:i.a.func,config:i.a.object,translations:i.a.object};var vn=yn;function wn(e){return(wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function jn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Nn(e,t){return(Nn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function _n(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Cn(t);if(n){var s=Cn(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===wn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Cn(e){return(Cn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Sn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Nn(e,t)}(i,r.Component);var e,t,n,a=_n(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={expanded:!1},e.onExpandEvent=function(){e.signalExpanded=!e.state.expanded},e.expandCollapse=function(){e.setState({expanded:e.signalExpanded}),e.signalExpanded=!1},e.doExpand=function(){e.setState({expanded:!0})},e.doCollapse=function(){e.setState({expanded:!1})},e.addEmoji=function(t){var n=e.props,r=n.editorState,s=n.onChange,a=o.Modifier.replaceText(r.getCurrentContent(),r.getSelection(),t,r.getCurrentInlineStyle());s(o.EditorState.push(r,a,"insert-characters")),e.doCollapse()},e}return e=i,(t=[{key:"componentDidMount",value:function(){this.props.modalHandler.registerCallBack(this.expandCollapse)}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,a=t.component||vn;return s.a.createElement(a,{config:t,translations:n,onChange:this.addEmoji,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onCollpase:this.closeModal})}}])&&jn(e.prototype,t),n&&jn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function kn(){return s.a.createElement("div",{className:"rdw-spinner"},s.a.createElement("div",{className:"rdw-bounce1"}),s.a.createElement("div",{className:"rdw-bounce2"}),s.a.createElement("div",{className:"rdw-bounce3"}))}function Bn(e){return(Bn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function En(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ln(e,t){return(Ln=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Mn(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Fn(t);if(n){var s=Fn(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Bn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Fn(e){return(Fn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Sn.propTypes={editorState:i.a.object.isRequired,onChange:i.a.func.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object},n(29),n(30);var In=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Ln(e,t)}(i,r.Component);var e,t,n,a=Mn(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={imgSrc:"",dragEnter:!1,uploadHighlighted:e.props.config.uploadEnabled&&!!e.props.config.uploadCallback,showImageLoading:!1,height:e.props.config.defaultSize.height,width:e.props.config.defaultSize.width,alt:""},e.onDragEnter=function(t){e.stopPropagation(t),e.setState({dragEnter:!0})},e.onImageDrop=function(t){var n,r;t.preventDefault(),t.stopPropagation(),e.setState({dragEnter:!1}),r=t.dataTransfer.items?(n=t.dataTransfer.items,!0):(n=t.dataTransfer.files,!1);for(var s=0;s<n.length;s+=1)if((!r||"file"===n[s].kind)&&n[s].type.match("^image/")){var a=r?n[s].getAsFile():n[s];e.uploadImage(a)}},e.showImageUploadOption=function(){e.setState({uploadHighlighted:!0})},e.addImageFromState=function(){var t=e.state,n=t.imgSrc,r=t.alt,s=e.state,a=s.height,i=s.width,o=e.props.onChange;isNaN(a)||(a+="px"),isNaN(i)||(i+="px"),o(n,a,i,r)},e.showImageURLOption=function(){e.setState({uploadHighlighted:!1})},e.toggleShowImageLoading=function(){var t=!e.state.showImageLoading;e.setState({showImageLoading:t})},e.updateValue=function(t){var n,r,s;e.setState((n={},r="".concat(t.target.name),s=t.target.value,r in n?Object.defineProperty(n,r,{value:s,enumerable:!0,configurable:!0,writable:!0}):n[r]=s,n))},e.selectImage=function(t){t.target.files&&0<t.target.files.length&&e.uploadImage(t.target.files[0])},e.uploadImage=function(t){e.toggleShowImageLoading(),(0,e.props.config.uploadCallback)(t).then(function(t){var n=t.data;e.setState({showImageLoading:!1,dragEnter:!1,imgSrc:n.link||n.url}),e.fileUpload=!1}).catch(function(){e.setState({showImageLoading:!1,dragEnter:!1})})},e.fileUploadClick=function(t){e.fileUpload=!0,t.stopPropagation()},e.stopPropagation=function(t){e.fileUpload?e.fileUpload=!1:(t.preventDefault(),t.stopPropagation())},e}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.config;e.expanded&&!this.props.expanded?this.setState({imgSrc:"",dragEnter:!1,uploadHighlighted:t.uploadEnabled&&!!t.uploadCallback,showImageLoading:!1,height:t.defaultSize.height,width:t.defaultSize.width,alt:""}):t.uploadCallback===e.config.uploadCallback&&t.uploadEnabled===e.config.uploadEnabled||this.setState({uploadHighlighted:t.uploadEnabled&&!!t.uploadCallback})}},{key:"renderAddImageModal",value:function(){var e=this.state,t=e.imgSrc,n=e.uploadHighlighted,r=e.showImageLoading,a=e.dragEnter,i=e.height,o=e.width,l=e.alt,c=this.props,u=c.config,h=u.popupClassName,A=u.uploadCallback,f=u.uploadEnabled,m=u.urlEnabled,p=u.previewImage,g=u.inputAccept,x=u.alt,b=c.doCollapse,y=c.translations;return s.a.createElement("div",{className:d()("rdw-image-modal",h),onClick:this.stopPropagation},s.a.createElement("div",{className:"rdw-image-modal-header"},f&&A&&s.a.createElement("span",{onClick:this.showImageUploadOption,className:"rdw-image-modal-header-option"},y["components.controls.image.fileUpload"],s.a.createElement("span",{className:d()("rdw-image-modal-header-label",{"rdw-image-modal-header-label-highlighted":n})})),m&&s.a.createElement("span",{onClick:this.showImageURLOption,className:"rdw-image-modal-header-option"},y["components.controls.image.byURL"],s.a.createElement("span",{className:d()("rdw-image-modal-header-label",{"rdw-image-modal-header-label-highlighted":!n})}))),n?s.a.createElement("div",{onClick:this.fileUploadClick},s.a.createElement("div",{onDragEnter:this.onDragEnter,onDragOver:this.stopPropagation,onDrop:this.onImageDrop,className:d()("rdw-image-modal-upload-option",{"rdw-image-modal-upload-option-highlighted":a})},s.a.createElement("label",{htmlFor:"file",className:"rdw-image-modal-upload-option-label"},p&&t?s.a.createElement("img",{src:t,alt:t,className:"rdw-image-modal-upload-option-image-preview"}):t||y["components.controls.image.dropFileText"])),s.a.createElement("input",{type:"file",id:"file",accept:g,onChange:this.selectImage,className:"rdw-image-modal-upload-option-input"})):s.a.createElement("div",{className:"rdw-image-modal-url-section"},s.a.createElement("input",{className:"rdw-image-modal-url-input",placeholder:y["components.controls.image.enterlink"],name:"imgSrc",onChange:this.updateValue,onBlur:this.updateValue,value:t}),s.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),x.present&&s.a.createElement("div",{className:"rdw-image-modal-size"},s.a.createElement("span",{className:"rdw-image-modal-alt-lbl"},"Alt Text"),s.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:l,name:"alt",className:"rdw-image-modal-alt-input",placeholder:"alt"}),s.a.createElement("span",{className:"rdw-image-mandatory-sign"},x.mandatory&&"*")),s.a.createElement("div",{className:"rdw-image-modal-size"},"\u2195\xa0",s.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:i,name:"height",className:"rdw-image-modal-size-input",placeholder:"Height"}),s.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*"),"\xa0\u2194\xa0",s.a.createElement("input",{onChange:this.updateValue,onBlur:this.updateValue,value:o,name:"width",className:"rdw-image-modal-size-input",placeholder:"Width"}),s.a.createElement("span",{className:"rdw-image-mandatory-sign"},"*")),s.a.createElement("span",{className:"rdw-image-modal-btn-section"},s.a.createElement("button",{className:"rdw-image-modal-btn",onClick:this.addImageFromState,disabled:!t||!i||!o||x.mandatory&&!l},y["generic.add"]),s.a.createElement("button",{className:"rdw-image-modal-btn",onClick:b},y["generic.cancel"])),r?s.a.createElement("div",{className:"rdw-image-modal-spinner"},s.a.createElement(kn,null)):void 0)}},{key:"render",value:function(){var e=this.props,t=e.config,n=t.icon,r=t.className,a=t.title,i=e.expanded,o=e.onExpandEvent,l=e.translations;return s.a.createElement("div",{className:"rdw-image-wrapper","aria-haspopup":"true","aria-expanded":i,"aria-label":"rdw-image-control"},s.a.createElement(P,{className:d()(r),value:"unordered-list-item",onClick:o,title:a||l["components.controls.image.image"]},s.a.createElement("img",{src:n,alt:""})),i?this.renderAddImageModal():void 0)}}])&&En(e.prototype,t),n&&En(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();In.propTypes={expanded:i.a.bool,onExpandEvent:i.a.func,doCollapse:i.a.func,onChange:i.a.func,config:i.a.object,translations:i.a.object};var Dn=In;function Tn(e){return(Tn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function On(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pn(e,t){return(Pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Un(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Rn(t);if(n){var s=Rn(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Tn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Rn(e){return(Rn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Qn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Pn(e,t)}(i,r.Component);var e,t,n,a=Un(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).onExpandEvent=function(){t.signalExpanded=!t.state.expanded},t.doExpand=function(){t.setState({expanded:!0})},t.doCollapse=function(){t.setState({expanded:!1})},t.expandCollapse=function(){t.setState({expanded:t.signalExpanded}),t.signalExpanded=!1},t.addImage=function(e,n,r,s){var a=t.props,i=a.editorState,l=a.onChange,c={src:e,height:n,width:r};a.config.alt.present&&(c.alt=s);var d=i.getCurrentContent().createEntity("IMAGE","MUTABLE",c).getLastCreatedEntityKey();l(o.AtomicBlockUtils.insertAtomicBlock(i,d," ")),t.doCollapse()};var n=t.props.modalHandler;return t.state={expanded:!1},n.registerCallBack(t.expandCollapse),t}return e=i,(t=[{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,a=t.component||Dn;return s.a.createElement(a,{config:t,translations:n,onChange:this.addImage,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse})}}])&&On(e.prototype,t),n&&On(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function zn(e){var t=e.config,n=e.onChange,r=e.translations,a=t.icon,i=t.className,o=t.title;return s.a.createElement("div",{className:"rdw-remove-wrapper","aria-label":"rdw-remove-control"},s.a.createElement(P,{className:d()(i),onClick:n,title:o||r["components.controls.remove.remove"]},s.a.createElement("img",{src:a,alt:""})))}Qn.propTypes={editorState:i.a.object.isRequired,onChange:i.a.func.isRequired,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var Hn=Qn;n(31),zn.propTypes={onChange:i.a.func,config:i.a.object,translations:i.a.object};var Kn=zn;function Wn(e){return(Wn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Vn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function qn(e,t){return(qn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Gn(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Yn(t);if(n){var s=Yn(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Wn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Yn(e){return(Yn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Jn=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&qn(e,t)}(i,r.Component);var e,t,n,a=Gn(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).state={expanded:!1},e.onExpandEvent=function(){e.signalExpanded=!e.state.expanded},e.expandCollapse=function(){e.setState({expanded:e.signalExpanded}),e.signalExpanded=!1},e.removeInlineStyles=function(){var t=e.props,n=t.editorState;(0,t.onChange)(e.removeAllInlineStyles(n))},e.removeAllInlineStyles=function(e){var t=e.getCurrentContent();return["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","MONOSPACE","SUPERSCRIPT","SUBSCRIPT"].forEach(function(n){t=o.Modifier.removeInlineStyle(t,e.getSelection(),n)}),N(Object(l.getSelectionCustomInlineStyle)(e,["FONTSIZE","FONTFAMILY","COLOR","BGCOLOR"]),function(n,r){r&&(t=o.Modifier.removeInlineStyle(t,e.getSelection(),r))}),o.EditorState.push(e,t,"change-inline-style")},e.doExpand=function(){e.setState({expanded:!0})},e.doCollapse=function(){e.setState({expanded:!1})},e}return e=i,(t=[{key:"componentDidMount",value:function(){this.props.modalHandler.registerCallBack(this.expandCollapse)}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state.expanded,a=t.component||Kn;return s.a.createElement(a,{config:t,translations:n,expanded:r,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.removeInlineStyles})}}])&&Vn(e.prototype,t),n&&Vn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function Xn(e){return(Xn="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Zn(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function $n(e,t){return($n=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function er(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=tr(t);if(n){var s=tr(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Xn(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function tr(e){return(tr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}Jn.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object.isRequired,config:i.a.object,translations:i.a.object,modalHandler:i.a.object},n(32);var nr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&$n(e,t)}(i,r.Component);var e,t,n,a=er(i);function i(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=a.call.apply(a,[this].concat(n))).onChange=function(t){(0,e.props.onChange)(t)},e}return e=i,(t=[{key:"renderInDropDown",value:function(){var e=this.props,t=e.config,n=e.expanded,r=e.doExpand,a=e.onExpandEvent,i=e.doCollapse,o=e.currentState,l=o.undoDisabled,c=o.redoDisabled,u=e.translations,h=t.options,A=t.undo,f=t.redo,m=t.className,p=t.dropdownClassName,g=t.title;return s.a.createElement(K,{className:d()("rdw-history-dropdown",m),optionWrapperClassName:d()(p),expanded:n,doExpand:r,doCollapse:i,onExpandEvent:a,"aria-label":"rdw-history-control",title:g||u["components.controls.history.history"]},s.a.createElement("img",{src:S(t),alt:""}),0<=h.indexOf("undo")&&s.a.createElement(X,{value:"undo",onClick:this.onChange,disabled:l,className:d()("rdw-history-dropdownoption",A.className),title:A.title||u["components.controls.history.undo"]},s.a.createElement("img",{src:A.icon,alt:""})),0<=h.indexOf("redo")&&s.a.createElement(X,{value:"redo",onClick:this.onChange,disabled:c,className:d()("rdw-history-dropdownoption",f.className),title:f.title||u["components.controls.history.redo"]},s.a.createElement("img",{src:f.icon,alt:""})))}},{key:"renderInFlatList",value:function(){var e=this.props,t=e.config,n=t.options,r=t.undo,a=t.redo,i=t.className,o=e.currentState,l=o.undoDisabled,c=o.redoDisabled,u=e.translations;return s.a.createElement("div",{className:d()("rdw-history-wrapper",i),"aria-label":"rdw-history-control"},0<=n.indexOf("undo")&&s.a.createElement(P,{value:"undo",onClick:this.onChange,className:d()(r.className),disabled:l,title:r.title||u["components.controls.history.undo"]},s.a.createElement("img",{src:r.icon,alt:""})),0<=n.indexOf("redo")&&s.a.createElement(P,{value:"redo",onClick:this.onChange,className:d()(a.className),disabled:c,title:a.title||u["components.controls.history.redo"]},s.a.createElement("img",{src:a.icon,alt:""})))}},{key:"render",value:function(){return this.props.config.inDropdown?this.renderInDropDown():this.renderInFlatList()}}])&&Zn(e.prototype,t),n&&Zn(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();function rr(e){return(rr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function sr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ar(e,t){return(ar=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function ir(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=or(t);if(n){var s=or(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===rr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function or(e){return(or=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}nr.propTypes={expanded:i.a.bool,doExpand:i.a.func,doCollapse:i.a.func,onExpandEvent:i.a.func,config:i.a.object,onChange:i.a.func,currentState:i.a.object,translations:i.a.object};var lr=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ar(e,t)}(i,r.Component);var e,t,n,a=ir(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).onExpandEvent=function(){t.signalExpanded=!t.state.expanded},t.onChange=function(e){var n=t.props,r=n.editorState,s=n.onChange,a=o.EditorState[e](r);a&&s(a)},t.doExpand=function(){t.setState({expanded:!0})},t.doCollapse=function(){t.setState({expanded:!1})};var n={expanded:!(t.expandCollapse=function(){t.setState({expanded:t.signalExpanded}),t.signalExpanded=!1}),undoDisabled:!1,redoDisabled:!1},r=e.editorState,s=e.modalHandler;return r&&(n.undoDisabled=0===r.getUndoStack().size,n.redoDisabled=0===r.getRedoStack().size),t.state=n,s.registerCallBack(t.expandCollapse),t}return e=i,(t=[{key:"componentDidUpdate",value:function(e){var t=this.props.editorState;t&&e.editorState!==t&&this.setState({undoDisabled:0===t.getUndoStack().size,redoDisabled:0===t.getRedoStack().size})}},{key:"componentWillUnmount",value:function(){this.props.modalHandler.deregisterCallBack(this.expandCollapse)}},{key:"render",value:function(){var e=this.props,t=e.config,n=e.translations,r=this.state,a=r.undoDisabled,i=r.redoDisabled,o=r.expanded,l=t.component||nr;return s.a.createElement(l,{config:t,translations:n,currentState:{undoDisabled:a,redoDisabled:i},expanded:o,onExpandEvent:this.onExpandEvent,doExpand:this.doExpand,doCollapse:this.doCollapse,onChange:this.onChange})}}])&&sr(e.prototype,t),n&&sr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();lr.propTypes={onChange:i.a.func.isRequired,editorState:i.a.object,modalHandler:i.a.object,config:i.a.object,translations:i.a.object};var cr={inline:ce,blockType:je,fontSize:De,fontFamily:Ge,list:it,textAlign:xt,colorPicker:Mt,link:$t,embedded:fn,emoji:Sn,image:Hn,remove:Jn,history:lr},dr=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,ur=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function hr(e){return String(e).replace(dr,"").match(ur)?e:"#"}function Ar(e){return(Ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function mr(e,t){return(mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function pr(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=gr(t);if(n){var s=gr(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ar(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function gr(e){return(gr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function xr(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"LINK"===n.getEntity(t).getType()},t)}function br(e){var t,n=e.showOpenOptionOnHover;return(t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&mr(e,t)}(o,r.Component);var e,t,a,i=pr(o);function o(){var e;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=i.call.apply(i,[this].concat(n))).state={showPopOver:!1},e.openLink=function(){var t=e.props,n=t.entityKey,r=t.contentState.getEntity(n).getData().url,s=window.open(hr(r),"blank");s&&s.focus()},e.toggleShowPopOver=function(){var t=!e.state.showPopOver;e.setState({showPopOver:t})},e}return e=o,(t=[{key:"render",value:function(){var e=this.props,t=e.children,r=e.entityKey,a=e.contentState.getEntity(r).getData(),i=a.url,o=a.targetOption,l=this.state.showPopOver;return s.a.createElement("span",{className:"rdw-link-decorator-wrapper",onMouseEnter:this.toggleShowPopOver,onMouseLeave:this.toggleShowPopOver},s.a.createElement("a",{href:hr(i),target:o},t),l&&n?s.a.createElement("img",{src:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuMDcyIDBIOC45MTVhLjkyNS45MjUgMCAwIDAgMCAxLjg0OWgyLjkyNUw2Ljk2MSA2LjcyN2EuOTE4LjkxOCAwIDAgMC0uMjcuNjU0YzAgLjI0Ny4wOTUuNDguMjcuNjU0YS45MTguOTE4IDAgMCAwIC42NTQuMjcuOTE4LjkxOCAwIDAgMCAuNjUzLS4yN2w0Ljg4LTQuODh2Mi45MjZhLjkyNS45MjUgMCAwIDAgMS44NDggMFYuOTI0QS45MjUuOTI1IDAgMCAwIDE0LjA3MiAweiIvPjxwYXRoIGQ9Ik0xMC42MjMgMTMuNDExSDEuNTg1VjQuMzcyaDYuNzk4bDEuNTg0LTEuNTg0SC43OTJBLjc5Mi43OTIgMCAwIDAgMCAzLjU4djEwLjYyNGMwIC40MzcuMzU1Ljc5Mi43OTIuNzkyaDEwLjYyNGEuNzkyLjc5MiAwIDAgMCAuNzkyLS43OTJWNS4wMjlsLTEuNTg1IDEuNTg0djYuNzk4eiIvPjwvZz48L3N2Zz4=",alt:"",onClick:this.openLink,className:"rdw-link-decorator-icon"}):void 0)}}])&&fr(e.prototype,t),a&&fr(e,a),Object.defineProperty(e,"prototype",{writable:!1}),o}()).propTypes={entityKey:i.a.string.isRequired,children:i.a.array,contentState:i.a.object},t}function yr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function vr(e,t,n){return t&&yr(e.prototype,t),n&&yr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}n(33),n(34);var wr=vr(function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getMentionComponent=function(){function e(e){var n=e.entityKey,r=e.children,a=e.contentState.getEntity(n).getData(),i=a.url,o=a.value;return s.a.createElement("a",{href:i||o,className:d()("rdw-mention-link",t)},r)}var t=n.className;return e.propTypes={entityKey:i.a.number,children:i.a.array,contentState:i.a.object},e},this.getMentionDecorator=function(){return{strategy:n.findMentionEntities,component:n.getMentionComponent()}},this.className=t});wr.prototype.findMentionEntities=function(e,t,n){e.findEntityRanges(function(e){var t=e.getEntity();return null!==t&&"MENTION"===n.getEntity(t).getType()},t)};var jr=wr;function Nr(e){return(Nr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function _r(e,t){return(_r=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function Cr(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Sr(t);if(n){var s=Sr(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Nr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Sr(e){return(Sr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Br(e,t,n){return t&&kr(e.prototype,t),n&&kr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Er(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n(35);var Lr=Br(function e(t){var n=this;Er(this,e),this.findSuggestionEntities=function(e,t){if(n.config.getEditorState()){var r=n.config,s=r.separator,a=r.trigger,i=r.getSuggestions,o=(0,r.getEditorState)().getSelection();if(o.get("anchorKey")===e.get("key")&&o.get("anchorKey")===o.get("focusKey")){var l=e.getText(),c=(l=l.substr(0,o.get("focusOffset")===l.length-1?l.length:o.get("focusOffset")+1)).lastIndexOf(s+a),d=s+a;if((void 0===c||c<0)&&l[0]===a&&(c=0,d=a),0<=c){var u=l.substr(c+d.length,l.length);i().some(function(e){return!!e.value&&(n.config.caseSensitive?0<=e.value.indexOf(u):0<=e.value.toLowerCase().indexOf(u&&u.toLowerCase()))})&&t(0===c?0:c+1,l.length)}}}},this.getSuggestionComponent=function(){var e,t=this.config;return(e=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&_r(e,t)}(n,r.Component);var e=Cr(n);function n(){var r;Er(this,n);for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];return(r=e.call.apply(e,[this].concat(a))).state={style:{left:15},activeOption:-1,showSuggestions:!0},r.onEditorKeyDown=function(e){var t=r.state.activeOption,n={};"ArrowDown"===e.key?(e.preventDefault(),t===r.filteredSuggestions.length-1?n.activeOption=0:n.activeOption=t+1):"ArrowUp"===e.key?n.activeOption=t<=0?r.filteredSuggestions.length-1:t-1:"Escape"===e.key?(n.showSuggestions=!1,v()):"Enter"===e.key&&r.addMention(),r.setState(n)},r.onOptionMouseEnter=function(e){var t=e.target.getAttribute("data-index");r.setState({activeOption:t})},r.onOptionMouseLeave=function(){r.setState({activeOption:-1})},r.setSuggestionReference=function(e){r.suggestion=e},r.setDropdownReference=function(e){r.dropdown=e},r.closeSuggestionDropdown=function(){r.setState({showSuggestions:!1})},r.filteredSuggestions=[],r.filterSuggestions=function(e){var n=e.children[0].props.text.substr(1),s=t.getSuggestions();r.filteredSuggestions=s&&s.filter(function(e){return!n||0===n.length||(t.caseSensitive?0<=e.value.indexOf(n):0<=e.value.toLowerCase().indexOf(n&&n.toLowerCase()))})},r.addMention=function(){var e=r.state.activeOption,n=t.getEditorState(),s=t.onChange,a=t.separator,i=t.trigger,c=r.filteredSuggestions[e];c&&function(e,t,n,r,s){var a=s.value,i=s.url,c=e.getCurrentContent().createEntity("MENTION","IMMUTABLE",{text:"".concat(r).concat(a),value:a,url:i}).getLastCreatedEntityKey(),d=Object(l.getSelectedBlock)(e).getText(),u=e.getSelection().focusOffset,h=(d.lastIndexOf(n+r,u)||0)+1,A=!1;d.length===h+1&&(u=d.length)," "===d[u]&&(A=!0);var f=e.getSelection().merge({anchorOffset:h,focusOffset:u}),m=o.EditorState.acceptSelection(e,f),p=o.Modifier.replaceText(m.getCurrentContent(),f,"".concat(r).concat(a),m.getCurrentInlineStyle(),c);m=o.EditorState.push(m,p,"insert-characters"),A||(f=m.getSelection().merge({anchorOffset:h+a.length+r.length,focusOffset:h+a.length+r.length}),m=o.EditorState.acceptSelection(m,f),p=o.Modifier.insertText(m.getCurrentContent(),f," ",m.getCurrentInlineStyle(),void 0)),t(o.EditorState.push(m,p,"insert-characters"))}(n,s,a,i,c)},r}return Br(n,[{key:"componentDidMount",value:function(){var e,n,r,s=t.getWrapperRef().getBoundingClientRect(),a=this.suggestion.getBoundingClientRect(),i=this.dropdown.getBoundingClientRect();s.width<a.left-s.left+i.width?n=15:e=15,s.bottom<i.bottom&&(r=0),this.setState({style:{left:e,right:n,bottom:r}}),b.registerCallBack(this.onEditorKeyDown),y(),t.modalHandler.setSuggestionCallback(this.closeSuggestionDropdown),this.filterSuggestions(this.props)}},{key:"componentDidUpdate",value:function(e){this.props.children!==e.children&&(this.filterSuggestions(e),this.setState({showSuggestions:!0}))}},{key:"componentWillUnmount",value:function(){b.deregisterCallBack(this.onEditorKeyDown),v(),t.modalHandler.removeSuggestionCallback()}},{key:"render",value:function(){var e=this,n=this.props.children,r=this.state,a=r.activeOption,i=r.showSuggestions,o=t.dropdownClassName,l=t.optionClassName;return s.a.createElement("span",{className:"rdw-suggestion-wrapper",ref:this.setSuggestionReference,onClick:t.modalHandler.onSuggestionClick,"aria-haspopup":"true","aria-label":"rdw-suggestion-popup"},s.a.createElement("span",null,n),i&&s.a.createElement("span",{className:d()("rdw-suggestion-dropdown",o),contentEditable:"false",suppressContentEditableWarning:!0,style:this.state.style,ref:this.setDropdownReference},this.filteredSuggestions.map(function(t,n){return s.a.createElement("span",{key:n,spellCheck:!1,onClick:e.addMention,"data-index":n,onMouseEnter:e.onOptionMouseEnter,onMouseLeave:e.onOptionMouseLeave,className:d()("rdw-suggestion-option",l,{"rdw-suggestion-option-active":n===a})},t.text)})))}}]),n}()).propTypes={children:i.a.array},e}.bind(this),this.getSuggestionDecorator=function(){return{strategy:n.findSuggestionEntities,component:n.getSuggestionComponent()}};var a=t.separator,c=t.trigger,u=t.getSuggestions,h=t.onChange,A=t.getEditorState,f=t.getWrapperRef,m=t.caseSensitive,p=t.dropdownClassName,g=t.optionClassName,x=t.modalHandler;this.config={separator:a,trigger:c,getSuggestions:u,onChange:h,getEditorState:A,getWrapperRef:f,caseSensitive:m,dropdownClassName:p,optionClassName:g,modalHandler:x}}),Mr=function(e){return[new jr(e.mentionClassName).getMentionDecorator(),new Lr(e).getSuggestionDecorator()]};function Fr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ir(e,t,n){return t&&Fr(e.prototype,t),n&&Fr(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Dr(e){var t=e.block,n=e.contentState.getEntity(t.getEntityAt(0)).getData(),r=n.src,a=n.height,i=n.width;return s.a.createElement("iframe",{height:a,width:i,src:r,frameBorder:"0",allowFullScreen:!0,title:"Wysiwyg Embedded Content"})}n(36);var Tr=Ir(function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.getHashtagComponent=function(){function e(e){var n=e.children,r=n[0].props.text;return s.a.createElement("a",{href:r,className:d()("rdw-hashtag-link",t)},n)}var t=n.className;return e.propTypes={children:i.a.object},e},this.findHashtagEntities=function(e,t){for(var r=e.getText(),s=0,a=0;0<r.length&&0<=s;)if(r[0]===n.hashCharacter?(a=s=0,r=r.substr(n.hashCharacter.length)):0<=(s=r.indexOf(n.separator+n.hashCharacter))&&(r=r.substr(s+(n.separator+n.hashCharacter).length),a+=s+n.separator.length),0<=s){var i=0<=r.indexOf(n.separator)?r.indexOf(n.separator):r.length,o=r.substr(0,i);o&&0<o.length&&(t(a,a+o.length+n.hashCharacter.length),a+=n.hashCharacter.length)}},this.getHashtagDecorator=function(){return{strategy:n.findHashtagEntities,component:n.getHashtagComponent()}},this.className=t.className,this.hashCharacter=t.hashCharacter||"#",this.separator=t.separator||" "}),Or=function(e){return new Tr(e).getHashtagDecorator()};Dr.propTypes={block:i.a.object,contentState:i.a.object};var Pr=Dr;function Ur(e){return(Ur="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Rr(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Qr(e,t){return(Qr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function zr(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=Hr(t);if(n){var s=Hr(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Ur(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function Hr(e){return(Hr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(37);var Kr=function(e){var t;return(t=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&Qr(e,t)}(l,r.Component);var t,n,a,i=zr(l);function l(){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=i.call.apply(i,[this].concat(r))).state={hovered:!1},t.setEntityAlignmentLeft=function(){t.setEntityAlignment("left")},t.setEntityAlignmentRight=function(){t.setEntityAlignment("right")},t.setEntityAlignmentCenter=function(){t.setEntityAlignment("none")},t.setEntityAlignment=function(n){var r=t.props,s=r.block,a=r.contentState,i=s.getEntityAt(0);a.mergeEntityData(i,{alignment:n}),e.onChange(o.EditorState.push(e.getEditorState(),a,"change-block-data")),t.setState({dummy:!0})},t.toggleHovered=function(){var e=!t.state.hovered;t.setState({hovered:e})},t}return t=l,(n=[{key:"renderAlignmentOptions",value:function(e){return s.a.createElement("div",{className:d()("rdw-image-alignment-options-popup",{"rdw-image-alignment-options-popup-right":"right"===e})},s.a.createElement(P,{onClick:this.setEntityAlignmentLeft,className:"rdw-image-alignment-option"},"L"),s.a.createElement(P,{onClick:this.setEntityAlignmentCenter,className:"rdw-image-alignment-option"},"C"),s.a.createElement(P,{onClick:this.setEntityAlignmentRight,className:"rdw-image-alignment-option"},"R"))}},{key:"render",value:function(){var t=this.props,n=t.block,r=t.contentState,a=this.state.hovered,i=e.isReadOnly,o=e.isImageAlignmentEnabled,l=r.getEntity(n.getEntityAt(0)).getData(),c=l.src,u=l.alignment,h=l.height,A=l.width,f=l.alt;return s.a.createElement("span",{onMouseEnter:this.toggleHovered,onMouseLeave:this.toggleHovered,className:d()("rdw-image-alignment",{"rdw-image-left":"left"===u,"rdw-image-right":"right"===u,"rdw-image-center":!u||"none"===u})},s.a.createElement("span",{className:"rdw-image-imagewrapper"},s.a.createElement("img",{src:c,alt:f,style:{height:h,width:A}}),!i()&&a&&o()?this.renderAlignmentOptions(u):void 0))}}])&&Rr(t.prototype,n),a&&Rr(t,a),Object.defineProperty(t,"prototype",{writable:!1}),l}()).propTypes={block:i.a.object,contentState:i.a.object},t},Wr=function(e,t){return function(n){if("function"==typeof t){var r=t(n,e,e.getEditorState);if(r)return r}if("atomic"===n.getType()){var s=e.getEditorState().getCurrentContent().getEntity(n.getEntityAt(0));if(s&&"IMAGE"===s.type)return{component:Kr(e),editable:!1};if(s&&"EMBEDDED_LINK"===s.type)return{component:Pr,editable:!1}}}},Vr={options:["inline","blockType","fontSize","fontFamily","list","textAlign","colorPicker","link","embedded","emoji","image","remove","history"],inline:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["bold","italic","underline","strikethrough","monospace","superscript","subscript"],bold:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuMjM2IDBjMS42NTIgMCAyLjk0LjI5OCAzLjg2Ni44OTMuOTI1LjU5NSAxLjM4OCAxLjQ4NSAxLjM4OCAyLjY2OSAwIC42MDEtLjE3MyAxLjEzOS0uNTE2IDEuNjEtLjM0My40NzQtLjg0NC44My0xLjQ5OSAxLjA2OC44NDMuMTY3IDEuNDc0LjUyMyAxLjg5NSAxLjA3MS40MTkuNTUuNjMgMS4xODMuNjMgMS45MDMgMCAxLjI0NS0uNDQ0IDIuMTg3LTEuMzMgMi44MjUtLjg4Ni42NDEtMi4xNDQuOTYxLTMuNzY5Ljk2MUgwdi0yLjE2N2gxLjQ5NFYyLjE2N0gwVjBoNi4yMzZ6TTQuMzA4IDUuNDQ2aDIuMDI0Yy43NTIgMCAxLjMzLS4xNDMgMS43MzQtLjQzLjQwNS0uMjg1LjYwOC0uNzAxLjYwOC0xLjI1IDAtLjYtLjIwNC0xLjA0NC0uNjEyLTEuMzMtLjQwOC0uMjg2LTEuMDE2LS40MjctMS44MjYtLjQyN0g0LjMwOHYzLjQzN3ptMCAxLjgwNFYxMWgyLjU5M2MuNzQ3IDAgMS4zMTQtLjE1MiAxLjcwNy0uNDUyLjM5LS4zLjU4OC0uNzQ1LjU4OC0xLjMzNCAwLS42MzYtLjE2OC0xLjEyNC0uNS0xLjQ2LS4zMzYtLjMzNS0uODY0LS41MDQtMS41ODItLjUwNEg0LjMwOHoiIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",className:void 0,title:void 0},italic:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZD0iTTcgM1YyaDR2MUg5Ljc1M2wtMyAxMEg4djFINHYtMWgxLjI0N2wzLTEwSDd6Ii8+PC9zdmc+",className:void 0,title:void 0},underline:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNiIgaGVpZ2h0PSIxNiI+PHBhdGggZD0iTTYuMDQ1IDJ2Ljk5Mkw0Ljc4NSAzdjUuMTcyYzAgLjg1OS4yNDMgMS41MTIuNzI3IDEuOTU3czEuMTI0LjY2OCAxLjkxOC42NjhjLjgzNiAwIDEuNTA5LS4yMjEgMi4wMTktLjY2NC41MTEtLjQ0Mi43NjYtMS4wOTYuNzY2LTEuOTYxVjNsLTEuMjYtLjAwOFYySDEzdi45OTJMMTEuNzM5IDN2NS4xNzJjMCAxLjIzNC0uMzk4IDIuMTgxLTEuMTk1IDIuODQtLjc5Ny42NTktMS44MzUuOTg4LTMuMTE0Ljk4OC0xLjI0MiAwLTIuMjQ4LS4zMjktMy4wMTctLjk4OC0uNzY5LS42NTktMS4xNTItMS42MDUtMS4xNTItMi44NFYzTDIgMi45OTJWMmg0LjA0NXpNMiAxM2gxMXYxSDJ6Ii8+PC9zdmc+",className:void 0,title:void 0},strikethrough:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNC4wNCA1Ljk1NGg2LjIxNWE3LjQxMiA3LjQxMiAwIDAgMC0uNzk1LS40MzggMTEuOTA3IDExLjkwNyAwIDAgMC0xLjQ0Ny0uNTU3Yy0xLjE4OC0uMzQ4LTEuOTY2LS43MTEtMi4zMzQtMS4wODgtLjM2OC0uMzc3LS41NTItLjc3LS41NTItMS4xODEgMC0uNDk1LjE4Ny0uOTA2LjU2LTEuMjMyLjM4LS4zMzEuODg3LS40OTcgMS41MjMtLjQ5Ny42OCAwIDEuMjY2LjI1NSAxLjc1Ny43NjcuMjk1LjMxNS41ODIuODkxLjg2MSAxLjczbC4xMTcuMDE2LjcwMy4wNS4xLS4wMjRjLjAyOC0uMTUyLjA0Mi0uMjc5LjA0Mi0uMzggMC0uMzM3LS4wMzktLjg1Mi0uMTE3LTEuNTQ0YTkuMzc0IDkuMzc0IDAgMCAwLS4xNzYtLjk5NUM5Ljg4LjM3OSA5LjM4NS4yNDQgOS4wMTcuMTc2IDguMzY1LjA3IDcuODk5LjAxNiA3LjYyLjAxNmMtMS40NSAwLTIuNTQ1LjM1Ny0zLjI4NyAxLjA3MS0uNzQ3LjcyLTEuMTIgMS41ODktMS4xMiAyLjYwNyAwIC41MTEuMTMzIDEuMDQuNCAxLjU4Ni4xMjkuMjUzLjI3LjQ3OC40MjcuNjc0ek04LjI4IDguMTE0Yy41NzUuMjM2Ljk1Ny40MzYgMS4xNDcuNTk5LjQ1MS40MS42NzcuODUyLjY3NyAxLjMyNCAwIC4zODMtLjEzLjc0NS0uMzkzIDEuMDg4LS4yNS4zMzgtLjU5LjU4LTEuMDIuNzI2YTMuNDE2IDMuNDE2IDAgMCAxLTEuMTYzLjIyOGMtLjQwNyAwLS43NzUtLjA2Mi0xLjEwNC0uMTg2YTIuNjk2IDIuNjk2IDAgMCAxLS44NzgtLjQ4IDMuMTMzIDMuMTMzIDAgMCAxLS42Ny0uNzk0IDEuNTI3IDEuNTI3IDAgMCAxLS4xMDQtLjIyNyA1Ny41MjMgNTcuNTIzIDAgMCAwLS4xODgtLjQ3MyAyMS4zNzEgMjEuMzcxIDAgMCAwLS4yNTEtLjU5OWwtLjg1My4wMTd2LjM3MWwtLjAxNy4zMTNhOS45MiA5LjkyIDAgMCAwIDAgLjU3M2MuMDExLjI3LjAxNy43MDkuMDE3IDEuMzE2di4xMWMwIC4wNzkuMDIyLjE0LjA2Ny4xODUuMDgzLjA2OC4yODQuMTQ3LjYwMi4yMzdsMS4xNy4zMzdjLjQ1Mi4xMy45OTYuMTk0IDEuNjMyLjE5NC42ODYgMCAxLjI1Mi0uMDU5IDEuNjk4LS4xNzdhNC42OTQgNC42OTQgMCAwIDAgMS4yOC0uNTU3Yy40MDEtLjI1OS43MDUtLjQ4Ni45MTEtLjY4My4yNjgtLjI3Ni40NjYtLjU2OC41OTQtLjg3OGE0Ljc0IDQuNzQgMCAwIDAgLjM0My0xLjc4OGMwLS4yOTgtLjAyLS41NTctLjA1OC0uNzc2SDguMjgxek0xNC45MTQgNi41N2EuMjYuMjYgMCAwIDAtLjE5My0uMDc2SC4yNjhhLjI2LjI2IDAgMCAwLS4xOTMuMDc2LjI2NC4yNjQgMCAwIDAtLjA3NS4xOTR2LjU0YzAgLjA3OS4wMjUuMTQzLjA3NS4xOTRhLjI2LjI2IDAgMCAwIC4xOTMuMDc2SDE0LjcyYS4yNi4yNiAwIDAgMCAuMTkzLS4wNzYuMjY0LjI2NCAwIDAgMCAuMDc1LS4xOTR2LS41NGEuMjY0LjI2NCAwIDAgMC0uMDc1LS4xOTR6Ii8+PC9nPjwvc3ZnPg==",className:void 0,title:void 0},monospace:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzQ0NCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMS4wMjEgMi45MDZjLjE4NiAxLjIxOS4zNzIgMS41LjM3MiAyLjcxOUMxLjM5MyA2LjM3NSAwIDcuMDMxIDAgNy4wMzF2LjkzOHMxLjM5My42NTYgMS4zOTMgMS40MDZjMCAxLjIxOS0uMTg2IDEuNS0uMzcyIDIuNzE5Qy43NDMgMTQuMDYzIDEuNzY0IDE1IDIuNjkzIDE1aDEuOTV2LTEuODc1cy0xLjY3Mi4xODgtMS42NzItLjkzOGMwLS44NDMuMTg2LS44NDMuMzcyLTIuNzE4LjA5My0uODQ0LS40NjQtMS41LTEuMDIyLTEuOTY5LjU1OC0uNDY5IDEuMTE1LTEuMDMxIDEuMDIyLTEuODc1QzMuMDY0IDMuNzUgMi45NyAzLjc1IDIuOTcgMi45MDZjMC0xLjEyNSAxLjY3Mi0xLjAzMSAxLjY3Mi0xLjAzMVYwaC0xLjk1QzEuNjcgMCAuNzQzLjkzOCAxLjAyIDIuOTA2ek0xMS45NzkgMi45MDZjLS4xODYgMS4yMTktLjM3MiAxLjUtLjM3MiAyLjcxOSAwIC43NSAxLjM5MyAxLjQwNiAxLjM5MyAxLjQwNnYuOTM4cy0xLjM5My42NTYtMS4zOTMgMS40MDZjMCAxLjIxOS4xODYgMS41LjM3MiAyLjcxOS4yNzggMS45NjktLjc0MyAyLjkwNi0xLjY3MiAyLjkwNmgtMS45NXYtMS44NzVzMS42NzIuMTg4IDEuNjcyLS45MzhjMC0uODQzLS4xODYtLjg0My0uMzcyLTIuNzE4LS4wOTMtLjg0NC40NjQtMS41IDEuMDIyLTEuOTY5LS41NTgtLjQ2OS0xLjExNS0xLjAzMS0xLjAyMi0xLjg3NS4xODYtMS44NzUuMzcyLTEuODc1LjM3Mi0yLjcxOSAwLTEuMTI1LTEuNjcyLTEuMDMxLTEuNjcyLTEuMDMxVjBoMS45NWMxLjAyMiAwIDEuOTUuOTM4IDEuNjcyIDIuOTA2eiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},superscript:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTcuMzA1IDEwLjE2NUwxMS44NjUgMTVIOS4wNTdsLTMuMTkyLTMuNTM2TDIuNzQ2IDE1SDBsNC41MjMtNC44MzVMLjIxOCA1LjYwM2gyLjc3TDUuOTg2IDguOTEgOS4wMSA1LjYwM2gyLjY0OWwtNC4zNTQgNC41NjJ6bTYuMjM0LTMuMjY5bDEuODc5LTEuMzA2Yy42NC0uNDE2IDEuMDYyLS44MDEgMS4yNjQtMS4xNTcuMjAxLS4zNTYuMzAyLS43MzguMzAyLTEuMTQ4IDAtLjY2OS0uMjM3LTEuMjEtLjcxLTEuNjItLjQ3NC0uNDExLTEuMDk3LS42MTctMS44NjgtLjYxNy0uNzQ0IDAtMS4zNC4yMDgtMS43ODUuNjI0LS40NDcuNDE2LS42NyAxLjA0My0uNjcgMS44ODFoMS40MzZjMC0uNS4wOTQtLjg0Ni4yODEtMS4wMzguMTg4LS4xOTEuNDQ1LS4yODcuNzcyLS4yODdzLjU4NS4wOTcuNzc3LjI5MmMuMTkuMTk1LjI4Ni40MzcuMjg2LjcyNiAwIC4yOS0uMDg5LjU1LS4yNjYuNzg1cy0uNjcuNjI4LTEuNDc5IDEuMTg0Yy0uNjkxLjQ3Ny0xLjYyNy45MjctMS45MDggMS4zNWwuMDE0IDEuNTY5SDE3VjYuODk2aC0zLjQ2MXoiLz48L3N2Zz4=",className:void 0,title:void 0},subscript:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTExLjg2NiAxMS42NDZIOS4wNkw1Ljg2NyA3Ljk0MmwtMy4xMjEgMy43MDRIMGw0LjUyNC01LjA2NEwuMjE4IDEuODA0aDIuNzdsMyAzLjQ2NCAzLjAyMy0zLjQ2NGgyLjY1TDcuMzA2IDYuNTgybDQuNTYgNS4wNjR6bTEuNzI1IDIuMDU4bDEuODI3LTEuMzY4Yy42NC0uNDM1IDEuMDYyLS44NCAxLjI2NC0xLjIxMi4yMDItLjM3Mi4zMDItLjc3My4zMDItMS4yMDIgMC0uNy0uMjM3LTEuMjY2LS43MS0xLjY5Ni0uNDc0LS40MzEtMS4wOTctLjY0Ni0xLjg2OS0uNjQ2LS43NDQgMC0xLjM0LjIxOC0xLjc4NS42NTMtLjQ0Ni40MzYtLjY3IDEuMDkyLS42NyAxLjk3aDEuNDM2YzAtLjUyNC4wOTQtLjg4Ni4yODEtMS4wODcuMTg4LS4yLjQ0NS0uMzAxLjc3Mi0uMzAxcy41ODYuMTAyLjc3Ny4zMDZjLjE5LjIwNC4yODYuNDU4LjI4Ni43NiAwIC4zMDMtLjA4OC41NzctLjI2Ni44MjItLjE3Ny4yNDUtLjY3LjY1OC0xLjQ3OCAxLjI0LS42OTIuNS0xLjYyOC45NzEtMS45MSAxLjQxM0wxMS44NjQgMTVIMTd2LTEuMjk2aC0zLjQxeiIvPjwvc3ZnPg==",className:void 0,title:void 0}},blockType:{inDropdown:!0,options:["Normal","H1","H2","H3","H4","H5","H6","Blockquote","Code"],className:void 0,component:void 0,dropdownClassName:void 0,title:void 0},fontSize:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTEuOTIxIDMuMTE5YS40MjcuNDI3IDAgMCAwIC4zMzUuMTY0aC45N2EuNDI2LjQyNiAwIDAgMCAuMzA0LS4xMy40NDEuNDQxIDAgMCAwIC4xMjUtLjMxbC4wMDItMi40MWEuNDM0LjQzNCAwIDAgMC0uNDMtLjQzMkguNDNBLjQzNC40MzQgMCAwIDAgMCAuNDR2Mi40MDZjMCAuMjQyLjE5Mi40MzguNDMuNDM4aC45N2MuMTMgMCAuMjU0LS4wNi4zMzUtLjE2NWwuNzMtLjkzSDUuNTR2MTEuMzZjMCAuMjQxLjE5Mi40MzcuNDMuNDM3aDEuNzE3Yy4yMzcgMCAuNDMtLjE5Ni40My0uNDM3VjIuMTg4aDMuMDdsLjczNC45MzF6TTEzLjg5OCAxMS4yNjNhLjQyNS40MjUgMCAwIDAtLjQ4Mi0uMTQ2bC0uNTQ3LjE5NFY5LjYxN2EuNDQyLjQ0MiAwIDAgMC0uMTI2LS4zMS40MjYuNDI2IDAgMCAwLS4zMDQtLjEyN2gtLjQyOWEuNDM0LjQzNCAwIDAgMC0uNDMuNDM3djEuNjk0bC0uNTQ3LS4xOTRhLjQyNS40MjUgMCAwIDAtLjQ4MS4xNDYuNDQ0LjQ0NCAwIDAgMC0uMDE2LjUxMmwxLjMzMiAyLjAxN2EuNDI3LjQyNyAwIDAgMCAuNzEzIDBsMS4zMzMtMi4wMTdhLjQ0NC40NDQgMCAwIDAtLjAxNi0uNTEyeiIvPjwvZz48L3N2Zz4=",options:[8,9,10,11,12,14,16,18,24,30,36,48,60,72,96],className:void 0,component:void 0,dropdownClassName:void 0,title:void 0},fontFamily:{options:["Arial","Georgia","Impact","Tahoma","Times New Roman","Verdana"],className:void 0,component:void 0,dropdownClassName:void 0,title:void 0},list:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["unordered","ordered","indent","outdent"],unordered:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMS43MiAzLjQyN2MuOTUxIDAgMS43MjItLjc2OCAxLjcyMi0xLjcwOFMyLjY3LjAxIDEuNzIuMDFDLjc3LjAwOCAwIC43NzUgMCAxLjcxNWMwIC45NC43NzQgMS43MTEgMS43MiAxLjcxMXptMC0yLjYyNWMuNTEgMCAuOTIyLjQxMi45MjIuOTE0YS45Mi45MiAwIDAgMS0xLjg0MiAwIC45Mi45MiAwIDAgMSAuOTItLjkxNHpNMS43MiA4LjcwM2MuOTUxIDAgMS43MjItLjc2OCAxLjcyMi0xLjcwOFMyLjY3IDUuMjg3IDEuNzIgNS4yODdDLjc3IDUuMjg3IDAgNi4wNTIgMCA2Ljk5NXMuNzc0IDEuNzA4IDEuNzIgMS43MDh6bTAtMi42MjJjLjUxIDAgLjkyMi40MTIuOTIyLjkxNGEuOTIuOTIgMCAwIDEtMS44NDIgMGMwLS41MDUuNDE1LS45MTQuOTItLjkxNHpNMS43MiAxMy45ODJjLjk1MSAwIDEuNzIyLS43NjggMS43MjItMS43MDggMC0uOTQzLS43NzQtMS43MDgtMS43MjEtMS43MDgtLjk0NyAwLTEuNzIxLjc2OC0xLjcyMSAxLjcwOHMuNzc0IDEuNzA4IDEuNzIgMS43MDh6bTAtMi42MjVjLjUxIDAgLjkyMi40MTIuOTIyLjkxNGEuOTIuOTIgMCAxIDEtMS44NDIgMCAuOTIuOTIgMCAwIDEgLjkyLS45MTR6TTUuNzQ0IDIuMTE1aDkuODQ1YS40LjQgMCAwIDAgLjQwMS0uMzk5LjQuNCAwIDAgMC0uNDAxLS4zOTlINS43NDRhLjQuNCAwIDAgMC0uNDAyLjM5OS40LjQgMCAwIDAgLjQwMi4zOTl6TTUuNzQ0IDcuMzk0aDkuODQ1YS40LjQgMCAwIDAgLjQwMS0uMzk5LjQuNCAwIDAgMC0uNDAxLS4zOThINS43NDRhLjQuNCAwIDAgMC0uNDAyLjM5OC40LjQgMCAwIDAgLjQwMi4zOTl6TTUuNzQ0IDEyLjY3aDkuODQ1YS40LjQgMCAwIDAgLjQwMS0uMzk5LjQuNCAwIDAgMC0uNDAxLS4zOTlINS43NDRhLjQuNCAwIDAgMC0uNDAyLjQuNC40IDAgMCAwIC40MDIuMzk4eiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},ordered:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTMiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNC4yMDIgMS40NjZoOC4xNWMuMzM4IDAgLjYxMi0uMzIyLjYxMi0uNzIgMC0uMzk3LS4yNzQtLjcyLS42MTItLjcyaC04LjE1Yy0uMzM4IDAtLjYxMS4zMjMtLjYxMS43MiAwIC4zOTguMjczLjcyLjYxLjcyek0xMi4zNTIgNS43ODNoLTguMTVjLS4zMzggMC0uNjExLjMyMi0uNjExLjcyIDAgLjM5Ny4yNzMuNzIuNjEuNzJoOC4xNTFjLjMzOCAwIC42MTItLjMyMy42MTItLjcyIDAtLjM5OC0uMjc0LS43Mi0uNjEyLS43MnpNMTIuMzUyIDExLjU0aC04LjE1Yy0uMzM4IDAtLjYxMS4zMjItLjYxMS43MiAwIC4zOTYuMjczLjcxOS42MS43MTloOC4xNTFjLjMzOCAwIC42MTItLjMyMy42MTItLjcyIDAtLjM5Ny0uMjc0LS43Mi0uNjEyLS43MnpNLjc2NyAxLjI0OXYxLjgwMmMwIC4xOTUuMTM2LjM0My4zMTUuMzQzLjE3NiAwIC4zMTUtLjE1LjMxNS0uMzQzVi4zNTZjMC0uMTktLjEzMy0uMzM5LS4zMDItLjMzOS0uMTQ4IDAtLjIyMy4xMTgtLjI0Ny4xNTZhLjIyOC4yMjggMCAwIDAtLjAwMy4wMDVMLjU3OS42MjFhLjQ3NC40NzQgMCAwIDAtLjA5OC4yNzNjMCAuMTk0LjEyOC4zNTEuMjg2LjM1NXpNLjM1MiA4LjE5SDEuNTVjLjE1NyAwIC4yODUtLjE2Mi4yODUtLjM2MiAwLS4xOTgtLjEyOC0uMzU5LS4yODUtLjM1OUguNjh2LS4wMDZjMC0uMTA3LjIxLS4yODEuMzc4LS40MjIuMzM2LS4yNzguNzUzLS42MjUuNzUzLTEuMjI2IDAtLjU3LS4zNzYtMS0uODc0LTEtLjQ3NyAwLS44MzYuMzg1LS44MzYuODk3IDAgLjI5Ny4xNjQuNDAyLjMwNS40MDIuMiAwIC4zMjEtLjE3Ni4zMjEtLjM0NiAwLS4xMDYuMDIzLS4yMjguMjA0LS4yMjguMjQzIDAgLjI1LjI1NC4yNS4yODMgMCAuMjI4LS4yNTIuNDQyLS40OTUuNjQ5LS4zMDEuMjU1LS42NDIuNTQ0LS42NDIuOTkydi4zODRjMCAuMjA1LjE1OS4zNDMuMzA4LjM0M3pNMS43NyAxMC41NDNjMC0uNTkyLS4yOTYtLjkzMS0uODE0LS45MzEtLjY4IDAtLjg1OS41Ny0uODU5Ljg3MiAwIC4zNTEuMjIyLjM5LjMxOC4zOS4xODUgMCAuMzEtLjE0OC4zMS0uMzY2IDAtLjA4NC4wMjYtLjE4MS4yMjQtLjE4MS4xNDIgMCAuMi4wMjQuMi4yNjcgMCAuMjM3LS4wNDMuMjYzLS4yMTMuMjYzLS4xNjQgMC0uMjg4LjE1Mi0uMjg4LjM1NCAwIC4yLjEyNS4zNS4yOTEuMzUuMjI1IDAgLjI3LjEwOC4yNy4yODN2LjA3NWMwIC4yOTQtLjA5Ny4zNS0uMjc3LjM1LS4yNDggMC0uMjY3LS4xNS0uMjY3LS4xOTcgMC0uMTc0LS4wOTgtLjM1LS4zMTctLjM1LS4xOTIgMC0uMzA3LjE0MS0uMzA3LjM3OCAwIC40My4zMTMuODg4Ljg5NS44ODguNTY0IDAgLjkwMS0uNC45MDEtMS4wN3YtLjA3NGMwLS4yNzQtLjA3NC0uNTAyLS4yMTQtLjY2Ni4wOTYtLjE2My4xNDgtLjM4LjE0OC0uNjM1eiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},indent:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNS43MTYgMy4yMTFIMTd2MS4xOTdINS43MTZ6TTAgLjAyaDE3djEuMTk3SDB6TTAgMTIuNzgzaDE3djEuMTk3SDB6TTUuNzE2IDkuNTkzSDE3djEuMTk3SDUuNzE2ek01LjcxNiA2LjQwMkgxN3YxLjE5N0g1LjcxNnpNLjE4NyA5LjQ5MUwyLjUyIDcgLjE4NyA0LjUwOXoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},outdent:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNNS4zOTYgMy4xOTNoMTAuNTczVjQuMzlINS4zOTZ6TS4wMzkuMDAzaDE1LjkzVjEuMkguMDM5ek0uMDM5IDEyLjc2NmgxNS45M3YxLjE5N0guMDM5ek01LjM5NiA5LjU3NWgxMC41NzN2MS4xOTdINS4zOTZ6TTUuMzk2IDYuMzg0aDEwLjU3M3YxLjE5N0g1LjM5NnpNMi4xODcgNC40OTFMMCA2Ljk4M2wyLjE4NyAyLjQ5MXoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},title:void 0},textAlign:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["left","center","right","justify"],left:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNOC40OTMgMTQuODg3SC4zMjZhLjMyNi4zMjYgMCAwIDEgMC0uNjUyaDguMTY3YS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjE4IDEwLjE2MkguMzI2YS4zMjYuMzI2IDAgMCAxIDAtLjY1M2gxNC4yOTJhLjMyNi4zMjYgMCAwIDEgMCAuNjUzek04LjQ5MyA1LjQzNUguMzI2YS4zMjYuMzI2IDAgMCAxIDAtLjY1Mmg4LjE2N2EuMzI2LjMyNiAwIDAgMSAwIC42NTJ6TTE0LjYxOC43MDlILjMyNmEuMzI2LjMyNiAwIDAgMSAwLS42NTJoMTQuMjkyYS4zMjYuMzI2IDAgMCAxIDAgLjY1MnoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},center:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTEuNTU2IDE0Ljg4N0gzLjM4OGEuMzI2LjMyNiAwIDAgMSAwLS42NTJoOC4xNjdhLjMyNi4zMjYgMCAwIDEgMCAuNjUyek0xNC42MTggMTAuMTYySC4zMjZhLjMyNi4zMjYgMCAwIDEgMC0uNjUzaDE0LjI5MmEuMzI2LjMyNiAwIDAgMSAwIC42NTN6TTExLjU1NiA1LjQzNUgzLjM4OGEuMzI2LjMyNiAwIDAgMSAwLS42NTJoOC4xNjdhLjMyNi4zMjYgMCAwIDEgMCAuNjUyek0xNC42MTguNzA5SC4zMjZhLjMyNi4zMjYgMCAwIDEgMC0uNjUyaDE0LjI5MmEuMzI2LjMyNiAwIDAgMSAwIC42NTJ6Ii8+PC9nPjwvc3ZnPg==",className:void 0,title:void 0},right:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNjE4IDE0Ljg4N0g2LjQ1YS4zMjYuMzI2IDAgMCAxIDAtLjY1Mmg4LjE2N2EuMzI2LjMyNiAwIDAgMSAwIC42NTJ6TTE0LjYxOCAxMC4xNjJILjMyNmEuMzI2LjMyNiAwIDAgMSAwLS42NTNoMTQuMjkyYS4zMjYuMzI2IDAgMCAxIDAgLjY1M3pNMTQuNjE4IDUuNDM1SDYuNDVhLjMyNi4zMjYgMCAwIDEgMC0uNjUyaDguMTY3YS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjE4LjcwOUguMzI2YS4zMjYuMzI2IDAgMCAxIDAtLjY1MmgxNC4yOTJhLjMyNi4zMjYgMCAwIDEgMCAuNjUyeiIvPjwvZz48L3N2Zz4=",className:void 0,title:void 0},justify:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNjIgMTQuODg4SC4zMjVhLjMyNi4zMjYgMCAwIDEgMC0uNjUySDE0LjYyYS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjIgMTAuMTYySC4zMjVhLjMyNi4zMjYgMCAwIDEgMC0uNjUySDE0LjYyYS4zMjYuMzI2IDAgMCAxIDAgLjY1MnpNMTQuNjIgNS40MzZILjMyNWEuMzI2LjMyNiAwIDAgMSAwLS42NTJIMTQuNjJhLjMyNi4zMjYgMCAwIDEgMCAuNjUyek0xNC42Mi43MUguMzI1YS4zMjYuMzI2IDAgMCAxIDAtLjY1M0gxNC42MmEuMzI2LjMyNiAwIDAgMSAwIC42NTN6Ii8+PC9nPjwvc3ZnPg==",className:void 0,title:void 0},title:void 0},colorPicker:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNDA2LjU4NWExLjk5OCAxLjk5OCAwIDAgMC0yLjgyNSAwbC0uNTQuNTRhLjc0MS43NDEgMCAxIDAtMS4wNDggMS4wNDhsLjE3NS4xNzUtNS44MjYgNS44MjUtMi4wMjIgMi4wMjNhLjkxLjkxIDAgMCAwLS4yNjYuNjAybC0uMDA1LjEwOHYuMDAybC0uMDgxIDEuODI5YS4zMDIuMzAyIDAgMCAwIC4zMDIuMzE2aC4wMTNsLjk3LS4wNDQuNTkyLS4wMjYuMjY4LS4wMTJjLjI5Ny0uMDEzLjU3OS0uMTM3Ljc5LS4zNDdsNy43Ny03Ljc3LjE0Ni4xNDRhLjc0Ljc0IDAgMCAwIDEuMDQ4IDBjLjI5LS4yOS4yOS0uNzU5IDAtMS4wNDhsLjU0LS41NGMuNzgtLjc4Ljc4LTIuMDQ0IDAtMi44MjV6TTguNzk1IDcuMzMzbC0yLjczLjUxNSA0LjQ1Mi00LjQ1MiAxLjEwOCAxLjEwNy0yLjgzIDIuODN6TTIuMDggMTMuNjczYy0xLjE0OCAwLTIuMDguMjk1LTIuMDguNjYgMCAuMzYzLjkzMi42NTggMi4wOC42NTggMS4xNSAwIDIuMDgtLjI5NCAyLjA4LS42NTkgMC0uMzY0LS45My0uNjU5LTIuMDgtLjY1OXoiLz48L2c+PC9zdmc+",className:void 0,component:void 0,popupClassName:void 0,colors:["rgb(97,189,109)","rgb(26,188,156)","rgb(84,172,210)","rgb(44,130,201)","rgb(147,101,184)","rgb(71,85,119)","rgb(204,204,204)","rgb(65,168,95)","rgb(0,168,133)","rgb(61,142,185)","rgb(41,105,176)","rgb(85,57,130)","rgb(40,50,78)","rgb(0,0,0)","rgb(247,218,100)","rgb(251,160,38)","rgb(235,107,86)","rgb(226,80,65)","rgb(163,143,132)","rgb(239,239,239)","rgb(255,255,255)","rgb(250,197,28)","rgb(243,121,52)","rgb(209,72,65)","rgb(184,49,47)","rgb(124,112,107)","rgb(209,213,216)"],title:void 0},link:{inDropdown:!1,className:void 0,component:void 0,popupClassName:void 0,dropdownClassName:void 0,showOpenOptionOnHover:!0,defaultTargetOption:"_self",options:["link","unlink"],link:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEzLjk2Ny45NUEzLjIyNiAzLjIyNiAwIDAgMCAxMS42Ny4wMDJjLS44NyAwLTEuNjg2LjMzNy0yLjI5Ny45NDhMNy4xMDUgMy4yMThBMy4yNDcgMy4yNDcgMCAwIDAgNi4yNCA2LjI0YTMuMjI1IDMuMjI1IDAgMCAwLTMuMDIyLjg2NUwuOTUgOS4zNzNhMy4yNTMgMy4yNTMgMCAwIDAgMCA0LjU5NCAzLjIyNiAzLjIyNiAwIDAgMCAyLjI5Ny45NDhjLjg3IDAgMS42ODYtLjMzNiAyLjI5OC0uOTQ4TDcuODEyIDExLjdhMy4yNDcgMy4yNDcgMCAwIDAgLjg2NS0zLjAyMyAzLjIyNSAzLjIyNSAwIDAgMCAzLjAyMi0uODY1bDIuMjY4LTIuMjY3YTMuMjUyIDMuMjUyIDAgMCAwIDAtNC41OTV6TTcuMTA1IDEwLjk5M0w0LjgzNyAxMy4yNmEyLjIzMyAyLjIzMyAwIDAgMS0xLjU5LjY1NSAyLjIzMyAyLjIzMyAwIDAgMS0xLjU5LS42NTUgMi4yNTIgMi4yNTIgMCAwIDEgMC0zLjE4bDIuMjY4LTIuMjY4YTIuMjMyIDIuMjMyIDAgMCAxIDEuNTktLjY1NWMuNDMgMCAuODQxLjEyIDEuMTk1LjM0M0w0Ljc3MiA5LjQzOGEuNS41IDAgMSAwIC43MDcuNzA3bDEuOTM5LTEuOTM4Yy41NDUuODY4LjQ0MiAyLjAzLS4zMTMgMi43ODV6bTYuMTU1LTYuMTU1bC0yLjI2OCAyLjI2N2EyLjIzMyAyLjIzMyAwIDAgMS0xLjU5LjY1NWMtLjQzMSAwLS44NDEtLjEyLTEuMTk1LS4zNDNsMS45MzgtMS45MzhhLjUuNSAwIDEgMC0uNzA3LS43MDdMNy40OTkgNi43MWEyLjI1MiAyLjI1MiAwIDAgMSAuMzEzLTIuNzg1bDIuMjY3LTIuMjY4YTIuMjMzIDIuMjMzIDAgMCAxIDEuNTktLjY1NSAyLjIzMyAyLjIzMyAwIDAgMSAyLjI0NiAyLjI0NWMwIC42MDMtLjIzMiAxLjE2OC0uNjU1IDEuNTl6IiBmaWxsPSIjMDAwIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=",className:void 0,title:void 0},unlink:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTMuOTU2IDEuMDM3YTMuNTUgMy41NSAwIDAgMC01LjAxNCAwTDYuNDM2IDMuNTQ0YS41NDUuNTQ1IDAgMSAwIC43Ny43N2wyLjUwOC0yLjUwNmEyLjQzOCAyLjQzOCAwIDAgMSAxLjczNS0uNzE1Yy42NTggMCAxLjI3NS4yNTQgMS43MzYuNzE1LjQ2LjQ2MS43MTUgMS4wNzguNzE1IDEuNzM2IDAgLjY1OC0uMjU0IDEuMjc0LS43MTUgMS43MzVMOS45MDcgOC41NThhMi40NTggMi40NTggMCAwIDEtMy40NzIgMCAuNTQ1LjU0NSAwIDEgMC0uNzcxLjc3MSAzLjUzNCAzLjUzNCAwIDAgMCAyLjUwNyAxLjAzN2MuOTA4IDAgMS44MTYtLjM0NiAyLjUwNy0xLjAzN2wzLjI3OC0zLjI3OGEzLjUyIDMuNTIgMCAwIDAgMS4wMzUtMi41MDdjMC0uOTUtLjM2Ny0xLjg0LTEuMDM1LTIuNTA3eiIvPjxwYXRoIGQ9Ik03LjQgMTEuMDY1bC0yLjEyMiAyLjEyYTIuNDM3IDIuNDM3IDAgMCAxLTEuNzM1LjcxNiAyLjQzNyAyLjQzNyAwIDAgMS0xLjczNi0uNzE1IDIuNDU3IDIuNDU3IDAgMCAxIDAtMy40NzFsMy4wODYtMy4wODZhMi40MzggMi40MzggMCAwIDEgMS43MzUtLjcxNWMuNjU4IDAgMS4yNzUuMjU0IDEuNzM2LjcxNWEuNTQ1LjU0NSAwIDEgMCAuNzcxLS43NzEgMy41NSAzLjU1IDAgMCAwLTUuMDE0IDBMMS4wMzYgOC45NDRBMy41MiAzLjUyIDAgMCAwIDAgMTEuNDVjMCAuOTUuMzY3IDEuODQgMS4wMzUgMi41MDdhMy41MiAzLjUyIDAgMCAwIDIuNTA2IDEuMDM1Yy45NSAwIDEuODQtLjM2OCAyLjUwNy0xLjAzNWwyLjEyMi0yLjEyMWEuNTQ1LjU0NSAwIDAgMC0uNzcxLS43NzF6TTkuMjc0IDEyLjAwMmEuNTQ2LjU0NiAwIDAgMC0uNTQ2LjU0NXYxLjYzN2EuNTQ2LjU0NiAwIDAgMCAxLjA5MSAwdi0xLjYzN2EuNTQ1LjU0NSAwIDAgMC0uNTQ1LS41NDV6TTExLjIzIDExLjYxNmEuNTQ1LjU0NSAwIDEgMC0uNzcyLjc3MmwxLjE1NyAxLjE1NmEuNTQzLjU0MyAwIDAgMCAuNzcxIDAgLjU0NS41NDUgMCAwIDAgMC0uNzdsLTEuMTU2LTEuMTU4ek0xMi41MzcgOS44MkgxMC45YS41NDYuNTQ2IDAgMCAwIDAgMS4wOTFoMS42MzdhLjU0Ni41NDYgMCAwIDAgMC0xLjA5ek00LjkxIDMuNTQ3YS41NDYuNTQ2IDAgMCAwIC41NDUtLjU0NVYxLjM2NmEuNTQ2LjU0NiAwIDAgMC0xLjA5IDB2MS42MzZjMCAuMzAxLjI0NC41NDUuNTQ1LjU0NXpNMi44ODggMy45MzNhLjU0My41NDMgMCAwIDAgLjc3MSAwIC41NDUuNTQ1IDAgMCAwIDAtLjc3MUwyLjUwMiAyLjAwNWEuNTQ1LjU0NSAwIDEgMC0uNzcxLjc3bDEuMTU3IDEuMTU4ek0xLjYyOCA1LjczaDEuNjM2YS41NDYuNTQ2IDAgMCAwIDAtMS4wOTJIMS42MjhhLjU0Ni41NDYgMCAwIDAgMCAxLjA5MXoiLz48L2c+PC9zdmc+",className:void 0,title:void 0},linkCallback:void 0},emoji:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHZpZXdCb3g9IjE1LjcyOSAyMi4wODIgMTcgMTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTI5LjcwOCAyNS4xMDRjLTMuMDIxLTMuMDIyLTcuOTM3LTMuMDIyLTEwLjk1OCAwLTMuMDIxIDMuMDItMy4wMiA3LjkzNiAwIDEwLjk1OCAzLjAyMSAzLjAyIDcuOTM3IDMuMDIgMTAuOTU4LS4wMDEgMy4wMi0zLjAyMSAzLjAyLTcuOTM2IDAtMTAuOTU3em0tLjg0NSAxMC4xMTJhNi41NiA2LjU2IDAgMCAxLTkuMjY4IDAgNi41NiA2LjU2IDAgMCAxIDAtOS4yNjcgNi41NiA2LjU2IDAgMCAxIDkuMjY4IDAgNi41NiA2LjU2IDAgMCAxIDAgOS4yNjd6bS03LjUyNC02LjczYS45MDYuOTA2IDAgMSAxIDEuODExIDAgLjkwNi45MDYgMCAwIDEtMS44MTEgMHptNC4xMDYgMGEuOTA2LjkwNiAwIDEgMSAxLjgxMiAwIC45MDYuOTA2IDAgMCAxLTEuODEyIDB6bTIuMTQxIDMuNzA4Yy0uNTYxIDEuMjk4LTEuODc1IDIuMTM3LTMuMzQ4IDIuMTM3LTEuNTA1IDAtMi44MjctLjg0My0zLjM2OS0yLjE0N2EuNDM4LjQzOCAwIDAgMSAuODEtLjMzNmMuNDA1Ljk3NiAxLjQxIDEuNjA3IDIuNTU5IDEuNjA3IDEuMTIzIDAgMi4xMjEtLjYzMSAyLjU0NC0xLjYwOGEuNDM4LjQzOCAwIDAgMSAuODA0LjM0N3oiLz48L3N2Zz4=",className:void 0,component:void 0,popupClassName:void 0,emojis:["\ud83d\ude00","\ud83d\ude01","\ud83d\ude02","\ud83d\ude03","\ud83d\ude09","\ud83d\ude0b","\ud83d\ude0e","\ud83d\ude0d","\ud83d\ude17","\ud83e\udd17","\ud83e\udd14","\ud83d\ude23","\ud83d\ude2b","\ud83d\ude34","\ud83d\ude0c","\ud83e\udd13","\ud83d\ude1b","\ud83d\ude1c","\ud83d\ude20","\ud83d\ude07","\ud83d\ude37","\ud83d\ude08","\ud83d\udc7b","\ud83d\ude3a","\ud83d\ude38","\ud83d\ude39","\ud83d\ude3b","\ud83d\ude3c","\ud83d\ude3d","\ud83d\ude40","\ud83d\ude48","\ud83d\ude49","\ud83d\ude4a","\ud83d\udc7c","\ud83d\udc6e","\ud83d\udd75","\ud83d\udc82","\ud83d\udc73","\ud83c\udf85","\ud83d\udc78","\ud83d\udc70","\ud83d\udc72","\ud83d\ude4d","\ud83d\ude47","\ud83d\udeb6","\ud83c\udfc3","\ud83d\udc83","\u26f7","\ud83c\udfc2","\ud83c\udfcc","\ud83c\udfc4","\ud83d\udea3","\ud83c\udfca","\u26f9","\ud83c\udfcb","\ud83d\udeb4","\ud83d\udc6b","\ud83d\udcaa","\ud83d\udc48","\ud83d\udc49","\ud83d\udc46","\ud83d\udd95","\ud83d\udc47","\ud83d\udd96","\ud83e\udd18","\ud83d\udd90","\ud83d\udc4c","\ud83d\udc4d","\ud83d\udc4e","\u270a","\ud83d\udc4a","\ud83d\udc4f","\ud83d\ude4c","\ud83d\ude4f","\ud83d\udc35","\ud83d\udc36","\ud83d\udc07","\ud83d\udc25","\ud83d\udc38","\ud83d\udc0c","\ud83d\udc1b","\ud83d\udc1c","\ud83d\udc1d","\ud83c\udf49","\ud83c\udf44","\ud83c\udf54","\ud83c\udf64","\ud83c\udf68","\ud83c\udf6a","\ud83c\udf82","\ud83c\udf70","\ud83c\udf7e","\ud83c\udf77","\ud83c\udf78","\ud83c\udf7a","\ud83c\udf0d","\ud83d\ude91","\u23f0","\ud83c\udf19","\ud83c\udf1d","\ud83c\udf1e","\u2b50","\ud83c\udf1f","\ud83c\udf20","\ud83c\udf28","\ud83c\udf29","\u26c4","\ud83d\udd25","\ud83c\udf84","\ud83c\udf88","\ud83c\udf89","\ud83c\udf8a","\ud83c\udf81","\ud83c\udf97","\ud83c\udfc0","\ud83c\udfc8","\ud83c\udfb2","\ud83d\udd07","\ud83d\udd08","\ud83d\udce3","\ud83d\udd14","\ud83c\udfb5","\ud83c\udfb7","\ud83d\udcb0","\ud83d\udd8a","\ud83d\udcc5","\u2705","\u274e","\ud83d\udcaf"],title:void 0},embedded:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTciIGhlaWdodD0iMTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuNzA4IDYuNjE1YS40MzYuNDM2IDAgMCAwLS41NDMuMjkxbC0xLjgzIDYuMDQ1YS40MzYuNDM2IDAgMCAwIC44MzMuMjUyTDcgNy4xNmEuNDM2LjQzNiAwIDAgMC0uMjktLjU0NHpNOC45MzEgNi42MTVhLjQzNi40MzYgMCAwIDAtLjU0My4yOTFsLTEuODMgNi4wNDVhLjQzNi40MzYgMCAwIDAgLjgzNC4yNTJsMS44My02LjA0NGEuNDM2LjQzNiAwIDAgMC0uMjktLjU0NHoiLz48cGF0aCBkPSJNMTYuNTY0IDBILjQzNkEuNDM2LjQzNiAwIDAgMCAwIC40MzZ2MTYuMTI4YzAgLjI0LjE5NS40MzYuNDM2LjQzNmgxNi4xMjhjLjI0IDAgLjQzNi0uMTk1LjQzNi0uNDM2Vi40MzZBLjQzNi40MzYgMCAwIDAgMTYuNTY0IDB6TTMuNDg3Ljg3MmgxMC4wMjZ2MS43NDNIMy40ODdWLjg3MnptLTIuNjE1IDBoMS43NDN2MS43NDNILjg3MlYuODcyem0xNS4yNTYgMTUuMjU2SC44NzJWMy40ODhoMTUuMjU2djEyLjY0em0wLTEzLjUxM2gtMS43NDNWLjg3MmgxLjc0M3YxLjc0M3oiLz48Y2lyY2xlIGN4PSI5My44NjciIGN5PSIyNDUuMDY0IiByPSIxMy4xMjgiIHRyYW5zZm9ybT0ibWF0cml4KC4wMzMyIDAgMCAuMDMzMiAwIDApIi8+PGNpcmNsZSBjeD0iOTMuODY3IiBjeT0iMzYwLjU5MiIgcj0iMTMuMTI4IiB0cmFuc2Zvcm09Im1hdHJpeCguMDMzMiAwIDAgLjAzMzIgMCAwKSIvPjxwYXRoIGQ9Ik0xNC4yNTQgMTIuNjQxSDEwLjJhLjQzNi40MzYgMCAwIDAgMCAuODcyaDQuMDU0YS40MzYuNDM2IDAgMCAwIDAtLjg3MnoiLz48L3N2Zz4=",className:void 0,component:void 0,popupClassName:void 0,embedCallback:void 0,defaultSize:{height:"auto",width:"auto"},title:void 0},image:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUiIGhlaWdodD0iMTQiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PGcgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIj48cGF0aCBkPSJNMTQuNzQxIDBILjI2Qy4xMTYgMCAwIC4xMzYgMCAuMzA0djEzLjM5MmMwIC4xNjguMTE2LjMwNC4yNTkuMzA0SDE0Ljc0Yy4xNDMgMCAuMjU5LS4xMzYuMjU5LS4zMDRWLjMwNEMxNSAuMTM2IDE0Ljg4NCAwIDE0Ljc0MSAwem0tLjI1OCAxMy4zOTFILjUxN1YuNjFoMTMuOTY2VjEzLjM5eiIvPjxwYXRoIGQ9Ik00LjEzOCA2LjczOGMuNzk0IDAgMS40NC0uNzYgMS40NC0xLjY5NXMtLjY0Ni0xLjY5NS0xLjQ0LTEuNjk1Yy0uNzk0IDAtMS40NC43Ni0xLjQ0IDEuNjk1IDAgLjkzNC42NDYgMS42OTUgMS40NCAxLjY5NXptMC0yLjc4MWMuNTA5IDAgLjkyMy40ODcuOTIzIDEuMDg2IDAgLjU5OC0uNDE0IDEuMDg2LS45MjMgMS4wODYtLjUwOSAwLS45MjMtLjQ4Ny0uOTIzLTEuMDg2IDAtLjU5OS40MTQtMS4wODYuOTIzLTEuMDg2ek0xLjgxIDEyLjE3NGMuMDYgMCAuMTIyLS4wMjUuMTcxLS4wNzZMNi4yIDcuNzI4bDIuNjY0IDMuMTM0YS4yMzIuMjMyIDAgMCAwIC4zNjYgMCAuMzQzLjM0MyAwIDAgMCAwLS40M0w3Ljk4NyA4Ljk2OWwyLjM3NC0zLjA2IDIuOTEyIDMuMTQyYy4xMDYuMTEzLjI3LjEwNS4zNjYtLjAyYS4zNDMuMzQzIDAgMCAwLS4wMTYtLjQzbC0zLjEwNC0zLjM0N2EuMjQ0LjI0NCAwIDAgMC0uMTg2LS4wOC4yNDUuMjQ1IDAgMCAwLS4xOC4xTDcuNjIyIDguNTM3IDYuMzk0IDcuMDk0YS4yMzIuMjMyIDAgMCAwLS4zNTQtLjAxM2wtNC40IDQuNTZhLjM0My4zNDMgMCAwIDAtLjAyNC40My4yNDMuMjQzIDAgMCAwIC4xOTQuMTAzeiIvPjwvZz48L3N2Zz4=",className:void 0,component:void 0,popupClassName:void 0,urlEnabled:!0,uploadEnabled:!0,previewImage:!1,alignmentEnabled:!0,uploadCallback:void 0,inputAccept:"image/gif,image/jpeg,image/jpg,image/png,image/svg",alt:{present:!1,mandatory:!1},defaultSize:{height:"auto",width:"auto"},title:void 0},remove:{icon:"data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxNSIgaGVpZ2h0PSIxNSIgdmlld0JveD0iMCAwIDE2IDE2Ij48cGF0aCBkPSJNOC4xIDE0bDYuNC03LjJjLjYtLjcuNi0xLjgtLjEtMi41bC0yLjctMi43Yy0uMy0uNC0uOC0uNi0xLjMtLjZIOC42Yy0uNSAwLTEgLjItMS40LjZMLjUgOS4yYy0uNi43LS42IDEuOS4xIDIuNWwyLjcgMi43Yy4zLjQuOC42IDEuMy42SDE2di0xSDguMXptLTEuMy0uMXMwLS4xIDAgMGwtMi43LTIuN2MtLjQtLjQtLjQtLjkgMC0xLjNMNy41IDZoLTFsLTMgMy4zYy0uNi43LS42IDEuNy4xIDIuNEw1LjkgMTRINC42Yy0uMiAwLS40LS4xLS42LS4yTDEuMiAxMWMtLjMtLjMtLjMtLjggMC0xLjFMNC43IDZoMS44TDEwIDJoMUw3LjUgNmwzLjEgMy43LTMuNSA0Yy0uMS4xLS4yLjEtLjMuMnoiLz48L3N2Zz4=",className:void 0,component:void 0,title:void 0},history:{inDropdown:!1,className:void 0,component:void 0,dropdownClassName:void 0,options:["undo","redo"],undo:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTQiIGhlaWdodD0iMTciIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTcgMTQuODc1YzIuNjcyIDAgNC44NDYtMi4xNDUgNC44NDYtNC43ODEgMC0yLjYzNy0yLjE3NC00Ljc4MS00Ljg0Ni00Ljc4MVY4LjVMMS42MTUgNC4yNSA3IDB2My4xODhjMy44NiAwIDcgMy4wOTggNyA2LjkwNlMxMC44NiAxNyA3IDE3cy03LTMuMDk4LTctNi45MDZoMi4xNTRjMCAyLjYzNiAyLjE3NCA0Ljc4MSA0Ljg0NiA0Ljc4MXoiIGZpbGw9IiMwMDAiIGZpbGwtcnVsZT0iZXZlbm9kZCIvPjwvc3ZnPg==",className:void 0,title:void 0},redo:{icon:"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTMiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTYuNTA0IDEzLjk3N2E0LjQ5NyA0LjQ5NyAwIDAgMS00LjQ5Mi00LjQ5MiA0LjQ5NyA0LjQ5NyAwIDAgMSA0LjQ5Mi00LjQ5M3YyLjk5NWw0Ljk5LTMuOTkzTDYuNTA0IDB2Mi45OTVhNi40OTYgNi40OTYgMCAwIDAtNi40ODggNi40OWMwIDMuNTc4IDIuOTEgNi40OSA2LjQ4OCA2LjQ5YTYuNDk2IDYuNDk2IDAgMCAwIDYuNDg3LTYuNDloLTEuOTk2YTQuNDk3IDQuNDk3IDAgMCAxLTQuNDkxIDQuNDkyeiIgZmlsbD0iIzAwMCIgZmlsbC1ydWxlPSJldmVub2RkIi8+PC9zdmc+",className:void 0,title:void 0},title:void 0}},qr={en:{"generic.add":"Add","generic.cancel":"Cancel","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Blockquote","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Block Type","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Color Picker","components.controls.colorpicker.text":"Text","components.controls.colorpicker.background":"Highlight","components.controls.embedded.embedded":"Embedded","components.controls.embedded.embeddedlink":"Embedded Link","components.controls.embedded.enterlink":"Enter link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Font","components.controls.fontsize.fontsize":"Font Size","components.controls.history.history":"History","components.controls.history.undo":"Undo","components.controls.history.redo":"Redo","components.controls.image.image":"Image","components.controls.image.fileUpload":"File Upload","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Drop the file or click to upload","components.controls.inline.bold":"Bold","components.controls.inline.italic":"Italic","components.controls.inline.underline":"Underline","components.controls.inline.strikethrough":"Strikethrough","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Superscript","components.controls.inline.subscript":"Subscript","components.controls.link.linkTitle":"Link Title","components.controls.link.linkTarget":"Link Target","components.controls.link.linkTargetOption":"Open link in new window","components.controls.link.link":"Link","components.controls.link.unlink":"Unlink","components.controls.list.list":"List","components.controls.list.unordered":"Unordered","components.controls.list.ordered":"Ordered","components.controls.list.indent":"Indent","components.controls.list.outdent":"Outdent","components.controls.remove.remove":"Remove","components.controls.textalign.textalign":"Text Align","components.controls.textalign.left":"Left","components.controls.textalign.center":"Center","components.controls.textalign.right":"Right","components.controls.textalign.justify":"Justify"},fr:{"generic.add":"Ok","generic.cancel":"Annuler","components.controls.blocktype.h1":"Titre 1","components.controls.blocktype.h2":"Titre 2","components.controls.blocktype.h3":"Titre 3","components.controls.blocktype.h4":"Titre 4","components.controls.blocktype.h5":"Titre 5","components.controls.blocktype.h6":"Titre 6","components.controls.blocktype.blockquote":"Citation","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Type bloc","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Palette de couleur","components.controls.colorpicker.text":"Texte","components.controls.colorpicker.background":"Fond","components.controls.embedded.embedded":"Embedded","components.controls.embedded.embeddedlink":"Lien iFrame","components.controls.embedded.enterlink":"Entrer le lien","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Police","components.controls.fontsize.fontsize":"Taille de police","components.controls.history.history":"Historique","components.controls.history.undo":"Pr\xe9c\xe9dent","components.controls.history.redo":"Suivant","components.controls.image.image":"Image","components.controls.image.fileUpload":"T\xe9l\xe9chargement","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Glisser une image ou cliquer pour t\xe9l\xe9charger","components.controls.inline.bold":"Gras","components.controls.inline.italic":"Italique","components.controls.inline.underline":"Souligner","components.controls.inline.strikethrough":"Barrer","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Exposant","components.controls.inline.subscript":"Indice","components.controls.link.linkTitle":"Titre du lien","components.controls.link.linkTarget":"Cible du lien","components.controls.link.linkTargetOption":"Ouvrir le lien dans une nouvelle fen\xeatre","components.controls.link.link":"Lier","components.controls.link.unlink":"D\xe9lier","components.controls.list.list":"Liste","components.controls.list.unordered":"D\xe9sordonn\xe9e","components.controls.list.ordered":"Ordonn\xe9e","components.controls.list.indent":"Augmenter le retrait","components.controls.list.outdent":"Diminuer le retrait","components.controls.remove.remove":"Supprimer","components.controls.textalign.textalign":"Alignement du texte","components.controls.textalign.left":"Gauche","components.controls.textalign.center":"Centre","components.controls.textalign.right":"Droite","components.controls.textalign.justify":"Justifier"},zh:{"generic.add":"\u6dfb\u52a0","generic.cancel":"\u53d6\u6d88","components.controls.blocktype.h1":"\u6807\u98981","components.controls.blocktype.h2":"\u6807\u98982","components.controls.blocktype.h3":"\u6807\u98983","components.controls.blocktype.h4":"\u6807\u98984","components.controls.blocktype.h5":"\u6807\u98985","components.controls.blocktype.h6":"\u6807\u98986","components.controls.blocktype.blockquote":"\u5f15\u7528","components.controls.blocktype.code":"\u6e90\u7801","components.controls.blocktype.blocktype":"\u6837\u5f0f","components.controls.blocktype.normal":"\u6b63\u6587","components.controls.colorpicker.colorpicker":"\u9009\u8272\u5668","components.controls.colorpicker.text":"\u6587\u5b57","components.controls.colorpicker.background":"\u80cc\u666f","components.controls.embedded.embedded":"\u5185\u5d4c","components.controls.embedded.embeddedlink":"\u5185\u5d4c\u7f51\u9875","components.controls.embedded.enterlink":"\u8f93\u5165\u7f51\u9875\u5730\u5740","components.controls.emoji.emoji":"\u8868\u60c5\u7b26\u53f7","components.controls.fontfamily.fontfamily":"\u5b57\u4f53","components.controls.fontsize.fontsize":"\u5b57\u53f7","components.controls.history.history":"\u5386\u53f2","components.controls.history.undo":"\u64a4\u9500","components.controls.history.redo":"\u6062\u590d","components.controls.image.image":"\u56fe\u7247","components.controls.image.fileUpload":"\u6765\u81ea\u6587\u4ef6","components.controls.image.byURL":"\u5728\u7ebf\u56fe\u7247","components.controls.image.dropFileText":"\u70b9\u51fb\u6216\u8005\u62d6\u62fd\u6587\u4ef6\u4e0a\u4f20","components.controls.inline.bold":"\u7c97\u4f53","components.controls.inline.italic":"\u659c\u4f53","components.controls.inline.underline":"\u4e0b\u5212\u7ebf","components.controls.inline.strikethrough":"\u5220\u9664\u7ebf","components.controls.inline.monospace":"\u7b49\u5bbd\u5b57\u4f53","components.controls.inline.superscript":"\u4e0a\u6807","components.controls.inline.subscript":"\u4e0b\u6807","components.controls.link.linkTitle":"\u8d85\u94fe\u63a5","components.controls.link.linkTarget":"\u8f93\u5165\u94fe\u63a5\u5730\u5740","components.controls.link.linkTargetOption":"\u5728\u65b0\u7a97\u53e3\u4e2d\u6253\u5f00\u94fe\u63a5","components.controls.link.link":"\u94fe\u63a5","components.controls.link.unlink":"\u5220\u9664\u94fe\u63a5","components.controls.list.list":"\u5217\u8868","components.controls.list.unordered":"\u9879\u76ee\u7b26\u53f7","components.controls.list.ordered":"\u7f16\u53f7","components.controls.list.indent":"\u589e\u52a0\u7f29\u8fdb\u91cf","components.controls.list.outdent":"\u51cf\u5c11\u7f29\u8fdb\u91cf","components.controls.remove.remove":"\u6e05\u9664\u683c\u5f0f","components.controls.textalign.textalign":"\u6587\u672c\u5bf9\u9f50","components.controls.textalign.left":"\u6587\u672c\u5de6\u5bf9\u9f50","components.controls.textalign.center":"\u5c45\u4e2d","components.controls.textalign.right":"\u6587\u672c\u53f3\u5bf9\u9f50","components.controls.textalign.justify":"\u4e24\u7aef\u5bf9\u9f50"},ru:{"generic.add":"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c","generic.cancel":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","components.controls.blocktype.h1":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 1","components.controls.blocktype.h2":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 2","components.controls.blocktype.h3":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 3","components.controls.blocktype.h4":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 4","components.controls.blocktype.h5":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 5","components.controls.blocktype.h6":"\u0417\u0430\u0433\u043e\u043b\u043e\u0432\u043e\u043a 6","components.controls.blocktype.blockquote":"\u0426\u0438\u0442\u0430\u0442\u0430","components.controls.blocktype.code":"\u041a\u043e\u0434","components.controls.blocktype.blocktype":"\u0424\u043e\u0440\u043c\u0430\u0442\u0438\u0440\u043e\u0432\u0430\u043d\u0438\u0435","components.controls.blocktype.normal":"\u041e\u0431\u044b\u0447\u043d\u044b\u0439","components.controls.colorpicker.colorpicker":"\u0412\u044b\u0431\u043e\u0440 \u0446\u0432\u0435\u0442\u0430","components.controls.colorpicker.text":"\u0422\u0435\u043a\u0441\u0442","components.controls.colorpicker.background":"\u0424\u043e\u043d","components.controls.embedded.embedded":"\u0412\u0441\u0442\u0440\u0430\u0438\u0432\u0430\u043d\u0438\u0435","components.controls.embedded.embeddedlink":"\u0421\u0441\u044b\u043b\u043a\u0430 \u0432 iFrame","components.controls.embedded.enterlink":"\u0412\u0441\u0442\u0430\u0432\u044c\u0442\u0435 \u0441\u0441\u044b\u043b\u043a\u0443","components.controls.emoji.emoji":"\u042d\u043c\u043e\u0434\u0437\u0438","components.controls.fontfamily.fontfamily":"\u0428\u0440\u0438\u0444\u0442","components.controls.fontsize.fontsize":"\u0420\u0430\u0437\u043c\u0435\u0440 \u0448\u0440\u0438\u0444\u0442\u0430","components.controls.history.history":"\u0418\u0441\u0442\u043e\u0440\u0438\u044f","components.controls.history.undo":"\u041e\u0442\u043c\u0435\u043d\u0438\u0442\u044c","components.controls.history.redo":"\u0412\u0435\u0440\u043d\u0443\u0442\u044c","components.controls.image.image":"\u0418\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435","components.controls.image.fileUpload":"\u0424\u0430\u0439\u043b\u044b","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"\u041f\u0435\u0440\u0435\u043c\u0435\u0441\u0442\u0438\u0442\u0435 \u0432 \u044d\u0442\u0443 \u043e\u0431\u043b\u0430\u0441\u0442\u044c \u0444\u0430\u0439\u043b\u044b \u0438\u043b\u0438 \u043a\u043b\u0438\u043a\u043d\u0438\u0442\u0435 \u0434\u043b\u044f \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0438","components.controls.inline.bold":"\u0416\u0438\u0440\u043d\u044b\u0439","components.controls.inline.italic":"\u041a\u0443\u0440\u0441\u0438\u0432","components.controls.inline.underline":"\u041f\u043e\u0434\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435","components.controls.inline.strikethrough":"\u0417\u0430\u0447\u0435\u0440\u043a\u0438\u0432\u0430\u043d\u0438\u0435","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"\u0412\u0435\u0440\u0445\u043d\u0438\u0439 \u0438\u043d\u0434\u0435\u043a\u0441","components.controls.inline.subscript":"\u041d\u0438\u0436\u043d\u0438\u0439 \u0438\u043d\u0434\u0435\u043a\u0441","components.controls.link.linkTitle":"\u0422\u0435\u043a\u0441\u0442","components.controls.link.linkTarget":"\u0410\u0434\u0440\u0435\u0441 \u0441\u0441\u044b\u043b\u043a\u0438","components.controls.link.linkTargetOption":"\u041e\u0442\u043a\u0440\u044b\u0432\u0430\u0442\u044c \u0432 \u043d\u043e\u0432\u043e\u043c \u043e\u043a\u043d\u0435","components.controls.link.link":"\u0421\u0441\u044b\u043b\u043a\u0430","components.controls.link.unlink":"\u0423\u0431\u0440\u0430\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443","components.controls.list.list":"\u0421\u043f\u0438\u0441\u043e\u043a","components.controls.list.unordered":"\u041d\u0435\u0443\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439","components.controls.list.ordered":"\u0423\u043f\u043e\u0440\u044f\u0434\u043e\u0447\u0435\u043d\u043d\u044b\u0439","components.controls.list.indent":"\u041e\u0442\u0441\u0442\u0443\u043f","components.controls.list.outdent":"\u0412\u044b\u0441\u0442\u0443\u043f","components.controls.remove.remove":"\u0423\u0434\u0430\u043b\u0438\u0442\u044c","components.controls.textalign.textalign":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0432\u0430\u043d\u0438\u0435 \u0442\u0435\u043a\u0441\u0442\u0430","components.controls.textalign.left":"\u0421\u043b\u0435\u0432\u0430","components.controls.textalign.center":"\u041f\u043e \u0446\u0435\u043d\u0442\u0440\u0443","components.controls.textalign.right":"\u0421\u043f\u0440\u0430\u0432\u0430","components.controls.textalign.justify":"\u0412\u044b\u0440\u0430\u0432\u043d\u0438\u0442\u044c"},pt:{"generic.add":"Ok","generic.cancel":"Cancelar","components.controls.blocktype.h1":"T\xedtulo 1","components.controls.blocktype.h2":"T\xedtulo 2","components.controls.blocktype.h3":"T\xedtulo 3","components.controls.blocktype.h4":"T\xedtulo 4","components.controls.blocktype.h5":"T\xedtulo 5","components.controls.blocktype.h6":"T\xedtulo 6","components.controls.blocktype.blockquote":"Cita\xe7\xe3o","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Estilo","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Paleta de cores","components.controls.colorpicker.text":"Texto","components.controls.colorpicker.background":"Fundo","components.controls.embedded.embedded":"Embarcado","components.controls.embedded.embeddedlink":"Link embarcado","components.controls.embedded.enterlink":"Coloque o link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Fonte","components.controls.fontsize.fontsize":"Tamanho da Fonte","components.controls.history.history":"Hist\xf3rico","components.controls.history.undo":"Desfazer","components.controls.history.redo":"Refazer","components.controls.image.image":"Imagem","components.controls.image.fileUpload":"Carregar arquivo","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Arraste uma imagem aqui ou clique para carregar","components.controls.inline.bold":"Negrito","components.controls.inline.italic":"It\xe1lico","components.controls.inline.underline":"Sublinhado","components.controls.inline.strikethrough":"Strikethrough","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Sobrescrito","components.controls.inline.subscript":"Subscrito","components.controls.link.linkTitle":"T\xedtulo do link","components.controls.link.linkTarget":"Alvo do link","components.controls.link.linkTargetOption":"Abrir link em outra janela","components.controls.link.link":"Adicionar Link","components.controls.link.unlink":"Remover link","components.controls.list.list":"Lista","components.controls.list.unordered":"Sem orden\xe7\xe3o","components.controls.list.ordered":"Ordenada","components.controls.list.indent":"Aumentar recuo","components.controls.list.outdent":"Diminuir recuo","components.controls.remove.remove":"Remover","components.controls.textalign.textalign":"Alinhamento do texto","components.controls.textalign.left":"\xc0 Esquerda","components.controls.textalign.center":"Centralizado","components.controls.textalign.right":"\xc0 Direita","components.controls.textalign.justify":"Justificado"},ko:{"generic.add":"\uc785\ub825","generic.cancel":"\ucde8\uc18c","components.controls.blocktype.h1":"\uc81c\ubaa91","components.controls.blocktype.h2":"\uc81c\ubaa92","components.controls.blocktype.h3":"\uc81c\ubaa93","components.controls.blocktype.h4":"\uc81c\ubaa94","components.controls.blocktype.h5":"\uc81c\ubaa95","components.controls.blocktype.h6":"\uc81c\ubaa96","components.controls.blocktype.blockquote":"\uc778\uc6a9","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"\ube14\ub85d","components.controls.blocktype.normal":"\ud45c\uc900","components.controls.colorpicker.colorpicker":"\uc0c9\uc0c1 \uc120\ud0dd","components.controls.colorpicker.text":"\uae00\uaf34\uc0c9","components.controls.colorpicker.background":"\ubc30\uacbd\uc0c9","components.controls.embedded.embedded":"\uc784\ubca0\ub4dc","components.controls.embedded.embeddedlink":"\uc784\ubca0\ub4dc \ub9c1\ud06c","components.controls.embedded.enterlink":"\uc8fc\uc18c\ub97c \uc785\ub825\ud558\uc138\uc694","components.controls.emoji.emoji":"\uc774\ubaa8\uc9c0","components.controls.fontfamily.fontfamily":"\uae00\uaf34","components.controls.fontsize.fontsize":"\uae00\uaf34 \ud06c\uae30","components.controls.history.history":"\ud788\uc2a4\ud1a0\ub9ac","components.controls.history.undo":"\uc2e4\ud589 \ucde8\uc18c","components.controls.history.redo":"\ub2e4\uc2dc \uc2e4\ud589","components.controls.image.image":"\uc774\ubbf8\uc9c0","components.controls.image.fileUpload":"\ud30c\uc77c \uc5c5\ub85c\ub4dc","components.controls.image.byURL":"\uc8fc\uc18c","components.controls.image.dropFileText":"\ud074\ub9ad\ud558\uac70\ub098 \ud30c\uc77c\uc744 \ub4dc\ub86d\ud558\uc5ec \uc5c5\ub85c\ub4dc\ud558\uc138\uc694","components.controls.inline.bold":"\uad75\uac8c","components.controls.inline.italic":"\uae30\uc6b8\uc784\uaf34","components.controls.inline.underline":"\ubc11\uc904","components.controls.inline.strikethrough":"\ucde8\uc18c\uc120","components.controls.inline.monospace":"\uace0\uc815 \ub108\ube44","components.controls.inline.superscript":"\uc704 \ucca8\uc790","components.controls.inline.subscript":"\uc544\ub798 \ucca8\uc790","components.controls.link.linkTitle":"\ub9c1\ud06c \uc81c\ubaa9","components.controls.link.linkTarget":"\ub9c1\ud06c \ud0c0\uac9f","components.controls.link.linkTargetOption":"\uc0c8\ucc3d\uc73c\ub85c \uc5f4\uae30","components.controls.link.link":"\ub9c1\ud06c","components.controls.link.unlink":"\ub9c1\ud06c \uc81c\uac70","components.controls.list.list":"\ub9ac\uc2a4\ud2b8","components.controls.list.unordered":"\uc77c\ubc18 \ub9ac\uc2a4\ud2b8","components.controls.list.ordered":"\uc21c\uc11c \ub9ac\uc2a4\ud2b8","components.controls.list.indent":"\ub4e4\uc5ec\uc4f0\uae30","components.controls.list.outdent":"\ub0b4\uc5b4\uc4f0\uae30","components.controls.remove.remove":"\uc0ad\uc81c","components.controls.textalign.textalign":"\ud14d\uc2a4\ud2b8 \uc815\ub82c","components.controls.textalign.left":"\uc67c\ucabd","components.controls.textalign.center":"\uc911\uc559","components.controls.textalign.right":"\uc624\ub978\ucabd","components.controls.textalign.justify":"\uc591\ucabd"},it:{"generic.add":"Aggiungi","generic.cancel":"Annulla","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Citazione","components.controls.blocktype.code":"Codice","components.controls.blocktype.blocktype":"Stili","components.controls.blocktype.normal":"Normale","components.controls.colorpicker.colorpicker":"Colore testo","components.controls.colorpicker.text":"Testo","components.controls.colorpicker.background":"Evidenziazione","components.controls.embedded.embedded":"Incorpora","components.controls.embedded.embeddedlink":"Incorpora link","components.controls.embedded.enterlink":"Inserisci link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Carattere","components.controls.fontsize.fontsize":"Dimensione carattere","components.controls.history.history":"Modifiche","components.controls.history.undo":"Annulla","components.controls.history.redo":"Ripristina","components.controls.image.image":"Immagine","components.controls.image.fileUpload":"Carica immagine","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Trascina il file o clicca per caricare","components.controls.inline.bold":"Grassetto","components.controls.inline.italic":"Corsivo","components.controls.inline.underline":"Sottolineato","components.controls.inline.strikethrough":"Barrato","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Apice","components.controls.inline.subscript":"Pedice","components.controls.link.linkTitle":"Testo","components.controls.link.linkTarget":"Link","components.controls.link.linkTargetOption":"Apri link in una nuova finestra","components.controls.link.link":"Inserisci link","components.controls.link.unlink":"Rimuovi link","components.controls.list.list":"Lista","components.controls.list.unordered":"Elenco puntato","components.controls.list.ordered":"Elenco numerato","components.controls.list.indent":"Indent","components.controls.list.outdent":"Outdent","components.controls.remove.remove":"Rimuovi formattazione","components.controls.textalign.textalign":"Allineamento del testo","components.controls.textalign.left":"Allinea a sinistra","components.controls.textalign.center":"Allinea al centro","components.controls.textalign.right":"Allinea a destra","components.controls.textalign.justify":"Giustifica"},nl:{"generic.add":"Toevoegen","generic.cancel":"Annuleren","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Blockquote","components.controls.blocktype.code":"Code","components.controls.blocktype.blocktype":"Blocktype","components.controls.blocktype.normal":"Normaal","components.controls.colorpicker.colorpicker":"Kleurkiezer","components.controls.colorpicker.text":"Tekst","components.controls.colorpicker.background":"Achtergrond","components.controls.embedded.embedded":"Ingevoegd","components.controls.embedded.embeddedlink":"Ingevoegde link","components.controls.embedded.enterlink":"Voeg link toe","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Lettertype","components.controls.fontsize.fontsize":"Lettergrootte","components.controls.history.history":"Geschiedenis","components.controls.history.undo":"Ongedaan maken","components.controls.history.redo":"Opnieuw","components.controls.image.image":"Afbeelding","components.controls.image.fileUpload":"Bestand uploaden","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Drop het bestand hier of klik om te uploaden","components.controls.inline.bold":"Dikgedrukt","components.controls.inline.italic":"Schuingedrukt","components.controls.inline.underline":"Onderstrepen","components.controls.inline.strikethrough":"Doorstrepen","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Superscript","components.controls.inline.subscript":"Subscript","components.controls.link.linkTitle":"Linktitel","components.controls.link.linkTarget":"Link bestemming","components.controls.link.linkTargetOption":"Open link in een nieuw venster","components.controls.link.link":"Link","components.controls.link.unlink":"Unlink","components.controls.list.list":"Lijst","components.controls.list.unordered":"Ongeordend","components.controls.list.ordered":"Geordend","components.controls.list.indent":"Inspringen","components.controls.list.outdent":"Inspringen verkleinen","components.controls.remove.remove":"Verwijderen","components.controls.textalign.textalign":"Tekst uitlijnen","components.controls.textalign.left":"Links","components.controls.textalign.center":"Gecentreerd","components.controls.textalign.right":"Rechts","components.controls.textalign.justify":"Uitgelijnd"},de:{"generic.add":"Hinzuf\xfcgen","generic.cancel":"Abbrechen","components.controls.blocktype.h1":"\xdcberschrift 1","components.controls.blocktype.h2":"\xdcberschrift 2","components.controls.blocktype.h3":"\xdcberschrift 3","components.controls.blocktype.h4":"\xdcberschrift 4","components.controls.blocktype.h5":"\xdcberschrift 5","components.controls.blocktype.h6":"\xdcberschrift 6","components.controls.blocktype.blockquote":"Zitat","components.controls.blocktype.code":"Quellcode","components.controls.blocktype.blocktype":"Blocktyp","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Farbauswahl","components.controls.colorpicker.text":"Text","components.controls.colorpicker.background":"Hintergrund","components.controls.embedded.embedded":"Eingebettet","components.controls.embedded.embeddedlink":"Eingebetteter Link","components.controls.embedded.enterlink":"Link eingeben","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Schriftart","components.controls.fontsize.fontsize":"Schriftgr\xf6\xdfe","components.controls.history.history":"Historie","components.controls.history.undo":"Zur\xfccknehmen","components.controls.history.redo":"Wiederholen","components.controls.image.image":"Bild","components.controls.image.fileUpload":"Datei-Upload","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Dateien ziehen und ablegen, oder klicken zum Hochladen","components.controls.inline.bold":"Fett","components.controls.inline.italic":"Kursiv","components.controls.inline.underline":"Unterstreichen","components.controls.inline.strikethrough":"Durchstreichen","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Hochgestellt","components.controls.inline.subscript":"Tiefgestellt","components.controls.link.linkTitle":"Link-Titel","components.controls.link.linkTarget":"Link-Ziel","components.controls.link.linkTargetOption":"Link in neuem Fenster \xf6ffnen","components.controls.link.link":"Link","components.controls.link.unlink":"Aufheben","components.controls.list.list":"Liste","components.controls.list.unordered":"Aufz\xe4hlung","components.controls.list.ordered":"Nummerierte Liste","components.controls.list.indent":"Einzug vergr\xf6\xdfern","components.controls.list.outdent":"Einzug reduzieren","components.controls.remove.remove":"Entfernen","components.controls.textalign.textalign":"Textausrichtung","components.controls.textalign.left":"Linksb\xfcndig","components.controls.textalign.center":"Zentrieren","components.controls.textalign.right":"Rechtsb\xfcndig","components.controls.textalign.justify":"Blocksatz"},da:{"generic.add":"Tilf\xf8j","generic.cancel":"Annuller","components.controls.blocktype.h1":"Overskrift 1","components.controls.blocktype.h2":"Overskrift 2","components.controls.blocktype.h3":"Overskrift 3","components.controls.blocktype.h4":"Overskrift 4","components.controls.blocktype.h5":"Overskrift 5","components.controls.blocktype.h6":"Overskrift 6","components.controls.blocktype.blockquote":"Blokcitat","components.controls.blocktype.code":"Kode","components.controls.blocktype.blocktype":"Blok Type","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Farver","components.controls.colorpicker.text":"Tekst","components.controls.colorpicker.background":"Baggrund","components.controls.embedded.embedded":"Indlejre","components.controls.embedded.embeddedlink":"Indlejre Link","components.controls.embedded.enterlink":"Indtast link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Fonttype","components.controls.fontsize.fontsize":"Fontst\xf8rrelser","components.controls.history.history":"Historie","components.controls.history.undo":"Fortryd","components.controls.history.redo":"Gendan","components.controls.image.image":"Billede","components.controls.image.fileUpload":"Filoverf\xf8rsel","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Drop filen eller klik for at uploade","components.controls.inline.bold":"Fed","components.controls.inline.italic":"Kursiv","components.controls.inline.underline":"Understrege","components.controls.inline.strikethrough":"Gennemstreget","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"H\xe6vet","components.controls.inline.subscript":"S\xe6nket","components.controls.link.linkTitle":"Link Titel","components.controls.link.linkTarget":"Link M\xe5l","components.controls.link.linkTargetOption":"\xc5bn link i nyt vindue","components.controls.link.link":"Link","components.controls.link.unlink":"Fjern link","components.controls.list.list":"Liste","components.controls.list.unordered":"Uordnet","components.controls.list.ordered":"Ordnet","components.controls.list.indent":"Indrykning","components.controls.list.outdent":"Udrykning","components.controls.remove.remove":"Fjern","components.controls.textalign.textalign":"Tekstjustering","components.controls.textalign.left":"Venstre","components.controls.textalign.center":"Center","components.controls.textalign.right":"H\xf8jre","components.controls.textalign.justify":"Margener"},zh_tw:{"generic.add":"\u65b0\u589e","generic.cancel":"\u53d6\u6d88","components.controls.blocktype.h1":"\u6a19\u984c1","components.controls.blocktype.h2":"\u6a19\u984c2","components.controls.blocktype.h3":"\u6a19\u984c3","components.controls.blocktype.h4":"\u6a19\u984c4","components.controls.blocktype.h5":"\u6a19\u984c5","components.controls.blocktype.h6":"\u6a19\u984c6","components.controls.blocktype.blockquote":"\u5f15\u7528","components.controls.blocktype.code":"\u7a0b\u5f0f\u78bc","components.controls.blocktype.blocktype":"\u6a23\u5f0f","components.controls.blocktype.normal":"\u6b63\u6587","components.controls.colorpicker.colorpicker":"\u9078\u8272\u5668","components.controls.colorpicker.text":"\u6587\u5b57","components.controls.colorpicker.background":"\u80cc\u666f","components.controls.embedded.embedded":"\u5167\u5d4c","components.controls.embedded.embeddedlink":"\u5167\u5d4c\u7db2\u9801","components.controls.embedded.enterlink":"\u8f38\u5165\u7db2\u9801\u5730\u5740","components.controls.emoji.emoji":"\u8868\u60c5\u7b26\u865f","components.controls.fontfamily.fontfamily":"\u5b57\u9ad4","components.controls.fontsize.fontsize":"\u5b57\u9ad4\u5927\u5c0f","components.controls.history.history":"\u6b77\u53f2\u7d00\u9304","components.controls.history.undo":"\u5fa9\u539f","components.controls.history.redo":"\u91cd\u505a","components.controls.image.image":"\u5716\u7247","components.controls.image.fileUpload":"\u6a94\u6848\u4e0a\u50b3","components.controls.image.byURL":"\u7db2\u5740","components.controls.image.dropFileText":"\u9ede\u64ca\u6216\u62d6\u66f3\u6a94\u6848\u4e0a\u50b3","components.controls.inline.bold":"\u7c97\u9ad4","components.controls.inline.italic":"\u659c\u9ad4","components.controls.inline.underline":"\u5e95\u7dda","components.controls.inline.strikethrough":"\u522a\u9664\u7dda","components.controls.inline.monospace":"\u7b49\u5bec\u5b57\u9ad4","components.controls.inline.superscript":"\u4e0a\u6a19","components.controls.inline.subscript":"\u4e0b\u6a19","components.controls.link.linkTitle":"\u8d85\u9023\u7d50","components.controls.link.linkTarget":"\u8f38\u5165\u9023\u7d50\u4f4d\u5740","components.controls.link.linkTargetOption":"\u5728\u65b0\u8996\u7a97\u6253\u958b\u9023\u7d50","components.controls.link.link":"\u9023\u7d50","components.controls.link.unlink":"\u522a\u9664\u9023\u7d50","components.controls.list.list":"\u5217\u8868","components.controls.list.unordered":"\u9805\u76ee\u7b26\u865f","components.controls.list.ordered":"\u7de8\u865f","components.controls.list.indent":"\u589e\u52a0\u7e2e\u6392","components.controls.list.outdent":"\u6e1b\u5c11\u7e2e\u6392","components.controls.remove.remove":"\u6e05\u9664\u683c\u5f0f","components.controls.textalign.textalign":"\u6587\u5b57\u5c0d\u9f4a","components.controls.textalign.left":"\u6587\u5b57\u5411\u5de6\u5c0d\u9f4a","components.controls.textalign.center":"\u6587\u5b57\u7f6e\u4e2d","components.controls.textalign.right":"\u6587\u5b57\u5411\u53f3\u5c0d\u9f4a","components.controls.textalign.justify":"\u5169\u7aef\u5c0d\u9f4a"},pl:{"generic.add":"Dodaj","generic.cancel":"Anuluj","components.controls.blocktype.h1":"Nag\u0142\xf3wek 1","components.controls.blocktype.h2":"Nag\u0142\xf3wek 2","components.controls.blocktype.h3":"Nag\u0142\xf3wek 3","components.controls.blocktype.h4":"Nag\u0142\xf3wek 4","components.controls.blocktype.h5":"Nag\u0142\xf3wek 5","components.controls.blocktype.h6":"Nag\u0142\xf3wek 6","components.controls.blocktype.blockquote":"Cytat","components.controls.blocktype.code":"Kod","components.controls.blocktype.blocktype":"Format","components.controls.blocktype.normal":"Normalny","components.controls.colorpicker.colorpicker":"Kolor","components.controls.colorpicker.text":"Tekst","components.controls.colorpicker.background":"T\u0142o","components.controls.embedded.embedded":"Osad\u017a","components.controls.embedded.embeddedlink":"Osad\u017a odno\u015bnik","components.controls.embedded.enterlink":"Wprowad\u017a odno\u015bnik","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Kr\xf3j czcionki","components.controls.fontsize.fontsize":"Rozmiar czcionki","components.controls.history.history":"Historia","components.controls.history.undo":"Cofnij","components.controls.history.redo":"Pon\xf3w","components.controls.image.image":"Obrazek","components.controls.image.fileUpload":"Prze\u015blij plik","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Upu\u015b\u0107 plik lub kliknij, aby przes\u0142a\u0107","components.controls.inline.bold":"Pogrubienie","components.controls.inline.italic":"Kursywa","components.controls.inline.underline":"Podkre\u015blenie","components.controls.inline.strikethrough":"Przekre\u015blenie","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Indeks g\xf3rny","components.controls.inline.subscript":"Indeks dolny","components.controls.link.linkTitle":"Tytu\u0142 odno\u015bnika","components.controls.link.linkTarget":"Adres odno\u015bnika","components.controls.link.linkTargetOption":"Otw\xf3rz odno\u015bnik w nowej karcie","components.controls.link.link":"Wstaw odno\u015bnik","components.controls.link.unlink":"Usu\u0144 odno\u015bnik","components.controls.list.list":"Lista","components.controls.list.unordered":"Lista nieuporz\u0105dkowana","components.controls.list.ordered":"Lista uporz\u0105dkowana","components.controls.list.indent":"Zwi\u0119ksz wci\u0119cie","components.controls.list.outdent":"Zmniejsz wci\u0119cie","components.controls.remove.remove":"Usu\u0144","components.controls.textalign.textalign":"Wyr\xf3wnaj tekst","components.controls.textalign.left":"Do lewej","components.controls.textalign.center":"Do \u015brodka","components.controls.textalign.right":"Do prawej","components.controls.textalign.justify":"Wyjustuj"},es:{"generic.add":"A\xf1adir","generic.cancel":"Cancelar","components.controls.blocktype.h1":"H1","components.controls.blocktype.h2":"H2","components.controls.blocktype.h3":"H3","components.controls.blocktype.h4":"H4","components.controls.blocktype.h5":"H5","components.controls.blocktype.h6":"H6","components.controls.blocktype.blockquote":"Blockquote","components.controls.blocktype.code":"C\xf3digo","components.controls.blocktype.blocktype":"Tipo de bloque","components.controls.blocktype.normal":"Normal","components.controls.colorpicker.colorpicker":"Seleccionar color","components.controls.colorpicker.text":"Texto","components.controls.colorpicker.background":"Subrayado","components.controls.embedded.embedded":"Adjuntar","components.controls.embedded.embeddedlink":"Adjuntar Link","components.controls.embedded.enterlink":"Introducir link","components.controls.emoji.emoji":"Emoji","components.controls.fontfamily.fontfamily":"Fuente","components.controls.fontsize.fontsize":"Tama\xf1o de fuente","components.controls.history.history":"Hist\xf3rico","components.controls.history.undo":"Deshacer","components.controls.history.redo":"Rehacer","components.controls.image.image":"Imagen","components.controls.image.fileUpload":"Subir archivo","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"Arrastra el archivo o haz click para subirlo","components.controls.inline.bold":"Negrita","components.controls.inline.italic":"Cursiva","components.controls.inline.underline":"Subrayado","components.controls.inline.strikethrough":"Tachado","components.controls.inline.monospace":"Monospace","components.controls.inline.superscript":"Sobre\xedndice","components.controls.inline.subscript":"Sub\xedndice","components.controls.link.linkTitle":"T\xedtulo del enlace","components.controls.link.linkTarget":"Objetivo del enlace","components.controls.link.linkTargetOption":"Abrir en nueva ventana","components.controls.link.link":"Enlazar","components.controls.link.unlink":"Desenlazar","components.controls.list.list":"Lista","components.controls.list.unordered":"Desordenada","components.controls.list.ordered":"Ordenada","components.controls.list.indent":"Indentada","components.controls.list.outdent":"Dentada","components.controls.remove.remove":"Eliminar","components.controls.textalign.textalign":"Alineaci\xf3n del texto","components.controls.textalign.left":"Izquierda","components.controls.textalign.center":"Centrado","components.controls.textalign.right":"Derecha","components.controls.textalign.justify":"Justificado"},ja:{"generic.add":"\u8ffd\u52a0","generic.cancel":"\u30ad\u30e3\u30f3\u30bb\u30eb","components.controls.blocktype.h1":"\u898b\u51fa\u30571","components.controls.blocktype.h2":"\u898b\u51fa\u30572","components.controls.blocktype.h3":"\u898b\u51fa\u30573","components.controls.blocktype.h4":"\u898b\u51fa\u30574","components.controls.blocktype.h5":"\u898b\u51fa\u30575","components.controls.blocktype.h6":"\u898b\u51fa\u30576","components.controls.blocktype.blockquote":"\u5f15\u7528","components.controls.blocktype.code":"\u30b3\u30fc\u30c9","components.controls.blocktype.blocktype":"\u30b9\u30bf\u30a4\u30eb","components.controls.blocktype.normal":"\u6a19\u6e96\u30c6\u30ad\u30b9\u30c8","components.controls.colorpicker.colorpicker":"\u30c6\u30ad\u30b9\u30c8\u306e\u8272","components.controls.colorpicker.text":"\u30c6\u30ad\u30b9\u30c8","components.controls.colorpicker.background":"\u30cf\u30a4\u30e9\u30a4\u30c8","components.controls.embedded.embedded":"\u57cb\u3081\u8fbc\u307f","components.controls.embedded.embeddedlink":"\u57cb\u3081\u8fbc\u307f\u30ea\u30f3\u30af","components.controls.embedded.enterlink":"\u30ea\u30f3\u30af\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044","components.controls.emoji.emoji":"\u7d75\u6587\u5b57","components.controls.fontfamily.fontfamily":"\u30d5\u30a9\u30f3\u30c8","components.controls.fontsize.fontsize":"\u30d5\u30a9\u30f3\u30c8\u30b5\u30a4\u30ba","components.controls.history.history":"\u5c65\u6b74","components.controls.history.undo":"\u5143\u306b\u623b\u3059","components.controls.history.redo":"\u3084\u308a\u76f4\u3057","components.controls.image.image":"\u753b\u50cf","components.controls.image.fileUpload":"\u30d5\u30a1\u30a4\u30eb\u3092\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9","components.controls.image.byURL":"URL","components.controls.image.dropFileText":"\u3053\u3053\u306b\u753b\u50cf\u3092\u30c9\u30e9\u30c3\u30b0\u3059\u308b\u304b\u3001\u30af\u30ea\u30c3\u30af\u3057\u3066\u304f\u3060\u3055\u3044","components.controls.inline.bold":"\u592a\u5b57","components.controls.inline.italic":"\u659c\u4f53","components.controls.inline.underline":"\u4e0b\u7dda","components.controls.inline.strikethrough":"\u53d6\u308a\u6d88\u3057\u7dda","components.controls.inline.monospace":"\u7b49\u5e45\u30d5\u30a9\u30f3\u30c8","components.controls.inline.superscript":"\u4e0a\u4ed8\u304d\u6587\u5b57","components.controls.inline.subscript":"\u4e0b\u4ed8\u304d\u6587\u5b57","components.controls.link.linkTitle":"\u30ea\u30f3\u30af\u30bf\u30a4\u30c8\u30eb","components.controls.link.linkTarget":"\u30ea\u30f3\u30af\u5bfe\u8c61","components.controls.link.linkTargetOption":"\u65b0\u3057\u3044\u30a6\u30a3\u30f3\u30c9\u30a6\u3067\u958b\u304f","components.controls.link.link":"\u30ea\u30f3\u30af","components.controls.link.unlink":"\u30ea\u30f3\u30af\u3092\u89e3\u9664","components.controls.list.list":"\u30ea\u30b9\u30c8","components.controls.list.unordered":"\u7b87\u6761\u66f8\u304d","components.controls.list.ordered":"\u756a\u53f7\u4ed8\u304d","components.controls.list.indent":"\u30a4\u30f3\u30c7\u30f3\u30c8\u5897","components.controls.list.outdent":"\u30a4\u30f3\u30c7\u30f3\u30c8\u6e1b","components.controls.remove.remove":"\u66f8\u5f0f\u3092\u30af\u30ea\u30a2","components.controls.textalign.textalign":"\u6574\u5217","components.controls.textalign.left":"\u5de6\u63c3\u3048","components.controls.textalign.center":"\u4e2d\u592e\u63c3\u3048","components.controls.textalign.right":"\u53f3\u63c3\u3048","components.controls.textalign.justify":"\u4e21\u7aef\u63c3\u3048"}};function Gr(e){return(Gr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Yr(){return(Yr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Jr(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Xr(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Jr(Object(n),!0).forEach(function(t){Zr(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Jr(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Zr(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $r(e){return function(e){if(Array.isArray(e))return es(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return es(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?es(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function es(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function ts(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function ns(e,t){return(ns=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e})(e,t)}function rs(t){var n=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}();return function(){var e,r=ss(t);if(n){var s=ss(this).constructor;e=Reflect.construct(r,arguments,s)}else e=r.apply(this,arguments);return function(e,t){if(t&&("object"===Gr(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(e)}(this,e)}}function ss(e){return(ss=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}n(38),n(39);var as=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&ns(e,t)}(i,r.Component);var e,t,n,a=rs(i);function i(e){var t;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=a.call(this,e)).onEditorBlur=function(){t.setState({editorFocused:!1})},t.onEditorFocus=function(e){var n=t.props.onFocus;t.setState({editorFocused:!0});var r=t.focusHandler.isEditorFocused();n&&r&&n(e)},t.onEditorMouseDown=function(){t.focusHandler.onEditorMouseDown()},t.keyBindingFn=function(e){if("Tab"!==e.key)return"ArrowUp"!==e.key&&"ArrowDown"!==e.key||w()&&e.preventDefault(),Object(o.getDefaultKeyBinding)(e);var n=t.props.onTab;if(!n||!n(e)){var r=Object(l.changeDepth)(t.state.editorState,e.shiftKey?-1:1,4);r&&r!==t.state.editorState&&(t.onChange(r),e.preventDefault())}return null},t.onToolbarFocus=function(e){var n=t.props.onFocus;n&&t.focusHandler.isToolbarFocused()&&n(e)},t.onWrapperBlur=function(e){var n=t.props.onBlur;n&&t.focusHandler.isEditorBlur(e)&&n(e,t.getEditorState())},t.onChange=function(e){var n=t.props,r=n.readOnly,s=n.onEditorStateChange;r||"atomic"===Object(l.getSelectedBlocksType)(e)&&e.getSelection().isCollapsed||(s&&s(e,t.props.wrapperId),_(t.props,"editorState")?t.afterChange(e):t.setState({editorState:e},t.afterChange(e)))},t.setWrapperReference=function(e){t.wrapper=e},t.setEditorReference=function(e){t.props.editorRef&&t.props.editorRef(e),t.editor=e},t.getCompositeDecorator=function(e){var n=[].concat($r(t.props.customDecorators),[{strategy:xr,component:br({showOpenOptionOnHover:e.link.showOpenOptionOnHover})}]);return t.props.mention&&n.push.apply(n,$r(Mr(Xr(Xr({},t.props.mention),{},{onChange:t.onChange,getEditorState:t.getEditorState,getSuggestions:t.getSuggestions,getWrapperRef:t.getWrapperRef,modalHandler:t.modalHandler})))),t.props.hashtag&&n.push(Or(t.props.hashtag)),new o.CompositeDecorator(n)},t.getWrapperRef=function(){return t.wrapper},t.getEditorState=function(){return t.state?t.state.editorState:null},t.getSuggestions=function(){return t.props.mention&&t.props.mention.suggestions},t.afterChange=function(e){setTimeout(function(){var n=t.props,r=n.onChange,s=n.onContentStateChange;r&&r(Object(o.convertToRaw)(e.getCurrentContent())),s&&s(Object(o.convertToRaw)(e.getCurrentContent()))})},t.isReadOnly=function(){return t.props.readOnly},t.isImageAlignmentEnabled=function(){return t.state.toolbar.image.alignmentEnabled},t.createEditorState=function(e){var n;if(_(t.props,"editorState"))t.props.editorState&&(n=o.EditorState.set(t.props.editorState,{decorator:e}));else if(_(t.props,"defaultEditorState"))t.props.defaultEditorState&&(n=o.EditorState.set(t.props.defaultEditorState,{decorator:e}));else if(_(t.props,"contentState")){if(t.props.contentState){var r=Object(o.convertFromRaw)(t.props.contentState);n=o.EditorState.createWithContent(r,e),n=o.EditorState.moveSelectionToEnd(n)}}else if(_(t.props,"defaultContentState")||_(t.props,"initialContentState")){var s=t.props.defaultContentState||t.props.initialContentState;s&&(s=Object(o.convertFromRaw)(s),n=o.EditorState.createWithContent(s,e),n=o.EditorState.moveSelectionToEnd(n))}return n||o.EditorState.createEmpty(e)},t.filterEditorProps=function(e){return t=e,n=["onChange","onEditorStateChange","onContentStateChange","initialContentState","defaultContentState","contentState","editorState","defaultEditorState","locale","localization","toolbarOnFocus","toolbar","toolbarCustomButtons","toolbarClassName","editorClassName","toolbarHidden","wrapperClassName","toolbarStyle","editorStyle","wrapperStyle","uploadCallback","onFocus","onBlur","onTab","mention","hashtag","ariaLabel","customBlockRenderFunc","customDecorators","handlePastedText","customStyleMap"],r=Object.keys(t).filter(function(e){return n.indexOf(e)<0}),s={},r&&0<r.length&&r.forEach(function(e){s[e]=t[e]}),s;var t,n,r,s},t.getStyleMap=function(e){return Xr(Xr({},Object(l.getCustomStyleMap)()),e.customStyleMap)},t.changeEditorState=function(e){var n=Object(o.convertFromRaw)(e),r=t.state.editorState;return r=o.EditorState.push(r,n,"insert-characters"),o.EditorState.moveSelectionToEnd(r)},t.focusEditor=function(){setTimeout(function(){t.editor.focus()})},t.handleKeyCommand=function(e){var n=t.state,r=n.editorState,s=n.toolbar.inline;if(s&&0<=s.options.indexOf(e)){var a=o.RichUtils.handleKeyCommand(r,e);if(a)return t.onChange(a),!0}return!1},t.handleReturn=function(e){if(w())return!0;var n=t.state.editorState,r=Object(l.handleNewLine)(n,e);return!!r&&(t.onChange(r),!0)},t.handlePastedTextFn=function(e,n){var r=t.state.editorState,s=t.props,a=s.handlePastedText,i=s.stripPastedStyles;return a?a(e,n,r,t.onChange):!i&&function(e,t,n,r){var s=Object(l.getSelectedBlock)(n);if(s&&"code"===s.type){var a=o.Modifier.replaceText(n.getCurrentContent(),n.getSelection(),e,n.getCurrentInlineStyle());return r(o.EditorState.push(n,a,"insert-characters")),!0}if(t){var i=E()(t),c=n.getCurrentContent();return i.entityMap.forEach(function(e,t){c=c.mergeEntityData(t,e)}),c=o.Modifier.replaceWithFragment(c,n.getSelection(),new L.List(i.contentBlocks)),r(o.EditorState.push(n,c,"insert-characters")),!0}return!1}(e,n,r,t.onChange)},t.preventDefault=function(e){"INPUT"===e.target.tagName||"LABEL"===e.target.tagName||"TEXTAREA"===e.target.tagName?t.focusHandler.onInputMouseDown():e.preventDefault()};var n=k(Vr,e.toolbar),r=e.wrapperId?e.wrapperId:Math.floor(1e4*Math.random());t.wrapperId="rdw-wrapper-".concat(r),t.modalHandler=new A,t.focusHandler=new g,t.blockRendererFn=Wr({isReadOnly:t.isReadOnly,isImageAlignmentEnabled:t.isImageAlignmentEnabled,getEditorState:t.getEditorState,onChange:t.onChange},e.customBlockRenderFunc),t.editorProps=t.filterEditorProps(e),t.customStyleMap=t.getStyleMap(e),t.compositeDecorator=t.getCompositeDecorator(n);var s=t.createEditorState(t.compositeDecorator);return Object(l.extractInlineStyle)(s),t.state={editorState:s,editorFocused:!1,toolbar:n},t}return e=i,(t=[{key:"componentDidMount",value:function(){this.modalHandler.init(this.wrapperId)}},{key:"componentDidUpdate",value:function(e){if(e!==this.props){var t={},n=this.props,r=n.editorState,s=n.contentState;if(!this.state.toolbar){var a=k(Vr,a);t.toolbar=a}if(_(this.props,"editorState")&&r!==e.editorState)t.editorState=r?o.EditorState.set(r,{decorator:this.compositeDecorator}):o.EditorState.createEmpty(this.compositeDecorator);else if(_(this.props,"contentState")&&s!==e.contentState)if(s){var i=this.changeEditorState(s);i&&(t.editorState=i)}else t.editorState=o.EditorState.createEmpty(this.compositeDecorator);e.editorState===r&&e.contentState===s||Object(l.extractInlineStyle)(t.editorState),Object.keys(t).length&&this.setState(t),this.editorProps=this.filterEditorProps(this.props),this.customStyleMap=this.getStyleMap(this.props)}}},{key:"render",value:function(){var e=this.state,t=e.editorState,n=e.editorFocused,r=e.toolbar,a=this.props,i=a.locale,c=a.localization,u=c.locale,h=c.translations,A=a.toolbarCustomButtons,f=a.toolbarOnFocus,m=a.toolbarClassName,p=a.toolbarHidden,g=a.editorClassName,x=a.wrapperClassName,y=a.toolbarStyle,v=a.editorStyle,w=a.wrapperStyle,N=a.uploadCallback,_=a.ariaLabel,C={modalHandler:this.modalHandler,editorState:t,onChange:this.onChange,translations:Xr(Xr({},qr[i||u]),h)},S=n||this.focusHandler.isInputFocused()||!f;return s.a.createElement("div",{id:this.wrapperId,className:d()(x,"rdw-editor-wrapper"),style:w,onClick:this.modalHandler.onEditorClick,onBlur:this.onWrapperBlur,"aria-label":"rdw-wrapper"},!p&&s.a.createElement("div",{className:d()("rdw-editor-toolbar",m),style:Xr({visibility:S?"visible":"hidden"},y),onMouseDown:this.preventDefault,"aria-label":"rdw-toolbar","aria-hidden":(!n&&f).toString(),onFocus:this.onToolbarFocus},r.options.map(function(e,t){var n=cr[e],a=r[e];return"image"===e&&N&&(a.uploadCallback=N),s.a.createElement(n,Yr({key:t},C,{config:a}))}),A&&A.map(function(e,t){return s.a.cloneElement(e,Xr({key:t},C))})),s.a.createElement("div",{ref:this.setWrapperReference,className:d()(g,"rdw-editor-main"),style:v,onClick:this.focusEditor,onFocus:this.onEditorFocus,onBlur:this.onEditorBlur,onKeyDown:b.onKeyDown,onMouseDown:this.onEditorMouseDown},s.a.createElement(o.Editor,Yr({ref:this.setEditorReference,keyBindingFn:this.keyBindingFn,editorState:t,onChange:this.onChange,blockStyleFn:j,customStyleMap:this.getStyleMap(this.props),handleReturn:this.handleReturn,handlePastedText:this.handlePastedTextFn,blockRendererFn:this.blockRendererFn,handleKeyCommand:this.handleKeyCommand,ariaLabel:_||"rdw-editor",blockRenderMap:l.blockRenderMap},this.editorProps))))}}])&&ts(e.prototype,t),n&&ts(e,n),Object.defineProperty(e,"prototype",{writable:!1}),i}();as.propTypes={onChange:i.a.func,onEditorStateChange:i.a.func,onContentStateChange:i.a.func,initialContentState:i.a.object,defaultContentState:i.a.object,contentState:i.a.object,editorState:i.a.object,defaultEditorState:i.a.object,toolbarOnFocus:i.a.bool,spellCheck:i.a.bool,stripPastedStyles:i.a.bool,toolbar:i.a.object,toolbarCustomButtons:i.a.array,toolbarClassName:i.a.string,toolbarHidden:i.a.bool,locale:i.a.string,localization:i.a.object,editorClassName:i.a.string,wrapperClassName:i.a.string,toolbarStyle:i.a.object,editorStyle:i.a.object,wrapperStyle:i.a.object,uploadCallback:i.a.func,onFocus:i.a.func,onBlur:i.a.func,onTab:i.a.func,mention:i.a.object,hashtag:i.a.object,textAlignment:i.a.string,readOnly:i.a.bool,tabIndex:i.a.number,placeholder:i.a.string,ariaLabel:i.a.string,ariaOwneeID:i.a.string,ariaActiveDescendantID:i.a.string,ariaAutoComplete:i.a.string,ariaDescribedBy:i.a.string,ariaExpanded:i.a.string,ariaHasPopup:i.a.string,customBlockRenderFunc:i.a.func,wrapperId:i.a.number,customDecorators:i.a.array,editorRef:i.a.func,handlePastedText:i.a.func},as.defaultProps={toolbarOnFocus:!1,toolbarHidden:!1,stripPastedStyles:!1,localization:{locale:"en",translations:{}},customDecorators:[]};var is=as}],r.c=a,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)r.d(n,s,function(t){return e[t]}.bind(null,s));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8);function r(e){if(a[e])return a[e].exports;var t=a[e]={i:e,l:!1,exports:{}};return s[e].call(t.exports,t,t.exports,r),t.l=!0,t.exports}var s,a}(n(5043),n(4410),n(2119))},7385:e=>{"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&e.nodeType===Node.ELEMENT_NODE}},7404:(e,t,n)=>{"use strict";var r=n(5037),s=n(8746),a=n(4733),i=n(6415),o=n(7385),l=n(8691);function c(e,t,n){var a=t,c=r(a);(null!=c||e&&(e===a||e.firstChild===a)||i(!1),e===a)&&(a=a.firstChild,o(a)||i(!1),"true"!==(a=a).getAttribute("data-contents")&&i(!1),n>0&&(n=a.childNodes.length));if(0===n){var u=null;if(null!=c)u=c;else{var h=function(e){for(;e.firstChild&&(o(e.firstChild)&&"true"===e.firstChild.getAttribute("data-blocks")||s(e.firstChild));)e=e.firstChild;return e}(a);u=l(s(h))}return{key:u,offset:0}}var A=a.childNodes[n-1],f=null,m=null;if(s(A)){var p=function(e){for(;e.lastChild&&(o(e.lastChild)&&"true"===e.lastChild.getAttribute("data-blocks")||s(e.lastChild));)e=e.lastChild;return e}(A);f=l(s(p)),m=d(p)}else f=l(c),m=d(A);return{key:f,offset:m}}function d(e){var t=e.textContent;return"\n"===t?0:t.length}e.exports=function(e,t,n,s,i,o){var d=n.nodeType===Node.TEXT_NODE,u=i.nodeType===Node.TEXT_NODE;if(d&&u)return{selectionState:a(e,l(r(n)),s,l(r(i)),o),needsRecovery:!1};var h=null,A=null,f=!0;return d?(h={key:l(r(n)),offset:s},A=c(t,i,o)):u?(A={key:l(r(i)),offset:o},h=c(t,n,s)):(h=c(t,n,s),A=c(t,i,o),n===i&&s===o&&(f=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:a(e,h.key,h.offset,A.key,A.offset),needsRecovery:f}}},7414:(e,t,n)=>{"use strict";var r=n(6559),s=n(5791),a=n(1320),i=n(6415),o=a.OrderedMap,l=a.List,c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},d=function(e,t,n,r,s){if(!s)return e;var a="after"===r,i=t.getKey(),o=n.getKey(),d=t.getParentKey(),u=t.getNextSiblingKey(),h=t.getPrevSiblingKey(),A=n.getParentKey(),f=a?n.getNextSiblingKey():o,m=a?o:n.getPrevSiblingKey();return e.withMutations(function(e){c(d,e,function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(i))})}),c(h,e,function(e){return e.merge({nextSibling:u})}),c(u,e,function(e){return e.merge({prevSibling:h})}),c(f,e,function(e){return e.merge({prevSibling:i})}),c(m,e,function(e){return e.merge({nextSibling:i})}),c(A,e,function(e){var t=e.getChildKeys(),n=t.indexOf(o),r=a?n+1:0!==n?n-1:0,s=t.toArray();return s.splice(r,0,i),e.merge({children:l(s)})}),c(i,e,function(e){return e.merge({nextSibling:f,prevSibling:m,parent:A})})})};e.exports=function(e,t,n,a){"replace"===a&&i(!1);var l=n.getKey(),c=t.getKey();c===l&&i(!1);var u=e.getBlockMap(),h=t instanceof r,A=[t],f=u.delete(c);h&&(A=[],f=u.withMutations(function(e){var n=t.getNextSiblingKey(),r=s(t,e);e.toSeq().skipUntil(function(e){return e.getKey()===c}).takeWhile(function(e){var t=e.getKey(),s=t===c,a=n&&t!==n,i=!n&&e.getParentKey()&&(!r||t!==r);return!!(s||a||i)}).forEach(function(t){A.push(t),e.delete(t.getKey())})}));var m=f.toSeq().takeUntil(function(e){return e===n}),p=f.toSeq().skipUntil(function(e){return e===n}).skip(1),g=A.map(function(e){return[e.getKey(),e]}),x=o();if("before"===a){var b=e.getBlockBefore(l);b&&b.getKey()===t.getKey()&&i(!1),x=m.concat([].concat(g,[[l,n]]),p).toOrderedMap()}else if("after"===a){var y=e.getBlockAfter(l);y&&y.getKey()===c&&i(!1),x=m.concat([[l,n]].concat(g),p).toOrderedMap()}return e.merge({blockMap:d(x,t,n,a,h),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:c,focusKey:c})})}},7443:(e,t,n)=>{"use strict";var r=n(9534);e.exports=r},7538:(e,t,n)=>{"use strict";var r=n(2123);function s(){return s=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}function a(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){o(e,t,n[t])})}return e}function i(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,e.__proto__=t}var c=n(1144),d=n(8063),u=n(5401),h=n(7996),A=n(1609),f=n(6627),m=n(8847),p=n(2251),g=n(8250),x=n(6283),b=n(5043),y=n(5914),v=n(1614),w=n(6143),j=n(7904),N=n(306),_=n(9684),C=n(8349),S=n(8819),k=n(6415),B=n(9990),E=n(8691),L=w.isBrowser("IE"),M=!L,F={edit:f,composite:u,drag:A,cut:null,render:null},I=!1,D=function(e){function t(){return e.apply(this,arguments)||this}l(t,e);var n=t.prototype;return n.render=function(){return null},n.componentDidMount=function(){this._update()},n.componentDidUpdate=function(){this._update()},n._update=function(){var e=this.props.editor;e._latestEditorState=this.props.editorState,e._blockSelectEvents=!0},t}(b.Component),T=function(e){function t(t){var n;return o(i(n=e.call(this,t)||this),"_blockSelectEvents",void 0),o(i(n),"_clipboard",void 0),o(i(n),"_handler",void 0),o(i(n),"_dragCount",void 0),o(i(n),"_internalDrag",void 0),o(i(n),"_editorKey",void 0),o(i(n),"_placeholderAccessibilityID",void 0),o(i(n),"_latestEditorState",void 0),o(i(n),"_latestCommittedEditorState",void 0),o(i(n),"_pendingStateFromBeforeInput",void 0),o(i(n),"_onBeforeInput",void 0),o(i(n),"_onBlur",void 0),o(i(n),"_onCharacterData",void 0),o(i(n),"_onCompositionEnd",void 0),o(i(n),"_onCompositionStart",void 0),o(i(n),"_onCopy",void 0),o(i(n),"_onCut",void 0),o(i(n),"_onDragEnd",void 0),o(i(n),"_onDragOver",void 0),o(i(n),"_onDragStart",void 0),o(i(n),"_onDrop",void 0),o(i(n),"_onInput",void 0),o(i(n),"_onFocus",void 0),o(i(n),"_onKeyDown",void 0),o(i(n),"_onKeyPress",void 0),o(i(n),"_onKeyUp",void 0),o(i(n),"_onMouseDown",void 0),o(i(n),"_onMouseUp",void 0),o(i(n),"_onPaste",void 0),o(i(n),"_onSelect",void 0),o(i(n),"editor",void 0),o(i(n),"editorContainer",void 0),o(i(n),"focus",void 0),o(i(n),"blur",void 0),o(i(n),"setMode",void 0),o(i(n),"exitCurrentMode",void 0),o(i(n),"restoreEditorDOM",void 0),o(i(n),"setClipboard",void 0),o(i(n),"getClipboard",void 0),o(i(n),"getEditorKey",void 0),o(i(n),"update",void 0),o(i(n),"onDragEnter",void 0),o(i(n),"onDragLeave",void 0),o(i(n),"_handleEditorContainerRef",function(e){n.editorContainer=e,n.editor=null!==e?e.firstChild:null}),o(i(n),"focus",function(e){var t=n.props.editorState,r=t.getSelection().getHasFocus(),s=n.editor;if(s){var a=v.getScrollParent(s),i=e||C(a),o=i.x,l=i.y;B(s)||k(!1),s.focus(),a===window?window.scrollTo(o,l):y.setTop(a,l),r||n.update(x.forceSelection(t,t.getSelection()))}}),o(i(n),"blur",function(){var e=n.editor;e&&(B(e)||k(!1),e.blur())}),o(i(n),"setMode",function(e){var t=n.props,r=t.onPaste,s=t.onCut,i=t.onCopy,o=a({},F.edit);r&&(o.onPaste=r),s&&(o.onCut=s),i&&(o.onCopy=i);var l=a({},F,{edit:o});n._handler=l[e]}),o(i(n),"exitCurrentMode",function(){n.setMode("edit")}),o(i(n),"restoreEditorDOM",function(e){n.setState({contentsKey:n.state.contentsKey+1},function(){n.focus(e)})}),o(i(n),"setClipboard",function(e){n._clipboard=e}),o(i(n),"getClipboard",function(){return n._clipboard}),o(i(n),"update",function(e){n._latestEditorState=e,n.props.onChange(e)}),o(i(n),"onDragEnter",function(){n._dragCount++}),o(i(n),"onDragLeave",function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()}),n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=t.editorKey||N(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=t.editorState,n._latestCommittedEditorState=t.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}l(t,e);var r=t.prototype;return r._buildHandler=function(e){var t=this;return function(n){if(!t.props.readOnly){var r=t._handler&&t._handler[e];r&&(m?m(function(){return r(t,n)}):r(t,n))}}},r._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},r._renderPlaceholder=function(){if(this._showPlaceholder()){var e={text:E(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return b.createElement(p,e)}return null},r._renderARIADescribedBy=function(){var e=this.props.ariaDescribedBy||"",t=this._showPlaceholder()?this._placeholderAccessibilityID:"";return e.replace("{{editor_id_placeholder}}",t)||void 0},r.render=function(){var e=this.props,t=e.blockRenderMap,n=e.blockRendererFn,r=e.blockStyleFn,i=e.customStyleFn,o=e.customStyleMap,l=e.editorState,c=e.preventScroll,u=e.readOnly,A=e.textAlignment,f=e.textDirectionality,m=j({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===A,"DraftEditor/alignRight":"right"===A,"DraftEditor/alignCenter":"center"===A}),p=this.props.role||"textbox",g="combobox"===p?!!this.props.ariaExpanded:null,x={blockRenderMap:t,blockRendererFn:n,blockStyleFn:r,customStyleMap:a({},d,o),customStyleFn:i,editorKey:this._editorKey,editorState:l,preventScroll:c,textDirectionality:f};return b.createElement("div",{className:m},this._renderPlaceholder(),b.createElement("div",{className:j("DraftEditor/editorContainer"),ref:this._handleEditorContainerRef},b.createElement("div",{"aria-activedescendant":u?null:this.props.ariaActiveDescendantID,"aria-autocomplete":u?null:this.props.ariaAutoComplete,"aria-controls":u?null:this.props.ariaControls,"aria-describedby":this._renderARIADescribedBy(),"aria-expanded":u?null:g,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,"aria-owns":u?null:this.props.ariaOwneeID,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:j({notranslate:!u,"public/DraftEditor/content":!0}),contentEditable:!u,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:this.props.editorRef,role:u?null:p,spellCheck:M&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},b.createElement(D,{editor:this,editorState:l}),b.createElement(h,s({},x,{key:"contents"+this.state.contentsKey})))))},r.componentDidMount=function(){this._blockSelectEvents=!1,!I&&S("draft_ods_enabled")&&(I=!0,g.initODS()),this.setMode("edit"),L&&(this.editor?this.editor.ownerDocument.execCommand("AutoUrlDetect",!1,!1):n.g.execCommand("AutoUrlDetect",!1,!1))},r.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestEditorState=this.props.editorState,this._latestCommittedEditorState=this.props.editorState},t}(b.Component);o(T,"defaultProps",{ariaDescribedBy:"{{editor_id_placeholder}}",blockRenderMap:c,blockRendererFn:function(){return null},blockStyleFn:function(){return""},keyBindingFn:_,readOnly:!1,spellCheck:!1,stripPastedStyles:!1}),e.exports=T},7551:(e,t,n)=>{"use strict";function r(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),r.forEach(function(t){s(e,t,n[t])})}return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var a=n(306),i=n(6415),o=function(e){if(!e||!e.type)return!1;var t=e.type;return"unordered-list-item"===t||"ordered-list-item"===t},l={fromRawTreeStateToRawState:function(e){var t=e.blocks,n=[];return Array.isArray(t)||i(!1),Array.isArray(t)&&t.length?(function(e,t){for(var n=[].concat(e).reverse();n.length;){var r=n.pop();t(r);var s=r.children;Array.isArray(s)||i(!1),n=n.concat([].concat(s.reverse()))}}(t,function(e){var t=r({},e);o(e)&&(t.depth=t.depth||0,function(e){Array.isArray(e.children)&&(e.children=e.children.map(function(t){return t.type===e.type?r({},t,{depth:(e.depth||0)+1}):t}))}(e),null!=e.children&&e.children.length>0)||(delete t.children,n.push(t))}),e.blocks=n,r({},e,{blocks:n})):e},fromRawStateToRawTreeState:function(e){var t=[],n=[];return e.blocks.forEach(function(e){var s=o(e),i=e.depth||0,l=r({},e,{children:[]});if(s){var c=n[0];if(null==c&&0===i)t.push(l);else if(null==c||c.depth<i-1){var d={key:a(),text:"",depth:i-1,type:e.type,children:[],entityRanges:[],inlineStyleRanges:[]};n.unshift(d),1===i?t.push(d):null!=c&&c.children.push(d),d.children.push(l)}else if(c.depth===i-1)c.children.push(l);else{for(;null!=c&&c.depth>=i;)n.shift(),c=n[0];i>0?c.children.push(l):t.push(l)}}else t.push(l)}),r({},e,{blocks:t})}};e.exports=l},7603:(e,t,n)=>{"use strict";var r=n(6283);e.exports=function(e){var t=e.getSelection(),n=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:0,focusKey:n,focusOffset:0,isBackward:!1}),forceSelection:!0})}},7660:e=>{"use strict";e.exports=function(e,t){e.setMode("drag"),t.preventDefault()}},7677:(e,t,n)=>{"use strict";var r=n(3305),s=n(2367),a=n(6968),i=n(5763),o=n(6959),l=n(6283),c=n(169),d=n(5036),u=n(2962),h=n(9303),A=n(8009);function f(e,t,n){var r=i.replaceWithFragment(e.getCurrentContent(),e.getSelection(),t);return l.push(e,r.set("entityMap",n),"insert-fragment")}e.exports=function(e,t){t.preventDefault();var n=new a(t.clipboardData);if(!n.isRichText()){var m=n.getFiles(),p=n.getText();if(m.length>0){if(e.props.handlePastedFiles&&h(e.props.handlePastedFiles(m)))return;return void u(m,function(t){if(t=t||p){var n=e._latestEditorState,a=A(t),u=s.create({style:n.getCurrentInlineStyle(),entity:d(n.getCurrentContent(),n.getSelection())}),h=c.getCurrentBlockType(n),f=o.processText(a,u,h),m=r.createFromArray(f),g=i.replaceWithFragment(n.getCurrentContent(),n.getSelection(),m);e.update(l.push(n,g,"insert-fragment"))}})}}var g=[],x=n.getText(),b=n.getHTML(),y=e._latestEditorState;if(e.props.formatPastedText){var v=e.props.formatPastedText(x,b);x=v.text,b=v.html}if(!e.props.handlePastedText||!h(e.props.handlePastedText(x,b,y))){if(x&&(g=A(x)),!e.props.stripPastedStyles){var w,j=e.getClipboard();if(!e.props.formatPastedText&&n.isRichText()&&j){if(-1!==(null===(w=b)||void 0===w?void 0:w.indexOf(e.getEditorKey()))||1===g.length&&1===j.size&&j.first().getText()===x)return void e.update(f(e._latestEditorState,j))}else if(j&&n.types.includes("com.apple.webarchive")&&!n.types.includes("text/html")&&function(e,t){return e.length===t.size&&t.valueSeq().every(function(t,n){return t.getText()===e[n]})}(g,j))return void e.update(f(e._latestEditorState,j));if(b){var N=o.processHTML(b,e.props.blockRenderMap);if(N){var _=N.contentBlocks,C=N.entityMap;if(_){var S=r.createFromArray(_);return void e.update(f(e._latestEditorState,S,C))}}}e.setClipboard(null)}if(g.length){var k=s.create({style:y.getCurrentInlineStyle(),entity:d(y.getCurrentContent(),y.getSelection())}),B=c.getCurrentBlockType(y),E=o.processText(g,k,B),L=r.createFromArray(E);e.update(f(e._latestEditorState,L))}}}},7691:e=>{"use strict";var t="undefined"!==typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:t||"CSS1Compat"!==e.compatMode?e.body:e.documentElement}},7707:(e,t,n)=>{"use strict";var r=n(2367),s=n(8678),a=n(1320),i=a.List,o=a.Map,l=a.OrderedSet,c=a.Record,d=a.Repeat,u=l(),h=c({key:"",type:"unstyled",text:"",characterList:i(),depth:0,data:o()}),A=function(e){var t,n;function a(t){return e.call(this,function(e){if(!e)return e;var t=e.characterList,n=e.text;return n&&!t&&(e.characterList=i(d(r.EMPTY,n.length))),e}(t))||this}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=a.prototype;return o.getKey=function(){return this.get("key")},o.getType=function(){return this.get("type")},o.getText=function(){return this.get("text")},o.getCharacterList=function(){return this.get("characterList")},o.getLength=function(){return this.getText().length},o.getDepth=function(){return this.get("depth")},o.getData=function(){return this.get("data")},o.getInlineStyleAt=function(e){var t=this.getCharacterList().get(e);return t?t.getStyle():u},o.getEntityAt=function(e){var t=this.getCharacterList().get(e);return t?t.getEntity():null},o.findStyleRanges=function(e,t){s(this.getCharacterList(),f,e,t)},o.findEntityRanges=function(e,t){s(this.getCharacterList(),m,e,t)},a}(h);function f(e,t){return e.getStyle()===t.getStyle()}function m(e,t){return e.getEntity()===t.getEntity()}e.exports=A},7709:(e,t,n)=>{"use strict";var r=n(3922);e.exports=function(e){var t=e.ownerDocument.documentElement;if(!("getBoundingClientRect"in e)||!r(t,e))return{left:0,right:0,top:0,bottom:0};var n=e.getBoundingClientRect();return{left:Math.round(n.left)-t.clientLeft,right:Math.round(n.right)-t.clientLeft,top:Math.round(n.top)-t.clientTop,bottom:Math.round(n.bottom)-t.clientTop}}},7762:(e,t,n)=>{"use strict";n.r(t),n.d(t,{AcroForm:()=>vt,AcroFormAppearance:()=>bt,AcroFormButton:()=>ht,AcroFormCheckBox:()=>pt,AcroFormChoiceField:()=>lt,AcroFormComboBox:()=>dt,AcroFormEditBox:()=>ut,AcroFormListBox:()=>ct,AcroFormPasswordField:()=>xt,AcroFormPushButton:()=>At,AcroFormRadioButton:()=>ft,AcroFormTextField:()=>gt,GState:()=>Be,ShadingPattern:()=>Le,TilingPattern:()=>Me,default:()=>yn,jsPDF:()=>Fe});var r=n(2284),s=Uint8Array,a=Uint16Array,i=Int32Array,o=new s([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),l=new s([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),c=new s([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),d=function(e,t){for(var n=new a(31),r=0;r<31;++r)n[r]=t+=1<<e[r-1];var s=new i(n[30]);for(r=1;r<30;++r)for(var o=n[r];o<n[r+1];++o)s[o]=o-n[r]<<5|r;return{b:n,r:s}},u=d(o,2),h=u.b,A=u.r;h[28]=258,A[258]=28;for(var f=d(l,0),m=f.b,p=f.r,g=new a(32768),x=0;x<32768;++x){var b=(43690&x)>>1|(21845&x)<<1;b=(61680&(b=(52428&b)>>2|(13107&b)<<2))>>4|(3855&b)<<4,g[x]=((65280&b)>>8|(255&b)<<8)>>1}var y=function(e,t,n){for(var r=e.length,s=0,i=new a(t);s<r;++s)e[s]&&++i[e[s]-1];var o,l=new a(t);for(s=1;s<t;++s)l[s]=l[s-1]+i[s-1]<<1;if(n){o=new a(1<<t);var c=15-t;for(s=0;s<r;++s)if(e[s])for(var d=s<<4|e[s],u=t-e[s],h=l[e[s]-1]++<<u,A=h|(1<<u)-1;h<=A;++h)o[g[h]>>c]=d}else for(o=new a(r),s=0;s<r;++s)e[s]&&(o[s]=g[l[e[s]-1]++]>>15-e[s]);return o},v=new s(288);for(x=0;x<144;++x)v[x]=8;for(x=144;x<256;++x)v[x]=9;for(x=256;x<280;++x)v[x]=7;for(x=280;x<288;++x)v[x]=8;var w=new s(32);for(x=0;x<32;++x)w[x]=5;var j=y(v,9,0),N=y(v,9,1),_=y(w,5,0),C=y(w,5,1),S=function(e){for(var t=e[0],n=1;n<e.length;++n)e[n]>t&&(t=e[n]);return t},k=function(e,t,n){var r=t/8|0;return(e[r]|e[r+1]<<8)>>(7&t)&n},B=function(e,t){var n=t/8|0;return(e[n]|e[n+1]<<8|e[n+2]<<16)>>(7&t)},E=function(e){return(e+7)/8|0},L=function(e,t,n){return(null==t||t<0)&&(t=0),(null==n||n>e.length)&&(n=e.length),new s(e.subarray(t,n))},M=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],F=function(e,t,n){var r=new Error(t||M[e]);if(r.code=e,Error.captureStackTrace&&Error.captureStackTrace(r,F),!n)throw r;return r},I=function(e,t,n,r){var a=e.length,i=r?r.length:0;if(!a||t.f&&!t.l)return n||new s(0);var d=!n,u=d||2!=t.i,A=t.i;d&&(n=new s(3*a));var f=function(e){var t=n.length;if(e>t){var r=new s(Math.max(2*t,e));r.set(n),n=r}},p=t.f||0,g=t.p||0,x=t.b||0,b=t.l,v=t.d,w=t.m,j=t.n,_=8*a;do{if(!b){p=k(e,g,1);var M=k(e,g+1,3);if(g+=3,!M){var I=e[(W=E(g)+4)-4]|e[W-3]<<8,D=W+I;if(D>a){A&&F(0);break}u&&f(x+I),n.set(e.subarray(W,D),x),t.b=x+=I,t.p=g=8*D,t.f=p;continue}if(1==M)b=N,v=C,w=9,j=5;else if(2==M){var T=k(e,g,31)+257,O=k(e,g+10,15)+4,P=T+k(e,g+5,31)+1;g+=14;for(var U=new s(P),R=new s(19),Q=0;Q<O;++Q)R[c[Q]]=k(e,g+3*Q,7);g+=3*O;var z=S(R),H=(1<<z)-1,K=y(R,z,1);for(Q=0;Q<P;){var W,V=K[k(e,g,H)];if(g+=15&V,(W=V>>4)<16)U[Q++]=W;else{var q=0,G=0;for(16==W?(G=3+k(e,g,3),g+=2,q=U[Q-1]):17==W?(G=3+k(e,g,7),g+=3):18==W&&(G=11+k(e,g,127),g+=7);G--;)U[Q++]=q}}var Y=U.subarray(0,T),J=U.subarray(T);w=S(Y),j=S(J),b=y(Y,w,1),v=y(J,j,1)}else F(1);if(g>_){A&&F(0);break}}u&&f(x+131072);for(var X=(1<<w)-1,Z=(1<<j)-1,$=g;;$=g){var ee=(q=b[B(e,g)&X])>>4;if((g+=15&q)>_){A&&F(0);break}if(q||F(2),ee<256)n[x++]=ee;else{if(256==ee){$=g,b=null;break}var te=ee-254;if(ee>264){var ne=o[Q=ee-257];te=k(e,g,(1<<ne)-1)+h[Q],g+=ne}var re=v[B(e,g)&Z],se=re>>4;re||F(3),g+=15&re;J=m[se];if(se>3){ne=l[se];J+=B(e,g)&(1<<ne)-1,g+=ne}if(g>_){A&&F(0);break}u&&f(x+131072);var ae=x+te;if(x<J){var ie=i-J,oe=Math.min(J,ae);for(ie+x<0&&F(3);x<oe;++x)n[x]=r[ie+x]}for(;x<ae;++x)n[x]=n[x-J]}}t.l=b,t.p=$,t.b=x,t.f=p,b&&(p=1,t.m=w,t.d=v,t.n=j)}while(!p);return x!=n.length&&d?L(n,0,x):n.subarray(0,x)},D=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8},T=function(e,t,n){n<<=7&t;var r=t/8|0;e[r]|=n,e[r+1]|=n>>8,e[r+2]|=n>>16},O=function(e,t){for(var n=[],r=0;r<e.length;++r)e[r]&&n.push({s:r,f:e[r]});var i=n.length,o=n.slice();if(!i)return{t:K,l:0};if(1==i){var l=new s(n[0].s+1);return l[n[0].s]=1,{t:l,l:1}}n.sort(function(e,t){return e.f-t.f}),n.push({s:-1,f:25001});var c=n[0],d=n[1],u=0,h=1,A=2;for(n[0]={s:-1,f:c.f+d.f,l:c,r:d};h!=i-1;)c=n[n[u].f<n[A].f?u++:A++],d=n[u!=h&&n[u].f<n[A].f?u++:A++],n[h++]={s:-1,f:c.f+d.f,l:c,r:d};var f=o[0].s;for(r=1;r<i;++r)o[r].s>f&&(f=o[r].s);var m=new a(f+1),p=P(n[h-1],m,0);if(p>t){r=0;var g=0,x=p-t,b=1<<x;for(o.sort(function(e,t){return m[t.s]-m[e.s]||e.f-t.f});r<i;++r){var y=o[r].s;if(!(m[y]>t))break;g+=b-(1<<p-m[y]),m[y]=t}for(g>>=x;g>0;){var v=o[r].s;m[v]<t?g-=1<<t-m[v]++-1:++r}for(;r>=0&&g;--r){var w=o[r].s;m[w]==t&&(--m[w],++g)}p=t}return{t:new s(m),l:p}},P=function(e,t,n){return-1==e.s?Math.max(P(e.l,t,n+1),P(e.r,t,n+1)):t[e.s]=n},U=function(e){for(var t=e.length;t&&!e[--t];);for(var n=new a(++t),r=0,s=e[0],i=1,o=function(e){n[r++]=e},l=1;l<=t;++l)if(e[l]==s&&l!=t)++i;else{if(!s&&i>2){for(;i>138;i-=138)o(32754);i>2&&(o(i>10?i-11<<5|28690:i-3<<5|12305),i=0)}else if(i>3){for(o(s),--i;i>6;i-=6)o(8304);i>2&&(o(i-3<<5|8208),i=0)}for(;i--;)o(s);i=1,s=e[l]}return{c:n.subarray(0,r),n:t}},R=function(e,t){for(var n=0,r=0;r<t.length;++r)n+=e[r]*t[r];return n},Q=function(e,t,n){var r=n.length,s=E(t+2);e[s]=255&r,e[s+1]=r>>8,e[s+2]=255^e[s],e[s+3]=255^e[s+1];for(var a=0;a<r;++a)e[s+a+4]=n[a];return 8*(s+4+r)},z=function(e,t,n,r,s,i,d,u,h,A,f){D(t,f++,n),++s[256];for(var m=O(s,15),p=m.t,g=m.l,x=O(i,15),b=x.t,N=x.l,C=U(p),S=C.c,k=C.n,B=U(b),E=B.c,L=B.n,M=new a(19),F=0;F<S.length;++F)++M[31&S[F]];for(F=0;F<E.length;++F)++M[31&E[F]];for(var I=O(M,7),P=I.t,z=I.l,H=19;H>4&&!P[c[H-1]];--H);var K,W,V,q,G=A+5<<3,Y=R(s,v)+R(i,w)+d,J=R(s,p)+R(i,b)+d+14+3*H+R(M,P)+2*M[16]+3*M[17]+7*M[18];if(h>=0&&G<=Y&&G<=J)return Q(t,f,e.subarray(h,h+A));if(D(t,f,1+(J<Y)),f+=2,J<Y){K=y(p,g,0),W=p,V=y(b,N,0),q=b;var X=y(P,z,0);D(t,f,k-257),D(t,f+5,L-1),D(t,f+10,H-4),f+=14;for(F=0;F<H;++F)D(t,f+3*F,P[c[F]]);f+=3*H;for(var Z=[S,E],$=0;$<2;++$){var ee=Z[$];for(F=0;F<ee.length;++F){var te=31&ee[F];D(t,f,X[te]),f+=P[te],te>15&&(D(t,f,ee[F]>>5&127),f+=ee[F]>>12)}}}else K=j,W=v,V=_,q=w;for(F=0;F<u;++F){var ne=r[F];if(ne>255){T(t,f,K[(te=ne>>18&31)+257]),f+=W[te+257],te>7&&(D(t,f,ne>>23&31),f+=o[te]);var re=31&ne;T(t,f,V[re]),f+=q[re],re>3&&(T(t,f,ne>>5&8191),f+=l[re])}else T(t,f,K[ne]),f+=W[ne]}return T(t,f,K[256]),f+W[256]},H=new i([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),K=new s(0),W=function(e,t,n,r,c,d){var u=d.z||e.length,h=new s(r+u+5*(1+Math.ceil(u/7e3))+c),f=h.subarray(r,h.length-c),m=d.l,g=7&(d.r||0);if(t){g&&(f[0]=d.r>>3);for(var x=H[t-1],b=x>>13,y=8191&x,v=(1<<n)-1,w=d.p||new a(32768),j=d.h||new a(v+1),N=Math.ceil(n/3),_=2*N,C=function(t){return(e[t]^e[t+1]<<N^e[t+2]<<_)&v},S=new i(25e3),k=new a(288),B=new a(32),M=0,F=0,I=d.i||0,D=0,T=d.w||0,O=0;I+2<u;++I){var P=C(I),U=32767&I,R=j[P];if(w[U]=R,j[P]=U,T<=I){var K=u-I;if((M>7e3||D>24576)&&(K>423||!m)){g=z(e,f,0,S,k,B,F,D,O,I-O,g),D=M=F=0,O=I;for(var W=0;W<286;++W)k[W]=0;for(W=0;W<30;++W)B[W]=0}var V=2,q=0,G=y,Y=U-R&32767;if(K>2&&P==C(I-Y))for(var J=Math.min(b,K)-1,X=Math.min(32767,I),Z=Math.min(258,K);Y<=X&&--G&&U!=R;){if(e[I+V]==e[I+V-Y]){for(var $=0;$<Z&&e[I+$]==e[I+$-Y];++$);if($>V){if(V=$,q=Y,$>J)break;var ee=Math.min(Y,$-2),te=0;for(W=0;W<ee;++W){var ne=I-Y+W&32767,re=ne-w[ne]&32767;re>te&&(te=re,R=ne)}}}Y+=(U=R)-(R=w[U])&32767}if(q){S[D++]=268435456|A[V]<<18|p[q];var se=31&A[V],ae=31&p[q];F+=o[se]+l[ae],++k[257+se],++B[ae],T=I+V,++M}else S[D++]=e[I],++k[e[I]]}}for(I=Math.max(I,T);I<u;++I)S[D++]=e[I],++k[e[I]];g=z(e,f,m,S,k,B,F,D,O,I-O,g),m||(d.r=7&g|f[g/8|0]<<3,g-=7,d.h=j,d.p=w,d.i=I,d.w=T)}else{for(I=d.w||0;I<u+m;I+=65535){var ie=I+65535;ie>=u&&(f[g/8|0]=m,ie=u),g=Q(f,g+1,e.subarray(I,ie))}d.i=u}return L(h,0,r+E(g)+c)},V=function(){var e=1,t=0;return{p:function(n){for(var r=e,s=t,a=0|n.length,i=0;i!=a;){for(var o=Math.min(i+2655,a);i<o;++i)s+=r+=n[i];r=(65535&r)+15*(r>>16),s=(65535&s)+15*(s>>16)}e=r,t=s},d:function(){return(255&(e%=65521))<<24|(65280&e)<<8|(255&(t%=65521))<<8|t>>8}}},q=function(e,t,n,r,a){if(!a&&(a={l:1},t.dictionary)){var i=t.dictionary.subarray(-32768),o=new s(i.length+e.length);o.set(i),o.set(e,i.length),e=o,a.w=i.length}return W(e,null==t.level?6:t.level,null==t.mem?a.l?Math.ceil(1.5*Math.max(8,Math.min(13,Math.log(e.length)))):20:12+t.mem,n,r,a)},G=function(e,t,n){for(;n;++t)e[t]=n,n>>>=8},Y=function(e,t){var n=t.level,r=0==n?0:n<6?1:9==n?3:2;if(e[0]=120,e[1]=r<<6|(t.dictionary&&32),e[1]|=31-(e[0]<<8|e[1])%31,t.dictionary){var s=V();s.p(t.dictionary),G(e,2,s.d())}},J=function(e,t){return(8!=(15&e[0])||e[0]>>4>7||(e[0]<<8|e[1])%31)&&F(6,"invalid zlib data"),(e[1]>>5&1)==+!t&&F(6,"invalid zlib data: "+(32&e[1]?"need":"unexpected")+" dictionary"),2+(e[1]>>3&4)};function X(e,t){t||(t={});var n=V();n.p(e);var r=q(e,t,t.dictionary?6:2,4);return Y(r,t),G(r,r.length-4,n.d()),r}function Z(e,t){return I(e.subarray(J(e,t&&t.dictionary),-4),{i:2},t&&t.out,t&&t.dictionary)}var $="undefined"!=typeof TextDecoder&&new TextDecoder;try{$.decode(K,{stream:!0})}catch(vn){}"function"==typeof queueMicrotask?queueMicrotask:"function"==typeof setTimeout&&setTimeout;var ee=function(){return"undefined"!=typeof window?window:"undefined"!=typeof n.g?n.g:"undefined"!=typeof self?self:this}();function te(){ee.console&&"function"==typeof ee.console.log&&ee.console.log.apply(ee.console,arguments)}var ne={log:te,warn:function(e){ee.console&&("function"==typeof ee.console.warn?ee.console.warn.apply(ee.console,arguments):te.call(null,arguments))},error:function(e){ee.console&&("function"==typeof ee.console.error?ee.console.error.apply(ee.console,arguments):te(e))}};function re(e,t,n){var r=new XMLHttpRequest;r.open("GET",e),r.responseType="blob",r.onload=function(){le(r.response,t,n)},r.onerror=function(){ne.error("could not download file")},r.send()}function se(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return t.status>=200&&t.status<=299}function ae(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(n){var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}var ie,oe,le=ee.saveAs||("object"!==("undefined"==typeof window?"undefined":(0,r.A)(window))||window!==ee?function(){}:"undefined"!=typeof HTMLAnchorElement&&"download"in HTMLAnchorElement.prototype?function(e,t,n){var r=ee.URL||ee.webkitURL,s=document.createElement("a");t=t||e.name||"download",s.download=t,s.rel="noopener","string"==typeof e?(s.href=e,s.origin!==location.origin?se(s.href)?re(e,t,n):ae(s,s.target="_blank"):ae(s)):(s.href=r.createObjectURL(e),setTimeout(function(){r.revokeObjectURL(s.href)},4e4),setTimeout(function(){ae(s)},0))}:"msSaveOrOpenBlob"in navigator?function(e,t,n){if(t=t||e.name||"download","string"==typeof e)if(se(e))re(e,t,n);else{var s=document.createElement("a");s.href=e,s.target="_blank",setTimeout(function(){ae(s)})}else navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!==(0,r.A)(t)&&(ne.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob([String.fromCharCode(65279),e],{type:e.type}):e}(e,n),t)}:function(e,t,n,s){if((s=s||open("","_blank"))&&(s.document.title=s.document.body.innerText="downloading..."),"string"==typeof e)return re(e,t,n);var a="application/octet-stream"===e.type,i=/constructor/i.test(ee.HTMLElement)||ee.safari,o=/CriOS\/[\d]+/.test(navigator.userAgent);if((o||a&&i)&&"object"===("undefined"==typeof FileReader?"undefined":(0,r.A)(FileReader))){var l=new FileReader;l.onloadend=function(){var e=l.result;e=o?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),s?s.location.href=e:location=e,s=null},l.readAsDataURL(e)}else{var c=ee.URL||ee.webkitURL,d=c.createObjectURL(e);s?s.location=d:location.href=d,s=null,setTimeout(function(){c.revokeObjectURL(d)},4e4)}});function ce(e){var t;e=e||"",this.ok=!1,"#"==e.charAt(0)&&(e=e.substr(1,6)),e={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[e=(e=e.replace(/ /g,"")).toLowerCase()]||e;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(e){return[parseInt(e[1]),parseInt(e[2]),parseInt(e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(e){return[parseInt(e[1],16),parseInt(e[2],16),parseInt(e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(e){return[parseInt(e[1]+e[1],16),parseInt(e[2]+e[2],16),parseInt(e[3]+e[3],16)]}}],r=0;r<n.length;r++){var s=n[r].re,a=n[r].process,i=s.exec(e);i&&(t=a(i),this.r=t[0],this.g=t[1],this.b=t[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var e=this.r.toString(16),t=this.g.toString(16),n=this.b.toString(16);return 1==e.length&&(e="0"+e),1==t.length&&(t="0"+t),1==n.length&&(n="0"+n),"#"+e+t+n}}function de(e,t){var n=e[0],r=e[1],s=e[2],a=e[3];n=he(n,r,s,a,t[0],7,-680876936),a=he(a,n,r,s,t[1],12,-389564586),s=he(s,a,n,r,t[2],17,606105819),r=he(r,s,a,n,t[3],22,-1044525330),n=he(n,r,s,a,t[4],7,-176418897),a=he(a,n,r,s,t[5],12,1200080426),s=he(s,a,n,r,t[6],17,-1473231341),r=he(r,s,a,n,t[7],22,-45705983),n=he(n,r,s,a,t[8],7,1770035416),a=he(a,n,r,s,t[9],12,-1958414417),s=he(s,a,n,r,t[10],17,-42063),r=he(r,s,a,n,t[11],22,-1990404162),n=he(n,r,s,a,t[12],7,1804603682),a=he(a,n,r,s,t[13],12,-40341101),s=he(s,a,n,r,t[14],17,-1502002290),n=Ae(n,r=he(r,s,a,n,t[15],22,1236535329),s,a,t[1],5,-165796510),a=Ae(a,n,r,s,t[6],9,-1069501632),s=Ae(s,a,n,r,t[11],14,643717713),r=Ae(r,s,a,n,t[0],20,-373897302),n=Ae(n,r,s,a,t[5],5,-701558691),a=Ae(a,n,r,s,t[10],9,38016083),s=Ae(s,a,n,r,t[15],14,-660478335),r=Ae(r,s,a,n,t[4],20,-405537848),n=Ae(n,r,s,a,t[9],5,568446438),a=Ae(a,n,r,s,t[14],9,-1019803690),s=Ae(s,a,n,r,t[3],14,-187363961),r=Ae(r,s,a,n,t[8],20,1163531501),n=Ae(n,r,s,a,t[13],5,-1444681467),a=Ae(a,n,r,s,t[2],9,-51403784),s=Ae(s,a,n,r,t[7],14,1735328473),n=fe(n,r=Ae(r,s,a,n,t[12],20,-1926607734),s,a,t[5],4,-378558),a=fe(a,n,r,s,t[8],11,-2022574463),s=fe(s,a,n,r,t[11],16,1839030562),r=fe(r,s,a,n,t[14],23,-35309556),n=fe(n,r,s,a,t[1],4,-1530992060),a=fe(a,n,r,s,t[4],11,1272893353),s=fe(s,a,n,r,t[7],16,-155497632),r=fe(r,s,a,n,t[10],23,-1094730640),n=fe(n,r,s,a,t[13],4,681279174),a=fe(a,n,r,s,t[0],11,-358537222),s=fe(s,a,n,r,t[3],16,-722521979),r=fe(r,s,a,n,t[6],23,76029189),n=fe(n,r,s,a,t[9],4,-640364487),a=fe(a,n,r,s,t[12],11,-421815835),s=fe(s,a,n,r,t[15],16,530742520),n=me(n,r=fe(r,s,a,n,t[2],23,-995338651),s,a,t[0],6,-198630844),a=me(a,n,r,s,t[7],10,1126891415),s=me(s,a,n,r,t[14],15,-1416354905),r=me(r,s,a,n,t[5],21,-57434055),n=me(n,r,s,a,t[12],6,1700485571),a=me(a,n,r,s,t[3],10,-1894986606),s=me(s,a,n,r,t[10],15,-1051523),r=me(r,s,a,n,t[1],21,-2054922799),n=me(n,r,s,a,t[8],6,1873313359),a=me(a,n,r,s,t[15],10,-30611744),s=me(s,a,n,r,t[6],15,-1560198380),r=me(r,s,a,n,t[13],21,1309151649),n=me(n,r,s,a,t[4],6,-145523070),a=me(a,n,r,s,t[11],10,-1120210379),s=me(s,a,n,r,t[2],15,718787259),r=me(r,s,a,n,t[9],21,-343485551),e[0]=je(n,e[0]),e[1]=je(r,e[1]),e[2]=je(s,e[2]),e[3]=je(a,e[3])}function ue(e,t,n,r,s,a){return t=je(je(t,e),je(r,a)),je(t<<s|t>>>32-s,n)}function he(e,t,n,r,s,a,i){return ue(t&n|~t&r,e,t,s,a,i)}function Ae(e,t,n,r,s,a,i){return ue(t&r|n&~r,e,t,s,a,i)}function fe(e,t,n,r,s,a,i){return ue(t^n^r,e,t,s,a,i)}function me(e,t,n,r,s,a,i){return ue(n^(t|~r),e,t,s,a,i)}function pe(e){var t,n=e.length,r=[1732584193,-271733879,-1732584194,271733878];for(t=64;t<=e.length;t+=64)de(r,ge(e.substring(t-64,t)));e=e.substring(t-64);var s=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(t=0;t<e.length;t++)s[t>>2]|=e.charCodeAt(t)<<(t%4<<3);if(s[t>>2]|=128<<(t%4<<3),t>55)for(de(r,s),t=0;t<16;t++)s[t]=0;return s[14]=8*n,de(r,s),r}function ge(e){var t,n=[];for(t=0;t<64;t+=4)n[t>>2]=e.charCodeAt(t)+(e.charCodeAt(t+1)<<8)+(e.charCodeAt(t+2)<<16)+(e.charCodeAt(t+3)<<24);return n}ie=ee.atob.bind(ee),oe=ee.btoa.bind(ee);var xe="0123456789abcdef".split("");function be(e){for(var t="",n=0;n<4;n++)t+=xe[e>>8*n+4&15]+xe[e>>8*n&15];return t}function ye(e){return String.fromCharCode(255&e,(65280&e)>>8,(16711680&e)>>16,(4278190080&e)>>24)}function ve(e){return pe(e).map(ye).join("")}var we="5d41402abc4b2a76b9719d911017c592"!=function(e){for(var t=0;t<e.length;t++)e[t]=be(e[t]);return e.join("")}(pe("hello"));function je(e,t){if(we){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}return e+t&4294967295}function Ne(e,t){var n,r,s,a;if(e!==n){for(var i=(s=e,a=1+(256/e.length|0),new Array(a+1).join(s)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var d=o[l];c=(c+d+i.charCodeAt(l))%256,o[l]=o[c],o[c]=d}n=e,r=o}else o=r;var u=t.length,h=0,A=0,f="";for(l=0;l<u;l++)A=(A+(d=o[h=(h+1)%256]))%256,o[h]=o[A],o[A]=d,i=o[(o[h]+o[A])%256],f+=String.fromCharCode(t.charCodeAt(l)^i);return f}var _e={print:4,modify:8,copy:16,"annot-forms":32};function Ce(e,t,n,r){this.v=1,this.r=2;var s=192;e.forEach(function(e){if(void 0!==_e.perm)throw new Error("Invalid permission: "+e);s+=_e[e]}),this.padding="(\xbfN^Nu\x8aAd\0NV\xff\xfa\x01\b..\0\xb6\xd0h>\x80/\f\xa9\xfedSiz";var a=(t+this.padding).substr(0,32),i=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(a,i),this.P=-(1+(255^s)),this.encryptionKey=ve(a+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Ne(this.encryptionKey,this.padding)}function Se(e){if(/[^\u0000-\u00ff]/.test(e))throw new Error("Invalid PDF Name Object: "+e+", Only accept ASCII characters.");for(var t="",n=e.length,r=0;r<n;r++){var s=e.charCodeAt(r);t+=s<33||35===s||37===s||40===s||41===s||47===s||60===s||62===s||91===s||93===s||123===s||125===s||s>126?"#"+("0"+s.toString(16)).slice(-2):e[r]}return t}function ke(e){if("object"!==(0,r.A)(e))throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var t={};this.subscribe=function(e,n,r){if(r=r||!1,"string"!=typeof e||"function"!=typeof n||"boolean"!=typeof r)throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");t.hasOwnProperty(e)||(t[e]={});var s=Math.random().toString(35);return t[e][s]=[n,!!r],s},this.unsubscribe=function(e){for(var n in t)if(t[n][e])return delete t[n][e],0===Object.keys(t[n]).length&&delete t[n],!0;return!1},this.publish=function(n){if(t.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),s=[];for(var a in t[n]){var i=t[n][a];try{i[0].apply(e,r)}catch(n){ee.console&&ne.error("jsPDF PubSub Error",n.message,n)}i[1]&&s.push(a)}s.length&&s.forEach(this.unsubscribe)}},this.getTopics=function(){return t}}function Be(e){if(!(this instanceof Be))return new Be(e);var t="opacity,stroke-opacity".split(",");for(var n in e)e.hasOwnProperty(n)&&t.indexOf(n)>=0&&(this[n]=e[n]);this.id="",this.objectNumber=-1}function Ee(e,t){this.gState=e,this.matrix=t,this.id="",this.objectNumber=-1}function Le(e,t,n,r,s){if(!(this instanceof Le))return new Le(e,t,n,r,s);this.type="axial"===e?2:3,this.coords=t,this.colors=n,Ee.call(this,r,s)}function Me(e,t,n,r,s){if(!(this instanceof Me))return new Me(e,t,n,r,s);this.boundingBox=e,this.xStep=t,this.yStep=n,this.stream="",this.cloneIndex=0,Ee.call(this,r,s)}function Fe(e){var t,n="string"==typeof arguments[0]?arguments[0]:"p",s=arguments[1],a=arguments[2],i=arguments[3],o=[],l=1,c=16,d="S",u=null;"object"===(0,r.A)(e=e||{})&&(n=e.orientation,s=e.unit||s,a=e.format||a,i=e.compress||e.compressPdf||i,null!==(u=e.encryption||null)&&(u.userPassword=u.userPassword||"",u.ownerPassword=u.ownerPassword||"",u.userPermissions=u.userPermissions||[]),l="number"==typeof e.userUnit?Math.abs(e.userUnit):1,void 0!==e.precision&&(t=e.precision),void 0!==e.floatPrecision&&(c=e.floatPrecision),d=e.defaultPathOperation||"S"),o=e.filters||(!0===i?["FlateEncode"]:o),s=s||"mm",n=(""+(n||"P")).toLowerCase();var h=e.putOnlyUsedFonts||!1,A={},f={internal:{},__private__:{}};f.__private__.PubSub=ke;var m="1.3",p=f.__private__.getPdfVersion=function(){return m};f.__private__.setPdfVersion=function(e){m=e};var g={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};f.__private__.getPageFormats=function(){return g};var x=f.__private__.getPageFormat=function(e){return g[e]};a=a||"a4";var b="compat",y="advanced",v=b;function w(){this.saveGraphicsState(),Z(new Ke(xe,0,0,-xe,0,jn()*xe).toString()+" cm"),this.setFontSize(this.getFontSize()/xe),d="n",v=y}function j(){this.restoreGraphicsState(),d="S",v=b}var N=f.__private__.combineFontStyleAndFontWeight=function(e,t){if("bold"==e&&"normal"==t||"bold"==e&&400==t||"normal"==e&&"italic"==t||"bold"==e&&"italic"==t)throw new Error("Invalid Combination of fontweight and fontstyle");return t&&(e=400==t||"normal"===t?"italic"===e?"italic":"normal":700!=t&&"bold"!==t||"normal"!==e?(700==t?"bold":t)+""+e:"bold"),e};f.advancedAPI=function(e){var t=v===b;return t&&w.call(this),"function"!=typeof e||(e(this),t&&j.call(this)),this},f.compatAPI=function(e){var t=v===y;return t&&j.call(this),"function"!=typeof e||(e(this),t&&w.call(this)),this},f.isAdvancedAPI=function(){return v===y};var _,C=function(e){if(v!==y)throw new Error(e+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},S=f.roundToPrecision=f.__private__.roundToPrecision=function(e,n){var r=t||n;if(isNaN(e)||isNaN(r))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return e.toFixed(r).replace(/0+$/,"")};_=f.hpf=f.__private__.hpf="number"==typeof c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,c)}:"smart"===c?function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,e>-1&&e<1?16:5)}:function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.hpf");return S(e,16)};var k=f.f2=f.__private__.f2=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f2");return S(e,2)},B=f.__private__.f3=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.f3");return S(e,3)},E=f.scale=f.__private__.scale=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.scale");return v===b?e*xe:v===y?e:void 0},L=function(e){return E(function(e){return v===b?jn()-e:v===y?e:void 0}(e))};f.__private__.setPrecision=f.setPrecision=function(e){"number"==typeof parseInt(e,10)&&(t=parseInt(e,10))};var M,F="00000000000000000000000000000000",I=f.__private__.getFileId=function(){return F},D=f.__private__.setFileId=function(e){return F=void 0!==e&&/^[a-fA-F0-9]{32}$/.test(e)?e.toUpperCase():F.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),null!==u&&(Mt=new Ce(u.userPermissions,u.userPassword,u.ownerPassword,F)),F};f.setFileId=function(e){return D(e),this},f.getFileId=function(){return I()};var T=f.__private__.convertDateToPDFDate=function(e){var t=e.getTimezoneOffset(),n=t<0?"+":"-",r=Math.floor(Math.abs(t/60)),s=Math.abs(t%60),a=[n,Q(r),"'",Q(s),"'"].join("");return["D:",e.getFullYear(),Q(e.getMonth()+1),Q(e.getDate()),Q(e.getHours()),Q(e.getMinutes()),Q(e.getSeconds()),a].join("")},O=f.__private__.convertPDFDateToDate=function(e){var t=parseInt(e.substr(2,4),10),n=parseInt(e.substr(6,2),10)-1,r=parseInt(e.substr(8,2),10),s=parseInt(e.substr(10,2),10),a=parseInt(e.substr(12,2),10),i=parseInt(e.substr(14,2),10);return new Date(t,n,r,s,a,i,0)},P=f.__private__.setCreationDate=function(e){var t;if(void 0===e&&(e=new Date),e instanceof Date)t=T(e);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(e))throw new Error("Invalid argument passed to jsPDF.setCreationDate");t=e}return M=t},U=f.__private__.getCreationDate=function(e){var t=M;return"jsDate"===e&&(t=O(M)),t};f.setCreationDate=function(e){return P(e),this},f.getCreationDate=function(e){return U(e)};var R,Q=f.__private__.padd2=function(e){return("0"+parseInt(e)).slice(-2)},z=f.__private__.padd2Hex=function(e){return("00"+(e=e.toString())).substr(e.length)},H=0,K=[],W=[],V=0,q=[],G=[],Y=!1,J=W;f.__private__.setCustomOutputDestination=function(e){Y=!0,J=e};var X=function(e){Y||(J=e)};f.__private__.resetCustomOutputDestination=function(){Y=!1,J=W};var Z=f.__private__.out=function(e){return e=e.toString(),V+=e.length+1,J.push(e),J},$=f.__private__.write=function(e){return Z(1===arguments.length?e.toString():Array.prototype.join.call(arguments," "))},te=f.__private__.getArrayBuffer=function(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n);t--;)r[t]=e.charCodeAt(t);return n},re=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];f.__private__.getStandardFonts=function(){return re};var se=e.fontSize||16;f.__private__.setFontSize=f.setFontSize=function(e){return se=v===y?e/xe:e,this};var ae,ie=f.__private__.getFontSize=f.getFontSize=function(){return v===b?se:se*xe},de=e.R2L||!1;f.__private__.setR2L=f.setR2L=function(e){return de=e,this},f.__private__.getR2L=f.getR2L=function(){return de};var ue,he=f.__private__.setZoomMode=function(e){if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(e))ae=e;else if(isNaN(e)){if(-1===[void 0,null,"fullwidth","fullheight","fullpage","original"].indexOf(e))throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+e+'" is not recognized.');ae=e}else ae=parseInt(e,10)};f.__private__.getZoomMode=function(){return ae};var Ae,fe=f.__private__.setPageMode=function(e){if(-1==[void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(e))throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+e+'" is not recognized.');ue=e};f.__private__.getPageMode=function(){return ue};var me=f.__private__.setLayoutMode=function(e){if(-1==[void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(e))throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+e+'" is not recognized.');Ae=e};f.__private__.getLayoutMode=function(){return Ae},f.__private__.setDisplayMode=f.setDisplayMode=function(e,t,n){return he(e),me(t),fe(n),this};var pe={title:"",subject:"",author:"",keywords:"",creator:""};f.__private__.getDocumentProperty=function(e){if(-1===Object.keys(pe).indexOf(e))throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return pe[e]},f.__private__.getDocumentProperties=function(){return pe},f.__private__.setDocumentProperties=f.setProperties=f.setDocumentProperties=function(e){for(var t in pe)pe.hasOwnProperty(t)&&e[t]&&(pe[t]=e[t]);return this},f.__private__.setDocumentProperty=function(e,t){if(-1===Object.keys(pe).indexOf(e))throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return pe[e]=t};var ge,xe,be,ye,ve,we={},je={},Ne=[],_e={},Ee={},Ie={},De={},Te=null,Oe=0,Pe=[],Ue=new ke(f),Re=e.hotfixes||[],Qe={},ze={},He=[],Ke=function e(t,n,r,s,a,i){if(!(this instanceof e))return new e(t,n,r,s,a,i);isNaN(t)&&(t=1),isNaN(n)&&(n=0),isNaN(r)&&(r=0),isNaN(s)&&(s=1),isNaN(a)&&(a=0),isNaN(i)&&(i=0),this._matrix=[t,n,r,s,a,i]};Object.defineProperty(Ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(e){this._matrix[0]=e}}),Object.defineProperty(Ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(e){this._matrix[1]=e}}),Object.defineProperty(Ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(e){this._matrix[2]=e}}),Object.defineProperty(Ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(e){this._matrix[3]=e}}),Object.defineProperty(Ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(e){this._matrix[4]=e}}),Object.defineProperty(Ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(e){this._matrix[5]=e}}),Object.defineProperty(Ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ke.prototype,"isIdentity",{get:function(){return 1===this.sx&&0===this.shy&&0===this.shx&&1===this.sy&&0===this.tx&&0===this.ty}}),Ke.prototype.join=function(e){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(_).join(e)},Ke.prototype.multiply=function(e){var t=e.sx*this.sx+e.shy*this.shx,n=e.sx*this.shy+e.shy*this.sy,r=e.shx*this.sx+e.sy*this.shx,s=e.shx*this.shy+e.sy*this.sy,a=e.tx*this.sx+e.ty*this.shx+this.tx,i=e.tx*this.shy+e.ty*this.sy+this.ty;return new Ke(t,n,r,s,a,i)},Ke.prototype.decompose=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,a=this.ty,i=Math.sqrt(e*e+t*t),o=(e/=i)*n+(t/=i)*r;n-=e*o,r-=t*o;var l=Math.sqrt(n*n+r*r);return o/=l,e*(r/=l)<t*(n/=l)&&(e=-e,t=-t,o=-o,i=-i),{scale:new Ke(i,0,0,l,0,0),translate:new Ke(1,0,0,1,s,a),rotate:new Ke(e,t,-t,e,0,0),skew:new Ke(1,0,o,1,0,0)}},Ke.prototype.toString=function(e){return this.join(" ")},Ke.prototype.inversed=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,a=this.ty,i=1/(e*r-t*n),o=r*i,l=-t*i,c=-n*i,d=e*i;return new Ke(o,l,c,d,-o*s-c*a,-l*s-d*a)},Ke.prototype.applyToPoint=function(e){var t=e.x*this.sx+e.y*this.shx+this.tx,n=e.x*this.shy+e.y*this.sy+this.ty;return new pn(t,n)},Ke.prototype.applyToRectangle=function(e){var t=this.applyToPoint(e),n=this.applyToPoint(new pn(e.x+e.w,e.y+e.h));return new gn(t.x,t.y,n.x-t.x,n.y-t.y)},Ke.prototype.clone=function(){var e=this.sx,t=this.shy,n=this.shx,r=this.sy,s=this.tx,a=this.ty;return new Ke(e,t,n,r,s,a)},f.Matrix=Ke;var We=f.matrixMult=function(e,t){return t.multiply(e)},Ve=new Ke(1,0,0,1,0,0);f.unitMatrix=f.identityMatrix=Ve;var qe=function(e,t){if(!Ee[e]){var n=(t instanceof Le?"Sh":"P")+(Object.keys(_e).length+1).toString(10);t.id=n,Ee[e]=n,_e[n]=t,Ue.publish("addPattern",t)}};f.ShadingPattern=Le,f.TilingPattern=Me,f.addShadingPattern=function(e,t){return C("addShadingPattern()"),qe(e,t),this},f.beginTilingPattern=function(e){C("beginTilingPattern()"),bn(e.boundingBox[0],e.boundingBox[1],e.boundingBox[2]-e.boundingBox[0],e.boundingBox[3]-e.boundingBox[1],e.matrix)},f.endTilingPattern=function(e,t){C("endTilingPattern()"),t.stream=G[R].join("\n"),qe(e,t),Ue.publish("endTilingPattern",t),He.pop().restore()};var Ge,Ye=f.__private__.newObject=function(){var e=Je();return Xe(e,!0),e},Je=f.__private__.newObjectDeferred=function(){return H++,K[H]=function(){return V},H},Xe=function(e,t){return t="boolean"==typeof t&&t,K[e]=V,t&&Z(e+" 0 obj"),e},Ze=f.__private__.newAdditionalObject=function(){var e={objId:Je(),content:""};return q.push(e),e},$e=Je(),et=Je(),tt=f.__private__.decodeColorString=function(e){var t=e.split(" ");if(2!==t.length||"g"!==t[1]&&"G"!==t[1])5!==t.length||"k"!==t[4]&&"K"!==t[4]||(t=[(1-t[0])*(1-t[3]),(1-t[1])*(1-t[3]),(1-t[2])*(1-t[3]),"r"]);else{var n=parseFloat(t[0]);t=[n,n,n,"r"]}for(var r="#",s=0;s<3;s++)r+=("0"+Math.floor(255*parseFloat(t[s])).toString(16)).slice(-2);return r},nt=f.__private__.encodeColorString=function(e){var t;"string"==typeof e&&(e={ch1:e});var n=e.ch1,s=e.ch2,a=e.ch3,i=e.ch4,o="draw"===e.pdfColorType?["G","RG","K"]:["g","rg","k"];if("string"==typeof n&&"#"!==n.charAt(0)){var l=new ce(n);if(l.ok)n=l.toHex();else if(!/^\d*\.?\d*$/.test(n))throw new Error('Invalid color "'+n+'" passed to jsPDF.encodeColorString.')}if("string"==typeof n&&/^#[0-9A-Fa-f]{3}$/.test(n)&&(n="#"+n[1]+n[1]+n[2]+n[2]+n[3]+n[3]),"string"==typeof n&&/^#[0-9A-Fa-f]{6}$/.test(n)){var c=parseInt(n.substr(1),16);n=c>>16&255,s=c>>8&255,a=255&c}if(void 0===s||void 0===i&&n===s&&s===a)if("string"==typeof n)t=n+" "+o[0];else if(2===e.precision)t=k(n/255)+" "+o[0];else t=B(n/255)+" "+o[0];else if(void 0===i||"object"===(0,r.A)(i)){if(i&&!isNaN(i.a)&&0===i.a)return["1.","1.","1.",o[1]].join(" ");if("string"==typeof n)t=[n,s,a,o[1]].join(" ");else if(2===e.precision)t=[k(n/255),k(s/255),k(a/255),o[1]].join(" ");else t=[B(n/255),B(s/255),B(a/255),o[1]].join(" ")}else if("string"==typeof n)t=[n,s,a,i,o[2]].join(" ");else if(2===e.precision)t=[k(n),k(s),k(a),k(i),o[2]].join(" ");else t=[B(n),B(s),B(a),B(i),o[2]].join(" ");return t},rt=f.__private__.getFilters=function(){return o},st=f.__private__.putStream=function(e){var t=(e=e||{}).data||"",n=e.filters||rt(),r=e.alreadyAppliedFilters||[],s=e.addLength1||!1,a=t.length,i=e.objectId,o=function(e){return e};if(null!==u&&void 0===i)throw new Error("ObjectId must be passed to putStream for file encryption");null!==u&&(o=Mt.encryptor(i,0));var l={};!0===n&&(n=["FlateEncode"]);var c=e.additionalKeyValues||[],d=(l=void 0!==Fe.API.processDataByFilters?Fe.API.processDataByFilters(t,n):{data:t,reverseChain:[]}).reverseChain+(Array.isArray(r)?r.join(" "):r.toString());if(0!==l.data.length&&(c.push({key:"Length",value:l.data.length}),!0===s&&c.push({key:"Length1",value:a})),0!=d.length)if(d.split("/").length-1==1)c.push({key:"Filter",value:d});else{c.push({key:"Filter",value:"["+d+"]"});for(var h=0;h<c.length;h+=1)if("DecodeParms"===c[h].key){for(var A=[],f=0;f<l.reverseChain.split("/").length-1;f+=1)A.push("null");A.push(c[h].value),c[h].value="["+A.join(" ")+"]"}}Z("<<");for(var m=0;m<c.length;m++)Z("/"+c[m].key+" "+c[m].value);Z(">>"),0!==l.data.length&&(Z("stream"),Z(o(l.data)),Z("endstream"))},at=f.__private__.putPage=function(e){var t=e.number,n=e.data,r=e.objId,s=e.contentsObjId;Xe(r,!0),Z("<</Type /Page"),Z("/Parent "+e.rootDictionaryObjId+" 0 R"),Z("/Resources "+e.resourceDictionaryObjId+" 0 R"),Z("/MediaBox ["+parseFloat(_(e.mediaBox.bottomLeftX))+" "+parseFloat(_(e.mediaBox.bottomLeftY))+" "+_(e.mediaBox.topRightX)+" "+_(e.mediaBox.topRightY)+"]"),null!==e.cropBox&&Z("/CropBox ["+_(e.cropBox.bottomLeftX)+" "+_(e.cropBox.bottomLeftY)+" "+_(e.cropBox.topRightX)+" "+_(e.cropBox.topRightY)+"]"),null!==e.bleedBox&&Z("/BleedBox ["+_(e.bleedBox.bottomLeftX)+" "+_(e.bleedBox.bottomLeftY)+" "+_(e.bleedBox.topRightX)+" "+_(e.bleedBox.topRightY)+"]"),null!==e.trimBox&&Z("/TrimBox ["+_(e.trimBox.bottomLeftX)+" "+_(e.trimBox.bottomLeftY)+" "+_(e.trimBox.topRightX)+" "+_(e.trimBox.topRightY)+"]"),null!==e.artBox&&Z("/ArtBox ["+_(e.artBox.bottomLeftX)+" "+_(e.artBox.bottomLeftY)+" "+_(e.artBox.topRightX)+" "+_(e.artBox.topRightY)+"]"),"number"==typeof e.userUnit&&1!==e.userUnit&&Z("/UserUnit "+e.userUnit),Ue.publish("putPage",{objId:r,pageContext:Pe[t],pageNumber:t,page:n}),Z("/Contents "+s+" 0 R"),Z(">>"),Z("endobj");var a=n.join("\n");return v===y&&(a+="\nQ"),Xe(s,!0),st({data:a,filters:rt(),objectId:s}),Z("endobj"),r},it=f.__private__.putPages=function(){var e,t,n=[];for(e=1;e<=Oe;e++)Pe[e].objId=Je(),Pe[e].contentsObjId=Je();for(e=1;e<=Oe;e++)n.push(at({number:e,data:G[e],objId:Pe[e].objId,contentsObjId:Pe[e].contentsObjId,mediaBox:Pe[e].mediaBox,cropBox:Pe[e].cropBox,bleedBox:Pe[e].bleedBox,trimBox:Pe[e].trimBox,artBox:Pe[e].artBox,userUnit:Pe[e].userUnit,rootDictionaryObjId:$e,resourceDictionaryObjId:et}));Xe($e,!0),Z("<</Type /Pages");var r="/Kids [";for(t=0;t<Oe;t++)r+=n[t]+" 0 R ";Z(r+"]"),Z("/Count "+Oe),Z(">>"),Z("endobj"),Ue.publish("postPutPages")},ot=function(e){Ue.publish("putFont",{font:e,out:Z,newObject:Ye,putStream:st}),!0!==e.isAlreadyPutted&&(e.objectNumber=Ye(),Z("<<"),Z("/Type /Font"),Z("/BaseFont /"+Se(e.postScriptName)),Z("/Subtype /Type1"),"string"==typeof e.encoding&&Z("/Encoding /"+e.encoding),Z("/FirstChar 32"),Z("/LastChar 255"),Z(">>"),Z("endobj"))},lt=function(e){e.objectNumber=Ye();var t=[];t.push({key:"Type",value:"/XObject"}),t.push({key:"Subtype",value:"/Form"}),t.push({key:"BBox",value:"["+[_(e.x),_(e.y),_(e.x+e.width),_(e.y+e.height)].join(" ")+"]"}),t.push({key:"Matrix",value:"["+e.matrix.toString()+"]"});var n=e.pages[1].join("\n");st({data:n,additionalKeyValues:t,objectId:e.objectNumber}),Z("endobj")},ct=function(e,t){t||(t=21);var n=Ye(),r=function(e,t){var n,r=[],s=1/(t-1);for(n=0;n<1;n+=s)r.push(n);if(r.push(1),0!=e[0].offset){var a={offset:0,color:e[0].color};e.unshift(a)}if(1!=e[e.length-1].offset){var i={offset:1,color:e[e.length-1].color};e.push(i)}for(var o="",l=0,c=0;c<r.length;c++){for(n=r[c];n>e[l+1].offset;)l++;var d=e[l].offset,u=(n-d)/(e[l+1].offset-d),h=e[l].color,A=e[l+1].color;o+=z(Math.round((1-u)*h[0]+u*A[0]).toString(16))+z(Math.round((1-u)*h[1]+u*A[1]).toString(16))+z(Math.round((1-u)*h[2]+u*A[2]).toString(16))}return o.trim()}(e.colors,t),s=[];s.push({key:"FunctionType",value:"0"}),s.push({key:"Domain",value:"[0.0 1.0]"}),s.push({key:"Size",value:"["+t+"]"}),s.push({key:"BitsPerSample",value:"8"}),s.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),s.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),st({data:r,additionalKeyValues:s,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:n}),Z("endobj"),e.objectNumber=Ye(),Z("<< /ShadingType "+e.type),Z("/ColorSpace /DeviceRGB");var a="/Coords ["+_(parseFloat(e.coords[0]))+" "+_(parseFloat(e.coords[1]))+" ";2===e.type?a+=_(parseFloat(e.coords[2]))+" "+_(parseFloat(e.coords[3])):a+=_(parseFloat(e.coords[2]))+" "+_(parseFloat(e.coords[3]))+" "+_(parseFloat(e.coords[4]))+" "+_(parseFloat(e.coords[5])),Z(a+="]"),e.matrix&&Z("/Matrix ["+e.matrix.toString()+"]"),Z("/Function "+n+" 0 R"),Z("/Extend [true true]"),Z(">>"),Z("endobj")},dt=function(e,t){var n=Je(),r=Ye();t.push({resourcesOid:n,objectOid:r}),e.objectNumber=r;var s=[];s.push({key:"Type",value:"/Pattern"}),s.push({key:"PatternType",value:"1"}),s.push({key:"PaintType",value:"1"}),s.push({key:"TilingType",value:"1"}),s.push({key:"BBox",value:"["+e.boundingBox.map(_).join(" ")+"]"}),s.push({key:"XStep",value:_(e.xStep)}),s.push({key:"YStep",value:_(e.yStep)}),s.push({key:"Resources",value:n+" 0 R"}),e.matrix&&s.push({key:"Matrix",value:"["+e.matrix.toString()+"]"}),st({data:e.stream,additionalKeyValues:s,objectId:e.objectNumber}),Z("endobj")},ut=function(e){for(var t in e.objectNumber=Ye(),Z("<<"),e)switch(t){case"opacity":Z("/ca "+k(e[t]));break;case"stroke-opacity":Z("/CA "+k(e[t]))}Z(">>"),Z("endobj")},ht=function(e){Xe(e.resourcesOid,!0),Z("<<"),Z("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),function(){for(var e in Z("/Font <<"),we)we.hasOwnProperty(e)&&(!1===h||!0===h&&A.hasOwnProperty(e))&&Z("/"+e+" "+we[e].objectNumber+" 0 R");Z(">>")}(),function(){if(Object.keys(_e).length>0){for(var e in Z("/Shading <<"),_e)_e.hasOwnProperty(e)&&_e[e]instanceof Le&&_e[e].objectNumber>=0&&Z("/"+e+" "+_e[e].objectNumber+" 0 R");Ue.publish("putShadingPatternDict"),Z(">>")}}(),function(e){if(Object.keys(_e).length>0){for(var t in Z("/Pattern <<"),_e)_e.hasOwnProperty(t)&&_e[t]instanceof f.TilingPattern&&_e[t].objectNumber>=0&&_e[t].objectNumber<e&&Z("/"+t+" "+_e[t].objectNumber+" 0 R");Ue.publish("putTilingPatternDict"),Z(">>")}}(e.objectOid),function(){if(Object.keys(Ie).length>0){var e;for(e in Z("/ExtGState <<"),Ie)Ie.hasOwnProperty(e)&&Ie[e].objectNumber>=0&&Z("/"+e+" "+Ie[e].objectNumber+" 0 R");Ue.publish("putGStateDict"),Z(">>")}}(),function(){for(var e in Z("/XObject <<"),Qe)Qe.hasOwnProperty(e)&&Qe[e].objectNumber>=0&&Z("/"+e+" "+Qe[e].objectNumber+" 0 R");Ue.publish("putXobjectDict"),Z(">>")}(),Z(">>"),Z("endobj")},At=function(){var e=[];(function(){for(var e in we)we.hasOwnProperty(e)&&(!1===h||!0===h&&A.hasOwnProperty(e))&&ot(we[e])})(),function(){var e;for(e in Ie)Ie.hasOwnProperty(e)&&ut(Ie[e])}(),function(){for(var e in Qe)Qe.hasOwnProperty(e)&&lt(Qe[e])}(),function(e){var t;for(t in _e)_e.hasOwnProperty(t)&&(_e[t]instanceof Le?ct(_e[t]):_e[t]instanceof Me&&dt(_e[t],e))}(e),Ue.publish("putResources"),e.forEach(ht),ht({resourcesOid:et,objectOid:Number.MAX_SAFE_INTEGER}),Ue.publish("postPutResources")},ft=function(e){je[e.fontName]=je[e.fontName]||{},je[e.fontName][e.fontStyle]=e.id},mt=function(e,t,n,r,s){var a={id:"F"+(Object.keys(we).length+1).toString(10),postScriptName:e,fontName:t,fontStyle:n,encoding:r,isStandardFont:s||!1,metadata:{}};return Ue.publish("addFont",{font:a,instance:this}),we[a.id]=a,ft(a),a.id},pt=f.__private__.pdfEscape=f.pdfEscape=function(e,t){return function(e,t){var n,r,s,a,i,o,l,c,d;if(s=(t=t||{}).sourceEncoding||"Unicode",i=t.outputEncoding,(t.autoencode||i)&&we[ge].metadata&&we[ge].metadata[s]&&we[ge].metadata[s].encoding&&(a=we[ge].metadata[s].encoding,!i&&we[ge].encoding&&(i=we[ge].encoding),!i&&a.codePages&&(i=a.codePages[0]),"string"==typeof i&&(i=a[i]),i)){for(l=!1,o=[],n=0,r=e.length;n<r;n++)(c=i[e.charCodeAt(n)])?o.push(String.fromCharCode(c)):o.push(e[n]),o[n].charCodeAt(0)>>8&&(l=!0);e=o.join("")}for(n=e.length;void 0===l&&0!==n;)e.charCodeAt(n-1)>>8&&(l=!0),n--;if(!l)return e;for(o=t.noBOM?[]:[254,255],n=0,r=e.length;n<r;n++){if((d=(c=e.charCodeAt(n))>>8)>>8)throw new Error("Character at position "+n+" of string '"+e+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");o.push(d),o.push(c-(d<<8))}return String.fromCharCode.apply(void 0,o)}(e,t).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},gt=f.__private__.beginPage=function(e){G[++Oe]=[],Pe[Oe]={objId:0,contentsObjId:0,userUnit:Number(l),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(e[0]),topRightY:Number(e[1])}},yt(Oe),X(G[R])},xt=function(e,t){var r,s,i;switch(n=t||n,"string"==typeof e&&(r=x(e.toLowerCase()),Array.isArray(r)&&(s=r[0],i=r[1])),Array.isArray(e)&&(s=e[0]*xe,i=e[1]*xe),isNaN(s)&&(s=a[0],i=a[1]),(s>14400||i>14400)&&(ne.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),s=Math.min(14400,s),i=Math.min(14400,i)),a=[s,i],n.substr(0,1)){case"l":i>s&&(a=[i,s]);break;case"p":s>i&&(a=[i,s])}gt(a),Zt(Jt),Z(on),0!==An&&Z(An+" J"),0!==fn&&Z(fn+" j"),Ue.publish("addPage",{pageNumber:Oe})},bt=function(e){e>0&&e<=Oe&&(G.splice(e,1),Pe.splice(e,1),Oe--,R>Oe&&(R=Oe),this.setPage(R))},yt=function(e){e>0&&e<=Oe&&(R=e)},vt=f.__private__.getNumberOfPages=f.getNumberOfPages=function(){return G.length-1},wt=function(e,t,n){var r,s=void 0;return n=n||{},e=void 0!==e?e:we[ge].fontName,t=void 0!==t?t:we[ge].fontStyle,r=e.toLowerCase(),void 0!==je[r]&&void 0!==je[r][t]?s=je[r][t]:void 0!==je[e]&&void 0!==je[e][t]?s=je[e][t]:!1===n.disableWarning&&ne.warn("Unable to look up font label for font '"+e+"', '"+t+"'. Refer to getFontList() for available fonts."),s||n.noFallback||null==(s=je.times[t])&&(s=je.times.normal),s},jt=f.__private__.putInfo=function(){var e=Ye(),t=function(e){return e};for(var n in null!==u&&(t=Mt.encryptor(e,0)),Z("<<"),Z("/Producer ("+pt(t("jsPDF "+Fe.version))+")"),pe)pe.hasOwnProperty(n)&&pe[n]&&Z("/"+n.substr(0,1).toUpperCase()+n.substr(1)+" ("+pt(t(pe[n]))+")");Z("/CreationDate ("+pt(t(M))+")"),Z(">>"),Z("endobj")},Nt=f.__private__.putCatalog=function(e){var t=(e=e||{}).rootDictionaryObjId||$e;switch(Ye(),Z("<<"),Z("/Type /Catalog"),Z("/Pages "+t+" 0 R"),ae||(ae="fullwidth"),ae){case"fullwidth":Z("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Z("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Z("/OpenAction [3 0 R /Fit]");break;case"original":Z("/OpenAction [3 0 R /XYZ null null 1]");break;default:var n=""+ae;"%"===n.substr(n.length-1)&&(ae=parseInt(ae)/100),"number"==typeof ae&&Z("/OpenAction [3 0 R /XYZ null null "+k(ae)+"]")}switch(Ae||(Ae="continuous"),Ae){case"continuous":Z("/PageLayout /OneColumn");break;case"single":Z("/PageLayout /SinglePage");break;case"two":case"twoleft":Z("/PageLayout /TwoColumnLeft");break;case"tworight":Z("/PageLayout /TwoColumnRight")}ue&&Z("/PageMode /"+ue),Ue.publish("putCatalog"),Z(">>"),Z("endobj")},_t=f.__private__.putTrailer=function(){Z("trailer"),Z("<<"),Z("/Size "+(H+1)),Z("/Root "+H+" 0 R"),Z("/Info "+(H-1)+" 0 R"),null!==u&&Z("/Encrypt "+Mt.oid+" 0 R"),Z("/ID [ <"+F+"> <"+F+"> ]"),Z(">>")},Ct=f.__private__.putHeader=function(){Z("%PDF-"+m),Z("%\xba\xdf\xac\xe0")},St=f.__private__.putXRef=function(){var e="0000000000";Z("xref"),Z("0 "+(H+1)),Z("0000000000 65535 f ");for(var t=1;t<=H;t++)"function"==typeof K[t]?Z((e+K[t]()).slice(-10)+" 00000 n "):void 0!==K[t]?Z((e+K[t]).slice(-10)+" 00000 n "):Z("0000000000 00000 n ")},kt=f.__private__.buildDocument=function(){H=0,V=0,W=[],K=[],q=[],$e=Je(),et=Je(),X(W),Ue.publish("buildDocument"),Ct(),it(),function(){Ue.publish("putAdditionalObjects");for(var e=0;e<q.length;e++){var t=q[e];Xe(t.objId,!0),Z(t.content),Z("endobj")}Ue.publish("postPutAdditionalObjects")}(),At(),null!==u&&(Mt.oid=Ye(),Z("<<"),Z("/Filter /Standard"),Z("/V "+Mt.v),Z("/R "+Mt.r),Z("/U <"+Mt.toHexString(Mt.U)+">"),Z("/O <"+Mt.toHexString(Mt.O)+">"),Z("/P "+Mt.P),Z(">>"),Z("endobj")),jt(),Nt();var e=V;return St(),_t(),Z("startxref"),Z(""+e),Z("%%EOF"),X(G[R]),W.join("\n")},Bt=f.__private__.getBlob=function(e){return new Blob([te(e)],{type:"application/pdf"})},Et=f.output=f.__private__.output=(Ge=function(e,t){switch("string"==typeof(t=t||{})?t={filename:t}:t.filename=t.filename||"generated.pdf",e){case void 0:return kt();case"save":f.save(t.filename);break;case"arraybuffer":return te(kt());case"blob":return Bt(kt());case"bloburi":case"bloburl":if(void 0!==ee.URL&&"function"==typeof ee.URL.createObjectURL)return ee.URL&&ee.URL.createObjectURL(Bt(kt()))||void 0;ne.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var n="",r=kt();try{n=oe(r)}catch(e){n=oe(unescape(encodeURIComponent(r)))}return"data:application/pdf;filename="+t.filename+";base64,"+n;case"pdfobjectnewwindow":if("[object Window]"===Object.prototype.toString.call(ee)){var s="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",a=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';t.pdfObjectUrl&&(s=t.pdfObjectUrl,a="");var i='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+s+'"'+a+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(t)+");<\/script></body></html>",o=ee.open();return null!==o&&o.document.write(i),o}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if("[object Window]"===Object.prototype.toString.call(ee)){var l='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(t.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+t.filename+'" width="500px" height="400px" /></body></html>',c=ee.open();if(null!==c){c.document.write(l);var d=this;c.document.documentElement.querySelector("#pdfViewer").onload=function(){c.document.title=t.filename,c.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(d.output("bloburl"))}}return c}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if("[object Window]"!==Object.prototype.toString.call(ee))throw new Error("The option dataurlnewwindow just works in a browser-environment.");var u='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",t)+'"></iframe></body></html>',h=ee.open();if(null!==h&&(h.document.write(u),h.document.title=t.filename),h||"undefined"==typeof safari)return h;break;case"datauri":case"dataurl":return ee.document.location.href=this.output("datauristring",t);default:return null}},Ge.foo=function(){try{return Ge.apply(this,arguments)}catch(Ge){var e=Ge.stack||"";~e.indexOf(" at ")&&(e=e.split(" at ")[1]);var t="Error in function "+e.split("\n")[0].split("<")[0]+": "+Ge.message;if(!ee.console)throw new Error(t);ee.console.error(t,Ge),ee.alert&&alert(t)}},Ge.foo.bar=Ge,Ge.foo),Lt=function(e){return!0===Array.isArray(Re)&&Re.indexOf(e)>-1};switch(s){case"pt":xe=1;break;case"mm":xe=72/25.4;break;case"cm":xe=72/2.54;break;case"in":xe=72;break;case"px":xe=1==Lt("px_scaling")?.75:96/72;break;case"pc":case"em":xe=12;break;case"ex":xe=6;break;default:if("number"!=typeof s)throw new Error("Invalid unit: "+s);xe=s}var Mt=null;P(),D();var Ft=f.__private__.getPageInfo=f.getPageInfo=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Pe[e].objId,pageNumber:e,pageContext:Pe[e]}},It=f.__private__.getPageInfoByObjId=function(e){if(isNaN(e)||e%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var t in Pe)if(Pe[t].objId===e)break;return Ft(t)},Dt=f.__private__.getCurrentPageInfo=f.getCurrentPageInfo=function(){return{objId:Pe[R].objId,pageNumber:R,pageContext:Pe[R]}};f.addPage=function(){return xt.apply(this,arguments),this},f.setPage=function(){return yt.apply(this,arguments),X.call(this,G[R]),this},f.insertPage=function(e){return this.addPage(),this.movePage(R,e),this},f.movePage=function(e,t){var n,r;if(e>t){n=G[e],r=Pe[e];for(var s=e;s>t;s--)G[s]=G[s-1],Pe[s]=Pe[s-1];G[t]=n,Pe[t]=r,this.setPage(t)}else if(e<t){n=G[e],r=Pe[e];for(var a=e;a<t;a++)G[a]=G[a+1],Pe[a]=Pe[a+1];G[t]=n,Pe[t]=r,this.setPage(t)}return this},f.deletePage=function(){return bt.apply(this,arguments),this},f.__private__.text=f.text=function(e,t,n,s,a){var i,o,l,c,d,u,h,f,m,p=(s=s||{}).scope||this;if("number"==typeof e&&"number"==typeof t&&("string"==typeof n||Array.isArray(n))){var g=n;n=t,t=e,e=g}if(arguments[3]instanceof Ke==0?(l=arguments[4],c=arguments[5],"object"===(0,r.A)(h=arguments[3])&&null!==h||("string"==typeof l&&(c=l,l=null),"string"==typeof h&&(c=h,h=null),"number"==typeof h&&(l=h,h=null),s={flags:h,angle:l,align:c})):(C("The transform parameter of text() with a Matrix value"),m=a),isNaN(t)||isNaN(n)||null==e)throw new Error("Invalid arguments passed to jsPDF.text");if(0===e.length)return p;var x,b="",w="number"==typeof s.lineHeightFactor?s.lineHeightFactor:Yt,j=p.internal.scaleFactor;function N(e){return e=e.split("\t").join(Array(s.TabLen||9).join(" ")),pt(e,h)}function S(e){for(var t,n=e.concat(),r=[],s=n.length;s--;)"string"==typeof(t=n.shift())?r.push(t):Array.isArray(e)&&(1===t.length||void 0===t[1]&&void 0===t[2])?r.push(t[0]):r.push([t[0],t[1],t[2]]);return r}function k(e,t){var n;if("string"==typeof e)n=t(e)[0];else if(Array.isArray(e)){for(var r,s,a=e.concat(),i=[],o=a.length;o--;)"string"==typeof(r=a.shift())?i.push(t(r)[0]):Array.isArray(r)&&"string"==typeof r[0]&&(s=t(r[0],r[1],r[2]),i.push([s[0],s[1],s[2]]));n=i}return n}var B=!1,L=!0;if("string"==typeof e)B=!0;else if(Array.isArray(e)){var M=e.concat();o=[];for(var F,I=M.length;I--;)("string"!=typeof(F=M.shift())||Array.isArray(F)&&"string"!=typeof F[0])&&(L=!1);B=L}if(!1===B)throw new Error('Type of text must be string or Array. "'+e+'" is not recognized.');"string"==typeof e&&(e=e.match(/[\r?\n]/)?e.split(/\r\n|\r|\n/g):[e]);var D=se/p.internal.scaleFactor,T=D*(w-1);switch(s.baseline){case"bottom":n-=T;break;case"top":n+=D-T;break;case"hanging":n+=D-2*T;break;case"middle":n+=D/2-T}if((u=s.maxWidth||0)>0&&("string"==typeof e?e=p.splitTextToSize(e,u):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(p.splitTextToSize(t,u))},[]))),i={text:e,x:t,y:n,options:s,mutex:{pdfEscape:pt,activeFontKey:ge,fonts:we,activeFontSize:se}},Ue.publish("preProcessText",i),e=i.text,l=(s=i.options).angle,m instanceof Ke==0&&l&&"number"==typeof l){l*=Math.PI/180,0===s.rotationDirection&&(l=-l),v===y&&(l=-l);var O=Math.cos(l),P=Math.sin(l);m=new Ke(O,P,-P,O,0,0)}else l&&l instanceof Ke&&(m=l);v!==y||m||(m=Ve),void 0!==(d=s.charSpace||un)&&(b+=_(E(d))+" Tc\n",this.setCharSpace(this.getCharSpace()||0)),void 0!==(f=s.horizontalScale)&&(b+=_(100*f)+" Tz\n"),s.lang;var U=-1,R=void 0!==s.renderingMode?s.renderingMode:s.stroke,Q=p.internal.getCurrentPageInfo().pageContext;switch(R){case 0:case!1:case"fill":U=0;break;case 1:case!0:case"stroke":U=1;break;case 2:case"fillThenStroke":U=2;break;case 3:case"invisible":U=3;break;case 4:case"fillAndAddForClipping":U=4;break;case 5:case"strokeAndAddPathForClipping":U=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":U=6;break;case 7:case"addToPathForClipping":U=7}var z=void 0!==Q.usedRenderingMode?Q.usedRenderingMode:-1;-1!==U?b+=U+" Tr\n":-1!==z&&(b+="0 Tr\n"),-1!==U&&(Q.usedRenderingMode=U),c=s.align||"left";var H,K=se*w,W=p.internal.pageSize.getWidth(),V=we[ge];d=s.charSpace||un,u=s.maxWidth||0,h=Object.assign({autoencode:!0,noBOM:!0},s.flags);var q=[],G=function(e){return p.getStringUnitWidth(e,{font:V,charSpace:d,fontSize:se,doKerning:!1})*se/j};if("[object Array]"===Object.prototype.toString.call(e)){var Y;o=S(e),"left"!==c&&(H=o.map(G));var J,X=0;if("right"===c){t-=H[0],e=[],I=o.length;for(var $=0;$<I;$++)0===$?(J=nn(t),Y=rn(n)):(J=E(X-H[$]),Y=-K),e.push([o[$],J,Y]),X=H[$]}else if("center"===c){t-=H[0]/2,e=[],I=o.length;for(var ee=0;ee<I;ee++)0===ee?(J=nn(t),Y=rn(n)):(J=E((X-H[ee])/2),Y=-K),e.push([o[ee],J,Y]),X=H[ee]}else if("left"===c){e=[],I=o.length;for(var te=0;te<I;te++)e.push(o[te])}else if("justify"===c&&"Identity-H"===V.encoding){e=[],I=o.length,u=0!==u?u:W;for(var ne=0,re=0;re<I;re++)if(Y=0===re?rn(n):-K,J=0===re?nn(t):ne,re<I-1){var ae=E((u-H[re])/(o[re].split(" ").length-1)),ie=o[re].split(" ");e.push([ie[0]+" ",J,Y]),ne=0;for(var oe=1;oe<ie.length;oe++){var le=(G(ie[oe-1]+" "+ie[oe])-G(ie[oe]))*j+ae;oe==ie.length-1?e.push([ie[oe],le,0]):e.push([ie[oe]+" ",le,0]),ne-=le}}else e.push([o[re],J,Y]);e.push(["",ne,0])}else{if("justify"!==c)throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(e=[],I=o.length,u=0!==u?u:W,re=0;re<I;re++)Y=0===re?rn(n):-K,J=0===re?nn(t):0,re<I-1?q.push(_(E((u-H[re])/(o[re].split(" ").length-1)))):q.push(0),e.push([o[re],J,Y])}}!0===("boolean"==typeof s.R2L?s.R2L:de)&&(e=k(e,function(e,t,n){return[e.split("").reverse().join(""),t,n]})),i={text:e,x:t,y:n,options:s,mutex:{pdfEscape:pt,activeFontKey:ge,fonts:we,activeFontSize:se}},Ue.publish("postProcessText",i),e=i.text,x=i.mutex.isHex||!1;var ce=we[ge].encoding;"WinAnsiEncoding"!==ce&&"StandardEncoding"!==ce||(e=k(e,function(e,t,n){return[N(e),t,n]})),o=S(e),e=[];for(var ue,he,Ae,fe=Array.isArray(o[0])?1:0,me="",pe=function(e,t,n){var r="";return n instanceof Ke?(n="number"==typeof s.angle?We(n,new Ke(1,0,0,1,e,t)):We(new Ke(1,0,0,1,e,t),n),v===y&&(n=We(new Ke(1,0,0,-1,0,0),n)),r=n.join(" ")+" Tm\n"):r=_(e)+" "+_(t)+" Td\n",r},xe=0;xe<o.length;xe++){switch(me="",fe){case 1:Ae=(x?"<":"(")+o[xe][0]+(x?">":")"),ue=parseFloat(o[xe][1]),he=parseFloat(o[xe][2]);break;case 0:Ae=(x?"<":"(")+o[xe]+(x?">":")"),ue=nn(t),he=rn(n)}void 0!==q&&void 0!==q[xe]&&(me=q[xe]+" Tw\n"),0===xe?e.push(me+pe(ue,he,m)+Ae):0===fe?e.push(me+Ae):1===fe&&e.push(me+pe(ue,he,m)+Ae)}e=0===fe?e.join(" Tj\nT* "):e.join(" Tj\n"),e+=" Tj\n";var be="BT\n/";return be+=ge+" "+se+" Tf\n",be+=_(se*w)+" TL\n",be+=cn+"\n",be+=b,be+=e,Z(be+="ET"),A[ge]=!0,p};var Tt=f.__private__.clip=f.clip=function(e){return Z("evenodd"===e?"W*":"W"),this};f.clipEvenOdd=function(){return Tt("evenodd")},f.__private__.discardPath=f.discardPath=function(){return Z("n"),this};var Ot=f.__private__.isValidStyle=function(e){var t=!1;return-1!==[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(e)&&(t=!0),t};f.__private__.setDefaultPathOperation=f.setDefaultPathOperation=function(e){return Ot(e)&&(d=e),this};var Pt=f.__private__.getStyle=f.getStyle=function(e){var t=d;switch(e){case"D":case"S":t="S";break;case"F":t="f";break;case"FD":case"DF":t="B";break;case"f":case"f*":case"B":case"B*":t=e}return t},Ut=f.close=function(){return Z("h"),this};f.stroke=function(){return Z("S"),this},f.fill=function(e){return Rt("f",e),this},f.fillEvenOdd=function(e){return Rt("f*",e),this},f.fillStroke=function(e){return Rt("B",e),this},f.fillStrokeEvenOdd=function(e){return Rt("B*",e),this};var Rt=function(e,t){"object"===(0,r.A)(t)?Ht(t,e):Z(e)},Qt=function(e){null===e||v===y&&void 0===e||(e=Pt(e),Z(e))};function zt(e,t,n,r,s){var a=new Me(t||this.boundingBox,n||this.xStep,r||this.yStep,this.gState,s||this.matrix);a.stream=this.stream;var i=e+"$$"+this.cloneIndex+++"$$";return qe(i,a),a}var Ht=function(e,t){var n=Ee[e.key],r=_e[n];if(r instanceof Le)Z("q"),Z(Kt(t)),r.gState&&f.setGState(r.gState),Z(e.matrix.toString()+" cm"),Z("/"+n+" sh"),Z("Q");else if(r instanceof Me){var s=new Ke(1,0,0,-1,0,jn());e.matrix&&(s=s.multiply(e.matrix||Ve),n=zt.call(r,e.key,e.boundingBox,e.xStep,e.yStep,s).id),Z("q"),Z("/Pattern cs"),Z("/"+n+" scn"),r.gState&&f.setGState(r.gState),Z(t),Z("Q")}},Kt=function(e){switch(e){case"f":case"F":case"n":return"W n";case"f*":return"W* n";case"B":case"S":return"W S";case"B*":return"W* S"}},Wt=f.moveTo=function(e,t){return Z(_(E(e))+" "+_(L(t))+" m"),this},Vt=f.lineTo=function(e,t){return Z(_(E(e))+" "+_(L(t))+" l"),this},qt=f.curveTo=function(e,t,n,r,s,a){return Z([_(E(e)),_(L(t)),_(E(n)),_(L(r)),_(E(s)),_(L(a)),"c"].join(" ")),this};f.__private__.line=f.line=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Ot(s))throw new Error("Invalid arguments passed to jsPDF.line");return v===b?this.lines([[n-e,r-t]],e,t,[1,1],s||"S"):this.lines([[n-e,r-t]],e,t,[1,1]).stroke()},f.__private__.lines=f.lines=function(e,t,n,r,s,a){var i,o,l,c,d,u,h,A,f,m,p,g;if("number"==typeof e&&(g=n,n=t,t=e,e=g),r=r||[1,1],a=a||!1,isNaN(t)||isNaN(n)||!Array.isArray(e)||!Array.isArray(r)||!Ot(s)||"boolean"!=typeof a)throw new Error("Invalid arguments passed to jsPDF.lines");for(Wt(t,n),i=r[0],o=r[1],c=e.length,m=t,p=n,l=0;l<c;l++)2===(d=e[l]).length?(m=d[0]*i+m,p=d[1]*o+p,Vt(m,p)):(u=d[0]*i+m,h=d[1]*o+p,A=d[2]*i+m,f=d[3]*o+p,m=d[4]*i+m,p=d[5]*o+p,qt(u,h,A,f,m,p));return a&&Ut(),Qt(s),this},f.path=function(e){for(var t=0;t<e.length;t++){var n=e[t],r=n.c;switch(n.op){case"m":Wt(r[0],r[1]);break;case"l":Vt(r[0],r[1]);break;case"c":qt.apply(this,r);break;case"h":Ut()}}return this},f.__private__.rect=f.rect=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Ot(s))throw new Error("Invalid arguments passed to jsPDF.rect");return v===b&&(r=-r),Z([_(E(e)),_(L(t)),_(E(n)),_(E(r)),"re"].join(" ")),Qt(s),this},f.__private__.triangle=f.triangle=function(e,t,n,r,s,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(a)||!Ot(i))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[n-e,r-t],[s-n,a-r],[e-s,t-a]],e,t,[1,1],i,!0),this},f.__private__.roundedRect=f.roundedRect=function(e,t,n,r,s,a,i){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(a)||!Ot(i))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var o=4/3*(Math.SQRT2-1);return s=Math.min(s,.5*n),a=Math.min(a,.5*r),this.lines([[n-2*s,0],[s*o,0,s,a-a*o,s,a],[0,r-2*a],[0,a*o,-s*o,a,-s,a],[2*s-n,0],[-s*o,0,-s,-a*o,-s,-a],[0,2*a-r],[0,-a*o,s*o,-a,s,-a]],e+s,t,[1,1],i,!0),this},f.__private__.ellipse=f.ellipse=function(e,t,n,r,s){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||!Ot(s))throw new Error("Invalid arguments passed to jsPDF.ellipse");var a=4/3*(Math.SQRT2-1)*n,i=4/3*(Math.SQRT2-1)*r;return Wt(e+n,t),qt(e+n,t-i,e+a,t-r,e,t-r),qt(e-a,t-r,e-n,t-i,e-n,t),qt(e-n,t+i,e-a,t+r,e,t+r),qt(e+a,t+r,e+n,t+i,e+n,t),Qt(s),this},f.__private__.circle=f.circle=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||!Ot(r))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(e,t,n,n,r)},f.setFont=function(e,t,n){return n&&(t=N(t,n)),ge=wt(e,t,{disableWarning:!1}),this};var Gt=f.__private__.getFont=f.getFont=function(){return we[wt.apply(f,arguments)]};f.__private__.getFontList=f.getFontList=function(){var e,t,n={};for(e in je)if(je.hasOwnProperty(e))for(t in n[e]=[],je[e])je[e].hasOwnProperty(t)&&n[e].push(t);return n},f.addFont=function(e,t,n,r,s){var a=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&-1!==a.indexOf(arguments[3])?s=arguments[3]:arguments[3]&&-1==a.indexOf(arguments[3])&&(n=N(n,r)),mt.call(this,e,t,n,s=s||"Identity-H")};var Yt,Jt=e.lineWidth||.200025,Xt=f.__private__.getLineWidth=f.getLineWidth=function(){return Jt},Zt=f.__private__.setLineWidth=f.setLineWidth=function(e){return Jt=e,Z(_(E(e))+" w"),this};f.__private__.setLineDash=Fe.API.setLineDash=Fe.API.setLineDashPattern=function(e,t){if(e=e||[],t=t||0,isNaN(t)||!Array.isArray(e))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return e=e.map(function(e){return _(E(e))}).join(" "),t=_(E(t)),Z("["+e+"] "+t+" d"),this};var $t=f.__private__.getLineHeight=f.getLineHeight=function(){return se*Yt};f.__private__.getLineHeight=f.getLineHeight=function(){return se*Yt};var en=f.__private__.setLineHeightFactor=f.setLineHeightFactor=function(e){return"number"==typeof(e=e||1.15)&&(Yt=e),this},tn=f.__private__.getLineHeightFactor=f.getLineHeightFactor=function(){return Yt};en(e.lineHeight);var nn=f.__private__.getHorizontalCoordinate=function(e){return E(e)},rn=f.__private__.getVerticalCoordinate=function(e){return v===y?e:Pe[R].mediaBox.topRightY-Pe[R].mediaBox.bottomLeftY-E(e)},sn=f.__private__.getHorizontalCoordinateString=f.getHorizontalCoordinateString=function(e){return _(nn(e))},an=f.__private__.getVerticalCoordinateString=f.getVerticalCoordinateString=function(e){return _(rn(e))},on=e.strokeColor||"0 G";f.__private__.getStrokeColor=f.getDrawColor=function(){return tt(on)},f.__private__.setStrokeColor=f.setDrawColor=function(e,t,n,r){return on=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"draw",precision:2}),Z(on),this};var ln=e.fillColor||"0 g";f.__private__.getFillColor=f.getFillColor=function(){return tt(ln)},f.__private__.setFillColor=f.setFillColor=function(e,t,n,r){return ln=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"fill",precision:2}),Z(ln),this};var cn=e.textColor||"0 g",dn=f.__private__.getTextColor=f.getTextColor=function(){return tt(cn)};f.__private__.setTextColor=f.setTextColor=function(e,t,n,r){return cn=nt({ch1:e,ch2:t,ch3:n,ch4:r,pdfColorType:"text",precision:3}),this};var un=e.charSpace,hn=f.__private__.getCharSpace=f.getCharSpace=function(){return parseFloat(un||0)};f.__private__.setCharSpace=f.setCharSpace=function(e){if(isNaN(e))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return un=e,this};var An=0;f.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},f.__private__.setLineCap=f.setLineCap=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line cap style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return An=t,Z(t+" J"),this};var fn=0;f.__private__.setLineJoin=f.setLineJoin=function(e){var t=f.CapJoinStyles[e];if(void 0===t)throw new Error("Line join style of '"+e+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return fn=t,Z(t+" j"),this},f.__private__.setLineMiterLimit=f.__private__.setMiterLimit=f.setLineMiterLimit=f.setMiterLimit=function(e){if(e=e||0,isNaN(e))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Z(_(E(e))+" M"),this},f.GState=Be,f.setGState=function(e){(e="string"==typeof e?Ie[De[e]]:mn(null,e)).equals(Te)||(Z("/"+e.id+" gs"),Te=e)};var mn=function(e,t){if(!e||!De[e]){var n=!1;for(var r in Ie)if(Ie.hasOwnProperty(r)&&Ie[r].equals(t)){n=!0;break}if(n)t=Ie[r];else{var s="GS"+(Object.keys(Ie).length+1).toString(10);Ie[s]=t,t.id=s}return e&&(De[e]=t.id),Ue.publish("addGState",t),t}};f.addGState=function(e,t){return mn(e,t),this},f.saveGraphicsState=function(){return Z("q"),Ne.push({key:ge,size:se,color:cn}),this},f.restoreGraphicsState=function(){Z("Q");var e=Ne.pop();return ge=e.key,se=e.size,cn=e.color,Te=null,this},f.setCurrentTransformationMatrix=function(e){return Z(e.toString()+" cm"),this},f.comment=function(e){return Z("#"+e),this};var pn=function(e,t){var n=e||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return n},set:function(e){isNaN(e)||(n=parseFloat(e))}});var r=t||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return r},set:function(e){isNaN(e)||(r=parseFloat(e))}});var s="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return s},set:function(e){s=e.toString()}}),this},gn=function(e,t,n,r){pn.call(this,e,t),this.type="rect";var s=n||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return s},set:function(e){isNaN(e)||(s=parseFloat(e))}});var a=r||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return a},set:function(e){isNaN(e)||(a=parseFloat(e))}}),this},xn=function(){this.page=Oe,this.currentPage=R,this.pages=G.slice(0),this.pagesContext=Pe.slice(0),this.x=be,this.y=ye,this.matrix=ve,this.width=vn(R),this.height=jn(R),this.outputDestination=J,this.id="",this.objectNumber=-1};xn.prototype.restore=function(){Oe=this.page,R=this.currentPage,Pe=this.pagesContext,G=this.pages,be=this.x,ye=this.y,ve=this.matrix,wn(R,this.width),Nn(R,this.height),J=this.outputDestination};var bn=function(e,t,n,r,s){He.push(new xn),Oe=R=0,G=[],be=e,ye=t,ve=s,gt([n,r])};for(var yn in f.beginFormObject=function(e,t,n,r,s){return bn(e,t,n,r,s),this},f.endFormObject=function(e){return function(e){if(ze[e])He.pop().restore();else{var t=new xn,n="Xo"+(Object.keys(Qe).length+1).toString(10);t.id=n,ze[e]=n,Qe[n]=t,Ue.publish("addFormObject",t),He.pop().restore()}}(e),this},f.doFormObject=function(e,t){var n=Qe[ze[e]];return Z("q"),Z(t.toString()+" cm"),Z("/"+n.id+" Do"),Z("Q"),this},f.getFormObject=function(e){var t=Qe[ze[e]];return{x:t.x,y:t.y,width:t.width,height:t.height,matrix:t.matrix}},f.save=function(e,t){return e=e||"generated.pdf",(t=t||{}).returnPromise=t.returnPromise||!1,!1===t.returnPromise?(le(Bt(kt()),e),"function"==typeof le.unload&&ee.setTimeout&&setTimeout(le.unload,911),this):new Promise(function(t,n){try{var r=le(Bt(kt()),e);"function"==typeof le.unload&&ee.setTimeout&&setTimeout(le.unload,911),t(r)}catch(e){n(e.message)}})},Fe.API)Fe.API.hasOwnProperty(yn)&&("events"===yn&&Fe.API.events.length?function(e,t){var n,r,s;for(s=t.length-1;-1!==s;s--)n=t[s][0],r=t[s][1],e.subscribe.apply(e,[n].concat("function"==typeof r?[r]:r))}(Ue,Fe.API.events):f[yn]=Fe.API[yn]);var vn=f.getPageWidth=function(e){return(Pe[e=e||R].mediaBox.topRightX-Pe[e].mediaBox.bottomLeftX)/xe},wn=f.setPageWidth=function(e,t){Pe[e].mediaBox.topRightX=t*xe+Pe[e].mediaBox.bottomLeftX},jn=f.getPageHeight=function(e){return(Pe[e=e||R].mediaBox.topRightY-Pe[e].mediaBox.bottomLeftY)/xe},Nn=f.setPageHeight=function(e,t){Pe[e].mediaBox.topRightY=t*xe+Pe[e].mediaBox.bottomLeftY};return f.internal={pdfEscape:pt,getStyle:Pt,getFont:Gt,getFontSize:ie,getCharSpace:hn,getTextColor:dn,getLineHeight:$t,getLineHeightFactor:tn,getLineWidth:Xt,write:$,getHorizontalCoordinate:nn,getVerticalCoordinate:rn,getCoordinateString:sn,getVerticalCoordinateString:an,collections:{},newObject:Ye,newAdditionalObject:Ze,newObjectDeferred:Je,newObjectDeferredBegin:Xe,getFilters:rt,putStream:st,events:Ue,scaleFactor:xe,pageSize:{getWidth:function(){return vn(R)},setWidth:function(e){wn(R,e)},getHeight:function(){return jn(R)},setHeight:function(e){Nn(R,e)}},encryptionOptions:u,encryption:Mt,getEncryptor:function(e){return null!==u?Mt.encryptor(e,0):function(e){return e}},output:Et,getNumberOfPages:vt,pages:G,out:Z,f2:k,f3:B,getPageInfo:Ft,getPageInfoByObjId:It,getCurrentPageInfo:Dt,getPDFVersion:p,Point:pn,Rectangle:gn,Matrix:Ke,hasHotfix:Lt},Object.defineProperty(f.internal.pageSize,"width",{get:function(){return vn(R)},set:function(e){wn(R,e)},enumerable:!0,configurable:!0}),Object.defineProperty(f.internal.pageSize,"height",{get:function(){return jn(R)},set:function(e){Nn(R,e)},enumerable:!0,configurable:!0}),function(e){for(var t=0,n=re.length;t<n;t++){var r=mt.call(this,e[t][0],e[t][1],e[t][2],re[t][3],!0);!1===h&&(A[r]=!0);var s=e[t][0].split("-");ft({id:r,fontName:s[0],fontStyle:s[1]||""})}Ue.publish("addFonts",{fonts:we,dictionary:je})}.call(f,re),ge="F1",xt(a,n),Ue.publish("initialized"),f}Ce.prototype.lsbFirstWord=function(e){return String.fromCharCode(255&e,e>>8&255,e>>16&255,e>>24&255)},Ce.prototype.toHexString=function(e){return e.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ce.prototype.hexToBytes=function(e){for(var t=[],n=0;n<e.length;n+=2)t.push(String.fromCharCode(parseInt(e.substr(n,2),16)));return t.join("")},Ce.prototype.processOwnerPassword=function(e,t){return Ne(ve(t).substr(0,5),e)},Ce.prototype.encryptor=function(e,t){var n=ve(this.encryptionKey+String.fromCharCode(255&e,e>>8&255,e>>16&255,255&t,t>>8&255)).substr(0,10);return function(e){return Ne(n,e)}},Be.prototype.equals=function(e){var t,n="id,objectNumber,equals";if(!e||(0,r.A)(e)!==(0,r.A)(this))return!1;var s=0;for(t in this)if(!(n.indexOf(t)>=0)){if(this.hasOwnProperty(t)&&!e.hasOwnProperty(t))return!1;if(this[t]!==e[t])return!1;s++}for(t in e)e.hasOwnProperty(t)&&n.indexOf(t)<0&&s--;return 0===s},Fe.API={events:[]},Fe.version="2.5.2";var Ie=Fe.API,De=1,Te=function(e){return e.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Oe=function(e){return e.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Pe=function(e){return e.toFixed(2)},Ue=function(e){return e.toFixed(5)};Ie.__acroform__={};var Re=function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e},Qe=function(e){return e*De},ze=function(e){var t=new at,n=bt.internal.getHeight(e)||0,r=bt.internal.getWidth(e)||0;return t.BBox=[0,0,Number(Pe(r)),Number(Pe(n))],t},He=Ie.__acroform__.setBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return e|1<<t},Ke=Ie.__acroform__.clearBit=function(e,t){if(e=e||0,t=t||0,isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return e&~(1<<t)},We=Ie.__acroform__.getBit=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return 0==(e&1<<t)?0:1},Ve=Ie.__acroform__.getBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return We(e,t-1)},qe=Ie.__acroform__.setBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return He(e,t-1)},Ge=Ie.__acroform__.clearBitForPdf=function(e,t){if(isNaN(e)||isNaN(t))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Ke(e,t-1)},Ye=Ie.__acroform__.calculateCoordinates=function(e,t){var n=t.internal.getHorizontalCoordinate,r=t.internal.getVerticalCoordinate,s=e[0],a=e[1],i=e[2],o=e[3],l={};return l.lowerLeft_X=n(s)||0,l.lowerLeft_Y=r(a+o)||0,l.upperRight_X=n(s+i)||0,l.upperRight_Y=r(a)||0,[Number(Pe(l.lowerLeft_X)),Number(Pe(l.lowerLeft_Y)),Number(Pe(l.upperRight_X)),Number(Pe(l.upperRight_Y))]},Je=function(e){if(e.appearanceStreamContent)return e.appearanceStreamContent;if(e.V||e.DV){var t=[],n=e._V||e.DV,r=Xe(e,n),s=e.scope.internal.getFont(e.fontName,e.fontStyle).id;t.push("/Tx BMC"),t.push("q"),t.push("BT"),t.push(e.scope.__private__.encodeColorString(e.color)),t.push("/"+s+" "+Pe(r.fontSize)+" Tf"),t.push("1 0 0 1 0 0 Tm"),t.push(r.text),t.push("ET"),t.push("Q"),t.push("EMC");var a=ze(e);return a.scope=e.scope,a.stream=t.join("\n"),a}},Xe=function(e,t){var n=0===e.fontSize?e.maxFontSize:e.fontSize,r={text:"",fontSize:""},s=(t=")"==(t="("==t.substr(0,1)?t.substr(1):t).substr(t.length-1)?t.substr(0,t.length-1):t).split(" ");s=e.multiline?s.map(function(e){return e.split("\n")}):s.map(function(e){return[e]});var a=n,i=bt.internal.getHeight(e)||0;i=i<0?-i:i;var o=bt.internal.getWidth(e)||0;o=o<0?-o:o;var l=function(t,n,r){if(t+1<s.length){var a=n+" "+s[t+1][0];return Ze(a,e,r).width<=o-4}return!1};a++;e:for(;a>0;){t="",a--;var c,d,u=Ze("3",e,a).height,h=e.multiline?i-a:(i-u)/2,A=h+=2,f=0,m=0,p=0;if(a<=0){t="(...) Tj\n",t+="% Width of Text: "+Ze(t,e,a=12).width+", FieldWidth:"+o+"\n";break}for(var g="",x=0,b=0;b<s.length;b++)if(s.hasOwnProperty(b)){var y=!1;if(1!==s[b].length&&p!==s[b].length-1){if((u+2)*(x+2)+2>i)continue e;g+=s[b][p],y=!0,m=b,b--}else{g=" "==(g+=s[b][p]+" ").substr(g.length-1)?g.substr(0,g.length-1):g;var v=parseInt(b),w=l(v,g,a),j=b>=s.length-1;if(w&&!j){g+=" ",p=0;continue}if(w||j){if(j)m=v;else if(e.multiline&&(u+2)*(x+2)+2>i)continue e}else{if(!e.multiline)continue e;if((u+2)*(x+2)+2>i)continue e;m=v}}for(var N="",_=f;_<=m;_++){var C=s[_];if(e.multiline){if(_===m){N+=C[p]+" ",p=(p+1)%C.length;continue}if(_===f){N+=C[C.length-1]+" ";continue}}N+=C[0]+" "}switch(N=" "==N.substr(N.length-1)?N.substr(0,N.length-1):N,d=Ze(N,e,a).width,e.textAlign){case"right":c=o-d-2;break;case"center":c=(o-d)/2;break;default:c=2}t+=Pe(c)+" "+Pe(A)+" Td\n",t+="("+Te(N)+") Tj\n",t+=-Pe(c)+" 0 Td\n",A=-(a+2),d=0,f=y?m:m+1,x++,g=""}break}return r.text=t,r.fontSize=a,r},Ze=function(e,t,n){var r=t.scope.internal.getFont(t.fontName,t.fontStyle),s=t.scope.getStringUnitWidth(e,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:t.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:s}},$e={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},et=function(e,t){var n={type:"reference",object:e};void 0===t.internal.getPageInfo(e.page).pageContext.annotations.find(function(e){return e.type===n.type&&e.object===n.object})&&t.internal.getPageInfo(e.page).pageContext.annotations.push(n)},tt=function(e,t){if(t.scope=e,void 0!==e.internal&&(void 0===e.internal.acroformPlugin||!1===e.internal.acroformPlugin.isInitialized)){if(ot.FieldNum=0,e.internal.acroformPlugin=JSON.parse(JSON.stringify($e)),e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");De=e.internal.scaleFactor,e.internal.acroformPlugin.acroFormDictionaryRoot=new it,e.internal.acroformPlugin.acroFormDictionaryRoot.scope=e,e.internal.acroformPlugin.acroFormDictionaryRoot._eventID=e.internal.events.subscribe("postPutResources",function(){var t;(t=e).internal.events.unsubscribe(t.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete t.internal.acroformPlugin.acroFormDictionaryRoot._eventID,t.internal.acroformPlugin.printedOut=!0}),e.internal.events.subscribe("buildDocument",function(){!function(e){e.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var t=e.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var n in t)if(t.hasOwnProperty(n)){var r=t[n];r.objId=void 0,r.hasAnnotation&&et(r,e)}}(e)}),e.internal.events.subscribe("putCatalog",function(){!function(e){if(void 0===e.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("putCatalogCallback: Root missing.");e.internal.write("/AcroForm "+e.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")}(e)}),e.internal.events.subscribe("postPutPages",function(t){!function(e,t){var n=!e;for(var s in e||(t.internal.newObjectDeferredBegin(t.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),t.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),e=e||t.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(e.hasOwnProperty(s)){var a=e[s],i=[],o=a.Rect;if(a.Rect&&(a.Rect=Ye(a.Rect,t)),t.internal.newObjectDeferredBegin(a.objId,!0),a.DA=bt.createDefaultAppearanceStream(a),"object"===(0,r.A)(a)&&"function"==typeof a.getKeyValueListForStream&&(i=a.getKeyValueListForStream()),a.Rect=o,a.hasAppearanceStream&&!a.appearanceStreamContent){var l=Je(a);i.push({key:"AP",value:"<</N "+l+">>"}),t.internal.acroformPlugin.xForms.push(l)}if(a.appearanceStreamContent){var c="";for(var d in a.appearanceStreamContent)if(a.appearanceStreamContent.hasOwnProperty(d)){var u=a.appearanceStreamContent[d];if(c+="/"+d+" ",c+="<<",Object.keys(u).length>=1||Array.isArray(u)){for(var s in u)if(u.hasOwnProperty(s)){var h=u[s];"function"==typeof h&&(h=h.call(t,a)),c+="/"+s+" "+h+" ",t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h)}}else"function"==typeof(h=u)&&(h=h.call(t,a)),c+="/"+s+" "+h,t.internal.acroformPlugin.xForms.indexOf(h)>=0||t.internal.acroformPlugin.xForms.push(h);c+=">>"}i.push({key:"AP",value:"<<\n"+c+">>"})}t.internal.putStream({additionalKeyValues:i,objectId:a.objId}),t.internal.out("endobj")}n&&function(e,t){for(var n in e)if(e.hasOwnProperty(n)){var s=n,a=e[n];t.internal.newObjectDeferredBegin(a.objId,!0),"object"===(0,r.A)(a)&&"function"==typeof a.putStream&&a.putStream(),delete e[s]}}(t.internal.acroformPlugin.xForms,t)}(t,e)}),e.internal.acroformPlugin.isInitialized=!0}},nt=Ie.__acroform__.arrayToPdfArray=function(e,t,n){var s=function(e){return e};if(Array.isArray(e)){for(var a="[",i=0;i<e.length;i++)switch(0!==i&&(a+=" "),(0,r.A)(e[i])){case"boolean":case"number":case"object":a+=e[i].toString();break;case"string":"/"!==e[i].substr(0,1)?(void 0!==t&&n&&(s=n.internal.getEncryptor(t)),a+="("+Te(s(e[i].toString()))+")"):a+=e[i].toString()}return a+"]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},rt=function(e,t,n){var r=function(e){return e};return void 0!==t&&n&&(r=n.internal.getEncryptor(t)),(e=e||"").toString(),"("+Te(r(e))+")"},st=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(void 0===this._objId){if(void 0===this.scope)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(e){this._objId=e}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};st.prototype.toString=function(){return this.objId+" 0 R"},st.prototype.putStream=function(){var e=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:e,objectId:this.objId}),this.scope.internal.out("endobj")},st.prototype.getKeyValueListForStream=function(){var e=[],t=Object.getOwnPropertyNames(this).filter(function(e){return"content"!=e&&"appearanceStreamContent"!=e&&"scope"!=e&&"objId"!=e&&"_"!=e.substring(0,1)});for(var n in t)if(!1===Object.getOwnPropertyDescriptor(this,t[n]).configurable){var r=t[n],s=this[r];s&&(Array.isArray(s)?e.push({key:r,value:nt(s,this.objId,this.scope)}):s instanceof st?(s.scope=this.scope,e.push({key:r,value:s.objId+" 0 R"})):"function"!=typeof s&&e.push({key:r,value:s}))}return e};var at=function(){st.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var e,t=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(t){e=t.trim()},get:function(){return e||null}})};Re(at,st);var it=function(){st.call(this);var e,t=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return t.length>0?t:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return t}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(e){var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Te(t(e))+")"}},set:function(t){e=t}})};Re(it,st);var ot=function e(){st.call(this);var t=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return t},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute F supplied.');t=e}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(t,3))},set:function(e){!0===Boolean(e)?this.F=qe(t,3):this.F=Ge(t,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){if(isNaN(e))throw new Error('Invalid value "'+e+'" for attribute Ff supplied.');n=e}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(0!==r.length)return r},set:function(e){r=void 0!==e?e:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(e){r[0]=e}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(e){r[1]=e}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(e){r[2]=e}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(e){r[3]=e}});var s="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return s},set:function(e){switch(e){case"/Btn":case"/Tx":case"/Ch":case"/Sig":s=e;break;default:throw new Error('Invalid value "'+e+'" for attribute FT supplied.')}}});var a=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!a||a.length<1){if(this instanceof mt)return;a="FieldObject"+e.FieldNum++}var t=function(e){return e};return this.scope&&(t=this.scope.internal.getEncryptor(this.objId)),"("+Te(t(a))+")"},set:function(e){a=e.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return a},set:function(e){a=e}});var i="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return i},set:function(e){i=e}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(e){o=e}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(e){l=e}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return void 0===c?50/De:c},set:function(e){c=e}});var d="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return d},set:function(e){d=e}});var u="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!u||this instanceof mt||this instanceof gt))return rt(u,this.objId,this.scope)},set:function(e){e=e.toString(),u=e}});var h=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof ht==0?rt(h,this.objId,this.scope):h},set:function(e){e=e.toString(),h=this instanceof ht==0?"("===e.substr(0,1)?Oe(e.substr(1,e.length-2)):Oe(e):e}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof ht==1?Oe(h.substr(1,h.length-1)):h},set:function(e){e=e.toString(),h=this instanceof ht==1?"/"+e:e}});var A=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(A)return A},set:function(e){this.V=e}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(A)return this instanceof ht==0?rt(A,this.objId,this.scope):A},set:function(e){e=e.toString(),A=this instanceof ht==0?"("===e.substr(0,1)?Oe(e.substr(1,e.length-2)):Oe(e):e}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof ht==1?Oe(A.substr(1,A.length-1)):A},set:function(e){e=e.toString(),A=this instanceof ht==1?"/"+e:e}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var f,m=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return m},set:function(e){e=Boolean(e),m=e}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(f)return f},set:function(e){f=e}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,1))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,1):this.Ff=Ge(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,2))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,2):this.Ff=Ge(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,3))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,3):this.Ff=Ge(this.Ff,3)}});var p=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(null!==p)return p},set:function(e){if(-1===[0,1,2].indexOf(e))throw new Error('Invalid value "'+e+'" for attribute Q supplied.');p=e}}),Object.defineProperty(this,"textAlign",{get:function(){var e;switch(p){case 0:default:e="left";break;case 1:e="center";break;case 2:e="right"}return e},configurable:!0,enumerable:!0,set:function(e){switch(e){case"right":case 2:p=2;break;case"center":case 1:p=1;break;default:p=0}}})};Re(ot,st);var lt=function(){ot.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var e=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){e=t}});var t=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return nt(t,this.objId,this.scope)},set:function(e){var n,r;r=[],"string"==typeof(n=e)&&(r=function(e,t,n){n||(n=1);for(var r,s=[];r=t.exec(e);)s.push(r[n]);return s}(n,/\((.*?)\)/g)),t=r}}),this.getOptions=function(){return t},this.setOptions=function(e){t=e,this.sort&&t.sort()},this.addOption=function(e){e=(e=e||"").toString(),t.push(e),this.sort&&t.sort()},this.removeOption=function(e,n){for(n=n||!1,e=(e=e||"").toString();-1!==t.indexOf(e)&&(t.splice(t.indexOf(e),1),!1!==n););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,18))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,18):this.Ff=Ge(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,19))},set:function(e){!0===this.combo&&(!0===Boolean(e)?this.Ff=qe(this.Ff,19):this.Ff=Ge(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,20))},set:function(e){!0===Boolean(e)?(this.Ff=qe(this.Ff,20),t.sort()):this.Ff=Ge(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,22))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,22):this.Ff=Ge(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,23):this.Ff=Ge(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,27))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,27):this.Ff=Ge(this.Ff,27)}}),this.hasAppearanceStream=!1};Re(lt,ot);var ct=function(){lt.call(this),this.fontName="helvetica",this.combo=!1};Re(ct,lt);var dt=function(){ct.call(this),this.combo=!0};Re(dt,ct);var ut=function(){dt.call(this),this.edit=!0};Re(ut,dt);var ht=function(){ot.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,15))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,15):this.Ff=Ge(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,16))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,16):this.Ff=Ge(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,17))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,17):this.Ff=Ge(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,26):this.Ff=Ge(this.Ff,26)}});var e,t={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};if(this.scope&&(e=this.scope.internal.getEncryptor(this.objId)),0!==Object.keys(t).length){var n,r=[];for(n in r.push("<<"),t)r.push("/"+n+" ("+Te(e(t[n]))+")");return r.push(">>"),r.join("\n")}},set:function(e){"object"===(0,r.A)(e)&&(t=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return t.CA||""},set:function(e){"string"==typeof e&&(t.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return e.substr(1,e.length-1)},set:function(t){e="/"+t}})};Re(ht,ot);var At=function(){ht.call(this),this.pushButton=!0};Re(At,ht);var ft=function(){ht.call(this),this.radio=!0,this.pushButton=!1;var e=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=void 0!==t?t:[]}})};Re(ft,ht);var mt=function(){var e,t;ot.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return t},set:function(e){t=e}});var n,s={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var e=function(e){return e};this.scope&&(e=this.scope.internal.getEncryptor(this.objId));var t,n=[];for(t in n.push("<<"),s)n.push("/"+t+" ("+Te(e(s[t]))+")");return n.push(">>"),n.join("\n")},set:function(e){"object"===(0,r.A)(e)&&(s=e)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return s.CA||""},set:function(e){"string"==typeof e&&(s.CA=e)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(e){n=e}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(e){n="/"+e}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=bt.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Re(mt,ot),ft.prototype.setAppearance=function(e){if(!("createAppearanceStream"in e)||!("getCA"in e))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var t in this.Kids)if(this.Kids.hasOwnProperty(t)){var n=this.Kids[t];n.appearanceStreamContent=e.createAppearanceStream(n.optionName),n.caption=e.getCA()}},ft.prototype.createOption=function(e){var t=new mt;return t.Parent=this,t.optionName=e,this.Kids.push(t),yt.call(this.scope,t),t};var pt=function(){ht.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=bt.CheckBox.createAppearanceStream()};Re(pt,ht);var gt=function(){ot.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,13))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,13):this.Ff=Ge(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,21))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,21):this.Ff=Ge(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,23))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,23):this.Ff=Ge(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,24))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,24):this.Ff=Ge(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,25))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,25):this.Ff=Ge(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,26))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,26):this.Ff=Ge(this.Ff,26)}});var e=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return e},set:function(t){e=t}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return e},set:function(t){Number.isInteger(t)&&(e=t)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Re(gt,ot);var xt=function(){gt.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Ve(this.Ff,14))},set:function(e){!0===Boolean(e)?this.Ff=qe(this.Ff,14):this.Ff=Ge(this.Ff,14)}}),this.password=!0};Re(xt,gt);var bt={CheckBox:{createAppearanceStream:function(){return{N:{On:bt.CheckBox.YesNormal},D:{On:bt.CheckBox.YesPushDown,Off:bt.CheckBox.OffPushDown}}},YesPushDown:function(e){var t=ze(e);t.scope=e.scope;var n=[],r=e.scope.internal.getFont(e.fontName,e.fontStyle).id,s=e.scope.__private__.encodeColorString(e.color),a=Xe(e,e.caption);return n.push("0.749023 g"),n.push("0 0 "+Pe(bt.internal.getWidth(e))+" "+Pe(bt.internal.getHeight(e))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+Pe(a.fontSize)+" Tf "+s),n.push("BT"),n.push(a.text),n.push("ET"),n.push("Q"),n.push("EMC"),t.stream=n.join("\n"),t},YesNormal:function(e){var t=ze(e);t.scope=e.scope;var n=e.scope.internal.getFont(e.fontName,e.fontStyle).id,r=e.scope.__private__.encodeColorString(e.color),s=[],a=bt.internal.getHeight(e),i=bt.internal.getWidth(e),o=Xe(e,e.caption);return s.push("1 g"),s.push("0 0 "+Pe(i)+" "+Pe(a)+" re"),s.push("f"),s.push("q"),s.push("0 0 1 rg"),s.push("0 0 "+Pe(i-1)+" "+Pe(a-1)+" re"),s.push("W"),s.push("n"),s.push("0 g"),s.push("BT"),s.push("/"+n+" "+Pe(o.fontSize)+" Tf "+r),s.push(o.text),s.push("ET"),s.push("Q"),t.stream=s.join("\n"),t},OffPushDown:function(e){var t=ze(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pe(bt.internal.getWidth(e))+" "+Pe(bt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}},RadioButton:{Circle:{createAppearanceStream:function(e){var t={D:{Off:bt.RadioButton.Circle.OffPushDown},N:{}};return t.N[e]=bt.RadioButton.Circle.YesNormal,t.D[e]=bt.RadioButton.Circle.YesPushDown,t},getCA:function(){return"l"},YesNormal:function(e){var t=ze(e);t.scope=e.scope;var n=[],r=bt.internal.getWidth(e)<=bt.internal.getHeight(e)?bt.internal.getWidth(e)/4:bt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=bt.internal.Bezier_C,a=Number((r*s).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ue(bt.internal.getWidth(e)/2)+" "+Ue(bt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=ze(e);t.scope=e.scope;var n=[],r=bt.internal.getWidth(e)<=bt.internal.getHeight(e)?bt.internal.getWidth(e)/4:bt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*bt.internal.Bezier_C).toFixed(5)),i=Number((r*bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ue(bt.internal.getWidth(e)/2)+" "+Ue(bt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ue(bt.internal.getWidth(e)/2)+" "+Ue(bt.internal.getHeight(e)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+i+" "+i+" "+r+" 0 "+r+" c"),n.push("-"+i+" "+r+" -"+r+" "+i+" -"+r+" 0 c"),n.push("-"+r+" -"+i+" -"+i+" -"+r+" 0 -"+r+" c"),n.push(i+" -"+r+" "+r+" -"+i+" "+r+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t},OffPushDown:function(e){var t=ze(e);t.scope=e.scope;var n=[],r=bt.internal.getWidth(e)<=bt.internal.getHeight(e)?bt.internal.getWidth(e)/4:bt.internal.getHeight(e)/4;r=Number((.9*r).toFixed(5));var s=Number((2*r).toFixed(5)),a=Number((s*bt.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ue(bt.internal.getWidth(e)/2)+" "+Ue(bt.internal.getHeight(e)/2)+" cm"),n.push(s+" 0 m"),n.push(s+" "+a+" "+a+" "+s+" 0 "+s+" c"),n.push("-"+a+" "+s+" -"+s+" "+a+" -"+s+" 0 c"),n.push("-"+s+" -"+a+" -"+a+" -"+s+" 0 -"+s+" c"),n.push(a+" -"+s+" "+s+" -"+a+" "+s+" 0 c"),n.push("f"),n.push("Q"),t.stream=n.join("\n"),t}},Cross:{createAppearanceStream:function(e){var t={D:{Off:bt.RadioButton.Cross.OffPushDown},N:{}};return t.N[e]=bt.RadioButton.Cross.YesNormal,t.D[e]=bt.RadioButton.Cross.YesPushDown,t},getCA:function(){return"8"},YesNormal:function(e){var t=ze(e);t.scope=e.scope;var n=[],r=bt.internal.calculateCross(e);return n.push("q"),n.push("1 1 "+Pe(bt.internal.getWidth(e)-2)+" "+Pe(bt.internal.getHeight(e)-2)+" re"),n.push("W"),n.push("n"),n.push(Pe(r.x1.x)+" "+Pe(r.x1.y)+" m"),n.push(Pe(r.x2.x)+" "+Pe(r.x2.y)+" l"),n.push(Pe(r.x4.x)+" "+Pe(r.x4.y)+" m"),n.push(Pe(r.x3.x)+" "+Pe(r.x3.y)+" l"),n.push("s"),n.push("Q"),t.stream=n.join("\n"),t},YesPushDown:function(e){var t=ze(e);t.scope=e.scope;var n=bt.internal.calculateCross(e),r=[];return r.push("0.749023 g"),r.push("0 0 "+Pe(bt.internal.getWidth(e))+" "+Pe(bt.internal.getHeight(e))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+Pe(bt.internal.getWidth(e)-2)+" "+Pe(bt.internal.getHeight(e)-2)+" re"),r.push("W"),r.push("n"),r.push(Pe(n.x1.x)+" "+Pe(n.x1.y)+" m"),r.push(Pe(n.x2.x)+" "+Pe(n.x2.y)+" l"),r.push(Pe(n.x4.x)+" "+Pe(n.x4.y)+" m"),r.push(Pe(n.x3.x)+" "+Pe(n.x3.y)+" l"),r.push("s"),r.push("Q"),t.stream=r.join("\n"),t},OffPushDown:function(e){var t=ze(e);t.scope=e.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+Pe(bt.internal.getWidth(e))+" "+Pe(bt.internal.getHeight(e))+" re"),n.push("f"),t.stream=n.join("\n"),t}}},createDefaultAppearanceStream:function(e){var t=e.scope.internal.getFont(e.fontName,e.fontStyle).id,n=e.scope.__private__.encodeColorString(e.color);return"/"+t+" "+e.fontSize+" Tf "+n}};bt.internal={Bezier_C:.551915024494,calculateCross:function(e){var t=bt.internal.getWidth(e),n=bt.internal.getHeight(e),r=Math.min(t,n);return{x1:{x:(t-r)/2,y:(n-r)/2+r},x2:{x:(t-r)/2+r,y:(n-r)/2},x3:{x:(t-r)/2,y:(n-r)/2},x4:{x:(t-r)/2+r,y:(n-r)/2+r}}}},bt.internal.getWidth=function(e){var t=0;return"object"===(0,r.A)(e)&&(t=Qe(e.Rect[2])),t},bt.internal.getHeight=function(e){var t=0;return"object"===(0,r.A)(e)&&(t=Qe(e.Rect[3])),t};var yt=Ie.addField=function(e){if(tt(this,e),!(e instanceof ot))throw new Error("Invalid argument passed to jsPDF.addField.");var t;return(t=e).scope.internal.acroformPlugin.printedOut&&(t.scope.internal.acroformPlugin.printedOut=!1,t.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),t.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(t),e.page=e.scope.internal.getCurrentPageInfo().pageNumber,this};Ie.AcroFormChoiceField=lt,Ie.AcroFormListBox=ct,Ie.AcroFormComboBox=dt,Ie.AcroFormEditBox=ut,Ie.AcroFormButton=ht,Ie.AcroFormPushButton=At,Ie.AcroFormRadioButton=ft,Ie.AcroFormCheckBox=pt,Ie.AcroFormTextField=gt,Ie.AcroFormPasswordField=xt,Ie.AcroFormAppearance=bt,Ie.AcroForm={ChoiceField:lt,ListBox:ct,ComboBox:dt,EditBox:ut,Button:ht,PushButton:At,RadioButton:ft,CheckBox:pt,TextField:gt,PasswordField:xt,Appearance:bt},Fe.AcroForm={ChoiceField:lt,ListBox:ct,ComboBox:dt,EditBox:ut,Button:ht,PushButton:At,RadioButton:ft,CheckBox:pt,TextField:gt,PasswordField:xt,Appearance:bt};var vt=Fe.AcroForm;function wt(e){return e.reduce(function(e,t,n){return e[t]=n,e},{})}!function(e){e.__addimage__={};var t="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},s=e.__addimage__.getImageFileTypeByImageData=function(e,r){var s,a,i,o,l,c=t;if("RGBA"===(r=r||t)||void 0!==e.data&&e.data instanceof Uint8ClampedArray&&"height"in e&&"width"in e)return"RGBA";if(j(e))for(l in n)for(i=n[l],s=0;s<i.length;s+=1){for(o=!0,a=0;a<i[s].length;a+=1)if(void 0!==i[s][a]&&i[s][a]!==e[a]){o=!1;break}if(!0===o){c=l;break}}else for(l in n)for(i=n[l],s=0;s<i.length;s+=1){for(o=!0,a=0;a<i[s].length;a+=1)if(void 0!==i[s][a]&&i[s][a]!==e.charCodeAt(a)){o=!1;break}if(!0===o){c=l;break}}return c===t&&r!==t&&(c=r),c},a=function e(t){for(var n=this.internal.write,r=this.internal.putStream,s=(0,this.internal.getFilters)();-1!==s.indexOf("FlateEncode");)s.splice(s.indexOf("FlateEncode"),1);t.objectId=this.internal.newObject();var a=[];if(a.push({key:"Type",value:"/XObject"}),a.push({key:"Subtype",value:"/Image"}),a.push({key:"Width",value:t.width}),a.push({key:"Height",value:t.height}),t.colorSpace===g.INDEXED?a.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(t.palette.length/3-1)+" "+("sMask"in t&&void 0!==t.sMask?t.objectId+2:t.objectId+1)+" 0 R]"}):(a.push({key:"ColorSpace",value:"/"+t.colorSpace}),t.colorSpace===g.DEVICE_CMYK&&a.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),a.push({key:"BitsPerComponent",value:t.bitsPerComponent}),"decodeParameters"in t&&void 0!==t.decodeParameters&&a.push({key:"DecodeParms",value:"<<"+t.decodeParameters+">>"}),"transparency"in t&&Array.isArray(t.transparency)){for(var i="",o=0,l=t.transparency.length;o<l;o++)i+=t.transparency[o]+" "+t.transparency[o]+" ";a.push({key:"Mask",value:"["+i+"]"})}void 0!==t.sMask&&a.push({key:"SMask",value:t.objectId+1+" 0 R"});var c=void 0!==t.filter?["/"+t.filter]:void 0;if(r({data:t.data,additionalKeyValues:a,alreadyAppliedFilters:c,objectId:t.objectId}),n("endobj"),"sMask"in t&&void 0!==t.sMask){var d="/Predictor "+t.predictor+" /Colors 1 /BitsPerComponent "+t.bitsPerComponent+" /Columns "+t.width,u={width:t.width,height:t.height,colorSpace:"DeviceGray",bitsPerComponent:t.bitsPerComponent,decodeParameters:d,data:t.sMask};"filter"in t&&(u.filter=t.filter),e.call(this,u)}if(t.colorSpace===g.INDEXED){var h=this.internal.newObject();r({data:_(new Uint8Array(t.palette)),objectId:h}),n("endobj")}},i=function(){var e=this.internal.collections.addImage_images;for(var t in e)a.call(this,e[t])},o=function(){var e,t=this.internal.collections.addImage_images,n=this.internal.write;for(var r in t)n("/I"+(e=t[r]).index,e.objectId,"0","R")},l=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",i),this.internal.events.subscribe("putXobjectDict",o))},c=function(){var e=this.internal.collections.addImage_images;return l.call(this),e},d=function(){return Object.keys(this.internal.collections.addImage_images).length},u=function(t){return"function"==typeof e["process"+t.toUpperCase()]},h=function(e){return"object"===(0,r.A)(e)&&1===e.nodeType},A=function(t,n){if("IMG"===t.nodeName&&t.hasAttribute("src")){var r=""+t.getAttribute("src");if(0===r.indexOf("data:image/"))return ie(unescape(r).split("base64,").pop());var s=e.loadFile(r,!0);if(void 0!==s)return s}if("CANVAS"===t.nodeName){if(0===t.width||0===t.height)throw new Error("Given canvas must have data. Canvas width: "+t.width+", height: "+t.height);var a;switch(n){case"PNG":a="image/png";break;case"WEBP":a="image/webp";break;default:a="image/jpeg"}return ie(t.toDataURL(a,1).split("base64,").pop())}},f=function(e){var t=this.internal.collections.addImage_images;if(t)for(var n in t)if(e===t[n].alias)return t[n]},m=function(e,t,n){return e||t||(e=-96,t=-96),e<0&&(e=-1*n.width*72/e/this.internal.scaleFactor),t<0&&(t=-1*n.height*72/t/this.internal.scaleFactor),0===e&&(e=t*n.width/n.height),0===t&&(t=e*n.height/n.width),[e,t]},p=function(e,t,n,r,s,a){var i=m.call(this,n,r,s),o=this.internal.getCoordinateString,l=this.internal.getVerticalCoordinateString,d=c.call(this);if(n=i[0],r=i[1],d[s.index]=s,a){a*=Math.PI/180;var u=Math.cos(a),h=Math.sin(a),A=function(e){return e.toFixed(4)},f=[A(u),A(h),A(-1*h),A(u),0,0,"cm"]}this.internal.write("q"),a?(this.internal.write([1,"0","0",1,o(e),l(t+r),"cm"].join(" ")),this.internal.write(f.join(" ")),this.internal.write([o(n),"0","0",o(r),"0","0","cm"].join(" "))):this.internal.write([o(n),"0","0",o(r),o(e),l(t+r),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+s.index+" Do"),this.internal.write("Q")},g=e.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};e.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var x=e.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},b=e.__addimage__.sHashCode=function(e){var t,n,r=0;if("string"==typeof e)for(n=e.length,t=0;t<n;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;else if(j(e))for(n=e.byteLength/2,t=0;t<n;t++)r=(r<<5)-r+e[t],r|=0;return r},y=e.__addimage__.validateStringAsBase64=function(e){(e=e||"").toString().trim();var t=!0;return 0===e.length&&(t=!1),e.length%4!=0&&(t=!1),!1===/^[A-Za-z0-9+/]+$/.test(e.substr(0,e.length-2))&&(t=!1),!1===/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(e.substr(-2))&&(t=!1),t},v=e.__addimage__.extractImageFromDataUrl=function(e){var t=(e=e||"").split("base64,"),n=null;if(2===t.length){var r=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(t[0]);Array.isArray(r)&&(n={mimeType:r[1],charset:r[2],data:t[1]})}return n},w=e.__addimage__.supportsArrayBuffer=function(){return"undefined"!=typeof ArrayBuffer&&"undefined"!=typeof Uint8Array};e.__addimage__.isArrayBuffer=function(e){return w()&&e instanceof ArrayBuffer};var j=e.__addimage__.isArrayBufferView=function(e){return w()&&"undefined"!=typeof Uint32Array&&(e instanceof Int8Array||e instanceof Uint8Array||"undefined"!=typeof Uint8ClampedArray&&e instanceof Uint8ClampedArray||e instanceof Int16Array||e instanceof Uint16Array||e instanceof Int32Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array)},N=e.__addimage__.binaryStringToUint8Array=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n},_=e.__addimage__.arrayBufferToBinaryString=function(e){for(var t="",n=j(e)?e:new Uint8Array(e),r=0;r<n.length;r+=8192)t+=String.fromCharCode.apply(null,n.subarray(r,r+8192));return t};e.addImage=function(){var e,n,s,a,i,o,c,d,u;if("number"==typeof arguments[1]?(n=t,s=arguments[1],a=arguments[2],i=arguments[3],o=arguments[4],c=arguments[5],d=arguments[6],u=arguments[7]):(n=arguments[1],s=arguments[2],a=arguments[3],i=arguments[4],o=arguments[5],c=arguments[6],d=arguments[7],u=arguments[8]),"object"===(0,r.A)(e=arguments[0])&&!h(e)&&"imageData"in e){var A=e;e=A.imageData,n=A.format||n||t,s=A.x||s||0,a=A.y||a||0,i=A.w||A.width||i,o=A.h||A.height||o,c=A.alias||c,d=A.compression||d,u=A.rotation||A.angle||u}var f=this.internal.getFilters();if(void 0===d&&-1!==f.indexOf("FlateEncode")&&(d="SLOW"),isNaN(s)||isNaN(a))throw new Error("Invalid coordinates passed to jsPDF.addImage");l.call(this);var m=C.call(this,e,n,c,d);return p.call(this,s,a,i,o,m,u),this};var C=function(n,r,a,i){var o,l,c;if("string"==typeof n&&s(n)===t){n=unescape(n);var m=S(n,!1);(""!==m||void 0!==(m=e.loadFile(n,!0)))&&(n=m)}if(h(n)&&(n=A(n,r)),r=s(n,r),!u(r))throw new Error("addImage does not support files of type '"+r+"', please ensure that a plugin for '"+r+"' support is added.");if((null==(c=a)||0===c.length)&&(a=function(e){return"string"==typeof e||j(e)?b(e):j(e.data)?b(e.data):null}(n)),(o=f.call(this,a))||(w()&&(n instanceof Uint8Array||"RGBA"===r||(l=n,n=N(n))),o=this["process"+r.toUpperCase()](n,d.call(this),a,function(t){return t&&"string"==typeof t&&(t=t.toUpperCase()),t in e.image_compression?t:x.NONE}(i),l)),!o)throw new Error("An unknown error occurred whilst processing the image.");return o},S=e.__addimage__.convertBase64ToBinaryString=function(e,t){var n;t="boolean"!=typeof t||t;var r,s="";if("string"==typeof e){r=null!==(n=v(e))?n.data:e;try{s=ie(r)}catch(e){if(t)throw y(r)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+e.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return s};e.getImageProperties=function(n){var r,a,i="";if(h(n)&&(n=A(n)),"string"==typeof n&&s(n)===t&&(""===(i=S(n,!1))&&(i=e.loadFile(n)||""),n=i),a=s(n),!u(a))throw new Error("addImage does not support files of type '"+a+"', please ensure that a plugin for '"+a+"' support is added.");if(!w()||n instanceof Uint8Array||(n=N(n)),!(r=this["process"+a.toUpperCase()](n)))throw new Error("An unknown error occurred whilst processing the image");return r.fileType=a,r}}(Fe.API),function(e){var t=function(e){if(void 0!==e&&""!=e)return!0};Fe.API.events.push(["addPage",function(e){this.internal.getPageInfo(e.pageNumber).pageContext.annotations=[]}]),e.events.push(["putPage",function(e){for(var n,r,s,a=this.internal.getCoordinateString,i=this.internal.getVerticalCoordinateString,o=this.internal.getPageInfoByObjId(e.objId),l=e.pageContext.annotations,c=!1,d=0;d<l.length&&!c;d++)switch((n=l[d]).type){case"link":(t(n.options.url)||t(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(0!=c){this.internal.write("/Annots [");for(var u=0;u<l.length;u++){n=l[u];var h=this.internal.pdfEscape,A=this.internal.getEncryptor(e.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var f=this.internal.newAdditionalObject(),m=this.internal.newAdditionalObject(),p=this.internal.getEncryptor(f.objId),g=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(r="/Rect ["+a(n.bounds.x)+" "+i(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y)+"] ")+"/Contents ("+h(p(n.contents))+")",s+=" /Popup "+m.objId+" 0 R",s+=" /P "+o.objId+" 0 R",s+=" /T ("+h(p(g))+") >>",f.content=s;var x=f.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(r="/Rect ["+a(n.bounds.x+30)+" "+i(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+i(n.bounds.y)+"] ")+" /Parent "+x,n.open&&(s+=" /Open true"),s+=" >>",m.content=s,this.internal.write(f.objId,"0 R",m.objId,"0 R");break;case"freetext":r="/Rect ["+a(n.bounds.x)+" "+i(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+i(n.bounds.y+n.bounds.h)+"] ";var b=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+r+"/Contents ("+h(A(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+b+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var y=this.annotations._nameMap[n.options.name];n.options.pageNumber=y.page,n.options.top=y.y}else n.options.top||(n.options.top=0);if(r="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /A <</S /URI /URI ("+h(A(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+r+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;default:var v=i(n.options.top);n.options.left=n.options.left||0,void 0===n.options.zoom&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+v+" "+n.options.zoom+"]"}""!=s&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),e.createAnnotation=function(e){var t=this.internal.getCurrentPageInfo();switch(e.type){case"link":this.link(e.bounds.x,e.bounds.y,e.bounds.w,e.bounds.h,e);break;case"text":case"freetext":t.pageContext.annotations.push(e)}},e.link=function(e,t,n,r,s){var a=this.internal.getCurrentPageInfo(),i=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString;a.pageContext.annotations.push({finalBounds:{x:i(e),y:o(t),w:i(e+n),h:o(t+r)},options:s,type:"link"})},e.textWithLink=function(e,t,n,r){var s,a,i=this.getTextWidth(e),o=this.internal.getLineHeight()/this.internal.scaleFactor;if(void 0!==r.maxWidth){a=r.maxWidth;var l=this.splitTextToSize(e,a).length;s=Math.ceil(o*l)}else a=i,s=o;return this.text(e,t,n,r),n+=.2*o,"center"===r.align&&(t-=i/2),"right"===r.align&&(t-=i),this.link(t,n-o,a,s,r),i},e.getTextWidth=function(e){var t=this.internal.getFontSize();return this.getStringUnitWidth(e)*t/this.internal.scaleFactor}}(Fe.API),function(e){var t={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},s=[1570,1571,1573,1575];e.__arabicParser__={};var a=e.__arabicParser__.isInArabicSubstitutionA=function(e){return void 0!==t[e.charCodeAt(0)]},i=e.__arabicParser__.isArabicLetter=function(e){return"string"==typeof e&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(e)},o=e.__arabicParser__.isArabicEndLetter=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length<=2},l=e.__arabicParser__.isArabicAlfLetter=function(e){return i(e)&&s.indexOf(e.charCodeAt(0))>=0};e.__arabicParser__.arabicLetterHasIsolatedForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=1};var c=e.__arabicParser__.arabicLetterHasFinalForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=2};e.__arabicParser__.arabicLetterHasInitialForm=function(e){return i(e)&&a(e)&&t[e.charCodeAt(0)].length>=3};var d=e.__arabicParser__.arabicLetterHasMedialForm=function(e){return i(e)&&a(e)&&4==t[e.charCodeAt(0)].length},u=e.__arabicParser__.resolveLigatures=function(e){var t=0,r=n,s="",a=0;for(t=0;t<e.length;t+=1)void 0!==r[e.charCodeAt(t)]?(a++,"number"==typeof(r=r[e.charCodeAt(t)])&&(s+=String.fromCharCode(r),r=n,a=0),t===e.length-1&&(r=n,s+=e.charAt(t-(a-1)),t-=a-1,a=0)):(r=n,s+=e.charAt(t-a),t-=a,a=0);return s};e.__arabicParser__.isArabicDiacritic=function(e){return void 0!==e&&void 0!==r[e.charCodeAt(0)]};var h=e.__arabicParser__.getCorrectForm=function(e,t,n){return i(e)?!1===a(e)?-1:!c(e)||!i(t)&&!i(n)||!i(n)&&o(t)||o(e)&&!i(t)||o(e)&&l(t)||o(e)&&o(t)?0:d(e)&&i(t)&&!o(t)&&i(n)&&c(n)?3:o(e)||!i(n)?1:2:-1},A=function(e){var n=0,r=0,s=0,a="",o="",l="",c=(e=e||"").split("\\s+"),d=[];for(n=0;n<c.length;n+=1){for(d.push(""),r=0;r<c[n].length;r+=1)a=c[n][r],o=c[n][r-1],l=c[n][r+1],i(a)?(s=h(a,o,l),d[n]+=-1!==s?String.fromCharCode(t[a.charCodeAt(0)][s]):a):d[n]+=a;d[n]=u(d[n])}return d.join(" ")},f=e.__arabicParser__.processArabic=e.processArabic=function(){var e,t="string"==typeof arguments[0]?arguments[0]:arguments[0].text,n=[];if(Array.isArray(t)){var r=0;for(n=[],r=0;r<t.length;r+=1)Array.isArray(t[r])?n.push([A(t[r][0]),t[r][1],t[r][2]]):n.push([A(t[r])]);e=n}else e=A(t);return"string"==typeof arguments[0]?e:(arguments[0].text=e,arguments[0])};e.events.push(["preProcessText",f])}(Fe.API),Fe.API.autoPrint=function(e){var t;if("javascript"===((e=e||{}).variant=e.variant||"non-conform",e.variant))this.addJS("print({});");else this.internal.events.subscribe("postPutResources",function(){t=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+t+" 0 R")});return this},function(e){var t=function(){var e=void 0;Object.defineProperty(this,"pdf",{get:function(){return e},set:function(t){e=t}});var t=150;Object.defineProperty(this,"width",{get:function(){return t},set:function(e){t=isNaN(e)||!1===Number.isInteger(e)||e<0?150:e,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=t+1)}});var n=300;Object.defineProperty(this,"height",{get:function(){return n},set:function(e){n=isNaN(e)||!1===Number.isInteger(e)||e<0?300:e,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=n+1)}});var r=[];Object.defineProperty(this,"childNodes",{get:function(){return r},set:function(e){r=e}});var s={};Object.defineProperty(this,"style",{get:function(){return s},set:function(e){s=e}}),Object.defineProperty(this,"parentNode",{})};t.prototype.getContext=function(e,t){var n;if("2d"!==(e=e||"2d"))return null;for(n in t)this.pdf.context2d.hasOwnProperty(n)&&(this.pdf.context2d[n]=t[n]);return this.pdf.context2d._canvas=this,this.pdf.context2d},t.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},e.events.push(["initialized",function(){this.canvas=new t,this.canvas.pdf=this}])}(Fe.API),function(e){var t={left:0,top:0,bottom:0,right:0},n=!1,s=function(){void 0===this.internal.__cell__&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},t),this.internal.__cell__.margins.width=this.getPageWidth(),a.call(this))},a=function(){this.internal.__cell__.lastCell=new i,this.internal.__cell__.pages=1},i=function(){var e=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return e},set:function(t){e=t}});var t=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return t},set:function(e){t=e}});var n=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return n},set:function(e){n=e}});var r=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return r},set:function(e){r=e}});var s=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return s},set:function(e){s=e}});var a=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return a},set:function(e){a=e}});var i=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return i},set:function(e){i=e}}),this};i.prototype.clone=function(){return new i(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},i.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},e.setHeaderFunction=function(e){return s.call(this),this.internal.__cell__.headerFunction="function"==typeof e?e:void 0,this},e.getTextDimensions=function(e,t){s.call(this);var n=(t=t||{}).fontSize||this.getFontSize(),r=t.font||this.getFont(),a=t.scaleFactor||this.internal.scaleFactor,i=0,o=0,l=0,c=this;if(!Array.isArray(e)&&"string"!=typeof e){if("number"!=typeof e)throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");e=String(e)}var d=t.maxWidth;d>0?"string"==typeof e?e=this.splitTextToSize(e,d):"[object Array]"===Object.prototype.toString.call(e)&&(e=e.reduce(function(e,t){return e.concat(c.splitTextToSize(t,d))},[])):e=Array.isArray(e)?e:[e];for(var u=0;u<e.length;u++)i<(l=this.getStringUnitWidth(e[u],{font:r})*n)&&(i=l);return 0!==i&&(o=e.length),{w:i/=a,h:Math.max((o*n*this.getLineHeightFactor()-n*(this.getLineHeightFactor()-1))/a,0)}},e.cellAddPage=function(){s.call(this),this.addPage();var e=this.internal.__cell__.margins||t;return this.internal.__cell__.lastCell=new i(e.left,e.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var o=e.cell=function(){var e;e=arguments[0]instanceof i?arguments[0]:new i(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),s.call(this);var r=this.internal.__cell__.lastCell,a=this.internal.__cell__.padding,o=this.internal.__cell__.margins||t,l=this.internal.__cell__.tableHeaderRow,c=this.internal.__cell__.printHeaders;return void 0!==r.lineNumber&&(r.lineNumber===e.lineNumber?(e.x=(r.x||0)+(r.width||0),e.y=r.y||0):r.y+r.height+e.height+o.bottom>this.getPageHeight()?(this.cellAddPage(),e.y=o.top,c&&l&&(this.printHeaderRow(e.lineNumber,!0),e.y+=l[0].height)):e.y=r.y+r.height||e.y),void 0!==e.text[0]&&(this.rect(e.x,e.y,e.width,e.height,!0===n?"FD":void 0),"right"===e.align?this.text(e.text,e.x+e.width-a,e.y+a,{align:"right",baseline:"top"}):"center"===e.align?this.text(e.text,e.x+e.width/2,e.y+a,{align:"center",baseline:"top",maxWidth:e.width-a-a}):this.text(e.text,e.x+a,e.y+a,{align:"left",baseline:"top",maxWidth:e.width-a-a})),this.internal.__cell__.lastCell=e,this};e.table=function(e,n,c,d,u){if(s.call(this),!c)throw new Error("No data for PDF table.");var h,A,f,m,p=[],g=[],x=[],b={},y={},v=[],w=[],j=(u=u||{}).autoSize||!1,N=!1!==u.printHeaders,_=u.css&&void 0!==u.css["font-size"]?16*u.css["font-size"]:u.fontSize||12,C=u.margins||Object.assign({width:this.getPageWidth()},t),S="number"==typeof u.padding?u.padding:3,k=u.headerBackgroundColor||"#c8c8c8",B=u.headerTextColor||"#000";if(a.call(this),this.internal.__cell__.printHeaders=N,this.internal.__cell__.margins=C,this.internal.__cell__.table_font_size=_,this.internal.__cell__.padding=S,this.internal.__cell__.headerBackgroundColor=k,this.internal.__cell__.headerTextColor=B,this.setFontSize(_),null==d)g=p=Object.keys(c[0]),x=p.map(function(){return"left"});else if(Array.isArray(d)&&"object"===(0,r.A)(d[0]))for(p=d.map(function(e){return e.name}),g=d.map(function(e){return e.prompt||e.name||""}),x=d.map(function(e){return e.align||"left"}),h=0;h<d.length;h+=1)y[d[h].name]=d[h].width*(19.049976/25.4);else Array.isArray(d)&&"string"==typeof d[0]&&(g=p=d,x=p.map(function(){return"left"}));if(j||Array.isArray(d)&&"string"==typeof d[0])for(h=0;h<p.length;h+=1){for(b[m=p[h]]=c.map(function(e){return e[m]}),this.setFont(void 0,"bold"),v.push(this.getTextDimensions(g[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),A=b[m],this.setFont(void 0,"normal"),f=0;f<A.length;f+=1)v.push(this.getTextDimensions(A[f],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);y[m]=Math.max.apply(null,v)+S+S,v=[]}if(N){var E={};for(h=0;h<p.length;h+=1)E[p[h]]={},E[p[h]].text=g[h],E[p[h]].align=x[h];var L=l.call(this,E,y);w=p.map(function(t){return new i(e,n,y[t],L,E[t].text,void 0,E[t].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var M=d.reduce(function(e,t){return e[t.name]=t.align,e},{});for(h=0;h<c.length;h+=1){"rowStart"in u&&u.rowStart instanceof Function&&u.rowStart({row:h,data:c[h]},this);var F=l.call(this,c[h],y);for(f=0;f<p.length;f+=1){var I=c[h][p[f]];"cellStart"in u&&u.cellStart instanceof Function&&u.cellStart({row:h,col:f,data:I},this),o.call(this,new i(e,n,y[p[f]],F,I,h+2,M[p[f]]))}}return this.internal.__cell__.table_x=e,this.internal.__cell__.table_y=n,this};var l=function(e,t){var n=this.internal.__cell__.padding,r=this.internal.__cell__.table_font_size,s=this.internal.scaleFactor;return Object.keys(e).map(function(r){var s=e[r];return this.splitTextToSize(s.hasOwnProperty("text")?s.text:s,t[r]-n-n)},this).map(function(e){return this.getLineHeightFactor()*e.length*r/s+n+n},this).reduce(function(e,t){return Math.max(e,t)},0)};e.setTableHeaderRow=function(e){s.call(this),this.internal.__cell__.tableHeaderRow=e},e.printHeaderRow=function(e,t){if(s.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var r;if(n=!0,"function"==typeof this.internal.__cell__.headerFunction){var a=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new i(a[0],a[1],a[2],a[3],void 0,-1)}this.setFont(void 0,"bold");for(var l=[],c=0;c<this.internal.__cell__.tableHeaderRow.length;c+=1){r=this.internal.__cell__.tableHeaderRow[c].clone(),t&&(r.y=this.internal.__cell__.margins.top||0,l.push(r)),r.lineNumber=e;var d=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),o.call(this,r),this.setTextColor(d)}l.length>0&&this.setTableHeaderRow(l),this.setFont(void 0,"normal"),n=!1}}(Fe.API);var jt={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Nt=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],_t=wt(Nt),Ct=[100,200,300,400,500,600,700,800,900],St=wt(Ct);function kt(e){var t=e.family.replace(/"|'/g,"").toLowerCase(),n=function(e){return jt[e=e||"normal"]?e:"normal"}(e.style),r=function(e){return e?"number"==typeof e?e>=100&&e<=900&&e%100==0?e:400:/^\d00$/.test(e)?parseInt(e):"bold"===e?700:400:400}(e.weight),s=function(e){return"number"==typeof _t[e=e||"normal"]?e:"normal"}(e.stretch);return{family:t,style:n,weight:r,stretch:s,src:e.src||[],ref:e.ref||{name:t,style:[s,n,r].join(" ")}}}function Bt(e,t,n,r){var s;for(s=n;s>=0&&s<t.length;s+=r)if(e[t[s]])return e[t[s]];for(s=n;s>=0&&s<t.length;s-=r)if(e[t[s]])return e[t[s]]}var Et={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Lt={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Mt(e){return[e.stretch,e.style,e.weight,e.family].join(" ")}function Ft(e){return e.trimLeft()}function It(e,t){for(var n=0;n<e.length;){if(e.charAt(n)===t)return[e.substring(0,n),e.substring(n+1)];n+=1}return null}function Dt(e){var t=e.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return null===t?null:[t[0],e.substring(t[0].length)]}var Tt,Ot,Pt,Ut,Rt=["times"];!function(e){var t,n,s,a,i,o,l,c,d,u=function(e){return e=e||{},this.isStrokeTransparent=e.isStrokeTransparent||!1,this.strokeOpacity=e.strokeOpacity||1,this.strokeStyle=e.strokeStyle||"#000000",this.fillStyle=e.fillStyle||"#000000",this.isFillTransparent=e.isFillTransparent||!1,this.fillOpacity=e.fillOpacity||1,this.font=e.font||"10px sans-serif",this.textBaseline=e.textBaseline||"alphabetic",this.textAlign=e.textAlign||"left",this.lineWidth=e.lineWidth||1,this.lineJoin=e.lineJoin||"miter",this.lineCap=e.lineCap||"butt",this.path=e.path||[],this.transform=void 0!==e.transform?e.transform.clone():new c,this.globalCompositeOperation=e.globalCompositeOperation||"normal",this.globalAlpha=e.globalAlpha||1,this.clip_path=e.clip_path||[],this.currentPoint=e.currentPoint||new o,this.miterLimit=e.miterLimit||10,this.lastPoint=e.lastPoint||new o,this.lineDashOffset=e.lineDashOffset||0,this.lineDash=e.lineDash||[],this.margin=e.margin||[0,0,0,0],this.prevPageLastElemOffset=e.prevPageLastElemOffset||0,this.ignoreClearRect="boolean"!=typeof e.ignoreClearRect||e.ignoreClearRect,this};e.events.push(["initialized",function(){this.context2d=new h(this),t=this.internal.f2,n=this.internal.getCoordinateString,s=this.internal.getVerticalCoordinateString,a=this.internal.getHorizontalCoordinate,i=this.internal.getVerticalCoordinate,o=this.internal.Point,l=this.internal.Rectangle,c=this.internal.Matrix,d=new u}]);var h=function(e){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var t=e;Object.defineProperty(this,"pdf",{get:function(){return t}});var n=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return n},set:function(e){n=Boolean(e)}});var r=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return r},set:function(e){r=Boolean(e)}});var s=0;Object.defineProperty(this,"posX",{get:function(){return s},set:function(e){isNaN(e)||(s=e)}});var a=0;Object.defineProperty(this,"posY",{get:function(){return a},set:function(e){isNaN(e)||(a=e)}}),Object.defineProperty(this,"margin",{get:function(){return d.margin},set:function(e){var t;"number"==typeof e?t=[e,e,e,e]:((t=new Array(4))[0]=e[0],t[1]=e.length>=2?e[1]:t[0],t[2]=e.length>=3?e[2]:t[0],t[3]=e.length>=4?e[3]:t[1]),d.margin=t}});var i=!1;Object.defineProperty(this,"autoPaging",{get:function(){return i},set:function(e){i=e}});var o=0;Object.defineProperty(this,"lastBreak",{get:function(){return o},set:function(e){o=e}});var l=[];Object.defineProperty(this,"pageBreaks",{get:function(){return l},set:function(e){l=e}}),Object.defineProperty(this,"ctx",{get:function(){return d},set:function(e){e instanceof u&&(d=e)}}),Object.defineProperty(this,"path",{get:function(){return d.path},set:function(e){d.path=e}});var c=[];Object.defineProperty(this,"ctxStack",{get:function(){return c},set:function(e){c=e}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(e){var t;t=A(e),this.ctx.fillStyle=t.style,this.ctx.isFillTransparent=0===t.a,this.ctx.fillOpacity=t.a,this.pdf.setFillColor(t.r,t.g,t.b,{a:t.a}),this.pdf.setTextColor(t.r,t.g,t.b,{a:t.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(e){var t=A(e);this.ctx.strokeStyle=t.style,this.ctx.isStrokeTransparent=0===t.a,this.ctx.strokeOpacity=t.a,0===t.a?this.pdf.setDrawColor(255,255,255):(t.a,this.pdf.setDrawColor(t.r,t.g,t.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(e){-1!==["butt","round","square"].indexOf(e)&&(this.ctx.lineCap=e,this.pdf.setLineCap(e))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(e){isNaN(e)||(this.ctx.lineWidth=e,this.pdf.setLineWidth(e))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(e){-1!==["bevel","round","miter"].indexOf(e)&&(this.ctx.lineJoin=e,this.pdf.setLineJoin(e))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(e){isNaN(e)||(this.ctx.miterLimit=e,this.pdf.setMiterLimit(e))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(e){this.ctx.textBaseline=e}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(e){-1!==["right","end","center","left","start"].indexOf(e)&&(this.ctx.textAlign=e)}});var h=null;function f(e,t){if(null===h){var n=function(e){var t=[];return Object.keys(e).forEach(function(n){e[n].forEach(function(e){var r=null;switch(e){case"bold":r={family:n,weight:"bold"};break;case"italic":r={family:n,style:"italic"};break;case"bolditalic":r={family:n,weight:"bold",style:"italic"};break;case"":case"normal":r={family:n}}null!==r&&(r.ref={name:n,style:e},t.push(r))})}),t}(e.getFontList());h=function(e){for(var t={},n=0;n<e.length;++n){var r=kt(e[n]),s=r.family,a=r.stretch,i=r.style,o=r.weight;t[s]=t[s]||{},t[s][a]=t[s][a]||{},t[s][a][i]=t[s][a][i]||{},t[s][a][i][o]=r}return t}(n.concat(t))}return h}var m=null;Object.defineProperty(this,"fontFaces",{get:function(){return m},set:function(e){h=null,m=e}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(e){var t;if(this.ctx.font=e,null!==(t=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(e))){var n=t[1],r=(t[2],t[3]),s=t[4],a=(t[5],t[6]),i=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(s)[2];s="px"===i?Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor):"em"===i?Math.floor(parseFloat(s)*this.pdf.getFontSize()):Math.floor(parseFloat(s)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(s);var o=function(e){var t,n,r=[],s=e.trim();if(""===s)return Rt;if(s in Lt)return[Lt[s]];for(;""!==s;){switch(n=null,t=(s=Ft(s)).charAt(0)){case'"':case"'":n=It(s.substring(1),t);break;default:n=Dt(s)}if(null===n)return Rt;if(r.push(n[0]),""!==(s=Ft(n[1]))&&","!==s.charAt(0))return Rt;s=s.replace(/^,/,"")}return r}(a);if(this.fontFaces){var l=function(e,t,n){for(var r=(n=n||{}).defaultFontFamily||"times",s=Object.assign({},Et,n.genericFontFamilies||{}),a=null,i=null,o=0;o<t.length;++o)if(s[(a=kt(t[o])).family]&&(a.family=s[a.family]),e.hasOwnProperty(a.family)){i=e[a.family];break}if(!(i=i||e[r]))throw new Error("Could not find a font-family for the rule '"+Mt(a)+"' and default family '"+r+"'.");if(i=function(e,t){if(t[e])return t[e];var n=_t[e],r=n<=_t.normal?-1:1,s=Bt(t,Nt,n,r);if(!s)throw new Error("Could not find a matching font-stretch value for "+e);return s}(a.stretch,i),i=function(e,t){if(t[e])return t[e];for(var n=jt[e],r=0;r<n.length;++r)if(t[n[r]])return t[n[r]];throw new Error("Could not find a matching font-style for "+e)}(a.style,i),!(i=function(e,t){if(t[e])return t[e];if(400===e&&t[500])return t[500];if(500===e&&t[400])return t[400];var n=St[e],r=Bt(t,Ct,n,e<400?-1:1);if(!r)throw new Error("Could not find a matching font-weight for value "+e);return r}(a.weight,i)))throw new Error("Failed to resolve a font for the rule '"+Mt(a)+"'.");return i}(f(this.pdf,this.fontFaces),o.map(function(e){return{family:e,stretch:"normal",weight:r,style:n}}));this.pdf.setFont(l.ref.name,l.ref.style)}else{var c="";("bold"===r||parseInt(r,10)>=700||"bold"===n)&&(c="bold"),"italic"===n&&(c+="italic"),0===c.length&&(c="normal");for(var d="",u={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},h=0;h<o.length;h++){if(void 0!==this.pdf.internal.getFont(o[h],c,{noFallback:!0,disableWarning:!0})){d=o[h];break}if("bolditalic"===c&&void 0!==this.pdf.internal.getFont(o[h],"bold",{noFallback:!0,disableWarning:!0}))d=o[h],c="bold";else if(void 0!==this.pdf.internal.getFont(o[h],"normal",{noFallback:!0,disableWarning:!0})){d=o[h],c="normal";break}}if(""===d)for(var A=0;A<o.length;A++)if(u[o[A]]){d=u[o[A]];break}d=""===d?"Times":d,this.pdf.setFont(d,c)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(e){this.ctx.globalCompositeOperation=e}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(e){this.ctx.globalAlpha=e}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(e){this.ctx.lineDashOffset=e,P.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(e){this.ctx.lineDash=e,P.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(e){this.ctx.ignoreClearRect=Boolean(e)}})};h.prototype.setLineDash=function(e){this.lineDash=e},h.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},h.prototype.fill=function(){v.call(this,"fill",!1)},h.prototype.stroke=function(){v.call(this,"stroke",!1)},h.prototype.beginPath=function(){this.path=[{type:"begin"}]},h.prototype.moveTo=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"mt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(e,t)},h.prototype.closePath=function(){var e=new o(0,0),t=0;for(t=this.path.length-1;-1!==t;t--)if("begin"===this.path[t].type&&"object"===(0,r.A)(this.path[t+1])&&"number"==typeof this.path[t+1].x){e=new o(this.path[t+1].x,this.path[t+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new o(e.x,e.y)},h.prototype.lineTo=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var n=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"lt",x:n.x,y:n.y}),this.ctx.lastPoint=new o(n.x,n.y)},h.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),v.call(this,null,!0)},h.prototype.quadraticCurveTo=function(e,t,n,r){if(isNaN(n)||isNaN(r)||isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var s=this.ctx.transform.applyToPoint(new o(n,r)),a=this.ctx.transform.applyToPoint(new o(e,t));this.path.push({type:"qct",x1:a.x,y1:a.y,x:s.x,y:s.y}),this.ctx.lastPoint=new o(s.x,s.y)},h.prototype.bezierCurveTo=function(e,t,n,r,s,a){if(isNaN(s)||isNaN(a)||isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var i=this.ctx.transform.applyToPoint(new o(s,a)),l=this.ctx.transform.applyToPoint(new o(e,t)),c=this.ctx.transform.applyToPoint(new o(n,r));this.path.push({type:"bct",x1:l.x,y1:l.y,x2:c.x,y2:c.y,x:i.x,y:i.y}),this.ctx.lastPoint=new o(i.x,i.y)},h.prototype.arc=function(e,t,n,r,s,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s))throw ne.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(a=Boolean(a),!this.ctx.transform.isIdentity){var i=this.ctx.transform.applyToPoint(new o(e,t));e=i.x,t=i.y;var l=this.ctx.transform.applyToPoint(new o(0,n)),c=this.ctx.transform.applyToPoint(new o(0,0));n=Math.sqrt(Math.pow(l.x-c.x,2)+Math.pow(l.y-c.y,2))}Math.abs(s-r)>=2*Math.PI&&(r=0,s=2*Math.PI),this.path.push({type:"arc",x:e,y:t,radius:n,startAngle:r,endAngle:s,counterclockwise:a})},h.prototype.arcTo=function(e,t,n,r,s){throw new Error("arcTo not implemented.")},h.prototype.rect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(e,t),this.lineTo(e+n,t),this.lineTo(e+n,t+r),this.lineTo(e,t+r),this.lineTo(e,t),this.lineTo(e+n,t),this.lineTo(e,t)},h.prototype.fillRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!f.call(this)){var s={};"butt"!==this.lineCap&&(s.lineCap=this.lineCap,this.lineCap="butt"),"miter"!==this.lineJoin&&(s.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(e,t,n,r),this.fill(),s.hasOwnProperty("lineCap")&&(this.lineCap=s.lineCap),s.hasOwnProperty("lineJoin")&&(this.lineJoin=s.lineJoin)}},h.prototype.strokeRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");m.call(this)||(this.beginPath(),this.rect(e,t,n,r),this.stroke())},h.prototype.clearRect=function(e,t,n,r){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r))throw ne.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(e,t,n,r))},h.prototype.save=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("q");if(this.pdf.setPage(t),e){this.ctx.fontSize=this.pdf.internal.getFontSize();var r=new u(this.ctx);this.ctxStack.push(this.ctx),this.ctx=r}},h.prototype.restore=function(e){e="boolean"!=typeof e||e;for(var t=this.pdf.internal.getCurrentPageInfo().pageNumber,n=0;n<this.pdf.internal.getNumberOfPages();n++)this.pdf.setPage(n+1),this.pdf.internal.out("Q");this.pdf.setPage(t),e&&0!==this.ctxStack.length&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},h.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var A=function(e){var t,n,r,s;if(!0===e.isCanvasGradient&&(e=e.getColor()),!e)return{r:0,g:0,b:0,a:0,style:e};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(e))t=0,n=0,r=0,s=0;else{var a=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(e);if(null!==a)t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),s=1;else if(null!==(a=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(e)))t=parseInt(a[1]),n=parseInt(a[2]),r=parseInt(a[3]),s=parseFloat(a[4]);else{if(s=1,"string"==typeof e&&"#"!==e.charAt(0)){var i=new ce(e);e=i.ok?i.toHex():"#000000"}4===e.length?(t=e.substring(1,2),t+=t,n=e.substring(2,3),n+=n,r=e.substring(3,4),r+=r):(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7)),t=parseInt(t,16),n=parseInt(n,16),r=parseInt(r,16)}}return{r:t,g:n,b:r,a:s,style:e}},f=function(){return this.ctx.isFillTransparent||0==this.globalAlpha},m=function(){return Boolean(this.ctx.isStrokeTransparent||0==this.globalAlpha)};h.prototype.fillText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ne.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(r=isNaN(r)?void 0:r,!f.call(this)){var s=D(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;B.call(this,{text:e,x:t,y:n,scale:a,angle:s,align:this.textAlign,maxWidth:r})}},h.prototype.strokeText=function(e,t,n,r){if(isNaN(t)||isNaN(n)||"string"!=typeof e)throw ne.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!m.call(this)){r=isNaN(r)?void 0:r;var s=D(this.ctx.transform.rotation),a=this.ctx.transform.scaleX;B.call(this,{text:e,x:t,y:n,scale:a,renderingMode:"stroke",angle:s,align:this.textAlign,maxWidth:r})}},h.prototype.measureText=function(e){if("string"!=typeof e)throw ne.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var t=this.pdf,n=this.pdf.internal.scaleFactor,r=t.internal.getFontSize(),s=t.getStringUnitWidth(e)*r/t.internal.scaleFactor;return new function(e){var t=(e=e||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return t}}),this}({width:s*=Math.round(96*n/72*1e4)/1e4})},h.prototype.scale=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var n=new c(e,0,0,t,0,0);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.rotate=function(e){if(isNaN(e))throw ne.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var t=new c(Math.cos(e),Math.sin(e),-Math.sin(e),Math.cos(e),0,0);this.ctx.transform=this.ctx.transform.multiply(t)},h.prototype.translate=function(e,t){if(isNaN(e)||isNaN(t))throw ne.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var n=new c(1,0,0,1,e,t);this.ctx.transform=this.ctx.transform.multiply(n)},h.prototype.transform=function(e,t,n,r,s,a){if(isNaN(e)||isNaN(t)||isNaN(n)||isNaN(r)||isNaN(s)||isNaN(a))throw ne.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var i=new c(e,t,n,r,s,a);this.ctx.transform=this.ctx.transform.multiply(i)},h.prototype.setTransform=function(e,t,n,r,s,a){e=isNaN(e)?1:e,t=isNaN(t)?0:t,n=isNaN(n)?0:n,r=isNaN(r)?1:r,s=isNaN(s)?0:s,a=isNaN(a)?0:a,this.ctx.transform=new c(e,t,n,r,s,a)};var p=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};h.prototype.drawImage=function(e,t,n,r,s,a,i,o,d){var u=this.pdf.getImageProperties(e),h=1,A=1,f=1,m=1;void 0!==r&&void 0!==o&&(f=o/r,m=d/s,h=u.width/r*o/r,A=u.height/s*d/s),void 0===a&&(a=t,i=n,t=0,n=0),void 0!==r&&void 0===o&&(o=r,d=s),void 0===r&&void 0===o&&(o=u.width,d=u.height);for(var x,v=this.ctx.transform.decompose(),j=D(v.rotate.shx),N=new c,_=(N=(N=(N=N.multiply(v.translate)).multiply(v.skew)).multiply(v.scale)).applyToRectangle(new l(a-t*f,i-n*m,r*h,s*A)),C=g.call(this,_),S=[],k=0;k<C.length;k+=1)-1===S.indexOf(C[k])&&S.push(C[k]);if(y(S),this.autoPaging)for(var B=S[0],E=S[S.length-1],L=B;L<E+1;L++){this.pdf.setPage(L);var M=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],F=1===L?this.posY+this.margin[0]:this.margin[0],I=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],T=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],O=1===L?0:I+(L-2)*T;if(0!==this.ctx.clip_path.length){var P=this.path;x=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(x,this.posX+this.margin[3],-O+F+this.ctx.prevPageLastElemOffset),w.call(this,"fill",!0),this.path=P}var U=JSON.parse(JSON.stringify(_));U=b([U],this.posX+this.margin[3],-O+F+this.ctx.prevPageLastElemOffset)[0];var R=(L>B||L<E)&&p.call(this);R&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],M,T,null).clip().discardPath()),this.pdf.addImage(e,"JPEG",U.x,U.y,U.w,U.h,null,null,j),R&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(e,"JPEG",_.x,_.y,_.w,_.h,null,null,j)};var g=function(e,t,n){var r=[];t=t||this.pdf.internal.pageSize.width,n=n||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var s=this.posY+this.ctx.prevPageLastElemOffset;switch(e.type){default:case"mt":case"lt":r.push(Math.floor((e.y+s)/n)+1);break;case"arc":r.push(Math.floor((e.y+s-e.radius)/n)+1),r.push(Math.floor((e.y+s+e.radius)/n)+1);break;case"qct":var a=T(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x,e.y);r.push(Math.floor((a.y+s)/n)+1),r.push(Math.floor((a.y+a.h+s)/n)+1);break;case"bct":var i=O(this.ctx.lastPoint.x,this.ctx.lastPoint.y,e.x1,e.y1,e.x2,e.y2,e.x,e.y);r.push(Math.floor((i.y+s)/n)+1),r.push(Math.floor((i.y+i.h+s)/n)+1);break;case"rect":r.push(Math.floor((e.y+s)/n)+1),r.push(Math.floor((e.y+e.h+s)/n)+1)}for(var o=0;o<r.length;o+=1)for(;this.pdf.internal.getNumberOfPages()<r[o];)x.call(this);return r},x=function(){var e=this.fillStyle,t=this.strokeStyle,n=this.font,r=this.lineCap,s=this.lineWidth,a=this.lineJoin;this.pdf.addPage(),this.fillStyle=e,this.strokeStyle=t,this.font=n,this.lineCap=r,this.lineWidth=s,this.lineJoin=a},b=function(e,t,n){for(var r=0;r<e.length;r++)switch(e[r].type){case"bct":e[r].x2+=t,e[r].y2+=n;case"qct":e[r].x1+=t,e[r].y1+=n;default:e[r].x+=t,e[r].y+=n}return e},y=function(e){return e.sort(function(e,t){return e-t})},v=function(e,t){for(var n,r,s=this.fillStyle,a=this.strokeStyle,i=this.lineCap,o=this.lineWidth,l=Math.abs(o*this.ctx.transform.scaleX),c=this.lineJoin,d=JSON.parse(JSON.stringify(this.path)),u=JSON.parse(JSON.stringify(this.path)),h=[],A=0;A<u.length;A++)if(void 0!==u[A].x)for(var f=g.call(this,u[A]),m=0;m<f.length;m+=1)-1===h.indexOf(f[m])&&h.push(f[m]);for(var v=0;v<h.length;v++)for(;this.pdf.internal.getNumberOfPages()<h[v];)x.call(this);if(y(h),this.autoPaging)for(var j=h[0],N=h[h.length-1],_=j;_<N+1;_++){this.pdf.setPage(_),this.fillStyle=s,this.strokeStyle=a,this.lineCap=i,this.lineWidth=l,this.lineJoin=c;var C=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],S=1===_?this.posY+this.margin[0]:this.margin[0],k=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],B=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],E=1===_?0:k+(_-2)*B;if(0!==this.ctx.clip_path.length){var L=this.path;n=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(n,this.posX+this.margin[3],-E+S+this.ctx.prevPageLastElemOffset),w.call(this,e,!0),this.path=L}if(r=JSON.parse(JSON.stringify(d)),this.path=b(r,this.posX+this.margin[3],-E+S+this.ctx.prevPageLastElemOffset),!1===t||0===_){var M=(_>j||_<N)&&p.call(this);M&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],C,B,null).clip().discardPath()),w.call(this,e,t),M&&this.pdf.restoreGraphicsState()}this.lineWidth=o}else this.lineWidth=l,w.call(this,e,t),this.lineWidth=o;this.path=d},w=function(e,t){if(("stroke"!==e||t||!m.call(this))&&("stroke"===e||t||!f.call(this))){for(var n,r,s=[],a=this.path,i=0;i<a.length;i++){var o=a[i];switch(o.type){case"begin":s.push({begin:!0});break;case"close":s.push({close:!0});break;case"mt":s.push({start:o,deltas:[],abs:[]});break;case"lt":var l=s.length;if(a[i-1]&&!isNaN(a[i-1].x)&&(n=[o.x-a[i-1].x,o.y-a[i-1].y],l>0))for(;l>=0;l--)if(!0!==s[l-1].close&&!0!==s[l-1].begin){s[l-1].deltas.push(n),s[l-1].abs.push(o);break}break;case"bct":n=[o.x1-a[i-1].x,o.y1-a[i-1].y,o.x2-a[i-1].x,o.y2-a[i-1].y,o.x-a[i-1].x,o.y-a[i-1].y],s[s.length-1].deltas.push(n);break;case"qct":var c=a[i-1].x+2/3*(o.x1-a[i-1].x),d=a[i-1].y+2/3*(o.y1-a[i-1].y),u=o.x+2/3*(o.x1-o.x),h=o.y+2/3*(o.y1-o.y),A=o.x,p=o.y;n=[c-a[i-1].x,d-a[i-1].y,u-a[i-1].x,h-a[i-1].y,A-a[i-1].x,p-a[i-1].y],s[s.length-1].deltas.push(n);break;case"arc":s.push({deltas:[],abs:[],arc:!0}),Array.isArray(s[s.length-1].abs)&&s[s.length-1].abs.push(o)}}r=t?null:"stroke"===e?"stroke":"fill";for(var g=!1,x=0;x<s.length;x++)if(s[x].arc)for(var b=s[x].abs,y=0;y<b.length;y++){var v=b[y];"arc"===v.type?_.call(this,v.x,v.y,v.radius,v.startAngle,v.endAngle,v.counterclockwise,void 0,t,!g):E.call(this,v.x,v.y),g=!0}else if(!0===s[x].close)this.pdf.internal.out("h"),g=!1;else if(!0!==s[x].begin){var w=s[x].start.x,j=s[x].start.y;L.call(this,s[x].deltas,w,j),g=!0}r&&C.call(this,r),t&&S.call(this)}},j=function(e){var t=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,n=t*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return e-n;case"top":return e+t-n;case"hanging":return e+t-2*n;case"middle":return e+t/2-n;default:return e}},N=function(e){return e+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};h.prototype.createLinearGradient=function(){var e=function(){};return e.colorStops=[],e.addColorStop=function(e,t){this.colorStops.push([e,t])},e.getColor=function(){return 0===this.colorStops.length?"#000000":this.colorStops[0][1]},e.isCanvasGradient=!0,e},h.prototype.createPattern=function(){return this.createLinearGradient()},h.prototype.createRadialGradient=function(){return this.createLinearGradient()};var _=function(e,t,n,r,s,a,i,o,l){for(var c=F.call(this,n,r,s,a),d=0;d<c.length;d++){var u=c[d];0===d&&(l?k.call(this,u.x1+e,u.y1+t):E.call(this,u.x1+e,u.y1+t)),M.call(this,e,t,u.x2,u.y2,u.x3,u.y3,u.x4,u.y4)}o?S.call(this):C.call(this,i)},C=function(e){switch(e){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},S=function(){this.pdf.clip(),this.pdf.discardPath()},k=function(e,t){this.pdf.internal.out(n(e)+" "+s(t)+" m")},B=function(e){var t;switch(e.align){case"right":case"end":t="right";break;case"center":t="center";break;default:t="left"}var n=this.pdf.getTextDimensions(e.text),r=j.call(this,e.y),s=N.call(this,r)-n.h,a=this.ctx.transform.applyToPoint(new o(e.x,r)),i=this.ctx.transform.decompose(),d=new c;d=(d=(d=d.multiply(i.translate)).multiply(i.skew)).multiply(i.scale);for(var u,h,A,f=this.ctx.transform.applyToRectangle(new l(e.x,r,n.w,n.h)),m=d.applyToRectangle(new l(e.x,s,n.w,n.h)),x=g.call(this,m),v=[],_=0;_<x.length;_+=1)-1===v.indexOf(x[_])&&v.push(x[_]);if(y(v),this.autoPaging)for(var C=v[0],S=v[v.length-1],k=C;k<S+1;k++){this.pdf.setPage(k);var B=1===k?this.posY+this.margin[0]:this.margin[0],E=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],L=this.pdf.internal.pageSize.height-this.margin[2],M=L-this.margin[0],F=this.pdf.internal.pageSize.width-this.margin[1],I=F-this.margin[3],D=1===k?0:E+(k-2)*M;if(0!==this.ctx.clip_path.length){var T=this.path;u=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=b(u,this.posX+this.margin[3],-1*D+B),w.call(this,"fill",!0),this.path=T}var O=b([JSON.parse(JSON.stringify(m))],this.posX+this.margin[3],-D+B+this.ctx.prevPageLastElemOffset)[0];e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),A=this.lineWidth,this.lineWidth=A*e.scale);var P="text"!==this.autoPaging;if(P||O.y+O.h<=L){if(P||O.y>=B&&O.x<=F){var U=P?e.text:this.pdf.splitTextToSize(e.text,e.maxWidth||F-O.x)[0],R=b([JSON.parse(JSON.stringify(f))],this.posX+this.margin[3],-D+B+this.ctx.prevPageLastElemOffset)[0],Q=P&&(k>C||k<S)&&p.call(this);Q&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],I,M,null).clip().discardPath()),this.pdf.text(U,R.x,R.y,{angle:e.angle,align:t,renderingMode:e.renderingMode}),Q&&this.pdf.restoreGraphicsState()}}else O.y<L&&(this.ctx.prevPageLastElemOffset+=L-O.y);e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=A)}else e.scale>=.01&&(h=this.pdf.internal.getFontSize(),this.pdf.setFontSize(h*e.scale),A=this.lineWidth,this.lineWidth=A*e.scale),this.pdf.text(e.text,a.x+this.posX,a.y+this.posY,{angle:e.angle,align:t,renderingMode:e.renderingMode,maxWidth:e.maxWidth}),e.scale>=.01&&(this.pdf.setFontSize(h),this.lineWidth=A)},E=function(e,t,r,a){r=r||0,a=a||0,this.pdf.internal.out(n(e+r)+" "+s(t+a)+" l")},L=function(e,t,n){return this.pdf.lines(e,t,n,null,null)},M=function(e,n,r,s,o,l,c,d){this.pdf.internal.out([t(a(r+e)),t(i(s+n)),t(a(o+e)),t(i(l+n)),t(a(c+e)),t(i(d+n)),"c"].join(" "))},F=function(e,t,n,r){for(var s=2*Math.PI,a=Math.PI/2;t>n;)t-=s;var i=Math.abs(n-t);i<s&&r&&(i=s-i);for(var o=[],l=r?-1:1,c=t;i>1e-5;){var d=c+l*Math.min(i,a);o.push(I.call(this,e,c,d)),i-=Math.abs(d-c),c=d}return o},I=function(e,t,n){var r=(n-t)/2,s=e*Math.cos(r),a=e*Math.sin(r),i=s,o=-a,l=i*i+o*o,c=l+i*s+o*a,d=4/3*(Math.sqrt(2*l*c)-c)/(i*a-o*s),u=i-d*o,h=o+d*i,A=u,f=-h,m=r+t,p=Math.cos(m),g=Math.sin(m);return{x1:e*Math.cos(t),y1:e*Math.sin(t),x2:u*p-h*g,y2:u*g+h*p,x3:A*p-f*g,y3:A*g+f*p,x4:e*Math.cos(n),y4:e*Math.sin(n)}},D=function(e){return 180*e/Math.PI},T=function(e,t,n,r,s,a){var i=e+.5*(n-e),o=t+.5*(r-t),c=s+.5*(n-s),d=a+.5*(r-a),u=Math.min(e,s,i,c),h=Math.max(e,s,i,c),A=Math.min(t,a,o,d),f=Math.max(t,a,o,d);return new l(u,A,h-u,f-A)},O=function(e,t,n,r,s,a,i,o){var c,d,u,h,A,f,m,p,g,x,b,y,v,w,j=n-e,N=r-t,_=s-n,C=a-r,S=i-s,k=o-a;for(d=0;d<41;d++)g=(m=(u=e+(c=d/40)*j)+c*((A=n+c*_)-u))+c*(A+c*(s+c*S-A)-m),x=(p=(h=t+c*N)+c*((f=r+c*C)-h))+c*(f+c*(a+c*k-f)-p),0==d?(b=g,y=x,v=g,w=x):(b=Math.min(b,g),y=Math.min(y,x),v=Math.max(v,g),w=Math.max(w,x));return new l(Math.round(b),Math.round(y),Math.round(v-b),Math.round(w-y))},P=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var e,t,n=(e=this.ctx.lineDash,t=this.ctx.lineDashOffset,JSON.stringify({lineDash:e,lineDashOffset:t}));this.prevLineDash!==n&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=n)}}}(Fe.API),function(e){var t=function(e){var t,n,r,s,a,i,o,l,c,d;for(/[^\x00-\xFF]/.test(e),n=[],r=0,s=(e+=t="\0\0\0\0".slice(e.length%4||4)).length;s>r;r+=4)0!==(a=(e.charCodeAt(r)<<24)+(e.charCodeAt(r+1)<<16)+(e.charCodeAt(r+2)<<8)+e.charCodeAt(r+3))?(i=(a=((a=((a=((a=(a-(d=a%85))/85)-(c=a%85))/85)-(l=a%85))/85)-(o=a%85))/85)%85,n.push(i+33,o+33,l+33,c+33,d+33)):n.push(122);return function(e,t){for(var n=t;n>0;n--)e.pop()}(n,t.length),String.fromCharCode.apply(String,n)+"~>"},n=function(e){var t,n,r,s,a,i=String,o="length",l=255,c="charCodeAt",d="slice",u="replace";for(e[d](-2),e=e[d](0,-2)[u](/\s/g,"")[u]("z","!!!!!"),r=[],s=0,a=(e+=t="uuuuu"[d](e[o]%5||5))[o];a>s;s+=5)n=52200625*(e[c](s)-33)+614125*(e[c](s+1)-33)+7225*(e[c](s+2)-33)+85*(e[c](s+3)-33)+(e[c](s+4)-33),r.push(l&n>>24,l&n>>16,l&n>>8,l&n);return function(e,t){for(var n=t;n>0;n--)e.pop()}(r,t[o]),i.fromCharCode.apply(i,r)},r=function(e){var t=new RegExp(/^([0-9A-Fa-f]{2})+$/);if(-1!==(e=e.replace(/\s/g,"")).indexOf(">")&&(e=e.substr(0,e.indexOf(">"))),e.length%2&&(e+="0"),!1===t.test(e))return"";for(var n="",r=0;r<e.length;r+=2)n+=String.fromCharCode("0x"+(e[r]+e[r+1]));return n},s=function(e){for(var t=new Uint8Array(e.length),n=e.length;n--;)t[n]=e.charCodeAt(n);return(t=X(t)).reduce(function(e,t){return e+String.fromCharCode(t)},"")};e.processDataByFilters=function(e,a){var i=0,o=e||"",l=[];for("string"==typeof(a=a||[])&&(a=[a]),i=0;i<a.length;i+=1)switch(a[i]){case"ASCII85Decode":case"/ASCII85Decode":o=n(o),l.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":o=t(o),l.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":o=r(o),l.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":o=o.split("").map(function(e){return("0"+e.charCodeAt().toString(16)).slice(-2)}).join("")+">",l.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":o=s(o),l.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[i]+'" is not implemented')}return{data:o,reverseChain:l.reverse().join(" ")}}}(Fe.API),(Ut=Fe.API).loadFile=function(e,t,n){return function(e,t,n){t=!1!==t,n="function"==typeof n?n:function(){};var r=void 0;try{r=function(e,t,n){var r=new XMLHttpRequest,s=0,a=function(e){var t=e.length,n=[],r=String.fromCharCode;for(s=0;s<t;s+=1)n.push(r(255&e.charCodeAt(s)));return n.join("")};if(r.open("GET",e,!t),r.overrideMimeType("text/plain; charset=x-user-defined"),!1===t&&(r.onload=function(){200===r.status?n(a(this.responseText)):n(void 0)}),r.send(null),t&&200===r.status)return a(r.responseText)}(e,t,n)}catch(e){}return r}(e,t,n)},Ut.loadImageFile=Ut.loadFile,function(e){function t(){return(ee.html2canvas?Promise.resolve(ee.html2canvas):Promise.resolve().then(n.t.bind(n,5239,23))).catch(function(e){return Promise.reject(new Error("Could not load html2canvas: "+e))}).then(function(e){return e.default?e.default:e})}function s(){return(ee.DOMPurify?Promise.resolve(ee.DOMPurify):n.e(213).then(n.t.bind(n,6213,23))).catch(function(e){return Promise.reject(new Error("Could not load dompurify: "+e))}).then(function(e){return e.default?e.default:e})}var a=function(e){var t=(0,r.A)(e);return"undefined"===t?"undefined":"string"===t||e instanceof String?"string":"number"===t||e instanceof Number?"number":"function"===t||e instanceof Function?"function":e&&e.constructor===Array?"array":e&&1===e.nodeType?"element":"object"===t?"object":"unknown"},i=function(e,t){var n=document.createElement(e);for(var r in t.className&&(n.className=t.className),t.innerHTML&&t.dompurify&&(n.innerHTML=t.dompurify.sanitize(t.innerHTML)),t.style)n.style[r]=t.style[r];return n},o=function e(t){var n=Object.assign(e.convert(Promise.resolve()),JSON.parse(JSON.stringify(e.template))),r=e.convert(Promise.resolve(),n);return(r=r.setProgress(1,e,1,[e])).set(t)};(o.prototype=Object.create(Promise.prototype)).constructor=o,o.convert=function(e,t){return e.__proto__=t||o.prototype,e},o.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},o.prototype.from=function(e,t){return this.then(function(){switch(t=t||function(e){switch(a(e)){case"string":return"string";case"element":return"canvas"===e.nodeName.toLowerCase()?"canvas":"element";default:return"unknown"}}(e)){case"string":return this.then(s).then(function(t){return this.set({src:i("div",{innerHTML:e,dompurify:t})})});case"element":return this.set({src:e});case"canvas":return this.set({canvas:e});case"img":return this.set({img:e});default:return this.error("Unknown source type.")}})},o.prototype.to=function(e){switch(e){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},o.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var e={position:"relative",display:"inline-block",width:("number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},t=function e(t,n){for(var r=3===t.nodeType?document.createTextNode(t.nodeValue):t.cloneNode(!1),s=t.firstChild;s;s=s.nextSibling)!0!==n&&1===s.nodeType&&"SCRIPT"===s.nodeName||r.appendChild(e(s,n));return 1===t.nodeType&&("CANVAS"===t.nodeName?(r.width=t.width,r.height=t.height,r.getContext("2d").drawImage(t,0,0)):"TEXTAREA"!==t.nodeName&&"SELECT"!==t.nodeName||(r.value=t.value),r.addEventListener("load",function(){r.scrollTop=t.scrollTop,r.scrollLeft=t.scrollLeft},!0)),r}(this.prop.src,this.opt.html2canvas.javascriptEnabled);"BODY"===t.tagName&&(e.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:e}),this.prop.container.appendChild(t),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},o.prototype.toCanvas=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=Object.assign({},this.opt.html2canvas);return delete t.onrendered,e(this.prop.container,t)}).then(function(e){(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toContext2d=function(){var e=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(e).then(t).then(function(e){var t=this.opt.jsPDF,n=this.opt.fontFaces,r="number"!=typeof this.opt.width||isNaN(this.opt.width)||"number"!=typeof this.opt.windowWidth||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,s=Object.assign({async:!0,allowTaint:!0,scale:r,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete s.onrendered,t.context2d.autoPaging=void 0===this.opt.autoPaging||this.opt.autoPaging,t.context2d.posX=this.opt.x,t.context2d.posY=this.opt.y,t.context2d.margin=this.opt.margin,t.context2d.fontFaces=n,n)for(var a=0;a<n.length;++a){var i=n[a],o=i.src.find(function(e){return"truetype"===e.format});o&&t.addFont(o.url,i.ref.name,i.ref.style)}return s.windowHeight=s.windowHeight||0,s.windowHeight=0==s.windowHeight?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):s.windowHeight,t.context2d.save(!0),e(this.prop.container,s)}).then(function(e){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(e),this.prop.canvas=e,document.body.removeChild(this.prop.overlay)})},o.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var e=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=e})},o.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},o.prototype.output=function(e,t,n){return"img"===(n=n||"pdf").toLowerCase()||"image"===n.toLowerCase()?this.outputImg(e,t):this.outputPdf(e,t)},o.prototype.outputPdf=function(e,t){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(e,t)})},o.prototype.outputImg=function(e){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(e){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+e+'" is not supported.'}})},o.prototype.save=function(e){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(e?{filename:e}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},o.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},o.prototype.set=function(e){if("object"!==a(e))return this;var t=Object.keys(e||{}).map(function(t){if(t in o.template.prop)return function(){this.prop[t]=e[t]};switch(t){case"margin":return this.setMargin.bind(this,e.margin);case"jsPDF":return function(){return this.opt.jsPDF=e.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,e.pageSize);default:return function(){this.opt[t]=e[t]}}},this);return this.then(function(){return this.thenList(t)})},o.prototype.get=function(e,t){return this.then(function(){var n=e in o.template.prop?this.prop[e]:this.opt[e];return t?t(n):n})},o.prototype.setMargin=function(e){return this.then(function(){switch(a(e)){case"number":e=[e,e,e,e];case"array":if(2===e.length&&(e=[e[0],e[1],e[0],e[1]]),4===e.length)break;default:return this.error("Invalid margin array.")}this.opt.margin=e}).then(this.setPageSize)},o.prototype.setPageSize=function(e){function t(e,t){return Math.floor(e*t/72*96)}return this.then(function(){(e=e||Fe.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(e.inner={width:e.width-this.opt.margin[1]-this.opt.margin[3],height:e.height-this.opt.margin[0]-this.opt.margin[2]},e.inner.px={width:t(e.inner.width,e.k),height:t(e.inner.height,e.k)},e.inner.ratio=e.inner.height/e.inner.width),this.prop.pageSize=e})},o.prototype.setProgress=function(e,t,n,r){return null!=e&&(this.progress.val=e),null!=t&&(this.progress.state=t),null!=n&&(this.progress.n=n),null!=r&&(this.progress.stack=r),this.progress.ratio=this.progress.val/this.progress.state,this},o.prototype.updateProgress=function(e,t,n,r){return this.setProgress(e?this.progress.val+e:null,t||null,n?this.progress.n+n:null,r?this.progress.stack.concat(r):null)},o.prototype.then=function(e,t){var n=this;return this.thenCore(e,t,function(e,t){return n.updateProgress(null,null,1,[e]),Promise.prototype.then.call(this,function(t){return n.updateProgress(null,e),t}).then(e,t).then(function(e){return n.updateProgress(1),e})})},o.prototype.thenCore=function(e,t,n){n=n||Promise.prototype.then,e&&(e=e.bind(this)),t&&(t=t.bind(this));var r=-1!==Promise.toString().indexOf("[native code]")&&"Promise"===Promise.name?this:o.convert(Object.assign({},this),Promise.prototype),s=n.call(r,e,t);return o.convert(s,this.__proto__)},o.prototype.thenExternal=function(e,t){return Promise.prototype.then.call(this,e,t)},o.prototype.thenList=function(e){var t=this;return e.forEach(function(e){t=t.thenCore(e)}),t},o.prototype.catch=function(e){e&&(e=e.bind(this));var t=Promise.prototype.catch.call(this,e);return o.convert(t,this)},o.prototype.catchExternal=function(e){return Promise.prototype.catch.call(this,e)},o.prototype.error=function(e){return this.then(function(){throw new Error(e)})},o.prototype.using=o.prototype.set,o.prototype.saveAs=o.prototype.save,o.prototype.export=o.prototype.output,o.prototype.run=o.prototype.then,Fe.getPageSize=function(e,t,n){if("object"===(0,r.A)(e)){var s=e;e=s.orientation,t=s.unit||t,n=s.format||n}t=t||"mm",n=n||"a4",e=(""+(e||"P")).toLowerCase();var a,i=(""+n).toLowerCase(),o={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(t){case"pt":a=1;break;case"mm":a=72/25.4;break;case"cm":a=72/2.54;break;case"in":a=72;break;case"px":a=.75;break;case"pc":case"em":a=12;break;case"ex":a=6;break;default:throw"Invalid unit: "+t}var l,c=0,d=0;if(o.hasOwnProperty(i))c=o[i][1]/a,d=o[i][0]/a;else try{c=n[1],d=n[0]}catch(Ut){throw new Error("Invalid format: "+n)}if("p"===e||"portrait"===e)e="p",d>c&&(l=d,d=c,c=l);else{if("l"!==e&&"landscape"!==e)throw"Invalid orientation: "+e;e="l",c>d&&(l=d,d=c,c=l)}return{width:d,height:c,unit:t,k:a,orientation:e}},e.html=function(e,t){(t=t||{}).callback=t.callback||function(){},t.html2canvas=t.html2canvas||{},t.html2canvas.canvas=t.html2canvas.canvas||this.canvas,t.jsPDF=t.jsPDF||this,t.fontFaces=t.fontFaces?t.fontFaces.map(kt):null;var n=new o(t);return t.worker?n:n.from(e).doCallback()}}(Fe.API),Fe.API.addJS=function(e){return Pt=e,this.internal.events.subscribe("postPutResources",function(){Tt=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Tt+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Ot=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Pt+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){void 0!==Tt&&void 0!==Ot&&this.internal.out("/Names <</JavaScript "+Tt+" 0 R>>")}),this},function(e){var t;e.events.push(["postPutResources",function(){var e=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var r=e.outline.render().split(/\r\n/),s=0;s<r.length;s++){var a=r[s],i=n.exec(a);if(null!=i){var o=i[1];e.internal.newObjectDeferredBegin(o,!1)}e.internal.write(a)}if(this.outline.createNamedDestinations){var l=this.internal.pages.length,c=[];for(s=0;s<l;s++){var d=e.internal.newObject();c.push(d);var u=e.internal.getPageInfo(s+1);e.internal.write("<< /D["+u.objId+" 0 R /XYZ null null null]>> endobj")}var h=e.internal.newObject();for(e.internal.write("<< /Names [ "),s=0;s<c.length;s++)e.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");e.internal.write(" ] >>","endobj"),t=e.internal.newObject(),e.internal.write("<< /Dests "+h+" 0 R"),e.internal.write(">>","endobj")}}]),e.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+t+" 0 R"))}]),e.events.push(["initialized",function(){var e=this;e.outline={createNamedDestinations:!1,root:{children:[]}},e.outline.add=function(e,t,n){var r={title:t,options:n,children:[]};return null==e&&(e=this.root),e.children.push(r),r},e.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=e,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},e.outline.genIds_r=function(t){t.id=e.internal.newObjectDeferred();for(var n=0;n<t.children.length;n++)this.genIds_r(t.children[n])},e.outline.renderRoot=function(e){this.objStart(e),this.line("/Type /Outlines"),e.children.length>0&&(this.line("/First "+this.makeRef(e.children[0])),this.line("/Last "+this.makeRef(e.children[e.children.length-1]))),this.line("/Count "+this.count_r({count:0},e)),this.objEnd()},e.outline.renderItems=function(t){for(var n=this.ctx.pdf.internal.getVerticalCoordinateString,r=0;r<t.children.length;r++){var s=t.children[r];this.objStart(s),this.line("/Title "+this.makeString(s.title)),this.line("/Parent "+this.makeRef(t)),r>0&&this.line("/Prev "+this.makeRef(t.children[r-1])),r<t.children.length-1&&this.line("/Next "+this.makeRef(t.children[r+1])),s.children.length>0&&(this.line("/First "+this.makeRef(s.children[0])),this.line("/Last "+this.makeRef(s.children[s.children.length-1])));var a=this.count=this.count_r({count:0},s);if(a>0&&this.line("/Count "+a),s.options&&s.options.pageNumber){var i=e.internal.getPageInfo(s.options.pageNumber);this.line("/Dest ["+i.objId+" 0 R /XYZ 0 "+n(0)+" 0]")}this.objEnd()}for(var o=0;o<t.children.length;o++)this.renderItems(t.children[o])},e.outline.line=function(e){this.ctx.val+=e+"\r\n"},e.outline.makeRef=function(e){return e.id+" 0 R"},e.outline.makeString=function(t){return"("+e.internal.pdfEscape(t)+")"},e.outline.objStart=function(e){this.ctx.val+="\r\n"+e.id+" 0 obj\r\n<<\r\n"},e.outline.objEnd=function(){this.ctx.val+=">> \r\nendobj\r\n"},e.outline.count_r=function(e,t){for(var n=0;n<t.children.length;n++)e.count++,this.count_r(e,t.children[n]);return e.count}}])}(Fe.API),function(e){var t=[192,193,194,195,196,197,198,199];e.processJPEG=function(e,n,r,s,a,i){var o,l=this.decode.DCT_DECODE,c=null;if("string"==typeof e||this.__addimage__.isArrayBuffer(e)||this.__addimage__.isArrayBufferView(e)){switch(e=a||e,e=this.__addimage__.isArrayBuffer(e)?new Uint8Array(e):e,(o=function(e){for(var n,r=256*e.charCodeAt(4)+e.charCodeAt(5),s=e.length,a={width:0,height:0,numcomponents:1},i=4;i<s;i+=2){if(i+=r,-1!==t.indexOf(e.charCodeAt(i+1))){n=256*e.charCodeAt(i+5)+e.charCodeAt(i+6),a={width:256*e.charCodeAt(i+7)+e.charCodeAt(i+8),height:n,numcomponents:e.charCodeAt(i+9)};break}r=256*e.charCodeAt(i+2)+e.charCodeAt(i+3)}return a}(e=this.__addimage__.isArrayBufferView(e)?this.__addimage__.arrayBufferToBinaryString(e):e)).numcomponents){case 1:i=this.color_spaces.DEVICE_GRAY;break;case 4:i=this.color_spaces.DEVICE_CMYK;break;case 3:i=this.color_spaces.DEVICE_RGB}c={data:e,width:o.width,height:o.height,colorSpace:i,bitsPerComponent:8,filter:l,index:n,alias:r}}return c}}(Fe.API);var Qt,zt,Ht,Kt,Wt,Vt=function(){var e,t,n;function r(e){var t,n,r,s,a,i,o,l,c,d,u,h,A,f;for(this.data=e,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},i=null;;){switch(t=this.readUInt32(),c=function(){var e,t;for(t=[],e=0;e<4;++e)t.push(String.fromCharCode(this.data[this.pos++]));return t}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(t);break;case"fcTL":i&&this.animation.frames.push(i),this.pos+=4,i={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},a=this.readUInt16(),s=this.readUInt16()||100,i.delay=1e3*a/s,i.disposeOp=this.data[this.pos++],i.blendOp=this.data[this.pos++],i.data=[];break;case"IDAT":case"fdAT":for("fdAT"===c&&(this.pos+=4,t-=4),e=(null!=i?i.data:void 0)||this.imgData,h=0;0<=t?h<t:h>t;0<=t?++h:--h)e.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(r=this.palette.length/3,this.transparency.indexed=this.read(t),this.transparency.indexed.length>r)throw new Error("More transparent colors than palette size");if((d=r-this.transparency.indexed.length)>0)for(A=0;0<=d?A<d:A>d;0<=d?++A:--A)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(t)[0];break;case 2:this.transparency.rgb=this.read(t)}break;case"tEXt":o=(u=this.read(t)).indexOf(0),l=String.fromCharCode.apply(String,u.slice(0,o)),this.text[l]=String.fromCharCode.apply(String,u.slice(o+1));break;case"IEND":return i&&this.animation.frames.push(i),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,n=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*n,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=t}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;0<=e?++t:--t)n.push(this.data[this.pos++]);return n},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(e){var t=this.pixelBitlength/8,n=new Uint8Array(this.width*this.height*t),r=0,s=this;if(null==e&&(e=this.imgData),0===e.length)return new Uint8Array(0);function a(a,i,o,l){var c,d,u,h,A,f,m,p,g,x,b,y,v,w,j,N,_,C,S,k,B,E=Math.ceil((s.width-a)/o),L=Math.ceil((s.height-i)/l),M=s.width==E&&s.height==L;for(w=t*E,y=M?n:new Uint8Array(w*L),f=e.length,v=0,d=0;v<L&&r<f;){switch(e[r++]){case 0:for(h=_=0;_<w;h=_+=1)y[d++]=e[r++];break;case 1:for(h=C=0;C<w;h=C+=1)c=e[r++],A=h<t?0:y[d-t],y[d++]=(c+A)%256;break;case 2:for(h=S=0;S<w;h=S+=1)c=e[r++],u=(h-h%t)/t,j=v&&y[(v-1)*w+u*t+h%t],y[d++]=(j+c)%256;break;case 3:for(h=k=0;k<w;h=k+=1)c=e[r++],u=(h-h%t)/t,A=h<t?0:y[d-t],j=v&&y[(v-1)*w+u*t+h%t],y[d++]=(c+Math.floor((A+j)/2))%256;break;case 4:for(h=B=0;B<w;h=B+=1)c=e[r++],u=(h-h%t)/t,A=h<t?0:y[d-t],0===v?j=N=0:(j=y[(v-1)*w+u*t+h%t],N=u&&y[(v-1)*w+(u-1)*t+h%t]),m=A+j-N,p=Math.abs(m-A),x=Math.abs(m-j),b=Math.abs(m-N),g=p<=x&&p<=b?A:x<=b?j:N,y[d++]=(c+g)%256;break;default:throw new Error("Invalid filter algorithm: "+e[r-1])}if(!M){var F=((i+v*l)*s.width+a)*t,I=v*w;for(h=0;h<E;h+=1){for(var D=0;D<t;D+=1)n[F++]=y[I++];F+=(o-1)*t}}v++}}return e=Z(e),1==s.interlaceMethod?(a(0,0,8,8),a(4,0,8,8),a(0,4,4,8),a(2,0,4,4),a(0,2,2,4),a(1,0,2,2),a(0,1,1,2)):a(0,0,1,1),n},r.prototype.decodePalette=function(){var e,t,n,r,s,a,i,o,l;for(n=this.palette,a=this.transparency.indexed||[],s=new Uint8Array((a.length||0)+n.length),r=0,e=0,t=i=0,o=n.length;i<o;t=i+=3)s[r++]=n[t],s[r++]=n[t+1],s[r++]=n[t+2],s[r++]=null!=(l=a[e++])?l:255;return s},r.prototype.copyToImageData=function(e,t){var n,r,s,a,i,o,l,c,d,u,h;if(r=this.colors,d=null,n=this.hasAlphaChannel,this.palette.length&&(d=null!=(h=this._decodedPalette)?h:this._decodedPalette=this.decodePalette(),r=4,n=!0),c=(s=e.data||e).length,i=d||t,a=o=0,1===r)for(;a<c;)l=d?4*t[a/4]:o,u=i[l++],s[a++]=u,s[a++]=u,s[a++]=u,s[a++]=n?i[l++]:255,o=l;else for(;a<c;)l=d?4*t[a/4]:o,s[a++]=i[l++],s[a++]=i[l++],s[a++]=i[l++],s[a++]=n?i[l++]:255,o=l},r.prototype.decode=function(){var e;return e=new Uint8Array(this.width*this.height*4),this.copyToImageData(e,this.decodePixels()),e};var s=function(){if("[object Window]"===Object.prototype.toString.call(ee)){try{t=ee.document.createElement("canvas"),n=t.getContext("2d")}catch(e){return!1}return!0}return!1};return s(),e=function(e){var r;if(!0===s())return n.width=e.width,n.height=e.height,n.clearRect(0,0,e.width,e.height),n.putImageData(e,0,0),(r=new Image).src=t.toDataURL(),r;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(t){var n,r,s,a,i,o,l,c;if(this.animation){for(c=[],r=i=0,o=(l=this.animation.frames).length;i<o;r=++i)n=l[r],s=t.createImageData(n.width,n.height),a=this.decodePixels(new Uint8Array(n.data)),this.copyToImageData(s,a),n.imageData=s,c.push(n.image=e(s));return c}},r.prototype.renderFrame=function(e,t){var n,r,s;return n=(r=this.animation.frames)[t],s=r[t-1],0===t&&e.clearRect(0,0,this.width,this.height),1===(null!=s?s.disposeOp:void 0)?e.clearRect(s.xOffset,s.yOffset,s.width,s.height):2===(null!=s?s.disposeOp:void 0)&&e.putImageData(s.imageData,s.xOffset,s.yOffset),0===n.blendOp&&e.clearRect(n.xOffset,n.yOffset,n.width,n.height),e.drawImage(n.image,n.xOffset,n.yOffset)},r.prototype.animate=function(e){var t,n,r,s,a,i,o=this;return n=0,i=this.animation,s=i.numFrames,r=i.frames,a=i.numPlays,(t=function(){var i,l;if(i=n++%s,l=r[i],o.renderFrame(e,i),s>1&&n/s<a)return o.animation._timeout=setTimeout(t,l.delay)})()},r.prototype.stopAnimation=function(){var e;return clearTimeout(null!=(e=this.animation)?e._timeout:void 0)},r.prototype.render=function(e){var t,n;return e._png&&e._png.stopAnimation(),e._png=this,e.width=this.width,e.height=this.height,t=e.getContext("2d"),this.animation?(this.decodeFrames(t),this.animate(t)):(n=t.createImageData(this.width,this.height),this.copyToImageData(n,this.decodePixels()),t.putImageData(n,0,0))},r}();function qt(e){var t=0;if(71!==e[t++]||73!==e[t++]||70!==e[t++]||56!==e[t++]||56!=(e[t++]+1&253)||97!==e[t++])throw new Error("Invalid GIF 87a/89a header.");var n=e[t++]|e[t++]<<8,r=e[t++]|e[t++]<<8,s=e[t++],a=s>>7,i=1<<1+(7&s);e[t++],e[t++];var o=null,l=null;a&&(o=t,l=i,t+=3*i);var c=!0,d=[],u=0,h=null,A=0,f=null;for(this.width=n,this.height=r;c&&t<e.length;)switch(e[t++]){case 33:switch(e[t++]){case 255:if(11!==e[t]||78==e[t+1]&&69==e[t+2]&&84==e[t+3]&&83==e[t+4]&&67==e[t+5]&&65==e[t+6]&&80==e[t+7]&&69==e[t+8]&&50==e[t+9]&&46==e[t+10]&&48==e[t+11]&&3==e[t+12]&&1==e[t+13]&&0==e[t+16])t+=14,f=e[t++]|e[t++]<<8,t++;else for(t+=12;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(0===S)break;t+=S}break;case 249:if(4!==e[t++]||0!==e[t+4])throw new Error("Invalid graphics extension block.");var m=e[t++];u=e[t++]|e[t++]<<8,h=e[t++],0==(1&m)&&(h=null),A=m>>2&7,t++;break;case 254:for(;;){if(!((S=e[t++])>=0))throw Error("Invalid block size");if(0===S)break;t+=S}break;default:throw new Error("Unknown graphic control label: 0x"+e[t-1].toString(16))}break;case 44:var p=e[t++]|e[t++]<<8,g=e[t++]|e[t++]<<8,x=e[t++]|e[t++]<<8,b=e[t++]|e[t++]<<8,y=e[t++],v=y>>6&1,w=1<<1+(7&y),j=o,N=l,_=!1;y>>7&&(_=!0,j=t,N=w,t+=3*w);var C=t;for(t++;;){var S;if(!((S=e[t++])>=0))throw Error("Invalid block size");if(0===S)break;t+=S}d.push({x:p,y:g,width:x,height:b,has_local_palette:_,palette_offset:j,palette_size:N,data_offset:C,data_length:t-C,transparent_index:h,interlaced:!!v,delay:u,disposal:A});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+e[t-1].toString(16))}this.numFrames=function(){return d.length},this.loopCount=function(){return f},this.frameInfo=function(e){if(e<0||e>=d.length)throw new Error("Frame index out of range.");return d[e]},this.decodeAndBlitFrameBGRA=function(t,r){var s=this.frameInfo(t),a=s.width*s.height,i=new Uint8Array(a);Gt(e,s.data_offset,i,a);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var c=s.width,d=n-c,u=c,h=4*(s.y*n+s.x),A=4*((s.y+s.height)*n+s.x),f=h,m=4*d;!0===s.interlaced&&(m+=4*n*7);for(var p=8,g=0,x=i.length;g<x;++g){var b=i[g];if(0===u&&(u=c,(f+=m)>=A&&(m=4*d+4*n*(p-1),f=h+(c+d)*(p<<1),p>>=1)),b===l)f+=4;else{var y=e[o+3*b],v=e[o+3*b+1],w=e[o+3*b+2];r[f++]=w,r[f++]=v,r[f++]=y,r[f++]=255}--u}},this.decodeAndBlitFrameRGBA=function(t,r){var s=this.frameInfo(t),a=s.width*s.height,i=new Uint8Array(a);Gt(e,s.data_offset,i,a);var o=s.palette_offset,l=s.transparent_index;null===l&&(l=256);var c=s.width,d=n-c,u=c,h=4*(s.y*n+s.x),A=4*((s.y+s.height)*n+s.x),f=h,m=4*d;!0===s.interlaced&&(m+=4*n*7);for(var p=8,g=0,x=i.length;g<x;++g){var b=i[g];if(0===u&&(u=c,(f+=m)>=A&&(m=4*d+4*n*(p-1),f=h+(c+d)*(p<<1),p>>=1)),b===l)f+=4;else{var y=e[o+3*b],v=e[o+3*b+1],w=e[o+3*b+2];r[f++]=y,r[f++]=v,r[f++]=w,r[f++]=255}--u}}}function Gt(e,t,n,r){for(var s=e[t++],a=1<<s,i=a+1,o=i+1,l=s+1,c=(1<<l)-1,d=0,u=0,h=0,A=e[t++],f=new Int32Array(4096),m=null;;){for(;d<16&&0!==A;)u|=e[t++]<<d,d+=8,1===A?A=e[t++]:--A;if(d<l)break;var p=u&c;if(u>>=l,d-=l,p!==a){if(p===i)break;for(var g=p<o?p:m,x=0,b=g;b>a;)b=f[b]>>8,++x;var y=b;if(h+x+(g!==p?1:0)>r)return void ne.log("Warning, gif stream longer than expected.");n[h++]=y;var v=h+=x;for(g!==p&&(n[h++]=y),b=g;x--;)b=f[b],n[--v]=255&b,b>>=8;null!==m&&o<4096&&(f[o++]=m<<8|y,o>=c+1&&l<12&&(++l,c=c<<1|1)),m=p}else o=i+1,c=(1<<(l=s+1))-1,m=null}return h!==r&&ne.log("Warning, gif stream shorter than expected."),n}function Yt(e){var t,n,r,s,a,i=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),d=new Array(64),u=new Array(65535),h=new Array(65535),A=new Array(64),f=new Array(64),m=[],p=0,g=7,x=new Array(64),b=new Array(64),y=new Array(64),v=new Array(256),w=new Array(2048),j=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],N=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],_=[0,1,2,3,4,5,6,7,8,9,10,11],C=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],S=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],k=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],B=[0,1,2,3,4,5,6,7,8,9,10,11],E=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],L=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function M(e,t){for(var n=0,r=0,s=new Array,a=1;a<=16;a++){for(var i=1;i<=e[a];i++)s[t[r]]=[],s[t[r]][0]=n,s[t[r]][1]=a,r++,n++;n*=2}return s}function F(e){for(var t=e[0],n=e[1]-1;n>=0;)t&1<<n&&(p|=1<<g),n--,--g<0&&(255==p?(I(255),I(0)):I(p),g=7,p=0)}function I(e){m.push(e)}function D(e){I(e>>8&255),I(255&e)}function T(e,t,n,r,s){for(var a,i=s[0],o=s[240],l=function(e,t){var n,r,s,a,i,o,l,c,d,u,h=0;for(d=0;d<8;++d){n=e[h],r=e[h+1],s=e[h+2],a=e[h+3],i=e[h+4],o=e[h+5],l=e[h+6];var f=n+(c=e[h+7]),m=n-c,p=r+l,g=r-l,x=s+o,b=s-o,y=a+i,v=a-i,w=f+y,j=f-y,N=p+x,_=p-x;e[h]=w+N,e[h+4]=w-N;var C=.707106781*(_+j);e[h+2]=j+C,e[h+6]=j-C;var S=.382683433*((w=v+b)-(_=g+m)),k=.5411961*w+S,B=1.306562965*_+S,E=.707106781*(N=b+g),L=m+E,M=m-E;e[h+5]=M+k,e[h+3]=M-k,e[h+1]=L+B,e[h+7]=L-B,h+=8}for(h=0,d=0;d<8;++d){n=e[h],r=e[h+8],s=e[h+16],a=e[h+24],i=e[h+32],o=e[h+40],l=e[h+48];var F=n+(c=e[h+56]),I=n-c,D=r+l,T=r-l,O=s+o,P=s-o,U=a+i,R=a-i,Q=F+U,z=F-U,H=D+O,K=D-O;e[h]=Q+H,e[h+32]=Q-H;var W=.707106781*(K+z);e[h+16]=z+W,e[h+48]=z-W;var V=.382683433*((Q=R+P)-(K=T+I)),q=.5411961*Q+V,G=1.306562965*K+V,Y=.707106781*(H=P+T),J=I+Y,X=I-Y;e[h+40]=X+q,e[h+24]=X-q,e[h+8]=J+G,e[h+56]=J-G,h++}for(d=0;d<64;++d)u=e[d]*t[d],A[d]=u>0?u+.5|0:u-.5|0;return A}(e,t),c=0;c<64;++c)f[j[c]]=l[c];var d=f[0]-n;n=f[0],0==d?F(r[0]):(F(r[h[a=32767+d]]),F(u[a]));for(var m=63;m>0&&0==f[m];)m--;if(0==m)return F(i),n;for(var p,g=1;g<=m;){for(var x=g;0==f[g]&&g<=m;)++g;var b=g-x;if(b>=16){p=b>>4;for(var y=1;y<=p;++y)F(o);b&=15}a=32767+f[g],F(s[(b<<4)+h[a]]),F(u[a]),g++}return 63!=m&&F(i),n}function O(e){e=Math.min(Math.max(e,1),100),a!=e&&(function(e){for(var t=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],n=0;n<64;n++){var r=i((t[n]*e+50)/100);r=Math.min(Math.max(r,1),255),o[j[n]]=r}for(var s=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],a=0;a<64;a++){var u=i((s[a]*e+50)/100);u=Math.min(Math.max(u,1),255),l[j[a]]=u}for(var h=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],A=0,f=0;f<8;f++)for(var m=0;m<8;m++)c[A]=1/(o[j[A]]*h[f]*h[m]*8),d[A]=1/(l[j[A]]*h[f]*h[m]*8),A++}(e<50?Math.floor(5e3/e):Math.floor(200-2*e)),a=e)}this.encode=function(e,a){a&&O(a),m=new Array,p=0,g=7,D(65496),D(65504),D(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),D(1),D(1),I(0),I(0),function(){D(65499),D(132),I(0);for(var e=0;e<64;e++)I(o[e]);I(1);for(var t=0;t<64;t++)I(l[t])}(),function(e,t){D(65472),D(17),I(8),D(t),D(e),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(e.width,e.height),function(){D(65476),D(418),I(0);for(var e=0;e<16;e++)I(N[e+1]);for(var t=0;t<=11;t++)I(_[t]);I(16);for(var n=0;n<16;n++)I(C[n+1]);for(var r=0;r<=161;r++)I(S[r]);I(1);for(var s=0;s<16;s++)I(k[s+1]);for(var a=0;a<=11;a++)I(B[a]);I(17);for(var i=0;i<16;i++)I(E[i+1]);for(var o=0;o<=161;o++)I(L[o])}(),D(65498),D(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var i=0,u=0,h=0;p=0,g=7,this.encode.displayName="_encode_";for(var A,f,v,j,M,P,U,R,Q,z=e.data,H=e.width,K=e.height,W=4*H,V=0;V<K;){for(A=0;A<W;){for(M=W*V+A,U=-1,R=0,Q=0;Q<64;Q++)P=M+(R=Q>>3)*W+(U=4*(7&Q)),V+R>=K&&(P-=W*(V+1+R-K)),A+U>=W&&(P-=A+U-W+4),f=z[P++],v=z[P++],j=z[P++],x[Q]=(w[f]+w[v+256|0]+w[j+512|0]>>16)-128,b[Q]=(w[f+768|0]+w[v+1024|0]+w[j+1280|0]>>16)-128,y[Q]=(w[f+1280|0]+w[v+1536|0]+w[j+1792|0]>>16)-128;i=T(x,c,i,t,r),u=T(b,d,u,n,s),h=T(y,d,h,n,s),A+=32}V+=8}if(g>=0){var q=[];q[1]=g+1,q[0]=(1<<g+1)-1,F(q)}return D(65497),new Uint8Array(m)},e=e||50,function(){for(var e=String.fromCharCode,t=0;t<256;t++)v[t]=e(t)}(),t=M(N,_),n=M(k,B),r=M(C,S),s=M(E,L),function(){for(var e=1,t=2,n=1;n<=15;n++){for(var r=e;r<t;r++)h[32767+r]=n,u[32767+r]=[],u[32767+r][1]=n,u[32767+r][0]=r;for(var s=-(t-1);s<=-e;s++)h[32767+s]=n,u[32767+s]=[],u[32767+s][1]=n,u[32767+s][0]=t-1+s;e<<=1,t<<=1}}(),function(){for(var e=0;e<256;e++)w[e]=19595*e,w[e+256|0]=38470*e,w[e+512|0]=7471*e+32768,w[e+768|0]=-11059*e,w[e+1024|0]=-21709*e,w[e+1280|0]=32768*e+8421375,w[e+1536|0]=-27439*e,w[e+1792|0]=-5329*e}(),O(e)}function Jt(e,t){if(this.pos=0,this.buffer=e,this.datav=new DataView(e.buffer),this.is_with_alpha=!!t,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,-1===["BM","BA","CI","CP","IC","PT"].indexOf(this.flag))throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Xt(e){function t(e){if(!e)throw Error("assert :P")}function n(e,t,n){for(var r=0;4>r;r++)if(e[t+r]!=n.charCodeAt(r))return!0;return!1}function r(e,t,n,r,s){for(var a=0;a<s;a++)e[t+a]=n[r+a]}function s(e,t,n,r){for(var s=0;s<r;s++)e[t+s]=n}function a(e){return new Int32Array(e)}function i(e,t){for(var n=[],r=0;r<e;r++)n.push(new t);return n}function o(e,t){var n=[];return function e(n,r,s){for(var a=s[r],i=0;i<a&&(n.push(s.length>r+1?[]:new t),!(s.length<r+1));i++)e(n[i],r+1,s)}(n,0,e),n}var l=function(){var e=this;function l(e,t){for(var n=1<<t-1>>>0;e&n;)n>>>=1;return n?(e&n-1)+n:e}function c(e,n,r,s,a){t(!(s%r));do{e[n+(s-=r)]=a}while(0<s)}function d(e,n,r,s,i){if(t(2328>=i),512>=i)var o=a(512);else if(null==(o=a(i)))return 0;return function(e,n,r,s,i,o){var d,h,A=n,f=1<<r,m=a(16),p=a(16);for(t(0!=i),t(null!=s),t(null!=e),t(0<r),h=0;h<i;++h){if(15<s[h])return 0;++m[s[h]]}if(m[0]==i)return 0;for(p[1]=0,d=1;15>d;++d){if(m[d]>1<<d)return 0;p[d+1]=p[d]+m[d]}for(h=0;h<i;++h)d=s[h],0<s[h]&&(o[p[d]++]=h);if(1==p[15])return(s=new u).g=0,s.value=o[0],c(e,A,1,f,s),f;var g,x=-1,b=f-1,y=0,v=1,w=1,j=1<<r;for(h=0,d=1,i=2;d<=r;++d,i<<=1){if(v+=w<<=1,0>(w-=m[d]))return 0;for(;0<m[d];--m[d])(s=new u).g=d,s.value=o[h++],c(e,A+y,i,j,s),y=l(y,d)}for(d=r+1,i=2;15>=d;++d,i<<=1){if(v+=w<<=1,0>(w-=m[d]))return 0;for(;0<m[d];--m[d]){if(s=new u,(y&b)!=x){for(A+=j,g=1<<(x=d)-r;15>x&&!(0>=(g-=m[x]));)++x,g<<=1;f+=j=1<<(g=x-r),e[n+(x=y&b)].g=g+r,e[n+x].value=A-n-x}s.g=d-r,s.value=o[h++],c(e,A+(y>>r),i,j,s),y=l(y,d)}}return v!=2*p[15]-1?0:f}(e,n,r,s,i,o)}function u(){this.value=this.g=0}function h(){this.value=this.g=0}function A(){this.G=i(5,u),this.H=a(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=i(Un,h)}function f(e,n,r,s){t(null!=e),t(null!=n),t(2147483648>s),e.Ca=254,e.I=0,e.b=-8,e.Ka=0,e.oa=n,e.pa=r,e.Jd=n,e.Yc=r+s,e.Zc=4<=s?r+s-4+1:r,C(e)}function m(e,t){for(var n=0;0<t--;)n|=k(e,128)<<t;return n}function p(e,t){var n=m(e,t);return S(e)?-n:n}function g(e,n,r,s){var a,i=0;for(t(null!=e),t(null!=n),t(4294967288>s),e.Sb=s,e.Ra=0,e.u=0,e.h=0,4<s&&(s=4),a=0;a<s;++a)i+=n[r+a]<<8*a;e.Ra=i,e.bb=s,e.oa=n,e.pa=r}function x(e){for(;8<=e.u&&e.bb<e.Sb;)e.Ra>>>=8,e.Ra+=e.oa[e.pa+e.bb]<<zn-8>>>0,++e.bb,e.u-=8;j(e)&&(e.h=1,e.u=0)}function b(e,n){if(t(0<=n),!e.h&&n<=Qn){var r=w(e)&Rn[n];return e.u+=n,x(e),r}return e.h=1,e.u=0}function y(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function v(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function w(e){return e.Ra>>>(e.u&zn-1)>>>0}function j(e){return t(e.bb<=e.Sb),e.h||e.bb==e.Sb&&e.u>zn}function N(e,t){e.u=t,e.h=j(e)}function _(e){e.u>=Hn&&(t(e.u>=Hn),x(e))}function C(e){t(null!=e&&null!=e.oa),e.pa<e.Zc?(e.I=(e.oa[e.pa++]|e.I<<8)>>>0,e.b+=8):(t(null!=e&&null!=e.oa),e.pa<e.Yc?(e.b+=8,e.I=e.oa[e.pa++]|e.I<<8):e.Ka?e.b=0:(e.I<<=8,e.b+=8,e.Ka=1))}function S(e){return m(e,1)}function k(e,t){var n=e.Ca;0>e.b&&C(e);var r=e.b,s=n*t>>>8,a=(e.I>>>r>s)+0;for(a?(n-=s,e.I-=s+1<<r>>>0):n=s+1,r=n,s=0;256<=r;)s+=8,r>>=8;return r=7^s+Kn[r],e.b-=r,e.Ca=(n<<r)-1,a}function B(e,t,n){e[t+0]=n>>24&255,e[t+1]=n>>16&255,e[t+2]=n>>8&255,e[t+3]=255&n}function E(e,t){return e[t+0]|e[t+1]<<8}function L(e,t){return E(e,t)|e[t+2]<<16}function M(e,t){return E(e,t)|E(e,t+2)<<16}function F(e,n){var r=1<<n;return t(null!=e),t(0<n),e.X=a(r),null==e.X?0:(e.Mb=32-n,e.Xa=n,1)}function I(e,n){t(null!=e),t(null!=n),t(e.Xa==n.Xa),r(n.X,0,e.X,0,1<<n.Xa)}function D(){this.X=[],this.Xa=this.Mb=0}function T(e,n,r,s){t(null!=r),t(null!=s);var a=r[0],i=s[0];return 0==a&&(a=(e*i+n/2)/n),0==i&&(i=(n*a+e/2)/e),0>=a||0>=i?0:(r[0]=a,s[0]=i,1)}function O(e,t){return e+(1<<t)-1>>>t}function P(e,t){return((4278255360&e)+(4278255360&t)>>>0&4278255360)+((16711935&e)+(16711935&t)>>>0&16711935)>>>0}function U(t,n){e[n]=function(n,r,s,a,i,o,l){var c;for(c=0;c<i;++c){var d=e[t](o[l+c-1],s,a+c);o[l+c]=P(n[r+c],d)}}}function R(){this.ud=this.hd=this.jd=0}function Q(e,t){return((4278124286&(e^t))>>>1)+(e&t)>>>0}function z(e){return 0<=e&&256>e?e:0>e?0:255<e?255:void 0}function H(e,t){return z(e+(e-t+.5>>1))}function K(e,t,n){return Math.abs(t-n)-Math.abs(e-n)}function W(e,t,n,r,s,a,i){for(r=a[i-1],n=0;n<s;++n)a[i+n]=r=P(e[t+n],r)}function V(e,t,n,r,s){var a;for(a=0;a<n;++a){var i=e[t+a],o=i>>8&255,l=16711935&(l=(l=16711935&i)+((o<<16)+o));r[s+a]=(4278255360&i)+l>>>0}}function q(e,t){t.jd=255&e,t.hd=e>>8&255,t.ud=e>>16&255}function G(e,t,n,r,s,a){var i;for(i=0;i<r;++i){var o=t[n+i],l=o>>>8,c=o,d=255&(d=(d=o>>>16)+((e.jd<<24>>24)*(l<<24>>24)>>>5));c=255&(c=(c+=(e.hd<<24>>24)*(l<<24>>24)>>>5)+((e.ud<<24>>24)*(d<<24>>24)>>>5)),s[a+i]=(4278255360&o)+(d<<16)+c}}function Y(t,n,r,s,a){e[n]=function(e,t,n,r,i,o,l,c,d){for(r=l;r<c;++r)for(l=0;l<d;++l)i[o++]=a(n[s(e[t++])])},e[t]=function(t,n,i,o,l,c,d){var u=8>>t.b,h=t.Ea,A=t.K[0],f=t.w;if(8>u)for(t=(1<<t.b)-1,f=(1<<u)-1;n<i;++n){var m,p=0;for(m=0;m<h;++m)m&t||(p=s(o[l++])),c[d++]=a(A[p&f]),p>>=u}else e["VP8LMapColor"+r](o,l,A,f,c,d,n,i,h)}}function J(e,t,n,r,s){for(n=t+n;t<n;){var a=e[t++];r[s++]=a>>16&255,r[s++]=a>>8&255,r[s++]=255&a}}function X(e,t,n,r,s){for(n=t+n;t<n;){var a=e[t++];r[s++]=a>>16&255,r[s++]=a>>8&255,r[s++]=255&a,r[s++]=a>>24&255}}function Z(e,t,n,r,s){for(n=t+n;t<n;){var a=(i=e[t++])>>16&240|i>>12&15,i=240&i|i>>28&15;r[s++]=a,r[s++]=i}}function $(e,t,n,r,s){for(n=t+n;t<n;){var a=(i=e[t++])>>16&248|i>>13&7,i=i>>5&224|i>>3&31;r[s++]=a,r[s++]=i}}function ee(e,t,n,r,s){for(n=t+n;t<n;){var a=e[t++];r[s++]=255&a,r[s++]=a>>8&255,r[s++]=a>>16&255}}function te(e,t,n,s,a,i){if(0==i)for(n=t+n;t<n;)B(s,((i=e[t++])[0]>>24|i[1]>>8&65280|i[2]<<8&16711680|i[3]<<24)>>>0),a+=32;else r(s,a,e,t,n)}function ne(t,n){e[n][0]=e[t+"0"],e[n][1]=e[t+"1"],e[n][2]=e[t+"2"],e[n][3]=e[t+"3"],e[n][4]=e[t+"4"],e[n][5]=e[t+"5"],e[n][6]=e[t+"6"],e[n][7]=e[t+"7"],e[n][8]=e[t+"8"],e[n][9]=e[t+"9"],e[n][10]=e[t+"10"],e[n][11]=e[t+"11"],e[n][12]=e[t+"12"],e[n][13]=e[t+"13"],e[n][14]=e[t+"0"],e[n][15]=e[t+"0"]}function re(e){return e==Hr||e==Kr||e==Wr||e==Vr}function se(){this.eb=[],this.size=this.A=this.fb=0}function ae(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function ie(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new se,this.f.kb=new ae,this.sd=null}function oe(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function le(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function ce(e){return alert("todo:WebPSamplerProcessPlane"),e.T}function de(e,t){var n=e.T,s=t.ba.f.RGBA,a=s.eb,i=s.fb+e.ka*s.A,o=gs[t.ba.S],l=e.y,c=e.O,d=e.f,u=e.N,h=e.ea,A=e.W,f=t.cc,m=t.dc,p=t.Mc,g=t.Nc,x=e.ka,b=e.ka+e.T,y=e.U,v=y+1>>1;for(0==x?o(l,c,null,null,d,u,h,A,d,u,h,A,a,i,null,null,y):(o(t.ec,t.fc,l,c,f,m,p,g,d,u,h,A,a,i-s.A,a,i,y),++n);x+2<b;x+=2)f=d,m=u,p=h,g=A,u+=e.Rc,A+=e.Rc,i+=2*s.A,o(l,(c+=2*e.fa)-e.fa,l,c,f,m,p,g,d,u,h,A,a,i-s.A,a,i,y);return c+=e.fa,e.j+b<e.o?(r(t.ec,t.fc,l,c,y),r(t.cc,t.dc,d,u,v),r(t.Mc,t.Nc,h,A,v),n--):1&b||o(l,c,null,null,d,u,h,A,d,u,h,A,a,i+s.A,null,null,y),n}function ue(e,n,r){var s=e.F,a=[e.J];if(null!=s){var i=e.U,o=n.ba.S,l=o==Rr||o==Wr;n=n.ba.f.RGBA;var c=[0],d=e.ka;c[0]=e.T,e.Kb&&(0==d?--c[0]:(--d,a[0]-=e.width),e.j+e.ka+e.T==e.o&&(c[0]=e.o-e.j-d));var u=n.eb;d=n.fb+d*n.A,e=_r(s,a[0],e.width,i,c,u,d+(l?0:3),n.A),t(r==c),e&&re(o)&&jr(u,d,l,i,c,n.A)}return 0}function he(e){var t=e.ma,n=t.ba.S,r=11>n,s=n==Or||n==Ur||n==Rr||n==Qr||12==n||re(n);if(t.memory=null,t.Ib=null,t.Jb=null,t.Nd=null,!Tn(t.Oa,e,s?11:12))return 0;if(s&&re(n)&&bn(),e.da)alert("todo:use_scaling");else{if(r){if(t.Ib=ce,e.Kb){if(n=e.U+1>>1,t.memory=a(e.U+2*n),null==t.memory)return 0;t.ec=t.memory,t.fc=0,t.cc=t.ec,t.dc=t.fc+e.U,t.Mc=t.cc,t.Nc=t.dc+n,t.Ib=de,bn()}}else alert("todo:EmitYUV");s&&(t.Jb=ue,r&&gn())}if(r&&!Ls){for(e=0;256>e;++e)Ms[e]=89858*(e-128)+Cs>>_s,Ds[e]=-22014*(e-128)+Cs,Is[e]=-45773*(e-128),Fs[e]=113618*(e-128)+Cs>>_s;for(e=Ss;e<ks;++e)t=76283*(e-16)+Cs>>_s,Ts[e-Ss]=We(t,255),Os[e-Ss]=We(t+8>>4,15);Ls=1}return 1}function Ae(e){var n=e.ma,r=e.U,s=e.T;return t(!(1&e.ka)),0>=r||0>=s?0:(r=n.Ib(e,n),null!=n.Jb&&n.Jb(e,n,r),n.Dc+=r,1)}function fe(e){e.ma.memory=null}function me(e,t,n,r){return 47!=b(e,8)?0:(t[0]=b(e,14)+1,n[0]=b(e,14)+1,r[0]=b(e,1),0!=b(e,3)?0:!e.h)}function pe(e,t){if(4>e)return e+1;var n=e-2>>1;return(2+(1&e)<<n)+b(t,n)+1}function ge(e,t){return 120<t?t-120:1<=(n=((n=Zr[t-1])>>4)*e+(8-(15&n)))?n:1;var n}function xe(e,t,n){var r=w(n),s=e[t+=255&r].g-8;return 0<s&&(N(n,n.u+8),r=w(n),t+=e[t].value,t+=r&(1<<s)-1),N(n,n.u+e[t].g),e[t].value}function be(e,n,r){return r.g+=e.g,r.value+=e.value<<n>>>0,t(8>=r.g),e.g}function ye(e,n,r){var s=e.xc;return t((n=0==s?0:e.vc[e.md*(r>>s)+(n>>s)])<e.Wb),e.Ya[n]}function ve(e,n,s,a){var i=e.ab,o=e.c*n,l=e.C;n=l+n;var c=s,d=a;for(a=e.Ta,s=e.Ua;0<i--;){var u=e.gc[i],h=l,A=n,f=c,m=d,p=(d=a,c=s,u.Ea);switch(t(h<A),t(A<=u.nc),u.hc){case 2:qn(f,m,(A-h)*p,d,c);break;case 0:var g=h,x=A,b=d,y=c,v=(C=u).Ea;0==g&&(Wn(f,m,null,null,1,b,y),W(f,m+1,0,0,v-1,b,y+1),m+=v,y+=v,++g);for(var w=1<<C.b,j=w-1,N=O(v,C.b),_=C.K,C=C.w+(g>>C.b)*N;g<x;){var S=_,k=C,B=1;for(Vn(f,m,b,y-v,1,b,y);B<v;){var E=(B&~j)+w;E>v&&(E=v),(0,Zn[S[k++]>>8&15])(f,m+ +B,b,y+B-v,E-B,b,y+B),B=E}m+=v,y+=v,++g&j||(C+=N)}A!=u.nc&&r(d,c-p,d,c+(A-h-1)*p,p);break;case 1:for(p=f,x=m,v=(f=u.Ea)-(y=f&~(b=(m=1<<u.b)-1)),g=O(f,u.b),w=u.K,u=u.w+(h>>u.b)*g;h<A;){for(j=w,N=u,_=new R,C=x+y,S=x+f;x<C;)q(j[N++],_),$n(_,p,x,m,d,c),x+=m,c+=m;x<S&&(q(j[N++],_),$n(_,p,x,v,d,c),x+=v,c+=v),++h&b||(u+=g)}break;case 3:if(f==d&&m==c&&0<u.b){for(x=d,f=p=c+(A-h)*p-(y=(A-h)*O(u.Ea,u.b)),m=d,b=c,g=[],y=(v=y)-1;0<=y;--y)g[y]=m[b+y];for(y=v-1;0<=y;--y)x[f+y]=g[y];Gn(u,h,A,d,p,d,c)}else Gn(u,h,A,f,m,d,c)}c=a,d=s}d!=s&&r(a,s,c,d,o)}function we(e,n){var r=e.V,s=e.Ba+e.c*e.C,a=n-e.C;if(t(n<=e.l.o),t(16>=a),0<a){var i=e.l,o=e.Ta,l=e.Ua,c=i.width;if(ve(e,a,r,s),a=l=[l],t((r=e.C)<(s=n)),t(i.v<i.va),s>i.o&&(s=i.o),r<i.j){var d=i.j-r;r=i.j,a[0]+=d*c}if(r>=s?r=0:(a[0]+=4*i.v,i.ka=r-i.j,i.U=i.va-i.v,i.T=s-r,r=1),r){if(l=l[0],11>(r=e.ca).S){var u=r.f.RGBA,h=(s=r.S,a=i.U,i=i.T,d=u.eb,u.A),A=i;for(u=u.fb+e.Ma*u.A;0<A--;){var f=o,m=l,p=a,g=d,x=u;switch(s){case Tr:er(f,m,p,g,x);break;case Or:tr(f,m,p,g,x);break;case Hr:tr(f,m,p,g,x),jr(g,x,0,p,1,0);break;case Pr:sr(f,m,p,g,x);break;case Ur:te(f,m,p,g,x,1);break;case Kr:te(f,m,p,g,x,1),jr(g,x,0,p,1,0);break;case Rr:te(f,m,p,g,x,0);break;case Wr:te(f,m,p,g,x,0),jr(g,x,1,p,1,0);break;case Qr:nr(f,m,p,g,x);break;case Vr:nr(f,m,p,g,x),Nr(g,x,p,1,0);break;case zr:rr(f,m,p,g,x);break;default:t(0)}l+=c,u+=h}e.Ma+=i}else alert("todo:EmitRescaledRowsYUVA");t(e.Ma<=r.height)}}e.C=n,t(e.C<=e.i)}function je(e){var t;if(0<e.ua)return 0;for(t=0;t<e.Wb;++t){var n=e.Ya[t].G,r=e.Ya[t].H;if(0<n[1][r[1]+0].g||0<n[2][r[2]+0].g||0<n[3][r[3]+0].g)return 0}return 1}function Ne(e,n,r,s,a,i){if(0!=e.Z){var o=e.qd,l=e.rd;for(t(null!=ps[e.Z]);n<r;++n)ps[e.Z](o,l,s,a,s,a,i),o=s,l=a,a+=i;e.qd=o,e.rd=l}}function _e(e,n){var r=e.l.ma,s=0==r.Z||1==r.Z?e.l.j:e.C;if(s=e.C<s?s:e.C,t(n<=e.l.o),n>s){var a=e.l.width,i=r.ca,o=r.tb+a*s,l=e.V,c=e.Ba+e.c*s,d=e.gc;t(1==e.ab),t(3==d[0].hc),Jn(d[0],s,n,l,c,i,o),Ne(r,s,n,i,o,a)}e.C=e.Ma=n}function Ce(e,n,r,s,a,i,o){var l=e.$/s,c=e.$%s,d=e.m,u=e.s,h=r+e.$,A=h;a=r+s*a;var f=r+s*i,m=280+u.ua,p=e.Pb?l:16777216,g=0<u.ua?u.Wa:null,x=u.wc,b=h<f?ye(u,c,l):null;t(e.C<i),t(f<=a);var y=!1;e:for(;;){for(;y||h<f;){var v=0;if(l>=p){var C=h-r;t((p=e).Pb),p.wd=p.m,p.xd=C,0<p.s.ua&&I(p.s.Wa,p.s.vb),p=l+es}if(c&x||(b=ye(u,c,l)),t(null!=b),b.Qb&&(n[h]=b.qb,y=!0),!y)if(_(d),b.jc){v=d,C=n;var S=h,k=b.pd[w(v)&Un-1];t(b.jc),256>k.g?(N(v,v.u+k.g),C[S]=k.value,v=0):(N(v,v.u+k.g-256),t(256<=k.value),v=k.value),0==v&&(y=!0)}else v=xe(b.G[0],b.H[0],d);if(d.h)break;if(y||256>v){if(!y)if(b.nd)n[h]=(b.qb|v<<8)>>>0;else{if(_(d),y=xe(b.G[1],b.H[1],d),_(d),C=xe(b.G[2],b.H[2],d),S=xe(b.G[3],b.H[3],d),d.h)break;n[h]=(S<<24|y<<16|v<<8|C)>>>0}if(y=!1,++h,++c>=s&&(c=0,++l,null!=o&&l<=i&&!(l%16)&&o(e,l),null!=g))for(;A<h;)v=n[A++],g.X[(506832829*v&4294967295)>>>g.Mb]=v}else if(280>v){if(v=pe(v-256,d),C=xe(b.G[4],b.H[4],d),_(d),C=ge(s,C=pe(C,d)),d.h)break;if(h-r<C||a-h<v)break e;for(S=0;S<v;++S)n[h+S]=n[h+S-C];for(h+=v,c+=v;c>=s;)c-=s,++l,null!=o&&l<=i&&!(l%16)&&o(e,l);if(t(h<=a),c&x&&(b=ye(u,c,l)),null!=g)for(;A<h;)v=n[A++],g.X[(506832829*v&4294967295)>>>g.Mb]=v}else{if(!(v<m))break e;for(y=v-280,t(null!=g);A<h;)v=n[A++],g.X[(506832829*v&4294967295)>>>g.Mb]=v;v=h,t(!(y>>>(C=g).Xa)),n[v]=C.X[y],y=!0}y||t(d.h==j(d))}if(e.Pb&&d.h&&h<a)t(e.m.h),e.a=5,e.m=e.wd,e.$=e.xd,0<e.s.ua&&I(e.s.vb,e.s.Wa);else{if(d.h)break e;null!=o&&o(e,l>i?i:l),e.a=0,e.$=h-r}return 1}return e.a=3,0}function Se(e){t(null!=e),e.vc=null,e.yc=null,e.Ya=null;var n=e.Wa;null!=n&&(n.X=null),e.vb=null,t(null!=e)}function ke(){var t=new on;return null==t?null:(t.a=0,t.xb=ms,ne("Predictor","VP8LPredictors"),ne("Predictor","VP8LPredictors_C"),ne("PredictorAdd","VP8LPredictorsAdd"),ne("PredictorAdd","VP8LPredictorsAdd_C"),qn=V,$n=G,er=J,tr=X,nr=Z,rr=$,sr=ee,e.VP8LMapColor32b=Yn,e.VP8LMapColor8b=Xn,t)}function Be(e,n,r,o,l){var c=1,h=[e],f=[n],m=o.m,p=o.s,g=null,x=0;e:for(;;){if(r)for(;c&&b(m,1);){var y=h,v=f,j=o,C=1,S=j.m,k=j.gc[j.ab],B=b(S,2);if(j.Oc&1<<B)c=0;else{switch(j.Oc|=1<<B,k.hc=B,k.Ea=y[0],k.nc=v[0],k.K=[null],++j.ab,t(4>=j.ab),B){case 0:case 1:k.b=b(S,3)+2,C=Be(O(k.Ea,k.b),O(k.nc,k.b),0,j,k.K),k.K=k.K[0];break;case 3:var E,L=b(S,8)+1,M=16<L?0:4<L?1:2<L?2:3;if(y[0]=O(k.Ea,M),k.b=M,E=C=Be(L,1,0,j,k.K)){var I,D=L,T=k,U=1<<(8>>T.b),R=a(U);if(null==R)E=0;else{var Q=T.K[0],z=T.w;for(R[0]=T.K[0][0],I=1;I<1*D;++I)R[I]=P(Q[z+I],R[I-1]);for(;I<4*U;++I)R[I]=0;T.K[0]=null,T.K[0]=R,E=1}}C=E;break;case 2:break;default:t(0)}c=C}}if(h=h[0],f=f[0],c&&b(m,1)&&!(c=1<=(x=b(m,4))&&11>=x)){o.a=3;break e}var H;if(H=c)t:{var K,W,V,q=o,G=h,Y=f,J=x,X=r,Z=q.m,$=q.s,ee=[null],te=1,ne=0,re=$r[J];n:for(;;){if(X&&b(Z,1)){var se=b(Z,3)+2,ae=O(G,se),ie=O(Y,se),oe=ae*ie;if(!Be(ae,ie,0,q,ee))break n;for(ee=ee[0],$.xc=se,K=0;K<oe;++K){var le=ee[K]>>8&65535;ee[K]=le,le>=te&&(te=le+1)}}if(Z.h)break n;for(W=0;5>W;++W){var ce=Yr[W];!W&&0<J&&(ce+=1<<J),ne<ce&&(ne=ce)}var de=i(te*re,u),ue=te,he=i(ue,A);if(null==he)var Ae=null;else t(65536>=ue),Ae=he;var fe=a(ne);if(null==Ae||null==fe||null==de){q.a=1;break n}var me=de;for(K=V=0;K<te;++K){var pe=Ae[K],ge=pe.G,xe=pe.H,ye=0,ve=1,we=0;for(W=0;5>W;++W){ce=Yr[W],ge[W]=me,xe[W]=V,!W&&0<J&&(ce+=1<<J);r:{var je,Ne=ce,_e=q,ke=fe,Ee=me,Le=V,Me=0,Fe=_e.m,Ie=b(Fe,1);if(s(ke,0,0,Ne),Ie){var De=b(Fe,1)+1,Te=b(Fe,1),Oe=b(Fe,0==Te?1:8);ke[Oe]=1,2==De&&(ke[Oe=b(Fe,8)]=1);var Pe=1}else{var Ue=a(19),Re=b(Fe,4)+4;if(19<Re){_e.a=3;var Qe=0;break r}for(je=0;je<Re;++je)Ue[Xr[je]]=b(Fe,3);var ze=void 0,He=void 0,Ke=_e,We=Ue,Ve=Ne,qe=ke,Ge=0,Ye=Ke.m,Je=8,Xe=i(128,u);s:for(;d(Xe,0,7,We,19);){if(b(Ye,1)){var Ze=2+2*b(Ye,3);if((ze=2+b(Ye,Ze))>Ve)break s}else ze=Ve;for(He=0;He<Ve&&ze--;){_(Ye);var $e=Xe[0+(127&w(Ye))];N(Ye,Ye.u+$e.g);var et=$e.value;if(16>et)qe[He++]=et,0!=et&&(Je=et);else{var tt=16==et,nt=et-16,rt=Gr[nt],st=b(Ye,qr[nt])+rt;if(He+st>Ve)break s;for(var at=tt?Je:0;0<st--;)qe[He++]=at}}Ge=1;break s}Ge||(Ke.a=3),Pe=Ge}(Pe=Pe&&!Fe.h)&&(Me=d(Ee,Le,8,ke,Ne)),Pe&&0!=Me?Qe=Me:(_e.a=3,Qe=0)}if(0==Qe)break n;if(ve&&1==Jr[W]&&(ve=0==me[V].g),ye+=me[V].g,V+=Qe,3>=W){var it,ot=fe[0];for(it=1;it<ce;++it)fe[it]>ot&&(ot=fe[it]);we+=ot}}if(pe.nd=ve,pe.Qb=0,ve&&(pe.qb=(ge[3][xe[3]+0].value<<24|ge[1][xe[1]+0].value<<16|ge[2][xe[2]+0].value)>>>0,0==ye&&256>ge[0][xe[0]+0].value&&(pe.Qb=1,pe.qb+=ge[0][xe[0]+0].value<<8)),pe.jc=!pe.Qb&&6>we,pe.jc){var lt,ct=pe;for(lt=0;lt<Un;++lt){var dt=lt,ut=ct.pd[dt],ht=ct.G[0][ct.H[0]+dt];256<=ht.value?(ut.g=ht.g+256,ut.value=ht.value):(ut.g=0,ut.value=0,dt>>=be(ht,8,ut),dt>>=be(ct.G[1][ct.H[1]+dt],16,ut),dt>>=be(ct.G[2][ct.H[2]+dt],0,ut),be(ct.G[3][ct.H[3]+dt],24,ut))}}}$.vc=ee,$.Wb=te,$.Ya=Ae,$.yc=de,H=1;break t}H=0}if(!(c=H)){o.a=3;break e}if(0<x){if(p.ua=1<<x,!F(p.Wa,x)){o.a=1,c=0;break e}}else p.ua=0;var At=o,ft=h,mt=f,pt=At.s,gt=pt.xc;if(At.c=ft,At.i=mt,pt.md=O(ft,gt),pt.wc=0==gt?-1:(1<<gt)-1,r){o.xb=fs;break e}if(null==(g=a(h*f))){o.a=1,c=0;break e}c=(c=Ce(o,g,0,h,f,f,null))&&!m.h;break e}return c?(null!=l?l[0]=g:(t(null==g),t(r)),o.$=0,r||Se(p)):Se(p),c}function Ee(e,n){var r=e.c*e.i,s=r+n+16*n;return t(e.c<=n),e.V=a(s),null==e.V?(e.Ta=null,e.Ua=0,e.a=1,0):(e.Ta=e.V,e.Ua=e.Ba+r+n,1)}function Le(e,n){var r=e.C,s=n-r,a=e.V,i=e.Ba+e.c*r;for(t(n<=e.l.o);0<s;){var o=16<s?16:s,l=e.l.ma,c=e.l.width,d=c*o,u=l.ca,h=l.tb+c*r,A=e.Ta,f=e.Ua;ve(e,o,a,i),Cr(A,f,u,h,d),Ne(l,r,r+o,u,h,c),s-=o,a+=o*e.c,r+=o}t(r==n),e.C=e.Ma=n}function Me(){this.ub=this.yd=this.td=this.Rb=0}function Fe(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function Ie(){this.Fb=this.Bb=this.Cb=0,this.Zb=a(4),this.Lb=a(4)}function De(){this.Yb=function(){var e=[];return function e(t,n,r){for(var s=r[n],a=0;a<s&&(t.push(r.length>n+1?[]:0),!(r.length<n+1));a++)e(t[a],n+1,r)}(e,0,[3,11]),e}()}function Te(){this.jb=a(3),this.Wc=o([4,8],De),this.Xc=o([4,17],De)}function Oe(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new a(4),this.od=new a(4)}function Pe(){this.ld=this.La=this.dd=this.tc=0}function Ue(){this.Na=this.la=0}function Re(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Qe(){this.ad=a(384),this.Za=0,this.Ob=a(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function ze(){this.uc=this.M=this.Nb=0,this.wa=Array(new Pe),this.Y=0,this.ya=Array(new Qe),this.aa=0,this.l=new Ve}function He(){this.y=a(16),this.f=a(8),this.ea=a(8)}function Ke(){this.cb=this.a=0,this.sc="",this.m=new y,this.Od=new Me,this.Kc=new Fe,this.ed=new Oe,this.Qa=new Ie,this.Ic=this.$c=this.Aa=0,this.D=new ze,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=i(8,y),this.ia=0,this.pb=i(4,Re),this.Pa=new Te,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new He),this.Hd=0,this.rb=Array(new Ue),this.sb=0,this.wa=Array(new Pe),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Qe),this.L=this.aa=0,this.gd=o([4,2],Pe),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function We(e,t){return 0>e?0:e>t?t:e}function Ve(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function qe(){var e=new Ke;return null!=e&&(e.a=0,e.sc="OK",e.cb=0,e.Xb=0,rs||(rs=Xe)),e}function Ge(e,t,n){return 0==e.a&&(e.a=t,e.sc=n,e.cb=0),0}function Ye(e,t,n){return 3<=n&&157==e[t+0]&&1==e[t+1]&&42==e[t+2]}function Je(e,n){if(null==e)return 0;if(e.a=0,e.sc="OK",null==n)return Ge(e,2,"null VP8Io passed to VP8GetHeaders()");var r=n.data,a=n.w,i=n.ha;if(4>i)return Ge(e,7,"Truncated header.");var o=r[a+0]|r[a+1]<<8|r[a+2]<<16,l=e.Od;if(l.Rb=!(1&o),l.td=o>>1&7,l.yd=o>>4&1,l.ub=o>>5,3<l.td)return Ge(e,3,"Incorrect keyframe parameters.");if(!l.yd)return Ge(e,4,"Frame not displayable.");a+=3,i-=3;var c=e.Kc;if(l.Rb){if(7>i)return Ge(e,7,"cannot parse picture header");if(!Ye(r,a,i))return Ge(e,3,"Bad code word");c.c=16383&(r[a+4]<<8|r[a+3]),c.Td=r[a+4]>>6,c.i=16383&(r[a+6]<<8|r[a+5]),c.Ud=r[a+6]>>6,a+=7,i-=7,e.za=c.c+15>>4,e.Ub=c.i+15>>4,n.width=c.c,n.height=c.i,n.Da=0,n.j=0,n.v=0,n.va=n.width,n.o=n.height,n.da=0,n.ib=n.width,n.hb=n.height,n.U=n.width,n.T=n.height,s((o=e.Pa).jb,0,255,o.jb.length),t(null!=(o=e.Qa)),o.Cb=0,o.Bb=0,o.Fb=1,s(o.Zb,0,0,o.Zb.length),s(o.Lb,0,0,o.Lb)}if(l.ub>i)return Ge(e,7,"bad partition length");f(o=e.m,r,a,l.ub),a+=l.ub,i-=l.ub,l.Rb&&(c.Ld=S(o),c.Kd=S(o)),c=e.Qa;var d,u=e.Pa;if(t(null!=o),t(null!=c),c.Cb=S(o),c.Cb){if(c.Bb=S(o),S(o)){for(c.Fb=S(o),d=0;4>d;++d)c.Zb[d]=S(o)?p(o,7):0;for(d=0;4>d;++d)c.Lb[d]=S(o)?p(o,6):0}if(c.Bb)for(d=0;3>d;++d)u.jb[d]=S(o)?m(o,8):255}else c.Bb=0;if(o.Ka)return Ge(e,3,"cannot parse segment header");if((c=e.ed).zd=S(o),c.Tb=m(o,6),c.wb=m(o,3),c.Pc=S(o),c.Pc&&S(o)){for(u=0;4>u;++u)S(o)&&(c.vd[u]=p(o,6));for(u=0;4>u;++u)S(o)&&(c.od[u]=p(o,6))}if(e.L=0==c.Tb?0:c.zd?1:2,o.Ka)return Ge(e,3,"cannot parse filter header");var h=i;if(i=d=a,a=d+h,c=h,e.Xb=(1<<m(e.m,2))-1,h<3*(u=e.Xb))r=7;else{for(d+=3*u,c-=3*u,h=0;h<u;++h){var A=r[i+0]|r[i+1]<<8|r[i+2]<<16;A>c&&(A=c),f(e.Jc[+h],r,d,A),d+=A,c-=A,i+=3}f(e.Jc[+u],r,d,c),r=d<a?0:5}if(0!=r)return Ge(e,r,"cannot parse partitions");for(r=m(d=e.m,7),i=S(d)?p(d,4):0,a=S(d)?p(d,4):0,c=S(d)?p(d,4):0,u=S(d)?p(d,4):0,d=S(d)?p(d,4):0,h=e.Qa,A=0;4>A;++A){if(h.Cb){var g=h.Zb[A];h.Fb||(g+=r)}else{if(0<A){e.pb[A]=e.pb[0];continue}g=r}var x=e.pb[A];x.Sc[0]=ts[We(g+i,127)],x.Sc[1]=ns[We(g+0,127)],x.Eb[0]=2*ts[We(g+a,127)],x.Eb[1]=101581*ns[We(g+c,127)]>>16,8>x.Eb[1]&&(x.Eb[1]=8),x.Qc[0]=ts[We(g+u,117)],x.Qc[1]=ns[We(g+d,127)],x.lc=g+d}if(!l.Rb)return Ge(e,4,"Not a key frame.");for(S(o),l=e.Pa,r=0;4>r;++r){for(i=0;8>i;++i)for(a=0;3>a;++a)for(c=0;11>c;++c)u=k(o,cs[r][i][a][c])?m(o,8):os[r][i][a][c],l.Wc[r][i].Yb[a][c]=u;for(i=0;17>i;++i)l.Xc[r][i]=l.Wc[r][ds[i]]}return e.kc=S(o),e.kc&&(e.Bd=m(o,8)),e.cb=1}function Xe(e,t,n,r,s,a,i){var o=t[s].Yb[n];for(n=0;16>s;++s){if(!k(e,o[n+0]))return s;for(;!k(e,o[n+1]);)if(o=t[++s].Yb[0],n=0,16==s)return 16;var l=t[s+1].Yb;if(k(e,o[n+2])){var c=e,d=0;if(k(c,(h=o)[(u=n)+3]))if(k(c,h[u+6])){for(o=0,u=2*(d=k(c,h[u+8]))+(h=k(c,h[u+9+d])),d=0,h=ss[u];h[o];++o)d+=d+k(c,h[o]);d+=3+(8<<u)}else k(c,h[u+7])?(d=7+2*k(c,165),d+=k(c,145)):d=5+k(c,159);else d=k(c,h[u+4])?3+k(c,h[u+5]):2;o=l[2]}else d=1,o=l[1];l=i+as[s],0>(c=e).b&&C(c);var u,h=c.b,A=(u=c.Ca>>1)-(c.I>>h)>>31;--c.b,c.Ca+=A,c.Ca|=1,c.I-=(u+1&A)<<h,a[l]=((d^A)-A)*r[(0<s)+0]}return 16}function Ze(e){var t=e.rb[e.sb-1];t.la=0,t.Na=0,s(e.zc,0,0,e.zc.length),e.ja=0}function $e(e,n){if(null==e)return 0;if(null==n)return Ge(e,2,"NULL VP8Io parameter in VP8Decode().");if(!e.cb&&!Je(e,n))return 0;if(t(e.cb),null==n.ac||n.ac(n)){n.ob&&(e.L=0);var o=Us[e.L];if(2==e.L?(e.yb=0,e.zb=0):(e.yb=n.v-o>>4,e.zb=n.j-o>>4,0>e.yb&&(e.yb=0),0>e.zb&&(e.zb=0)),e.Va=n.o+15+o>>4,e.Hb=n.va+15+o>>4,e.Hb>e.za&&(e.Hb=e.za),e.Va>e.Ub&&(e.Va=e.Ub),0<e.L){var l=e.ed;for(o=0;4>o;++o){var c;if(e.Qa.Cb){var d=e.Qa.Lb[o];e.Qa.Fb||(d+=l.Tb)}else d=l.Tb;for(c=0;1>=c;++c){var u=e.gd[o][c],h=d;if(l.Pc&&(h+=l.vd[0],c&&(h+=l.od[0])),0<(h=0>h?0:63<h?63:h)){var A=h;0<l.wb&&(A=4<l.wb?A>>2:A>>1)>9-l.wb&&(A=9-l.wb),1>A&&(A=1),u.dd=A,u.tc=2*h+A,u.ld=40<=h?2:15<=h?1:0}else u.tc=0;u.La=c}}}o=0}else Ge(e,6,"Frame setup failed"),o=e.a;if(o=0==o){if(o){e.$c=0,0<e.Aa||(e.Ic=Qs);e:{o=e.Ic,l=4*(A=e.za);var f=32*A,m=A+1,p=0<e.L?A*(0<e.Aa?2:1):0,g=(2==e.Aa?2:1)*A;if((u=l+832+(c=3*(16*o+Us[e.L])/2*f)+(d=null!=e.Fa&&0<e.Fa.length?e.Kc.c*e.Kc.i:0))!=u)o=0;else{if(u>e.Vb){if(e.Vb=0,e.Ec=a(u),e.Fc=0,null==e.Ec){o=Ge(e,1,"no memory during frame initialization.");break e}e.Vb=u}u=e.Ec,h=e.Fc,e.Ac=u,e.Bc=h,h+=l,e.Gd=i(f,He),e.Hd=0,e.rb=i(m+1,Ue),e.sb=1,e.wa=p?i(p,Pe):null,e.Y=0,e.D.Nb=0,e.D.wa=e.wa,e.D.Y=e.Y,0<e.Aa&&(e.D.Y+=A),t(!0),e.oc=u,e.pc=h,h+=832,e.ya=i(g,Qe),e.aa=0,e.D.ya=e.ya,e.D.aa=e.aa,2==e.Aa&&(e.D.aa+=A),e.R=16*A,e.B=8*A,A=(f=Us[e.L])*e.R,f=f/2*e.B,e.sa=u,e.ta=h+A,e.qa=e.sa,e.ra=e.ta+16*o*e.R+f,e.Ha=e.qa,e.Ia=e.ra+8*o*e.B+f,e.$c=0,h+=c,e.mb=d?u:null,e.nb=d?h:null,t(h+d<=e.Fc+e.Vb),Ze(e),s(e.Ac,e.Bc,0,l),o=1}}if(o){if(n.ka=0,n.y=e.sa,n.O=e.ta,n.f=e.qa,n.N=e.ra,n.ea=e.Ha,n.Vd=e.Ia,n.fa=e.R,n.Rc=e.B,n.F=null,n.J=0,!Lr){for(o=-255;255>=o;++o)Sr[255+o]=0>o?-o:o;for(o=-1020;1020>=o;++o)kr[1020+o]=-128>o?-128:127<o?127:o;for(o=-112;112>=o;++o)Br[112+o]=-16>o?-16:15<o?15:o;for(o=-255;510>=o;++o)Er[255+o]=0>o?0:255<o?255:o;Lr=1}ar=ct,ir=at,lr=it,cr=ot,dr=lt,or=st,ur=Gt,hr=Yt,Ar=Zt,fr=$t,mr=Jt,pr=Xt,gr=en,xr=tn,br=zt,yr=Ht,vr=Kt,wr=Wt,hs[0]=Nt,hs[1]=ut,hs[2]=wt,hs[3]=jt,hs[4]=_t,hs[5]=St,hs[6]=Ct,hs[7]=kt,hs[8]=Et,hs[9]=Bt,us[0]=gt,us[1]=At,us[2]=ft,us[3]=mt,us[4]=xt,us[5]=bt,us[6]=yt,As[0]=It,As[1]=ht,As[2]=Lt,As[3]=Mt,As[4]=Tt,As[5]=Dt,As[6]=Ot,o=1}else o=0}o&&(o=function(e,n){for(e.M=0;e.M<e.Va;++e.M){var i,o=e.Jc[e.M&e.Xb],l=e.m,c=e;for(i=0;i<c.za;++i){var d=l,u=c,h=u.Ac,A=u.Bc+4*i,f=u.zc,m=u.ya[u.aa+i];if(u.Qa.Bb?m.$b=k(d,u.Pa.jb[0])?2+k(d,u.Pa.jb[2]):k(d,u.Pa.jb[1]):m.$b=0,u.kc&&(m.Ad=k(d,u.Bd)),m.Za=!k(d,145)+0,m.Za){var p=m.Ob,g=0;for(u=0;4>u;++u){var x,b=f[0+u];for(x=0;4>x;++x){b=ls[h[A+x]][b];for(var y=is[k(d,b[0])];0<y;)y=is[2*y+k(d,b[y])];b=-y,h[A+x]=b}r(p,g,h,A,4),g+=4,f[0+u]=b}}else b=k(d,156)?k(d,128)?1:3:k(d,163)?2:0,m.Ob[0]=b,s(h,A,b,4),s(f,0,b,4);m.Dd=k(d,142)?k(d,114)?k(d,183)?1:3:2:0}if(c.m.Ka)return Ge(e,7,"Premature end-of-partition0 encountered.");for(;e.ja<e.za;++e.ja){if(c=o,d=(l=e).rb[l.sb-1],h=l.rb[l.sb+l.ja],i=l.ya[l.aa+l.ja],A=l.kc?i.Ad:0)d.la=h.la=0,i.Za||(d.Na=h.Na=0),i.Hc=0,i.Gc=0,i.ia=0;else{var v,w;if(d=h,h=c,A=l.Pa.Xc,f=l.ya[l.aa+l.ja],m=l.pb[f.$b],u=f.ad,p=0,g=l.rb[l.sb-1],b=x=0,s(u,p,0,384),f.Za)var j=0,N=A[3];else{y=a(16);var _=d.Na+g.Na;if(_=rs(h,A[1],_,m.Eb,0,y,0),d.Na=g.Na=(0<_)+0,1<_)ar(y,0,u,p);else{var C=y[0]+3>>3;for(y=0;256>y;y+=16)u[p+y]=C}j=1,N=A[0]}var S=15&d.la,B=15&g.la;for(y=0;4>y;++y){var E=1&B;for(C=w=0;4>C;++C)S=S>>1|(E=(_=rs(h,N,_=E+(1&S),m.Sc,j,u,p))>j)<<7,w=w<<2|(3<_?3:1<_?2:0!=u[p+0]),p+=16;S>>=4,B=B>>1|E<<7,x=(x<<8|w)>>>0}for(N=S,j=B>>4,v=0;4>v;v+=2){for(w=0,S=d.la>>4+v,B=g.la>>4+v,y=0;2>y;++y){for(E=1&B,C=0;2>C;++C)_=E+(1&S),S=S>>1|(E=0<(_=rs(h,A[2],_,m.Qc,0,u,p)))<<3,w=w<<2|(3<_?3:1<_?2:0!=u[p+0]),p+=16;S>>=2,B=B>>1|E<<5}b|=w<<4*v,N|=S<<4<<v,j|=(240&B)<<v}d.la=N,g.la=j,f.Hc=x,f.Gc=b,f.ia=43690&b?0:m.ia,A=!(x|b)}if(0<l.L&&(l.wa[l.Y+l.ja]=l.gd[i.$b][i.Za],l.wa[l.Y+l.ja].La|=!A),c.Ka)return Ge(e,7,"Premature end-of-file encountered.")}if(Ze(e),l=n,c=1,i=(o=e).D,d=0<o.L&&o.M>=o.zb&&o.M<=o.Va,0==o.Aa)e:{if(i.M=o.M,i.uc=d,In(o,i),c=1,i=(w=o.D).Nb,d=(b=Us[o.L])*o.R,h=b/2*o.B,y=16*i*o.R,C=8*i*o.B,A=o.sa,f=o.ta-d+y,m=o.qa,u=o.ra-h+C,p=o.Ha,g=o.Ia-h+C,B=0==(S=w.M),x=S>=o.Va-1,2==o.Aa&&In(o,w),w.uc)for(E=(_=o).D.M,t(_.D.uc),w=_.yb;w<_.Hb;++w){j=w,N=E;var L=(M=(Q=_).D).Nb;v=Q.R;var M=M.wa[M.Y+j],F=Q.sa,I=Q.ta+16*L*v+16*j,D=M.dd,T=M.tc;if(0!=T)if(t(3<=T),1==Q.L)0<j&&yr(F,I,v,T+4),M.La&&wr(F,I,v,T),0<N&&br(F,I,v,T+4),M.La&&vr(F,I,v,T);else{var O=Q.B,P=Q.qa,U=Q.ra+8*L*O+8*j,R=Q.Ha,Q=Q.Ia+8*L*O+8*j;L=M.ld,0<j&&(hr(F,I,v,T+4,D,L),fr(P,U,R,Q,O,T+4,D,L)),M.La&&(pr(F,I,v,T,D,L),xr(P,U,R,Q,O,T,D,L)),0<N&&(ur(F,I,v,T+4,D,L),Ar(P,U,R,Q,O,T+4,D,L)),M.La&&(mr(F,I,v,T,D,L),gr(P,U,R,Q,O,T,D,L))}}if(o.ia&&alert("todo:DitherRow"),null!=l.put){if(w=16*S,S=16*(S+1),B?(l.y=o.sa,l.O=o.ta+y,l.f=o.qa,l.N=o.ra+C,l.ea=o.Ha,l.W=o.Ia+C):(w-=b,l.y=A,l.O=f,l.f=m,l.N=u,l.ea=p,l.W=g),x||(S-=b),S>l.o&&(S=l.o),l.F=null,l.J=null,null!=o.Fa&&0<o.Fa.length&&w<S&&(l.J=hn(o,l,w,S-w),l.F=o.mb,null==l.F&&0==l.F.length)){c=Ge(o,3,"Could not decode alpha data.");break e}w<l.j&&(b=l.j-w,w=l.j,t(!(1&b)),l.O+=o.R*b,l.N+=o.B*(b>>1),l.W+=o.B*(b>>1),null!=l.F&&(l.J+=l.width*b)),w<S&&(l.O+=l.v,l.N+=l.v>>1,l.W+=l.v>>1,null!=l.F&&(l.J+=l.v),l.ka=w-l.j,l.U=l.va-l.v,l.T=S-w,c=l.put(l))}i+1!=o.Ic||x||(r(o.sa,o.ta-d,A,f+16*o.R,d),r(o.qa,o.ra-h,m,u+8*o.B,h),r(o.Ha,o.Ia-h,p,g+8*o.B,h))}if(!c)return Ge(e,6,"Output aborted.")}return 1}(e,n)),null!=n.bc&&n.bc(n),o&=1}return o?(e.cb=0,o):0}function et(e,t,n,r,s){s=e[t+n+32*r]+(s>>3),e[t+n+32*r]=-256&s?0>s?0:255:s}function tt(e,t,n,r,s,a){et(e,t,0,n,r+s),et(e,t,1,n,r+a),et(e,t,2,n,r-a),et(e,t,3,n,r-s)}function nt(e){return(20091*e>>16)+e}function rt(e,t,n,r){var s,i=0,o=a(16);for(s=0;4>s;++s){var l=e[t+0]+e[t+8],c=e[t+0]-e[t+8],d=(35468*e[t+4]>>16)-nt(e[t+12]),u=nt(e[t+4])+(35468*e[t+12]>>16);o[i+0]=l+u,o[i+1]=c+d,o[i+2]=c-d,o[i+3]=l-u,i+=4,t++}for(s=i=0;4>s;++s)l=(e=o[i+0]+4)+o[i+8],c=e-o[i+8],d=(35468*o[i+4]>>16)-nt(o[i+12]),et(n,r,0,0,l+(u=nt(o[i+4])+(35468*o[i+12]>>16))),et(n,r,1,0,c+d),et(n,r,2,0,c-d),et(n,r,3,0,l-u),i++,r+=32}function st(e,t,n,r){var s=e[t+0]+4,a=35468*e[t+4]>>16,i=nt(e[t+4]),o=35468*e[t+1]>>16;tt(n,r,0,s+i,e=nt(e[t+1]),o),tt(n,r,1,s+a,e,o),tt(n,r,2,s-a,e,o),tt(n,r,3,s-i,e,o)}function at(e,t,n,r,s){rt(e,t,n,r),s&&rt(e,t+16,n,r+4)}function it(e,t,n,r){ir(e,t+0,n,r,1),ir(e,t+32,n,r+128,1)}function ot(e,t,n,r){var s;for(e=e[t+0]+4,s=0;4>s;++s)for(t=0;4>t;++t)et(n,r,t,s,e)}function lt(e,t,n,r){e[t+0]&&cr(e,t+0,n,r),e[t+16]&&cr(e,t+16,n,r+4),e[t+32]&&cr(e,t+32,n,r+128),e[t+48]&&cr(e,t+48,n,r+128+4)}function ct(e,t,n,r){var s,i=a(16);for(s=0;4>s;++s){var o=e[t+0+s]+e[t+12+s],l=e[t+4+s]+e[t+8+s],c=e[t+4+s]-e[t+8+s],d=e[t+0+s]-e[t+12+s];i[0+s]=o+l,i[8+s]=o-l,i[4+s]=d+c,i[12+s]=d-c}for(s=0;4>s;++s)o=(e=i[0+4*s]+3)+i[3+4*s],l=i[1+4*s]+i[2+4*s],c=i[1+4*s]-i[2+4*s],d=e-i[3+4*s],n[r+0]=o+l>>3,n[r+16]=d+c>>3,n[r+32]=o-l>>3,n[r+48]=d-c>>3,r+=64}function dt(e,t,n){var r,s=t-32,a=Ir,i=255-e[s-1];for(r=0;r<n;++r){var o,l=a,c=i+e[t-1];for(o=0;o<n;++o)e[t+o]=l[c+e[s+o]];t+=32}}function ut(e,t){dt(e,t,4)}function ht(e,t){dt(e,t,8)}function At(e,t){dt(e,t,16)}function ft(e,t){var n;for(n=0;16>n;++n)r(e,t+32*n,e,t-32,16)}function mt(e,t){var n;for(n=16;0<n;--n)s(e,t,e[t-1],16),t+=32}function pt(e,t,n){var r;for(r=0;16>r;++r)s(t,n+32*r,e,16)}function gt(e,t){var n,r=16;for(n=0;16>n;++n)r+=e[t-1+32*n]+e[t+n-32];pt(r>>5,e,t)}function xt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t-1+32*n];pt(r>>4,e,t)}function bt(e,t){var n,r=8;for(n=0;16>n;++n)r+=e[t+n-32];pt(r>>4,e,t)}function yt(e,t){pt(128,e,t)}function vt(e,t,n){return e+2*t+n+2>>2}function wt(e,t){var n,s=t-32;for(s=new Uint8Array([vt(e[s-1],e[s+0],e[s+1]),vt(e[s+0],e[s+1],e[s+2]),vt(e[s+1],e[s+2],e[s+3]),vt(e[s+2],e[s+3],e[s+4])]),n=0;4>n;++n)r(e,t+32*n,s,0,s.length)}function jt(e,t){var n=e[t-1],r=e[t-1+32],s=e[t-1+64],a=e[t-1+96];B(e,t+0,16843009*vt(e[t-1-32],n,r)),B(e,t+32,16843009*vt(n,r,s)),B(e,t+64,16843009*vt(r,s,a)),B(e,t+96,16843009*vt(s,a,a))}function Nt(e,t){var n,r=4;for(n=0;4>n;++n)r+=e[t+n-32]+e[t-1+32*n];for(r>>=3,n=0;4>n;++n)s(e,t+32*n,r,4)}function _t(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],a=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+96]=vt(r,s,e[t-1+96]),e[t+1+96]=e[t+0+64]=vt(n,r,s),e[t+2+96]=e[t+1+64]=e[t+0+32]=vt(a,n,r),e[t+3+96]=e[t+2+64]=e[t+1+32]=e[t+0+0]=vt(i,a,n),e[t+3+64]=e[t+2+32]=e[t+1+0]=vt(o,i,a),e[t+3+32]=e[t+2+0]=vt(l,o,i),e[t+3+0]=vt(c,l,o)}function Ct(e,t){var n=e[t+1-32],r=e[t+2-32],s=e[t+3-32],a=e[t+4-32],i=e[t+5-32],o=e[t+6-32],l=e[t+7-32];e[t+0+0]=vt(e[t+0-32],n,r),e[t+1+0]=e[t+0+32]=vt(n,r,s),e[t+2+0]=e[t+1+32]=e[t+0+64]=vt(r,s,a),e[t+3+0]=e[t+2+32]=e[t+1+64]=e[t+0+96]=vt(s,a,i),e[t+3+32]=e[t+2+64]=e[t+1+96]=vt(a,i,o),e[t+3+64]=e[t+2+96]=vt(i,o,l),e[t+3+96]=vt(o,l,l)}function St(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],a=e[t-1-32],i=e[t+0-32],o=e[t+1-32],l=e[t+2-32],c=e[t+3-32];e[t+0+0]=e[t+1+64]=a+i+1>>1,e[t+1+0]=e[t+2+64]=i+o+1>>1,e[t+2+0]=e[t+3+64]=o+l+1>>1,e[t+3+0]=l+c+1>>1,e[t+0+96]=vt(s,r,n),e[t+0+64]=vt(r,n,a),e[t+0+32]=e[t+1+96]=vt(n,a,i),e[t+1+32]=e[t+2+96]=vt(a,i,o),e[t+2+32]=e[t+3+96]=vt(i,o,l),e[t+3+32]=vt(o,l,c)}function kt(e,t){var n=e[t+0-32],r=e[t+1-32],s=e[t+2-32],a=e[t+3-32],i=e[t+4-32],o=e[t+5-32],l=e[t+6-32],c=e[t+7-32];e[t+0+0]=n+r+1>>1,e[t+1+0]=e[t+0+64]=r+s+1>>1,e[t+2+0]=e[t+1+64]=s+a+1>>1,e[t+3+0]=e[t+2+64]=a+i+1>>1,e[t+0+32]=vt(n,r,s),e[t+1+32]=e[t+0+96]=vt(r,s,a),e[t+2+32]=e[t+1+96]=vt(s,a,i),e[t+3+32]=e[t+2+96]=vt(a,i,o),e[t+3+64]=vt(i,o,l),e[t+3+96]=vt(o,l,c)}function Bt(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],a=e[t-1+96];e[t+0+0]=n+r+1>>1,e[t+2+0]=e[t+0+32]=r+s+1>>1,e[t+2+32]=e[t+0+64]=s+a+1>>1,e[t+1+0]=vt(n,r,s),e[t+3+0]=e[t+1+32]=vt(r,s,a),e[t+3+32]=e[t+1+64]=vt(s,a,a),e[t+3+64]=e[t+2+64]=e[t+0+96]=e[t+1+96]=e[t+2+96]=e[t+3+96]=a}function Et(e,t){var n=e[t-1+0],r=e[t-1+32],s=e[t-1+64],a=e[t-1+96],i=e[t-1-32],o=e[t+0-32],l=e[t+1-32],c=e[t+2-32];e[t+0+0]=e[t+2+32]=n+i+1>>1,e[t+0+32]=e[t+2+64]=r+n+1>>1,e[t+0+64]=e[t+2+96]=s+r+1>>1,e[t+0+96]=a+s+1>>1,e[t+3+0]=vt(o,l,c),e[t+2+0]=vt(i,o,l),e[t+1+0]=e[t+3+32]=vt(n,i,o),e[t+1+32]=e[t+3+64]=vt(r,n,i),e[t+1+64]=e[t+3+96]=vt(s,r,n),e[t+1+96]=vt(a,s,r)}function Lt(e,t){var n;for(n=0;8>n;++n)r(e,t+32*n,e,t-32,8)}function Mt(e,t){var n;for(n=0;8>n;++n)s(e,t,e[t-1],8),t+=32}function Ft(e,t,n){var r;for(r=0;8>r;++r)s(t,n+32*r,e,8)}function It(e,t){var n,r=8;for(n=0;8>n;++n)r+=e[t+n-32]+e[t-1+32*n];Ft(r>>4,e,t)}function Dt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t+n-32];Ft(r>>3,e,t)}function Tt(e,t){var n,r=4;for(n=0;8>n;++n)r+=e[t-1+32*n];Ft(r>>3,e,t)}function Ot(e,t){Ft(128,e,t)}function Pt(e,t,n){var r=e[t-n],s=e[t+0],a=3*(s-r)+Mr[1020+e[t-2*n]-e[t+n]],i=Fr[112+(a+4>>3)];e[t-n]=Ir[255+r+Fr[112+(a+3>>3)]],e[t+0]=Ir[255+s-i]}function Ut(e,t,n,r){var s=e[t+0],a=e[t+n];return Dr[255+e[t-2*n]-e[t-n]]>r||Dr[255+a-s]>r}function Rt(e,t,n,r){return 4*Dr[255+e[t-n]-e[t+0]]+Dr[255+e[t-2*n]-e[t+n]]<=r}function Qt(e,t,n,r,s){var a=e[t-3*n],i=e[t-2*n],o=e[t-n],l=e[t+0],c=e[t+n],d=e[t+2*n],u=e[t+3*n];return 4*Dr[255+o-l]+Dr[255+i-c]>r?0:Dr[255+e[t-4*n]-a]<=s&&Dr[255+a-i]<=s&&Dr[255+i-o]<=s&&Dr[255+u-d]<=s&&Dr[255+d-c]<=s&&Dr[255+c-l]<=s}function zt(e,t,n,r){var s=2*r+1;for(r=0;16>r;++r)Rt(e,t+r,n,s)&&Pt(e,t+r,n)}function Ht(e,t,n,r){var s=2*r+1;for(r=0;16>r;++r)Rt(e,t+r*n,1,s)&&Pt(e,t+r*n,1)}function Kt(e,t,n,r){var s;for(s=3;0<s;--s)zt(e,t+=4*n,n,r)}function Wt(e,t,n,r){var s;for(s=3;0<s;--s)Ht(e,t+=4,n,r)}function Vt(e,t,n,r,s,a,i,o){for(a=2*a+1;0<s--;){if(Qt(e,t,n,a,i))if(Ut(e,t,n,o))Pt(e,t,n);else{var l=e,c=t,d=n,u=l[c-2*d],h=l[c-d],A=l[c+0],f=l[c+d],m=l[c+2*d],p=27*(x=Mr[1020+3*(A-h)+Mr[1020+u-f]])+63>>7,g=18*x+63>>7,x=9*x+63>>7;l[c-3*d]=Ir[255+l[c-3*d]+x],l[c-2*d]=Ir[255+u+g],l[c-d]=Ir[255+h+p],l[c+0]=Ir[255+A-p],l[c+d]=Ir[255+f-g],l[c+2*d]=Ir[255+m-x]}t+=r}}function qt(e,t,n,r,s,a,i,o){for(a=2*a+1;0<s--;){if(Qt(e,t,n,a,i))if(Ut(e,t,n,o))Pt(e,t,n);else{var l=e,c=t,d=n,u=l[c-d],h=l[c+0],A=l[c+d],f=Fr[112+(4+(m=3*(h-u))>>3)],m=Fr[112+(m+3>>3)],p=f+1>>1;l[c-2*d]=Ir[255+l[c-2*d]+p],l[c-d]=Ir[255+u+m],l[c+0]=Ir[255+h-f],l[c+d]=Ir[255+A-p]}t+=r}}function Gt(e,t,n,r,s,a){Vt(e,t,n,1,16,r,s,a)}function Yt(e,t,n,r,s,a){Vt(e,t,1,n,16,r,s,a)}function Jt(e,t,n,r,s,a){var i;for(i=3;0<i;--i)qt(e,t+=4*n,n,1,16,r,s,a)}function Xt(e,t,n,r,s,a){var i;for(i=3;0<i;--i)qt(e,t+=4,1,n,16,r,s,a)}function Zt(e,t,n,r,s,a,i,o){Vt(e,t,s,1,8,a,i,o),Vt(n,r,s,1,8,a,i,o)}function $t(e,t,n,r,s,a,i,o){Vt(e,t,1,s,8,a,i,o),Vt(n,r,1,s,8,a,i,o)}function en(e,t,n,r,s,a,i,o){qt(e,t+4*s,s,1,8,a,i,o),qt(n,r+4*s,s,1,8,a,i,o)}function tn(e,t,n,r,s,a,i,o){qt(e,t+4,1,s,8,a,i,o),qt(n,r+4,1,s,8,a,i,o)}function nn(){this.ba=new ie,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new le,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function rn(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function sn(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function an(){this.ua=0,this.Wa=new D,this.vb=new D,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new A,this.yc=new u}function on(){this.xb=this.a=0,this.l=new Ve,this.ca=new ie,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new v,this.Pb=0,this.wd=new v,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new an,this.ab=0,this.gc=i(4,sn),this.Oc=0}function ln(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new Ve,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function cn(e,t,n,r,s,a,i){for(e=null==e?0:e[t+0],t=0;t<i;++t)s[a+t]=e+n[r+t]&255,e=s[a+t]}function dn(e,t,n,r,s,a,i){var o;if(null==e)cn(null,null,n,r,s,a,i);else for(o=0;o<i;++o)s[a+o]=e[t+o]+n[r+o]&255}function un(e,t,n,r,s,a,i){if(null==e)cn(null,null,n,r,s,a,i);else{var o,l=e[t+0],c=l,d=l;for(o=0;o<i;++o)c=d+(l=e[t+o])-c,d=n[r+o]+(-256&c?0>c?0:255:c)&255,c=l,s[a+o]=d}}function hn(e,n,s,i){var o=n.width,l=n.o;if(t(null!=e&&null!=n),0>s||0>=i||s+i>l)return null;if(!e.Cc){if(null==e.ga){var c;if(e.ga=new ln,(c=null==e.ga)||(c=n.width*n.o,t(0==e.Gb.length),e.Gb=a(c),e.Uc=0,null==e.Gb?c=0:(e.mb=e.Gb,e.nb=e.Uc,e.rc=null,c=1),c=!c),!c){c=e.ga;var d=e.Fa,u=e.P,h=e.qc,A=e.mb,f=e.nb,m=u+1,p=h-1,x=c.l;if(t(null!=d&&null!=A&&null!=n),ps[0]=null,ps[1]=cn,ps[2]=dn,ps[3]=un,c.ca=A,c.tb=f,c.c=n.width,c.i=n.height,t(0<c.c&&0<c.i),1>=h)n=0;else if(c.$a=3&d[u+0],c.Z=d[u+0]>>2&3,c.Lc=d[u+0]>>4&3,u=d[u+0]>>6&3,0>c.$a||1<c.$a||4<=c.Z||1<c.Lc||u)n=0;else if(x.put=Ae,x.ac=he,x.bc=fe,x.ma=c,x.width=n.width,x.height=n.height,x.Da=n.Da,x.v=n.v,x.va=n.va,x.j=n.j,x.o=n.o,c.$a)e:{t(1==c.$a),n=ke();t:for(;;){if(null==n){n=0;break e}if(t(null!=c),c.mc=n,n.c=c.c,n.i=c.i,n.l=c.l,n.l.ma=c,n.l.width=c.c,n.l.height=c.i,n.a=0,g(n.m,d,m,p),!Be(c.c,c.i,1,n,null))break t;if(1==n.ab&&3==n.gc[0].hc&&je(n.s)?(c.ic=1,d=n.c*n.i,n.Ta=null,n.Ua=0,n.V=a(d),n.Ba=0,null==n.V?(n.a=1,n=0):n=1):(c.ic=0,n=Ee(n,c.c)),!n)break t;n=1;break e}c.mc=null,n=0}else n=p>=c.c*c.i;c=!n}if(c)return null;1!=e.ga.Lc?e.Ga=0:i=l-s}t(null!=e.ga),t(s+i<=l);e:{if(n=(d=e.ga).c,l=d.l.o,0==d.$a){if(m=e.rc,p=e.Vc,x=e.Fa,u=e.P+1+s*n,h=e.mb,A=e.nb+s*n,t(u<=e.P+e.qc),0!=d.Z)for(t(null!=ps[d.Z]),c=0;c<i;++c)ps[d.Z](m,p,x,u,h,A,n),m=h,p=A,A+=n,u+=n;else for(c=0;c<i;++c)r(h,A,x,u,n),m=h,p=A,A+=n,u+=n;e.rc=m,e.Vc=p}else{if(t(null!=d.mc),n=s+i,t(null!=(c=d.mc)),t(n<=c.i),c.C>=n)n=1;else if(d.ic||gn(),d.ic){d=c.V,m=c.Ba,p=c.c;var b=c.i,y=(x=1,u=c.$/p,h=c.$%p,A=c.m,f=c.s,c.$),v=p*b,w=p*n,N=f.wc,C=y<w?ye(f,h,u):null;t(y<=v),t(n<=b),t(je(f));t:for(;;){for(;!A.h&&y<w;){if(h&N||(C=ye(f,h,u)),t(null!=C),_(A),256>(b=xe(C.G[0],C.H[0],A)))d[m+y]=b,++y,++h>=p&&(h=0,++u<=n&&!(u%16)&&_e(c,u));else{if(!(280>b)){x=0;break t}b=pe(b-256,A);var S,k=xe(C.G[4],C.H[4],A);if(_(A),!(y>=(k=ge(p,k=pe(k,A)))&&v-y>=b)){x=0;break t}for(S=0;S<b;++S)d[m+y+S]=d[m+y+S-k];for(y+=b,h+=b;h>=p;)h-=p,++u<=n&&!(u%16)&&_e(c,u);y<w&&h&N&&(C=ye(f,h,u))}t(A.h==j(A))}_e(c,u>n?n:u);break t}!x||A.h&&y<v?(x=0,c.a=A.h?5:3):c.$=y,n=x}else n=Ce(c,c.V,c.Ba,c.c,c.i,n,Le);if(!n){i=0;break e}}s+i>=l&&(e.Cc=1),i=1}if(!i)return null;if(e.Cc&&(null!=(i=e.ga)&&(i.mc=null),e.ga=null,0<e.Ga))return alert("todo:WebPDequantizeLevels"),null}return e.nb+s*o}function An(e,t,n,r,s,a){for(;0<s--;){var i,o=e,l=t+(n?1:0),c=e,d=t+(n?0:3);for(i=0;i<r;++i){var u=c[d+4*i];255!=u&&(u*=32897,o[l+4*i+0]=o[l+4*i+0]*u>>23,o[l+4*i+1]=o[l+4*i+1]*u>>23,o[l+4*i+2]=o[l+4*i+2]*u>>23)}t+=a}}function fn(e,t,n,r,s){for(;0<r--;){var a;for(a=0;a<n;++a){var i=e[t+2*a+0],o=15&(c=e[t+2*a+1]),l=4369*o,c=(240&c|c>>4)*l>>16;e[t+2*a+0]=(240&i|i>>4)*l>>16&240|(15&i|i<<4)*l>>16>>4&15,e[t+2*a+1]=240&c|o}t+=s}}function mn(e,t,n,r,s,a,i,o){var l,c,d=255;for(c=0;c<s;++c){for(l=0;l<r;++l){var u=e[t+l];a[i+4*l]=u,d&=u}t+=n,i+=o}return 255!=d}function pn(e,t,n,r,s){var a;for(a=0;a<s;++a)n[r+a]=e[t+a]>>8}function gn(){jr=An,Nr=fn,_r=mn,Cr=pn}function xn(n,r,s){e[n]=function(e,n,a,i,o,l,c,d,u,h,A,f,m,p,g,x,b){var y,v=b-1>>1,w=o[l+0]|c[d+0]<<16,j=u[h+0]|A[f+0]<<16;t(null!=e);var N=3*w+j+131074>>2;for(r(e[n+0],255&N,N>>16,m,p),null!=a&&(N=3*j+w+131074>>2,r(a[i+0],255&N,N>>16,g,x)),y=1;y<=v;++y){var _=o[l+y]|c[d+y]<<16,C=u[h+y]|A[f+y]<<16,S=w+_+j+C+524296,k=S+2*(_+j)>>3;N=k+w>>1,w=(S=S+2*(w+C)>>3)+_>>1,r(e[n+2*y-1],255&N,N>>16,m,p+(2*y-1)*s),r(e[n+2*y-0],255&w,w>>16,m,p+(2*y-0)*s),null!=a&&(N=S+j>>1,w=k+C>>1,r(a[i+2*y-1],255&N,N>>16,g,x+(2*y-1)*s),r(a[i+2*y+0],255&w,w>>16,g,x+(2*y+0)*s)),w=_,j=C}1&b||(N=3*w+j+131074>>2,r(e[n+b-1],255&N,N>>16,m,p+(b-1)*s),null!=a&&(N=3*j+w+131074>>2,r(a[i+b-1],255&N,N>>16,g,x+(b-1)*s)))}}function bn(){gs[Tr]=xs,gs[Or]=ys,gs[Pr]=bs,gs[Ur]=vs,gs[Rr]=ws,gs[Qr]=js,gs[zr]=Ns,gs[Hr]=ys,gs[Kr]=vs,gs[Wr]=ws,gs[Vr]=js}function yn(e){return e&~Es?0>e?0:255:e>>Bs}function vn(e,t){return yn((19077*e>>8)+(26149*t>>8)-14234)}function wn(e,t,n){return yn((19077*e>>8)-(6419*t>>8)-(13320*n>>8)+8708)}function jn(e,t){return yn((19077*e>>8)+(33050*t>>8)-17685)}function Nn(e,t,n,r,s){r[s+0]=vn(e,n),r[s+1]=wn(e,t,n),r[s+2]=jn(e,t)}function _n(e,t,n,r,s){r[s+0]=jn(e,t),r[s+1]=wn(e,t,n),r[s+2]=vn(e,n)}function Cn(e,t,n,r,s){var a=wn(e,t,n);t=a<<3&224|jn(e,t)>>3,r[s+0]=248&vn(e,n)|a>>5,r[s+1]=t}function Sn(e,t,n,r,s){var a=240&jn(e,t)|15;r[s+0]=240&vn(e,n)|wn(e,t,n)>>4,r[s+1]=a}function kn(e,t,n,r,s){r[s+0]=255,Nn(e,t,n,r,s+1)}function Bn(e,t,n,r,s){_n(e,t,n,r,s),r[s+3]=255}function En(e,t,n,r,s){Nn(e,t,n,r,s),r[s+3]=255}function We(e,t){return 0>e?0:e>t?t:e}function Ln(t,n,r){e[t]=function(e,t,s,a,i,o,l,c,d){for(var u=c+(-2&d)*r;c!=u;)n(e[t+0],s[a+0],i[o+0],l,c),n(e[t+1],s[a+0],i[o+0],l,c+r),t+=2,++a,++o,c+=2*r;1&d&&n(e[t+0],s[a+0],i[o+0],l,c)}}function Mn(e,t,n){return 0==n?0==e?0==t?6:5:0==t?4:0:n}function Fn(e,t,n,r,s){switch(e>>>30){case 3:ir(t,n,r,s,0);break;case 2:or(t,n,r,s);break;case 1:cr(t,n,r,s)}}function In(e,t){var n,a,i=t.M,o=t.Nb,l=e.oc,c=e.pc+40,d=e.oc,u=e.pc+584,h=e.oc,A=e.pc+600;for(n=0;16>n;++n)l[c+32*n-1]=129;for(n=0;8>n;++n)d[u+32*n-1]=129,h[A+32*n-1]=129;for(0<i?l[c-1-32]=d[u-1-32]=h[A-1-32]=129:(s(l,c-32-1,127,21),s(d,u-32-1,127,9),s(h,A-32-1,127,9)),a=0;a<e.za;++a){var f=t.ya[t.aa+a];if(0<a){for(n=-1;16>n;++n)r(l,c+32*n-4,l,c+32*n+12,4);for(n=-1;8>n;++n)r(d,u+32*n-4,d,u+32*n+4,4),r(h,A+32*n-4,h,A+32*n+4,4)}var m=e.Gd,p=e.Hd+a,g=f.ad,x=f.Hc;if(0<i&&(r(l,c-32,m[p].y,0,16),r(d,u-32,m[p].f,0,8),r(h,A-32,m[p].ea,0,8)),f.Za){var b=l,y=c-32+16;for(0<i&&(a>=e.za-1?s(b,y,m[p].y[15],4):r(b,y,m[p+1].y,0,4)),n=0;4>n;n++)b[y+128+n]=b[y+256+n]=b[y+384+n]=b[y+0+n];for(n=0;16>n;++n,x<<=2)b=l,y=c+Ps[n],hs[f.Ob[n]](b,y),Fn(x,g,16*+n,b,y)}else if(b=Mn(a,i,f.Ob[0]),us[b](l,c),0!=x)for(n=0;16>n;++n,x<<=2)Fn(x,g,16*+n,l,c+Ps[n]);for(n=f.Gc,b=Mn(a,i,f.Dd),As[b](d,u),As[b](h,A),x=g,b=d,y=u,255&(f=n|0)&&(170&f?lr(x,256,b,y):dr(x,256,b,y)),f=h,x=A,255&(n>>=8)&&(170&n?lr(g,320,f,x):dr(g,320,f,x)),i<e.Ub-1&&(r(m[p].y,0,l,c+480,16),r(m[p].f,0,d,u+224,8),r(m[p].ea,0,h,A+224,8)),n=8*o*e.B,m=e.sa,p=e.ta+16*a+16*o*e.R,g=e.qa,f=e.ra+8*a+n,x=e.Ha,b=e.Ia+8*a+n,n=0;16>n;++n)r(m,p+n*e.R,l,c+32*n,16);for(n=0;8>n;++n)r(g,f+n*e.B,d,u+32*n,8),r(x,b+n*e.B,h,A+32*n,8)}}function Dn(e,r,s,a,i,o,l,c,d){var u=[0],h=[0],A=0,f=null!=d?d.kd:0,m=null!=d?d:new rn;if(null==e||12>s)return 7;m.data=e,m.w=r,m.ha=s,r=[r],s=[s],m.gb=[m.gb];e:{var p=r,x=s,b=m.gb;if(t(null!=e),t(null!=x),t(null!=b),b[0]=0,12<=x[0]&&!n(e,p[0],"RIFF")){if(n(e,p[0]+8,"WEBP")){b=3;break e}var y=M(e,p[0]+4);if(12>y||4294967286<y){b=3;break e}if(f&&y>x[0]-8){b=7;break e}b[0]=y,p[0]+=12,x[0]-=12}b=0}if(0!=b)return b;for(y=0<m.gb[0],s=s[0];;){e:{var w=e;x=r,b=s;var j=u,N=h,_=p=[0];if((k=A=[A])[0]=0,8>b[0])b=7;else{if(!n(w,x[0],"VP8X")){if(10!=M(w,x[0]+4)){b=3;break e}if(18>b[0]){b=7;break e}var C=M(w,x[0]+8),S=1+L(w,x[0]+12);if(2147483648<=S*(w=1+L(w,x[0]+15))){b=3;break e}null!=_&&(_[0]=C),null!=j&&(j[0]=S),null!=N&&(N[0]=w),x[0]+=18,b[0]-=18,k[0]=1}b=0}}if(A=A[0],p=p[0],0!=b)return b;if(x=!!(2&p),!y&&A)return 3;if(null!=o&&(o[0]=!!(16&p)),null!=l&&(l[0]=x),null!=c&&(c[0]=0),l=u[0],p=h[0],A&&x&&null==d){b=0;break}if(4>s){b=7;break}if(y&&A||!y&&!A&&!n(e,r[0],"ALPH")){s=[s],m.na=[m.na],m.P=[m.P],m.Sa=[m.Sa];e:{C=e,b=r,y=s;var k=m.gb;j=m.na,N=m.P,_=m.Sa,S=22,t(null!=C),t(null!=y),w=b[0];var B=y[0];for(t(null!=j),t(null!=_),j[0]=null,N[0]=null,_[0]=0;;){if(b[0]=w,y[0]=B,8>B){b=7;break e}var E=M(C,w+4);if(4294967286<E){b=3;break e}var F=8+E+1&-2;if(S+=F,0<k&&S>k){b=3;break e}if(!n(C,w,"VP8 ")||!n(C,w,"VP8L")){b=0;break e}if(B[0]<F){b=7;break e}n(C,w,"ALPH")||(j[0]=C,N[0]=w+8,_[0]=E),w+=F,B-=F}}if(s=s[0],m.na=m.na[0],m.P=m.P[0],m.Sa=m.Sa[0],0!=b)break}s=[s],m.Ja=[m.Ja],m.xa=[m.xa];e:if(k=e,b=r,y=s,j=m.gb[0],N=m.Ja,_=m.xa,C=b[0],w=!n(k,C,"VP8 "),S=!n(k,C,"VP8L"),t(null!=k),t(null!=y),t(null!=N),t(null!=_),8>y[0])b=7;else{if(w||S){if(k=M(k,C+4),12<=j&&k>j-12){b=3;break e}if(f&&k>y[0]-8){b=7;break e}N[0]=k,b[0]+=8,y[0]-=8,_[0]=S}else _[0]=5<=y[0]&&47==k[C+0]&&!(k[C+4]>>5),N[0]=y[0];b=0}if(s=s[0],m.Ja=m.Ja[0],m.xa=m.xa[0],r=r[0],0!=b)break;if(4294967286<m.Ja)return 3;if(null==c||x||(c[0]=m.xa?2:1),l=[l],p=[p],m.xa){if(5>s){b=7;break}c=l,f=p,x=o,null==e||5>s?e=0:5<=s&&47==e[r+0]&&!(e[r+4]>>5)?(y=[0],k=[0],j=[0],g(N=new v,e,r,s),me(N,y,k,j)?(null!=c&&(c[0]=y[0]),null!=f&&(f[0]=k[0]),null!=x&&(x[0]=j[0]),e=1):e=0):e=0}else{if(10>s){b=7;break}c=p,null==e||10>s||!Ye(e,r+3,s-3)?e=0:(f=e[r+0]|e[r+1]<<8|e[r+2]<<16,x=16383&(e[r+7]<<8|e[r+6]),e=16383&(e[r+9]<<8|e[r+8]),1&f||3<(f>>1&7)||!(f>>4&1)||f>>5>=m.Ja||!x||!e?e=0:(l&&(l[0]=x),c&&(c[0]=e),e=1))}if(!e)return 3;if(l=l[0],p=p[0],A&&(u[0]!=l||h[0]!=p))return 3;null!=d&&(d[0]=m,d.offset=r-d.w,t(4294967286>r-d.w),t(d.offset==d.ha-s));break}return 0==b||7==b&&A&&null==d?(null!=o&&(o[0]|=null!=m.na&&0<m.na.length),null!=a&&(a[0]=l),null!=i&&(i[0]=p),0):b}function Tn(e,t,n){var r=t.width,s=t.height,a=0,i=0,o=r,l=s;if(t.Da=null!=e&&0<e.Da,t.Da&&(o=e.cd,l=e.bd,a=e.v,i=e.j,11>n||(a&=-2,i&=-2),0>a||0>i||0>=o||0>=l||a+o>r||i+l>s))return 0;if(t.v=a,t.j=i,t.va=a+o,t.o=i+l,t.U=o,t.T=l,t.da=null!=e&&0<e.da,t.da){if(!T(o,l,n=[e.ib],a=[e.hb]))return 0;t.ib=n[0],t.hb=a[0]}return t.ob=null!=e&&e.ob,t.Kb=null==e||!e.Sd,t.da&&(t.ob=t.ib<3*r/4&&t.hb<3*s/4,t.Kb=0),1}function On(e){if(null==e)return 2;if(11>e.S){var t=e.f.RGBA;t.fb+=(e.height-1)*t.A,t.A=-t.A}else t=e.f.kb,e=e.height,t.O+=(e-1)*t.fa,t.fa=-t.fa,t.N+=(e-1>>1)*t.Ab,t.Ab=-t.Ab,t.W+=(e-1>>1)*t.Db,t.Db=-t.Db,null!=t.F&&(t.J+=(e-1)*t.lb,t.lb=-t.lb);return 0}function Pn(e,t,n,r){if(null==r||0>=e||0>=t)return 2;if(null!=n){if(n.Da){var s=n.cd,i=n.bd,o=-2&n.v,l=-2&n.j;if(0>o||0>l||0>=s||0>=i||o+s>e||l+i>t)return 2;e=s,t=i}if(n.da){if(!T(e,t,s=[n.ib],i=[n.hb]))return 2;e=s[0],t=i[0]}}r.width=e,r.height=t;e:{var c=r.width,d=r.height;if(e=r.S,0>=c||0>=d||!(e>=Tr&&13>e))e=2;else{if(0>=r.Rd&&null==r.sd){o=i=s=t=0;var u=(l=c*zs[e])*d;if(11>e||(i=(d+1)/2*(t=(c+1)/2),12==e&&(o=(s=c)*d)),null==(d=a(u+2*i+o))){e=1;break e}r.sd=d,11>e?((c=r.f.RGBA).eb=d,c.fb=0,c.A=l,c.size=u):((c=r.f.kb).y=d,c.O=0,c.fa=l,c.Fd=u,c.f=d,c.N=0+u,c.Ab=t,c.Cd=i,c.ea=d,c.W=0+u+i,c.Db=t,c.Ed=i,12==e&&(c.F=d,c.J=0+u+2*i),c.Tc=o,c.lb=s)}if(t=1,s=r.S,i=r.width,o=r.height,s>=Tr&&13>s)if(11>s)e=r.f.RGBA,t&=(l=Math.abs(e.A))*(o-1)+i<=e.size,t&=l>=i*zs[s],t&=null!=e.eb;else{e=r.f.kb,l=(i+1)/2,u=(o+1)/2,c=Math.abs(e.fa),d=Math.abs(e.Ab);var h=Math.abs(e.Db),A=Math.abs(e.lb),f=A*(o-1)+i;t&=c*(o-1)+i<=e.Fd,t&=d*(u-1)+l<=e.Cd,t=(t&=h*(u-1)+l<=e.Ed)&c>=i&d>=l&h>=l,t&=null!=e.y,t&=null!=e.f,t&=null!=e.ea,12==s&&(t&=A>=i,t&=f<=e.Tc,t&=null!=e.F)}else t=0;e=t?0:2}}return 0!=e||null!=n&&n.fd&&(e=On(r)),e}var Un=64,Rn=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],Qn=24,zn=32,Hn=8,Kn=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];U("Predictor0","PredictorAdd0"),e.Predictor0=function(){return 4278190080},e.Predictor1=function(e){return e},e.Predictor2=function(e,t,n){return t[n+0]},e.Predictor3=function(e,t,n){return t[n+1]},e.Predictor4=function(e,t,n){return t[n-1]},e.Predictor5=function(e,t,n){return Q(Q(e,t[n+1]),t[n+0])},e.Predictor6=function(e,t,n){return Q(e,t[n-1])},e.Predictor7=function(e,t,n){return Q(e,t[n+0])},e.Predictor8=function(e,t,n){return Q(t[n-1],t[n+0])},e.Predictor9=function(e,t,n){return Q(t[n+0],t[n+1])},e.Predictor10=function(e,t,n){return Q(Q(e,t[n-1]),Q(t[n+0],t[n+1]))},e.Predictor11=function(e,t,n){var r=t[n+0];return 0>=K(r>>24&255,e>>24&255,(t=t[n-1])>>24&255)+K(r>>16&255,e>>16&255,t>>16&255)+K(r>>8&255,e>>8&255,t>>8&255)+K(255&r,255&e,255&t)?r:e},e.Predictor12=function(e,t,n){var r=t[n+0];return(z((e>>24&255)+(r>>24&255)-((t=t[n-1])>>24&255))<<24|z((e>>16&255)+(r>>16&255)-(t>>16&255))<<16|z((e>>8&255)+(r>>8&255)-(t>>8&255))<<8|z((255&e)+(255&r)-(255&t)))>>>0},e.Predictor13=function(e,t,n){var r=t[n-1];return(H((e=Q(e,t[n+0]))>>24&255,r>>24&255)<<24|H(e>>16&255,r>>16&255)<<16|H(e>>8&255,r>>8&255)<<8|H(255&e,255&r))>>>0};var Wn=e.PredictorAdd0;e.PredictorAdd1=W,U("Predictor2","PredictorAdd2"),U("Predictor3","PredictorAdd3"),U("Predictor4","PredictorAdd4"),U("Predictor5","PredictorAdd5"),U("Predictor6","PredictorAdd6"),U("Predictor7","PredictorAdd7"),U("Predictor8","PredictorAdd8"),U("Predictor9","PredictorAdd9"),U("Predictor10","PredictorAdd10"),U("Predictor11","PredictorAdd11"),U("Predictor12","PredictorAdd12"),U("Predictor13","PredictorAdd13");var Vn=e.PredictorAdd2;Y("ColorIndexInverseTransform","MapARGB","32b",function(e){return e>>8&255},function(e){return e}),Y("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(e){return e},function(e){return e>>8&255});var qn,Gn=e.ColorIndexInverseTransform,Yn=e.MapARGB,Jn=e.VP8LColorIndexInverseTransformAlpha,Xn=e.MapAlpha,Zn=e.VP8LPredictorsAdd=[];Zn.length=16,(e.VP8LPredictors=[]).length=16,(e.VP8LPredictorsAdd_C=[]).length=16,(e.VP8LPredictors_C=[]).length=16;var $n,er,tr,nr,rr,sr,ar,ir,or,lr,cr,dr,ur,hr,Ar,fr,mr,pr,gr,xr,br,yr,vr,wr,jr,Nr,_r,Cr,Sr=a(511),kr=a(2041),Br=a(225),Er=a(767),Lr=0,Mr=kr,Fr=Br,Ir=Er,Dr=Sr,Tr=0,Or=1,Pr=2,Ur=3,Rr=4,Qr=5,zr=6,Hr=7,Kr=8,Wr=9,Vr=10,qr=[2,3,7],Gr=[3,3,11],Yr=[280,256,256,256,40],Jr=[0,1,1,1,0],Xr=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Zr=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],$r=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],es=8,ts=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],ns=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],rs=null,ss=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],as=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],is=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],os=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],ls=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],cs=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],ds=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],us=[],hs=[],As=[],fs=1,ms=2,ps=[],gs=[];xn("UpsampleRgbLinePair",Nn,3),xn("UpsampleBgrLinePair",_n,3),xn("UpsampleRgbaLinePair",En,4),xn("UpsampleBgraLinePair",Bn,4),xn("UpsampleArgbLinePair",kn,4),xn("UpsampleRgba4444LinePair",Sn,2),xn("UpsampleRgb565LinePair",Cn,2);var xs=e.UpsampleRgbLinePair,bs=e.UpsampleBgrLinePair,ys=e.UpsampleRgbaLinePair,vs=e.UpsampleBgraLinePair,ws=e.UpsampleArgbLinePair,js=e.UpsampleRgba4444LinePair,Ns=e.UpsampleRgb565LinePair,_s=16,Cs=1<<_s-1,Ss=-227,ks=482,Bs=6,Es=(256<<Bs)-1,Ls=0,Ms=a(256),Fs=a(256),Is=a(256),Ds=a(256),Ts=a(ks-Ss),Os=a(ks-Ss);Ln("YuvToRgbRow",Nn,3),Ln("YuvToBgrRow",_n,3),Ln("YuvToRgbaRow",En,4),Ln("YuvToBgraRow",Bn,4),Ln("YuvToArgbRow",kn,4),Ln("YuvToRgba4444Row",Sn,2),Ln("YuvToRgb565Row",Cn,2);var Ps=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Us=[0,2,8],Rs=[8,7,6,4,4,2,2,2,1,1,1,1],Qs=1;this.WebPDecodeRGBA=function(e,n,r,s,a){var i=Or,o=new nn,l=new ie;o.ba=l,l.S=i,l.width=[l.width],l.height=[l.height];var c=l.width,d=l.height,u=new oe;if(null==u||null==e)var h=2;else t(null!=u),h=Dn(e,n,r,u.width,u.height,u.Pd,u.Qd,u.format,null);if(0!=h?c=0:(null!=c&&(c[0]=u.width[0]),null!=d&&(d[0]=u.height[0]),c=1),c){l.width=l.width[0],l.height=l.height[0],null!=s&&(s[0]=l.width),null!=a&&(a[0]=l.height);e:{if(s=new Ve,(a=new rn).data=e,a.w=n,a.ha=r,a.kd=1,n=[0],t(null!=a),(0==(e=Dn(a.data,a.w,a.ha,null,null,null,n,null,a))||7==e)&&n[0]&&(e=4),0==(n=e)){if(t(null!=o),s.data=a.data,s.w=a.w+a.offset,s.ha=a.ha-a.offset,s.put=Ae,s.ac=he,s.bc=fe,s.ma=o,a.xa){if(null==(e=ke())){o=1;break e}if(function(e,n){var r=[0],s=[0],a=[0];t:for(;;){if(null==e)return 0;if(null==n)return e.a=2,0;if(e.l=n,e.a=0,g(e.m,n.data,n.w,n.ha),!me(e.m,r,s,a)){e.a=3;break t}if(e.xb=ms,n.width=r[0],n.height=s[0],!Be(r[0],s[0],1,e,null))break t;return 1}return t(0!=e.a),0}(e,s)){if(s=0==(n=Pn(s.width,s.height,o.Oa,o.ba))){t:{s=e;n:for(;;){if(null==s){s=0;break t}if(t(null!=s.s.yc),t(null!=s.s.Ya),t(0<s.s.Wb),t(null!=(r=s.l)),t(null!=(a=r.ma)),0!=s.xb){if(s.ca=a.ba,s.tb=a.tb,t(null!=s.ca),!Tn(a.Oa,r,Ur)){s.a=2;break n}if(!Ee(s,r.width))break n;if(r.da)break n;if((r.da||re(s.ca.S))&&gn(),11>s.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),null!=s.ca.f.kb.F&&gn()),s.Pb&&0<s.s.ua&&null==s.s.vb.X&&!F(s.s.vb,s.s.Wa.Xa)){s.a=1;break n}s.xb=0}if(!Ce(s,s.V,s.Ba,s.c,s.i,r.o,we))break n;a.Dc=s.Ma,s=1;break t}t(0!=s.a),s=0}s=!s}s&&(n=e.a)}else n=e.a}else{if(null==(e=new qe)){o=1;break e}if(e.Fa=a.na,e.P=a.P,e.qc=a.Sa,Je(e,s)){if(0==(n=Pn(s.width,s.height,o.Oa,o.ba))){if(e.Aa=0,r=o.Oa,t(null!=(a=e)),null!=r){if(0<(c=0>(c=r.Md)?0:100<c?255:255*c/100)){for(d=u=0;4>d;++d)12>(h=a.pb[d]).lc&&(h.ia=c*Rs[0>h.lc?0:h.lc]>>3),u|=h.ia;u&&(alert("todo:VP8InitRandom"),a.ia=1)}a.Ga=r.Id,100<a.Ga?a.Ga=100:0>a.Ga&&(a.Ga=0)}$e(e,s)||(n=e.a)}}else n=e.a}0==n&&null!=o.Oa&&o.Oa.fd&&(n=On(o.ba))}o=n}i=0!=o?null:11>i?l.f.RGBA.eb:l.f.kb.y}else i=null;return i};var zs=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(e,t){for(var n="",r=0;r<4;r++)n+=String.fromCharCode(e[t++]);return n}function d(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16)>>>0}function u(e,t){return(e[t+0]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24)>>>0}new l;var h=[0],A=[0],f=[],m=new l,p=e,g=function(e,t){var n={},r=0,s=!1,a=0,i=0;if(n.frames=[],!function(e,t){for(var n=0;n<4;n++)if(e[t+n]!="RIFF".charCodeAt(n))return!0;return!1}(e,t)){var o,l;for(u(e,t+=4),t+=8;t<e.length;){var h=c(e,t),A=u(e,t+=4);t+=4;var f=A+(1&A);switch(h){case"VP8 ":case"VP8L":void 0===n.frames[r]&&(n.frames[r]={}),(g=n.frames[r]).src_off=s?i:t-8,g.src_size=a+A+8,r++,s&&(s=!1,a=0,i=0);break;case"VP8X":(g=n.header={}).feature_flags=e[t];var m=t+4;g.canvas_width=1+d(e,m),m+=3,g.canvas_height=1+d(e,m),m+=3;break;case"ALPH":s=!0,a=f+8,i=t-8;break;case"ANIM":(g=n.header).bgcolor=u(e,t),m=t+4,g.loop_count=(o=e)[(l=m)+0]|o[l+1]<<8,m+=2;break;case"ANMF":var p,g;(g=n.frames[r]={}).offset_x=2*d(e,t),t+=3,g.offset_y=2*d(e,t),t+=3,g.width=1+d(e,t),t+=3,g.height=1+d(e,t),t+=3,g.duration=d(e,t),t+=3,p=e[t++],g.dispose=1&p,g.blend=p>>1&1}"ANMF"!=h&&(t+=f)}return n}}(p,0);g.response=p,g.rgbaoutput=!0,g.dataurl=!1;var x=g.header?g.header:null,b=g.frames?g.frames:null;if(x){x.loop_counter=x.loop_count,h=[x.canvas_height],A=[x.canvas_width];for(var y=0;y<b.length&&0!=b[y].blend;y++);}var v=b[0],w=m.WebPDecodeRGBA(p,v.src_off,v.src_size,A,h);v.rgba=w,v.imgwidth=A[0],v.imgheight=h[0];for(var j=0;j<A[0]*h[0]*4;j++)f[j]=w[j];return this.width=A,this.height=h,this.data=f,this}!function(e){var t=function(t,r,l,c){var d=4,u=a;switch(c){case e.image_compression.FAST:d=1,u=s;break;case e.image_compression.MEDIUM:d=6,u=i;break;case e.image_compression.SLOW:d=9,u=o}var h=X(t=n(t,r,l,u),{level:d});return e.__addimage__.arrayBufferToBinaryString(h)},n=function(e,t,n,r){for(var s,a,i,o=e.length/t,l=new Uint8Array(e.length+o),u=c(),h=0;h<o;h+=1){if(i=h*t,s=e.subarray(i,i+t),r)l.set(r(s,n,a),i+h);else{for(var A,f=u.length,m=[];A<f;A+=1)m[A]=u[A](s,n,a);var p=d(m.concat());l.set(m[p],i+h)}a=s}return l},r=function(e){var t=Array.apply([],e);return t.unshift(0),t},s=function(e,t){var n,r=[],s=e.length;r[0]=1;for(var a=0;a<s;a+=1)n=e[a-t]||0,r[a+1]=e[a]-n+256&255;return r},a=function(e,t,n){var r,s=[],a=e.length;s[0]=2;for(var i=0;i<a;i+=1)r=n&&n[i]||0,s[i+1]=e[i]-r+256&255;return s},i=function(e,t,n){var r,s,a=[],i=e.length;a[0]=3;for(var o=0;o<i;o+=1)r=e[o-t]||0,s=n&&n[o]||0,a[o+1]=e[o]+256-(r+s>>>1)&255;return a},o=function(e,t,n){var r,s,a,i,o=[],c=e.length;o[0]=4;for(var d=0;d<c;d+=1)r=e[d-t]||0,s=n&&n[d]||0,a=n&&n[d-t]||0,i=l(r,s,a),o[d+1]=e[d]-i+256&255;return o},l=function(e,t,n){if(e===t&&t===n)return e;var r=Math.abs(t-n),s=Math.abs(e-n),a=Math.abs(e+t-n-n);return r<=s&&r<=a?e:s<=a?t:n},c=function(){return[r,s,a,i,o]},d=function(e){var t=e.map(function(e){return e.reduce(function(e,t){return e+Math.abs(t)},0)});return t.indexOf(Math.min.apply(null,t))};e.processPNG=function(n,r,s,a){var i,o,l,c,d,u,h,A,f,m,p,g,x,b,y,v=this.decode.FLATE_DECODE,w="";if(this.__addimage__.isArrayBuffer(n)&&(n=new Uint8Array(n)),this.__addimage__.isArrayBufferView(n)){if(n=(l=new Vt(n)).imgData,o=l.bits,i=l.colorSpace,d=l.colors,-1!==[4,6].indexOf(l.colorType)){if(8===l.bits){f=(A=32==l.pixelBitlength?new Uint32Array(l.decodePixels().buffer):16==l.pixelBitlength?new Uint16Array(l.decodePixels().buffer):new Uint8Array(l.decodePixels().buffer)).length,p=new Uint8Array(f*l.colors),m=new Uint8Array(f);var j,N=l.pixelBitlength-l.bits;for(b=0,y=0;b<f;b++){for(x=A[b],j=0;j<N;)p[y++]=x>>>j&255,j+=l.bits;m[b]=x>>>j&255}}if(16===l.bits){f=(A=new Uint32Array(l.decodePixels().buffer)).length,p=new Uint8Array(f*(32/l.pixelBitlength)*l.colors),m=new Uint8Array(f*(32/l.pixelBitlength)),g=l.colors>1,b=0,y=0;for(var _=0;b<f;)x=A[b++],p[y++]=x>>>0&255,g&&(p[y++]=x>>>16&255,x=A[b++],p[y++]=x>>>0&255),m[_++]=x>>>16&255;o=8}a!==e.image_compression.NONE?(n=t(p,l.width*l.colors,l.colors,a),h=t(m,l.width,1,a)):(n=p,h=m,v=void 0)}if(3===l.colorType&&(i=this.color_spaces.INDEXED,u=l.palette,l.transparency.indexed)){var C=l.transparency.indexed,S=0;for(b=0,f=C.length;b<f;++b)S+=C[b];if((S/=255)===f-1&&-1!==C.indexOf(0))c=[C.indexOf(0)];else if(S!==f){for(A=l.decodePixels(),m=new Uint8Array(A.length),b=0,f=A.length;b<f;b++)m[b]=C[A[b]];h=t(m,l.width,1)}}var k=function(t){var n;switch(t){case e.image_compression.FAST:n=11;break;case e.image_compression.MEDIUM:n=13;break;case e.image_compression.SLOW:n=14;break;default:n=12}return n}(a);return v===this.decode.FLATE_DECODE&&(w="/Predictor "+k+" "),w+="/Colors "+d+" /BitsPerComponent "+o+" /Columns "+l.width,(this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n))&&(n=this.__addimage__.arrayBufferToBinaryString(n)),(h&&this.__addimage__.isArrayBuffer(h)||this.__addimage__.isArrayBufferView(h))&&(h=this.__addimage__.arrayBufferToBinaryString(h)),{alias:s,data:n,index:r,filter:v,decodeParameters:w,transparency:c,palette:u,sMask:h,predictor:k,width:l.width,height:l.height,bitsPerComponent:o,colorSpace:i}}}}(Fe.API),function(e){e.processGIF89A=function(t,n,r,s){var a=new qt(t),i=a.width,o=a.height,l=[];a.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:i,height:o},d=new Yt(100).encode(c,100);return e.processJPEG.call(this,d,n,r,s)},e.processGIF87A=e.processGIF89A}(Fe.API),Jt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,16===this.bitPP&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var e=0===this.colors?1<<this.bitPP:this.colors;this.palette=new Array(e);for(var t=0;t<e;t++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0);this.palette[t]={red:s,green:r,blue:n,quad:a}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Jt.prototype.parseBGR=function(){this.pos=this.offset;try{var e="bit"+this.bitPP,t=this.width*this.height*4;this.data=new Uint8Array(t),this[e]()}catch(e){ne.log("bit decode error:"+e)}},Jt.prototype.bit1=function(){var e,t=Math.ceil(this.width/8),n=t%4;for(e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,s=0;s<t;s++)for(var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+8*s*4,o=0;o<8&&8*s+o<this.width;o++){var l=this.palette[a>>7-o&1];this.data[i+4*o]=l.blue,this.data[i+4*o+1]=l.green,this.data[i+4*o+2]=l.red,this.data[i+4*o+3]=255}0!==n&&(this.pos+=4-n)}},Jt.prototype.bit4=function(){for(var e=Math.ceil(this.width/2),t=e%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<e;s++){var a=this.datav.getUint8(this.pos++,!0),i=r*this.width*4+2*s*4,o=a>>4,l=15&a,c=this.palette[o];if(this.data[i]=c.blue,this.data[i+1]=c.green,this.data[i+2]=c.red,this.data[i+3]=255,2*s+1>=this.width)break;c=this.palette[l],this.data[i+4]=c.blue,this.data[i+4+1]=c.green,this.data[i+4+2]=c.red,this.data[i+4+3]=255}0!==t&&(this.pos+=4-t)}},Jt.prototype.bit8=function(){for(var e=this.width%4,t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+4*r;if(s<this.palette.length){var i=this.palette[s];this.data[a]=i.red,this.data[a+1]=i.green,this.data[a+2]=i.blue,this.data[a+3]=255}else this.data[a]=255,this.data[a+1]=255,this.data[a+2]=255,this.data[a+3]=255}0!==e&&(this.pos+=4-e)}},Jt.prototype.bit15=function(){for(var e=this.width%3,t=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var i=(a&t)/t*255|0,o=(a>>5&t)/t*255|0,l=(a>>10&t)/t*255|0,c=a>>15?255:0,d=r*this.width*4+4*s;this.data[d]=l,this.data[d+1]=o,this.data[d+2]=i,this.data[d+3]=c}this.pos+=e}},Jt.prototype.bit16=function(){for(var e=this.width%3,t=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var s=this.bottom_up?r:this.height-1-r,a=0;a<this.width;a++){var i=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(i&t)/t*255|0,l=(i>>5&n)/n*255|0,c=(i>>11)/t*255|0,d=s*this.width*4+4*a;this.data[d]=c,this.data[d+1]=l,this.data[d+2]=o,this.data[d+3]=255}this.pos+=e}},Jt.prototype.bit24=function(){for(var e=this.height-1;e>=0;e--){for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=t*this.width*4+4*n;this.data[i]=a,this.data[i+1]=s,this.data[i+2]=r,this.data[i+3]=255}this.pos+=this.width%4}},Jt.prototype.bit32=function(){for(var e=this.height-1;e>=0;e--)for(var t=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),o=t*this.width*4+4*n;this.data[o]=a,this.data[o+1]=s,this.data[o+2]=r,this.data[o+3]=i}},Jt.prototype.getData=function(){return this.data},function(e){e.processBMP=function(t,n,r,s){var a=new Jt(t,!1),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},c=new Yt(100).encode(l,100);return e.processJPEG.call(this,c,n,r,s)}}(Fe.API),Xt.prototype.getData=function(){return this.data},function(e){e.processWEBP=function(t,n,r,s){var a=new Xt(t,!1),i=a.width,o=a.height,l={data:a.getData(),width:i,height:o},c=new Yt(100).encode(l,100);return e.processJPEG.call(this,c,n,r,s)}}(Fe.API),Fe.API.processRGBA=function(e,t,n){for(var r=e.data,s=r.length,a=new Uint8Array(s/4*3),i=new Uint8Array(s/4),o=0,l=0,c=0;c<s;c+=4){var d=r[c],u=r[c+1],h=r[c+2],A=r[c+3];a[o++]=d,a[o++]=u,a[o++]=h,i[l++]=A}var f=this.__addimage__.arrayBufferToBinaryString(a);return{alpha:this.__addimage__.arrayBufferToBinaryString(i),data:f,index:t,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:e.width,height:e.height}},Fe.API.setLanguage=function(e){return void 0===this.internal.languageSettings&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),void 0!=={af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[e]&&(this.internal.languageSettings.languageCode=e,!1===this.internal.languageSettings.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Qt=Fe.API,zt=Qt.getCharWidthsArray=function(e,t){var n,s,a=(t=t||{}).font||this.internal.getFont(),i=t.fontSize||this.internal.getFontSize(),o=t.charSpace||this.internal.getCharSpace(),l=t.widths?t.widths:a.metadata.Unicode.widths,c=l.fof?l.fof:1,d=t.kerning?t.kerning:a.metadata.Unicode.kerning,u=d.fof?d.fof:1,h=!1!==t.doKerning,A=0,f=e.length,m=0,p=l[0]||c,g=[];for(n=0;n<f;n++)s=e.charCodeAt(n),"function"==typeof a.metadata.widthOfString?g.push((a.metadata.widthOfGlyph(a.metadata.characterToGlyph(s))+o*(1e3/i)||0)/1e3):(A=h&&"object"===(0,r.A)(d[s])&&!isNaN(parseInt(d[s][m],10))?d[s][m]/u:0,g.push((l[s]||p)/c+A)),m=s;return g},Ht=Qt.getStringUnitWidth=function(e,t){var n=(t=t||{}).fontSize||this.internal.getFontSize(),r=t.font||this.internal.getFont(),s=t.charSpace||this.internal.getCharSpace();return Qt.processArabic&&(e=Qt.processArabic(e)),"function"==typeof r.metadata.widthOfString?r.metadata.widthOfString(e,n,s)/n:zt.apply(this,arguments).reduce(function(e,t){return e+t},0)},Kt=function(e,t,n,r){for(var s=[],a=0,i=e.length,o=0;a!==i&&o+t[a]<n;)o+=t[a],a++;s.push(e.slice(0,a));var l=a;for(o=0;a!==i;)o+t[a]>r&&(s.push(e.slice(l,a)),o=0,l=a),o+=t[a],a++;return l!==a&&s.push(e.slice(l,a)),s},Wt=function(e,t,n){n||(n={});var r,s,a,i,o,l,c,d=[],u=[d],h=n.textIndent||0,A=0,f=0,m=e.split(" "),p=zt.apply(this,[" ",n])[0];if(l=-1===n.lineIndent?m[0].length+2:n.lineIndent||0){var g=Array(l).join(" "),x=[];m.map(function(e){(e=e.split(/\s*\n/)).length>1?x=x.concat(e.map(function(e,t){return(t&&e.length?"\n":"")+e})):x.push(e[0])}),m=x,l=Ht.apply(this,[g,n])}for(a=0,i=m.length;a<i;a++){var b=0;if(r=m[a],l&&"\n"==r[0]&&(r=r.substr(1),b=1),h+A+(f=(s=zt.apply(this,[r,n])).reduce(function(e,t){return e+t},0))>t||b){if(f>t){for(o=Kt.apply(this,[r,s,t-(h+A),t]),d.push(o.shift()),d=[o.pop()];o.length;)u.push([o.shift()]);f=s.slice(r.length-(d[0]?d[0].length:0)).reduce(function(e,t){return e+t},0)}else d=[r];u.push(d),h=f+l,A=p}else d.push(r),h+=A+f,A=p}return c=l?function(e,t){return(t?g:"")+e.join(" ")}:function(e){return e.join(" ")},u.map(c)},Qt.splitTextToSize=function(e,t,n){var r,s=(n=n||{}).fontSize||this.internal.getFontSize(),a=function(e){if(e.widths&&e.kerning)return{widths:e.widths,kerning:e.kerning};var t=this.internal.getFont(e.fontName,e.fontStyle);return t.metadata.Unicode?{widths:t.metadata.Unicode.widths||{0:1},kerning:t.metadata.Unicode.kerning||{}}:{font:t.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,n);r=Array.isArray(e)?e:String(e).split(/\r?\n/);var i=1*this.internal.scaleFactor*t/s;a.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/s:0,a.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(Wt.apply(this,[r[o],i,a]));return c},function(e){e.__fontmetrics__=e.__fontmetrics__||{};for(var t="klmnopqrstuvwxyz",n={},s={},a=0;a<16;a++)n[t[a]]="0123456789abcdef"[a],s["0123456789abcdef"[a]]=t[a];var i=function(e){return"0x"+parseInt(e,10).toString(16)},o=e.__fontmetrics__.compress=function(e){var t,n,a,l,c=["{"];for(var d in e){if(t=e[d],isNaN(parseInt(d,10))?n="'"+d+"'":(d=parseInt(d,10),n=(n=i(d).slice(2)).slice(0,-1)+s[n.slice(-1)]),"number"==typeof t)t<0?(a=i(t).slice(3),l="-"):(a=i(t).slice(2),l=""),a=l+a.slice(0,-1)+s[a.slice(-1)];else{if("object"!==(0,r.A)(t))throw new Error("Don't know what to do with value type "+(0,r.A)(t)+".");a=o(t)}c.push(n+a)}return c.push("}"),c.join("")},l=e.__fontmetrics__.uncompress=function(e){if("string"!=typeof e)throw new Error("Invalid argument passed to uncompress.");for(var t,r,s,a,i={},o=1,l=i,c=[],d="",u="",h=e.length-1,A=1;A<h;A+=1)"'"==(a=e[A])?t?(s=t.join(""),t=void 0):t=[]:t?t.push(a):"{"==a?(c.push([l,s]),l={},s=void 0):"}"==a?((r=c.pop())[0][r[1]]=l,s=void 0,l=r[0]):"-"==a?o=-1:void 0===s?n.hasOwnProperty(a)?(d+=n[a],s=parseInt(d,16)*o,o=1,d=""):d+=a:n.hasOwnProperty(a)?(u+=n[a],l[s]=parseInt(u,16)*o,o=1,s=void 0,u=""):u+=a;return i},c={codePages:["WinAnsiEncoding"],WinAnsiEncoding:l("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},d={Unicode:{Courier:c,"Courier-Bold":c,"Courier-BoldOblique":c,"Courier-Oblique":c,Helvetica:c,"Helvetica-Bold":c,"Helvetica-BoldOblique":c,"Helvetica-Oblique":c,"Times-Roman":c,"Times-Bold":c,"Times-BoldItalic":c,"Times-Italic":c}},u={Unicode:{"Courier-Oblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":l("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":l("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:l("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":l("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:l("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":l("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":l("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":l("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":l("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};e.events.push(["addFont",function(e){var t=e.font,n=u.Unicode[t.postScriptName];n&&(t.metadata.Unicode={},t.metadata.Unicode.widths=n.widths,t.metadata.Unicode.kerning=n.kerning);var r=d.Unicode[t.postScriptName];r&&(t.metadata.Unicode.encoding=r,t.encoding=r.codePages[0])}])}(Fe.API),function(e){var t=function(e){for(var t=e.length,n=new Uint8Array(t),r=0;r<t;r++)n[r]=e.charCodeAt(r);return n};e.API.events.push(["addFont",function(n){var r=void 0,s=n.font,a=n.instance;if(!s.isStandardFont){if(void 0===a)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");if("string"!=typeof(r=!1===a.existsFileInVFS(s.postScriptName)?a.loadFile(s.postScriptName):a.getFileFromVFS(s.postScriptName)))throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+s.postScriptName+"').");!function(n,r){r=/^\x00\x01\x00\x00/.test(r)?t(r):t(ie(r)),n.metadata=e.API.TTFFont.open(r),n.metadata.Unicode=n.metadata.Unicode||{encoding:{},kerning:{},widths:[]},n.metadata.glyIdsUsed=[0]}(s,r)}}])}(Fe),function(){function e(){return(ee.canvg?Promise.resolve(ee.canvg):n.e(455).then(n.bind(n,8455))).catch(function(e){return Promise.reject(new Error("Could not load canvg: "+e))}).then(function(e){return e.default?e.default:e})}Fe.API.addSvgAsImage=function(t,n,r,s,a,i,o,l){if(isNaN(n)||isNaN(r))throw ne.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw ne.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var d=c.getContext("2d");d.fillStyle="#fff",d.fillRect(0,0,c.width,c.height);var u={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(e){return e.fromString(d,t,u)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(e){return e.render(u)}).then(function(){h.addImage(c.toDataURL("image/jpeg",1),n,r,s,a,o,l)})}}(),Fe.API.putTotalPages=function(e){var t,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(t=new RegExp(e,"g"),n=this.internal.getNumberOfPages()):(t=new RegExp(this.pdfEscape16(e,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var s=0;s<this.internal.pages[r].length;s++)this.internal.pages[r][s]=this.internal.pages[r][s].replace(t,n);return this},Fe.API.viewerPreferences=function(e,t){var n;e=e||{},t=t||!1;var s,a,i,o={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},l=Object.keys(o),c=[],d=0,u=0,h=0;function A(e,t){var n,r=!1;for(n=0;n<e.length;n+=1)e[n]===t&&(r=!0);return r}if(void 0===this.internal.viewerpreferences&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(o)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,"reset"===e||!0===t){var f=l.length;for(h=0;h<f;h+=1)n[l[h]].value=n[l[h]].defaultValue,n[l[h]].explicitSet=!1}if("object"===(0,r.A)(e))for(a in e)if(i=e[a],A(l,a)&&void 0!==i){if("boolean"===n[a].type&&"boolean"==typeof i)n[a].value=i;else if("name"===n[a].type&&A(n[a].valueSet,i))n[a].value=i;else if("integer"===n[a].type&&Number.isInteger(i))n[a].value=i;else if("array"===n[a].type){for(d=0;d<i.length;d+=1)if(s=!0,1===i[d].length&&"number"==typeof i[d][0])c.push(String(i[d]-1));else if(i[d].length>1){for(u=0;u<i[d].length;u+=1)"number"!=typeof i[d][u]&&(s=!1);!0===s&&c.push([i[d][0]-1,i[d][1]-1].join(" "))}n[a].value="["+c.join(" ")+"]"}else n[a].value=n[a].defaultValue;n[a].explicitSet=!0}return!1===this.internal.viewerpreferences.isSubscribed&&(this.internal.events.subscribe("putCatalog",function(){var e,t=[];for(e in n)!0===n[e].explicitSet&&("name"===n[e].type?t.push("/"+e+" /"+n[e].value):t.push("/"+e+" "+n[e].value));0!==t.length&&this.internal.write("/ViewerPreferences\n<<\n"+t.join("\n")+"\n>>")}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(e){var t=function(){var e='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',t=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),n=unescape(encodeURIComponent(e)),r=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),s=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),a=unescape(encodeURIComponent("</x:xmpmeta>")),i=n.length+r.length+s.length+t.length+a.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+i+" >>"),this.internal.write("stream"),this.internal.write(t+n+r+s+a),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};e.addMetadata=function(e,r){return void 0===this.internal.__metadata__&&(this.internal.__metadata__={metadata:e,namespaceuri:r||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",t)),this}}(Fe.API),function(e){var t=e.API,n=t.pdfEscape16=function(e,t){for(var n,r=t.metadata.Unicode.widths,s=["","0","00","000","0000"],a=[""],i=0,o=e.length;i<o;++i){if(n=t.metadata.characterToGlyph(e.charCodeAt(i)),t.metadata.glyIdsUsed.push(n),t.metadata.toUnicode[n]=e.charCodeAt(i),-1==r.indexOf(n)&&(r.push(n),r.push([parseInt(t.metadata.widthOfGlyph(n),10)])),"0"==n)return a.join("");n=n.toString(16),a.push(s[4-n.length],n)}return a.join("")},r=function(e){var t,n,r,s,a,i,o;for(a="/CIDInit /ProcSet findresource begin\n12 dict begin\nbegincmap\n/CIDSystemInfo <<\n  /Registry (Adobe)\n  /Ordering (UCS)\n  /Supplement 0\n>> def\n/CMapName /Adobe-Identity-UCS def\n/CMapType 2 def\n1 begincodespacerange\n<0000><ffff>\nendcodespacerange",r=[],i=0,o=(n=Object.keys(e).sort(function(e,t){return e-t})).length;i<o;i++)t=n[i],r.length>=100&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar",r=[]),void 0!==e[t]&&null!==e[t]&&"function"==typeof e[t].toString&&(s=("0000"+e[t].toString(16)).slice(-4),t=("0000"+(+t).toString(16)).slice(-4),r.push("<"+t+"><"+s+">"));return r.length&&(a+="\n"+r.length+" beginbfchar\n"+r.join("\n")+"\nendbfchar\n"),a+"endcmap\nCMapName currentdict /CMap defineresource pop\nend\nend"};t.events.push(["putFont",function(t){!function(t){var n=t.font,s=t.out,a=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"Identity-H"===n.encoding){for(var o=n.metadata.Unicode.widths,l=n.metadata.subset.encode(n.metadata.glyIdsUsed,1),c="",d=0;d<l.length;d++)c+=String.fromCharCode(l[d]);var u=a();i({data:c,addLength1:!0,objectId:u}),s("endobj");var h=a();i({data:r(n.metadata.toUnicode),addLength1:!0,objectId:h}),s("endobj");var A=a();s("<<"),s("/Type /FontDescriptor"),s("/FontName /"+Se(n.fontName)),s("/FontFile2 "+u+" 0 R"),s("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),s("/Flags "+n.metadata.flags),s("/StemV "+n.metadata.stemV),s("/ItalicAngle "+n.metadata.italicAngle),s("/Ascent "+n.metadata.ascender),s("/Descent "+n.metadata.decender),s("/CapHeight "+n.metadata.capHeight),s(">>"),s("endobj");var f=a();s("<<"),s("/Type /Font"),s("/BaseFont /"+Se(n.fontName)),s("/FontDescriptor "+A+" 0 R"),s("/W "+e.API.PDFObject.convert(o)),s("/CIDToGIDMap /Identity"),s("/DW 1000"),s("/Subtype /CIDFontType2"),s("/CIDSystemInfo"),s("<<"),s("/Supplement 0"),s("/Registry (Adobe)"),s("/Ordering ("+n.encoding+")"),s(">>"),s(">>"),s("endobj"),n.objectNumber=a(),s("<<"),s("/Type /Font"),s("/Subtype /Type0"),s("/ToUnicode "+h+" 0 R"),s("/BaseFont /"+Se(n.fontName)),s("/Encoding /"+n.encoding),s("/DescendantFonts ["+f+" 0 R]"),s(">>"),s("endobj"),n.isAlreadyPutted=!0}}(t)}]),t.events.push(["putFont",function(t){!function(t){var n=t.font,s=t.out,a=t.newObject,i=t.putStream;if(n.metadata instanceof e.API.TTFFont&&"WinAnsiEncoding"===n.encoding){for(var o=n.metadata.rawData,l="",c=0;c<o.length;c++)l+=String.fromCharCode(o[c]);var d=a();i({data:l,addLength1:!0,objectId:d}),s("endobj");var u=a();i({data:r(n.metadata.toUnicode),addLength1:!0,objectId:u}),s("endobj");var h=a();s("<<"),s("/Descent "+n.metadata.decender),s("/CapHeight "+n.metadata.capHeight),s("/StemV "+n.metadata.stemV),s("/Type /FontDescriptor"),s("/FontFile2 "+d+" 0 R"),s("/Flags 96"),s("/FontBBox "+e.API.PDFObject.convert(n.metadata.bbox)),s("/FontName /"+Se(n.fontName)),s("/ItalicAngle "+n.metadata.italicAngle),s("/Ascent "+n.metadata.ascender),s(">>"),s("endobj"),n.objectNumber=a();for(var A=0;A<n.metadata.hmtx.widths.length;A++)n.metadata.hmtx.widths[A]=parseInt(n.metadata.hmtx.widths[A]*(1e3/n.metadata.head.unitsPerEm));s("<</Subtype/TrueType/Type/Font/ToUnicode "+u+" 0 R/BaseFont/"+Se(n.fontName)+"/FontDescriptor "+h+" 0 R/Encoding/"+n.encoding+" /FirstChar 29 /LastChar 255 /Widths "+e.API.PDFObject.convert(n.metadata.hmtx.widths)+">>"),s("endobj"),n.isAlreadyPutted=!0}}(t)}]);var s=function(e){var t,r=e.text||"",s=e.x,a=e.y,i=e.options||{},o=e.mutex||{},l=o.pdfEscape,c=o.activeFontKey,d=o.fonts,u=c,h="",A=0,f="",m=d[u].encoding;if("Identity-H"!==d[u].encoding)return{text:r,x:s,y:a,options:i,mutex:o};for(f=r,u=c,Array.isArray(r)&&(f=r[0]),A=0;A<f.length;A+=1)d[u].metadata.hasOwnProperty("cmap")&&(t=d[u].metadata.cmap.unicode.codeMap[f[A].charCodeAt(0)]),t||f[A].charCodeAt(0)<256&&d[u].metadata.hasOwnProperty("Unicode")?h+=f[A]:h+="";var p="";return parseInt(u.slice(1))<14||"WinAnsiEncoding"===m?p=l(h,u).split("").map(function(e){return e.charCodeAt(0).toString(16)}).join(""):"Identity-H"===m&&(p=n(h,d[u])),o.isHex=!0,{text:p,x:s,y:a,options:i,mutex:o}};t.events.push(["postProcessText",function(e){var t=e.text||"",n=[],r={text:t,x:e.x,y:e.y,options:e.options,mutex:e.mutex};if(Array.isArray(t)){var a=0;for(a=0;a<t.length;a+=1)Array.isArray(t[a])&&3===t[a].length?n.push([s(Object.assign({},r,{text:t[a][0]})).text,t[a][1],t[a][2]]):n.push(s(Object.assign({},r,{text:t[a]})).text);e.text=n}else e.text=s(Object.assign({},r,{text:t})).text}])}(Fe),function(e){var t=function(){return void 0===this.internal.vFS&&(this.internal.vFS={}),!0};e.existsFileInVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]},e.addFileToVFS=function(e,n){return t.call(this),this.internal.vFS[e]=n,this},e.getFileFromVFS=function(e){return t.call(this),void 0!==this.internal.vFS[e]?this.internal.vFS[e]:null}}(Fe.API),function(e){e.__bidiEngine__=e.prototype.__bidiEngine__=function(e){var n,r,s,a,i,o,l,c=t,d=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],u=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},A={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},f=["(",")","(","<",">","<","[","]","[","{","}","{","\xab","\xbb","\xab","\u2039","\u203a","\u2039","\u2045","\u2046","\u2045","\u207d","\u207e","\u207d","\u208d","\u208e","\u208d","\u2264","\u2265","\u2264","\u2329","\u232a","\u2329","\ufe59","\ufe5a","\ufe59","\ufe5b","\ufe5c","\ufe5b","\ufe5d","\ufe5e","\ufe5d","\ufe64","\ufe65","\ufe64"],m=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),p=!1,g=0;this.__bidiEngine__={};var x=function(e){var t=e.charCodeAt(),n=t>>8,r=A[n];return void 0!==r?c[256*r+(255&t)]:252===n||253===n?"AL":m.test(n)?"L":8===n?"R":"N"},b=function(e){for(var t,n=0;n<e.length;n++){if("L"===(t=x(e.charAt(n))))return!1;if("R"===t)return!0}return!1},y=function(e,t,i,o){var l,c,d,u,h=t[o];switch(h){case"L":case"R":case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":p=!1;break;case"N":case"AN":break;case"EN":p&&(h="AN");break;case"AL":p=!0,h="R";break;case"WS":case"BN":h="N";break;case"CS":o<1||o+1>=t.length||"EN"!==(l=i[o-1])&&"AN"!==l||"EN"!==(c=t[o+1])&&"AN"!==c?h="N":p&&(c="AN"),h=c===l?c:"N";break;case"ES":h="EN"===(l=o>0?i[o-1]:"B")&&o+1<t.length&&"EN"===t[o+1]?"EN":"N";break;case"ET":if(o>0&&"EN"===i[o-1]){h="EN";break}if(p){h="N";break}for(d=o+1,u=t.length;d<u&&"ET"===t[d];)d++;h=d<u&&"EN"===t[d]?"EN":"N";break;case"NSM":if(s&&!a){for(u=t.length,d=o+1;d<u&&"NSM"===t[d];)d++;if(d<u){var A=e[o],f=A>=1425&&A<=2303||64286===A;if(l=t[d],f&&("R"===l||"AL"===l)){h="R";break}}}h=o<1||"B"===(l=t[o-1])?"N":i[o-1];break;case"B":p=!1,n=!0,h=g;break;case"S":r=!0,h="N"}return h},v=function(e,t,n){var r=e.split("");return n&&w(r,n,{hiLevel:g}),r.reverse(),t&&t.reverse(),r.join("")},w=function(e,t,s){var a,i,o,l,c,A=-1,f=e.length,m=0,b=[],v=g?u:d,w=[];for(p=!1,n=!1,r=!1,i=0;i<f;i++)w[i]=x(e[i]);for(o=0;o<f;o++){if(c=m,b[o]=y(e,w,b,o),a=240&(m=v[c][h[b[o]]]),m&=15,t[o]=l=v[m][5],a>0)if(16===a){for(i=A;i<o;i++)t[i]=1;A=-1}else A=-1;if(v[m][6])-1===A&&(A=o);else if(A>-1){for(i=A;i<o;i++)t[i]=l;A=-1}"B"===w[o]&&(t[o]=0),s.hiLevel|=l}r&&function(e,t,n){for(var r=0;r<n;r++)if("S"===e[r]){t[r]=g;for(var s=r-1;s>=0&&"WS"===e[s];s--)t[s]=g}}(w,t,f)},j=function(e,t,r,s,a){if(!(a.hiLevel<e)){if(1===e&&1===g&&!n)return t.reverse(),void(r&&r.reverse());for(var i,o,l,c,d=t.length,u=0;u<d;){if(s[u]>=e){for(l=u+1;l<d&&s[l]>=e;)l++;for(c=u,o=l-1;c<o;c++,o--)i=t[c],t[c]=t[o],t[o]=i,r&&(i=r[c],r[c]=r[o],r[o]=i);u=l}u++}}},N=function(e,t,n){var r=e.split(""),s={hiLevel:g};return n||(n=[]),w(r,n,s),function(e,t,n){if(0!==n.hiLevel&&l)for(var r,s=0;s<e.length;s++)1===t[s]&&(r=f.indexOf(e[s]))>=0&&(e[s]=f[r+1])}(r,n,s),j(2,r,t,n,s),j(1,r,t,n,s),r.join("")};return this.__bidiEngine__.doBidiReorder=function(e,t,n){if(function(e,t){if(t)for(var n=0;n<e.length;n++)t[n]=n;void 0===a&&(a=b(e)),void 0===o&&(o=b(e))}(e,t),s||!i||o)if(s&&i&&a^o)g=a?1:0,e=v(e,t,n);else if(!s&&i&&o)g=a?1:0,e=N(e,t,n),e=v(e,t);else if(!s||a||i||o){if(s&&!i&&a^o)e=v(e,t),a?(g=0,e=N(e,t,n)):(g=1,e=N(e,t,n),e=v(e,t));else if(s&&a&&!i&&o)g=1,e=N(e,t,n),e=v(e,t);else if(!s&&!i&&a^o){var r=l;a?(g=1,e=N(e,t,n),g=0,l=!1,e=N(e,t,n),l=r):(g=0,e=N(e,t,n),e=v(e,t),g=1,l=!1,e=N(e,t,n),l=r,e=v(e,t))}}else g=0,e=N(e,t,n);else g=a?1:0,e=N(e,t,n);return e},this.__bidiEngine__.setOptions=function(e){e&&(s=e.isInputVisual,i=e.isOutputVisual,a=e.isInputRtl,o=e.isOutputRtl,l=e.isSymmetricSwapping)},this.__bidiEngine__.setOptions(e),this.__bidiEngine__};var t=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new e.__bidiEngine__({isInputVisual:!0});e.API.events.push(["postProcessText",function(e){var t=e.text,r=(e.x,e.y,e.options||{}),s=(e.mutex,r.lang,[]);if(r.isInputVisual="boolean"!=typeof r.isInputVisual||r.isInputVisual,n.setOptions(r),"[object Array]"===Object.prototype.toString.call(t)){var a=0;for(s=[],a=0;a<t.length;a+=1)"[object Array]"===Object.prototype.toString.call(t[a])?s.push([n.doBidiReorder(t[a][0]),t[a][1],t[a][2]]):s.push([n.doBidiReorder(t[a])]);e.text=s}else e.text=n.doBidiReorder(t);n.setOptions({isInputVisual:!0})}])}(Fe),Fe.API.TTFFont=function(){function e(e){var t;if(this.rawData=e,t=this.contents=new $t(e),this.contents.pos=4,"ttcf"===t.readString(4))throw new Error("TTCF not supported.");t.pos=0,this.parse(),this.subset=new bn(this),this.registerTTF()}return e.open=function(t){return new e(t)},e.prototype.parse=function(){return this.directory=new en(this.contents),this.head=new rn(this),this.name=new un(this),this.cmap=new an(this),this.toUnicode={},this.hhea=new on(this),this.maxp=new hn(this),this.hmtx=new An(this),this.post=new cn(this),this.os2=new ln(this),this.loca=new xn(this),this.glyf=new mn(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},e.prototype.registerTTF=function(){var e,t,n,r,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var t,n,r,s;for(s=[],t=0,n=(r=this.bbox).length;t<n;t++)e=r[t],s.push(Math.round(e*this.scaleFactor));return s}.call(this),this.stemV=0,this.post.exists?(n=255&(r=this.post.italic_angle),0!=(32768&(t=r>>16))&&(t=-(1+(65535^t))),this.italicAngle=+(t+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=1===(s=this.familyClass)||2===s||3===s||4===s||5===s||7===s,this.isScript=10===this.familyClass,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),0!==this.italicAngle&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},e.prototype.characterToGlyph=function(e){var t;return(null!=(t=this.cmap.unicode)?t.codeMap[e]:void 0)||0},e.prototype.widthOfGlyph=function(e){var t;return t=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*t},e.prototype.widthOfString=function(e,t,n){var r,s,a,i;for(a=0,s=0,i=(e=""+e).length;0<=i?s<i:s>i;s=0<=i?++s:--s)r=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(r))+n*(1e3/t)||0;return a*(t/1e3)},e.prototype.lineHeight=function(e,t){var n;return null==t&&(t=!1),n=t?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},e}();var Zt,$t=function(){function e(e){this.data=null!=e?e:[],this.pos=0,this.length=this.data.length}return e.prototype.readByte=function(){return this.data[this.pos++]},e.prototype.writeByte=function(e){return this.data[this.pos++]=e},e.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},e.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},e.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},e.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},e.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},e.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},e.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},e.prototype.readString=function(e){var t,n;for(n=[],t=0;0<=e?t<e:t>e;t=0<=e?++t:--t)n[t]=String.fromCharCode(this.readByte());return n.join("")},e.prototype.writeString=function(e){var t,n,r;for(r=[],t=0,n=e.length;0<=n?t<n:t>n;t=0<=n?++t:--t)r.push(this.writeByte(e.charCodeAt(t)));return r},e.prototype.readShort=function(){return this.readInt16()},e.prototype.writeShort=function(e){return this.writeInt16(e)},e.prototype.readLongLong=function(){var e,t,n,r,s,a,i,o;return e=this.readByte(),t=this.readByte(),n=this.readByte(),r=this.readByte(),s=this.readByte(),a=this.readByte(),i=this.readByte(),o=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^t)+1099511627776*(255^n)+4294967296*(255^r)+16777216*(255^s)+65536*(255^a)+256*(255^i)+(255^o)+1):72057594037927940*e+281474976710656*t+1099511627776*n+4294967296*r+16777216*s+65536*a+256*i+o},e.prototype.writeLongLong=function(e){var t,n;return t=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(t>>24&255),this.writeByte(t>>16&255),this.writeByte(t>>8&255),this.writeByte(255&t),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},e.prototype.readInt=function(){return this.readInt32()},e.prototype.writeInt=function(e){return this.writeInt32(e)},e.prototype.read=function(e){var t,n;for(t=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)t.push(this.readByte());return t},e.prototype.write=function(e){var t,n,r,s;for(s=[],n=0,r=e.length;n<r;n++)t=e[n],s.push(this.writeByte(t));return s},e}(),en=function(){var e;function t(e){var t,n,r;for(this.scalarType=e.readInt(),this.tableCount=e.readShort(),this.searchRange=e.readShort(),this.entrySelector=e.readShort(),this.rangeShift=e.readShort(),this.tables={},n=0,r=this.tableCount;0<=r?n<r:n>r;n=0<=r?++n:--n)t={tag:e.readString(4),checksum:e.readInt(),offset:e.readInt(),length:e.readInt()},this.tables[t.tag]=t}return t.prototype.encode=function(t){var n,r,s,a,i,o,l,c,d,u,h,A,f;for(f in h=Object.keys(t).length,o=Math.log(2),d=16*Math.floor(Math.log(h)/o),a=Math.floor(d/o),c=16*h-d,(r=new $t).writeInt(this.scalarType),r.writeShort(h),r.writeShort(d),r.writeShort(a),r.writeShort(c),s=16*h,l=r.pos+s,i=null,A=[],t)for(u=t[f],r.writeString(f),r.writeInt(e(u)),r.writeInt(l),r.writeInt(u.length),A=A.concat(u),"head"===f&&(i=l),l+=u.length;l%4;)A.push(0),l++;return r.write(A),n=2981146554-e(r.data),r.pos=i+8,r.writeUInt32(n),r.data},e=function(e){var t,n,r,s;for(e=fn.call(e);e.length%4;)e.push(0);for(r=new $t(e),n=0,t=0,s=e.length;t<s;t=t+=4)n+=r.readUInt32();return 4294967295&n},t}(),tn={}.hasOwnProperty,nn=function(e,t){for(var n in t)tn.call(t,n)&&(e[n]=t[n]);function r(){this.constructor=e}return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};Zt=function(){function e(e){var t;this.file=e,t=this.file.directory.tables[this.tag],this.exists=!!t,t&&(this.offset=t.offset,this.length=t.length,this.parse(this.file.contents))}return e.prototype.parse=function(){},e.prototype.encode=function(){},e.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},e}();var rn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Zt),e.prototype.tag="head",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.revision=e.readInt(),this.checkSumAdjustment=e.readInt(),this.magicNumber=e.readInt(),this.flags=e.readShort(),this.unitsPerEm=e.readShort(),this.created=e.readLongLong(),this.modified=e.readLongLong(),this.xMin=e.readShort(),this.yMin=e.readShort(),this.xMax=e.readShort(),this.yMax=e.readShort(),this.macStyle=e.readShort(),this.lowestRecPPEM=e.readShort(),this.fontDirectionHint=e.readShort(),this.indexToLocFormat=e.readShort(),this.glyphDataFormat=e.readShort()},e.prototype.encode=function(e){var t;return(t=new $t).writeInt(this.version),t.writeInt(this.revision),t.writeInt(this.checkSumAdjustment),t.writeInt(this.magicNumber),t.writeShort(this.flags),t.writeShort(this.unitsPerEm),t.writeLongLong(this.created),t.writeLongLong(this.modified),t.writeShort(this.xMin),t.writeShort(this.yMin),t.writeShort(this.xMax),t.writeShort(this.yMax),t.writeShort(this.macStyle),t.writeShort(this.lowestRecPPEM),t.writeShort(this.fontDirectionHint),t.writeShort(e),t.writeShort(this.glyphDataFormat),t.data},e}(),sn=function(){function e(e,t){var n,r,s,a,i,o,l,c,d,u,h,A,f,m,p,g,x;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=t+e.readInt(),d=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=3===this.platformID&&1===this.encodingID&&4===this.format||0===this.platformID&&4===this.format,this.codeMap={},this.format){case 0:for(o=0;o<256;++o)this.codeMap[o]=e.readByte();break;case 4:for(h=e.readUInt16(),u=h/2,e.pos+=6,s=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),e.pos+=2,f=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),l=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),c=function(){var t,n;for(n=[],o=t=0;0<=u?t<u:t>u;o=0<=u?++t:--t)n.push(e.readUInt16());return n}(),r=(this.length-e.pos+this.offset)/2,i=function(){var t,n;for(n=[],o=t=0;0<=r?t<r:t>r;o=0<=r?++t:--t)n.push(e.readUInt16());return n}(),o=p=0,x=s.length;p<x;o=++p)for(m=s[o],n=g=A=f[o];A<=m?g<=m:g>=m;n=A<=m?++g:--g)0===c[o]?a=n+l[o]:0!==(a=i[c[o]/2+(n-A)-(u-o)]||0)&&(a+=l[o]),this.codeMap[n]=65535&a}e.pos=d}return e.encode=function(e,t){var n,r,s,a,i,o,l,c,d,u,h,A,f,m,p,g,x,b,y,v,w,j,N,_,C,S,k,B,E,L,M,F,I,D,T,O,P,U,R,Q,z,H,K,W,V,q;switch(B=new $t,a=Object.keys(e).sort(function(e,t){return e-t}),t){case"macroman":for(f=0,m=function(){var e=[];for(A=0;A<256;++A)e.push(0);return e}(),g={0:0},s={},E=0,I=a.length;E<I;E++)null==g[K=e[r=a[E]]]&&(g[K]=++f),s[r]={old:e[r],new:g[e[r]]},m[r]=g[e[r]];return B.writeUInt16(1),B.writeUInt16(0),B.writeUInt32(12),B.writeUInt16(0),B.writeUInt16(262),B.writeUInt16(0),B.write(m),{charMap:s,subtable:B.data,maxGlyphID:f+1};case"unicode":for(S=[],d=[],x=0,g={},n={},p=l=null,L=0,D=a.length;L<D;L++)null==g[y=e[r=a[L]]]&&(g[y]=++x),n[r]={old:y,new:g[y]},i=g[y]-r,null!=p&&i===l||(p&&d.push(p),S.push(r),l=i),p=r;for(p&&d.push(p),d.push(65535),S.push(65535),_=2*(N=S.length),j=2*Math.pow(Math.log(N)/Math.LN2,2),u=Math.log(j/2)/Math.LN2,w=2*N-j,o=[],v=[],h=[],A=M=0,T=S.length;M<T;A=++M){if(C=S[A],c=d[A],65535===C){o.push(0),v.push(0);break}if(C-(k=n[C].new)>=32768)for(o.push(0),v.push(2*(h.length+N-A)),r=F=C;C<=c?F<=c:F>=c;r=C<=c?++F:--F)h.push(n[r].new);else o.push(k-C),v.push(0)}for(B.writeUInt16(3),B.writeUInt16(1),B.writeUInt32(12),B.writeUInt16(4),B.writeUInt16(16+8*N+2*h.length),B.writeUInt16(0),B.writeUInt16(_),B.writeUInt16(j),B.writeUInt16(u),B.writeUInt16(w),z=0,O=d.length;z<O;z++)r=d[z],B.writeUInt16(r);for(B.writeUInt16(0),H=0,P=S.length;H<P;H++)r=S[H],B.writeUInt16(r);for(W=0,U=o.length;W<U;W++)i=o[W],B.writeUInt16(i);for(V=0,R=v.length;V<R;V++)b=v[V],B.writeUInt16(b);for(q=0,Q=h.length;q<Q;q++)f=h[q],B.writeUInt16(f);return{charMap:n,subtable:B.data,maxGlyphID:x+1}}},e}(),an=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Zt),e.prototype.tag="cmap",e.prototype.parse=function(e){var t,n,r;for(e.pos=this.offset,this.version=e.readUInt16(),r=e.readUInt16(),this.tables=[],this.unicode=null,n=0;0<=r?n<r:n>r;n=0<=r?++n:--n)t=new sn(e,this.offset),this.tables.push(t),t.isUnicode&&null==this.unicode&&(this.unicode=t);return!0},e.encode=function(e,t){var n,r;return null==t&&(t="macroman"),n=sn.encode(e,t),(r=new $t).writeUInt16(0),r.writeUInt16(1),n.table=r.data.concat(n.subtable),n},e}(),on=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Zt),e.prototype.tag="hhea",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.ascender=e.readShort(),this.decender=e.readShort(),this.lineGap=e.readShort(),this.advanceWidthMax=e.readShort(),this.minLeftSideBearing=e.readShort(),this.minRightSideBearing=e.readShort(),this.xMaxExtent=e.readShort(),this.caretSlopeRise=e.readShort(),this.caretSlopeRun=e.readShort(),this.caretOffset=e.readShort(),e.pos+=8,this.metricDataFormat=e.readShort(),this.numberOfMetrics=e.readUInt16()},e}(),ln=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Zt),e.prototype.tag="OS/2",e.prototype.parse=function(e){if(e.pos=this.offset,this.version=e.readUInt16(),this.averageCharWidth=e.readShort(),this.weightClass=e.readUInt16(),this.widthClass=e.readUInt16(),this.type=e.readShort(),this.ySubscriptXSize=e.readShort(),this.ySubscriptYSize=e.readShort(),this.ySubscriptXOffset=e.readShort(),this.ySubscriptYOffset=e.readShort(),this.ySuperscriptXSize=e.readShort(),this.ySuperscriptYSize=e.readShort(),this.ySuperscriptXOffset=e.readShort(),this.ySuperscriptYOffset=e.readShort(),this.yStrikeoutSize=e.readShort(),this.yStrikeoutPosition=e.readShort(),this.familyClass=e.readShort(),this.panose=function(){var t,n;for(n=[],t=0;t<10;++t)n.push(e.readByte());return n}(),this.charRange=function(){var t,n;for(n=[],t=0;t<4;++t)n.push(e.readInt());return n}(),this.vendorID=e.readString(4),this.selection=e.readShort(),this.firstCharIndex=e.readShort(),this.lastCharIndex=e.readShort(),this.version>0&&(this.ascent=e.readShort(),this.descent=e.readShort(),this.lineGap=e.readShort(),this.winAscent=e.readShort(),this.winDescent=e.readShort(),this.codePageRange=function(){var t,n;for(n=[],t=0;t<2;t=++t)n.push(e.readInt());return n}(),this.version>1))return this.xHeight=e.readShort(),this.capHeight=e.readShort(),this.defaultChar=e.readShort(),this.breakChar=e.readShort(),this.maxContext=e.readShort()},e}(),cn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Zt),e.prototype.tag="post",e.prototype.parse=function(e){var t,n,r;switch(e.pos=this.offset,this.format=e.readInt(),this.italicAngle=e.readInt(),this.underlinePosition=e.readShort(),this.underlineThickness=e.readShort(),this.isFixedPitch=e.readInt(),this.minMemType42=e.readInt(),this.maxMemType42=e.readInt(),this.minMemType1=e.readInt(),this.maxMemType1=e.readInt(),this.format){case 65536:case 196608:break;case 131072:var s;for(n=e.readUInt16(),this.glyphNameIndex=[],s=0;0<=n?s<n:s>n;s=0<=n?++s:--s)this.glyphNameIndex.push(e.readUInt16());for(this.names=[],r=[];e.pos<this.offset+this.length;)t=e.readByte(),r.push(this.names.push(e.readString(t)));return r;case 151552:return n=e.readUInt16(),this.offsets=e.read(n);case 262144:return this.map=function(){var t,n,r;for(r=[],s=t=0,n=this.file.maxp.numGlyphs;0<=n?t<n:t>n;s=0<=n?++t:--t)r.push(e.readUInt32());return r}.call(this)}},e}(),dn=function(e,t){this.raw=e,this.length=e.length,this.platformID=t.platformID,this.encodingID=t.encodingID,this.languageID=t.languageID},un=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Zt),e.prototype.tag="name",e.prototype.parse=function(e){var t,n,r,s,a,i,o,l,c,d,u;for(e.pos=this.offset,e.readShort(),t=e.readShort(),i=e.readShort(),n=[],s=0;0<=t?s<t:s>t;s=0<=t?++s:--s)n.push({platformID:e.readShort(),encodingID:e.readShort(),languageID:e.readShort(),nameID:e.readShort(),length:e.readShort(),offset:this.offset+i+e.readShort()});for(o={},s=c=0,d=n.length;c<d;s=++c)r=n[s],e.pos=r.offset,l=e.readString(r.length),a=new dn(l,r),null==o[u=r.nameID]&&(o[u]=[]),o[r.nameID].push(a);this.strings=o,this.copyright=o[0],this.fontFamily=o[1],this.fontSubfamily=o[2],this.uniqueSubfamily=o[3],this.fontName=o[4],this.version=o[5];try{this.postscriptName=o[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(e){this.postscriptName=o[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=o[7],this.manufacturer=o[8],this.designer=o[9],this.description=o[10],this.vendorUrl=o[11],this.designerUrl=o[12],this.license=o[13],this.licenseUrl=o[14],this.preferredFamily=o[15],this.preferredSubfamily=o[17],this.compatibleFull=o[18],this.sampleText=o[19]},e}(),hn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Zt),e.prototype.tag="maxp",e.prototype.parse=function(e){return e.pos=this.offset,this.version=e.readInt(),this.numGlyphs=e.readUInt16(),this.maxPoints=e.readUInt16(),this.maxContours=e.readUInt16(),this.maxCompositePoints=e.readUInt16(),this.maxComponentContours=e.readUInt16(),this.maxZones=e.readUInt16(),this.maxTwilightPoints=e.readUInt16(),this.maxStorage=e.readUInt16(),this.maxFunctionDefs=e.readUInt16(),this.maxInstructionDefs=e.readUInt16(),this.maxStackElements=e.readUInt16(),this.maxSizeOfInstructions=e.readUInt16(),this.maxComponentElements=e.readUInt16(),this.maxComponentDepth=e.readUInt16()},e}(),An=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Zt),e.prototype.tag="hmtx",e.prototype.parse=function(e){var t,n,r,s,a,i,o;for(e.pos=this.offset,this.metrics=[],t=0,i=this.file.hhea.numberOfMetrics;0<=i?t<i:t>i;t=0<=i?++t:--t)this.metrics.push({advance:e.readUInt16(),lsb:e.readInt16()});for(r=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var n,s;for(s=[],t=n=0;0<=r?n<r:n>r;t=0<=r?++n:--n)s.push(e.readInt16());return s}(),this.widths=function(){var e,t,n,r;for(r=[],e=0,t=(n=this.metrics).length;e<t;e++)s=n[e],r.push(s.advance);return r}.call(this),n=this.widths[this.widths.length-1],o=[],t=a=0;0<=r?a<r:a>r;t=0<=r?++a:--a)o.push(this.widths.push(n));return o},e.prototype.forGlyph=function(e){return e in this.metrics?this.metrics[e]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[e-this.metrics.length]}},e}(),fn=[].slice,mn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Zt),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(e){var t,n,r,s,a,i,o,l,c,d;return e in this.cache?this.cache[e]:(s=this.file.loca,t=this.file.contents,n=s.indexOf(e),0===(r=s.lengthOf(e))?this.cache[e]=null:(t.pos=this.offset+n,a=(i=new $t(t.read(r))).readShort(),l=i.readShort(),d=i.readShort(),o=i.readShort(),c=i.readShort(),this.cache[e]=-1===a?new gn(i,l,d,o,c):new pn(i,a,l,d,o,c),this.cache[e]))},e.prototype.encode=function(e,t,n){var r,s,a,i,o;for(a=[],s=[],i=0,o=t.length;i<o;i++)r=e[t[i]],s.push(a.length),r&&(a=a.concat(r.encode(n)));return s.push(a.length),{table:a,offsets:s}},e}(),pn=function(){function e(e,t,n,r,s,a){this.raw=e,this.numberOfContours=t,this.xMin=n,this.yMin=r,this.xMax=s,this.yMax=a,this.compound=!1}return e.prototype.encode=function(){return this.raw.data},e}(),gn=function(){function e(e,t,n,r,s){var a,i;for(this.raw=e,this.xMin=t,this.yMin=n,this.xMax=r,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;i=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&i;)a.pos+=1&i?4:2,128&i?a.pos+=8:64&i?a.pos+=4:8&i&&(a.pos+=2)}return e.prototype.encode=function(){var e,t,n;for(t=new $t(fn.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)t.pos=this.glyphOffsets[e];return t.data},e}(),xn=function(){function e(){return e.__super__.constructor.apply(this,arguments)}return nn(e,Zt),e.prototype.tag="loca",e.prototype.parse=function(e){var t,n;return e.pos=this.offset,t=this.file.head.indexToLocFormat,this.offsets=0===t?function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=2)r.push(2*e.readUInt16());return r}.call(this):function(){var t,r;for(r=[],n=0,t=this.length;n<t;n+=4)r.push(e.readUInt32());return r}.call(this)},e.prototype.indexOf=function(e){return this.offsets[e]},e.prototype.lengthOf=function(e){return this.offsets[e+1]-this.offsets[e]},e.prototype.encode=function(e,t){for(var n=new Uint32Array(this.offsets.length),r=0,s=0,a=0;a<n.length;++a)if(n[a]=r,s<t.length&&t[s]==a){++s,n[a]=r;var i=this.offsets[a],o=this.offsets[a+1]-i;o>0&&(r+=o)}for(var l=new Array(4*n.length),c=0;c<n.length;++c)l[4*c+3]=255&n[c],l[4*c+2]=(65280&n[c])>>8,l[4*c+1]=(16711680&n[c])>>16,l[4*c]=(4278190080&n[c])>>24;return l},e}(),bn=function(){function e(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return e.prototype.generateCmap=function(){var e,t,n,r,s;for(t in r=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[t],e[t]=r[n];return e},e.prototype.glyphsFor=function(e){var t,n,r,s,a,i,o;for(r={},a=0,i=e.length;a<i;a++)r[s=e[a]]=this.font.glyf.glyphFor(s);for(s in t=[],r)(null!=(n=r[s])?n.compound:void 0)&&t.push.apply(t,n.glyphIDs);if(t.length>0)for(s in o=this.glyphsFor(t))n=o[s],r[s]=n;return r},e.prototype.encode=function(e,t){var n,r,s,a,i,o,l,c,d,u,h,A,f,m,p;for(r in n=an.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},p=n.charMap)h[(o=p[r]).old]=o.new;for(A in u=n.maxGlyphID,a)A in h||(h[A]=u++);return c=function(e){var t,n;for(t in n={},e)n[e[t]]=t;return n}(h),d=Object.keys(c).sort(function(e,t){return e-t}),f=function(){var e,t,n;for(n=[],e=0,t=d.length;e<t;e++)i=d[e],n.push(c[i]);return n}(),s=this.font.glyf.encode(a,f,h),l=this.font.loca.encode(s.offsets,f),m={cmap:this.font.cmap.raw(),glyf:s.table,loca:l,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(t)},this.font.os2.exists&&(m["OS/2"]=this.font.os2.raw()),this.font.directory.encode(m)},e}();Fe.API.PDFObject=function(){var e;function t(){}return e=function(e,t){return(Array(t+1).join("0")+e).slice(-t)},t.convert=function(n){var r,s,a,i;if(Array.isArray(n))return"["+function(){var e,s,a;for(a=[],e=0,s=n.length;e<s;e++)r=n[e],a.push(t.convert(r));return a}().join(" ")+"]";if("string"==typeof n)return"/"+n;if(null!=n?n.isString:void 0)return"("+n+")";if(n instanceof Date)return"(D:"+e(n.getUTCFullYear(),4)+e(n.getUTCMonth(),2)+e(n.getUTCDate(),2)+e(n.getUTCHours(),2)+e(n.getUTCMinutes(),2)+e(n.getUTCSeconds(),2)+"Z)";if("[object Object]"==={}.toString.call(n)){for(s in a=["<<"],n)i=n[s],a.push("/"+s+" "+t.convert(i));return a.push(">>"),a.join("\n")}return""+n},t}();const yn=Fe},7809:(e,t,n)=>{"use strict";var r=n(7404);e.exports=function(e,t){var n=t.ownerDocument.defaultView.getSelection(),s=n.anchorNode,a=n.anchorOffset,i=n.focusNode,o=n.focusOffset;return 0===n.rangeCount||null==s||null==i?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:r(e,t,s,a,i,o)}},7904:e=>{"use strict";function t(e){return e.replace(/\//g,"-")}e.exports=function(e){return"object"==typeof e?Object.keys(e).filter(function(t){return e[t]}).map(t).join(" "):Array.prototype.map.call(arguments,t).join(" ")}},7950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(2730)},7996:(e,t,n)=>{"use strict";var r=n(8819)("draft_tree_data_support");e.exports=n(r?5714:1984)},8009:e=>{"use strict";var t=/\r\n?|\n/g;e.exports=function(e){return e.split(t)}},8063:e=>{"use strict";e.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}}},8167:e=>{"use strict";var t=/-(.)/g;e.exports=function(e){return e.replace(t,function(e,t){return t.toUpperCase()})}},8208:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(8678),a=n(3112),i=n(1320),o=i.List,l=i.Repeat,c=i.Record,d=function(){return!0},u=c({start:null,end:null}),h=c({start:null,end:null,decoratorKey:null,leaves:null}),A={generate:function(e,t,n){var r=t.getLength();if(!r)return o.of(new h({start:0,end:0,decoratorKey:null,leaves:o.of(new u({start:0,end:0}))}));var a=[],i=n?n.getDecorations(t,e):o(l(null,r)),c=t.getCharacterList();return s(i,m,d,function(e,t){a.push(new h({start:e,end:t,decoratorKey:i.get(e),leaves:f(c.slice(e,t).toList(),e)}))}),o(a)},fromJS:function(e){var t=e.leaves,n=function(e,t){if(null==e)return{};var n,r,s={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(s[n]=e[n]);return s}(e,["leaves"]);return new h(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){r(e,t,n[t])})}return e}({},n,{leaves:null!=t?o(Array.isArray(t)?t:a(t)).map(function(e){return u(e)}):null}))}};function f(e,t){var n=[],r=e.map(function(e){return e.getStyle()}).toList();return s(r,m,d,function(e,r){n.push(new u({start:e+t,end:r+t}))}),o(n)}function m(e,t){return e===t}e.exports=A},8250:e=>{"use strict";e.exports={initODS:function(){},handleExtensionCausedError:function(){}}},8332:e=>{"use strict";e.exports=function(e){var t={};return function(n){return t.hasOwnProperty(n)||(t[n]=e.call(this,n)),t[n]}}},8349:(e,t,n)=>{"use strict";var r=n(7691),s=n(93);e.exports=function(e){var t=r(e.ownerDocument||e.document);e.Window&&e instanceof e.Window&&(e=t);var n=s(e),a=e===t?e.ownerDocument.documentElement:e,i=e.scrollWidth-a.clientWidth,o=e.scrollHeight-a.clientHeight;return n.x=Math.max(0,Math.min(n.x,i)),n.y=Math.max(0,Math.min(n.y,o)),n}},8358:e=>{"use strict";e.exports=function(e){return e&&e.ownerDocument?e.ownerDocument:document}},8365:(e,t,n)=>{"use strict";var r=n(5043);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},a=r.useSyncExternalStore,i=r.useRef,o=r.useEffect,l=r.useMemo,c=r.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,r,d){var u=i(null);if(null===u.current){var h={hasValue:!1,value:null};u.current=h}else h=u.current;u=l(function(){function e(e){if(!o){if(o=!0,a=e,e=r(e),void 0!==d&&h.hasValue){var t=h.value;if(d(t,e))return i=t}return i=e}if(t=i,s(a,e))return t;var n=r(e);return void 0!==d&&d(t,n)?(a=e,t):(a=e,i=n)}var a,i,o=!1,l=void 0===n?null:n;return[function(){return e(t())},null===l?void 0:function(){return e(l())}]},[t,n,r,d]);var A=a(e,u[0],u[1]);return o(function(){h.hasValue=!0,h.value=A},[A]),c(A),A}},8421:(e,t,n)=>{"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var s=n(7707),a=n(6559),i=n(4088),o=n(3226),l=n(1375),c=n(6415),d=function(e,t){return{key:e.getKey(),text:e.getText(),type:e.getType(),depth:e.getDepth(),inlineStyleRanges:l(e),entityRanges:o(e,t),data:e.getData().toObject()}},u=function(e,t,n,i){if(e instanceof s)n.push(d(e,t));else{e instanceof a||c(!1);var o=e.getParentKey(),l=i[e.getKey()]=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},s=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(s=s.concat(Object.getOwnPropertySymbols(n).filter(function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable}))),s.forEach(function(t){r(e,t,n[t])})}return e}({},d(e,t),{children:[]});o?i[o].children.push(l):n.push(l)}};e.exports=function(e){var t={entityMap:{},blocks:[]};return t=function(e,t){var n=t.entityMap,r=[],s={},a={},o=0;return e.getBlockMap().forEach(function(e){e.findEntityRanges(function(e){return null!==e.getEntity()},function(t){var r=e.getEntityAt(t),s=i.stringify(r);a[s]||(a[s]=r,n[s]="".concat(o),o++)}),u(e,n,r,s)}),{blocks:r,entityMap:n}}(e,t),t=function(e,t){var n=t.blocks,r=t.entityMap,s={};return Object.keys(r).forEach(function(t,n){var r=e.getEntity(i.unstringify(t));s[n]={type:r.getType(),mutability:r.getMutability(),data:r.getData()}}),{blocks:n,entityMap:s}}(e,t),t}},8502:(e,t,n)=>{"use strict";var r=n(4801),s=n(6283),a=n(1873),i=n(3767);e.exports=function(e){var t=i(e,function(e){var t=e.getSelection(),n=t.getStartOffset();if(0===n)return a(e,1);var s=t.getStartKey(),i=e.getCurrentContent().getBlockForKey(s).getText().slice(0,n),o=r.getBackward(i);return a(e,o.length||1)},"backward");return t===e.getCurrentContent()?e:s.push(e,t,"remove-range")}},8516:(e,t,n)=>{"use strict";var r=n(6283);e.exports=function(e){var t=e.getSelection(),n=t.getEndKey(),s=e.getCurrentContent().getBlockForKey(n).getLength();return r.set(e,{selection:t.merge({anchorKey:n,anchorOffset:s,focusKey:n,focusOffset:s,isBackward:!1}),forceSelection:!0})}},8645:e=>{"use strict";e.exports={logBlockedSelectionEvent:function(){return null},logSelectionStateFailure:function(){return null}}},8678:e=>{"use strict";e.exports=function(e,t,n,r){if(e.size){var s=0;e.reduce(function(e,a,i){return t(e,a)||(n(e)&&r(s,i),s=i),a}),n(e.last())&&r(s,e.count())}}},8691:e=>{"use strict";e.exports=function(e){if(null!=e)return e;throw new Error("Got unexpected null or undefined")}},8701:(e,t,n)=>{"use strict";var r=n(6559),s=n(306),a=n(1320),i=n(6415),o=n(1477),l=a.List,c=a.Map,d=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||i(!1);var n=t.getAnchorKey(),a=e.getBlockMap(),u=a.get(n),h=u.getText();if(!h){var A=u.getType();if("unordered-list-item"===A||"ordered-list-item"===A)return o(e,t,function(e){return e.merge({type:"unstyled",depth:0})})}var f=t.getAnchorOffset(),m=u.getCharacterList(),p=s(),g=u instanceof r,x=u.merge({text:h.slice(0,f),characterList:m.slice(0,f)}),b=x.merge({key:p,text:h.slice(f),characterList:m.slice(f),data:c()}),y=a.toSeq().takeUntil(function(e){return e===u}),v=a.toSeq().skipUntil(function(e){return e===u}).rest(),w=y.concat([[n,x],[p,b]],v).toOrderedMap();return g&&(u.getChildKeys().isEmpty()||i(!1),w=function(e,t,n){return e.withMutations(function(e){var r=t.getKey(),s=n.getKey();d(t.getParentKey(),e,function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,a=t.toArray();return a.splice(n,0,s),e.merge({children:l(a)})}),d(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:s})}),d(r,e,function(e){return e.merge({nextSibling:s})}),d(s,e,function(e){return e.merge({prevSibling:r})})})}(w,x,b)),e.merge({blockMap:w,selectionBefore:t,selectionAfter:t.merge({anchorKey:p,anchorOffset:0,focusKey:p,focusOffset:0,isBackward:!1})})}},8746:(e,t,n)=>{"use strict";var r=n(7385);e.exports=function e(t){if(r(t)){var n=t,s=n.getAttribute("data-offset-key");if(s)return s;for(var a=0;a<n.childNodes.length;a++){var i=e(n.childNodes[a]);if(i)return i}}return null}},8796:e=>{"use strict";e.exports=function(e){e._internalDrag=!0,e.setMode("drag")}},8799:(e,t,n)=>{"use strict";n(7443);e.exports=function(e,t){var n,r=e.getSelection(),s=r.getStartKey(),a=r.getStartOffset(),i=e.getCurrentContent(),o=s;return t>i.getBlockForKey(s).getText().length-a?(o=i.getKeyAfter(s),n=0):n=a+t,r.merge({focusKey:o,focusOffset:n})}},8819:e=>{"use strict";e.exports=function(e){return!("undefined"===typeof window||!window.__DRAFT_GKX)&&!!window.__DRAFT_GKX[e]}},8847:(e,t,n)=>{"use strict";var r=n(7950).unstable_flushControlled;e.exports=r},8853:(e,t,n)=>{"use strict";e.exports=n(7234)},8978:e=>{"use strict";e.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;\u30fb\u3001\u3002\u3008-\u3011\u3014-\u301f\uff1a-\uff1f\uff01-\uff0f\uff3b-\uff40\uff5b-\uff65\u2e2e\u061f\u066a-\u066c\u061b\u060c\u060d\ufd3e\ufd3f\u1801\u0964\u104a\u104b\u2010-\u2027\u2030-\u205e\xa1-\xb1\xb4-\xb8\xba\xbb\xbf]"}}},9102:(e,t,n)=>{"use strict";n(4132),e.exports=n.g.setImmediate},9167:e=>{"use strict";e.exports=function(e){if(!e||!("ownerDocument"in e))return!1;if("ownerDocument"in e){var t=e;if(!t.ownerDocument.defaultView)return t instanceof Node;if(t instanceof t.ownerDocument.defaultView.Node)return!0}return!1}},9193:(e,t,n)=>{"use strict";var r=n(3e3);e.exports=function(e){var t=r(e),n=0,s=0,a=0,i=0;if(t.length){if(t.length>1&&0===t[0].width){var o=t[1];n=o.top,s=o.right,a=o.bottom,i=o.left}else{var l=t[0];n=l.top,s=l.right,a=l.bottom,i=l.left}for(var c=1;c<t.length;c++){var d=t[c];0!==d.height&&0!==d.width&&(n=Math.min(n,d.top),s=Math.max(s,d.right),a=Math.max(a,d.bottom),i=Math.min(i,d.left))}}return{top:n,right:s,bottom:a,left:i,width:s-i,height:a-n}}},9303:e=>{"use strict";e.exports=function(e){return"handled"===e||!0===e}},9358:(e,t,n)=>{"use strict";var r=n(9523),s=n(3586),a=n(4414),i=n(1320),o=n(5043),l=n(7904),c=(i.List,function(e){var t,n;function i(){return e.apply(this,arguments)||this}return n=e,(t=i).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,i.prototype.render=function(){var e=this.props,t=e.block,n=e.contentState,i=e.customStyleFn,c=e.customStyleMap,d=e.decorator,u=e.direction,h=e.forceSelection,A=e.hasSelection,f=e.selection,m=e.tree,p=t.getKey(),g=t.getText(),x=m.size-1,b=this.props.children||m.map(function(e,l){var m=e.get("decoratorKey"),b=e.get("leaves"),y=b.size-1,v=b.map(function(e,n){var r=a.encode(p,l,n),d=e.get("start"),u=e.get("end");return o.createElement(s,{key:r,offsetKey:r,block:t,start:d,selection:A?f:null,forceSelection:h,text:g.slice(d,u),styleSet:t.getInlineStyleAt(d),customStyleMap:c,customStyleFn:i,isLast:m===x&&n===y})}).toArray();return m&&d?o.createElement(r,{block:t,children:v,contentState:n,decorator:d,decoratorKey:m,direction:u,leafSet:e,text:g,key:l}):v}).toArray();return o.createElement("div",{"data-offset-key":a.encode(p,0,0),className:l({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===u,"public/DraftStyleDefault/rtl":"RTL"===u})},b)},i}(o.Component));e.exports=c},9384:(e,t,n)=>{"use strict";var r=n(6283),s=n(5798),a=n(7404),i=n(1873),o=n(3767);e.exports=function(e,t){var n=o(e,function(e){var n=e.getSelection();if(n.isCollapsed()&&0===n.getAnchorOffset())return i(e,1);var r=t.currentTarget.ownerDocument.defaultView.getSelection().getRangeAt(0);return r=s(r),a(e,null,r.endContainer,r.endOffset,r.startContainer,r.startOffset).selectionState},"backward");return n===e.getCurrentContent()?e:r.push(e,n,"remove-range")}},9399:(e,t,n)=>{"use strict";var r=n(4121),s="Unknown",a={"Mac OS":"Mac OS X"};var i,o=(new r).getResult(),l=function(e){if(!e)return{major:"",minor:""};var t=e.split(".");return{major:t[0],minor:t[1]}}(o.browser.version),c={browserArchitecture:o.cpu.architecture||s,browserFullVersion:o.browser.version||s,browserMinorVersion:l.minor||s,browserName:o.browser.name||s,browserVersion:o.browser.major||s,deviceName:o.device.model||s,engineName:o.engine.name||s,engineVersion:o.engine.version||s,platformArchitecture:o.cpu.architecture||s,platformName:(i=o.os.name,a[i]||i||s),platformVersion:o.os.version||s,platformFullVersion:o.os.version||s};e.exports=c},9493:e=>{"use strict";var t=function(){function e(e){var t,n,r;r=void 0,(n="_uri")in(t=this)?Object.defineProperty(t,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[n]=r,this._uri=e}return e.prototype.toString=function(){return this._uri},e}();e.exports=t},9523:(e,t,n)=>{"use strict";var r=n(2123);function s(){return s=r||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},s.apply(this,arguments)}var a=n(4414),i=n(5043),o=n(5782),l=n(4669),c=function(e){var t,n;function r(){return e.apply(this,arguments)||this}return n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n,r.prototype.render=function(){var e=this.props,t=e.block,n=e.children,r=e.contentState,c=e.decorator,d=e.decoratorKey,u=e.direction,h=e.leafSet,A=e.text,f=t.getKey(),m=h.get("leaves"),p=c.getComponentForKey(d),g=c.getPropsForKey(d),x=a.encode(f,parseInt(d,10),0),b=A.slice(m.first().get("start"),m.last().get("end")),y=l.getHTMLDirIfDifferent(o.getDirection(b),u);return i.createElement(p,s({},g,{contentState:r,decoratedText:b,dir:y,key:x,entityKey:t.getEntityAt(h.get("start")),offsetKey:x}),n)},r}(i.Component);e.exports=c},9529:(e,t,n)=>{"use strict";var r=n(2367),s=n(8678),a=n(6415);function i(e,t,n){var i=t.getCharacterList(),o=n>0?i.get(n-1):void 0,l=n<i.count()?i.get(n):void 0,c=o?o.getEntity():void 0,d=l?l.getEntity():void 0;if(d&&d===c&&"MUTABLE"!==e.__get(d).getMutability()){for(var u,h=function(e,t,n){var r;return s(e,function(e,t){return e.getEntity()===t.getEntity()},function(e){return e.getEntity()===t},function(e,t){e<=n&&t>=n&&(r={start:e,end:t})}),"object"!==typeof r&&a(!1),r}(i,d,n),A=h.start,f=h.end;A<f;)u=i.get(A),i=i.set(A,r.applyEntity(u,null)),A++;return t.set("characterList",i)}return t}e.exports=function(e,t){var n=e.getBlockMap(),r=e.getEntityMap(),s={},a=t.getStartKey(),o=t.getStartOffset(),l=n.get(a),c=i(r,l,o);c!==l&&(s[a]=c);var d=t.getEndKey(),u=t.getEndOffset(),h=n.get(d);a===d&&(h=c);var A=i(r,h,u);return A!==h&&(s[d]=A),Object.keys(s).length?e.merge({blockMap:n.merge(s),selectionAfter:t}):e.set("selectionAfter",t)}},9534:e=>{"use strict";function t(e){return function(){return e}}var n=function(){};n.thatReturns=t,n.thatReturnsFalse=t(!1),n.thatReturnsTrue=t(!0),n.thatReturnsNull=t(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},9639:(e,t,n)=>{"use strict";var r=n(7003),s=n(1306),a=n(6415);function i(e,t,n,i,o,l,c){var d=n.getStartOffset(),u=n.getEndOffset(),h=e.__get(o).getMutability(),A=c?d:u;if("MUTABLE"===h)return n;var f=s(t,o).filter(function(e){return A<=e.end&&A>=e.start});1!=f.length&&a(!1);var m=f[0];if("IMMUTABLE"===h)return n.merge({anchorOffset:m.start,focusOffset:m.end,isBackward:!1});l||(c?u=m.end:d=m.start);var p=r.getRemovalRange(d,u,t.getText().slice(m.start,m.end),m.start,i);return n.merge({anchorOffset:p.start,focusOffset:p.end,isBackward:!1})}e.exports=function(e,t,n,r,s){var a=r.getStartOffset(),o=r.getEndOffset(),l=t.getEntityAt(a),c=n.getEntityAt(o-1);if(!l&&!c)return r;var d=r;if(l&&l===c)d=i(e,t,d,s,l,!0,!0);else if(l&&c){var u=i(e,t,d,s,l,!1,!0),h=i(e,n,d,s,c,!1,!1);d=d.merge({anchorOffset:u.getAnchorOffset(),focusOffset:h.getFocusOffset(),isBackward:!1})}else if(l){var A=i(e,t,d,s,l,!1,!0);d=d.merge({anchorOffset:A.getStartOffset(),isBackward:!1})}else if(c){var f=i(e,n,d,s,c,!1,!1);d=d.merge({focusOffset:f.getEndOffset(),isBackward:!1})}return d}},9678:(e,t,n)=>{"use strict";var r=n(6283);e.exports=function(e,t){e.setMode("composite"),e.update(r.set(e._latestEditorState,{inCompositionMode:!0})),e._onCompositionStart(t)}},9684:(e,t,n)=>{"use strict";var r=n(2333),s=n(4923),a=n(6143),i=a.isPlatform("Mac OS X"),o=i&&a.isBrowser("Firefox < 29"),l=r.hasCommandModifier,c=r.isCtrlKeyCommand;function d(e){return i&&e.altKey||c(e)}e.exports=function(e){switch(e.keyCode){case 66:return l(e)?"bold":null;case 68:return c(e)?"delete":null;case 72:return c(e)?"backspace":null;case 73:return l(e)?"italic":null;case 74:return l(e)?"code":null;case 75:return i&&c(e)?"secondary-cut":null;case 77:case 79:return c(e)?"split-block":null;case 84:return i&&c(e)?"transpose-characters":null;case 85:return l(e)?"underline":null;case 87:return i&&c(e)?"backspace-word":null;case 89:return c(e)?i?"secondary-paste":"redo":null;case 90:return function(e){return l(e)?e.shiftKey?"redo":"undo":null}(e)||null;case s.RETURN:return"split-block";case s.DELETE:return function(e){return!i&&e.shiftKey?null:d(e)?"delete-word":"delete"}(e);case s.BACKSPACE:return function(e){return l(e)&&i?"backspace-to-start-of-line":d(e)?"backspace-word":"backspace"}(e);case s.LEFT:return o&&l(e)?"move-selection-to-start-of-block":null;case s.RIGHT:return o&&l(e)?"move-selection-to-end-of-block":null;default:return null}}},9690:(e,t,n)=>{"use strict";var r=n(5763),s=n(6283),a=n(6935);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var n=t.getAnchorOffset();if(0===n)return e;var i,o,l=t.getAnchorKey(),c=e.getCurrentContent(),d=c.getBlockForKey(l).getLength();if(d<=1)return e;n===d?(i=t.set("anchorOffset",n-1),o=t):o=(i=t.set("focusOffset",n+1)).set("anchorOffset",n+1);var u=a(c,i),h=r.removeRange(c,i,"backward"),A=h.getSelectionAfter(),f=A.getAnchorOffset()-1,m=A.merge({anchorOffset:f,focusOffset:f}),p=r.replaceWithFragment(h,m,u),g=s.push(e,p,"insert-fragment");return s.acceptSelection(g,o)}},9806:(e,t,n)=>{"use strict";var r=n(2367),s=n(1320).List;e.exports=function(e,t){var n=e.map(function(e,n){var s=t[n];return r.create({style:e,entity:s})});return s(n)}},9909:(e,t,n)=>{"use strict";var r=n(5763),s=n(6283),a=n(6935),i=n(8691),o=null,l={cut:function(e){var t=e.getCurrentContent(),n=e.getSelection(),l=null;if(n.isCollapsed()){var c=n.getAnchorKey(),d=t.getBlockForKey(c).getLength();if(d===n.getAnchorOffset()){var u=t.getKeyAfter(c);if(null==u)return e;l=n.set("focusKey",u).set("focusOffset",0)}else l=n.set("focusOffset",d)}else l=n;l=i(l),o=a(t,l);var h=r.removeRange(t,l,"forward");return h===t?e:s.push(e,h,"remove-range")},paste:function(e){if(!o)return e;var t=r.replaceWithFragment(e.getCurrentContent(),e.getSelection(),o);return s.push(e,t,"insert-fragment")}};e.exports=l},9956:function(e){e.exports=function(){"use strict";function e(e,t){if(e)for(var n in e)({}).hasOwnProperty.call(e,n)&&t(n,e[n])}function t(e){return void 0===e||null===e||0===e.length||0===e.trim().length}var n={unstyled:"p","header-one":"h1","header-two":"h2","header-three":"h3","header-four":"h4","header-five":"h5","header-six":"h6","unordered-list-item":"ul","ordered-list-item":"ol",blockquote:"blockquote",code:"pre"};function r(e){return e&&n[e]}function s(t){var n="";return e(t,function(e,t){t&&(n+="".concat(e,":").concat(t,";"))}),n}function a(e,t){var n=[];if(t)for(var r=0,s=0,a=e,i=t.trigger||"#",o=t.separator||" ";a.length>0&&s>=0;)if(a[0]===i?(s=0,r=0,a=a.substr(i.length)):(s=a.indexOf(o+i))>=0&&(a=a.substr(s+(o+i).length),r+=s+o.length),s>=0){var l=a.indexOf(o)>=0?a.indexOf(o):a.length,c=a.substr(0,l);c&&c.length>0&&n.push({offset:r,length:c.length+i.length,type:"HASHTAG"}),r+=i.length}return n}function i(e,t){var n=[],r=0,s=e.entityRanges.map(function(e){return{offset:e.offset,length:e.length,key:e.key,type:"ENTITY"}});return(s=(s=s.concat(a(e.text,t))).sort(function(e,t){return e.offset-t.offset})).forEach(function(e){e.offset>r&&n.push({start:r,end:e.offset}),n.push({start:e.offset,end:e.offset+e.length,entityKey:e.key,type:e.type}),r=e.offset+e.length}),r<e.text.length&&n.push({start:r,end:e.text.length}),n}function o(e){return!(!(e.entityRanges.length>0)||!t(e.text)&&"atomic"!==e.type)}function l(e){var t=e.text,n=e.inlineStyleRanges,r={BOLD:new Array(t.length),ITALIC:new Array(t.length),UNDERLINE:new Array(t.length),STRIKETHROUGH:new Array(t.length),CODE:new Array(t.length),SUPERSCRIPT:new Array(t.length),SUBSCRIPT:new Array(t.length),COLOR:new Array(t.length),BGCOLOR:new Array(t.length),FONTSIZE:new Array(t.length),FONTFAMILY:new Array(t.length),length:t.length};return n&&n.length>0&&n.forEach(function(e){for(var t=e.offset,n=t+e.length,s=t;s<n;s+=1)0===e.style.indexOf("color-")?r.COLOR[s]=e.style.substring(6):0===e.style.indexOf("bgcolor-")?r.BGCOLOR[s]=e.style.substring(8):0===e.style.indexOf("fontsize-")?r.FONTSIZE[s]=e.style.substring(9):0===e.style.indexOf("fontfamily-")?r.FONTFAMILY[s]=e.style.substring(11):r[e.style]&&(r[e.style][s]=!0)}),r}function c(e,t){var n={};return e.COLOR[t]&&(n.COLOR=e.COLOR[t]),e.BGCOLOR[t]&&(n.BGCOLOR=e.BGCOLOR[t]),e.FONTSIZE[t]&&(n.FONTSIZE=e.FONTSIZE[t]),e.FONTFAMILY[t]&&(n.FONTFAMILY=e.FONTFAMILY[t]),e.UNDERLINE[t]&&(n.UNDERLINE=!0),e.ITALIC[t]&&(n.ITALIC=!0),e.BOLD[t]&&(n.BOLD=!0),e.STRIKETHROUGH[t]&&(n.STRIKETHROUGH=!0),e.CODE[t]&&(n.CODE=!0),e.SUBSCRIPT[t]&&(n.SUBSCRIPT=!0),e.SUPERSCRIPT[t]&&(n.SUPERSCRIPT=!0),n}function d(e,t,n){var r=!0;return n>0&&n<e.length?t.forEach(function(t){r=r&&e[t][n]===e[t][n-1]}):r=!1,r}function u(e,t){return"BOLD"===e?"<strong>".concat(t,"</strong>"):"ITALIC"===e?"<em>".concat(t,"</em>"):"UNDERLINE"===e?"<ins>".concat(t,"</ins>"):"STRIKETHROUGH"===e?"<del>".concat(t,"</del>"):"CODE"===e?"<code>".concat(t,"</code>"):"SUPERSCRIPT"===e?"<sup>".concat(t,"</sup>"):"SUBSCRIPT"===e?"<sub>".concat(t,"</sub>"):t}function h(e){return e&&e.length>0?e.map(function(e){switch(e){case"\n":return"<br>";case"&":return"&amp;";case"<":return"&lt;";case">":return"&gt;";default:return e}}).join(""):""}function A(e,t){if(e&&(e.COLOR||e.BGCOLOR||e.FONTSIZE||e.FONTFAMILY)){var n='style="';return e.COLOR&&(n+="color: ".concat(e.COLOR,";")),e.BGCOLOR&&(n+="background-color: ".concat(e.BGCOLOR,";")),e.FONTSIZE&&(n+="font-size: ".concat(e.FONTSIZE).concat(/^\d+$/.test(e.FONTSIZE)?"px":"",";")),e.FONTFAMILY&&(n+="font-family: ".concat(e.FONTFAMILY,";")),"<span ".concat(n+='"',">").concat(t,"</span>")}return t}function f(e,t,n,r){var s=e[t];if("function"===typeof r){var a=r(s,n);if(a)return a}if("MENTION"===s.type)return'<a href="'.concat(s.data.url,'" class="wysiwyg-mention" data-mention data-value="').concat(s.data.value,'">').concat(n,"</a>");if("LINK"===s.type){var i=s.data.targetOption||"_self";return'<a href="'.concat(s.data.url,'" target="').concat(i,'">').concat(n,"</a>")}if("IMAGE"===s.type){var o=s.data.alignment;return o&&o.length?'<div style="text-align:'.concat(o,';"><img src="').concat(s.data.src,'" alt="').concat(s.data.alt,'" style="height: ').concat(s.data.height,";width: ").concat(s.data.width,'"/></div>'):'<img src="'.concat(s.data.src,'" alt="').concat(s.data.alt,'" style="height: ').concat(s.data.height,";width: ").concat(s.data.width,'"/>')}return"EMBEDDED_LINK"===s.type?'<iframe width="'.concat(s.data.width,'" height="').concat(s.data.height,'" src="').concat(s.data.src,'" frameBorder="0"></iframe>'):n}function m(e,t,n,r){var s=[],a=Array.from(e.text);if(a.length>0)for(var i,o=l(e),u=n;u<r;u+=1)u!==n&&d(o,t,u)?(i.text.push(a[u]),i.end=u+1):(i={styles:c(o,u),text:[a[u]],start:u,end:u+1},s.push(i));return s}function p(e){if(e){for(var t=e,n=0;n<t.length&&" "===e[n];n+=1)t=t.replace(" ","&nbsp;");return t}return e}function g(e){if(e){for(var t=e,n=t.length-1;n>=0&&" "===t[n];n-=1)t="".concat(t.substring(0,n),"&nbsp;").concat(t.substring(n+1));return t}return e}function x(t){var n=t.styles,r=h(t.text);return e(n,function(e,t){r=u(e,r)}),r}function b(e,t){var n=m(e,["BOLD","ITALIC","UNDERLINE","STRIKETHROUGH","CODE","SUPERSCRIPT","SUBSCRIPT"],t.start,t.end),r="";return n.forEach(function(e){r+=x(e)}),r=A(t.styles,r)}function y(e,t,n,r){var s=[];m(e,["COLOR","BGCOLOR","FONTSIZE","FONTFAMILY"],n.start,n.end).forEach(function(t){s.push(b(e,t))});var a=s.join("");return"ENTITY"===n.type?void 0!==n.entityKey&&null!==n.entityKey&&(a=f(t,n.entityKey,a,r)):"HASHTAG"===n.type&&(a='<a href="'.concat(a,'" class="wysiwyg-hashtag">').concat(a,"</a>")),a}function v(e,t,n,r){var s=[],a=i(e,n);return a.forEach(function(n,i){var o=y(e,t,n,r);0===i&&(o=p(o)),i===a.length-1&&(o=g(o)),s.push(o)}),s.join("")}function w(e,t,n,a,i){var l=[];if(o(e))l.push(f(t,e.entityRanges[0].key,void 0,i));else{var c=r(e.type);if(c){l.push("<".concat(c));var d=s(e.data);d&&l.push(' style="'.concat(d,'"')),a&&l.push(' dir = "auto"'),l.push(">"),l.push(v(e,t,n,i)),l.push("</".concat(c,">"))}}return l.push("\n"),l.join("")}function j(e){return"unordered-list-item"===e||"ordered-list-item"===e}function N(e,t,n,a,i){var o,l=[],c=[];return e.forEach(function(e){var d=!1;if(o?o.type!==e.type?(l.push("</".concat(r(o.type),">\n")),l.push("<".concat(r(e.type),">\n"))):o.depth===e.depth?c&&c.length>0&&(l.push(N(c,t,n,a,i)),c=[]):(d=!0,c.push(e)):l.push("<".concat(r(e.type),">\n")),!d){l.push("<li");var u=s(e.data);u&&l.push(' style="'.concat(u,'"')),a&&l.push(' dir = "auto"'),l.push(">"),l.push(v(e,t,n,i)),l.push("</li>\n"),o=e}}),c&&c.length>0&&l.push(N(c,t,n,a,i)),l.push("</".concat(r(o.type),">\n")),l.join("")}function _(e,t,n,r){var s=[];if(e){var a=e.blocks,i=e.entityMap;if(a&&a.length>0){var o=[];if(a.forEach(function(e){if(j(e.type))o.push(e);else{if(o.length>0){var a=N(o,i,t,r);s.push(a),o=[]}var l=w(e,i,t,n,r);s.push(l)}}),o.length>0){var l=N(o,i,t,n,r);s.push(l),o=[]}}}return s.join("")}return _}()},9990:e=>{"use strict";e.exports=function(e){return!(!e||!e.ownerDocument)&&(e.ownerDocument.defaultView?e instanceof e.ownerDocument.defaultView.HTMLElement:e instanceof HTMLElement)}}},t={};function n(r){var s=t[r];if(void 0!==s)return s.exports;var a=t[r]={exports:{}};return e[r].call(a.exports,a,a.exports,n),a.exports}n.m=e,n.amdO={},n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,s){if(1&s&&(r=this(r)),8&s)return r;if("object"===typeof r&&r){if(4&s&&r.__esModule)return r;if(16&s&&"function"===typeof r.then)return r}var a=Object.create(null);n.r(a);var i={};e=e||[null,t({}),t([]),t(t)];for(var o=2&s&&r;("object"==typeof o||"function"==typeof o)&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(a,i),a}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.f={},n.e=e=>Promise.all(Object.keys(n.f).reduce((t,r)=>(n.f[r](e,t),t),[])),n.u=e=>"static/js/"+e+"."+{213:"69a5e8d8",455:"08fe817a",488:"badd9f8b"}[e]+".chunk.js",n.miniCssF=e=>{},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="frontend:";n.l=(r,s,a,i)=>{if(e[r])e[r].push(s);else{var o,l;if(void 0!==a)for(var c=document.getElementsByTagName("script"),d=0;d<c.length;d++){var u=c[d];if(u.getAttribute("src")==r||u.getAttribute("data-webpack")==t+a){o=u;break}}o||(l=!0,(o=document.createElement("script")).charset="utf-8",n.nc&&o.setAttribute("nonce",n.nc),o.setAttribute("data-webpack",t+a),o.src=r),e[r]=[s];var h=(t,n)=>{o.onerror=o.onload=null,clearTimeout(A);var s=e[r];if(delete e[r],o.parentNode&&o.parentNode.removeChild(o),s&&s.forEach(e=>e(n)),t)return t(n)},A=setTimeout(h.bind(null,void 0,{type:"timeout",target:o}),12e4);o.onerror=h.bind(null,o.onerror),o.onload=h.bind(null,o.onload),l&&document.head.appendChild(o)}}})(),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",(()=>{var e={792:0};n.f.j=(t,r)=>{var s=n.o(e,t)?e[t]:void 0;if(0!==s)if(s)r.push(s[2]);else{var a=new Promise((n,r)=>s=e[t]=[n,r]);r.push(s[2]=a);var i=n.p+n.u(t),o=new Error;n.l(i,r=>{if(n.o(e,t)&&(0!==(s=e[t])&&(e[t]=void 0),s)){var a=r&&("load"===r.type?"missing":r.type),i=r&&r.target&&r.target.src;o.message="Loading chunk "+t+" failed.\n("+a+": "+i+")",o.name="ChunkLoadError",o.type=a,o.request=i,s[1](o)}},"chunk-"+t,t)}};var t=(t,r)=>{var s,a,[i,o,l]=r,c=0;if(i.some(t=>0!==e[t])){for(s in o)n.o(o,s)&&(n.m[s]=o[s]);if(l)l(n)}for(t&&t(r);c<i.length;c++)a=i[c],n.o(e,a)&&e[a]&&e[a][0](),e[a]=0},r=self.webpackChunkfrontend=self.webpackChunkfrontend||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))})(),(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>ws,hasStandardBrowserEnv:()=>Ns,hasStandardBrowserWebWorkerEnv:()=>_s,navigator:()=>js,origin:()=>Cs});var t=n(5043),r=n(4391),s=n(7237);function a(e){e()}var i={notify(){},get:()=>[]};function o(e,t){let n,r=i,s=0,o=!1;function l(){u.onStateChange&&u.onStateChange()}function c(){s++,n||(n=t?t.addNestedSub(l):e.subscribe(l),r=function(){let e=null,t=null;return{clear(){e=null,t=null},notify(){a(()=>{let t=e;for(;t;)t.callback(),t=t.next})},get(){const t=[];let n=e;for(;n;)t.push(n),n=n.next;return t},subscribe(n){let r=!0;const s=t={callback:n,next:null,prev:t};return s.prev?s.prev.next=s:e=s,function(){r&&null!==e&&(r=!1,s.next?s.next.prev=s.prev:t=s.prev,s.prev?s.prev.next=s.next:e=s.next)}}}}())}function d(){s--,n&&0===s&&(n(),n=void 0,r.clear(),r=i)}const u={addNestedSub:function(e){c();const t=r.subscribe(e);let n=!1;return()=>{n||(n=!0,t(),d())}},notifyNestedSubs:function(){r.notify()},handleChangeWrapper:l,isSubscribed:function(){return o},trySubscribe:function(){o||(o=!0,c())},tryUnsubscribe:function(){o&&(o=!1,d())},getListeners:()=>r};return u}var l=(()=>!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement))(),c=(()=>"undefined"!==typeof navigator&&"ReactNative"===navigator.product)(),d=(()=>l||c?t.useLayoutEffect:t.useEffect)();Object.defineProperty,Object.getOwnPropertyNames,Object.getOwnPropertySymbols,Object.getOwnPropertyDescriptor,Object.getPrototypeOf,Object.prototype;var u=Symbol.for("react-redux-context"),h="undefined"!==typeof globalThis?globalThis:{};function A(){var e;if(!t.createContext)return{};const n=null!==(e=h[u])&&void 0!==e?e:h[u]=new Map;let r=n.get(t.createContext);return r||(r=t.createContext(null),n.set(t.createContext,r)),r}var f=A();var m=function(e){const{children:n,context:r,serverState:s,store:a}=e,i=t.useMemo(()=>{const e=o(a);return{store:a,subscription:e,getServerState:s?()=>s:void 0}},[a,s]),l=t.useMemo(()=>a.getState(),[a]);d(()=>{const{subscription:e}=i;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),l!==a.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}},[i,l]);const c=r||f;return t.createElement(c.Provider,{value:i},n)};function p(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return function(){return t.useContext(e)}}var g=p();var x=(e,t)=>e===t;function b(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;const n=e===f?g:p(e),r=function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:a=x}="function"===typeof r?{equalityFn:r}:r;const i=n(),{store:o,subscription:l,getServerState:c}=i,d=(t.useRef(!0),t.useCallback({[e.name]:t=>e(t)}[e.name],[e])),u=(0,s.useSyncExternalStoreWithSelector)(l.addNestedSub,o.getState,c||o.getState,d,a);return t.useDebugValue(u),u};return Object.assign(r,{withTypes:()=>r}),r}var y=b();function v(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}var w=n(4980);function j(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?j(Object(n),!0).forEach(function(t){(0,w.A)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):j(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e){return"Minified Redux error #".concat(e,"; visit https://redux.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}var C=(()=>"function"===typeof Symbol&&Symbol.observable||"@@observable")(),S=()=>Math.random().toString(36).substring(7).split("").join("."),k={INIT:"@@redux/INIT".concat(S()),REPLACE:"@@redux/REPLACE".concat(S()),PROBE_UNKNOWN_ACTION:()=>"@@redux/PROBE_UNKNOWN_ACTION".concat(S())};function B(e){if("object"!==typeof e||null===e)return!1;let t=e;for(;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||null===Object.getPrototypeOf(e)}function E(e,t,n){if("function"!==typeof e)throw new Error(_(2));if("function"===typeof t&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error(_(0));if("function"===typeof t&&"undefined"===typeof n&&(n=t,t=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error(_(1));return n(E)(e,t)}let r=e,s=t,a=new Map,i=a,o=0,l=!1;function c(){i===a&&(i=new Map,a.forEach((e,t)=>{i.set(t,e)}))}function d(){if(l)throw new Error(_(3));return s}function u(e){if("function"!==typeof e)throw new Error(_(4));if(l)throw new Error(_(5));let t=!0;c();const n=o++;return i.set(n,e),function(){if(t){if(l)throw new Error(_(6));t=!1,c(),i.delete(n),a=null}}}function h(e){if(!B(e))throw new Error(_(7));if("undefined"===typeof e.type)throw new Error(_(8));if("string"!==typeof e.type)throw new Error(_(17));if(l)throw new Error(_(9));try{l=!0,s=r(s,e)}finally{l=!1}return(a=i).forEach(e=>{e()}),e}h({type:k.INIT});return{dispatch:h,subscribe:u,getState:d,replaceReducer:function(e){if("function"!==typeof e)throw new Error(_(10));r=e,h({type:k.REPLACE})},[C]:function(){const e=u;return{subscribe(t){if("object"!==typeof t||null===t)throw new Error(_(11));function n(){const e=t;e.next&&e.next(d())}n();return{unsubscribe:e(n)}},[C](){return this}}}}}function L(e){const t=Object.keys(e),n={};for(let i=0;i<t.length;i++){const r=t[i];0,"function"===typeof e[r]&&(n[r]=e[r])}const r=Object.keys(n);let s;try{!function(e){Object.keys(e).forEach(t=>{const n=e[t];if("undefined"===typeof n(void 0,{type:k.INIT}))throw new Error(_(12));if("undefined"===typeof n(void 0,{type:k.PROBE_UNKNOWN_ACTION()}))throw new Error(_(13))})}(n)}catch(a){s=a}return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;if(s)throw s;let a=!1;const i={};for(let s=0;s<r.length;s++){const o=r[s],l=n[o],c=e[o],d=l(c,t);if("undefined"===typeof d){t&&t.type;throw new Error(_(14))}i[o]=d,a=a||d!==c}return a=a||r.length!==Object.keys(e).length,a?i:e}}function M(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return 0===t.length?e=>e:1===t.length?t[0]:t.reduce((e,t)=>function(){return e(t(...arguments))})}function F(e){return t=>{let{dispatch:n,getState:r}=t;return t=>s=>"function"===typeof s?s(n,r,e):t(s)}}var I=F(),D=F,T=Symbol.for("immer-nothing"),O=Symbol.for("immer-draftable"),P=Symbol.for("immer-state");function U(e){throw new Error("[Immer] minified error nr: ".concat(e,". Full error at: https://bit.ly/3cXEKWf"))}var R=Object.getPrototypeOf;function Q(e){return!!e&&!!e[P]}function z(e){var t;return!!e&&(K(e)||Array.isArray(e)||!!e[O]||!(null===(t=e.constructor)||void 0===t||!t[O])||Y(e)||J(e))}var H=Object.prototype.constructor.toString();function K(e){if(!e||"object"!==typeof e)return!1;const t=R(e);if(null===t)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object||"function"==typeof n&&Function.toString.call(n)===H}function W(e,t){0===V(e)?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function V(e){const t=e[P];return t?t.type_:Array.isArray(e)?1:Y(e)?2:J(e)?3:0}function q(e,t){return 2===V(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function G(e,t,n){const r=V(e);2===r?e.set(t,n):3===r?e.add(n):e[t]=n}function Y(e){return e instanceof Map}function J(e){return e instanceof Set}function X(e){return e.copy_||e.base_}function Z(e,t){if(Y(e))return new Map(e);if(J(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=K(e);if(!0===t||"class_only"===t&&!n){const t=Object.getOwnPropertyDescriptors(e);delete t[P];let n=Reflect.ownKeys(t);for(let r=0;r<n.length;r++){const s=n[r],a=t[s];!1===a.writable&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(t[s]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[s]})}return Object.create(R(e),t)}{const t=R(e);if(null!==t&&n)return N({},e);const r=Object.create(t);return Object.assign(r,e)}}function ee(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return ne(e)||Q(e)||!z(e)||(V(e)>1&&Object.defineProperties(e,{set:{value:te},add:{value:te},clear:{value:te},delete:{value:te}}),Object.freeze(e),t&&Object.values(e).forEach(e=>ee(e,!0))),e}function te(){U(2)}function ne(e){return Object.isFrozen(e)}var re,se={};function ae(e){const t=se[e];return t||U(0),t}function ie(){return re}function oe(e,t){t&&(ae("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function le(e){ce(e),e.drafts_.forEach(ue),e.drafts_=null}function ce(e){e===re&&(re=e.parent_)}function de(e){return re={drafts_:[],parent_:re,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function ue(e){const t=e[P];0===t.type_||1===t.type_?t.revoke_():t.revoked_=!0}function he(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return void 0!==e&&e!==n?(n[P].modified_&&(le(t),U(4)),z(e)&&(e=Ae(t,e),t.parent_||me(t,e)),t.patches_&&ae("Patches").generateReplacementPatches_(n[P].base_,e,t.patches_,t.inversePatches_)):e=Ae(t,n,[]),le(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==T?e:void 0}function Ae(e,t,n){if(ne(t))return t;const r=t[P];if(!r)return W(t,(s,a)=>fe(e,r,t,s,a,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return me(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const t=r.copy_;let s=t,a=!1;3===r.type_&&(s=new Set(t),t.clear(),a=!0),W(s,(s,i)=>fe(e,r,t,s,i,n,a)),me(e,t,!1),n&&e.patches_&&ae("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function fe(e,t,n,r,s,a,i){if(Q(s)){const i=Ae(e,s,a&&t&&3!==t.type_&&!q(t.assigned_,r)?a.concat(r):void 0);if(G(n,r,i),!Q(i))return;e.canAutoFreeze_=!1}else i&&n.add(s);if(z(s)&&!ne(s)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;Ae(e,s),t&&t.scope_.parent_||"symbol"===typeof r||!(Y(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))||me(e,s)}}function me(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ee(t,n)}var pe={get(e,t){if(t===P)return e;const n=X(e);if(!q(n,t))return function(e,t,n){var r;const s=be(t,n);return s?"value"in s?s.value:null===(r=s.get)||void 0===r?void 0:r.call(e.draft_):void 0}(e,n,t);const r=n[t];return e.finalized_||!z(r)?r:r===xe(e.base_,t)?(ve(e),e.copy_[t]=we(r,e)):r},has:(e,t)=>t in X(e),ownKeys:e=>Reflect.ownKeys(X(e)),set(e,t,n){const r=be(X(e),t);if(null!==r&&void 0!==r&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const r=xe(X(e),t),s=null===r||void 0===r?void 0:r[P];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(n,r)&&(void 0!==n||q(e.base_,t)))return!0;ve(e),ye(e)}return e.copy_[t]===n&&(void 0!==n||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty:(e,t)=>(void 0!==xe(e.base_,t)||t in e.base_?(e.assigned_[t]=!1,ve(e),ye(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0),getOwnPropertyDescriptor(e,t){const n=X(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r?{writable:!0,configurable:1!==e.type_||"length"!==t,enumerable:r.enumerable,value:n[t]}:r},defineProperty(){U(11)},getPrototypeOf:e=>R(e.base_),setPrototypeOf(){U(12)}},ge={};function xe(e,t){const n=e[P];return(n?X(n):e)[t]}function be(e,t){if(!(t in e))return;let n=R(e);for(;n;){const e=Object.getOwnPropertyDescriptor(n,t);if(e)return e;n=R(n)}}function ye(e){e.modified_||(e.modified_=!0,e.parent_&&ye(e.parent_))}function ve(e){e.copy_||(e.copy_=Z(e.base_,e.scope_.immer_.useStrictShallowCopy_))}W(pe,(e,t)=>{ge[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ge.deleteProperty=function(e,t){return ge.set.call(this,e,t,void 0)},ge.set=function(e,t,n){return pe.set.call(this,e[0],t,n,e[0])};function we(e,t){const n=Y(e)?ae("MapSet").proxyMap_(e,t):J(e)?ae("MapSet").proxySet_(e,t):function(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:ie(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let s=r,a=pe;n&&(s=[r],a=ge);const{revoke:i,proxy:o}=Proxy.revocable(s,a);return r.draft_=o,r.revoke_=i,o}(e,t);return(t?t.scope_:ie()).drafts_.push(n),n}function je(e){if(!z(e)||ne(e))return e;const t=e[P];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Z(e,t.scope_.immer_.useStrictShallowCopy_)}else n=Z(e,!0);return W(n,(e,t)=>{G(n,e,je(t))}),t&&(t.finalized_=!1),n}var Ne=new class{constructor(e){var t=this;this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,t,n)=>{if("function"===typeof e&&"function"!==typeof t){const n=t;t=e;const r=this;return function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n;for(var s=arguments.length,a=new Array(s>1?s-1:0),i=1;i<s;i++)a[i-1]=arguments[i];return r.produce(e,e=>t.call(this,e,...a))}}let r;if("function"!==typeof t&&U(6),void 0!==n&&"function"!==typeof n&&U(7),z(e)){const s=de(this),a=we(e,void 0);let i=!0;try{r=t(a),i=!1}finally{i?le(s):ce(s)}return oe(s,n),he(r,s)}if(!e||"object"!==typeof e){if(r=t(e),void 0===r&&(r=e),r===T&&(r=void 0),this.autoFreeze_&&ee(r,!0),n){const t=[],s=[];ae("Patches").generateReplacementPatches_(e,r,t,s),n(t,s)}return r}U(1)},this.produceWithPatches=(e,n)=>{if("function"===typeof e)return function(n){for(var r=arguments.length,s=new Array(r>1?r-1:0),a=1;a<r;a++)s[a-1]=arguments[a];return t.produceWithPatches(n,t=>e(t,...s))};let r,s;return[this.produce(e,n,(e,t)=>{r=e,s=t}),r,s]},"boolean"===typeof(null===e||void 0===e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),"boolean"===typeof(null===e||void 0===e?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){z(e)||U(8),Q(e)&&(e=function(e){Q(e)||U(10);return je(e)}(e));const t=de(this),n=we(e,void 0);return n[P].isManual_=!0,ce(t),n}finishDraft(e,t){const n=e&&e[P];n&&n.isManual_||U(9);const{scope_:r}=n;return oe(r,t),he(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}n>-1&&(t=t.slice(n+1));const r=ae("Patches").applyPatches_;return Q(e)?r(e,t):this.produce(e,e=>r(e,t))}},_e=Ne.produce;const Ce=["reducerPath"];var Se="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?M:M.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function ke(e,t){function n(){if(t){let n=t(...arguments);if(!n)throw new Error(Ye(0));return N(N({type:e,payload:n.payload},"meta"in n&&{meta:n.meta}),"error"in n&&{error:n.error})}return{type:e,payload:arguments.length<=0?void 0:arguments[0]}}return n.toString=()=>"".concat(e),n.type=e,n.match=t=>function(e){return B(e)&&"type"in e&&"string"===typeof e.type}(t)&&t.type===e,n}var Be=class e extends Array{constructor(){super(...arguments),Object.setPrototypeOf(this,e.prototype)}static get[Symbol.species](){return e}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return super.concat.apply(this,t)}prepend(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return 1===n.length&&Array.isArray(n[0])?new e(...n[0].concat(this)):new e(...n.concat(this))}};function Ee(e){return z(e)?_e(e,()=>{}):e}function Le(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}var Me="RTK_autoBatch",Fe=e=>t=>{setTimeout(t,e)},Ie=e=>function(t){const{autoBatch:n=!0}=null!==t&&void 0!==t?t:{};let r=new Be(e);return n&&r.push(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{type:"raf"};return t=>function(){const n=t(...arguments);let r=!0,s=!1,a=!1;const i=new Set,o="tick"===e.type?queueMicrotask:"raf"===e.type?"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Fe(10):"callback"===e.type?e.queueNotification:Fe(e.timeout),l=()=>{a=!1,s&&(s=!1,i.forEach(e=>e()))};return Object.assign({},n,{subscribe(e){const t=n.subscribe(()=>r&&e());return i.add(e),()=>{t(),i.delete(e)}},dispatch(e){try{var t;return r=!(null!==e&&void 0!==e&&null!==(t=e.meta)&&void 0!==t&&t[Me]),s=!r,s&&(a||(a=!0,o(l))),n.dispatch(e)}finally{r=!0}}})}}("object"===typeof n?n:void 0)),r};function De(e){const t={},n=[];let r;const s={addCase(e,n){const r="string"===typeof e?e:e.type;if(!r)throw new Error(Ye(28));if(r in t)throw new Error(Ye(29));return t[r]=n,s},addAsyncThunk:(e,r)=>(r.pending&&(t[e.pending.type]=r.pending),r.rejected&&(t[e.rejected.type]=r.rejected),r.fulfilled&&(t[e.fulfilled.type]=r.fulfilled),r.settled&&n.push({matcher:e.settled,reducer:r.settled}),s),addMatcher:(e,t)=>(n.push({matcher:e,reducer:t}),s),addDefaultCase:e=>(r=e,s)};return e(s),[t,n,r]}var Te=Symbol.for("rtk-slice-createasyncthunk");function Oe(e,t){return"".concat(e,"/").concat(t)}function Pe(){var e;let{creators:t}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=null===t||void 0===t||null===(e=t.asyncThunk)||void 0===e?void 0:e[Te];return function(e){const{name:t,reducerPath:r=t}=e;if(!t)throw new Error(Ye(11));const s=("function"===typeof e.reducers?e.reducers(function(){function e(e,t){return N({_reducerDefinitionType:"asyncThunk",payloadCreator:e},t)}return e.withTypes=()=>e,{reducer:e=>Object.assign({[e.name](){return e(...arguments)}}[e.name],{_reducerDefinitionType:"reducer"}),preparedReducer:(e,t)=>({_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:t}),asyncThunk:e}}()):e.reducers)||{},a=Object.keys(s),i={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},o={addCase(e,t){const n="string"===typeof e?e:e.type;if(!n)throw new Error(Ye(12));if(n in i.sliceCaseReducersByType)throw new Error(Ye(13));return i.sliceCaseReducersByType[n]=t,o},addMatcher:(e,t)=>(i.sliceMatchers.push({matcher:e,reducer:t}),o),exposeAction:(e,t)=>(i.actionCreators[e]=t,o),exposeCaseReducer:(e,t)=>(i.sliceCaseReducersByName[e]=t,o)};function l(){const[t={},n=[],r]="function"===typeof e.extraReducers?De(e.extraReducers):[e.extraReducers],s=N(N({},t),i.sliceCaseReducersByType);return function(e,t){let n,[r,s,a]=De(t);if("function"===typeof e)n=()=>Ee(e());else{const t=Ee(e);n=()=>t}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:n(),t=arguments.length>1?arguments[1]:void 0,i=[r[t.type],...s.filter(e=>{let{matcher:n}=e;return n(t)}).map(e=>{let{reducer:t}=e;return t})];return 0===i.filter(e=>!!e).length&&(i=[a]),i.reduce((e,n)=>{if(n){if(Q(e)){const r=n(e,t);return void 0===r?e:r}if(z(e))return _e(e,e=>n(e,t));{const r=n(e,t);if(void 0===r){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return r}}return e},e)}return i.getInitialState=n,i}(e.initialState,e=>{for(let t in s)e.addCase(t,s[t]);for(let t of i.sliceMatchers)e.addMatcher(t.matcher,t.reducer);for(let t of n)e.addMatcher(t.matcher,t.reducer);r&&e.addDefaultCase(r)})}a.forEach(r=>{const a=s[r],i={reducerName:r,type:Oe(t,r),createNotation:"function"===typeof e.reducers};!function(e){return"asyncThunk"===e._reducerDefinitionType}(a)?function(e,t,n){let r,s,{type:a,reducerName:i,createNotation:o}=e;if("reducer"in t){if(o&&!function(e){return"reducerWithPrepare"===e._reducerDefinitionType}(t))throw new Error(Ye(17));r=t.reducer,s=t.prepare}else r=t;n.addCase(a,r).exposeCaseReducer(i,r).exposeAction(i,s?ke(a,s):ke(a))}(i,a,o):function(e,t,n,r){let{type:s,reducerName:a}=e;if(!r)throw new Error(Ye(18));const{payloadCreator:i,fulfilled:o,pending:l,rejected:c,settled:d,options:u}=t,h=r(s,i,u);n.exposeAction(a,h),o&&n.addCase(h.fulfilled,o);l&&n.addCase(h.pending,l);c&&n.addCase(h.rejected,c);d&&n.addMatcher(h.settled,d);n.exposeCaseReducer(a,{fulfilled:o||Qe,pending:l||Qe,rejected:c||Qe,settled:d||Qe})}(i,a,o,n)});const c=e=>e,d=new Map,u=new WeakMap;let h;function A(e,t){return h||(h=l()),h(e,t)}function f(){return h||(h=l()),h.getInitialState()}function m(t){let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function r(e){let s=e[t];return"undefined"===typeof s&&n&&(s=Le(u,r,f)),s}function s(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;const r=Le(d,n,()=>new WeakMap);return Le(r,t,()=>{const r={};for(const[a,i]of Object.entries(null!==(s=e.selectors)&&void 0!==s?s:{})){var s;r[a]=Ue(i,t,()=>Le(u,t,f),n)}return r})}return{reducerPath:t,getSelectors:s,get selectors(){return s(r)},selectSlice:r}}const p=N(N({name:t,reducer:A,actions:i.actionCreators,caseReducers:i.sliceCaseReducersByName,getInitialState:f},m(r)),{},{injectInto(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{reducerPath:n}=t,s=v(t,Ce);const a=null!==n&&void 0!==n?n:r;return e.inject({reducerPath:a,reducer:A},s),N(N({},p),m(a,!0))}});return p}}function Ue(e,t,n,r){function s(s){let a=t(s);"undefined"===typeof a&&r&&(a=n());for(var i=arguments.length,o=new Array(i>1?i-1:0),l=1;l<i;l++)o[l-1]=arguments[l];return e(a,...o)}return s.unwrapped=e,s}var Re=Pe();function Qe(){}var ze="listener",He="completed",Ke="cancelled";"task-".concat(Ke),"task-".concat(He),"".concat(ze,"-").concat(Ke),"".concat(ze,"-").concat(He);var{assign:We}=Object,Ve="listenerMiddleware",qe=We(ke("".concat(Ve,"/add")),{withTypes:()=>qe}),Ge=("".concat(Ve,"/removeAll"),We(ke("".concat(Ve,"/remove")),{withTypes:()=>Ge}));Symbol.for("rtk-state-proxy-original");function Ye(e){return"Minified Redux Toolkit error #".concat(e,"; visit https://redux-toolkit.js.org/Errors?code=").concat(e," for the full message or use the non-minified dev environment for full errors. ")}const Je=Re({name:"branch",initialState:{selectedBranch:null},reducers:{setBranch:(e,t)=>{e.selectedBranch=t.payload}}}),{setBranch:Xe}=Je.actions,Ze=function(e){const t=function(e){const{thunk:t=!0,immutableCheck:n=!0,serializableCheck:r=!0,actionCreatorCheck:s=!0}=null!==e&&void 0!==e?e:{};let a=new Be;return t&&("boolean"===typeof t?a.push(I):a.push(D(t.extraArgument))),a},{reducer:n,middleware:r,devTools:s=!0,duplicateMiddlewareCheck:a=!0,preloadedState:i,enhancers:o}=e||{};let l,c;if("function"===typeof n)l=n;else{if(!B(n))throw new Error(Ye(1));l=L(n)}c="function"===typeof r?r(t):t();let d=M;s&&(d=Se(N({trace:!1},"object"===typeof s&&s)));const u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>(n,r)=>{const s=e(n,r);let a=()=>{throw new Error(_(15))};const i={getState:s.getState,dispatch:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a(e,...n)}},o=t.map(e=>e(i));return a=M(...o)(s.dispatch),N(N({},s),{},{dispatch:a})}}(...c),h=Ie(u);return E(l,i,d(..."function"===typeof o?o(h):h()))}({reducer:{branch:Je.reducer}}),$e=Ze,et=["sri"],tt=["page"],nt=["page","matches"],rt=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],st=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],at=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var it="popstate";function ot(){return ft(function(e,t){let{pathname:n,search:r,hash:s}=e.location;return ut("",{pathname:n,search:r,hash:s},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:ht(t)},null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function lt(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function ct(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function dt(e,t){return{usr:e.state,key:e.key,idx:t}}function ut(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return N(N({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?At(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function ht(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function At(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function ft(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:s=document.defaultView,v5Compat:a=!1}=r,i=s.history,o="POP",l=null,c=d();function d(){return(i.state||{idx:null}).idx}function u(){o="POP";let e=d(),t=null==e?null:e-c;c=e,l&&l({action:o,location:A.location,delta:t})}function h(e){return mt(e)}null==c&&(c=0,i.replaceState(N(N({},i.state),{},{idx:c}),""));let A={get action(){return o},get location(){return e(s,i)},listen(e){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(it,u),l=e,()=>{s.removeEventListener(it,u),l=null}},createHref:e=>t(s,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=ut(A.location,e,t);n&&n(r,e),c=d()+1;let u=dt(r,c),h=A.createHref(r);try{i.pushState(u,"",h)}catch(f){if(f instanceof DOMException&&"DataCloneError"===f.name)throw f;s.location.assign(h)}a&&l&&l({action:o,location:A.location,delta:1})},replace:function(e,t){o="REPLACE";let r=ut(A.location,e,t);n&&n(r,e),c=d();let s=dt(r,c),u=A.createHref(r);i.replaceState(s,"",u),a&&l&&l({action:o,location:A.location,delta:0})},go:e=>i.go(e)};return A}function mt(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n="http://localhost";"undefined"!==typeof window&&(n="null"!==window.location.origin?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let r="string"===typeof e?e:ht(e);return r=r.replace(/ $/,"%20"),!t&&r.startsWith("//")&&(r=n+r),new URL(r,n)}new WeakMap;function pt(e,t){return gt(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function gt(e,t,n,r){let s=Mt(("string"===typeof t?At(t):t).pathname||"/",n);if(null==s)return null;let a=xt(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(a);let i=null;for(let o=0;null==i&&o<a.length;++o){let e=Lt(s);i=kt(a[o],e,r)}return i}function xt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=function(e,a){let i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s,o=arguments.length>3?arguments[3]:void 0,l={relativePath:void 0===o?e.path||"":o,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};if(l.relativePath.startsWith("/")){if(!l.relativePath.startsWith(r)&&i)return;lt(l.relativePath.startsWith(r),'Absolute route path "'.concat(l.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),l.relativePath=l.relativePath.slice(r.length)}let c=Ot([r,l.relativePath]),d=n.concat(l);e.children&&e.children.length>0&&(lt(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(c,'".')),xt(e.children,t,d,c,i)),(null!=e.path||e.index)&&t.push({path:c,score:St(c,e.index),routesMeta:d})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of bt(e.path))a(e,t,!0,r);else a(e,t)}),t}function bt(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(0===r.length)return s?[a,""]:[a];let i=bt(r.join("/")),o=[];return o.push(...i.map(e=>""===e?a:[a,e].join("/"))),s&&o.push(...i),o.map(t=>e.startsWith("/")&&""===t?"/":t)}var yt=/^:[\w-]+$/,vt=3,wt=2,jt=1,Nt=10,_t=-2,Ct=e=>"*"===e;function St(e,t){let n=e.split("/"),r=n.length;return n.some(Ct)&&(r+=_t),t&&(r+=wt),n.filter(e=>!Ct(e)).reduce((e,t)=>e+(yt.test(t)?vt:""===t?jt:Nt),r)}function kt(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,s={},a="/",i=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===a?t:t.slice(a.length)||"/",d=Bt({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),u=e.route;if(!d&&l&&n&&!r[r.length-1].route.index&&(d=Bt({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!d)return null;Object.assign(s,d.params),i.push({params:s,pathname:Ot([a,d.pathname]),pathnameBase:Pt(Ot([a,d.pathnameBase])),route:u}),"/"!==d.pathnameBase&&(a=Ot([a,d.pathnameBase]))}return i}function Bt(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Et(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],i=a.replace(/(.)\/+$/,"$1"),o=s.slice(1),l=r.reduce((e,t,n)=>{let{paramName:r,isOptional:s}=t;if("*"===r){let e=o[n]||"";i=a.slice(0,a.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=s&&!l?void 0:(l||"").replace(/%2F/g,"/"),e},{});return{params:l,pathname:a,pathnameBase:i,pattern:e}}function Et(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];ct("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return e.endsWith("*")?(r.push({paramName:"*"}),s+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":""!==e&&"/"!==e&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function Lt(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return ct(!1,'The URL path "'.concat(e,'" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function Mt(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function Ft(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function It(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function Dt(e){let t=It(e);return t.map((e,n)=>n===t.length-1?e.pathname:e.pathnameBase)}function Tt(e,t,n){let r,s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=At(e):(r=N({},e),lt(!r.pathname||!r.pathname.includes("?"),Ft("?","pathname","search",r)),lt(!r.pathname||!r.pathname.includes("#"),Ft("#","pathname","hash",r)),lt(!r.search||!r.search.includes("#"),Ft("#","search","hash",r)));let a,i=""===e||""===r.pathname,o=i?"/":r.pathname;if(null==o)a=n;else{let e=t.length-1;if(!s&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}a=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:s=""}="string"===typeof e?At(e):e,a=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:a,search:Ut(r),hash:Rt(s)}}(r,a),c=o&&"/"!==o&&o.endsWith("/"),d=(i||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!d||(l.pathname+="/"),l}var Ot=e=>e.join("/").replace(/\/\/+/g,"/"),Pt=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Ut=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",Rt=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function Qt(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var zt=["POST","PUT","PATCH","DELETE"],Ht=(new Set(zt),["GET",...zt]);new Set(Ht),Symbol("ResetLoaderData");var Kt=t.createContext(null);Kt.displayName="DataRouter";var Wt=t.createContext(null);Wt.displayName="DataRouterState";var Vt=t.createContext(!1);var qt=t.createContext({isTransitioning:!1});qt.displayName="ViewTransition";var Gt=t.createContext(new Map);Gt.displayName="Fetchers";var Yt=t.createContext(null);Yt.displayName="Await";var Jt=t.createContext(null);Jt.displayName="Navigation";var Xt=t.createContext(null);Xt.displayName="Location";var Zt=t.createContext({outlet:null,matches:[],isDataRoute:!1});Zt.displayName="Route";var $t=t.createContext(null);$t.displayName="RouteError";function en(){return null!=t.useContext(Xt)}function tn(){return lt(en(),"useLocation() may be used only in the context of a <Router> component."),t.useContext(Xt).location}var nn="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function rn(e){t.useContext(Jt).static||t.useLayoutEffect(e)}function sn(){let{isDataRoute:e}=t.useContext(Zt);return e?function(){let{router:e}=mn("useNavigate"),n=gn("useNavigate"),r=t.useRef(!1);rn(()=>{r.current=!0});let s=t.useCallback(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};ct(r.current,nn),r.current&&("number"===typeof t?e.navigate(t):await e.navigate(t,N({fromRouteId:n},s)))},[e,n]);return s}():function(){lt(en(),"useNavigate() may be used only in the context of a <Router> component.");let e=t.useContext(Kt),{basename:n,navigator:r}=t.useContext(Jt),{matches:s}=t.useContext(Zt),{pathname:a}=tn(),i=JSON.stringify(Dt(s)),o=t.useRef(!1);rn(()=>{o.current=!0});let l=t.useCallback(function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(ct(o.current,nn),!o.current)return;if("number"===typeof t)return void r.go(t);let l=Tt(t,JSON.parse(i),a,"path"===s.relative);null==e&&"/"!==n&&(l.pathname="/"===l.pathname?n:Ot([n,l.pathname])),(s.replace?r.replace:r.push)(l,s.state,s)},[n,r,i,a,e]);return l}()}t.createContext(null);function an(){let{matches:e}=t.useContext(Zt),n=e[e.length-1];return n?n.params:{}}function on(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:r}=t.useContext(Zt),{pathname:s}=tn(),a=JSON.stringify(Dt(r));return t.useMemo(()=>Tt(e,JSON.parse(a),s,"path"===n),[e,a,s,n])}function ln(e,n,r,s,a){lt(en(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=t.useContext(Jt),{matches:o}=t.useContext(Zt),l=o[o.length-1],c=l?l.params:{},d=l?l.pathname:"/",u=l?l.pathnameBase:"/",h=l&&l.route;{let e=h&&h.path||"";yn(d,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(d,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let A,f=tn();if(n){var m;let e="string"===typeof n?At(n):n;lt("/"===u||(null===(m=e.pathname)||void 0===m?void 0:m.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),A=e}else A=f;let p=A.pathname||"/",g=p;if("/"!==u){let e=u.replace(/^\//,"").split("/");g="/"+p.replace(/^\//,"").split("/").slice(e.length).join("/")}let x=pt(e,{pathname:g});ct(h||null!=x,'No routes matched location "'.concat(A.pathname).concat(A.search).concat(A.hash,'" ')),ct(null==x||void 0!==x[x.length-1].route.element||void 0!==x[x.length-1].route.Component||void 0!==x[x.length-1].route.lazy,'Matched leaf route at location "'.concat(A.pathname).concat(A.search).concat(A.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=An(x&&x.map(e=>Object.assign({},e,{params:Object.assign({},c,e.params),pathname:Ot([u,i.encodeLocation?i.encodeLocation(e.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:Ot([u,i.encodeLocation?i.encodeLocation(e.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:e.pathnameBase])})),o,r,s,a);return n&&b?t.createElement(Xt.Provider,{value:{location:N({pathname:"/",search:"",hash:"",state:null,key:"default"},A),navigationType:"POP"}},b):b}function cn(){let e=xn(),n=Qt(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},i={padding:"2px 4px",backgroundColor:s},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=t.createElement(t.Fragment,null,t.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),t.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",t.createElement("code",{style:i},"ErrorBoundary")," or"," ",t.createElement("code",{style:i},"errorElement")," prop on your route.")),t.createElement(t.Fragment,null,t.createElement("h2",null,"Unexpected Application Error!"),t.createElement("h3",{style:{fontStyle:"italic"}},n),r?t.createElement("pre",{style:a},r):null,o)}var dn=t.createElement(cn,null),un=class extends t.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){this.props.unstable_onError?this.props.unstable_onError(e,t):console.error("React Router caught the following error during render",e)}render(){return void 0!==this.state.error?t.createElement(Zt.Provider,{value:this.props.routeContext},t.createElement($t.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function hn(e){let{routeContext:n,match:r,children:s}=e,a=t.useContext(Kt);return a&&a.static&&a.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(a.staticContext._deepestRenderedBoundaryId=r.route.id),t.createElement(Zt.Provider,{value:n},s)}function An(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==e){if(!r)return null;if(r.errors)e=r.matches;else{if(0!==n.length||r.initialized||!(r.matches.length>0))return null;e=r.matches}}let a=e,i=null===r||void 0===r?void 0:r.errors;if(null!=i){let e=a.findIndex(e=>e.route.id&&void 0!==(null===i||void 0===i?void 0:i[e.route.id]));lt(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(i).join(","))),a=a.slice(0,Math.min(a.length,e+1))}let o=!1,l=-1;if(r)for(let t=0;t<a.length;t++){let e=a[t];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(l=t),e.route.id){let{loaderData:t,errors:n}=r,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!n||void 0===n[e.route.id]);if(e.route.lazy||s){o=!0,a=l>=0?a.slice(0,l+1):[a[0]];break}}}return a.reduceRight((e,c,d)=>{let u,h=!1,A=null,f=null;r&&(u=i&&c.route.id?i[c.route.id]:void 0,A=c.route.errorElement||dn,o&&(l<0&&0===d?(yn("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,f=null):l===d&&(h=!0,f=c.route.hydrateFallbackElement||null)));let m=n.concat(a.slice(0,d+1)),p=()=>{let n;return n=u?A:h?f:c.route.Component?t.createElement(c.route.Component,null):c.route.element?c.route.element:e,t.createElement(hn,{match:c,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:n})};return r&&(c.route.ErrorBoundary||c.route.errorElement||0===d)?t.createElement(un,{location:r.location,revalidation:r.revalidation,component:A,error:u,children:p(),routeContext:{outlet:null,matches:m,isDataRoute:!0},unstable_onError:s}):p()},null)}function fn(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function mn(e){let n=t.useContext(Kt);return lt(n,fn(e)),n}function pn(e){let n=t.useContext(Wt);return lt(n,fn(e)),n}function gn(e){let n=function(e){let n=t.useContext(Zt);return lt(n,fn(e)),n}(e),r=n.matches[n.matches.length-1];return lt(r.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),r.route.id}function xn(){var e;let n=t.useContext($t),r=pn("useRouteError"),s=gn("useRouteError");return void 0!==n?n:null===(e=r.errors)||void 0===e?void 0:e[s]}var bn={};function yn(e,t,n){t||bn[e]||(bn[e]=!0,ct(!1,n))}var vn={};function wn(e,t){e||vn[t]||(vn[t]=!0,console.warn(t))}t.memo(function(e){let{routes:t,future:n,state:r,unstable_onError:s}=e;return ln(t,void 0,r,s,n)});function jn(e){let{to:n,replace:r,state:s,relative:a}=e;lt(en(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=t.useContext(Jt);ct(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=t.useContext(Zt),{pathname:l}=tn(),c=sn(),d=Tt(n,Dt(o),l,"path"===a),u=JSON.stringify(d);return t.useEffect(()=>{c(JSON.parse(u),{replace:r,state:s,relative:a})},[c,u,a,r,s]),null}function Nn(e){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _n(e){let{basename:n="/",children:r=null,location:s,navigationType:a="POP",navigator:i,static:o=!1}=e;lt(!en(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=t.useMemo(()=>({basename:l,navigator:i,static:o,future:{}}),[l,i,o]);"string"===typeof s&&(s=At(s));let{pathname:d="/",search:u="",hash:h="",state:A=null,key:f="default"}=s,m=t.useMemo(()=>{let e=Mt(d,l);return null==e?null:{location:{pathname:e,search:u,hash:h,state:A,key:f},navigationType:a}},[l,d,u,h,A,f,a]);return ct(null!=m,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(d).concat(u).concat(h,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==m?null:t.createElement(Jt.Provider,{value:c},t.createElement(Xt.Provider,{children:r,value:m}))}function Cn(e){let{children:t,location:n}=e;return ln(Sn(t),n)}t.Component;function Sn(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=[];return t.Children.forEach(e,(e,s)=>{if(!t.isValidElement(e))return;let a=[...n,s];if(e.type===t.Fragment)return void r.push.apply(r,Sn(e.props.children,a));lt(e.type===Nn,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),lt(!e.props.index||!e.props.children,"An index route cannot have child routes.");let i={id:e.props.id||a.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,middleware:e.props.middleware,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=Sn(e.props.children,a)),r.push(i)}),r}var kn="get",Bn="application/x-www-form-urlencoded";function En(e){return null!=e&&"string"===typeof e.tagName}var Ln=null;var Mn=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Fn(e){return null==e||Mn.has(e)?e:(ct(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(Bn,'"')),null)}function In(e,t){let n,r,s,a,i;if(En(o=e)&&"form"===o.tagName.toLowerCase()){let i=e.getAttribute("action");r=i?Mt(i,t):null,n=e.getAttribute("method")||kn,s=Fn(e.getAttribute("enctype"))||Bn,a=new FormData(e)}else if(function(e){return En(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return En(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let i=e.form;if(null==i)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||i.getAttribute("action");if(r=o?Mt(o,t):null,n=e.getAttribute("formmethod")||i.getAttribute("method")||kn,s=Fn(e.getAttribute("formenctype"))||Fn(i.getAttribute("enctype"))||Bn,a=new FormData(i,e),!function(){if(null===Ln)try{new FormData(document.createElement("form"),0),Ln=!1}catch(e){Ln=!0}return Ln}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";a.append("".concat(e,"x"),"0"),a.append("".concat(e,"y"),"0")}else t&&a.append(t,r)}}else{if(En(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=kn,r=null,s=Bn,i=e}var o;return a&&"text/plain"===s&&(i=a,a=void 0),{action:r,method:n.toLowerCase(),encType:s,formData:a,body:i}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");"undefined"!==typeof window?window:"undefined"!==typeof globalThis&&globalThis;function Dn(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}Symbol("SingleFetchRedirect");function Tn(e,t,n){let r="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===r.pathname?r.pathname="_root.".concat(n):t&&"/"===Mt(r.pathname,t)?r.pathname="".concat(t.replace(/\/$/,""),"/_root.").concat(n):r.pathname="".concat(r.pathname.replace(/\/$/,""),".").concat(n),r}async function On(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Pn(e){return null!=e&&"string"===typeof e.page}function Un(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function Rn(e,t,n,r,s,a){let i=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===a?t.filter((e,t)=>i(e,t)||o(e,t)):"data"===a?t.filter((t,a)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(i(t,a)||o(t,a))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0}):[]}function Qn(e,t){let{includeHydrateFallback:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=e.map(e=>{let r=t.routes[e.route.id];if(!r)return[];let s=[r.module];return r.clientActionModule&&(s=s.concat(r.clientActionModule)),r.clientLoaderModule&&(s=s.concat(r.clientLoaderModule)),n&&r.hydrateFallbackModule&&(s=s.concat(r.hydrateFallbackModule)),r.imports&&(s=s.concat(r.imports)),s}).flat(1),[...new Set(r)];var r}function zn(e,t){let n=new Set,r=new Set(t);return e.reduce((e,s)=>{if(t&&!Pn(s)&&"script"===s.as&&s.href&&r.has(s.href))return e;let a=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(s));return n.has(a)||(n.add(a),e.push({key:a,link:s})),e},[])}function Hn(e,t){return"lazy"===e.mode&&!0===t}function Kn(){let e=t.useContext(Kt);return Dn(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function Wn(){let e=t.useContext(Wt);return Dn(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var Vn=t.createContext(void 0);function qn(){let e=t.useContext(Vn);return Dn(e,"You must render this element inside a <HydratedRouter> element"),e}function Gn(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function Yn(e,t,n){if(n&&!$n)return[e[0]];if(t){let n=e.findIndex(e=>void 0!==t[e.route.id]);return e.slice(0,n+1)}return e}Vn.displayName="FrameworkContext";function Jn(e){let{page:n}=e,r=v(e,tt),{router:s}=Kn(),a=t.useMemo(()=>pt(s.routes,n,s.basename),[s.routes,n,s.basename]);return a?t.createElement(Zn,N({page:n,matches:a},r)):null}function Xn(e){let{manifest:n,routeModules:r}=qn(),[s,a]=t.useState([]);return t.useEffect(()=>{let t=!1;return async function(e,t,n){let r=await Promise.all(e.map(async e=>{let r=t.routes[e.route.id];if(r){let e=await On(r,n);return e.links?e.links():[]}return[]}));return zn(r.flat(1).filter(Un).filter(e=>"stylesheet"===e.rel||"preload"===e.rel).map(e=>"stylesheet"===e.rel?N(N({},e),{},{rel:"prefetch",as:"style"}):N(N({},e),{},{rel:"prefetch"})))}(e,n,r).then(e=>{t||a(e)}),()=>{t=!0}},[e,n,r]),s}function Zn(e){let{page:n,matches:r}=e,s=v(e,nt),a=tn(),{manifest:i,routeModules:o}=qn(),{basename:l}=Kn(),{loaderData:c,matches:d}=Wn(),u=t.useMemo(()=>Rn(n,r,d,i,a,"data"),[n,r,d,i,a]),h=t.useMemo(()=>Rn(n,r,d,i,a,"assets"),[n,r,d,i,a]),A=t.useMemo(()=>{if(n===a.pathname+a.search+a.hash)return[];let e=new Set,t=!1;if(r.forEach(n=>{var r;let s=i.routes[n.route.id];s&&s.hasLoader&&(!u.some(e=>e.route.id===n.route.id)&&n.route.id in c&&null!==(r=o[n.route.id])&&void 0!==r&&r.shouldRevalidate||s.hasClientLoader?t=!0:e.add(n.route.id))}),0===e.size)return[];let s=Tn(n,l,"data");return t&&e.size>0&&s.searchParams.set("_routes",r.filter(t=>e.has(t.route.id)).map(e=>e.route.id).join(",")),[s.pathname+s.search]},[l,c,a,i,u,r,n,o]),f=t.useMemo(()=>Qn(h,i),[h,i]),m=Xn(h);return t.createElement(t.Fragment,null,A.map(e=>t.createElement("link",N({key:e,rel:"prefetch",as:"fetch",href:e},s))),f.map(e=>t.createElement("link",N({key:e,rel:"modulepreload",href:e},s))),m.map(e=>{let{key:n,link:r}=e;return t.createElement("link",N({key:n,nonce:s.nonce},r))}))}var $n=!1;function er(e){let{manifest:n,serverHandoffString:r,isSpaMode:s,renderMeta:a,routeDiscovery:i,ssr:o}=qn(),{router:l,static:c,staticContext:d}=Kn(),{matches:u}=Wn(),h=t.useContext(Vt),A=Hn(i,o);a&&(a.didRenderScripts=!0);let f=Yn(u,null,s);t.useEffect(()=>{0},[]);let m=t.useMemo(()=>{var s;if(h)return null;let a=d?"window.__reactRouterContext = ".concat(r,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",i=c?"".concat(null!==n.hmr&&void 0!==s&&s.runtime?"import ".concat(JSON.stringify(n.hmr.runtime),";"):"").concat(A?"":"import ".concat(JSON.stringify(n.url)),";\n").concat(f.map((e,t)=>{let r="route".concat(t),s=n.routes[e.route.id];Dn(s,"Route ".concat(e.route.id," not found in manifest"));let{clientActionModule:a,clientLoaderModule:i,clientMiddlewareModule:o,hydrateFallbackModule:l,module:c}=s,d=[...a?[{module:a,varName:"".concat(r,"_clientAction")}]:[],...i?[{module:i,varName:"".concat(r,"_clientLoader")}]:[],...o?[{module:o,varName:"".concat(r,"_clientMiddleware")}]:[],...l?[{module:l,varName:"".concat(r,"_HydrateFallback")}]:[],{module:c,varName:"".concat(r,"_main")}];return 1===d.length?"import * as ".concat(r," from ").concat(JSON.stringify(c),";"):[d.map(e=>"import * as ".concat(e.varName,' from "').concat(e.module,'";')).join("\n"),"const ".concat(r," = {").concat(d.map(e=>"...".concat(e.varName)).join(","),"};")].join("\n")}).join("\n"),"\n  ").concat(A?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let{sri:n}=e,r=v(e,et),s=new Set(t.state.matches.map(e=>e.route.id)),a=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(a.pop();a.length>0;)i.push("/".concat(a.join("/"))),a.pop();i.forEach(e=>{let n=pt(t.routes,e,t.basename);n&&n.forEach(e=>s.add(e.route.id))});let o=[...s].reduce((e,t)=>Object.assign(e,{[t]:r.routes[t]}),{});return N(N({},r),{},{routes:o,sri:!!n||void 0})}(n,l),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(f.map((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t)).join(","),"};\n\nimport(").concat(JSON.stringify(n.entry.module),");"):" ";return t.createElement(t.Fragment,null,t.createElement("script",N(N({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:a},type:void 0})),t.createElement("script",N(N({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:i},type:"module",async:!0})))},[]),p=$n||h?[]:(n.entry.imports.concat(Qn(f,n,{includeHydrateFallback:!0})),[...new Set(g)]);var g;let x="object"===typeof n.sri?n.sri:{};return wn(!h,"The <Scripts /> element is a no-op when using RSC and can be safely removed."),$n||h?null:t.createElement(t.Fragment,null,"object"===typeof n.sri?t.createElement("script",{"rr-importmap":"",type:"importmap",suppressHydrationWarning:!0,dangerouslySetInnerHTML:{__html:JSON.stringify({integrity:x})}}):null,A?null:t.createElement("link",{rel:"modulepreload",href:n.url,crossOrigin:e.crossOrigin,integrity:x[n.url],suppressHydrationWarning:!0}),t.createElement("link",{rel:"modulepreload",href:n.entry.module,crossOrigin:e.crossOrigin,integrity:x[n.entry.module],suppressHydrationWarning:!0}),p.map(n=>t.createElement("link",{key:n,rel:"modulepreload",href:n,crossOrigin:e.crossOrigin,integrity:x[n],suppressHydrationWarning:!0})),m)}function tr(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach(t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)})}}t.Component;function nr(e){let{error:n,isOutsideRemixApp:r}=e;console.error(n);let s,a=t.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://reactrouter.com/how-to/error-boundary for more information."\n        );\n      '}});if(Qt(n))return t.createElement(rr,{title:"Unhandled Thrown Response!"},t.createElement("h1",{style:{fontSize:"24px"}},n.status," ",n.statusText),a);if(n instanceof Error)0;else{let e=null==n?"Unknown Error":"object"===typeof n&&"toString"in n?n.toString():JSON.stringify(n);new Error(e)}return t.createElement(rr,{title:"Application Error!",isOutsideRemixApp:r},t.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),t.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},s.stack),a)}function rr(e){var n;let{title:r,renderScripts:s,isOutsideRemixApp:a,children:i}=e,{routeModules:o}=qn();return null!==o.root&&void 0!==n&&n.Layout&&!a?i:t.createElement("html",{lang:"en"},t.createElement("head",null,t.createElement("meta",{charSet:"utf-8"}),t.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),t.createElement("title",null,r)),t.createElement("body",null,t.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},i,s?t.createElement(er,null):null)))}var sr="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{sr&&(window.__reactRouterVersion="7.9.4")}catch(AB){}function ar(e){let{basename:n,children:r,window:s}=e,a=t.useRef();null==a.current&&(a.current=ot({window:s,v5Compat:!0}));let i=a.current,[o,l]=t.useState({action:i.action,location:i.location}),c=t.useCallback(e=>{t.startTransition(()=>l(e))},[l]);return t.useLayoutEffect(()=>i.listen(c),[i,c]),t.createElement(_n,{basename:n,children:r,location:o.location,navigationType:o.action,navigator:i})}var ir=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,or=t.forwardRef(function(e,n){let r,{onClick:s,discover:a="render",prefetch:i="none",relative:o,reloadDocument:l,replace:c,state:d,target:u,to:h,preventScrollReset:A,viewTransition:f}=e,m=v(e,rt),{basename:p}=t.useContext(Jt),g="string"===typeof h&&ir.test(h),x=!1;if("string"===typeof h&&g&&(r=h,sr))try{let e=new URL(window.location.href),t=h.startsWith("//")?new URL(e.protocol+h):new URL(h),n=Mt(t.pathname,p);t.origin===e.origin&&null!=n?h=n+t.search+t.hash:x=!0}catch(AB){ct(!1,'<Link to="'.concat(h,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let b=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};lt(en(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:s}=t.useContext(Jt),{hash:a,pathname:i,search:o}=on(e,{relative:n}),l=i;return"/"!==r&&(l="/"===i?r:Ot([r,i])),s.createHref({pathname:l,search:o,hash:a})}(h,{relative:o}),[y,w,j]=function(e,n){let r=t.useContext(Vn),[s,a]=t.useState(!1),[i,o]=t.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:d,onMouseLeave:u,onTouchStart:h}=n,A=t.useRef(null);t.useEffect(()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver(e=>{e.forEach(e=>{o(e.isIntersecting)})},{threshold:.5});return A.current&&e.observe(A.current),()=>{e.disconnect()}}},[e]),t.useEffect(()=>{if(s){let e=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(e)}}},[s]);let f=()=>{a(!0)},m=()=>{a(!1),o(!1)};return r?"intent"!==e?[i,A,{}]:[i,A,{onFocus:Gn(l,f),onBlur:Gn(c,m),onMouseEnter:Gn(d,f),onMouseLeave:Gn(u,m),onTouchStart:Gn(h,f)}]:[!1,A,{}]}(i,m),_=function(e){let{target:n,replace:r,state:s,preventScrollReset:a,relative:i,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=sn(),c=tn(),d=on(e,{relative:i});return t.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==r?r:ht(c)===ht(d);l(e,{replace:n,state:s,preventScrollReset:a,relative:i,viewTransition:o})}},[c,l,d,r,s,n,e,a,i,o])}(h,{replace:c,state:d,target:u,preventScrollReset:A,relative:o,viewTransition:f});let C=t.createElement("a",N(N(N({},m),j),{},{href:r||b,onClick:x||l?s:function(e){s&&s(e),e.defaultPrevented||_(e)},ref:tr(n,w),target:u,"data-discover":g||"render"!==a?void 0:"true"}));return y&&!g?t.createElement(t.Fragment,null,C,t.createElement(Jn,{page:b})):C});or.displayName="Link";var lr=t.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:i=!1,style:o,to:l,viewTransition:c,children:d}=e,u=v(e,st),h=on(l,{relative:u.relative}),A=tn(),f=t.useContext(Wt),{navigator:m,basename:p}=t.useContext(Jt),g=null!=f&&function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.useContext(qt);lt(null!=r,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=ur("useViewTransitionState"),a=on(e,{relative:n});if(!r.isTransitioning)return!1;let i=Mt(r.currentLocation.pathname,s)||r.currentLocation.pathname,o=Mt(r.nextLocation.pathname,s)||r.nextLocation.pathname;return null!=Bt(a.pathname,o)||null!=Bt(a.pathname,i)}(h)&&!0===c,x=m.encodeLocation?m.encodeLocation(h).pathname:h.pathname,b=A.pathname,y=f&&f.navigation&&f.navigation.location?f.navigation.location.pathname:null;s||(b=b.toLowerCase(),y=y?y.toLowerCase():null,x=x.toLowerCase()),y&&p&&(y=Mt(y,p)||y);const w="/"!==x&&x.endsWith("/")?x.length-1:x.length;let j,_=b===x||!i&&b.startsWith(x)&&"/"===b.charAt(w),C=null!=y&&(y===x||!i&&y.startsWith(x)&&"/"===y.charAt(x.length)),S={isActive:_,isPending:C,isTransitioning:g},k=_?r:void 0;j="function"===typeof a?a(S):[a,_?"active":null,C?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let B="function"===typeof o?o(S):o;return t.createElement(or,N(N({},u),{},{"aria-current":k,className:j,ref:n,style:B,to:l,viewTransition:c}),"function"===typeof d?d(S):d)});lr.displayName="NavLink";var cr=t.forwardRef((e,n)=>{let{discover:r="render",fetcherKey:s,navigate:a,reloadDocument:i,replace:o,state:l,method:c=kn,action:d,onSubmit:u,relative:h,preventScrollReset:A,viewTransition:f}=e,m=v(e,at),p=fr(),g=function(e){let{relative:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:r}=t.useContext(Jt),s=t.useContext(Zt);lt(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),i=N({},on(e||".",{relative:n})),o=tn();if(null==e){i.search=o.search;let e=new URLSearchParams(i.search),t=e.getAll("index");if(t.some(e=>""===e)){e.delete("index"),t.filter(e=>e).forEach(t=>e.append("index",t));let n=e.toString();i.search=n?"?".concat(n):""}}e&&"."!==e||!a.route.index||(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index");"/"!==r&&(i.pathname="/"===i.pathname?r:Ot([r,i.pathname]));return ht(i)}(d,{relative:h}),x="get"===c.toLowerCase()?"get":"post",b="string"===typeof d&&ir.test(d);return t.createElement("form",N(N({ref:n,method:x,action:g,onSubmit:i?u:e=>{if(u&&u(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||c;p(t||e.currentTarget,{fetcherKey:s,method:n,navigate:a,replace:o,state:l,relative:h,preventScrollReset:A,viewTransition:f})}},m),{},{"data-discover":b||"render"!==r?void 0:"true"}))});function dr(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function ur(e){let n=t.useContext(Kt);return lt(n,dr(e)),n}cr.displayName="Form";var hr=0,Ar=()=>"__".concat(String(++hr),"__");function fr(){let{router:e}=ur("useSubmit"),{basename:n}=t.useContext(Jt),r=gn("useRouteId");return t.useCallback(async function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:a,method:i,encType:o,formData:l,body:c}=In(t,n);if(!1===s.navigate){let t=s.fetcherKey||Ar();await e.fetch(t,r,s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||i,formEncType:s.encType||o,flushSync:s.flushSync})}else await e.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:l,body:c,formMethod:s.method||i,formEncType:s.encType||o,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[e,n,r])}var mr=n(579);const pr=()=>((0,t.useEffect)(()=>{const e=setInterval(function(){var e;const t=document.createElement("div");t.className="particle";const n=4*Math.random()+2;t.style.width=n+"px",t.style.height=n+"px",t.style.left=100*Math.random()+"%",t.style.animationDuration=3*Math.random()+5+"s",t.style.animationDelay=2*Math.random()+"s",null===(e=document.getElementById("particles"))||void 0===e||e.appendChild(t),setTimeout(()=>{t.remove()},8e3)},300);return()=>clearInterval(e)},[]),(0,mr.jsxs)("div",{className:"overflow-x-hidden font-['Inter']",children:[(0,mr.jsx)("div",{id:"particles",className:"fixed inset-0 pointer-events-none z-0"}),(0,mr.jsxs)("section",{className:"gradient-bg min-h-screen flex items-center justify-center relative overflow-hidden",children:[(0,mr.jsx)("div",{className:"absolute top-20 left-10 w-32 h-32 bg-white opacity-10 rounded-full floating-animation"}),(0,mr.jsx)("div",{className:"absolute bottom-20 right-10 w-24 h-24 bg-white opacity-10 rounded-full floating-animation",style:{animationDelay:"-3s"}}),(0,mr.jsx)("div",{className:"absolute top-1/2 left-5 w-16 h-16 bg-white opacity-10 rounded-full floating-animation",style:{animationDelay:"-1.5s"}}),(0,mr.jsx)("div",{className:"container mx-auto px-6 text-center relative z-10",children:(0,mr.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,mr.jsxs)("div",{className:"fade-in inline-flex items-center px-4 py-2 rounded-full glass-effect text-white text-sm font-medium mb-8",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,mr.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-9.293a1 1 0 00-1.414-1.414L9 10.586 7.707 9.293a1 1 0 00-1.414 1.414l2 2a1 1 0 001.414 0l4-4z",clipRule:"evenodd"})}),"Trusted by 500+ Educational Institutions"]}),(0,mr.jsxs)("h1",{className:"fade-in fade-in-delay-1 text-6xl md:text-7xl font-bold text-white mb-6 leading-tight",children:["The Complete"," ",(0,mr.jsx)("span",{className:"bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent",children:"CRM Solution"}),(0,mr.jsx)("br",{})," for Multi-Institute Management"]}),(0,mr.jsx)("p",{className:"fade-in fade-in-delay-2 text-xl md:text-2xl text-gray-200 mb-12 max-w-3xl mx-auto leading-relaxed",children:"From admissions to analytics \u2014 streamline your entire education business with our powerful, intuitive CRM platform designed for modern institutions."}),(0,mr.jsx)("div",{className:"fade-in fade-in-delay-3 flex flex-col sm:flex-row justify-center gap-6 mb-16",children:(0,mr.jsx)("a",{href:"/sinfode-admin/login",className:"btn-hover group px-8 py-4 bg-gradient-to-r from-yellow-400 to-orange-500 text-white rounded-xl font-semibold text-lg shadow-lg",children:(0,mr.jsxs)("div",{className:"flex items-center justify-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 group-hover:rotate-12 transition-transform",fill:"currentColor",viewBox:"0 0 20 20",children:(0,mr.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-6-3a2 2 0 11-4 0 2 2 0 014 0zm-2 4a5 5 0 00-4.546 2.916A5.986 5.986 0 0010 16a5.986 5.986 0 004.546-2.084A5 5 0 0010 11z",clipRule:"evenodd"})}),"SIGN IN AN ACCOUNT"]})})})]})})]}),(0,mr.jsx)("style",{children:"\n        .gradient-bg {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        }\n        .glass-effect {\n          backdrop-filter: blur(10px);\n          background: rgba(255, 255, 255, 0.1);\n          border: 1px solid rgba(255, 255, 255, 0.2);\n        }\n        .floating-animation {\n          animation: float 6s ease-in-out infinite;\n        }\n        @keyframes float {\n          0%, 100% { transform: translateY(0px); }\n          50% { transform: translateY(-20px); }\n        }\n        .fade-in {\n          animation: fadeInUp 1s ease-out forwards;\n          opacity: 0;\n          transform: translateY(30px);\n        }\n        .fade-in-delay-1 { animation-delay: 0.2s; }\n        .fade-in-delay-2 { animation-delay: 0.4s; }\n        .fade-in-delay-3 { animation-delay: 0.6s; }\n        @keyframes fadeInUp {\n          to { opacity: 1; transform: translateY(0); }\n        }\n        .btn-hover {\n          transition: all 0.3s ease;\n          position: relative;\n          overflow: hidden;\n        }\n        .btn-hover:before {\n          content: '';\n          position: absolute;\n          top: 0;\n          left: -100%;\n          width: 100%;\n          height: 100%;\n          background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);\n          transition: left 0.5s;\n        }\n        .btn-hover:hover:before { left: 100%; }\n        .btn-hover:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 10px 25px rgba(0,0,0,0.2);\n        }\n        .particle {\n          position: absolute;\n          background: rgba(255, 255, 255, 0.1);\n          border-radius: 50%;\n          pointer-events: none;\n          animation: particle-float 8s infinite linear;\n        }\n        @keyframes particle-float {\n          0% { transform: translateY(100vh) rotate(0deg); opacity: 0; }\n          10% { opacity: 1; }\n          90% { opacity: 1; }\n          100% { transform: translateY(-100px) rotate(360deg); opacity: 0; }\n        }\n        .stats-card {\n          background: rgba(255, 255, 255, 0.95);\n          backdrop-filter: blur(10px);\n          transition: all 0.3s ease;\n        }\n        .stats-card:hover {\n          transform: translateY(-5px);\n          box-shadow: 0 20px 40px rgba(0,0,0,0.1);\n        }\n      "})]}));function gr(e,t){return function(){return e.apply(t,arguments)}}const{toString:xr}=Object.prototype,{getPrototypeOf:br}=Object,{iterator:yr,toStringTag:vr}=Symbol,wr=(jr=Object.create(null),e=>{const t=xr.call(e);return jr[t]||(jr[t]=t.slice(8,-1).toLowerCase())});var jr;const Nr=e=>(e=e.toLowerCase(),t=>wr(t)===e),_r=e=>t=>typeof t===e,{isArray:Cr}=Array,Sr=_r("undefined");function kr(e){return null!==e&&!Sr(e)&&null!==e.constructor&&!Sr(e.constructor)&&Lr(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const Br=Nr("ArrayBuffer");const Er=_r("string"),Lr=_r("function"),Mr=_r("number"),Fr=e=>null!==e&&"object"===typeof e,Ir=e=>{if("object"!==wr(e))return!1;const t=br(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(vr in e)&&!(yr in e)},Dr=Nr("Date"),Tr=Nr("File"),Or=Nr("Blob"),Pr=Nr("FileList"),Ur=Nr("URLSearchParams"),[Rr,Qr,zr,Hr]=["ReadableStream","Request","Response","Headers"].map(Nr);function Kr(e,t){let n,r,{allOwnKeys:s=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Cr(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(kr(e))return;const r=s?Object.getOwnPropertyNames(e):Object.keys(e),a=r.length;let i;for(n=0;n<a;n++)i=r[n],t.call(null,e[i],i,e)}}function Wr(e,t){if(kr(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,s=n.length;for(;s-- >0;)if(r=n[s],t===r.toLowerCase())return r;return null}const Vr="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,qr=e=>!Sr(e)&&e!==Vr;const Gr=(Yr="undefined"!==typeof Uint8Array&&br(Uint8Array),e=>Yr&&e instanceof Yr);var Yr;const Jr=Nr("HTMLFormElement"),Xr=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),Zr=Nr("RegExp"),$r=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Kr(n,(n,s)=>{let a;!1!==(a=t(n,s,e))&&(r[s]=a||n)}),Object.defineProperties(e,r)};const es=Nr("AsyncFunction"),ts=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Vr.addEventListener("message",e=>{let{source:t,data:s}=e;t===Vr&&s===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Vr.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,Lr(Vr.postMessage)),ns="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Vr):"undefined"!==typeof process&&process.nextTick||ts,rs={isArray:Cr,isArrayBuffer:Br,isBuffer:kr,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||Lr(e.append)&&("formdata"===(t=wr(e))||"object"===t&&Lr(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&Br(e.buffer),t},isString:Er,isNumber:Mr,isBoolean:e=>!0===e||!1===e,isObject:Fr,isPlainObject:Ir,isEmptyObject:e=>{if(!Fr(e)||kr(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(AB){return!1}},isReadableStream:Rr,isRequest:Qr,isResponse:zr,isHeaders:Hr,isUndefined:Sr,isDate:Dr,isFile:Tr,isBlob:Or,isRegExp:Zr,isFunction:Lr,isStream:e=>Fr(e)&&Lr(e.pipe),isURLSearchParams:Ur,isTypedArray:Gr,isFileList:Pr,forEach:Kr,merge:function e(){const{caseless:t,skipUndefined:n}=qr(this)&&this||{},r={},s=(s,a)=>{const i=t&&Wr(r,a)||a;Ir(r[i])&&Ir(s)?r[i]=e(r[i],s):Ir(s)?r[i]=e({},s):Cr(s)?r[i]=s.slice():n&&Sr(s)||(r[i]=s)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Kr(arguments[a],s);return r},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Kr(t,(t,r)=>{n&&Lr(t)?e[r]=gr(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let s,a,i;const o={};if(t=t||{},null==e)return t;do{for(s=Object.getOwnPropertyNames(e),a=s.length;a-- >0;)i=s[a],r&&!r(i,e,t)||o[i]||(t[i]=e[i],o[i]=!0);e=!1!==n&&br(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:wr,kindOfTest:Nr,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Cr(e))return e;let t=e.length;if(!Mr(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[yr]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:Jr,hasOwnProperty:Xr,hasOwnProp:Xr,reduceDescriptors:$r,freezeMethods:e=>{$r(e,(t,n)=>{if(Lr(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];Lr(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Cr(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Wr,global:Vr,isContextDefined:qr,isSpecCompliantForm:function(e){return!!(e&&Lr(e.append)&&"FormData"===e[vr]&&e[yr])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Fr(e)){if(t.indexOf(e)>=0)return;if(kr(e))return e;if(!("toJSON"in e)){t[r]=e;const s=Cr(e)?[]:{};return Kr(e,(e,t)=>{const a=n(e,r+1);!Sr(a)&&(s[t]=a)}),t[r]=void 0,s}}return e};return n(e,0)},isAsyncFn:es,isThenable:e=>e&&(Fr(e)||Lr(e))&&Lr(e.then)&&Lr(e.catch),setImmediate:ts,asap:ns,isIterable:e=>null!=e&&Lr(e[yr])};function ss(e,t,n,r,s){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),s&&(this.response=s,this.status=s.status?s.status:null)}rs.inherits(ss,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:rs.toJSONObject(this.config),code:this.code,status:this.status}}});const as=ss.prototype,is={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{is[e]={value:e}}),Object.defineProperties(ss,is),Object.defineProperty(as,"isAxiosError",{value:!0}),ss.from=(e,t,n,r,s,a)=>{const i=Object.create(as);rs.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e);const o=e&&e.message?e.message:"Error",l=null==t&&e?e.code:t;return ss.call(i,o,l,n,r,s),e&&null==i.cause&&Object.defineProperty(i,"cause",{value:e,configurable:!0}),i.name=e&&e.name||"Error",a&&Object.assign(i,a),i};const os=ss;function ls(e){return rs.isPlainObject(e)||rs.isArray(e)}function cs(e){return rs.endsWith(e,"[]")?e.slice(0,-2):e}function ds(e,t,n){return e?e.concat(t).map(function(e,t){return e=cs(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const us=rs.toFlatObject(rs,{},null,function(e){return/^is[A-Z]/.test(e)});const hs=function(e,t,n){if(!rs.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=rs.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!rs.isUndefined(t[e])})).metaTokens,s=n.visitor||c,a=n.dots,i=n.indexes,o=(n.Blob||"undefined"!==typeof Blob&&Blob)&&rs.isSpecCompliantForm(t);if(!rs.isFunction(s))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(rs.isDate(e))return e.toISOString();if(rs.isBoolean(e))return e.toString();if(!o&&rs.isBlob(e))throw new os("Blob is not supported. Use a Buffer instead.");return rs.isArrayBuffer(e)||rs.isTypedArray(e)?o&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,s){let o=e;if(e&&!s&&"object"===typeof e)if(rs.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(rs.isArray(e)&&function(e){return rs.isArray(e)&&!e.some(ls)}(e)||(rs.isFileList(e)||rs.endsWith(n,"[]"))&&(o=rs.toArray(e)))return n=cs(n),o.forEach(function(e,r){!rs.isUndefined(e)&&null!==e&&t.append(!0===i?ds([n],r,a):null===i?n:n+"[]",l(e))}),!1;return!!ls(e)||(t.append(ds(s,n,a),l(e)),!1)}const d=[],u=Object.assign(us,{defaultVisitor:c,convertValue:l,isVisitable:ls});if(!rs.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!rs.isUndefined(n)){if(-1!==d.indexOf(n))throw Error("Circular reference detected in "+r.join("."));d.push(n),rs.forEach(n,function(n,a){!0===(!(rs.isUndefined(n)||null===n)&&s.call(t,n,rs.isString(a)?a.trim():a,r,u))&&e(n,r?r.concat(a):[a])}),d.pop()}}(e),t};function As(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function fs(e,t){this._pairs=[],e&&hs(e,this,t)}const ms=fs.prototype;ms.append=function(e,t){this._pairs.push([e,t])},ms.toString=function(e){const t=e?function(t){return e.call(this,t,As)}:As;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const ps=fs;function gs(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function xs(e,t,n){if(!t)return e;const r=n&&n.encode||gs;rs.isFunction(n)&&(n={serialize:n});const s=n&&n.serialize;let a;if(a=s?s(t,n):rs.isURLSearchParams(t)?t.toString():new ps(t,n).toString(r),a){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+a}return e}const bs=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){rs.forEach(this.handlers,function(t){null!==t&&e(t)})}},ys={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},vs={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:ps,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},ws="undefined"!==typeof window&&"undefined"!==typeof document,js="object"===typeof navigator&&navigator||void 0,Ns=ws&&(!js||["ReactNative","NativeScript","NS"].indexOf(js.product)<0),_s="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Cs=ws&&window.location.href||"http://localhost",Ss=N(N({},e),vs);const ks=function(e){function t(e,n,r,s){let a=e[s++];if("__proto__"===a)return!0;const i=Number.isFinite(+a),o=s>=e.length;if(a=!a&&rs.isArray(r)?r.length:a,o)return rs.hasOwnProp(r,a)?r[a]=[r[a],n]:r[a]=n,!i;r[a]&&rs.isObject(r[a])||(r[a]=[]);return t(e,n,r[a],s)&&rs.isArray(r[a])&&(r[a]=function(e){const t={},n=Object.keys(e);let r;const s=n.length;let a;for(r=0;r<s;r++)a=n[r],t[a]=e[a];return t}(r[a])),!i}if(rs.isFormData(e)&&rs.isFunction(e.entries)){const n={};return rs.forEachEntry(e,(e,r)=>{t(function(e){return rs.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Bs={transitional:ys,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,s=rs.isObject(e);s&&rs.isHTMLForm(e)&&(e=new FormData(e));if(rs.isFormData(e))return r?JSON.stringify(ks(e)):e;if(rs.isArrayBuffer(e)||rs.isBuffer(e)||rs.isStream(e)||rs.isFile(e)||rs.isBlob(e)||rs.isReadableStream(e))return e;if(rs.isArrayBufferView(e))return e.buffer;if(rs.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return hs(e,new Ss.classes.URLSearchParams,N({visitor:function(e,t,n,r){return Ss.isNode&&rs.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((a=rs.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return hs(a?{"files[]":e}:e,t&&new t,this.formSerializer)}}return s||r?(t.setContentType("application/json",!1),function(e,t,n){if(rs.isString(e))try{return(t||JSON.parse)(e),rs.trim(e)}catch(AB){if("SyntaxError"!==AB.name)throw AB}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Bs.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(rs.isResponse(e)||rs.isReadableStream(e))return e;if(e&&rs.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e,this.parseReviver)}catch(AB){if(n){if("SyntaxError"===AB.name)throw os.from(AB,os.ERR_BAD_RESPONSE,this,null,this.response);throw AB}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Ss.classes.FormData,Blob:Ss.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};rs.forEach(["delete","get","head","post","put","patch"],e=>{Bs.headers[e]={}});const Es=Bs,Ls=rs.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Ms=Symbol("internals");function Fs(e){return e&&String(e).trim().toLowerCase()}function Is(e){return!1===e||null==e?e:rs.isArray(e)?e.map(Is):String(e)}function Ds(e,t,n,r,s){return rs.isFunction(r)?r.call(this,t,n):(s&&(t=n),rs.isString(t)?rs.isString(r)?-1!==t.indexOf(r):rs.isRegExp(r)?r.test(t):void 0:void 0)}class Ts{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function s(e,t,n){const s=Fs(t);if(!s)throw new Error("header name must be a non-empty string");const a=rs.findKey(r,s);(!a||void 0===r[a]||!0===n||void 0===n&&!1!==r[a])&&(r[a||t]=Is(e))}const a=(e,t)=>rs.forEach(e,(e,n)=>s(e,n,t));if(rs.isPlainObject(e)||e instanceof this.constructor)a(e,t);else if(rs.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))a((e=>{const t={};let n,r,s;return e&&e.split("\n").forEach(function(e){s=e.indexOf(":"),n=e.substring(0,s).trim().toLowerCase(),r=e.substring(s+1).trim(),!n||t[n]&&Ls[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(rs.isObject(e)&&rs.isIterable(e)){let n,r,s={};for(const t of e){if(!rs.isArray(t))throw TypeError("Object iterator must return a key-value pair");s[r=t[0]]=(n=s[r])?rs.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}a(s,t)}else null!=e&&s(t,e,n);return this}get(e,t){if(e=Fs(e)){const n=rs.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(rs.isFunction(t))return t.call(this,e,n);if(rs.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Fs(e)){const n=rs.findKey(this,e);return!(!n||void 0===this[n]||t&&!Ds(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function s(e){if(e=Fs(e)){const s=rs.findKey(n,e);!s||t&&!Ds(0,n[s],s,t)||(delete n[s],r=!0)}}return rs.isArray(e)?e.forEach(s):s(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const s=t[n];e&&!Ds(0,this[s],s,e,!0)||(delete this[s],r=!0)}return r}normalize(e){const t=this,n={};return rs.forEach(this,(r,s)=>{const a=rs.findKey(n,s);if(a)return t[a]=Is(r),void delete t[s];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(s):String(s).trim();i!==s&&delete t[s],t[i]=Is(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return rs.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&rs.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),s=1;s<n;s++)r[s-1]=arguments[s];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Ms]=this[Ms]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Fs(e);t[r]||(!function(e,t){const n=rs.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,s){return this[r].call(this,t,e,n,s)},configurable:!0})})}(n,e),t[r]=!0)}return rs.isArray(e)?e.forEach(r):r(e),this}}Ts.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),rs.reduceDescriptors(Ts.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),rs.freezeMethods(Ts);const Os=Ts;function Ps(e,t){const n=this||Es,r=t||n,s=Os.from(r.headers);let a=r.data;return rs.forEach(e,function(e){a=e.call(n,a,s.normalize(),t?t.status:void 0)}),s.normalize(),a}function Us(e){return!(!e||!e.__CANCEL__)}function Rs(e,t,n){os.call(this,null==e?"canceled":e,os.ERR_CANCELED,t,n),this.name="CanceledError"}rs.inherits(Rs,os,{__CANCEL__:!0});const Qs=Rs;function zs(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new os("Request failed with status code "+n.status,[os.ERR_BAD_REQUEST,os.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Hs=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let s,a=0,i=0;return t=void 0!==t?t:1e3,function(o){const l=Date.now(),c=r[i];s||(s=l),n[a]=o,r[a]=l;let d=i,u=0;for(;d!==a;)u+=n[d++],d%=e;if(a=(a+1)%e,a===i&&(i=(i+1)%e),l-s<t)return;const h=c&&l-c;return h?Math.round(1e3*u/h):void 0}};const Ks=function(e,t){let n,r,s=0,a=1e3/t;const i=function(t){let a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();s=a,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-s;for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];t>=a?i(l,e):(n=l,r||(r=setTimeout(()=>{r=null,i(n)},a-t)))},()=>n&&i(n)]},Ws=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const s=Hs(50,250);return Ks(n=>{const a=n.loaded,i=n.lengthComputable?n.total:void 0,o=a-r,l=s(o);r=a;e({loaded:a,total:i,progress:i?a/i:void 0,bytes:o,rate:l||void 0,estimated:l&&i&&a<=i?(i-a)/l:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Vs=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},qs=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return rs.asap(()=>e(...n))},Gs=Ss.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Ss.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Ss.origin),Ss.navigator&&/(msie|trident)/i.test(Ss.navigator.userAgent)):()=>!0,Ys=Ss.hasStandardBrowserEnv?{write(e,t,n,r,s,a){const i=[e+"="+encodeURIComponent(t)];rs.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),rs.isString(r)&&i.push("path="+r),rs.isString(s)&&i.push("domain="+s),!0===a&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Js(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Xs=e=>e instanceof Os?N({},e):e;function Zs(e,t){t=t||{};const n={};function r(e,t,n,r){return rs.isPlainObject(e)&&rs.isPlainObject(t)?rs.merge.call({caseless:r},e,t):rs.isPlainObject(t)?rs.merge({},t):rs.isArray(t)?t.slice():t}function s(e,t,n,s){return rs.isUndefined(t)?rs.isUndefined(e)?void 0:r(void 0,e,0,s):r(e,t,0,s)}function a(e,t){if(!rs.isUndefined(t))return r(void 0,t)}function i(e,t){return rs.isUndefined(t)?rs.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function o(n,s,a){return a in t?r(n,s):a in e?r(void 0,n):void 0}const l={url:a,method:a,data:a,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:o,headers:(e,t,n)=>s(Xs(e),Xs(t),0,!0)};return rs.forEach(Object.keys(N(N({},e),t)),function(r){const a=l[r]||s,i=a(e[r],t[r],r);rs.isUndefined(i)&&a!==o||(n[r]=i)}),n}const $s=e=>{const t=Zs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:s,xsrfCookieName:a,headers:i,auth:o}=t;if(t.headers=i=Os.from(i),t.url=xs(Js(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&i.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),rs.isFormData(n))if(Ss.hasStandardBrowserEnv||Ss.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(rs.isFunction(n.getHeaders)){const e=n.getHeaders(),t=["content-type","content-length"];Object.entries(e).forEach(e=>{let[n,r]=e;t.includes(n.toLowerCase())&&i.set(n,r)})}if(Ss.hasStandardBrowserEnv&&(r&&rs.isFunction(r)&&(r=r(t)),r||!1!==r&&Gs(t.url))){const e=s&&a&&Ys.read(a);e&&i.set(s,e)}return t},ea="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=$s(e);let s=r.data;const a=Os.from(r.headers).normalize();let i,o,l,c,d,{responseType:u,onUploadProgress:h,onDownloadProgress:A}=r;function f(){c&&c(),d&&d(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let m=new XMLHttpRequest;function p(){if(!m)return;const r=Os.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());zs(function(e){t(e),f()},function(e){n(e),f()},{data:u&&"text"!==u&&"json"!==u?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:r,config:e,request:m}),m=null}m.open(r.method.toUpperCase(),r.url,!0),m.timeout=r.timeout,"onloadend"in m?m.onloadend=p:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(p)},m.onabort=function(){m&&(n(new os("Request aborted",os.ECONNABORTED,e,m)),m=null)},m.onerror=function(t){const r=t&&t.message?t.message:"Network Error",s=new os(r,os.ERR_NETWORK,e,m);s.event=t||null,n(s),m=null},m.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const s=r.transitional||ys;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new os(t,s.clarifyTimeoutError?os.ETIMEDOUT:os.ECONNABORTED,e,m)),m=null},void 0===s&&a.setContentType(null),"setRequestHeader"in m&&rs.forEach(a.toJSON(),function(e,t){m.setRequestHeader(t,e)}),rs.isUndefined(r.withCredentials)||(m.withCredentials=!!r.withCredentials),u&&"json"!==u&&(m.responseType=r.responseType),A&&([l,d]=Ws(A,!0),m.addEventListener("progress",l)),h&&m.upload&&([o,c]=Ws(h),m.upload.addEventListener("progress",o),m.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{m&&(n(!t||t.type?new Qs(null,e,m):t),m.abort(),m=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===Ss.protocols.indexOf(g)?n(new os("Unsupported protocol "+g+":",os.ERR_BAD_REQUEST,e)):m.send(s||null)})},ta=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const s=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof os?t:new Qs(t instanceof Error?t.message:t))}};let a=t&&setTimeout(()=>{a=null,s(new os("timeout ".concat(t," of ms exceeded"),os.ETIMEDOUT))},t);const i=()=>{e&&(a&&clearTimeout(a),a=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(s):e.removeEventListener("abort",s)}),e=null)};e.forEach(e=>e.addEventListener("abort",s));const{signal:o}=r;return o.unsubscribe=()=>rs.asap(i),o}};function na(e,t){this.v=e,this.k=t}function ra(e){return function(){return new sa(e.apply(this,arguments))}}function sa(e){var t,n;function r(t,n){try{var a=e[t](n),i=a.value,o=i instanceof na;Promise.resolve(o?i.v:i).then(function(n){if(o){var l="return"===t?"return":"next";if(!i.k||n.done)return r(l,n);n=e[l](n).value}s(a.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){s("throw",e)}}function s(e,s){switch(e){case"return":t.resolve({value:s,done:!0});break;case"throw":t.reject(s);break;default:t.resolve({value:s,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,s){return new Promise(function(a,i){var o={key:e,arg:s,resolve:a,reject:i,next:null};n?n=n.next=o:(t=n=o,r(e,s))})},"function"!=typeof e.return&&(this.return=void 0)}function aa(e){return new na(e,0)}function ia(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new na(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function oa(e){var t,n,r,s=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);s--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new la(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function la(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return la=function(e){this.s=e,this.n=e.next},la.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new la(e)}sa.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},sa.prototype.next=function(e){return this._invoke("next",e)},sa.prototype.throw=function(e){return this._invoke("throw",e)},sa.prototype.return=function(e){return this._invoke("return",e)};const ca=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,s=0;for(;s<n;)r=s+t,yield e.slice(s,r),s=r},da=function(){var e=ra(function*(e,t){var n,r=!1,s=!1;try{for(var a,i=oa(ua(e));r=!(a=yield aa(i.next())).done;r=!1){const e=a.value;yield*ia(oa(ca(e,t)))}}catch(o){s=!0,n=o}finally{try{r&&null!=i.return&&(yield aa(i.return()))}finally{if(s)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),ua=function(){var e=ra(function*(e){if(e[Symbol.asyncIterator])return void(yield*ia(oa(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield aa(t.read());if(e)break;yield n}}finally{yield aa(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),ha=(e,t,n,r)=>{const s=da(e,t);let a,i=0,o=e=>{a||(a=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await s.next();if(t)return o(),void e.close();let a=r.byteLength;if(n){let e=i+=a;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw o(t),t}},cancel:e=>(o(e),s.return())},{highWaterMark:2})},{isFunction:Aa}=rs,fa=(e=>{let{Request:t,Response:n}=e;return{Request:t,Response:n}})(rs.global),{ReadableStream:ma,TextEncoder:pa}=rs.global,ga=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(AB){return!1}},xa=e=>{e=rs.merge.call({skipUndefined:!0},fa,e);const{fetch:t,Request:n,Response:r}=e,s=t?Aa(t):"function"===typeof fetch,a=Aa(n),i=Aa(r);if(!s)return!1;const o=s&&Aa(ma),l=s&&("function"===typeof pa?(c=new pa,e=>c.encode(e)):async e=>new Uint8Array(await new n(e).arrayBuffer()));var c;const d=a&&o&&ga(()=>{let e=!1;const t=new n(Ss.origin,{body:new ma,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),u=i&&o&&ga(()=>rs.isReadableStream(new r("").body)),h={stream:u&&(e=>e.body)};s&&["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!h[e]&&(h[e]=(t,n)=>{let r=t&&t[e];if(r)return r.call(t);throw new os("Response type '".concat(e,"' is not supported"),os.ERR_NOT_SUPPORT,n)})});const A=async(e,t)=>{const r=rs.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(rs.isBlob(e))return e.size;if(rs.isSpecCompliantForm(e)){const t=new n(Ss.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return rs.isArrayBufferView(e)||rs.isArrayBuffer(e)?e.byteLength:(rs.isURLSearchParams(e)&&(e+=""),rs.isString(e)?(await l(e)).byteLength:void 0)})(t):r};return async e=>{let{url:s,method:i,data:o,signal:l,cancelToken:c,timeout:f,onDownloadProgress:m,onUploadProgress:p,responseType:g,headers:x,withCredentials:b="same-origin",fetchOptions:y}=$s(e),v=t||fetch;g=g?(g+"").toLowerCase():"text";let w=ta([l,c&&c.toAbortSignal()],f),j=null;const _=w&&w.unsubscribe&&(()=>{w.unsubscribe()});let C;try{if(p&&d&&"get"!==i&&"head"!==i&&0!==(C=await A(x,o))){let e,t=new n(s,{method:"POST",body:o,duplex:"half"});if(rs.isFormData(o)&&(e=t.headers.get("content-type"))&&x.setContentType(e),t.body){const[e,n]=Vs(C,Ws(qs(p)));o=ha(t.body,65536,e,n)}}rs.isString(b)||(b=b?"include":"omit");const t=a&&"credentials"in n.prototype,l=N(N({},y),{},{signal:w,method:i.toUpperCase(),headers:x.normalize().toJSON(),body:o,duplex:"half",credentials:t?b:void 0});j=a&&new n(s,l);let c=await(a?v(j,y):v(s,l));const f=u&&("stream"===g||"response"===g);if(u&&(m||f&&_)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=c[t]});const t=rs.toFiniteNumber(c.headers.get("content-length")),[n,s]=m&&Vs(t,Ws(qs(m),!0))||[];c=new r(ha(c.body,65536,n,()=>{s&&s(),_&&_()}),e)}g=g||"text";let S=await h[rs.findKey(h,g)||"text"](c,e);return!f&&_&&_(),await new Promise((t,n)=>{zs(t,n,{data:S,headers:Os.from(c.headers),status:c.status,statusText:c.statusText,config:e,request:j})})}catch(S){if(_&&_(),S&&"TypeError"===S.name&&/Load failed|fetch/i.test(S.message))throw Object.assign(new os("Network Error",os.ERR_NETWORK,e,j),{cause:S.cause||S});throw os.from(S,S&&S.code,e,j)}}},ba=new Map,ya=e=>{let t=e?e.env:{};const{fetch:n,Request:r,Response:s}=t,a=[r,s,n];let i,o,l=a.length,c=ba;for(;l--;)i=a[l],o=c.get(i),void 0===o&&c.set(i,o=l?new Map:xa(t)),c=o;return o},va=(ya(),{http:null,xhr:ea,fetch:{get:ya}});rs.forEach(va,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(AB){}Object.defineProperty(e,"adapterName",{value:t})}});const wa=e=>"- ".concat(e),ja=e=>rs.isFunction(e)||null===e||!1===e,Na=(e,t)=>{e=rs.isArray(e)?e:[e];const{length:n}=e;let r,s;const a={};for(let i=0;i<n;i++){let n;if(r=e[i],s=r,!ja(r)&&(s=va[(n=String(r)).toLowerCase()],void 0===s))throw new os("Unknown adapter '".concat(n,"'"));if(s&&(rs.isFunction(s)||(s=s.get(t))))break;a[n||"#"+i]=s}if(!s){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let t=n?e.length>1?"since :\n"+e.map(wa).join("\n"):" "+wa(e[0]):"as no adapter specified";throw new os("There is no suitable adapter to dispatch the request "+t,"ERR_NOT_SUPPORT")}return s};function _a(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Qs(null,e)}function Ca(e){_a(e),e.headers=Os.from(e.headers),e.data=Ps.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return Na(e.adapter||Es.adapter,e)(e).then(function(t){return _a(e),t.data=Ps.call(e,e.transformResponse,t),t.headers=Os.from(t.headers),t},function(t){return Us(t)||(_a(e),t&&t.response&&(t.response.data=Ps.call(e,e.transformResponse,t.response),t.response.headers=Os.from(t.response.headers))),Promise.reject(t)})}const Sa="1.12.2",ka={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{ka[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Ba={};ka.transitional=function(e,t,n){function r(e,t){return"[Axios v"+Sa+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,s,a)=>{if(!1===e)throw new os(r(s," has been removed"+(t?" in "+t:"")),os.ERR_DEPRECATED);return t&&!Ba[s]&&(Ba[s]=!0,console.warn(r(s," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,s,a)}},ka.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Ea={assertOptions:function(e,t,n){if("object"!==typeof e)throw new os("options must be an object",os.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let s=r.length;for(;s-- >0;){const a=r[s],i=t[a];if(i){const t=e[a],n=void 0===t||i(t,a,e);if(!0!==n)throw new os("option "+a+" must be "+n,os.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new os("Unknown option "+a,os.ERR_BAD_OPTION)}},validators:ka},La=Ea.validators;class Ma{constructor(e){this.defaults=e||{},this.interceptors={request:new bs,response:new bs}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(AB){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=Zs(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:s}=t;void 0!==n&&Ea.assertOptions(n,{silentJSONParsing:La.transitional(La.boolean),forcedJSONParsing:La.transitional(La.boolean),clarifyTimeoutError:La.transitional(La.boolean)},!1),null!=r&&(rs.isFunction(r)?t.paramsSerializer={serialize:r}:Ea.assertOptions(r,{encode:La.function,serialize:La.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Ea.assertOptions(t,{baseUrl:La.spelling("baseURL"),withXsrfToken:La.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let a=s&&rs.merge(s.common,s[t.method]);s&&rs.forEach(["delete","get","head","post","put","patch","common"],e=>{delete s[e]}),t.headers=Os.concat(a,s);const i=[];let o=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(o=o&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const l=[];let c;this.interceptors.response.forEach(function(e){l.push(e.fulfilled,e.rejected)});let d,u=0;if(!o){const e=[Ca.bind(this),void 0];for(e.unshift(...i),e.push(...l),d=e.length,c=Promise.resolve(t);u<d;)c=c.then(e[u++],e[u++]);return c}d=i.length;let h=t;for(;u<d;){const e=i[u++],t=i[u++];try{h=e(h)}catch(A){t.call(this,A);break}}try{c=Ca.call(this,h)}catch(A){return Promise.reject(A)}for(u=0,d=l.length;u<d;)c=c.then(l[u++],l[u++]);return c}getUri(e){return xs(Js((e=Zs(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}rs.forEach(["delete","get","head","options"],function(e){Ma.prototype[e]=function(t,n){return this.request(Zs(n||{},{method:e,url:t,data:(n||{}).data}))}}),rs.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,s){return this.request(Zs(s||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Ma.prototype[e]=t(),Ma.prototype[e+"Form"]=t(!0)});const Fa=Ma;class Ia{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,s){n.reason||(n.reason=new Qs(e,r,s),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;return{token:new Ia(function(t){e=t}),cancel:e}}}const Da=Ia;const Ta={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Ta).forEach(e=>{let[t,n]=e;Ta[n]=t});const Oa=Ta;const Pa=function e(t){const n=new Fa(t),r=gr(Fa.prototype.request,n);return rs.extend(r,Fa.prototype,n,{allOwnKeys:!0}),rs.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(Zs(t,n))},r}(Es);Pa.Axios=Fa,Pa.CanceledError=Qs,Pa.CancelToken=Da,Pa.isCancel=Us,Pa.VERSION=Sa,Pa.toFormData=hs,Pa.AxiosError=os,Pa.Cancel=Pa.CanceledError,Pa.all=function(e){return Promise.all(e)},Pa.spread=function(e){return function(t){return e.apply(null,t)}},Pa.isAxiosError=function(e){return rs.isObject(e)&&!0===e.isAxiosError},Pa.mergeConfig=Zs,Pa.AxiosHeaders=Os,Pa.formToJSON=e=>ks(rs.isHTMLForm(e)?new FormData(e):e),Pa.getAdapter=Na,Pa.HttpStatusCode=Oa,Pa.default=Pa;const Ua=Pa.create({baseURL:"https://crmm.sinfode.com/api/",headers:{"Content-Type":"application/json"}});function Ra(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=Ra(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Qa=function(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=Ra(e))&&(r&&(r+=" "),r+=t);return r},za=["theme","type","isLoading"];!function(e){if(!e||"undefined"==typeof document)return;let t=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",t.firstChild?t.insertBefore(n,t.firstChild):t.appendChild(n),n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}(':root{--toastify-color-light: #fff;--toastify-color-dark: #121212;--toastify-color-info: #3498db;--toastify-color-success: #07bc0c;--toastify-color-warning: #f1c40f;--toastify-color-error: hsl(6, 78%, 57%);--toastify-color-transparent: rgba(255, 255, 255, .7);--toastify-icon-color-info: var(--toastify-color-info);--toastify-icon-color-success: var(--toastify-color-success);--toastify-icon-color-warning: var(--toastify-color-warning);--toastify-icon-color-error: var(--toastify-color-error);--toastify-container-width: fit-content;--toastify-toast-width: 320px;--toastify-toast-offset: 16px;--toastify-toast-top: max(var(--toastify-toast-offset), env(safe-area-inset-top));--toastify-toast-right: max(var(--toastify-toast-offset), env(safe-area-inset-right));--toastify-toast-left: max(var(--toastify-toast-offset), env(safe-area-inset-left));--toastify-toast-bottom: max(var(--toastify-toast-offset), env(safe-area-inset-bottom));--toastify-toast-background: #fff;--toastify-toast-padding: 14px;--toastify-toast-min-height: 64px;--toastify-toast-max-height: 800px;--toastify-toast-bd-radius: 6px;--toastify-toast-shadow: 0px 4px 12px rgba(0, 0, 0, .1);--toastify-font-family: sans-serif;--toastify-z-index: 9999;--toastify-text-color-light: #757575;--toastify-text-color-dark: #fff;--toastify-text-color-info: #fff;--toastify-text-color-success: #fff;--toastify-text-color-warning: #fff;--toastify-text-color-error: #fff;--toastify-spinner-color: #616161;--toastify-spinner-color-empty-area: #e0e0e0;--toastify-color-progress-light: linear-gradient(to right, #4cd964, #5ac8fa, #007aff, #34aadc, #5856d6, #ff2d55);--toastify-color-progress-dark: #bb86fc;--toastify-color-progress-info: var(--toastify-color-info);--toastify-color-progress-success: var(--toastify-color-success);--toastify-color-progress-warning: var(--toastify-color-warning);--toastify-color-progress-error: var(--toastify-color-error);--toastify-color-progress-bgo: .2}.Toastify__toast-container{z-index:var(--toastify-z-index);-webkit-transform:translate3d(0,0,var(--toastify-z-index));position:fixed;width:var(--toastify-container-width);box-sizing:border-box;color:#fff;display:flex;flex-direction:column}.Toastify__toast-container--top-left{top:var(--toastify-toast-top);left:var(--toastify-toast-left)}.Toastify__toast-container--top-center{top:var(--toastify-toast-top);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--top-right{top:var(--toastify-toast-top);right:var(--toastify-toast-right);align-items:end}.Toastify__toast-container--bottom-left{bottom:var(--toastify-toast-bottom);left:var(--toastify-toast-left)}.Toastify__toast-container--bottom-center{bottom:var(--toastify-toast-bottom);left:50%;transform:translate(-50%);align-items:center}.Toastify__toast-container--bottom-right{bottom:var(--toastify-toast-bottom);right:var(--toastify-toast-right);align-items:end}.Toastify__toast{--y: 0;position:relative;touch-action:none;width:var(--toastify-toast-width);min-height:var(--toastify-toast-min-height);box-sizing:border-box;margin-bottom:1rem;padding:var(--toastify-toast-padding);border-radius:var(--toastify-toast-bd-radius);box-shadow:var(--toastify-toast-shadow);max-height:var(--toastify-toast-max-height);font-family:var(--toastify-font-family);z-index:0;display:flex;flex:1 auto;align-items:center;word-break:break-word}@media only screen and (max-width: 480px){.Toastify__toast-container{width:100vw;left:env(safe-area-inset-left);margin:0}.Toastify__toast-container--top-left,.Toastify__toast-container--top-center,.Toastify__toast-container--top-right{top:env(safe-area-inset-top);transform:translate(0)}.Toastify__toast-container--bottom-left,.Toastify__toast-container--bottom-center,.Toastify__toast-container--bottom-right{bottom:env(safe-area-inset-bottom);transform:translate(0)}.Toastify__toast-container--rtl{right:env(safe-area-inset-right);left:initial}.Toastify__toast{--toastify-toast-width: 100%;margin-bottom:0;border-radius:0}}.Toastify__toast-container[data-stacked=true]{width:var(--toastify-toast-width)}.Toastify__toast--stacked{position:absolute;width:100%;transform:translate3d(0,var(--y),0) scale(var(--s));transition:transform .3s}.Toastify__toast--stacked[data-collapsed] .Toastify__toast-body,.Toastify__toast--stacked[data-collapsed] .Toastify__close-button{transition:opacity .1s}.Toastify__toast--stacked[data-collapsed=false]{overflow:visible}.Toastify__toast--stacked[data-collapsed=true]:not(:last-child)>*{opacity:0}.Toastify__toast--stacked:after{content:"";position:absolute;left:0;right:0;height:calc(var(--g) * 1px);bottom:100%}.Toastify__toast--stacked[data-pos=top]{top:0}.Toastify__toast--stacked[data-pos=bot]{bottom:0}.Toastify__toast--stacked[data-pos=bot].Toastify__toast--stacked:before{transform-origin:top}.Toastify__toast--stacked[data-pos=top].Toastify__toast--stacked:before{transform-origin:bottom}.Toastify__toast--stacked:before{content:"";position:absolute;left:0;right:0;bottom:0;height:100%;transform:scaleY(3);z-index:-1}.Toastify__toast--rtl{direction:rtl}.Toastify__toast--close-on-click{cursor:pointer}.Toastify__toast-icon{margin-inline-end:10px;width:22px;flex-shrink:0;display:flex}.Toastify--animate{animation-fill-mode:both;animation-duration:.5s}.Toastify--animate-icon{animation-fill-mode:both;animation-duration:.3s}.Toastify__toast-theme--dark{background:var(--toastify-color-dark);color:var(--toastify-text-color-dark)}.Toastify__toast-theme--light,.Toastify__toast-theme--colored.Toastify__toast--default{background:var(--toastify-color-light);color:var(--toastify-text-color-light)}.Toastify__toast-theme--colored.Toastify__toast--info{color:var(--toastify-text-color-info);background:var(--toastify-color-info)}.Toastify__toast-theme--colored.Toastify__toast--success{color:var(--toastify-text-color-success);background:var(--toastify-color-success)}.Toastify__toast-theme--colored.Toastify__toast--warning{color:var(--toastify-text-color-warning);background:var(--toastify-color-warning)}.Toastify__toast-theme--colored.Toastify__toast--error{color:var(--toastify-text-color-error);background:var(--toastify-color-error)}.Toastify__progress-bar-theme--light{background:var(--toastify-color-progress-light)}.Toastify__progress-bar-theme--dark{background:var(--toastify-color-progress-dark)}.Toastify__progress-bar--info{background:var(--toastify-color-progress-info)}.Toastify__progress-bar--success{background:var(--toastify-color-progress-success)}.Toastify__progress-bar--warning{background:var(--toastify-color-progress-warning)}.Toastify__progress-bar--error{background:var(--toastify-color-progress-error)}.Toastify__progress-bar-theme--colored.Toastify__progress-bar--info,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--success,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--warning,.Toastify__progress-bar-theme--colored.Toastify__progress-bar--error{background:var(--toastify-color-transparent)}.Toastify__close-button{color:#fff;position:absolute;top:6px;right:6px;background:transparent;outline:none;border:none;padding:0;cursor:pointer;opacity:.7;transition:.3s ease;z-index:1}.Toastify__toast--rtl .Toastify__close-button{left:6px;right:unset}.Toastify__close-button--light{color:#000;opacity:.3}.Toastify__close-button>svg{fill:currentColor;height:16px;width:14px}.Toastify__close-button:hover,.Toastify__close-button:focus{opacity:1}@keyframes Toastify__trackProgress{0%{transform:scaleX(1)}to{transform:scaleX(0)}}.Toastify__progress-bar{position:absolute;bottom:0;left:0;width:100%;height:100%;z-index:1;opacity:.7;transform-origin:left}.Toastify__progress-bar--animated{animation:Toastify__trackProgress linear 1 forwards}.Toastify__progress-bar--controlled{transition:transform .2s}.Toastify__progress-bar--rtl{right:0;left:initial;transform-origin:right;border-bottom-left-radius:initial}.Toastify__progress-bar--wrp{position:absolute;overflow:hidden;bottom:0;left:0;width:100%;height:5px;border-bottom-left-radius:var(--toastify-toast-bd-radius);border-bottom-right-radius:var(--toastify-toast-bd-radius)}.Toastify__progress-bar--wrp[data-hidden=true]{opacity:0}.Toastify__progress-bar--bg{opacity:var(--toastify-color-progress-bgo);width:100%;height:100%}.Toastify__spinner{width:20px;height:20px;box-sizing:border-box;border:2px solid;border-radius:100%;border-color:var(--toastify-spinner-color-empty-area);border-right-color:var(--toastify-spinner-color);animation:Toastify__spin .65s linear infinite}@keyframes Toastify__bounceInRight{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(3000px,0,0)}60%{opacity:1;transform:translate3d(-25px,0,0)}75%{transform:translate3d(10px,0,0)}90%{transform:translate3d(-5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutRight{20%{opacity:1;transform:translate3d(-20px,var(--y),0)}to{opacity:0;transform:translate3d(2000px,var(--y),0)}}@keyframes Toastify__bounceInLeft{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(-3000px,0,0)}60%{opacity:1;transform:translate3d(25px,0,0)}75%{transform:translate3d(-10px,0,0)}90%{transform:translate3d(5px,0,0)}to{transform:none}}@keyframes Toastify__bounceOutLeft{20%{opacity:1;transform:translate3d(20px,var(--y),0)}to{opacity:0;transform:translate3d(-2000px,var(--y),0)}}@keyframes Toastify__bounceInUp{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,3000px,0)}60%{opacity:1;transform:translate3d(0,-20px,0)}75%{transform:translate3d(0,10px,0)}90%{transform:translate3d(0,-5px,0)}to{transform:translateZ(0)}}@keyframes Toastify__bounceOutUp{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,-2000px,0)}}@keyframes Toastify__bounceInDown{0%,60%,75%,90%,to{animation-timing-function:cubic-bezier(.215,.61,.355,1)}0%{opacity:0;transform:translate3d(0,-3000px,0)}60%{opacity:1;transform:translate3d(0,25px,0)}75%{transform:translate3d(0,-10px,0)}90%{transform:translate3d(0,5px,0)}to{transform:none}}@keyframes Toastify__bounceOutDown{20%{transform:translate3d(0,calc(var(--y) - 10px),0)}40%,45%{opacity:1;transform:translate3d(0,calc(var(--y) + 20px),0)}to{opacity:0;transform:translate3d(0,2000px,0)}}.Toastify__bounce-enter--top-left,.Toastify__bounce-enter--bottom-left{animation-name:Toastify__bounceInLeft}.Toastify__bounce-enter--top-right,.Toastify__bounce-enter--bottom-right{animation-name:Toastify__bounceInRight}.Toastify__bounce-enter--top-center{animation-name:Toastify__bounceInDown}.Toastify__bounce-enter--bottom-center{animation-name:Toastify__bounceInUp}.Toastify__bounce-exit--top-left,.Toastify__bounce-exit--bottom-left{animation-name:Toastify__bounceOutLeft}.Toastify__bounce-exit--top-right,.Toastify__bounce-exit--bottom-right{animation-name:Toastify__bounceOutRight}.Toastify__bounce-exit--top-center{animation-name:Toastify__bounceOutUp}.Toastify__bounce-exit--bottom-center{animation-name:Toastify__bounceOutDown}@keyframes Toastify__zoomIn{0%{opacity:0;transform:scale3d(.3,.3,.3)}50%{opacity:1}}@keyframes Toastify__zoomOut{0%{opacity:1}50%{opacity:0;transform:translate3d(0,var(--y),0) scale3d(.3,.3,.3)}to{opacity:0}}.Toastify__zoom-enter{animation-name:Toastify__zoomIn}.Toastify__zoom-exit{animation-name:Toastify__zoomOut}@keyframes Toastify__flipIn{0%{transform:perspective(400px) rotateX(90deg);animation-timing-function:ease-in;opacity:0}40%{transform:perspective(400px) rotateX(-20deg);animation-timing-function:ease-in}60%{transform:perspective(400px) rotateX(10deg);opacity:1}80%{transform:perspective(400px) rotateX(-5deg)}to{transform:perspective(400px)}}@keyframes Toastify__flipOut{0%{transform:translate3d(0,var(--y),0) perspective(400px)}30%{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(-20deg);opacity:1}to{transform:translate3d(0,var(--y),0) perspective(400px) rotateX(90deg);opacity:0}}.Toastify__flip-enter{animation-name:Toastify__flipIn}.Toastify__flip-exit{animation-name:Toastify__flipOut}@keyframes Toastify__slideInRight{0%{transform:translate3d(110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInLeft{0%{transform:translate3d(-110%,0,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInUp{0%{transform:translate3d(0,110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideInDown{0%{transform:translate3d(0,-110%,0);visibility:visible}to{transform:translate3d(0,var(--y),0)}}@keyframes Toastify__slideOutRight{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(110%,var(--y),0)}}@keyframes Toastify__slideOutLeft{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(-110%,var(--y),0)}}@keyframes Toastify__slideOutDown{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,500px,0)}}@keyframes Toastify__slideOutUp{0%{transform:translate3d(0,var(--y),0)}to{visibility:hidden;transform:translate3d(0,-500px,0)}}.Toastify__slide-enter--top-left,.Toastify__slide-enter--bottom-left{animation-name:Toastify__slideInLeft}.Toastify__slide-enter--top-right,.Toastify__slide-enter--bottom-right{animation-name:Toastify__slideInRight}.Toastify__slide-enter--top-center{animation-name:Toastify__slideInDown}.Toastify__slide-enter--bottom-center{animation-name:Toastify__slideInUp}.Toastify__slide-exit--top-left,.Toastify__slide-exit--bottom-left{animation-name:Toastify__slideOutLeft;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-right,.Toastify__slide-exit--bottom-right{animation-name:Toastify__slideOutRight;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--top-center{animation-name:Toastify__slideOutUp;animation-timing-function:ease-in;animation-duration:.3s}.Toastify__slide-exit--bottom-center{animation-name:Toastify__slideOutDown;animation-timing-function:ease-in;animation-duration:.3s}@keyframes Toastify__spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}\n');var Ha=e=>"number"==typeof e&&!isNaN(e),Ka=e=>"string"==typeof e,Wa=e=>"function"==typeof e,Va=e=>Ka(e)||Wa(e)?e:null,qa=(e,t)=>!1===e||Ha(e)&&e>0?e:t,Ga=e=>(0,t.isValidElement)(e)||Ka(e)||Wa(e)||Ha(e);function Ya(e){let{enter:n,exit:r,appendPosition:s=!1,collapse:a=!0,collapseDuration:i=300}=e;return function(e){let{children:o,position:l,preventExitTransition:c,done:d,nodeRef:u,isIn:h,playToast:A}=e,f=s?"".concat(n,"--").concat(l):n,m=s?"".concat(r,"--").concat(l):r,p=(0,t.useRef)(0);return(0,t.useLayoutEffect)(()=>{let e=u.current,t=f.split(" "),n=r=>{r.target===u.current&&(A(),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===p.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)},[]),(0,t.useEffect)(()=>{let e=u.current,t=()=>{e.removeEventListener("animationend",t),a?function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:300,{scrollHeight:r,style:s}=e;requestAnimationFrame(()=>{s.minHeight="initial",s.height=r+"px",s.transition="all ".concat(n,"ms"),requestAnimationFrame(()=>{s.height="0",s.padding="0",s.margin="0",setTimeout(t,n)})})}(e,d,i):d()};h||(c?t():(p.current=1,e.className+=" ".concat(m),e.addEventListener("animationend",t)))},[h]),t.createElement(t.Fragment,null,o)}}function Ja(e,t){return{content:Xa(e.content,e.props),containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,reason:e.removalReason,status:t}}function Xa(e,n){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(0,t.isValidElement)(e)&&!Ka(e.type)?(0,t.cloneElement)(e,{closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):Wa(e)?e({closeToast:n.closeToast,toastProps:n,data:n.data,isPaused:r}):e}function Za(e){let{delay:n,isRunning:r,closeToast:s,type:a="default",hide:i,className:o,controlledProgress:l,progress:c,rtl:d,isIn:u,theme:h}=e,A=i||l&&0===c,f={animationDuration:"".concat(n,"ms"),animationPlayState:r?"running":"paused"};l&&(f.transform="scaleX(".concat(c,")"));let m=Qa("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated","Toastify__progress-bar-theme--".concat(h),"Toastify__progress-bar--".concat(a),{"Toastify__progress-bar--rtl":d}),p=Wa(o)?o({rtl:d,type:a,defaultClassName:m}):Qa(m,o),g={[l&&c>=1?"onTransitionEnd":"onAnimationEnd"]:l&&c<1?null:()=>{u&&s()}};return t.createElement("div",{className:"Toastify__progress-bar--wrp","data-hidden":A},t.createElement("div",{className:"Toastify__progress-bar--bg Toastify__progress-bar-theme--".concat(h," Toastify__progress-bar--").concat(a)}),t.createElement("div",N({role:"progressbar","aria-hidden":A?"true":"false","aria-label":"notification timer",className:p,style:f},g)))}var $a=1,ei=()=>"".concat($a++);function ti(e,t,n){let r=1,s=0,a=[],i=[],o=t,l=new Map,c=new Set,d=()=>{i=Array.from(l.values()),c.forEach(e=>e())},u=e=>{var t,n;null==(n=null==(t=e.props)?void 0:t.onClose)||n.call(t,e.removalReason),e.isActive=!1},h=e=>{if(null==e)l.forEach(u);else{let t=l.get(e);t&&u(t)}d()},A=e=>{var t,r;let{toastId:s,updateId:a}=e.props,i=null==a;e.staleId&&l.delete(e.staleId),e.isActive=!0,l.set(s,e),d(),n(Ja(e,i?"added":"updated")),i&&(null==(r=(t=e.props).onOpen)||r.call(t))};return{id:e,props:o,observe:e=>(c.add(e),()=>c.delete(e)),toggle:(e,t)=>{l.forEach(n=>{var r;(null==t||t===n.props.toastId)&&(null==(r=n.toggle)||r.call(n,e))})},removeToast:h,toasts:l,clearQueue:()=>{s-=a.length,a=[]},buildToast:(t,i)=>{if((t=>{let{containerId:n,toastId:r,updateId:s}=t,a=n?n!==e:1!==e,i=l.has(r)&&null==s;return a||i})(i))return;let{toastId:c,updateId:u,data:f,staleId:m,delay:p}=i,g=null==u;g&&s++;let x=N(N(N({},o),{},{style:o.toastStyle,key:r++},Object.fromEntries(Object.entries(i).filter(e=>{let[t,n]=e;return null!=n}))),{},{toastId:c,updateId:u,data:f,isIn:!1,className:Va(i.className||o.toastClassName),progressClassName:Va(i.progressClassName||o.progressClassName),autoClose:!i.isLoading&&qa(i.autoClose,o.autoClose),closeToast(e){l.get(c).removalReason=e,h(c)},deleteToast(){let e=l.get(c);if(null!=e){if(n(Ja(e,"removed")),l.delete(c),s--,s<0&&(s=0),a.length>0)return void A(a.shift());d()}}});x.closeButton=o.closeButton,!1===i.closeButton||Ga(i.closeButton)?x.closeButton=i.closeButton:!0===i.closeButton&&(x.closeButton=!Ga(o.closeButton)||o.closeButton);let b={content:t,props:x,staleId:m};o.limit&&o.limit>0&&s>o.limit&&g?a.push(b):Ha(p)?setTimeout(()=>{A(b)},p):A(b)},setProps(e){o=e},setToggle:(e,t)=>{let n=l.get(e);n&&(n.toggle=t)},isToastActive:e=>{var t;return null==(t=l.get(e))?void 0:t.isActive},getSnapshot:()=>i}}var ni=new Map,ri=[],si=new Set,ai=e=>si.forEach(t=>t(e)),ii=()=>ni.size>0;function oi(e,t){var n;if(t)return!(null==(n=ni.get(t))||!n.isToastActive(e));let r=!1;return ni.forEach(t=>{t.isToastActive(e)&&(r=!0)}),r}function li(e){if(ii()){if(null==e||(e=>Ka(e)||Ha(e))(e))ni.forEach(t=>{t.removeToast(e)});else if(e&&("containerId"in e||"id"in e)){let t=ni.get(e.containerId);t?t.removeToast(e.id):ni.forEach(t=>{t.removeToast(e.id)})}}else ri=ri.filter(t=>null!=e&&t.options.toastId!==e)}function ci(e,t){Ga(e)&&(ii()||ri.push({content:e,options:t}),ni.forEach(n=>{n.buildToast(e,t)}))}function di(e,t){ni.forEach(n=>{(null==t||null==t||!t.containerId||(null==t?void 0:t.containerId)===n.id)&&n.toggle(e,null==t?void 0:t.id)})}function ui(e){let t=e.containerId||1;return{subscribe(n){let r=ti(t,e,ai);ni.set(t,r);let s=r.observe(n);return ri.forEach(e=>ci(e.content,e.options)),ri=[],()=>{s(),ni.delete(t)}},setProps(e){var n;null==(n=ni.get(t))||n.setProps(e)},getSnapshot(){var e;return null==(e=ni.get(t))?void 0:e.getSnapshot()}}}function hi(e){return e&&(Ka(e.toastId)||Ha(e.toastId))?e.toastId:ei()}function Ai(e,t){return ci(e,t),t.toastId}function fi(e,t){return N(N({},t),{},{type:t&&t.type||e,toastId:hi(t)})}function mi(e){return(t,n)=>Ai(t,fi(e,n))}function pi(e,t){return Ai(e,fi("default",t))}function gi(e){let[n,r]=(0,t.useState)(!1),[s,a]=(0,t.useState)(!1),i=(0,t.useRef)(null),o=(0,t.useRef)({start:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,didMove:!1}).current,{autoClose:l,pauseOnHover:c,closeToast:d,onClick:u,closeOnClick:h}=e;function A(){r(!0)}function f(){r(!1)}function m(t){let r=i.current;if(o.canDrag&&r){o.didMove=!0,n&&f(),"x"===e.draggableDirection?o.delta=t.clientX-o.start:o.delta=t.clientY-o.start,o.start!==t.clientX&&(o.canCloseOnClick=!1);let s="x"===e.draggableDirection?"".concat(o.delta,"px, var(--y)"):"0, calc(".concat(o.delta,"px + var(--y))");r.style.transform="translate3d(".concat(s,",0)"),r.style.opacity="".concat(1-Math.abs(o.delta/o.removalDistance))}}function p(){document.removeEventListener("pointermove",m),document.removeEventListener("pointerup",p);let t=i.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return a(!0),e.closeToast(!0),void e.collapseAll();t.style.transition="transform 0.2s, opacity 0.2s",t.style.removeProperty("transform"),t.style.removeProperty("opacity")}}(function(e){var t;null==(t=ni.get(e.containerId||1))||t.setToggle(e.id,e.fn)})({id:e.toastId,containerId:e.containerId,fn:r}),(0,t.useEffect)(()=>{if(e.pauseOnFocusLoss)return document.hasFocus()||f(),window.addEventListener("focus",A),window.addEventListener("blur",f),()=>{window.removeEventListener("focus",A),window.removeEventListener("blur",f)}},[e.pauseOnFocusLoss]);let g={onPointerDown:function(t){if(!0===e.draggable||e.draggable===t.pointerType){o.didMove=!1,document.addEventListener("pointermove",m),document.addEventListener("pointerup",p);let n=i.current;o.canCloseOnClick=!0,o.canDrag=!0,n.style.transition="none","x"===e.draggableDirection?(o.start=t.clientX,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=t.clientY,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent)/100)}},onPointerUp:function(t){let{top:n,bottom:r,left:s,right:a}=i.current.getBoundingClientRect();"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&t.clientX>=s&&t.clientX<=a&&t.clientY>=n&&t.clientY<=r?f():A()}};return l&&c&&(g.onMouseEnter=f,e.stacked||(g.onMouseLeave=A)),h&&(g.onClick=e=>{u&&u(e),o.canCloseOnClick&&d(!0)}),{playToast:A,pauseToast:f,isRunning:n,preventExitTransition:s,toastRef:i,eventHandlers:g}}pi.loading=(e,t)=>Ai(e,fi("default",N({isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1},t))),pi.promise=function(e,t,n){let r,{pending:s,error:a,success:i}=t;s&&(r=Ka(s)?pi.loading(s,n):pi.loading(s.render,N(N({},n),s)));let o={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,s)=>{if(null==t)return void pi.dismiss(r);let a=N(N(N({type:e},o),n),{},{data:s}),i=Ka(t)?{render:t}:t;return r?pi.update(r,N(N({},a),i)):pi(i.render,N(N({},a),i)),s},c=Wa(e)?e():e;return c.then(e=>l("success",i,e)).catch(e=>l("error",a,e)),c},pi.success=mi("success"),pi.info=mi("info"),pi.error=mi("error"),pi.warning=mi("warning"),pi.warn=pi.warning,pi.dark=(e,t)=>Ai(e,fi("default",N({theme:"dark"},t))),pi.dismiss=function(e){li(e)},pi.clearWaitingQueue=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};ni.forEach(t=>{t.props.limit&&(!e.containerId||t.id===e.containerId)&&t.clearQueue()})},pi.isActive=oi,pi.update=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=((e,t)=>{let{containerId:n}=t;var r;return null==(r=ni.get(n||1))?void 0:r.toasts.get(e)})(e,t);if(n){let{props:r,content:s}=n,a=N(N(N({delay:100},r),t),{},{toastId:t.toastId||e,updateId:ei()});a.toastId!==e&&(a.staleId=e);let i=a.render||s;delete a.render,Ai(i,a)}},pi.done=e=>{pi.update(e,{progress:1})},pi.onChange=function(e){return si.add(e),()=>{si.delete(e)}},pi.play=e=>di(!0,e),pi.pause=e=>di(!1,e);var xi="undefined"!=typeof window?t.useLayoutEffect:t.useEffect,bi=e=>{let{theme:n,type:r,isLoading:s}=e,a=v(e,za);return t.createElement("svg",N({viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===n?"currentColor":"var(--toastify-icon-color-".concat(r,")")},a))};var yi={info:function(e){return t.createElement(bi,N({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return t.createElement(bi,N({},e),t.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return t.createElement(bi,N({},e),t.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return t.createElement(bi,N({},e),t.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return t.createElement("div",{className:"Toastify__spinner"})}};function vi(e){let{theme:n,type:r,isLoading:s,icon:a}=e,i=null,o={theme:n,type:r};return!1===a||(Wa(a)?i=a(N(N({},o),{},{isLoading:s})):(0,t.isValidElement)(a)?i=(0,t.cloneElement)(a,o):s?i=yi.spinner():(e=>e in yi)(r)&&(i=yi[r](o))),i}var wi=e=>{let{isRunning:n,preventExitTransition:r,toastRef:s,eventHandlers:a,playToast:i}=gi(e),{closeButton:o,children:l,autoClose:c,onClick:d,type:u,hideProgressBar:h,closeToast:A,transition:f,position:m,className:p,style:g,progressClassName:x,updateId:b,role:y,progress:v,rtl:w,toastId:j,deleteToast:_,isIn:C,isLoading:S,closeOnClick:k,theme:B,ariaLabel:E}=e,L=Qa("Toastify__toast","Toastify__toast-theme--".concat(B),"Toastify__toast--".concat(u),{"Toastify__toast--rtl":w},{"Toastify__toast--close-on-click":k}),M=Wa(p)?p({rtl:w,position:m,type:u,defaultClassName:L}):Qa(L,p),F=vi(e),I=!!v||!c,D={closeToast:A,type:u,theme:B},T=null;return!1===o||(T=Wa(o)?o(D):(0,t.isValidElement)(o)?(0,t.cloneElement)(o,D):function(e){let{closeToast:n,theme:r,ariaLabel:s="close"}=e;return t.createElement("button",{className:"Toastify__close-button Toastify__close-button--".concat(r),type:"button",onClick:e=>{e.stopPropagation(),n(!0)},"aria-label":s},t.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},t.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}(D)),t.createElement(f,{isIn:C,done:_,position:m,preventExitTransition:r,nodeRef:s,playToast:i},t.createElement("div",N(N({id:j,tabIndex:0,onClick:d,"data-in":C,className:M},a),{},{style:g,ref:s},C&&{role:y,"aria-label":E}),null!=F&&t.createElement("div",{className:Qa("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!S})},F),Xa(l,e,!n),T,!e.customProgressBar&&t.createElement(Za,N(N({},b&&!I?{key:"p-".concat(b)}:{}),{},{rtl:w,theme:B,delay:c,isRunning:n,isIn:C,closeToast:A,hide:h,type:u,className:x,controlledProgress:I,progress:v||0}))))},ji=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return{enter:"Toastify--animate Toastify__".concat(e,"-enter"),exit:"Toastify--animate Toastify__".concat(e,"-exit"),appendPosition:t}},Ni=Ya(ji("bounce",!0)),_i=(Ya(ji("slide",!0)),Ya(ji("zoom")),Ya(ji("flip")),{position:"top-right",transition:Ni,autoClose:5e3,closeButton:!0,pauseOnHover:!0,pauseOnFocusLoss:!0,draggable:"touch",draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light","aria-label":"Notifications Alt+T",hotKeys:e=>e.altKey&&"KeyT"===e.code});function Ci(e){let n=N(N({},_i),e),r=e.stacked,[s,a]=(0,t.useState)(!0),i=(0,t.useRef)(null),{getToastToRender:o,isToastActive:l,count:c}=function(e){var n;let{subscribe:r,getSnapshot:s,setProps:a}=(0,t.useRef)(ui(e)).current;a(e);let i=null==(n=(0,t.useSyncExternalStore)(r,s,s))?void 0:n.slice();return{getToastToRender:function(t){if(!i)return[];let n=new Map;return e.newestOnTop&&i.reverse(),i.forEach(e=>{let{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)}),Array.from(n,e=>t(e[0],e[1]))},isToastActive:oi,count:null==i?void 0:i.length}}(n),{className:d,style:u,rtl:h,containerId:A,hotKeys:f}=n;function m(e){let t=Qa("Toastify__toast-container","Toastify__toast-container--".concat(e),{"Toastify__toast-container--rtl":h});return Wa(d)?d({position:e,rtl:h,defaultClassName:t}):Qa(t,Va(d))}function p(){r&&(a(!0),pi.play())}return xi(()=>{var e;if(r){let t=i.current.querySelectorAll('[data-in="true"]'),r=12,a=null==(e=n.position)?void 0:e.includes("top"),o=0,l=0;Array.from(t).reverse().forEach((e,t)=>{let n=e;n.classList.add("Toastify__toast--stacked"),t>0&&(n.dataset.collapsed="".concat(s)),n.dataset.pos||(n.dataset.pos=a?"top":"bot");let i=o*(s?.2:1)+(s?0:r*t);n.style.setProperty("--y","".concat(a?i:-1*i,"px")),n.style.setProperty("--g","".concat(r)),n.style.setProperty("--s","".concat(1-(s?l:0))),o+=n.offsetHeight,l+=.025})}},[s,c,r]),(0,t.useEffect)(()=>{function e(e){var t;let n=i.current;f(e)&&(null==(t=n.querySelector('[tabIndex="0"]'))||t.focus(),a(!1),pi.pause()),"Escape"===e.key&&(document.activeElement===n||null!=n&&n.contains(document.activeElement))&&(a(!0),pi.play())}return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[f]),t.createElement("section",{ref:i,className:"Toastify",id:A,onMouseEnter:()=>{r&&(a(!1),pi.pause())},onMouseLeave:p,"aria-live":"polite","aria-atomic":"false","aria-relevant":"additions text","aria-label":n["aria-label"]},o((e,n)=>{let s=n.length?N({},u):N(N({},u),{},{pointerEvents:"none"});return t.createElement("div",{tabIndex:-1,className:m(e),"data-stacked":r,style:s,key:"c-".concat(e)},n.map(e=>{let{content:n,props:s}=e;return t.createElement(wi,N(N({},s),{},{stacked:r,collapseAll:p,isIn:l(s.toastId,s.containerId),key:"t-".concat(s.key)}),n)}))}))}const Si=()=>{const[e,n]=(0,t.useState)({email:"",password:""}),[r,s]=(0,t.useState)({email:"",token:"",password:"",password_confirmation:""}),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[A,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(!1),j=sn(),_=t=>{n(N(N({},e),{},{[t.target.name]:t.target.value}))},C=e=>{s(N(N({},r),{},{[e.target.name]:e.target.value}))},S=e=>{let{show:t}=e;return t?(0,mr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,mr.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,mr.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):(0,mr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,mr.jsx)("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),(0,mr.jsx)("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})};return(0,mr.jsxs)("div",{className:"flex min-h-screen",children:[(0,mr.jsx)("div",{className:"hidden md:flex w-1/2 bg-indigo-600 text-white flex-col justify-center items-center p-8",children:(0,mr.jsx)("img",{src:"/imag.png",alt:"Logo",className:"w-[490px] h-[300px] mb-4"})}),(0,mr.jsx)("div",{className:"flex flex-col justify-center items-center w-full md:w-1/2 p-8 bg-gray-50",children:(0,mr.jsxs)("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold text-center mb-6",children:"SINFODE LOGIN"}),(0,mr.jsx)("p",{className:"text-center text-gray-600 mb-6",children:"Login with your credentials"}),(0,mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),i(""),l(!0);try{const t=await Ua.post("/login",e),{token:n,user:r}=t.data;localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(r)),l(!1),pi.success("Login successful! Redirecting...",{autoClose:2e3}),setTimeout(()=>{(e=>{switch(e.role){case"admin":j("/sinfodeadmin/dashboard");break;case"branch_manager":j("/sinfodemanager/dashboard");break;case"staff":j("/staff/dashboard");break;case"accountant":j("/account/dashboard");break;default:j("/")}})(r)},2e3)}catch(s){var n,r;l(!1);const e=(null===(n=s.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.message)||"Invalid credentials";i(e),pi.error(e)}},className:"space-y-5",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-medium mb-1",children:"Email"}),(0,mr.jsx)("input",{name:"email",type:"email",value:e.email,onChange:_,placeholder:"Enter your email",className:"border border-gray-300 rounded-md w-full p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-medium mb-1",children:"Password"}),(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{name:"password",type:c?"text":"password",value:e.password,onChange:_,placeholder:"Enter your password",className:"border border-gray-300 rounded-md w-full p-2 pr-10 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),(0,mr.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-indigo-600",onClick:()=>d(!c),children:(0,mr.jsx)(S,{show:c})})]})]}),(0,mr.jsx)("div",{className:"text-right",children:(0,mr.jsx)("button",{type:"button",onClick:()=>{s({email:e.email,token:"",password:"",password_confirmation:""}),x(!0)},className:"text-sm text-indigo-600 hover:underline",children:"Forgot Password?"})}),(0,mr.jsx)("button",{type:"submit",disabled:o,className:"w-full text-white text-lg p-2 rounded-md transition ".concat(o?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"),children:o?"Logging in...":"Login"})]})]})}),g&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Reset Password"}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),y(!0);try{const e=await Ua.post("/forgot-password",{email:r.email});y(!1),x(!1),s(t=>N(N({},t),{},{token:e.data.token})),pi.success("Password reset link sent! Check your email."),p(!0)}catch(a){var t,n;y(!1);const e=(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error sending reset link";pi.error(e)}},children:[(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-gray-700 mb-1",children:"Email"}),(0,mr.jsx)("input",{name:"email",type:"email",value:r.email,onChange:C,placeholder:"Enter your email",className:"border border-gray-300 rounded-md w-full p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>x(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",disabled:b,className:"px-4 py-2 text-white rounded-md transition ".concat(b?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"),children:b?"Sending...":"Send Reset Link"})]})]})]})}),m&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md p-6",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Set New Password"}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r.password===r.password_confirmation)if(r.token){w(!0);try{await Ua.post("/reset-password",r),w(!1),p(!1),s({email:"",token:"",password:"",password_confirmation:""}),pi.success("Password reset successfully! You can now login.")}catch(a){var t,n;w(!1);const e=(null===(t=a.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Error resetting password";pi.error(e)}}else pi.error("Reset token missing!");else pi.error("Passwords do not match!")},children:[(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-gray-700 mb-1",children:"Email"}),(0,mr.jsx)("input",{name:"email",type:"email",value:r.email,readOnly:!0,className:"border border-gray-300 rounded-md w-full p-2 bg-gray-100"})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-gray-700 mb-1",children:"New Password"}),(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{name:"password",type:u?"text":"password",value:r.password,onChange:C,placeholder:"Enter new password",className:"border border-gray-300 rounded-md w-full p-2 pr-10 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),(0,mr.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-indigo-600",onClick:()=>h(!u),children:(0,mr.jsx)(S,{show:u})})]})]}),(0,mr.jsxs)("div",{className:"mb-6",children:[(0,mr.jsx)("label",{className:"block text-gray-700 mb-1",children:"Confirm Password"}),(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{name:"password_confirmation",type:A?"text":"password",value:r.password_confirmation,onChange:C,placeholder:"Confirm password",className:"border border-gray-300 rounded-md w-full p-2 pr-10 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0}),(0,mr.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-indigo-600",onClick:()=>f(!A),children:(0,mr.jsx)(S,{show:A})})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>p(!1),className:"px-4 py-2 border border-gray-300 rounded-md hover:bg-gray-50 transition",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",disabled:v,className:"px-4 py-2 text-white rounded-md transition ".concat(v?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"),children:v?"Resetting...":"Reset Password"})]})]})]})}),(0,mr.jsx)(Ci,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},ki=()=>{const[e,n]=(0,t.useState)({email:"",password:""}),[,r]=(0,t.useState)(""),[,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),c=sn(),d=t=>{n(N(N({},e),{},{[t.target.name]:t.target.value}))};return(0,mr.jsxs)("div",{className:"flex min-h-screen",children:[(0,mr.jsx)("div",{className:"hidden md:flex w-1/2 bg-indigo-600 text-white flex-col justify-center items-center p-8",children:(0,mr.jsx)("img",{src:"/imag.png",alt:"Logo",className:"w-[490px] h-[300px] mb-4"})}),(0,mr.jsx)("div",{className:"flex flex-col justify-center items-center w-full md:w-1/2 p-8 bg-gray-50",children:(0,mr.jsxs)("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold text-center mb-6",children:"MANAGER LOGIN"}),(0,mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(""),s(!1),i(!0);try{const t=await Ua.post("/login",e),{token:n,user:r}=t.data;console.log("Login Successful:",t.data),localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(r)),s(!0),i(!1),pi.success("Login successful! Redirecting...",{position:"top-right",autoClose:2e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0}),setTimeout(()=>{"admin"===r.role?c("/sinfodeadmin/dashboard"):"branch_manager"===r.role?c("/sinfodemanager/dashboard"):"staff"===r.role?c("/staff/dashboard"):c("/")},2e3)}catch(o){var n,a;i(!1);const e=(null===(n=o.response)||void 0===n||null===(a=n.data)||void 0===a?void 0:a.message)||"Invalid credentials";r(e),pi.error(e,{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0})}},className:"space-y-5",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-1",children:"Email Address"}),(0,mr.jsx)("input",{id:"email",name:"email",type:"email",value:e.email,onChange:d,placeholder:"Enter your email",className:"border border-gray-300 rounded-md w-full p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{htmlFor:"password",className:"block text-gray-700 font-medium mb-1",children:"Password"}),(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{id:"password",name:"password",type:o?"text":"password",value:e.password,onChange:d,placeholder:"Enter your password",className:"border border-gray-300 rounded-md w-full p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 pr-10",required:!0}),(0,mr.jsx)("button",{type:"button",className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-indigo-600 focus:outline-none",onClick:()=>{l(!o)},children:o?(0,mr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,mr.jsx)("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),(0,mr.jsx)("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):(0,mr.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[(0,mr.jsx)("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),(0,mr.jsx)("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]})]}),(0,mr.jsx)("button",{type:"submit",disabled:a,className:"w-full text-white text-lg p-2 rounded-md transition ".concat(a?"bg-indigo-400 cursor-not-allowed":"bg-indigo-600 hover:bg-indigo-700"),children:a?"Logging in...":"Login"})]})]})}),(0,mr.jsx)(Ci,{position:"top-right",autoClose:5e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0})]})},Bi=()=>{const[e,n]=(0,t.useState)({email:"",password:""}),[,r]=(0,t.useState)(""),[,s]=(0,t.useState)(!1),a=sn(),i=t=>{n(N(N({},e),{},{[t.target.name]:t.target.value}))};return(0,mr.jsxs)("div",{className:"flex min-h-screen",children:[(0,mr.jsx)("div",{className:"hidden md:flex w-1/2 bg-indigo-600 text-white flex-col justify-center items-center p-8",children:(0,mr.jsx)("img",{src:"/imag.png",alt:"Logo",className:"w-[490px] h-[300px] mb-4"})}),(0,mr.jsx)("div",{className:"flex flex-col justify-center items-center w-full md:w-1/2 p-8 bg-gray-50",children:(0,mr.jsxs)("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold text-center mb-6",children:"STAFF LOGIN"}),(0,mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(""),s(!1);try{const t=await Ua.post("/login",e),{token:n,user:r}=t.data;localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(r)),s(!0),pi.success("Login Successful"),"admin"===r.role?a("/sinfodeadmin/dashboard"):"branch_manager"===r.role?a("/sinfodemanager/dashboard"):"staff"===r.role?a("/staff/dashboard"):a("/")}catch(o){var n,i;const e=(null===(n=o.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Invalid credentials";r(e),pi.error(e)}},className:"space-y-5",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-1",children:"Email Address"}),(0,mr.jsx)("input",{id:"email",name:"email",type:"email",value:e.email,onChange:i,placeholder:"Enter your email",className:"border-gray-300 rounded-md w-full p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{htmlFor:"password",className:"block text-gray-700 font-medium mb-1",children:"Password"}),(0,mr.jsx)("div",{className:"relative",children:(0,mr.jsx)("input",{id:"password",name:"password",type:"password",value:e.password,onChange:i,placeholder:"Enter your password",className:"border-gray-300 rounded-md w-full p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 pr-10"})})]}),(0,mr.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white text-lg p-2 rounded-md hover:bg-indigo-700 transition",children:"Login"})]})]})}),(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3})]})},Ei=()=>{const[e,n]=(0,t.useState)({email:"",password:""}),[,r]=(0,t.useState)(""),[,s]=(0,t.useState)(!1),a=sn(),i=t=>{n(N(N({},e),{},{[t.target.name]:t.target.value}))};return(0,mr.jsxs)("div",{className:"flex min-h-screen",children:[(0,mr.jsx)("div",{className:"hidden md:flex w-1/2 bg-indigo-600 text-white flex-col justify-center items-center p-8",children:(0,mr.jsx)("img",{src:"/imag.png",alt:"Logo",className:"w-[490px] h-[300px] mb-4"})}),(0,mr.jsx)("div",{className:"flex flex-col justify-center items-center w-full md:w-1/2 p-8 bg-gray-50",children:(0,mr.jsxs)("div",{className:"w-full max-w-md bg-white p-8 rounded-lg shadow-lg",children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold text-center mb-6",children:"ACCOUNTANT LOGIN"}),(0,mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),r(""),s(!1);try{const t=await Ua.post("/login",e),{token:n,user:r}=t.data;localStorage.setItem("token",n),localStorage.setItem("user",JSON.stringify(r)),s(!0),pi.success("Login Successful"),"accountant"===r.role?a("/account/dashboard"):a("account/login")}catch(o){var n,i;const e=(null===(n=o.response)||void 0===n||null===(i=n.data)||void 0===i?void 0:i.message)||"Invalid credentials";r(e),pi.error(e)}},className:"space-y-5",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{htmlFor:"email",className:"block text-gray-700 font-medium mb-1",children:"Email Address"}),(0,mr.jsx)("input",{id:"email",name:"email",type:"email",value:e.email,onChange:i,placeholder:"Enter your email",className:"border-gray-300 rounded-md w-full p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{htmlFor:"password",className:"block text-gray-700 font-medium mb-1",children:"Password"}),(0,mr.jsx)("div",{className:"relative",children:(0,mr.jsx)("input",{id:"password",name:"password",type:"password",value:e.password,onChange:i,placeholder:"Enter your password",className:"border-gray-300 rounded-md w-full p-2 focus:outline-none focus:ring-2 focus:ring-indigo-500 pr-10"})})]}),(0,mr.jsx)("button",{type:"submit",className:"w-full bg-indigo-600 text-white text-lg p-2 rounded-md hover:bg-indigo-700 transition",children:"Login"})]})]})}),(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3})," "]})},Li=()=>(0,mr.jsxs)(Cn,{children:[(0,mr.jsx)(Nn,{path:"/",element:(0,mr.jsx)(pr,{})}),(0,mr.jsx)(Nn,{path:"/sinfode-admin/login",element:(0,mr.jsx)(Si,{})}),(0,mr.jsx)(Nn,{path:"/sinfode-manager/login",element:(0,mr.jsx)(ki,{})}),(0,mr.jsx)(Nn,{path:"/staff/login",element:(0,mr.jsx)(Bi,{})}),(0,mr.jsx)(Nn,{path:"/account/login",element:(0,mr.jsx)(Ei,{})})]}),Mi=e=>{let{children:t}=e;return localStorage.getItem("token")?t:(0,mr.jsx)(jn,{to:"/",replace:!0})};var Fi={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Ii=t.createContext&&t.createContext(Fi),Di=["attr","size","title"];function Ti(e,t){if(null==e)return{};var n,r,s=function(e,t){if(null==e)return{};var n={};for(var r in e)if(Object.prototype.hasOwnProperty.call(e,r)){if(t.indexOf(r)>=0)continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(s[n]=e[n])}return s}function Oi(){return Oi=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Oi.apply(this,arguments)}function Pi(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ui(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Pi(Object(n),!0).forEach(function(t){Ri(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Pi(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function Ri(e,t,n){return t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qi(e){return e&&e.map((e,n)=>t.createElement(e.tag,Ui({key:n},e.attr),Qi(e.child)))}function zi(e){return n=>t.createElement(Hi,Oi({attr:Ui({},e.attr)},n),Qi(e.child))}function Hi(e){var n=n=>{var r,{attr:s,size:a,title:i}=e,o=Ti(e,Di),l=a||n.size||"1em";return n.className&&(r=n.className),e.className&&(r=(r?r+" ":"")+e.className),t.createElement("svg",Oi({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},n.attr,s,o,{className:r,style:Ui(Ui({color:e.color||n.color},n.style),e.style),height:l,width:l,xmlns:"http://www.w3.org/2000/svg"}),i&&t.createElement("title",null,i),e.children)};return void 0!==Ii?t.createElement(Ii.Consumer,null,e=>n(e)):n(Fi)}function Ki(e){return zi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 2a6 6 0 00-6 6v3.586l-.707.707A1 1 0 004 14h12a1 1 0 00.707-1.707L16 11.586V8a6 6 0 00-6-6zM10 18a3 3 0 01-3-3h6a3 3 0 01-3 3z"},child:[]}]})(e)}function Wi(e){return zi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M6 2a1 1 0 00-1 1v1H4a2 2 0 00-2 2v10a2 2 0 002 2h12a2 2 0 002-2V6a2 2 0 00-2-2h-1V3a1 1 0 10-2 0v1H7V3a1 1 0 00-1-1zm0 5a1 1 0 000 2h8a1 1 0 100-2H6z",clipRule:"evenodd"},child:[]}]})(e)}function Vi(e){return zi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}function qi(e){return zi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M10 6a2 2 0 110-4 2 2 0 010 4zM10 12a2 2 0 110-4 2 2 0 010 4zM10 18a2 2 0 110-4 2 2 0 010 4z"},child:[]}]})(e)}function Gi(e){return zi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M5.05 4.05a7 7 0 119.9 9.9L10 18.9l-4.95-4.95a7 7 0 010-9.9zM10 11a2 2 0 100-4 2 2 0 000 4z",clipRule:"evenodd"},child:[]}]})(e)}function Yi(e){return zi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2.003 5.884L10 9.882l7.997-3.998A2 2 0 0016 4H4a2 2 0 00-1.997 1.884z"},child:[]},{tag:"path",attr:{d:"M18 8.118l-8 4-8-4V14a2 2 0 002 2h12a2 2 0 002-2V8.118z"},child:[]}]})(e)}function Ji(e){return zi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z",clipRule:"evenodd"},child:[]}]})(e)}function Xi(e){return zi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4 4a2 2 0 012-2h8a2 2 0 012 2v12a1 1 0 110 2h-3a1 1 0 01-1-1v-2a1 1 0 00-1-1H9a1 1 0 00-1 1v2a1 1 0 01-1 1H4a1 1 0 110-2V4zm3 1h2v2H7V5zm2 4H7v2h2V9zm2-4h2v2h-2V5zm2 4h-2v2h2V9z",clipRule:"evenodd"},child:[]}]})(e)}function Zi(e){return zi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{d:"M2 3a1 1 0 011-1h2.153a1 1 0 01.986.836l.74 4.435a1 1 0 01-.54 1.06l-1.548.773a11.037 11.037 0 006.105 6.105l.774-1.548a1 1 0 011.059-.54l4.435.74a1 1 0 01.836.986V17a1 1 0 01-1 1h-2C7.82 18 2 12.18 2 5V3z"},child:[]}]})(e)}function $i(e){return zi({tag:"svg",attr:{viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},child:[{tag:"path",attr:{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"},child:[]}]})(e)}const eo=e=>{let{toggleSidebar:n,isSidebarOpen:r,isMobile:s}=e;const[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)(0),m=(0,t.useRef)(null),p=(0,t.useRef)(null),g=sn(),x=(y(e=>e.branch.selectedBranch),"admin_lastSeenDiscountRequestCount"),b=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/discount-requests",{headers:{Authorization:"Bearer ".concat(e)}});if(t.data&&Array.isArray(t.data)){const e=t.data.filter(e=>{var t;return"pending"===(null===(t=e.status)||void 0===t?void 0:t.toLowerCase())}).sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));h(e);const n=localStorage.getItem(x),r=n?Number(n):0,s=e.length>r?e.length-r:0;f(s)}}catch(e){console.error("Error fetching discount requests:",e)}};(0,t.useEffect)(()=>{b();const e=setInterval(b,3e4);return()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{const e=localStorage.getItem("user");e&&l(JSON.parse(e))},[]);const v=e=>{m.current&&!m.current.contains(e.target)&&i(!1),c&&p.current&&!p.current.contains(e.target)&&!e.target.closest("#discount-modal")&&d(!1)};(0,t.useEffect)(()=>(a||c?document.addEventListener("mousedown",v):document.removeEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)),[a,c]);const w=()=>{d(e=>{const t=!e;return t&&(localStorage.setItem(x,u.length.toString()),f(0)),t})};return(0,mr.jsx)("header",{className:"bg-[#F4F9FD] border-b border-gray-200 sticky top-0 z-10",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between p-4",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("button",{onClick:n,className:"p-2 rounded-lg hover:bg-white transition-colors lg:hidden","aria-label":"Toggle menu",children:r?(0,mr.jsx)($i,{size:24}):(0,mr.jsx)(Ji,{size:24})}),(0,mr.jsx)("div",{className:"lg:hidden",children:(0,mr.jsx)("h1",{className:"text-xl font-bold text-gray-800",children:"Sinfode Admin"})})]}),(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsxs)("div",{ref:p,className:"relative cursor-pointer text-gray-700 hover:text-gray-900 transition-colors",onClick:w,"aria-label":"Discount Requests",role:"button",tabIndex:0,onKeyDown:e=>"Enter"===e.key&&w(),children:[(0,mr.jsx)(Ki,{size:22}),A>0&&(0,mr.jsx)("span",{className:"absolute -top-1 -right-2 bg-red-600 text-white text-xs rounded-full px-1.5 py-0.5 font-bold",children:A}),c&&(0,mr.jsx)("div",{id:"discount-modal",className:"absolute right-0 mt-2 w-96 max-h-96 bg-white rounded-lg shadow-lg overflow-y-auto border border-gray-300 z-50",style:{top:"calc(100% + 6px)"},children:(0,mr.jsxs)("div",{className:"p-5",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Pending Discount Requests"}),0===u.length?(0,mr.jsx)("p",{className:"text-gray-500 italic",children:"No pending requests."}):(0,mr.jsx)("ul",{className:"divide-y divide-gray-200",children:u.slice(0,2).map(e=>{var t,n;return(0,mr.jsxs)("li",{className:"py-3",children:[(0,mr.jsxs)("h3",{className:"font-semibold text-gray-900",children:["Branch: ",null===(t=e.branch)||void 0===t?void 0:t.branch_name]}),(0,mr.jsxs)("p",{className:"text-sm text-gray-700",children:["Requested by: ",null===(n=e.requester)||void 0===n?void 0:n.name]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Current:"," ",e.current_range?"".concat(e.current_range,"%"):e.current_amount," \u2192 ","Requested:"," ",e.requested_range?"".concat(e.requested_range,"%"):e.requested_amount]}),(0,mr.jsx)("p",{className:"text-xs text-yellow-600 mt-1 font-medium",children:"Status: Pending"})]},e.id)})}),(0,mr.jsx)("div",{className:"flex justify-end mt-4",children:(0,mr.jsx)("button",{className:"px-3 py-1.5 text-sm font-medium bg-blue-600 text-white rounded hover:bg-blue-700 transition",onClick:()=>{d(!1),g("/sinfodeadmin/discount")},children:"View All"})})]})})]}),(0,mr.jsxs)("div",{ref:m,className:"relative",children:[(0,mr.jsxs)("button",{onClick:()=>i(!a),className:"flex items-center gap-3 px-4 py-2 rounded-lg bg-white hover:bg-gray-50 transition-colors shadow-sm",children:[(0,mr.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden border-2 border-gray-200",children:(0,mr.jsx)("img",{src:"https://sipl.ind.in/wp-content/uploads/2022/07/dummy-user.png",alt:"Admin Profile",className:"w-full h-full object-cover"})}),(0,mr.jsxs)("div",{className:"hidden sm:flex flex-col text-left",children:[(0,mr.jsx)("span",{className:"text-gray-700 font-medium",children:(null===o||void 0===o?void 0:o.name)||"Admin"}),(0,mr.jsx)("span",{className:"text-xs text-gray-500",children:(null===o||void 0===o?void 0:o.role)||"Role"})]}),(0,mr.jsx)(Vi,{size:16,className:"text-gray-500 transition-transform ".concat(a?"rotate-180":"")})]}),a&&(0,mr.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white rounded-lg shadow-lg border border-gray-200 py-1 z-50",children:[(0,mr.jsx)(or,{to:"/sinfodeadmin/profile",className:"block px-4 py-2 text-sm text-gray-700 hover:bg-gray-50",onClick:()=>i(!1),children:"\ud83d\udc64 Profile Settings"}),(0,mr.jsx)("button",{className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-gray-50",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},children:"\ud83d\udeaa Logout"})]})]})]})]})})};function to(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M223.7 239l136-136c9.4-9.4 24.6-9.4 33.9 0l22.6 22.6c9.4 9.4 9.4 24.6 0 33.9L319.9 256l96.4 96.4c9.4 9.4 9.4 24.6 0 33.9L393.7 409c-9.4 9.4-24.6 9.4-33.9 0l-136-136c-9.5-9.4-9.5-24.6-.1-34zm-192 34l136 136c9.4 9.4 24.6 9.4 33.9 0l22.6-22.6c9.4-9.4 9.4-24.6 0-33.9L127.9 256l96.4-96.4c9.4-9.4 9.4-24.6 0-33.9L201.7 103c-9.4-9.4-24.6-9.4-33.9 0l-136 136c-9.5 9.4-9.5 24.6-.1 34z"},child:[]}]})(e)}function no(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.3 273l-136 136c-9.4 9.4-24.6 9.4-33.9 0l-22.6-22.6c-9.4-9.4-9.4-24.6 0-33.9l96.4-96.4-96.4-96.4c-9.4-9.4-9.4-24.6 0-33.9L54.3 103c9.4-9.4 24.6-9.4 33.9 0l136 136c9.5 9.4 9.5 24.6.1 34zm192-34l-136-136c-9.4-9.4-24.6-9.4-33.9 0l-22.6 22.6c-9.4 9.4-9.4 24.6 0 33.9l96.4 96.4-96.4 96.4c-9.4 9.4-9.4 24.6 0 33.9l22.6 22.6c9.4 9.4 24.6 9.4 33.9 0l136-136c9.4-9.2 9.4-24.4 0-33.8z"},child:[]}]})(e)}function ro(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(e)}function so(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(e)}function ao(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M34.9 289.5l-22.2-22.2c-9.4-9.4-9.4-24.6 0-33.9L207 39c9.4-9.4 24.6-9.4 33.9 0l194.3 194.3c9.4 9.4 9.4 24.6 0 33.9L413 289.4c-9.5 9.5-25 9.3-34.3-.4L264 168.6V456c0 13.3-10.7 24-24 24h-32c-13.3 0-24-10.7-24-24V168.6L69.2 289.1c-9.3 9.8-24.8 10-34.3.4z"},child:[]}]})(e)}function io(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(e)}function oo(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M448 360V24c0-13.3-10.7-24-24-24H96C43 0 0 43 0 96v320c0 53 43 96 96 96h328c13.3 0 24-10.7 24-24v-16c0-7.5-3.5-14.3-8.9-18.7-4.2-15.4-4.2-59.3 0-74.7 5.4-4.3 8.9-11.1 8.9-18.6zM128 134c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm0 64c0-3.3 2.7-6 6-6h212c3.3 0 6 2.7 6 6v20c0 3.3-2.7 6-6 6H134c-3.3 0-6-2.7-6-6v-20zm253.4 250H96c-17.7 0-32-14.3-32-32 0-17.6 14.4-32 32-32h285.4c-1.9 17.1-1.9 46.9 0 64z"},child:[]}]})(e)}function lo(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M436 480h-20V24c0-13.255-10.745-24-24-24H56C42.745 0 32 10.745 32 24v456H12c-6.627 0-12 5.373-12 12v20h448v-20c0-6.627-5.373-12-12-12zM128 76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76zm0 96c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40zm52 148h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40c0 6.627-5.373 12-12 12zm76 160h-64v-84c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v84zm64-172c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12v-40c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40zm0-96c0 6.627-5.373 12-12 12h-40c-6.627 0-12-5.373-12-12V76c0-6.627 5.373-12 12-12h40c6.627 0 12 5.373 12 12v40z"},child:[]}]})(e)}function co(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 0H48C22.4 0 0 22.4 0 48v416c0 25.6 22.4 48 48 48h352c25.6 0 48-22.4 48-48V48c0-25.6-22.4-48-48-48zM128 435.2c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm0-128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8v-38.4c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v38.4zm128 128c0 6.4-6.4 12.8-12.8 12.8h-38.4c-6.4 0-12.8-6.4-12.8-12.8V268.8c0-6.4 6.4-12.8 12.8-12.8h38.4c6.4 0 12.8 6.4 12.8 12.8v166.4zm0-256c0 6.4-6.4 12.8-12.8 12.8H76.8c-6.4 0-12.8-6.4-12.8-12.8V76.8C64 70.4 70.4 64 76.8 64h294.4c6.4 0 12.8 6.4 12.8 12.8v102.4z"},child:[]}]})(e)}function uo(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(e)}function ho(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M12 192h424c6.6 0 12 5.4 12 12v260c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V204c0-6.6 5.4-12 12-12zm436-44v-36c0-26.5-21.5-48-48-48h-48V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H160V12c0-6.6-5.4-12-12-12h-40c-6.6 0-12 5.4-12 12v52H48C21.5 64 0 85.5 0 112v36c0 6.6 5.4 12 12 12h424c6.6 0 12-5.4 12-12z"},child:[]}]})(e)}function Ao(e){return zi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(e)}function fo(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M332.8 320h38.4c6.4 0 12.8-6.4 12.8-12.8V172.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v134.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V76.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v230.4c0 6.4 6.4 12.8 12.8 12.8zm-288 0h38.4c6.4 0 12.8-6.4 12.8-12.8v-70.4c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v70.4c0 6.4 6.4 12.8 12.8 12.8zm96 0h38.4c6.4 0 12.8-6.4 12.8-12.8V108.8c0-6.4-6.4-12.8-12.8-12.8h-38.4c-6.4 0-12.8 6.4-12.8 12.8v198.4c0 6.4 6.4 12.8 12.8 12.8zM496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16z"},child:[]}]})(e)}function mo(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(e)}function po(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(e)}function go(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"},child:[]}]})(e)}function xo(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(e)}function bo(e){return zi({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z"},child:[]}]})(e)}function yo(e){return zi({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z"},child:[]}]})(e)}function vo(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(e)}function wo(e){return zi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M336 64h-80c0-35.3-28.7-64-64-64s-64 28.7-64 64H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V112c0-26.5-21.5-48-48-48zM192 40c13.3 0 24 10.7 24 24s-10.7 24-24 24-24-10.7-24-24 10.7-24 24-24zm121.2 231.8l-143 141.8c-4.7 4.7-12.3 4.6-17-.1l-82.6-83.3c-4.7-4.7-4.6-12.3.1-17L99.1 285c4.7-4.7 12.3-4.6 17 .1l46 46.4 106-105.2c4.7-4.7 12.3-4.6 17 .1l28.2 28.4c4.7 4.8 4.6 12.3-.1 17z"},child:[]}]})(e)}function jo(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(e)}function No(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M416 192c0-88.4-93.1-160-208-160S0 103.6 0 192c0 34.3 14.1 65.9 38 92-13.4 30.2-35.5 54.2-35.8 54.5-2.2 2.3-2.8 5.7-1.5 8.7S4.8 352 8 352c36.6 0 66.9-12.3 88.7-25 32.2 15.7 70.3 25 111.3 25 114.9 0 208-71.6 208-160zm122 220c23.9-26 38-57.7 38-92 0-66.9-53.5-124.2-129.3-148.1.9 6.6 1.3 13.3 1.3 20.1 0 105.9-107.7 192-240 192-10.8 0-21.3-.8-31.7-1.9C207.8 439.6 281.8 480 368 480c41 0 79.1-9.2 111.3-25 21.8 12.7 52.1 25 88.7 25 3.2 0 6.1-1.9 7.3-4.8 1.3-2.9.7-6.3-1.5-8.7-.3-.3-22.4-24.2-35.8-54.5z"},child:[]}]})(e)}function _o(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"},child:[]}]})(e)}function Co(e){return zi({tag:"svg",attr:{viewBox:"0 0 288 512"},child:[{tag:"path",attr:{d:"M209.2 233.4l-108-31.6C88.7 198.2 80 186.5 80 173.5c0-16.3 13.2-29.5 29.5-29.5h66.3c12.2 0 24.2 3.7 34.2 10.5 6.1 4.1 14.3 3.1 19.5-2l34.8-34c7.1-6.9 6.1-18.4-1.8-24.5C238 74.8 207.4 64.1 176 64V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48h-2.5C45.8 64-5.4 118.7.5 183.6c4.2 46.1 39.4 83.6 83.8 96.6l102.5 30c12.5 3.7 21.2 15.3 21.2 28.3 0 16.3-13.2 29.5-29.5 29.5h-66.3C100 368 88 364.3 78 357.5c-6.1-4.1-14.3-3.1-19.5 2l-34.8 34c-7.1 6.9-6.1 18.4 1.8 24.5 24.5 19.2 55.1 29.9 86.5 30v48c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-48.2c46.6-.9 90.3-28.6 105.7-72.7 21.5-61.6-14.6-124.8-72.5-141.7z"},child:[]}]})(e)}function So(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(e)}function ko(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(e)}function Bo(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M502.3 190.8c3.9-3.1 9.7-.2 9.7 4.7V400c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V195.6c0-5 5.7-7.8 9.7-4.7 22.4 17.4 52.1 39.5 154.1 113.6 21.1 15.4 56.7 47.8 92.2 47.6 35.7.3 72-32.8 92.3-47.6 102-74.1 131.6-96.3 154-113.7zM256 320c23.2.4 56.6-29.2 73.4-41.4 132.7-96.3 142.8-104.7 173.4-128.7 5.8-4.5 9.2-11.5 9.2-18.9v-19c0-26.5-21.5-48-48-48H48C21.5 64 0 85.5 0 112v19c0 7.4 3.4 14.3 9.2 18.9 30.6 23.9 40.7 32.4 173.4 128.7 16.8 12.2 50.2 41.8 73.4 41.4z"},child:[]}]})(e)}function Eo(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 168v-16c0-13.255 10.745-24 24-24h360V80c0-21.367 25.899-32.042 40.971-16.971l80 80c9.372 9.373 9.372 24.569 0 33.941l-80 80C409.956 271.982 384 261.456 384 240v-48H24c-13.255 0-24-10.745-24-24zm488 152H128v-48c0-21.314-25.862-32.08-40.971-16.971l-80 80c-9.372 9.373-9.372 24.569 0 33.941l80 80C102.057 463.997 128 453.437 128 432v-48h360c13.255 0 24-10.745 24-24v-16c0-13.255-10.745-24-24-24z"},child:[]}]})(e)}function Lo(e){return zi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M320 400c-75.85 0-137.25-58.71-142.9-133.11L72.2 185.82c-13.79 17.3-26.48 35.59-36.72 55.59a32.35 32.35 0 0 0 0 29.19C89.71 376.41 197.07 448 320 448c26.91 0 52.87-4 77.89-10.46L346 397.39a144.13 144.13 0 0 1-26 2.61zm313.82 58.1l-110.55-85.44a331.25 331.25 0 0 0 81.25-102.07 32.35 32.35 0 0 0 0-29.19C550.29 135.59 442.93 64 320 64a308.15 308.15 0 0 0-147.32 37.7L45.46 3.37A16 16 0 0 0 23 6.18L3.37 31.45A16 16 0 0 0 6.18 53.9l588.36 454.73a16 16 0 0 0 22.46-2.81l19.64-25.27a16 16 0 0 0-2.82-22.45zm-183.72-142l-39.3-30.38A94.75 94.75 0 0 0 416 256a94.76 94.76 0 0 0-121.31-92.21A47.65 47.65 0 0 1 304 192a46.64 46.64 0 0 1-1.54 10l-73.61-56.89A142.31 142.31 0 0 1 320 112a143.92 143.92 0 0 1 144 144c0 21.63-5.29 41.79-13.9 60.11z"},child:[]}]})(e)}function Mo(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(e)}function Fo(e){return zi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Io(e){return zi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(e)}function Do(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z"},child:[]}]})(e)}function To(e){return zi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M181.9 256.1c-5-16-4.9-46.9-2-46.9 8.4 0 7.6 36.9 2 46.9zm-1.7 47.2c-7.7 20.2-17.3 43.3-28.4 62.7 18.3-7 39-17.2 62.9-21.9-12.7-9.6-24.9-23.4-34.5-40.8zM86.1 428.1c0 .8 13.2-5.4 34.9-40.2-6.7 6.3-29.1 24.5-34.9 40.2zM248 160h136v328c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V24C0 10.7 10.7 0 24 0h200v136c0 13.2 10.8 24 24 24zm-8 171.8c-20-12.2-33.3-29-42.7-53.8 4.5-18.5 11.6-46.6 6.2-64.2-4.7-29.4-42.4-26.5-47.8-6.8-5 18.3-.4 44.1 8.1 77-11.6 27.6-28.7 64.6-40.8 85.8-.1 0-.1.1-.2.1-27.1 13.9-73.6 44.5-54.5 68 5.6 6.9 16 10 21.5 10 17.9 0 35.7-18 61.1-61.8 25.8-8.5 54.1-19.1 79-23.2 21.7 11.8 47.1 19.5 64 19.5 29.2 0 31.2-32 19.7-43.4-13.9-13.6-54.3-9.7-73.6-7.2zM377 105L279 7c-4.5-4.5-10.6-7-17-7h-6v128h128v-6.1c0-6.3-2.5-12.4-7-16.9zm-74.1 255.3c4.1-2.7-2.5-11.9-42.8-9 37.1 15.8 42.8 9 42.8 9z"},child:[]}]})(e)}function Oo(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(e)}function Po(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M32 448c0 17.7 14.3 32 32 32h160V320H32v128zm256 32h160c17.7 0 32-14.3 32-32V320H288v160zm192-320h-42.1c6.2-12.1 10.1-25.5 10.1-40 0-48.5-39.5-88-88-88-41.6 0-68.5 21.3-103 68.3-34.5-47-61.4-68.3-103-68.3-48.5 0-88 39.5-88 88 0 14.5 3.8 27.9 10.1 40H32c-17.7 0-32 14.3-32 32v80c0 8.8 7.2 16 16 16h480c8.8 0 16-7.2 16-16v-80c0-17.7-14.3-32-32-32zm-326.1 0c-22.1 0-40-17.9-40-40s17.9-40 40-40c19.9 0 34.6 3.3 86.1 80h-86.1zm206.1 0h-86.1c51.4-76.5 65.7-80 86.1-80 22.1 0 40 17.9 40 40s-17.9 40-40 40z"},child:[]}]})(e)}function Uo(e){return zi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(e)}function Ro(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(e)}function Qo(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 32H48C21.5 32 0 53.5 0 80v16h576V80c0-26.5-21.5-48-48-48zM0 432c0 26.5 21.5 48 48 48h480c26.5 0 48-21.5 48-48V128H0v304zm352-232c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zm0 64c0-4.4 3.6-8 8-8h144c4.4 0 8 3.6 8 8v16c0 4.4-3.6 8-8 8H360c-4.4 0-8-3.6-8-8v-16zM176 192c35.3 0 64 28.7 64 64s-28.7 64-64 64-64-28.7-64-64 28.7-64 64-64zM67.1 396.2C75.5 370.5 99.6 352 128 352h8.2c12.3 5.1 25.7 8 39.8 8s27.6-2.9 39.8-8h8.2c28.4 0 52.5 18.5 60.9 44.2 3.2 9.9-5.2 19.8-15.6 19.8H82.7c-10.4 0-18.8-10-15.6-19.8z"},child:[]}]})(e)}function zo(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"},child:[]}]})(e)}function Ho(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(e)}function Ko(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M12.41 148.02l232.94 105.67c6.8 3.09 14.49 3.09 21.29 0l232.94-105.67c16.55-7.51 16.55-32.52 0-40.03L266.65 2.31a25.607 25.607 0 0 0-21.29 0L12.41 107.98c-16.55 7.51-16.55 32.53 0 40.04zm487.18 88.28l-58.09-26.33-161.64 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 209.97l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40zm0 127.8l-57.87-26.23-161.86 73.37c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.29 337.87 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z"},child:[]}]})(e)}function Wo(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(e)}function Vo(e){return zi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(e)}function qo(e){return zi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M621.16 54.46C582.37 38.19 543.55 32 504.75 32c-123.17-.01-246.33 62.34-369.5 62.34-30.89 0-61.76-3.92-92.65-13.72-3.47-1.1-6.95-1.62-10.35-1.62C15.04 79 0 92.32 0 110.81v317.26c0 12.63 7.23 24.6 18.84 29.46C57.63 473.81 96.45 480 135.25 480c123.17 0 246.34-62.35 369.51-62.35 30.89 0 61.76 3.92 92.65 13.72 3.47 1.1 6.95 1.62 10.35 1.62 17.21 0 32.25-13.32 32.25-31.81V83.93c-.01-12.64-7.24-24.6-18.85-29.47zM48 132.22c20.12 5.04 41.12 7.57 62.72 8.93C104.84 170.54 79 192.69 48 192.69v-60.47zm0 285v-47.78c34.37 0 62.18 27.27 63.71 61.4-22.53-1.81-43.59-6.31-63.71-13.62zM320 352c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 27.78c-17.52-4.39-35.71-6.85-54.32-8.44 5.87-26.08 27.5-45.88 54.32-49.28v57.72zm0-236.11c-30.89-3.91-54.86-29.7-55.81-61.55 19.54 2.17 38.09 6.23 55.81 12.66v48.89z"},child:[]}]})(e)}function Go(e){return zi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 64H32C14.33 64 0 78.33 0 96v320c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V96c0-17.67-14.33-32-32-32zM48 400v-64c35.35 0 64 28.65 64 64H48zm0-224v-64h64c0 35.35-28.65 64-64 64zm272 176c-44.19 0-80-42.99-80-96 0-53.02 35.82-96 80-96s80 42.98 80 96c0 53.03-35.83 96-80 96zm272 48h-64c0-35.35 28.65-64 64-64v64zm0-224c-35.35 0-64-28.65-64-64h64v64z"},child:[]}]})(e)}function Yo(e){return zi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M608 32H32C14.33 32 0 46.33 0 64v384c0 17.67 14.33 32 32 32h576c17.67 0 32-14.33 32-32V64c0-17.67-14.33-32-32-32zM176 327.88V344c0 4.42-3.58 8-8 8h-16c-4.42 0-8-3.58-8-8v-16.29c-11.29-.58-22.27-4.52-31.37-11.35-3.9-2.93-4.1-8.77-.57-12.14l11.75-11.21c2.77-2.64 6.89-2.76 10.13-.73 3.87 2.42 8.26 3.72 12.82 3.72h28.11c6.5 0 11.8-5.92 11.8-13.19 0-5.95-3.61-11.19-8.77-12.73l-45-13.5c-18.59-5.58-31.58-23.42-31.58-43.39 0-24.52 19.05-44.44 42.67-45.07V152c0-4.42 3.58-8 8-8h16c4.42 0 8 3.58 8 8v16.29c11.29.58 22.27 4.51 31.37 11.35 3.9 2.93 4.1 8.77.57 12.14l-11.75 11.21c-2.77 2.64-6.89 2.76-10.13.73-3.87-2.43-8.26-3.72-12.82-3.72h-28.11c-6.5 0-11.8 5.92-11.8 13.19 0 5.95 3.61 11.19 8.77 12.73l45 13.5c18.59 5.58 31.58 23.42 31.58 43.39 0 24.53-19.05 44.44-42.67 45.07zM416 312c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h112c4.42 0 8 3.58 8 8v16zm160 0c0 4.42-3.58 8-8 8h-80c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h80c4.42 0 8 3.58 8 8v16zm0-96c0 4.42-3.58 8-8 8H296c-4.42 0-8-3.58-8-8v-16c0-4.42 3.58-8 8-8h272c4.42 0 8 3.58 8 8v16z"},child:[]}]})(e)}function Jo(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M112 224c61.9 0 112-50.1 112-112S173.9 0 112 0 0 50.1 0 112s50.1 112 112 112zm0-160c26.5 0 48 21.5 48 48s-21.5 48-48 48-48-21.5-48-48 21.5-48 48-48zm224 224c-61.9 0-112 50.1-112 112s50.1 112 112 112 112-50.1 112-112-50.1-112-112-112zm0 160c-26.5 0-48-21.5-48-48s21.5-48 48-48 48 21.5 48 48-21.5 48-48 48zM392.3.2l31.6-.1c19.4-.1 30.9 21.8 19.7 37.8L77.4 501.6a23.95 23.95 0 0 1-19.6 10.2l-33.4.1c-19.5 0-30.9-21.9-19.7-37.8l368-463.7C377.2 4 384.5.2 392.3.2z"},child:[]}]})(e)}function Xo(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M493.4 24.6l-104-24c-11.3-2.6-22.9 3.3-27.5 13.9l-48 112c-4.2 9.8-1.4 21.3 6.9 28l60.6 49.6c-36 76.7-98.9 140.5-177.2 177.2l-49.6-60.6c-6.8-8.3-18.2-11.1-28-6.9l-112 48C3.9 366.5-2 378.1.6 389.4l24 104C27.1 504.2 36.7 512 48 512c256.1 0 464-207.5 464-464 0-11.2-7.7-20.9-18.6-23.4z"},child:[]}]})(e)}function Zo(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function $o(e){return zi({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M358.4 3.2L320 48 265.6 3.2a15.9 15.9 0 0 0-19.2 0L192 48 137.6 3.2a15.9 15.9 0 0 0-19.2 0L64 48 25.6 3.2C15-4.7 0 2.8 0 16v480c0 13.2 15 20.7 25.6 12.8L64 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L192 464l54.4 44.8a15.9 15.9 0 0 0 19.2 0L320 464l38.4 44.8c10.5 7.9 25.6.4 25.6-12.8V16c0-13.2-15-20.7-25.6-12.8zM320 360c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16zm0-96c0 4.4-3.6 8-8 8H72c-4.4 0-8-3.6-8-8v-16c0-4.4 3.6-8 8-8h240c4.4 0 8 3.6 8 8v16z"},child:[]}]})(e)}function el(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(e)}function tl(e){return zi({tag:"svg",attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M308 96c6.627 0 12-5.373 12-12V44c0-6.627-5.373-12-12-12H12C5.373 32 0 37.373 0 44v44.748c0 6.627 5.373 12 12 12h85.28c27.308 0 48.261 9.958 60.97 27.252H12c-6.627 0-12 5.373-12 12v40c0 6.627 5.373 12 12 12h158.757c-6.217 36.086-32.961 58.632-74.757 58.632H12c-6.627 0-12 5.373-12 12v53.012c0 3.349 1.4 6.546 3.861 8.818l165.052 152.356a12.001 12.001 0 0 0 8.139 3.182h82.562c10.924 0 16.166-13.408 8.139-20.818L116.871 319.906c76.499-2.34 131.144-53.395 138.318-127.906H308c6.627 0 12-5.373 12-12v-40c0-6.627-5.373-12-12-12h-58.69c-3.486-11.541-8.28-22.246-14.252-32H308z"},child:[]}]})(e)}function nl(e){return zi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(e)}function rl(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(e)}function sl(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(e)}function al(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M288 32C128.94 32 0 160.94 0 320c0 52.8 14.25 102.26 39.06 144.8 5.61 9.62 16.3 15.2 27.44 15.2h443c11.14 0 21.83-5.58 27.44-15.2C561.75 422.26 576 372.8 576 320c0-159.06-128.94-288-288-288zm0 64c14.71 0 26.58 10.13 30.32 23.65-1.11 2.26-2.64 4.23-3.45 6.67l-9.22 27.67c-5.13 3.49-10.97 6.01-17.64 6.01-17.67 0-32-14.33-32-32S270.33 96 288 96zM96 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm48-160c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32zm246.77-72.41l-61.33 184C343.13 347.33 352 364.54 352 384c0 11.72-3.38 22.55-8.88 32H232.88c-5.5-9.45-8.88-20.28-8.88-32 0-33.94 26.5-61.43 59.9-63.59l61.34-184.01c4.17-12.56 17.73-19.45 30.36-15.17 12.57 4.19 19.35 17.79 15.17 30.36zm14.66 57.2l15.52-46.55c3.47-1.29 7.13-2.23 11.05-2.23 17.67 0 32 14.33 32 32s-14.33 32-32 32c-11.38-.01-20.89-6.28-26.57-15.22zM480 384c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}function il(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M0 252.118V48C0 21.49 21.49 0 48 0h204.118a48 48 0 0 1 33.941 14.059l211.882 211.882c18.745 18.745 18.745 49.137 0 67.882L293.823 497.941c-18.745 18.745-49.137 18.745-67.882 0L14.059 286.059A48 48 0 0 1 0 252.118zM112 64c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48z"},child:[]}]})(e)}function ol(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M128 160h320v192H128V160zm400 96c0 26.51 21.49 48 48 48v96c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48v-96c26.51 0 48-21.49 48-48s-21.49-48-48-48v-96c0-26.51 21.49-48 48-48h480c26.51 0 48 21.49 48 48v96c-26.51 0-48 21.49-48 48zm-48-104c0-13.255-10.745-24-24-24H120c-13.255 0-24 10.745-24 24v208c0 13.255 10.745 24 24 24h336c13.255 0 24-10.745 24-24V152z"},child:[]}]})(e)}function ll(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm121.6 313.1c4.7 4.7 4.7 12.3 0 17L338 377.6c-4.7 4.7-12.3 4.7-17 0L256 312l-65.1 65.6c-4.7 4.7-12.3 4.7-17 0L134.4 338c-4.7-4.7-4.7-12.3 0-17l65.6-65-65.6-65.1c-4.7-4.7-4.7-12.3 0-17l39.6-39.6c4.7-4.7 12.3-4.7 17 0l65 65.7 65.1-65.6c4.7-4.7 12.3-4.7 17 0l39.6 39.6c4.7 4.7 4.7 12.3 0 17L312 256l65.6 65.1z"},child:[]}]})(e)}function cl(e){return zi({tag:"svg",attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(e)}function dl(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C85.961 64 0 149.961 0 256s85.961 192 192 192h192c106.039 0 192-85.961 192-192S490.039 64 384 64zM64 256c0-70.741 57.249-128 128-128 70.741 0 128 57.249 128 128 0 70.741-57.249 128-128 128-70.741 0-128-57.249-128-128zm320 128h-48.905c65.217-72.858 65.236-183.12 0-256H384c70.741 0 128 57.249 128 128 0 70.74-57.249 128-128 128z"},child:[]}]})(e)}function ul(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M384 64H192C86 64 0 150 0 256s86 192 192 192h192c106 0 192-86 192-192S490 64 384 64zm0 320c-70.8 0-128-57.3-128-128 0-70.8 57.3-128 128-128 70.8 0 128 57.3 128 128 0 70.8-57.3 128-128 128z"},child:[]}]})(e)}function hl(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(e)}function Al(e){return zi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z"},child:[]}]})(e)}function fl(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(e)}function ml(e){return zi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function pl(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(e)}function gl(e){return zi({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(e)}function xl(e){return zi({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(e)}function bl(e){return zi({tag:"svg",attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M564 0h-79c-10.7 0-16 12.9-8.5 20.5l16.9 16.9-48.7 48.7C422.5 72.1 396.2 64 368 64c-33.7 0-64.6 11.6-89.2 30.9 14 16.7 25 36 32.1 57.1 14.5-14.8 34.7-24 57.1-24 44.1 0 80 35.9 80 80s-35.9 80-80 80c-22.3 0-42.6-9.2-57.1-24-7.1 21.1-18 40.4-32.1 57.1 24.5 19.4 55.5 30.9 89.2 30.9 79.5 0 144-64.5 144-144 0-28.2-8.1-54.5-22.1-76.7l48.7-48.7 16.9 16.9c2.4 2.4 5.4 3.5 8.4 3.5 6.2 0 12.1-4.8 12.1-12V12c0-6.6-5.4-12-12-12zM144 64C64.5 64 0 128.5 0 208c0 68.5 47.9 125.9 112 140.4V400H76c-6.6 0-12 5.4-12 12v40c0 6.6 5.4 12 12 12h36v36c0 6.6 5.4 12 12 12h40c6.6 0 12-5.4 12-12v-36h36c6.6 0 12-5.4 12-12v-40c0-6.6-5.4-12-12-12h-36v-51.6c64.1-14.6 112-71.9 112-140.4 0-79.5-64.5-144-144-144zm0 224c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(e)}function yl(e){return zi({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M461.2 128H80c-8.84 0-16-7.16-16-16s7.16-16 16-16h384c8.84 0 16-7.16 16-16 0-26.51-21.49-48-48-48H64C28.65 32 0 60.65 0 96v320c0 35.35 28.65 64 64 64h397.2c28.02 0 50.8-21.53 50.8-48V176c0-26.47-22.78-48-50.8-48zM416 336c-17.67 0-32-14.33-32-32s14.33-32 32-32 32 14.33 32 32-14.33 32-32 32z"},child:[]}]})(e)}const vl=e=>{let{isSidebarOpen:n,toggleSidebar:r,isMobile:s}=e;const[a,i]=(0,t.useState)(""),o=y(e=>e.branch.selectedBranch),l=tn();(0,t.useEffect)(()=>{const e=l.pathname;i(e)},[l]);const c=[{name:"Dashboard",icon:(0,mr.jsx)(al,{className:"flex-shrink-0"}),link:o?"/sinfodeadmin/dashboard?branchId=".concat(o):"/sinfodeadmin/dashboard"},{name:"Branch",icon:(0,mr.jsx)(Ro,{className:"flex-shrink-0"}),link:"/sinfodeadmin/branch"},{name:"Employee",icon:(0,mr.jsx)(Al,{className:"flex-shrink-0"}),link:"/sinfodeadmin/staff"},{name:"Student",icon:(0,mr.jsx)(xl,{className:"flex-shrink-0"}),link:"/sinfodeadmin/students"},{name:"Courses",icon:(0,mr.jsx)(Ko,{className:"flex-shrink-0"}),link:"/sinfodeadmin/courses"},{name:"Batch",icon:(0,mr.jsx)(Ko,{className:"flex-shrink-0"}),link:"/sinfodeadmin/batch"},{name:"Fees",icon:(0,mr.jsx)(qo,{className:"flex-shrink-0"}),link:"/sinfodeadmin/fees"},{name:"Inventory",icon:(0,mr.jsx)(Ko,{className:"flex-shrink-0"}),link:"/sinfodeadmin/inventory"},{name:"Attendance",icon:(0,mr.jsx)(Al,{className:"flex-shrink-0"}),link:"/sinfodeadmin/attendance"},{name:"Leads",icon:(0,mr.jsx)(pl,{className:"flex-shrink-0"}),link:"/sinfodeadmin/leads"},{name:"Expense",icon:(0,mr.jsx)($o,{className:"flex-shrink-0"}),link:"/sinfodeadmin/expenses"},{name:"Salary",icon:(0,mr.jsx)(yl,{className:"flex-shrink-0"}),link:"/sinfodeadmin/salary"},{name:"Coupons",icon:(0,mr.jsx)(Po,{className:"flex-shrink-0"}),link:"/sinfodeadmin/campaign"},{name:"Communication",icon:(0,mr.jsx)(Fo,{className:"flex-shrink-0"}),link:"/sinfodeadmin/communication"},{name:"Reports",icon:(0,mr.jsx)(Fo,{className:"flex-shrink-0"}),link:"/sinfodeadmin/reports"}];return(0,mr.jsxs)(mr.Fragment,{children:[s&&n&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:r}),(0,mr.jsx)("aside",{className:"fixed top-0 left-0 h-screen w-64 bg-white transform transition-transform duration-300 ease-in-out z-50 lg:relative lg:translate-x-0 lg:z-auto ".concat(n?"translate-x-0":"-translate-x-full"),style:{height:"100vh",position:"fixed",top:0,left:0,bottom:0},children:(0,mr.jsxs)("div",{className:"flex flex-col h-full",children:[(0,mr.jsxs)("div",{className:"flex-shrink-0 flex items-center justify-between mt-[24px] p-4 border-b border-gray-200 bg-white",children:[(0,mr.jsx)("div",{className:"flex items-center space-x-3",children:(0,mr.jsx)("img",{src:"https://www.sinfode.com/wp-content/uploads/2022/12/digital-marketing-institute-in-sikar.webp",alt:"Sinfode Logo",className:"h-8 ml-7"})}),s&&(0,mr.jsx)("button",{onClick:r,className:"p-2 rounded-lg hover:bg-gray-100 transition-colors lg:hidden",children:(0,mr.jsx)(cl,{size:16})})]}),(0,mr.jsx)("div",{className:"flex-1 overflow-y-auto",style:{maxHeight:"calc(100vh - 8rem)"},children:(0,mr.jsx)("nav",{children:(0,mr.jsx)("ul",{className:"space-y-1 p-2",children:c.map((e,t)=>(0,mr.jsx)("li",{children:(0,mr.jsxs)(lr,{to:e.link||"#",className:t=>{let{isActive:n}=t;return"flex items-center gap-3 py-3 px-4 rounded-lg transition-all duration-200 group ".concat(n?"bg-blue-50 text-blue-600 border-r-2 border-blue-600 shadow-sm":e.link&&"/"!==e.link?"text-gray-600 hover:bg-gray-50 hover:text-gray-900":"opacity-50 cursor-not-allowed")},onClick:t=>((e,t)=>{if(!e||"/"===e)return t.preventDefault(),void alert("This page is under construction and will be available soon!");s&&r()})(e.link,t),children:[(0,mr.jsx)("span",{className:"".concat(a===e.link?"text-blue-600":"text-gray-400"," group-hover:text-current"),children:e.icon}),(0,mr.jsx)("span",{className:"text-sm font-medium flex-1",children:e.name}),(!e.link||"/"===e.link)&&(0,mr.jsx)("span",{className:"text-xs bg-yellow-100 text-yellow-800 px-2 py-1 rounded-full",children:"Soon"})]})},t))})})}),o&&(0,mr.jsx)("div",{className:"flex-shrink-0 p-4 border-t border-gray-200 bg-gray-50 h-16",children:(0,mr.jsxs)("div",{className:"text-xs text-gray-500",children:["Current Branch:",(0,mr.jsx)("span",{className:"font-medium text-gray-700 ml-1",children:o})]})})]})})]})},wl=e=>{let{children:n}=e;const[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=()=>{const e=window.innerWidth<1024;i(e),e||s(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const o=()=>{s(!r)},l=()=>{a&&s(!1)};return(0,mr.jsxs)("div",{className:"flex bg-[#F4F9FD] min-h-screen",children:[(0,mr.jsx)("div",{className:"\n        ".concat(a?"fixed inset-y-0 left-0 z-50":"fixed inset-y-0 left-0 z-30","\n        transform transition-transform duration-300 ease-in-out\n        ").concat(r?"translate-x-0":"-translate-x-full","\n        lg:translate-x-0\n      "),children:(0,mr.jsx)(vl,{isSidebarOpen:r,toggleSidebar:o,isMobile:a})}),(0,mr.jsxs)("div",{className:"flex-1 flex flex-col min-w-0 transition-all duration-300 ".concat(a?"":"lg:ml-64"),children:[(0,mr.jsx)("div",{className:"sticky top-0 z-40 bg-[#F4F9FD]",children:(0,mr.jsx)(eo,{toggleSidebar:o,isSidebarOpen:r,isMobile:a})}),(0,mr.jsx)("main",{className:"flex-1 overflow-auto p-4 lg:p-6 bg-[#F4F9FD]",onClick:l,children:(0,mr.jsx)("div",{className:"max-w-full",children:n})})]}),a&&r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-40 lg:hidden",onClick:l})]})};function jl(e){return e+.5|0}const Nl=(e,t,n)=>Math.max(Math.min(e,n),t);function _l(e){return Nl(jl(2.55*e),0,255)}function Cl(e){return Nl(jl(255*e),0,255)}function Sl(e){return Nl(jl(e/2.55)/100,0,1)}function kl(e){return Nl(jl(100*e),0,100)}const Bl={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},El=[..."0123456789ABCDEF"],Ll=e=>El[15&e],Ml=e=>El[(240&e)>>4]+El[15&e],Fl=e=>(240&e)>>4===(15&e);function Il(e){var t=(e=>Fl(e.r)&&Fl(e.g)&&Fl(e.b)&&Fl(e.a))(e)?Ll:Ml;return e?"#"+t(e.r)+t(e.g)+t(e.b)+((e,t)=>e<255?t(e):"")(e.a,t):void 0}const Dl=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function Tl(e,t,n){const r=t*Math.min(n,1-n),s=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(t+e/30)%12;return n-r*Math.max(Math.min(s-3,9-s,1),-1)};return[s(0),s(8),s(4)]}function Ol(e,t,n){const r=function(r){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(r+e/60)%6;return n-n*t*Math.max(Math.min(s,4-s,1),0)};return[r(5),r(3),r(1)]}function Pl(e,t,n){const r=Tl(e,1,.5);let s;for(t+n>1&&(s=1/(t+n),t*=s,n*=s),s=0;s<3;s++)r[s]*=1-t-n,r[s]+=t;return r}function Ul(e){const t=e.r/255,n=e.g/255,r=e.b/255,s=Math.max(t,n,r),a=Math.min(t,n,r),i=(s+a)/2;let o,l,c;return s!==a&&(c=s-a,l=i>.5?c/(2-s-a):c/(s+a),o=function(e,t,n,r,s){return e===s?(t-n)/r+(t<n?6:0):t===s?(n-e)/r+2:(e-t)/r+4}(t,n,r,c,s),o=60*o+.5),[0|o,l||0,i]}function Rl(e,t,n,r){return(Array.isArray(t)?e(t[0],t[1],t[2]):e(t,n,r)).map(Cl)}function Ql(e,t,n){return Rl(Tl,e,t,n)}function zl(e){return(e%360+360)%360}function Hl(e){const t=Dl.exec(e);let n,r=255;if(!t)return;t[5]!==n&&(r=t[6]?_l(+t[5]):Cl(+t[5]));const s=zl(+t[2]),a=+t[3]/100,i=+t[4]/100;return n="hwb"===t[1]?function(e,t,n){return Rl(Pl,e,t,n)}(s,a,i):"hsv"===t[1]?function(e,t,n){return Rl(Ol,e,t,n)}(s,a,i):Ql(s,a,i),{r:n[0],g:n[1],b:n[2],a:r}}const Kl={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},Wl={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};let Vl;function ql(e){Vl||(Vl=function(){const e={},t=Object.keys(Wl),n=Object.keys(Kl);let r,s,a,i,o;for(r=0;r<t.length;r++){for(i=o=t[r],s=0;s<n.length;s++)a=n[s],o=o.replace(a,Kl[a]);a=parseInt(Wl[i],16),e[o]=[a>>16&255,a>>8&255,255&a]}return e}(),Vl.transparent=[0,0,0,0]);const t=Vl[e.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:4===t.length?t[3]:255}}const Gl=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;const Yl=e=>e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055,Jl=e=>e<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4);function Xl(e,t,n){if(e){let r=Ul(e);r[t]=Math.max(0,Math.min(r[t]+r[t]*n,0===t?360:1)),r=Ql(r),e.r=r[0],e.g=r[1],e.b=r[2]}}function Zl(e,t){return e?Object.assign(t||{},e):e}function $l(e){var t={r:0,g:0,b:0,a:255};return Array.isArray(e)?e.length>=3&&(t={r:e[0],g:e[1],b:e[2],a:255},e.length>3&&(t.a=Cl(e[3]))):(t=Zl(e,{r:0,g:0,b:0,a:1})).a=Cl(t.a),t}function ec(e){return"r"===e.charAt(0)?function(e){const t=Gl.exec(e);let n,r,s,a=255;if(t){if(t[7]!==n){const e=+t[7];a=t[8]?_l(e):Nl(255*e,0,255)}return n=+t[1],r=+t[3],s=+t[5],n=255&(t[2]?_l(n):Nl(n,0,255)),r=255&(t[4]?_l(r):Nl(r,0,255)),s=255&(t[6]?_l(s):Nl(s,0,255)),{r:n,g:r,b:s,a:a}}}(e):Hl(e)}class tc{constructor(e){if(e instanceof tc)return e;const t=typeof e;let n;"object"===t?n=$l(e):"string"===t&&(n=function(e){var t,n=e.length;return"#"===e[0]&&(4===n||5===n?t={r:255&17*Bl[e[1]],g:255&17*Bl[e[2]],b:255&17*Bl[e[3]],a:5===n?17*Bl[e[4]]:255}:7!==n&&9!==n||(t={r:Bl[e[1]]<<4|Bl[e[2]],g:Bl[e[3]]<<4|Bl[e[4]],b:Bl[e[5]]<<4|Bl[e[6]],a:9===n?Bl[e[7]]<<4|Bl[e[8]]:255})),t}(e)||ql(e)||ec(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=Zl(this._rgb);return e&&(e.a=Sl(e.a)),e}set rgb(e){this._rgb=$l(e)}rgbString(){return this._valid?(e=this._rgb)&&(e.a<255?"rgba(".concat(e.r,", ").concat(e.g,", ").concat(e.b,", ").concat(Sl(e.a),")"):"rgb(".concat(e.r,", ").concat(e.g,", ").concat(e.b,")")):void 0;var e}hexString(){return this._valid?Il(this._rgb):void 0}hslString(){return this._valid?function(e){if(!e)return;const t=Ul(e),n=t[0],r=kl(t[1]),s=kl(t[2]);return e.a<255?"hsla(".concat(n,", ").concat(r,"%, ").concat(s,"%, ").concat(Sl(e.a),")"):"hsl(".concat(n,", ").concat(r,"%, ").concat(s,"%)")}(this._rgb):void 0}mix(e,t){if(e){const n=this.rgb,r=e.rgb;let s;const a=t===s?.5:t,i=2*a-1,o=n.a-r.a,l=((i*o===-1?i:(i+o)/(1+i*o))+1)/2;s=1-l,n.r=255&l*n.r+s*r.r+.5,n.g=255&l*n.g+s*r.g+.5,n.b=255&l*n.b+s*r.b+.5,n.a=a*n.a+(1-a)*r.a,this.rgb=n}return this}interpolate(e,t){return e&&(this._rgb=function(e,t,n){const r=Jl(Sl(e.r)),s=Jl(Sl(e.g)),a=Jl(Sl(e.b));return{r:Cl(Yl(r+n*(Jl(Sl(t.r))-r))),g:Cl(Yl(s+n*(Jl(Sl(t.g))-s))),b:Cl(Yl(a+n*(Jl(Sl(t.b))-a))),a:e.a+n*(t.a-e.a)}}(this._rgb,e._rgb,t)),this}clone(){return new tc(this.rgb)}alpha(e){return this._rgb.a=Cl(e),this}clearer(e){return this._rgb.a*=1-e,this}greyscale(){const e=this._rgb,t=jl(.3*e.r+.59*e.g+.11*e.b);return e.r=e.g=e.b=t,this}opaquer(e){return this._rgb.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Xl(this._rgb,2,e),this}darken(e){return Xl(this._rgb,2,-e),this}saturate(e){return Xl(this._rgb,1,e),this}desaturate(e){return Xl(this._rgb,1,-e),this}rotate(e){return function(e,t){var n=Ul(e);n[0]=zl(n[0]+t),n=Ql(n),e.r=n[0],e.g=n[1],e.b=n[2]}(this._rgb,e),this}}function nc(){}const rc=(()=>{let e=0;return()=>e++})();function sc(e){return null===e||void 0===e}function ac(e){if(Array.isArray&&Array.isArray(e))return!0;const t=Object.prototype.toString.call(e);return"[object"===t.slice(0,7)&&"Array]"===t.slice(-6)}function ic(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function oc(e){return("number"===typeof e||e instanceof Number)&&isFinite(+e)}function lc(e,t){return oc(e)?e:t}function cc(e,t){return"undefined"===typeof e?t:e}const dc=(e,t)=>"string"===typeof e&&e.endsWith("%")?parseFloat(e)/100*t:+e;function uc(e,t,n){if(e&&"function"===typeof e.call)return e.apply(n,t)}function hc(e,t,n,r){let s,a,i;if(ac(e))if(a=e.length,r)for(s=a-1;s>=0;s--)t.call(n,e[s],s);else for(s=0;s<a;s++)t.call(n,e[s],s);else if(ic(e))for(i=Object.keys(e),a=i.length,s=0;s<a;s++)t.call(n,e[i[s]],i[s])}function Ac(e,t){let n,r,s,a;if(!e||!t||e.length!==t.length)return!1;for(n=0,r=e.length;n<r;++n)if(s=e[n],a=t[n],s.datasetIndex!==a.datasetIndex||s.index!==a.index)return!1;return!0}function fc(e){if(ac(e))return e.map(fc);if(ic(e)){const t=Object.create(null),n=Object.keys(e),r=n.length;let s=0;for(;s<r;++s)t[n[s]]=fc(e[n[s]]);return t}return e}function mc(e){return-1===["__proto__","prototype","constructor"].indexOf(e)}function pc(e,t,n,r){if(!mc(e))return;const s=t[e],a=n[e];ic(s)&&ic(a)?gc(s,a,r):t[e]=fc(a)}function gc(e,t,n){const r=ac(t)?t:[t],s=r.length;if(!ic(e))return e;const a=(n=n||{}).merger||pc;let i;for(let o=0;o<s;++o){if(i=r[o],!ic(i))continue;const t=Object.keys(i);for(let r=0,s=t.length;r<s;++r)a(t[r],e,i,n)}return e}function xc(e,t){return gc(e,t,{merger:bc})}function bc(e,t,n){if(!mc(e))return;const r=t[e],s=n[e];ic(r)&&ic(s)?xc(r,s):Object.prototype.hasOwnProperty.call(t,e)||(t[e]=fc(s))}const yc={"":e=>e,x:e=>e.x,y:e=>e.y};function vc(e,t){const n=yc[t]||(yc[t]=function(e){const t=function(e){const t=e.split("."),n=[];let r="";for(const s of t)r+=s,r.endsWith("\\")?r=r.slice(0,-1)+".":(n.push(r),r="");return n}(e);return e=>{for(const n of t){if(""===n)break;e=e&&e[n]}return e}}(t));return n(e)}function wc(e){return e.charAt(0).toUpperCase()+e.slice(1)}const jc=e=>"undefined"!==typeof e,Nc=e=>"function"===typeof e,_c=(e,t)=>{if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0};const Cc=Math.PI,Sc=2*Cc,kc=Sc+Cc,Bc=Number.POSITIVE_INFINITY,Ec=Cc/180,Lc=Cc/2,Mc=Cc/4,Fc=2*Cc/3,Ic=Math.log10,Dc=Math.sign;function Tc(e,t,n){return Math.abs(e-t)<n}function Oc(e){const t=Math.round(e);e=Tc(e,t,e/1e3)?t:e;const n=Math.pow(10,Math.floor(Ic(e))),r=e/n;return(r<=1?1:r<=2?2:r<=5?5:10)*n}function Pc(e){return!function(e){return"symbol"===typeof e||"object"===typeof e&&null!==e&&!(Symbol.toPrimitive in e||"toString"in e||"valueOf"in e)}(e)&&!isNaN(parseFloat(e))&&isFinite(e)}function Uc(e,t,n){let r,s,a;for(r=0,s=e.length;r<s;r++)a=e[r][n],isNaN(a)||(t.min=Math.min(t.min,a),t.max=Math.max(t.max,a))}function Rc(e){return e*(Cc/180)}function Qc(e){return e*(180/Cc)}function zc(e){if(!oc(e))return;let t=1,n=0;for(;Math.round(e*t)/t!==e;)t*=10,n++;return n}function Hc(e,t){const n=t.x-e.x,r=t.y-e.y,s=Math.sqrt(n*n+r*r);let a=Math.atan2(r,n);return a<-.5*Cc&&(a+=Sc),{angle:a,distance:s}}function Kc(e,t){return Math.sqrt(Math.pow(t.x-e.x,2)+Math.pow(t.y-e.y,2))}function Wc(e,t){return(e-t+kc)%Sc-Cc}function Vc(e){return(e%Sc+Sc)%Sc}function qc(e,t,n,r){const s=Vc(e),a=Vc(t),i=Vc(n),o=Vc(a-s),l=Vc(i-s),c=Vc(s-a),d=Vc(s-i);return s===a||s===i||r&&a===i||o>l&&c<d}function Gc(e,t,n){return Math.max(t,Math.min(n,e))}function Yc(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e-6;return e>=Math.min(t,n)-r&&e<=Math.max(t,n)+r}function Jc(e,t,n){n=n||(n=>e[n]<t);let r,s=e.length-1,a=0;for(;s-a>1;)r=a+s>>1,n(r)?a=r:s=r;return{lo:a,hi:s}}const Xc=(e,t,n,r)=>Jc(e,n,r?r=>{const s=e[r][t];return s<n||s===n&&e[r+1][t]===n}:r=>e[r][t]<n),Zc=(e,t,n)=>Jc(e,n,r=>e[r][t]>=n);const $c=["push","pop","shift","splice","unshift"];function ed(e,t){const n=e._chartjs;if(!n)return;const r=n.listeners,s=r.indexOf(t);-1!==s&&r.splice(s,1),r.length>0||($c.forEach(t=>{delete e[t]}),delete e._chartjs)}function td(e){const t=new Set(e);return t.size===e.length?e:Array.from(t)}const nd="undefined"===typeof window?function(e){return e()}:window.requestAnimationFrame;function rd(e,t){let n=[],r=!1;return function(){for(var s=arguments.length,a=new Array(s),i=0;i<s;i++)a[i]=arguments[i];n=a,r||(r=!0,nd.call(window,()=>{r=!1,e.apply(t,n)}))}}const sd=e=>"start"===e?"left":"end"===e?"right":"center",ad=(e,t,n)=>"start"===e?t:"end"===e?n:(t+n)/2;function id(e,t,n){const r=t.length;let s=0,a=r;if(e._sorted){const{iScale:i,vScale:o,_parsed:l}=e,c=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null,d=i.axis,{min:u,max:h,minDefined:A,maxDefined:f}=i.getUserBounds();if(A){if(s=Math.min(Xc(l,d,u).lo,n?r:Xc(t,d,i.getPixelForValue(u)).lo),c){const e=l.slice(0,s+1).reverse().findIndex(e=>!sc(e[o.axis]));s-=Math.max(0,e)}s=Gc(s,0,r-1)}if(f){let e=Math.max(Xc(l,i.axis,h,!0).hi+1,n?0:Xc(t,d,i.getPixelForValue(h),!0).hi+1);if(c){const t=l.slice(e-1).findIndex(e=>!sc(e[o.axis]));e+=Math.max(0,t)}a=Gc(e,s,r)-s}else a=r-s}return{start:s,count:a}}function od(e){const{xScale:t,yScale:n,_scaleRanges:r}=e,s={xmin:t.min,xmax:t.max,ymin:n.min,ymax:n.max};if(!r)return e._scaleRanges=s,!0;const a=r.xmin!==t.min||r.xmax!==t.max||r.ymin!==n.min||r.ymax!==n.max;return Object.assign(r,s),a}const ld=e=>0===e||1===e,cd=(e,t,n)=>-Math.pow(2,10*(e-=1))*Math.sin((e-t)*Sc/n),dd=(e,t,n)=>Math.pow(2,-10*e)*Math.sin((e-t)*Sc/n)+1,ud={linear:e=>e,easeInQuad:e=>e*e,easeOutQuad:e=>-e*(e-2),easeInOutQuad:e=>(e/=.5)<1?.5*e*e:-.5*(--e*(e-2)-1),easeInCubic:e=>e*e*e,easeOutCubic:e=>(e-=1)*e*e+1,easeInOutCubic:e=>(e/=.5)<1?.5*e*e*e:.5*((e-=2)*e*e+2),easeInQuart:e=>e*e*e*e,easeOutQuart:e=>-((e-=1)*e*e*e-1),easeInOutQuart:e=>(e/=.5)<1?.5*e*e*e*e:-.5*((e-=2)*e*e*e-2),easeInQuint:e=>e*e*e*e*e,easeOutQuint:e=>(e-=1)*e*e*e*e+1,easeInOutQuint:e=>(e/=.5)<1?.5*e*e*e*e*e:.5*((e-=2)*e*e*e*e+2),easeInSine:e=>1-Math.cos(e*Lc),easeOutSine:e=>Math.sin(e*Lc),easeInOutSine:e=>-.5*(Math.cos(Cc*e)-1),easeInExpo:e=>0===e?0:Math.pow(2,10*(e-1)),easeOutExpo:e=>1===e?1:1-Math.pow(2,-10*e),easeInOutExpo:e=>ld(e)?e:e<.5?.5*Math.pow(2,10*(2*e-1)):.5*(2-Math.pow(2,-10*(2*e-1))),easeInCirc:e=>e>=1?e:-(Math.sqrt(1-e*e)-1),easeOutCirc:e=>Math.sqrt(1-(e-=1)*e),easeInOutCirc:e=>(e/=.5)<1?-.5*(Math.sqrt(1-e*e)-1):.5*(Math.sqrt(1-(e-=2)*e)+1),easeInElastic:e=>ld(e)?e:cd(e,.075,.3),easeOutElastic:e=>ld(e)?e:dd(e,.075,.3),easeInOutElastic(e){const t=.1125;return ld(e)?e:e<.5?.5*cd(2*e,t,.45):.5+.5*dd(2*e-1,t,.45)},easeInBack(e){const t=1.70158;return e*e*((t+1)*e-t)},easeOutBack(e){const t=1.70158;return(e-=1)*e*((t+1)*e+t)+1},easeInOutBack(e){let t=1.70158;return(e/=.5)<1?e*e*((1+(t*=1.525))*e-t)*.5:.5*((e-=2)*e*((1+(t*=1.525))*e+t)+2)},easeInBounce:e=>1-ud.easeOutBounce(1-e),easeOutBounce(e){const t=7.5625,n=2.75;return e<1/n?t*e*e:e<2/n?t*(e-=1.5/n)*e+.75:e<2.5/n?t*(e-=2.25/n)*e+.9375:t*(e-=2.625/n)*e+.984375},easeInOutBounce:e=>e<.5?.5*ud.easeInBounce(2*e):.5*ud.easeOutBounce(2*e-1)+.5};function hd(e){if(e&&"object"===typeof e){const t=e.toString();return"[object CanvasPattern]"===t||"[object CanvasGradient]"===t}return!1}function Ad(e){return hd(e)?e:new tc(e)}function fd(e){return hd(e)?e:new tc(e).saturate(.5).darken(.1).hexString()}const md=["x","y","borderWidth","radius","tension"],pd=["color","borderColor","backgroundColor"];const gd=new Map;function xd(e,t,n){return function(e,t){t=t||{};const n=e+JSON.stringify(t);let r=gd.get(n);return r||(r=new Intl.NumberFormat(e,t),gd.set(n,r)),r}(t,n).format(e)}const bd={values:e=>ac(e)?e:""+e,numeric(e,t,n){if(0===e)return"0";const r=this.chart.options.locale;let s,a=e;if(n.length>1){const t=Math.max(Math.abs(n[0].value),Math.abs(n[n.length-1].value));(t<1e-4||t>1e15)&&(s="scientific"),a=function(e,t){let n=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;Math.abs(n)>=1&&e!==Math.floor(e)&&(n=e-Math.floor(e));return n}(e,n)}const i=Ic(Math.abs(a)),o=isNaN(i)?1:Math.max(Math.min(-1*Math.floor(i),20),0),l={notation:s,minimumFractionDigits:o,maximumFractionDigits:o};return Object.assign(l,this.options.ticks.format),xd(e,r,l)},logarithmic(e,t,n){if(0===e)return"0";const r=n[t].significand||e/Math.pow(10,Math.floor(Ic(e)));return[1,2,3,5,10,15].includes(r)||t>.8*n.length?bd.numeric.call(this,e,t,n):""}};var yd={formatters:bd};const vd=Object.create(null),wd=Object.create(null);function jd(e,t){if(!t)return e;const n=t.split(".");for(let r=0,s=n.length;r<s;++r){const t=n[r];e=e[t]||(e[t]=Object.create(null))}return e}function Nd(e,t,n){return"string"===typeof t?gc(jd(e,t),n):gc(jd(e,""),t)}class _d{constructor(e,t){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=e=>e.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(e,t)=>fd(t.backgroundColor),this.hoverBorderColor=(e,t)=>fd(t.borderColor),this.hoverColor=(e,t)=>fd(t.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(t)}set(e,t){return Nd(this,e,t)}get(e){return jd(this,e)}describe(e,t){return Nd(wd,e,t)}override(e,t){return Nd(vd,e,t)}route(e,t,n,r){const s=jd(this,e),a=jd(this,n),i="_"+t;Object.defineProperties(s,{[i]:{value:s[t],writable:!0},[t]:{enumerable:!0,get(){const e=this[i],t=a[r];return ic(e)?Object.assign({},t,e):cc(e,t)},set(e){this[i]=e}}})}apply(e){e.forEach(e=>e(this))}}var Cd=new _d({_scriptable:e=>!e.startsWith("on"),_indexable:e=>"events"!==e,hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[function(e){e.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),e.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>"onProgress"!==e&&"onComplete"!==e&&"fn"!==e}),e.set("animations",{colors:{type:"color",properties:pd},numbers:{type:"number",properties:md}}),e.describe("animations",{_fallback:"animation"}),e.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>0|e}}}})},function(e){e.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})},function(e){e.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,t)=>t.lineWidth,tickColor:(e,t)=>t.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yd.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),e.route("scale.ticks","color","","color"),e.route("scale.grid","color","","borderColor"),e.route("scale.border","color","","borderColor"),e.route("scale.title","color","","color"),e.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&"callback"!==e&&"parser"!==e,_indexable:e=>"borderDash"!==e&&"tickBorderDash"!==e&&"dash"!==e}),e.describe("scales",{_fallback:"scale"}),e.describe("scale.ticks",{_scriptable:e=>"backdropPadding"!==e&&"callback"!==e,_indexable:e=>"backdropPadding"!==e})}]);function Sd(e,t,n,r,s){let a=t[s];return a||(a=t[s]=e.measureText(s).width,n.push(s)),a>r&&(r=a),r}function kd(e,t,n,r){let s=(r=r||{}).data=r.data||{},a=r.garbageCollect=r.garbageCollect||[];r.font!==t&&(s=r.data={},a=r.garbageCollect=[],r.font=t),e.save(),e.font=t;let i=0;const o=n.length;let l,c,d,u,h;for(l=0;l<o;l++)if(u=n[l],void 0===u||null===u||ac(u)){if(ac(u))for(c=0,d=u.length;c<d;c++)h=u[c],void 0===h||null===h||ac(h)||(i=Sd(e,s,a,i,h))}else i=Sd(e,s,a,i,u);e.restore();const A=a.length/2;if(A>n.length){for(l=0;l<A;l++)delete s[a[l]];a.splice(0,A)}return i}function Bd(e,t,n){const r=e.currentDevicePixelRatio,s=0!==n?Math.max(n/2,.5):0;return Math.round((t-s)*r)/r+s}function Ed(e,t){(t||e)&&((t=t||e.getContext("2d")).save(),t.resetTransform(),t.clearRect(0,0,e.width,e.height),t.restore())}function Ld(e,t,n,r){Md(e,t,n,r,null)}function Md(e,t,n,r,s){let a,i,o,l,c,d,u,h;const A=t.pointStyle,f=t.rotation,m=t.radius;let p=(f||0)*Ec;if(A&&"object"===typeof A&&(a=A.toString(),"[object HTMLImageElement]"===a||"[object HTMLCanvasElement]"===a))return e.save(),e.translate(n,r),e.rotate(p),e.drawImage(A,-A.width/2,-A.height/2,A.width,A.height),void e.restore();if(!(isNaN(m)||m<=0)){switch(e.beginPath(),A){default:s?e.ellipse(n,r,s/2,m,0,0,Sc):e.arc(n,r,m,0,Sc),e.closePath();break;case"triangle":d=s?s/2:m,e.moveTo(n+Math.sin(p)*d,r-Math.cos(p)*m),p+=Fc,e.lineTo(n+Math.sin(p)*d,r-Math.cos(p)*m),p+=Fc,e.lineTo(n+Math.sin(p)*d,r-Math.cos(p)*m),e.closePath();break;case"rectRounded":c=.516*m,l=m-c,i=Math.cos(p+Mc)*l,u=Math.cos(p+Mc)*(s?s/2-c:l),o=Math.sin(p+Mc)*l,h=Math.sin(p+Mc)*(s?s/2-c:l),e.arc(n-u,r-o,c,p-Cc,p-Lc),e.arc(n+h,r-i,c,p-Lc,p),e.arc(n+u,r+o,c,p,p+Lc),e.arc(n-h,r+i,c,p+Lc,p+Cc),e.closePath();break;case"rect":if(!f){l=Math.SQRT1_2*m,d=s?s/2:l,e.rect(n-d,r-l,2*d,2*l);break}p+=Mc;case"rectRot":u=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,h=Math.sin(p)*(s?s/2:m),e.moveTo(n-u,r-o),e.lineTo(n+h,r-i),e.lineTo(n+u,r+o),e.lineTo(n-h,r+i),e.closePath();break;case"crossRot":p+=Mc;case"cross":u=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,h=Math.sin(p)*(s?s/2:m),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-i),e.lineTo(n-h,r+i);break;case"star":u=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,h=Math.sin(p)*(s?s/2:m),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-i),e.lineTo(n-h,r+i),p+=Mc,u=Math.cos(p)*(s?s/2:m),i=Math.cos(p)*m,o=Math.sin(p)*m,h=Math.sin(p)*(s?s/2:m),e.moveTo(n-u,r-o),e.lineTo(n+u,r+o),e.moveTo(n+h,r-i),e.lineTo(n-h,r+i);break;case"line":i=s?s/2:Math.cos(p)*m,o=Math.sin(p)*m,e.moveTo(n-i,r-o),e.lineTo(n+i,r+o);break;case"dash":e.moveTo(n,r),e.lineTo(n+Math.cos(p)*(s?s/2:m),r+Math.sin(p)*m);break;case!1:e.closePath()}e.fill(),t.borderWidth>0&&e.stroke()}}function Fd(e,t,n){return n=n||.5,!t||e&&e.x>t.left-n&&e.x<t.right+n&&e.y>t.top-n&&e.y<t.bottom+n}function Id(e,t){e.save(),e.beginPath(),e.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),e.clip()}function Dd(e){e.restore()}function Td(e,t,n,r,s){if(!t)return e.lineTo(n.x,n.y);if("middle"===s){const r=(t.x+n.x)/2;e.lineTo(r,t.y),e.lineTo(r,n.y)}else"after"===s!==!!r?e.lineTo(t.x,n.y):e.lineTo(n.x,t.y);e.lineTo(n.x,n.y)}function Od(e,t,n,r){if(!t)return e.lineTo(n.x,n.y);e.bezierCurveTo(r?t.cp1x:t.cp2x,r?t.cp1y:t.cp2y,r?n.cp2x:n.cp1x,r?n.cp2y:n.cp1y,n.x,n.y)}function Pd(e,t,n,r,s){if(s.strikethrough||s.underline){const a=e.measureText(r),i=t-a.actualBoundingBoxLeft,o=t+a.actualBoundingBoxRight,l=n-a.actualBoundingBoxAscent,c=n+a.actualBoundingBoxDescent,d=s.strikethrough?(l+c)/2:c;e.strokeStyle=e.fillStyle,e.beginPath(),e.lineWidth=s.decorationWidth||2,e.moveTo(i,d),e.lineTo(o,d),e.stroke()}}function Ud(e,t){const n=e.fillStyle;e.fillStyle=t.color,e.fillRect(t.left,t.top,t.width,t.height),e.fillStyle=n}function Rd(e,t,n,r,s){let a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{};const i=ac(t)?t:[t],o=a.strokeWidth>0&&""!==a.strokeColor;let l,c;for(e.save(),e.font=s.string,function(e,t){t.translation&&e.translate(t.translation[0],t.translation[1]),sc(t.rotation)||e.rotate(t.rotation),t.color&&(e.fillStyle=t.color),t.textAlign&&(e.textAlign=t.textAlign),t.textBaseline&&(e.textBaseline=t.textBaseline)}(e,a),l=0;l<i.length;++l)c=i[l],a.backdrop&&Ud(e,a.backdrop),o&&(a.strokeColor&&(e.strokeStyle=a.strokeColor),sc(a.strokeWidth)||(e.lineWidth=a.strokeWidth),e.strokeText(c,n,r,a.maxWidth)),e.fillText(c,n,r,a.maxWidth),Pd(e,n,r,c,a),r+=Number(s.lineHeight);e.restore()}function Qd(e,t){const{x:n,y:r,w:s,h:a,radius:i}=t;e.arc(n+i.topLeft,r+i.topLeft,i.topLeft,1.5*Cc,Cc,!0),e.lineTo(n,r+a-i.bottomLeft),e.arc(n+i.bottomLeft,r+a-i.bottomLeft,i.bottomLeft,Cc,Lc,!0),e.lineTo(n+s-i.bottomRight,r+a),e.arc(n+s-i.bottomRight,r+a-i.bottomRight,i.bottomRight,Lc,0,!0),e.lineTo(n+s,r+i.topRight),e.arc(n+s-i.topRight,r+i.topRight,i.topRight,0,-Lc,!0),e.lineTo(n+i.topLeft,r)}const zd=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Hd=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Kd(e,t){const n=(""+e).match(zd);if(!n||"normal"===n[1])return 1.2*t;switch(e=+n[2],n[3]){case"px":return e;case"%":e/=100}return t*e}const Wd=e=>+e||0;function Vd(e,t){const n={},r=ic(t),s=r?Object.keys(t):t,a=ic(e)?r?n=>cc(e[n],e[t[n]]):t=>e[t]:()=>e;for(const i of s)n[i]=Wd(a(i));return n}function qd(e){return Vd(e,{top:"y",right:"x",bottom:"y",left:"x"})}function Gd(e){return Vd(e,["topLeft","topRight","bottomLeft","bottomRight"])}function Yd(e){const t=qd(e);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Jd(e,t){e=e||{},t=t||Cd.font;let n=cc(e.size,t.size);"string"===typeof n&&(n=parseInt(n,10));let r=cc(e.style,t.style);r&&!(""+r).match(Hd)&&(console.warn('Invalid font style specified: "'+r+'"'),r=void 0);const s={family:cc(e.family,t.family),lineHeight:Kd(cc(e.lineHeight,t.lineHeight),n),size:n,style:r,weight:cc(e.weight,t.weight),string:""};return s.string=function(e){return!e||sc(e.size)||sc(e.family)?null:(e.style?e.style+" ":"")+(e.weight?e.weight+" ":"")+e.size+"px "+e.family}(s),s}function Xd(e,t,n,r){let s,a,i,o=!0;for(s=0,a=e.length;s<a;++s)if(i=e[s],void 0!==i&&(void 0!==t&&"function"===typeof i&&(i=i(t),o=!1),void 0!==n&&ac(i)&&(i=i[n%i.length],o=!1),void 0!==i))return r&&!o&&(r.cacheable=!1),i}function Zd(e,t){return Object.assign(Object.create(e),t)}function $d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[""],n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:()=>e[0];const s=(arguments.length>2?arguments[2]:void 0)||e;"undefined"===typeof n&&(n=du("_fallback",e));const a={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:e,_rootScopes:s,_fallback:n,_getTarget:r,override:r=>$d([r,...e],t,s,n)};return new Proxy(a,{deleteProperty:(t,n)=>(delete t[n],delete t._keys,delete e[0][n],!0),get:(n,r)=>su(n,r,()=>function(e,t,n,r){let s;for(const a of t)if(s=du(nu(a,e),n),"undefined"!==typeof s)return ru(e,s)?lu(n,r,e,s):s}(r,t,e,n)),getOwnPropertyDescriptor:(e,t)=>Reflect.getOwnPropertyDescriptor(e._scopes[0],t),getPrototypeOf:()=>Reflect.getPrototypeOf(e[0]),has:(e,t)=>uu(e).includes(t),ownKeys:e=>uu(e),set(e,t,n){const s=e._storage||(e._storage=r());return e[t]=s[t]=n,delete e._keys,!0}})}function eu(e,t,n,r){const s={_cacheable:!1,_proxy:e,_context:t,_subProxy:n,_stack:new Set,_descriptors:tu(e,r),setContext:t=>eu(e,t,n,r),override:s=>eu(e.override(s),t,n,r)};return new Proxy(s,{deleteProperty:(t,n)=>(delete t[n],delete e[n],!0),get:(e,t,n)=>su(e,t,()=>function(e,t,n){const{_proxy:r,_context:s,_subProxy:a,_descriptors:i}=e;let o=r[t];Nc(o)&&i.isScriptable(t)&&(o=function(e,t,n,r){const{_proxy:s,_context:a,_subProxy:i,_stack:o}=n;if(o.has(e))throw new Error("Recursion detected: "+Array.from(o).join("->")+"->"+e);o.add(e);let l=t(a,i||r);o.delete(e),ru(e,l)&&(l=lu(s._scopes,s,e,l));return l}(t,o,e,n));ac(o)&&o.length&&(o=function(e,t,n,r){const{_proxy:s,_context:a,_subProxy:i,_descriptors:o}=n;if("undefined"!==typeof a.index&&r(e))return t[a.index%t.length];if(ic(t[0])){const n=t,r=s._scopes.filter(e=>e!==n);t=[];for(const l of n){const n=lu(r,s,e,l);t.push(eu(n,a,i&&i[e],o))}}return t}(t,o,e,i.isIndexable));ru(t,o)&&(o=eu(o,s,a&&a[t],i));return o}(e,t,n)),getOwnPropertyDescriptor:(t,n)=>t._descriptors.allKeys?Reflect.has(e,n)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(e,n),getPrototypeOf:()=>Reflect.getPrototypeOf(e),has:(t,n)=>Reflect.has(e,n),ownKeys:()=>Reflect.ownKeys(e),set:(t,n,r)=>(e[n]=r,delete t[n],!0)})}function tu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{scriptable:!0,indexable:!0};const{_scriptable:n=t.scriptable,_indexable:r=t.indexable,_allKeys:s=t.allKeys}=e;return{allKeys:s,scriptable:n,indexable:r,isScriptable:Nc(n)?n:()=>n,isIndexable:Nc(r)?r:()=>r}}const nu=(e,t)=>e?e+wc(t):t,ru=(e,t)=>ic(t)&&"adapters"!==e&&(null===Object.getPrototypeOf(t)||t.constructor===Object);function su(e,t,n){if(Object.prototype.hasOwnProperty.call(e,t)||"constructor"===t)return e[t];const r=n();return e[t]=r,r}function au(e,t,n){return Nc(e)?e(t,n):e}const iu=(e,t)=>!0===e?t:"string"===typeof e?vc(t,e):void 0;function ou(e,t,n,r,s){for(const a of t){const t=iu(n,a);if(t){e.add(t);const a=au(t._fallback,n,s);if("undefined"!==typeof a&&a!==n&&a!==r)return a}else if(!1===t&&"undefined"!==typeof r&&n!==r)return null}return!1}function lu(e,t,n,r){const s=t._rootScopes,a=au(t._fallback,n,r),i=[...e,...s],o=new Set;o.add(r);let l=cu(o,i,n,a||n,r);return null!==l&&(("undefined"===typeof a||a===n||(l=cu(o,i,a,l,r),null!==l))&&$d(Array.from(o),[""],s,a,()=>function(e,t,n){const r=e._getTarget();t in r||(r[t]={});const s=r[t];if(ac(s)&&ic(n))return n;return s||{}}(t,n,r)))}function cu(e,t,n,r,s){for(;n;)n=ou(e,t,n,r,s);return n}function du(e,t){for(const n of t){if(!n)continue;const t=n[e];if("undefined"!==typeof t)return t}}function uu(e){let t=e._keys;return t||(t=e._keys=function(e){const t=new Set;for(const n of e)for(const e of Object.keys(n).filter(e=>!e.startsWith("_")))t.add(e);return Array.from(t)}(e._scopes)),t}function hu(e,t,n,r){const{iScale:s}=e,{key:a="r"}=this._parsing,i=new Array(r);let o,l,c,d;for(o=0,l=r;o<l;++o)c=o+n,d=t[c],i[o]={r:s.parse(vc(d,a),c)};return i}const Au=Number.EPSILON||1e-14,fu=(e,t)=>t<e.length&&!e[t].skip&&e[t],mu=e=>"x"===e?"y":"x";function pu(e,t,n,r){const s=e.skip?t:e,a=t,i=n.skip?t:n,o=Kc(a,s),l=Kc(i,a);let c=o/(o+l),d=l/(o+l);c=isNaN(c)?0:c,d=isNaN(d)?0:d;const u=r*c,h=r*d;return{previous:{x:a.x-u*(i.x-s.x),y:a.y-u*(i.y-s.y)},next:{x:a.x+h*(i.x-s.x),y:a.y+h*(i.y-s.y)}}}function gu(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"x";const n=mu(t),r=e.length,s=Array(r).fill(0),a=Array(r);let i,o,l,c=fu(e,0);for(i=0;i<r;++i)if(o=l,l=c,c=fu(e,i+1),l){if(c){const e=c[t]-l[t];s[i]=0!==e?(c[n]-l[n])/e:0}a[i]=o?c?Dc(s[i-1])!==Dc(s[i])?0:(s[i-1]+s[i])/2:s[i-1]:s[i]}!function(e,t,n){const r=e.length;let s,a,i,o,l,c=fu(e,0);for(let d=0;d<r-1;++d)l=c,c=fu(e,d+1),l&&c&&(Tc(t[d],0,Au)?n[d]=n[d+1]=0:(s=n[d]/t[d],a=n[d+1]/t[d],o=Math.pow(s,2)+Math.pow(a,2),o<=9||(i=3/Math.sqrt(o),n[d]=s*i*t[d],n[d+1]=a*i*t[d])))}(e,s,a),function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"x";const r=mu(n),s=e.length;let a,i,o,l=fu(e,0);for(let c=0;c<s;++c){if(i=o,o=l,l=fu(e,c+1),!o)continue;const s=o[n],d=o[r];i&&(a=(s-i[n])/3,o["cp1".concat(n)]=s-a,o["cp1".concat(r)]=d-a*t[c]),l&&(a=(l[n]-s)/3,o["cp2".concat(n)]=s+a,o["cp2".concat(r)]=d+a*t[c])}}(e,a,t)}function xu(e,t,n){return Math.max(Math.min(e,n),t)}function bu(e,t,n,r,s){let a,i,o,l;if(t.spanGaps&&(e=e.filter(e=>!e.skip)),"monotone"===t.cubicInterpolationMode)gu(e,s);else{let n=r?e[e.length-1]:e[0];for(a=0,i=e.length;a<i;++a)o=e[a],l=pu(n,o,e[Math.min(a+1,i-(r?0:1))%i],t.tension),o.cp1x=l.previous.x,o.cp1y=l.previous.y,o.cp2x=l.next.x,o.cp2y=l.next.y,n=o}t.capBezierPoints&&function(e,t){let n,r,s,a,i,o=Fd(e[0],t);for(n=0,r=e.length;n<r;++n)i=a,a=o,o=n<r-1&&Fd(e[n+1],t),a&&(s=e[n],i&&(s.cp1x=xu(s.cp1x,t.left,t.right),s.cp1y=xu(s.cp1y,t.top,t.bottom)),o&&(s.cp2x=xu(s.cp2x,t.left,t.right),s.cp2y=xu(s.cp2y,t.top,t.bottom)))}(e,n)}function yu(){return"undefined"!==typeof window&&"undefined"!==typeof document}function vu(e){let t=e.parentNode;return t&&"[object ShadowRoot]"===t.toString()&&(t=t.host),t}function wu(e,t,n){let r;return"string"===typeof e?(r=parseInt(e,10),-1!==e.indexOf("%")&&(r=r/100*t.parentNode[n])):r=e,r}const ju=e=>e.ownerDocument.defaultView.getComputedStyle(e,null);const Nu=["top","right","bottom","left"];function _u(e,t,n){const r={};n=n?"-"+n:"";for(let s=0;s<4;s++){const a=Nu[s];r[a]=parseFloat(e[t+"-"+a+n])||0}return r.width=r.left+r.right,r.height=r.top+r.bottom,r}function Cu(e,t){if("native"in e)return e;const{canvas:n,currentDevicePixelRatio:r}=t,s=ju(n),a="border-box"===s.boxSizing,i=_u(s,"padding"),o=_u(s,"border","width"),{x:l,y:c,box:d}=function(e,t){const n=e.touches,r=n&&n.length?n[0]:e,{offsetX:s,offsetY:a}=r;let i,o,l=!1;if(((e,t,n)=>(e>0||t>0)&&(!n||!n.shadowRoot))(s,a,e.target))i=s,o=a;else{const e=t.getBoundingClientRect();i=r.clientX-e.left,o=r.clientY-e.top,l=!0}return{x:i,y:o,box:l}}(e,n),u=i.left+(d&&o.left),h=i.top+(d&&o.top);let{width:A,height:f}=t;return a&&(A-=i.width+o.width,f-=i.height+o.height),{x:Math.round((l-u)/A*n.width/r),y:Math.round((c-h)/f*n.height/r)}}const Su=e=>Math.round(10*e)/10;function ku(e,t,n,r){const s=ju(e),a=_u(s,"margin"),i=wu(s.maxWidth,e,"clientWidth")||Bc,o=wu(s.maxHeight,e,"clientHeight")||Bc,l=function(e,t,n){let r,s;if(void 0===t||void 0===n){const a=e&&vu(e);if(a){const e=a.getBoundingClientRect(),i=ju(a),o=_u(i,"border","width"),l=_u(i,"padding");t=e.width-l.width-o.width,n=e.height-l.height-o.height,r=wu(i.maxWidth,a,"clientWidth"),s=wu(i.maxHeight,a,"clientHeight")}else t=e.clientWidth,n=e.clientHeight}return{width:t,height:n,maxWidth:r||Bc,maxHeight:s||Bc}}(e,t,n);let{width:c,height:d}=l;if("content-box"===s.boxSizing){const e=_u(s,"border","width"),t=_u(s,"padding");c-=t.width+e.width,d-=t.height+e.height}c=Math.max(0,c-a.width),d=Math.max(0,r?c/r:d-a.height),c=Su(Math.min(c,i,l.maxWidth)),d=Su(Math.min(d,o,l.maxHeight)),c&&!d&&(d=Su(c/2));return(void 0!==t||void 0!==n)&&r&&l.height&&d>l.height&&(d=l.height,c=Su(Math.floor(d*r))),{width:c,height:d}}function Bu(e,t,n){const r=t||1,s=Su(e.height*r),a=Su(e.width*r);e.height=Su(e.height),e.width=Su(e.width);const i=e.canvas;return i.style&&(n||!i.style.height&&!i.style.width)&&(i.style.height="".concat(e.height,"px"),i.style.width="".concat(e.width,"px")),(e.currentDevicePixelRatio!==r||i.height!==s||i.width!==a)&&(e.currentDevicePixelRatio=r,i.height=s,i.width=a,e.ctx.setTransform(r,0,0,r,0,0),!0)}const Eu=function(){let e=!1;try{const t={get passive(){return e=!0,!1}};yu()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch(AB){}return e}();function Lu(e,t){const n=function(e,t){return ju(e).getPropertyValue(t)}(e,t),r=n&&n.match(/^(\d+)(\.\d+)?px$/);return r?+r[1]:void 0}function Mu(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:e.y+n*(t.y-e.y)}}function Fu(e,t,n,r){return{x:e.x+n*(t.x-e.x),y:"middle"===r?n<.5?e.y:t.y:"after"===r?n<1?e.y:t.y:n>0?t.y:e.y}}function Iu(e,t,n,r){const s={x:e.cp2x,y:e.cp2y},a={x:t.cp1x,y:t.cp1y},i=Mu(e,s,n),o=Mu(s,a,n),l=Mu(a,t,n),c=Mu(i,o,n),d=Mu(o,l,n);return Mu(c,d,n)}function Du(e,t,n){return e?function(e,t){return{x:n=>e+e+t-n,setWidth(e){t=e},textAlign:e=>"center"===e?e:"right"===e?"left":"right",xPlus:(e,t)=>e-t,leftForLtr:(e,t)=>e-t}}(t,n):{x:e=>e,setWidth(e){},textAlign:e=>e,xPlus:(e,t)=>e+t,leftForLtr:(e,t)=>e}}function Tu(e,t){let n,r;"ltr"!==t&&"rtl"!==t||(n=e.canvas.style,r=[n.getPropertyValue("direction"),n.getPropertyPriority("direction")],n.setProperty("direction",t,"important"),e.prevTextDirection=r)}function Ou(e,t){void 0!==t&&(delete e.prevTextDirection,e.canvas.style.setProperty("direction",t[0],t[1]))}function Pu(e){return"angle"===e?{between:qc,compare:Wc,normalize:Vc}:{between:Yc,compare:(e,t)=>e-t,normalize:e=>e}}function Uu(e){let{start:t,end:n,count:r,loop:s,style:a}=e;return{start:t%r,end:n%r,loop:s&&(n-t+1)%r===0,style:a}}function Ru(e,t,n){if(!n)return[e];const{property:r,start:s,end:a}=n,i=t.length,{compare:o,between:l,normalize:c}=Pu(r),{start:d,end:u,loop:h,style:A}=function(e,t,n){const{property:r,start:s,end:a}=n,{between:i,normalize:o}=Pu(r),l=t.length;let c,d,{start:u,end:h,loop:A}=e;if(A){for(u+=l,h+=l,c=0,d=l;c<d&&i(o(t[u%l][r]),s,a);++c)u--,h--;u%=l,h%=l}return h<u&&(h+=l),{start:u,end:h,loop:A,style:e.style}}(e,t,n),f=[];let m,p,g,x=!1,b=null;const y=()=>x||l(s,g,m)&&0!==o(s,g),v=()=>!x||0===o(a,m)||l(a,g,m);for(let w=d,j=d;w<=u;++w)p=t[w%i],p.skip||(m=c(p[r]),m!==g&&(x=l(m,s,a),null===b&&y()&&(b=0===o(m,s)?w:j),null!==b&&v()&&(f.push(Uu({start:b,end:w,loop:h,count:i,style:A})),b=null),j=w,g=m));return null!==b&&f.push(Uu({start:b,end:u,loop:h,count:i,style:A})),f}function Qu(e,t){const n=[],r=e.segments;for(let s=0;s<r.length;s++){const a=Ru(r[s],e.points,t);a.length&&n.push(...a)}return n}function zu(e,t,n,r){return r&&r.setContext&&n?function(e,t,n,r){const s=e._chart.getContext(),a=Hu(e.options),{_datasetIndex:i,options:{spanGaps:o}}=e,l=n.length,c=[];let d=a,u=t[0].start,h=u;function A(e,t,r,s){const a=o?-1:1;if(e!==t){for(e+=l;n[e%l].skip;)e-=a;for(;n[t%l].skip;)t+=a;e%l!==t%l&&(c.push({start:e%l,end:t%l,loop:r,style:s}),d=s,u=t%l)}}for(const f of t){u=o?u:f.start;let e,t=n[u%l];for(h=u+1;h<=f.end;h++){const a=n[h%l];e=Hu(r.setContext(Zd(s,{type:"segment",p0:t,p1:a,p0DataIndex:(h-1)%l,p1DataIndex:h%l,datasetIndex:i}))),Ku(e,d)&&A(u,h-1,f.loop,d),t=a,d=e}u<h-1&&A(u,h-1,f.loop,d)}return c}(e,t,n,r):t}function Hu(e){return{backgroundColor:e.backgroundColor,borderCapStyle:e.borderCapStyle,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderJoinStyle:e.borderJoinStyle,borderWidth:e.borderWidth,borderColor:e.borderColor}}function Ku(e,t){if(!t)return!1;const n=[],r=function(e,t){return hd(t)?(n.includes(t)||n.push(t),n.indexOf(t)):t};return JSON.stringify(e,r)!==JSON.stringify(t,r)}function Wu(e,t,n){return e.options.clip?e[n]:t[n]}function Vu(e,t){const n=t._clip;if(n.disabled)return!1;const r=function(e,t){const{xScale:n,yScale:r}=e;return n&&r?{left:Wu(n,t,"left"),right:Wu(n,t,"right"),top:Wu(r,t,"top"),bottom:Wu(r,t,"bottom")}:t}(t,e.chartArea);return{left:!1===n.left?0:r.left-(!0===n.left?0:n.left),right:!1===n.right?e.width:r.right+(!0===n.right?0:n.right),top:!1===n.top?0:r.top-(!0===n.top?0:n.top),bottom:!1===n.bottom?e.height:r.bottom+(!0===n.bottom?0:n.bottom)}}class qu{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,t,n,r){const s=t.listeners[r],a=t.duration;s.forEach(r=>r({chart:e,initial:t.initial,numSteps:a,currentStep:Math.min(n-t.start,a)}))}_refresh(){this._request||(this._running=!0,this._request=nd.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Date.now(),t=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const s=n.items;let a,i=s.length-1,o=!1;for(;i>=0;--i)a=s[i],a._active?(a._total>n.duration&&(n.duration=a._total),a.tick(e),o=!0):(s[i]=s[s.length-1],s.pop());o&&(r.draw(),this._notify(r,n,e,"progress")),s.length||(n.running=!1,this._notify(r,n,e,"complete"),n.initial=!1),t+=s.length}),this._lastDate=e,0===t&&(this._running=!1)}_getAnims(e){const t=this._charts;let n=t.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},t.set(e,n)),n}listen(e,t,n){this._getAnims(e).listeners[t].push(n)}add(e,t){t&&t.length&&this._getAnims(e).items.push(...t)}has(e){return this._getAnims(e).items.length>0}start(e){const t=this._charts.get(e);t&&(t.running=!0,t.start=Date.now(),t.duration=t.items.reduce((e,t)=>Math.max(e,t._duration),0),this._refresh())}running(e){if(!this._running)return!1;const t=this._charts.get(e);return!!(t&&t.running&&t.items.length)}stop(e){const t=this._charts.get(e);if(!t||!t.items.length)return;const n=t.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();t.items=[],this._notify(e,t,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Gu=new qu;const Yu="transparent",Ju={boolean:(e,t,n)=>n>.5?t:e,color(e,t,n){const r=Ad(e||Yu),s=r.valid&&Ad(t||Yu);return s&&s.valid?s.mix(r,n).hexString():t},number:(e,t,n)=>e+(t-e)*n};class Xu{constructor(e,t,n,r){const s=t[n];r=Xd([e.to,r,s,e.from]);const a=Xd([e.from,s,r]);this._active=!0,this._fn=e.fn||Ju[e.type||typeof a],this._easing=ud[e.easing]||ud.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=t,this._prop=n,this._from=a,this._to=r,this._promises=void 0}active(){return this._active}update(e,t,n){if(this._active){this._notify(!1);const r=this._target[this._prop],s=n-this._start,a=this._duration-s;this._start=n,this._duration=Math.floor(Math.max(a,e.duration)),this._total+=s,this._loop=!!e.loop,this._to=Xd([e.to,t,r,e.from]),this._from=Xd([e.from,r,t])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const t=e-this._start,n=this._duration,r=this._prop,s=this._from,a=this._loop,i=this._to;let o;if(this._active=s!==i&&(a||t<n),!this._active)return this._target[r]=i,void this._notify(!0);t<0?this._target[r]=s:(o=t/n%2,o=a&&o>1?2-o:o,o=this._easing(Math.min(1,Math.max(0,o))),this._target[r]=this._fn(s,i,o))}wait(){const e=this._promises||(this._promises=[]);return new Promise((t,n)=>{e.push({res:t,rej:n})})}_notify(e){const t=e?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][t]()}}class Zu{constructor(e,t){this._chart=e,this._properties=new Map,this.configure(t)}configure(e){if(!ic(e))return;const t=Object.keys(Cd.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(r=>{const s=e[r];if(!ic(s))return;const a={};for(const e of t)a[e]=s[e];(ac(s.properties)&&s.properties||[r]).forEach(e=>{e!==r&&n.has(e)||n.set(e,a)})})}_animateOptions(e,t){const n=t.options,r=function(e,t){if(!t)return;let n=e.options;if(!n)return void(e.options=t);n.$shared&&(e.options=n=Object.assign({},n,{$shared:!1,$animations:{}}));return n}(e,n);if(!r)return[];const s=this._createAnimations(r,n);return n.$shared&&function(e,t){const n=[],r=Object.keys(t);for(let s=0;s<r.length;s++){const t=e[r[s]];t&&t.active()&&n.push(t.wait())}return Promise.all(n)}(e.options.$animations,n).then(()=>{e.options=n},()=>{}),s}_createAnimations(e,t){const n=this._properties,r=[],s=e.$animations||(e.$animations={}),a=Object.keys(t),i=Date.now();let o;for(o=a.length-1;o>=0;--o){const l=a[o];if("$"===l.charAt(0))continue;if("options"===l){r.push(...this._animateOptions(e,t));continue}const c=t[l];let d=s[l];const u=n.get(l);if(d){if(u&&d.active()){d.update(u,c,i);continue}d.cancel()}u&&u.duration?(s[l]=d=new Xu(u,e,l,c),r.push(d)):e[l]=c}return r}update(e,t){if(0===this._properties.size)return void Object.assign(e,t);const n=this._createAnimations(e,t);return n.length?(Gu.add(this._chart,n),!0):void 0}}function $u(e,t){const n=e&&e.options||{},r=n.reverse,s=void 0===n.min?t:0,a=void 0===n.max?t:0;return{start:r?a:s,end:r?s:a}}function eh(e,t){const n=[],r=e._getSortedDatasetMetas(t);let s,a;for(s=0,a=r.length;s<a;++s)n.push(r[s].index);return n}function th(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};const s=e.keys,a="single"===r.mode;let i,o,l,c;if(null===t)return;let d=!1;for(i=0,o=s.length;i<o;++i){if(l=+s[i],l===n){if(d=!0,r.all)continue;break}c=e.values[l],oc(c)&&(a||0===t||Dc(t)===Dc(c))&&(t+=c)}return d||r.all?t:0}function nh(e,t){const n=e&&e.options.stacked;return n||void 0===n&&void 0!==t.stack}function rh(e,t,n){const r=e[t]||(e[t]={});return r[n]||(r[n]={})}function sh(e,t,n,r){for(const s of t.getMatchingVisibleMetas(r).reverse()){const t=e[s.index];if(n&&t>0||!n&&t<0)return s.index}return null}function ah(e,t){const{chart:n,_cachedMeta:r}=e,s=n._stacks||(n._stacks={}),{iScale:a,vScale:i,index:o}=r,l=a.axis,c=i.axis,d=function(e,t,n){return"".concat(e.id,".").concat(t.id,".").concat(n.stack||n.type)}(a,i,r),u=t.length;let h;for(let A=0;A<u;++A){const e=t[A],{[l]:n,[c]:a}=e;h=(e._stacks||(e._stacks={}))[c]=rh(s,d,n),h[o]=a,h._top=sh(h,i,!0,r.type),h._bottom=sh(h,i,!1,r.type);(h._visualValues||(h._visualValues={}))[o]=a}}function ih(e,t){const n=e.scales;return Object.keys(n).filter(e=>n[e].axis===t).shift()}function oh(e,t){const n=e.controller.index,r=e.vScale&&e.vScale.axis;if(r){t=t||e._parsed;for(const e of t){const t=e._stacks;if(!t||void 0===t[r]||void 0===t[r][n])return;delete t[r][n],void 0!==t[r]._visualValues&&void 0!==t[r]._visualValues[n]&&delete t[r]._visualValues[n]}}}const lh=e=>"reset"===e||"none"===e,ch=(e,t)=>t?e:Object.assign({},e);class dh{constructor(e,t){this.chart=e,this._ctx=e.ctx,this.index=t,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=nh(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&oh(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,t=this._cachedMeta,n=this.getDataset(),r=(e,t,n,r)=>"x"===e?t:"r"===e?r:n,s=t.xAxisID=cc(n.xAxisID,ih(e,"x")),a=t.yAxisID=cc(n.yAxisID,ih(e,"y")),i=t.rAxisID=cc(n.rAxisID,ih(e,"r")),o=t.indexAxis,l=t.iAxisID=r(o,s,a,i),c=t.vAxisID=r(o,a,s,i);t.xScale=this.getScaleForId(s),t.yScale=this.getScaleForId(a),t.rScale=this.getScaleForId(i),t.iScale=this.getScaleForId(l),t.vScale=this.getScaleForId(c)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const t=this._cachedMeta;return e===t.iScale?t.vScale:t.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&ed(this._data,this),e._stacked&&oh(e)}_dataCheck(){const e=this.getDataset(),t=e.data||(e.data=[]),n=this._data;if(ic(t)){const e=this._cachedMeta;this._data=function(e,t){const{iScale:n,vScale:r}=t,s="x"===n.axis?"x":"y",a="x"===r.axis?"x":"y",i=Object.keys(e),o=new Array(i.length);let l,c,d;for(l=0,c=i.length;l<c;++l)d=i[l],o[l]={[s]:d,[a]:e[d]};return o}(t,e)}else if(n!==t){if(n){ed(n,this);const e=this._cachedMeta;oh(e),e._parsed=[]}t&&Object.isExtensible(t)&&function(e,t){e._chartjs?e._chartjs.listeners.push(t):(Object.defineProperty(e,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),$c.forEach(t=>{const n="_onData"+wc(t),r=e[t];Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value(){for(var t=arguments.length,s=new Array(t),a=0;a<t;a++)s[a]=arguments[a];const i=r.apply(this,s);return e._chartjs.listeners.forEach(e=>{"function"===typeof e[n]&&e[n](...s)}),i}})}))}(t,this),this._syncList=[],this._data=t}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const t=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const s=t._stacked;t._stacked=nh(t.vScale,t),t.stack!==n.stack&&(r=!0,oh(t),t.stack=n.stack),this._resyncElements(e),(r||s!==t._stacked)&&(ah(this,t._parsed),t._stacked=nh(t.vScale,t))}configure(){const e=this.chart.config,t=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),t,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,t){const{_cachedMeta:n,_data:r}=this,{iScale:s,_stacked:a}=n,i=s.axis;let o,l,c,d=0===e&&t===r.length||n._sorted,u=e>0&&n._parsed[e-1];if(!1===this._parsing)n._parsed=r,n._sorted=!0,c=r;else{c=ac(r[e])?this.parseArrayData(n,r,e,t):ic(r[e])?this.parseObjectData(n,r,e,t):this.parsePrimitiveData(n,r,e,t);const s=()=>null===l[i]||u&&l[i]<u[i];for(o=0;o<t;++o)n._parsed[o+e]=l=c[o],d&&(s()&&(d=!1),u=l);n._sorted=d}a&&ah(this,c)}parsePrimitiveData(e,t,n,r){const{iScale:s,vScale:a}=e,i=s.axis,o=a.axis,l=s.getLabels(),c=s===a,d=new Array(r);let u,h,A;for(u=0,h=r;u<h;++u)A=u+n,d[u]={[i]:c||s.parse(l[A],A),[o]:a.parse(t[A],A)};return d}parseArrayData(e,t,n,r){const{xScale:s,yScale:a}=e,i=new Array(r);let o,l,c,d;for(o=0,l=r;o<l;++o)c=o+n,d=t[c],i[o]={x:s.parse(d[0],c),y:a.parse(d[1],c)};return i}parseObjectData(e,t,n,r){const{xScale:s,yScale:a}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l=new Array(r);let c,d,u,h;for(c=0,d=r;c<d;++c)u=c+n,h=t[u],l[c]={x:s.parse(vc(h,i),u),y:a.parse(vc(h,o),u)};return l}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,t,n){const r=this.chart,s=this._cachedMeta,a=t[e.axis];return th({keys:eh(r,!0),values:t._stacks[e.axis]._visualValues},a,s.index,{mode:n})}updateRangeFromParsed(e,t,n,r){const s=n[t.axis];let a=null===s?NaN:s;const i=r&&n._stacks[t.axis];r&&i&&(r.values=i,a=th(r,s,this._cachedMeta.index)),e.min=Math.min(e.min,a),e.max=Math.max(e.max,a)}getMinMax(e,t){const n=this._cachedMeta,r=n._parsed,s=n._sorted&&e===n.iScale,a=r.length,i=this._getOtherScale(e),o=((e,t,n)=>e&&!t.hidden&&t._stacked&&{keys:eh(n,!0),values:null})(t,n,this.chart),l={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:c,max:d}=function(e){const{min:t,max:n,minDefined:r,maxDefined:s}=e.getUserBounds();return{min:r?t:Number.NEGATIVE_INFINITY,max:s?n:Number.POSITIVE_INFINITY}}(i);let u,h;function A(){h=r[u];const t=h[i.axis];return!oc(h[e.axis])||c>t||d<t}for(u=0;u<a&&(A()||(this.updateRangeFromParsed(l,e,h,o),!s));++u);if(s)for(u=a-1;u>=0;--u)if(!A()){this.updateRangeFromParsed(l,e,h,o);break}return l}getAllParsedValues(e){const t=this._cachedMeta._parsed,n=[];let r,s,a;for(r=0,s=t.length;r<s;++r)a=t[r][e.axis],oc(a)&&n.push(a);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const t=this._cachedMeta,n=t.iScale,r=t.vScale,s=this.getParsed(e);return{label:n?""+n.getLabelForValue(s[n.axis]):"",value:r?""+r.getLabelForValue(s[r.axis]):""}}_update(e){const t=this._cachedMeta;this.update(e||"default"),t._clip=function(e){let t,n,r,s;return ic(e)?(t=e.top,n=e.right,r=e.bottom,s=e.left):t=n=r=s=e,{top:t,right:n,bottom:r,left:s,disabled:!1===e}}(cc(this.options.clip,function(e,t,n){if(!1===n)return!1;const r=$u(e,n),s=$u(t,n);return{top:s.end,right:r.end,bottom:s.start,left:r.start}}(t.xScale,t.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,t=this.chart,n=this._cachedMeta,r=n.data||[],s=t.chartArea,a=[],i=this._drawStart||0,o=this._drawCount||r.length-i,l=this.options.drawActiveElementsOnTop;let c;for(n.dataset&&n.dataset.draw(e,s,i,o),c=i;c<i+o;++c){const t=r[c];t.hidden||(t.active&&l?a.push(t):t.draw(e,s))}for(c=0;c<a.length;++c)a[c].draw(e,s)}getStyle(e,t){const n=t?"active":"default";return void 0===e&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,t,n){const r=this.getDataset();let s;if(e>=0&&e<this._cachedMeta.data.length){const t=this._cachedMeta.data[e];s=t.$context||(t.$context=function(e,t,n){return Zd(e,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:n,index:t,mode:"default",type:"data"})}(this.getContext(),e,t)),s.parsed=this.getParsed(e),s.raw=r.data[e],s.index=s.dataIndex=e}else s=this.$context||(this.$context=function(e,t){return Zd(e,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}(this.chart.getContext(),this.index)),s.dataset=r,s.index=s.datasetIndex=this.index;return s.active=!!t,s.mode=n,s}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,t){return this._resolveElementOptions(this.dataElementType.id,t,e)}_resolveElementOptions(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"default",n=arguments.length>2?arguments[2]:void 0;const r="active"===t,s=this._cachedDataOpts,a=e+"-"+t,i=s[a],o=this.enableOptionSharing&&jc(n);if(i)return ch(i,o);const l=this.chart.config,c=l.datasetElementScopeKeys(this._type,e),d=r?["".concat(e,"Hover"),"hover",e,""]:[e,""],u=l.getOptionScopes(this.getDataset(),c),h=Object.keys(Cd.elements[e]),A=l.resolveNamedOptions(u,h,()=>this.getContext(n,r,t),d);return A.$shared&&(A.$shared=o,s[a]=Object.freeze(ch(A,o))),A}_resolveAnimations(e,t,n){const r=this.chart,s=this._cachedDataOpts,a="animation-".concat(t),i=s[a];if(i)return i;let o;if(!1!==r.options.animation){const r=this.chart.config,s=r.datasetAnimationScopeKeys(this._type,t),a=r.getOptionScopes(this.getDataset(),s);o=r.createResolver(a,this.getContext(e,n,t))}const l=new Zu(r,o&&o.animations);return o&&o._cacheable&&(s[a]=Object.freeze(l)),l}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,t){return!t||lh(e)||this.chart._animationsDisabled}_getSharedOptions(e,t){const n=this.resolveDataElementOptions(e,t),r=this._sharedOptions,s=this.getSharedOptions(n),a=this.includeOptions(t,s)||s!==r;return this.updateSharedOptions(s,t,n),{sharedOptions:s,includeOptions:a}}updateElement(e,t,n,r){lh(r)?Object.assign(e,n):this._resolveAnimations(t,r).update(e,n)}updateSharedOptions(e,t,n){e&&!lh(t)&&this._resolveAnimations(void 0,t).update(e,n)}_setStyle(e,t,n,r){e.active=r;const s=this.getStyle(t,r);this._resolveAnimations(t,n,r).update(e,{options:!r&&this.getSharedOptions(s)||s})}removeHoverStyle(e,t,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,t,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const t=this._data,n=this._cachedMeta.data;for(const[i,o,l]of this._syncList)this[i](o,l);this._syncList=[];const r=n.length,s=t.length,a=Math.min(s,r);a&&this.parse(0,a),s>r?this._insertElements(r,s-r,e):s<r&&this._removeElements(s,r-s)}_insertElements(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=this._cachedMeta,s=r.data,a=e+t;let i;const o=e=>{for(e.length+=t,i=e.length-1;i>=a;i--)e[i]=e[i-t]};for(o(s),i=e;i<a;++i)s[i]=new this.dataElementType;this._parsing&&o(r._parsed),this.parse(e,t),n&&this.updateElements(s,e,t,"reset")}updateElements(e,t,n,r){}_removeElements(e,t){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(e,t);n._stacked&&oh(n,r)}n.data.splice(e,t)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[t,n,r]=e;this[t](n,r)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,t){t&&this._sync(["_removeElements",e,t]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function uh(e){const t=e.iScale,n=function(e,t){if(!e._cache.$bar){const n=e.getMatchingVisibleMetas(t);let r=[];for(let t=0,s=n.length;t<s;t++)r=r.concat(n[t].controller.getAllParsedValues(e));e._cache.$bar=td(r.sort((e,t)=>e-t))}return e._cache.$bar}(t,e.type);let r,s,a,i,o=t._length;const l=()=>{32767!==a&&-32768!==a&&(jc(i)&&(o=Math.min(o,Math.abs(a-i)||o)),i=a)};for(r=0,s=n.length;r<s;++r)a=t.getPixelForValue(n[r]),l();for(i=void 0,r=0,s=t.ticks.length;r<s;++r)a=t.getPixelForTick(r),l();return o}function hh(e,t,n,r){return ac(e)?function(e,t,n,r){const s=n.parse(e[0],r),a=n.parse(e[1],r),i=Math.min(s,a),o=Math.max(s,a);let l=i,c=o;Math.abs(i)>Math.abs(o)&&(l=o,c=i),t[n.axis]=c,t._custom={barStart:l,barEnd:c,start:s,end:a,min:i,max:o}}(e,t,n,r):t[n.axis]=n.parse(e,r),t}function Ah(e,t,n,r){const s=e.iScale,a=e.vScale,i=s.getLabels(),o=s===a,l=[];let c,d,u,h;for(c=n,d=n+r;c<d;++c)h=t[c],u={},u[s.axis]=o||s.parse(i[c],c),l.push(hh(h,u,a,c));return l}function fh(e){return e&&void 0!==e.barStart&&void 0!==e.barEnd}function mh(e,t,n,r){let s=t.borderSkipped;const a={};if(!s)return void(e.borderSkipped=a);if(!0===s)return void(e.borderSkipped={top:!0,right:!0,bottom:!0,left:!0});const{start:i,end:o,reverse:l,top:c,bottom:d}=function(e){let t,n,r,s,a;return e.horizontal?(t=e.base>e.x,n="left",r="right"):(t=e.base<e.y,n="bottom",r="top"),t?(s="end",a="start"):(s="start",a="end"),{start:n,end:r,reverse:t,top:s,bottom:a}}(e);"middle"===s&&n&&(e.enableBorderRadius=!0,(n._top||0)===r?s=c:(n._bottom||0)===r?s=d:(a[ph(d,i,o,l)]=!0,s=c)),a[ph(s,i,o,l)]=!0,e.borderSkipped=a}function ph(e,t,n,r){var s,a,i;return r?(i=n,e=gh(e=(s=e)===(a=t)?i:s===i?a:s,n,t)):e=gh(e,t,n),e}function gh(e,t,n){return"start"===e?t:"end"===e?n:e}function xh(e,t,n){let{inflateAmount:r}=t;e.inflateAmount="auto"===r?1===n?.33:0:r}(0,w.A)(dh,"defaults",{}),(0,w.A)(dh,"datasetElementType",null),(0,w.A)(dh,"dataElementType",null);class bh extends dh{parsePrimitiveData(e,t,n,r){return Ah(e,t,n,r)}parseArrayData(e,t,n,r){return Ah(e,t,n,r)}parseObjectData(e,t,n,r){const{iScale:s,vScale:a}=e,{xAxisKey:i="x",yAxisKey:o="y"}=this._parsing,l="x"===s.axis?i:o,c="x"===a.axis?i:o,d=[];let u,h,A,f;for(u=n,h=n+r;u<h;++u)f=t[u],A={},A[s.axis]=s.parse(vc(f,l),u),d.push(hh(vc(f,c),A,a,u));return d}updateRangeFromParsed(e,t,n,r){super.updateRangeFromParsed(e,t,n,r);const s=n._custom;s&&t===this._cachedMeta.vScale&&(e.min=Math.min(e.min,s.min),e.max=Math.max(e.max,s.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const t=this._cachedMeta,{iScale:n,vScale:r}=t,s=this.getParsed(e),a=s._custom,i=fh(a)?"["+a.start+", "+a.end+"]":""+r.getLabelForValue(s[r.axis]);return{label:""+n.getLabelForValue(s[n.axis]),value:i}}initialize(){this.enableOptionSharing=!0,super.initialize();this._cachedMeta.stack=this.getDataset().stack}update(e){const t=this._cachedMeta;this.updateElements(t.data,0,t.data.length,e)}updateElements(e,t,n,r){const s="reset"===r,{index:a,_cachedMeta:{vScale:i}}=this,o=i.getBasePixel(),l=i.isHorizontal(),c=this._getRuler(),{sharedOptions:d,includeOptions:u}=this._getSharedOptions(t,r);for(let h=t;h<t+n;h++){const t=this.getParsed(h),n=s||sc(t[i.axis])?{base:o,head:o}:this._calculateBarValuePixels(h),A=this._calculateBarIndexPixels(h,c),f=(t._stacks||{})[i.axis],m={horizontal:l,base:n.base,enableBorderRadius:!f||fh(t._custom)||a===f._top||a===f._bottom,x:l?n.head:A.center,y:l?A.center:n.head,height:l?A.size:Math.abs(n.size),width:l?Math.abs(n.size):A.size};u&&(m.options=d||this.resolveDataElementOptions(h,e[h].active?"active":r));const p=m.options||e[h].options;mh(m,p,f,a),xh(m,p,c.ratio),this.updateElement(e[h],h,m,r)}}_getStacks(e,t){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(e=>e.controller.options.grouped),s=n.options.stacked,a=[],i=this._cachedMeta.controller.getParsed(t),o=i&&i[n.axis],l=e=>{const t=e._parsed.find(e=>e[n.axis]===o),r=t&&t[e.vScale.axis];if(sc(r)||isNaN(r))return!0};for(const c of r)if((void 0===t||!l(c))&&((!1===s||-1===a.indexOf(c.stack)||void 0===s&&void 0===c.stack)&&a.push(c.stack),c.index===e))break;return a.length||a.push(void 0),a}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,t=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===t).shift()}_getAxis(){const e={},t=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[cc("x"===this.chart.options.indexAxis?n.xAxisID:n.yAxisID,t)]=!0;return Object.keys(e)}_getStackIndex(e,t,n){const r=this._getStacks(e,n),s=void 0!==t?r.indexOf(t):-1;return-1===s?r.length-1:s}_getRuler(){const e=this.options,t=this._cachedMeta,n=t.iScale,r=[];let s,a;for(s=0,a=t.data.length;s<a;++s)r.push(n.getPixelForValue(this.getParsed(s)[n.axis],s));const i=e.barThickness;return{min:i||uh(t),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:i?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:t,_stacked:n,index:r},options:{base:s,minBarLength:a}}=this,i=s||0,o=this.getParsed(e),l=o._custom,c=fh(l);let d,u,h=o[t.axis],A=0,f=n?this.applyStack(t,o,n):h;f!==h&&(A=f-h,f=h),c&&(h=l.barStart,f=l.barEnd-l.barStart,0!==h&&Dc(h)!==Dc(l.barEnd)&&(A=0),A+=h);const m=sc(s)||c?A:s;let p=t.getPixelForValue(m);if(d=this.chart.getDataVisibility(e)?t.getPixelForValue(A+f):p,u=d-p,Math.abs(u)<a){u=function(e,t,n){return 0!==e?Dc(e):(t.isHorizontal()?1:-1)*(t.min>=n?1:-1)}(u,t,i)*a,h===i&&(p-=u/2);const e=t.getPixelForDecimal(0),s=t.getPixelForDecimal(1),l=Math.min(e,s),A=Math.max(e,s);p=Math.max(Math.min(p,A),l),d=p+u,n&&!c&&(o._stacks[t.axis]._visualValues[r]=t.getValueForPixel(d)-t.getValueForPixel(p))}if(p===t.getPixelForValue(i)){const e=Dc(u)*t.getLineWidthForValue(i)/2;p+=e,u-=e}return{size:u,base:p,head:d,center:d+u/2}}_calculateBarIndexPixels(e,t){const n=t.scale,r=this.options,s=r.skipNull,a=cc(r.maxBarThickness,1/0);let i,o;const l=this._getAxisCount();if(t.grouped){const n=s?this._getStackCount(e):t.stackCount,c="flex"===r.barThickness?function(e,t,n,r){const s=t.pixels,a=s[e];let i=e>0?s[e-1]:null,o=e<s.length-1?s[e+1]:null;const l=n.categoryPercentage;null===i&&(i=a-(null===o?t.end-t.start:o-a)),null===o&&(o=a+a-i);const c=a-(a-Math.min(i,o))/2*l;return{chunk:Math.abs(o-i)/2*l/r,ratio:n.barPercentage,start:c}}(e,t,r,n*l):function(e,t,n,r){const s=n.barThickness;let a,i;return sc(s)?(a=t.min*n.categoryPercentage,i=n.barPercentage):(a=s*r,i=1),{chunk:a/r,ratio:i,start:t.pixels[e]-a/2}}(e,t,r,n*l),d="x"===this.chart.options.indexAxis?this.getDataset().xAxisID:this.getDataset().yAxisID,u=this._getAxis().indexOf(cc(d,this.getFirstScaleIdForIndexAxis())),h=this._getStackIndex(this.index,this._cachedMeta.stack,s?e:void 0)+u;i=c.start+c.chunk*h+c.chunk/2,o=Math.min(a,c.chunk*c.ratio)}else i=n.getPixelForValue(this.getParsed(e)[n.axis],e),o=Math.min(a,t.min*t.ratio);return{base:i-o/2,head:i+o/2,center:i,size:o}}draw(){const e=this._cachedMeta,t=e.vScale,n=e.data,r=n.length;let s=0;for(;s<r;++s)null===this.getParsed(s)[t.axis]||n[s].hidden||n[s].draw(this._ctx)}}(0,w.A)(bh,"id","bar"),(0,w.A)(bh,"defaults",{datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}}),(0,w.A)(bh,"overrides",{scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}});class yh extends dh{initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,t,n,r){const s=super.parsePrimitiveData(e,t,n,r);for(let a=0;a<s.length;a++)s[a]._custom=this.resolveDataElementOptions(a+n).radius;return s}parseArrayData(e,t,n,r){const s=super.parseArrayData(e,t,n,r);for(let a=0;a<s.length;a++){const e=t[n+a];s[a]._custom=cc(e[2],this.resolveDataElementOptions(a+n).radius)}return s}parseObjectData(e,t,n,r){const s=super.parseObjectData(e,t,n,r);for(let a=0;a<s.length;a++){const e=t[n+a];s[a]._custom=cc(e&&e.r&&+e.r,this.resolveDataElementOptions(a+n).radius)}return s}getMaxOverflow(){const e=this._cachedMeta.data;let t=0;for(let n=e.length-1;n>=0;--n)t=Math.max(t,e[n].size(this.resolveDataElementOptions(n))/2);return t>0&&t}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),i=r.getLabelForValue(a.x),o=s.getLabelForValue(a.y),l=a._custom;return{label:n[e]||"",value:"("+i+", "+o+(l?", "+l:"")+")"}}update(e){const t=this._cachedMeta.data;this.updateElements(t,0,t.length,e)}updateElements(e,t,n,r){const s="reset"===r,{iScale:a,vScale:i}=this._cachedMeta,{sharedOptions:o,includeOptions:l}=this._getSharedOptions(t,r),c=a.axis,d=i.axis;for(let u=t;u<t+n;u++){const t=e[u],n=!s&&this.getParsed(u),h={},A=h[c]=s?a.getPixelForDecimal(.5):a.getPixelForValue(n[c]),f=h[d]=s?i.getBasePixel():i.getPixelForValue(n[d]);h.skip=isNaN(A)||isNaN(f),l&&(h.options=o||this.resolveDataElementOptions(u,t.active?"active":r),s&&(h.options.radius=0)),this.updateElement(t,u,h,r)}}resolveDataElementOptions(e,t){const n=this.getParsed(e);let r=super.resolveDataElementOptions(e,t);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const s=r.radius;return"active"!==t&&(r.radius=0),r.radius+=cc(n&&n._custom,s),r}}(0,w.A)(yh,"id","bubble"),(0,w.A)(yh,"defaults",{datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}}),(0,w.A)(yh,"overrides",{scales:{x:{type:"linear"},y:{type:"linear"}}});class vh extends dh{constructor(e,t){super(e,t),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,t){const n=this.getDataset().data,r=this._cachedMeta;if(!1===this._parsing)r._parsed=n;else{let s,a,i=e=>+n[e];if(ic(n[e])){const{key:e="value"}=this._parsing;i=t=>+vc(n[t],e)}for(s=e,a=e+t;s<a;++s)r._parsed[s]=i(s)}}_getRotation(){return Rc(this.options.rotation-90)}_getCircumference(){return Rc(this.options.circumference)}_getRotationExtents(){let e=Sc,t=-Sc;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,s=r._getRotation(),a=r._getCircumference();e=Math.min(e,s),t=Math.max(t,s+a)}return{rotation:e,circumference:t-e}}update(e){const t=this.chart,{chartArea:n}=t,r=this._cachedMeta,s=r.data,a=this.getMaxBorderWidth()+this.getMaxOffset(s)+this.options.spacing,i=Math.max((Math.min(n.width,n.height)-a)/2,0),o=Math.min((l=this.options.cutout,c=i,"string"===typeof l&&l.endsWith("%")?parseFloat(l)/100:+l/c),1);var l,c;const d=this._getRingWeight(this.index),{circumference:u,rotation:h}=this._getRotationExtents(),{ratioX:A,ratioY:f,offsetX:m,offsetY:p}=function(e,t,n){let r=1,s=1,a=0,i=0;if(t<Sc){const o=e,l=o+t,c=Math.cos(o),d=Math.sin(o),u=Math.cos(l),h=Math.sin(l),A=(e,t,r)=>qc(e,o,l,!0)?1:Math.max(t,t*n,r,r*n),f=(e,t,r)=>qc(e,o,l,!0)?-1:Math.min(t,t*n,r,r*n),m=A(0,c,u),p=A(Lc,d,h),g=f(Cc,c,u),x=f(Cc+Lc,d,h);r=(m-g)/2,s=(p-x)/2,a=-(m+g)/2,i=-(p+x)/2}return{ratioX:r,ratioY:s,offsetX:a,offsetY:i}}(h,u,o),g=(n.width-a)/A,x=(n.height-a)/f,b=Math.max(Math.min(g,x)/2,0),y=dc(this.options.radius,b),v=(y-Math.max(y*o,0))/this._getVisibleDatasetWeightTotal();this.offsetX=m*y,this.offsetY=p*y,r.total=this.calculateTotal(),this.outerRadius=y-v*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-v*d,0),this.updateElements(s,0,s.length,e)}_circumference(e,t){const n=this.options,r=this._cachedMeta,s=this._getCircumference();return t&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||null===r._parsed[e]||r.data[e].hidden?0:this.calculateCircumference(r._parsed[e]*s/Sc)}updateElements(e,t,n,r){const s="reset"===r,a=this.chart,i=a.chartArea,o=a.options.animation,l=(i.left+i.right)/2,c=(i.top+i.bottom)/2,d=s&&o.animateScale,u=d?0:this.innerRadius,h=d?0:this.outerRadius,{sharedOptions:A,includeOptions:f}=this._getSharedOptions(t,r);let m,p=this._getRotation();for(m=0;m<t;++m)p+=this._circumference(m,s);for(m=t;m<t+n;++m){const t=this._circumference(m,s),n=e[m],a={x:l+this.offsetX,y:c+this.offsetY,startAngle:p,endAngle:p+t,circumference:t,outerRadius:h,innerRadius:u};f&&(a.options=A||this.resolveDataElementOptions(m,n.active?"active":r)),p+=t,this.updateElement(n,m,a,r)}}calculateTotal(){const e=this._cachedMeta,t=e.data;let n,r=0;for(n=0;n<t.length;n++){const s=e._parsed[n];null===s||isNaN(s)||!this.chart.getDataVisibility(n)||t[n].hidden||(r+=Math.abs(s))}return r}calculateCircumference(e){const t=this._cachedMeta.total;return t>0&&!isNaN(e)?Sc*(Math.abs(e)/t):0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=xd(t._parsed[e],n.options.locale);return{label:r[e]||"",value:s}}getMaxBorderWidth(e){let t=0;const n=this.chart;let r,s,a,i,o;if(!e)for(r=0,s=n.data.datasets.length;r<s;++r)if(n.isDatasetVisible(r)){a=n.getDatasetMeta(r),e=a.data,i=a.controller;break}if(!e)return 0;for(r=0,s=e.length;r<s;++r)o=i.resolveDataElementOptions(r),"inner"!==o.borderAlign&&(t=Math.max(t,o.borderWidth||0,o.hoverBorderWidth||0));return t}getMaxOffset(e){let t=0;for(let n=0,r=e.length;n<r;++n){const e=this.resolveDataElementOptions(n);t=Math.max(t,e.offset||0,e.hoverOffset||0)}return t}_getRingWeightOffset(e){let t=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(t+=this._getRingWeight(n));return t}_getRingWeight(e){return Math.max(cc(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}(0,w.A)(vh,"id","doughnut"),(0,w.A)(vh,"defaults",{datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"}),(0,w.A)(vh,"descriptors",{_scriptable:e=>"spacing"!==e,_indexable:e=>"spacing"!==e&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")}),(0,w.A)(vh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data,{labels:{pointStyle:n,textAlign:r,color:s,useBorderRadius:a,borderRadius:i}}=e.legend.options;return t.labels.length&&t.datasets.length?t.labels.map((t,o)=>{const l=e.getDatasetMeta(0).controller.getStyle(o);return{text:t,fillStyle:l.backgroundColor,fontColor:s,hidden:!e.getDataVisibility(o),lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:l.borderWidth,strokeStyle:l.borderColor,textAlign:r,pointStyle:n,borderRadius:a&&(i||l.borderRadius),index:o}}):[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}}});class wh extends dh{initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const t=this._cachedMeta,{dataset:n,data:r=[],_dataset:s}=t,a=this.chart._animationsDisabled;let{start:i,count:o}=id(t,r,a);this._drawStart=i,this._drawCount=o,od(t)&&(i=0,o=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!s._decimated,n.points=r;const l=this.resolveDatasetElementOptions(e);this.options.showLine||(l.borderWidth=0),l.segment=this.options.segment,this.updateElement(n,void 0,{animated:!a,options:l},e),this.updateElements(r,i,o,e)}updateElements(e,t,n,r){const s="reset"===r,{iScale:a,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,{sharedOptions:c,includeOptions:d}=this._getSharedOptions(t,r),u=a.axis,h=i.axis,{spanGaps:A,segment:f}=this.options,m=Pc(A)?A:Number.POSITIVE_INFINITY,p=this.chart._animationsDisabled||s||"none"===r,g=t+n,x=e.length;let b=t>0&&this.getParsed(t-1);for(let y=0;y<x;++y){const n=e[y],A=p?n:{};if(y<t||y>=g){A.skip=!0;continue}const x=this.getParsed(y),v=sc(x[h]),w=A[u]=a.getPixelForValue(x[u],y),j=A[h]=s||v?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,x,o):x[h],y);A.skip=isNaN(w)||isNaN(j)||v,A.stop=y>0&&Math.abs(x[u]-b[u])>m,f&&(A.parsed=x,A.raw=l.data[y]),d&&(A.options=c||this.resolveDataElementOptions(y,n.active?"active":r)),p||this.updateElement(n,y,A,r),b=x}}getMaxOverflow(){const e=this._cachedMeta,t=e.dataset,n=t.options&&t.options.borderWidth||0,r=e.data||[];if(!r.length)return n;const s=r[0].size(this.resolveDataElementOptions(0)),a=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,s,a)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}(0,w.A)(wh,"id","line"),(0,w.A)(wh,"defaults",{datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1}),(0,w.A)(wh,"overrides",{scales:{_index_:{type:"category"},_value_:{type:"linear"}}});class jh extends dh{constructor(e,t){super(e,t),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const t=this._cachedMeta,n=this.chart,r=n.data.labels||[],s=xd(t._parsed[e].r,n.options.locale);return{label:r[e]||"",value:s}}parseObjectData(e,t,n,r){return hu.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta.data;this._updateRadius(),this.updateElements(t,0,t.length,e)}getMinMax(){const e=this._cachedMeta,t={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((e,n)=>{const r=this.getParsed(n).r;!isNaN(r)&&this.chart.getDataVisibility(n)&&(r<t.min&&(t.min=r),r>t.max&&(t.max=r))}),t}_updateRadius(){const e=this.chart,t=e.chartArea,n=e.options,r=Math.min(t.right-t.left,t.bottom-t.top),s=Math.max(r/2,0),a=(s-Math.max(n.cutoutPercentage?s/100*n.cutoutPercentage:1,0))/e.getVisibleDatasetCount();this.outerRadius=s-a*this.index,this.innerRadius=this.outerRadius-a}updateElements(e,t,n,r){const s="reset"===r,a=this.chart,i=a.options.animation,o=this._cachedMeta.rScale,l=o.xCenter,c=o.yCenter,d=o.getIndexAngle(0)-.5*Cc;let u,h=d;const A=360/this.countVisibleElements();for(u=0;u<t;++u)h+=this._computeAngle(u,r,A);for(u=t;u<t+n;u++){const t=e[u];let n=h,f=h+this._computeAngle(u,r,A),m=a.getDataVisibility(u)?o.getDistanceFromCenterForValue(this.getParsed(u).r):0;h=f,s&&(i.animateScale&&(m=0),i.animateRotate&&(n=f=d));const p={x:l,y:c,innerRadius:0,outerRadius:m,startAngle:n,endAngle:f,options:this.resolveDataElementOptions(u,t.active?"active":r)};this.updateElement(t,u,p,r)}}countVisibleElements(){const e=this._cachedMeta;let t=0;return e.data.forEach((e,n)=>{!isNaN(this.getParsed(n).r)&&this.chart.getDataVisibility(n)&&t++}),t}_computeAngle(e,t,n){return this.chart.getDataVisibility(e)?Rc(this.resolveDataElementOptions(e,t).angle||n):0}}(0,w.A)(jh,"id","polarArea"),(0,w.A)(jh,"defaults",{dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0}),(0,w.A)(jh,"overrides",{aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const t=e.data;if(t.labels.length&&t.datasets.length){const{labels:{pointStyle:n,color:r}}=e.legend.options;return t.labels.map((t,s)=>{const a=e.getDatasetMeta(0).controller.getStyle(s);return{text:t,fillStyle:a.backgroundColor,strokeStyle:a.borderColor,fontColor:r,lineWidth:a.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(s),index:s}})}return[]}},onClick(e,t,n){n.chart.toggleDataVisibility(t.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}});class Nh extends vh{}(0,w.A)(Nh,"id","pie"),(0,w.A)(Nh,"defaults",{cutout:0,rotation:0,circumference:360,radius:"100%"});class _h extends dh{getLabelAndValue(e){const t=this._cachedMeta.vScale,n=this.getParsed(e);return{label:t.getLabels()[e],value:""+t.getLabelForValue(n[t.axis])}}parseObjectData(e,t,n,r){return hu.bind(this)(e,t,n,r)}update(e){const t=this._cachedMeta,n=t.dataset,r=t.data||[],s=t.iScale.getLabels();if(n.points=r,"resize"!==e){const t=this.resolveDatasetElementOptions(e);this.options.showLine||(t.borderWidth=0);const a={_loop:!0,_fullLoop:s.length===r.length,options:t};this.updateElement(n,void 0,a,e)}this.updateElements(r,0,r.length,e)}updateElements(e,t,n,r){const s=this._cachedMeta.rScale,a="reset"===r;for(let i=t;i<t+n;i++){const t=e[i],n=this.resolveDataElementOptions(i,t.active?"active":r),o=s.getPointPositionForValue(i,this.getParsed(i).r),l=a?s.xCenter:o.x,c=a?s.yCenter:o.y,d={x:l,y:c,angle:o.angle,skip:isNaN(l)||isNaN(c),options:n};this.updateElement(t,i,d,r)}}}(0,w.A)(_h,"id","radar"),(0,w.A)(_h,"defaults",{datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}}),(0,w.A)(_h,"overrides",{aspectRatio:1,scales:{r:{type:"radialLinear"}}});class Ch extends dh{getLabelAndValue(e){const t=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:s}=t,a=this.getParsed(e),i=r.getLabelForValue(a.x),o=s.getLabelForValue(a.y);return{label:n[e]||"",value:"("+i+", "+o+")"}}update(e){const t=this._cachedMeta,{data:n=[]}=t,r=this.chart._animationsDisabled;let{start:s,count:a}=id(t,n,r);if(this._drawStart=s,this._drawCount=a,od(t)&&(s=0,a=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:s,_dataset:a}=t;s._chart=this.chart,s._datasetIndex=this.index,s._decimated=!!a._decimated,s.points=n;const i=this.resolveDatasetElementOptions(e);i.segment=this.options.segment,this.updateElement(s,void 0,{animated:!r,options:i},e)}else this.datasetElementType&&(delete t.dataset,this.datasetElementType=!1);this.updateElements(n,s,a,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,t,n,r){const s="reset"===r,{iScale:a,vScale:i,_stacked:o,_dataset:l}=this._cachedMeta,c=this.resolveDataElementOptions(t,r),d=this.getSharedOptions(c),u=this.includeOptions(r,d),h=a.axis,A=i.axis,{spanGaps:f,segment:m}=this.options,p=Pc(f)?f:Number.POSITIVE_INFINITY,g=this.chart._animationsDisabled||s||"none"===r;let x=t>0&&this.getParsed(t-1);for(let b=t;b<t+n;++b){const t=e[b],n=this.getParsed(b),c=g?t:{},f=sc(n[A]),y=c[h]=a.getPixelForValue(n[h],b),v=c[A]=s||f?i.getBasePixel():i.getPixelForValue(o?this.applyStack(i,n,o):n[A],b);c.skip=isNaN(y)||isNaN(v)||f,c.stop=b>0&&Math.abs(n[h]-x[h])>p,m&&(c.parsed=n,c.raw=l.data[b]),u&&(c.options=d||this.resolveDataElementOptions(b,t.active?"active":r)),g||this.updateElement(t,b,c,r),x=n}this.updateSharedOptions(d,r,c)}getMaxOverflow(){const e=this._cachedMeta,t=e.data||[];if(!this.options.showLine){let e=0;for(let n=t.length-1;n>=0;--n)e=Math.max(e,t[n].size(this.resolveDataElementOptions(n))/2);return e>0&&e}const n=e.dataset,r=n.options&&n.options.borderWidth||0;if(!t.length)return r;const s=t[0].size(this.resolveDataElementOptions(0)),a=t[t.length-1].size(this.resolveDataElementOptions(t.length-1));return Math.max(r,s,a)/2}}(0,w.A)(Ch,"id","scatter"),(0,w.A)(Ch,"defaults",{datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1}),(0,w.A)(Ch,"overrides",{interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}});var Sh=Object.freeze({__proto__:null,BarController:bh,BubbleController:yh,DoughnutController:vh,LineController:wh,PieController:Nh,PolarAreaController:jh,RadarController:_h,ScatterController:Ch});function kh(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class Bh{static override(e){Object.assign(Bh.prototype,e)}constructor(e){(0,w.A)(this,"options",void 0),this.options=e||{}}init(){}formats(){return kh()}parse(){return kh()}format(){return kh()}add(){return kh()}diff(){return kh()}startOf(){return kh()}endOf(){return kh()}}var Eh=Bh;function Lh(e,t,n,r){const{controller:s,data:a,_sorted:i}=e,o=s._cachedMeta.iScale,l=e.dataset&&e.dataset.options?e.dataset.options.spanGaps:null;if(o&&t===o.axis&&"r"!==t&&i&&a.length){const i=o._reversePixels?Zc:Xc;if(!r){const r=i(a,t,n);if(l){const{vScale:t}=s._cachedMeta,{_parsed:n}=e,a=n.slice(0,r.lo+1).reverse().findIndex(e=>!sc(e[t.axis]));r.lo-=Math.max(0,a);const i=n.slice(r.hi).findIndex(e=>!sc(e[t.axis]));r.hi+=Math.max(0,i)}return r}if(s._sharedOptions){const e=a[0],r="function"===typeof e.getRange&&e.getRange(t);if(r){const e=i(a,t,n-r),s=i(a,t,n+r);return{lo:e.lo,hi:s.hi}}}}return{lo:0,hi:a.length-1}}function Mh(e,t,n,r,s){const a=e.getSortedVisibleDatasetMetas(),i=n[t];for(let o=0,l=a.length;o<l;++o){const{index:e,data:n}=a[o],{lo:l,hi:c}=Lh(a[o],t,i,s);for(let t=l;t<=c;++t){const s=n[t];s.skip||r(s,e,t)}}}function Fh(e,t,n,r,s){const a=[];if(!s&&!e.isPointInArea(t))return a;return Mh(e,n,t,function(n,i,o){(s||Fd(n,e.chartArea,0))&&n.inRange(t.x,t.y,r)&&a.push({element:n,datasetIndex:i,index:o})},!0),a}function Ih(e,t,n,r,s,a){let i=[];const o=function(e){const t=-1!==e.indexOf("x"),n=-1!==e.indexOf("y");return function(e,r){const s=t?Math.abs(e.x-r.x):0,a=n?Math.abs(e.y-r.y):0;return Math.sqrt(Math.pow(s,2)+Math.pow(a,2))}}(n);let l=Number.POSITIVE_INFINITY;return Mh(e,n,t,function(n,c,d){const u=n.inRange(t.x,t.y,s);if(r&&!u)return;const h=n.getCenterPoint(s);if(!(!!a||e.isPointInArea(h))&&!u)return;const A=o(t,h);A<l?(i=[{element:n,datasetIndex:c,index:d}],l=A):A===l&&i.push({element:n,datasetIndex:c,index:d})}),i}function Dh(e,t,n,r,s,a){return a||e.isPointInArea(t)?"r"!==n||r?Ih(e,t,n,r,s,a):function(e,t,n,r){let s=[];return Mh(e,n,t,function(e,n,a){const{startAngle:i,endAngle:o}=e.getProps(["startAngle","endAngle"],r),{angle:l}=Hc(e,{x:t.x,y:t.y});qc(l,i,o)&&s.push({element:e,datasetIndex:n,index:a})}),s}(e,t,n,s):[]}function Th(e,t,n,r,s){const a=[],i="x"===n?"inXRange":"inYRange";let o=!1;return Mh(e,n,t,(e,r,l)=>{e[i]&&e[i](t[n],s)&&(a.push({element:e,datasetIndex:r,index:l}),o=o||e.inRange(t.x,t.y,s))}),r&&!o?[]:a}var Oh={evaluateInteractionItems:Mh,modes:{index(e,t,n,r){const s=Cu(t,e),a=n.axis||"x",i=n.includeInvisible||!1,o=n.intersect?Fh(e,s,a,r,i):Dh(e,s,a,!1,r,i),l=[];return o.length?(e.getSortedVisibleDatasetMetas().forEach(e=>{const t=o[0].index,n=e.data[t];n&&!n.skip&&l.push({element:n,datasetIndex:e.index,index:t})}),l):[]},dataset(e,t,n,r){const s=Cu(t,e),a=n.axis||"xy",i=n.includeInvisible||!1;let o=n.intersect?Fh(e,s,a,r,i):Dh(e,s,a,!1,r,i);if(o.length>0){const t=o[0].datasetIndex,n=e.getDatasetMeta(t).data;o=[];for(let e=0;e<n.length;++e)o.push({element:n[e],datasetIndex:t,index:e})}return o},point:(e,t,n,r)=>Fh(e,Cu(t,e),n.axis||"xy",r,n.includeInvisible||!1),nearest(e,t,n,r){const s=Cu(t,e),a=n.axis||"xy",i=n.includeInvisible||!1;return Dh(e,s,a,n.intersect,r,i)},x:(e,t,n,r)=>Th(e,Cu(t,e),"x",n.intersect,r),y:(e,t,n,r)=>Th(e,Cu(t,e),"y",n.intersect,r)}};const Ph=["left","top","right","bottom"];function Uh(e,t){return e.filter(e=>e.pos===t)}function Rh(e,t){return e.filter(e=>-1===Ph.indexOf(e.pos)&&e.box.axis===t)}function Qh(e,t){return e.sort((e,n)=>{const r=t?n:e,s=t?e:n;return r.weight===s.weight?r.index-s.index:r.weight-s.weight})}function zh(e,t){const n=function(e){const t={};for(const n of e){const{stack:e,pos:r,stackWeight:s}=n;if(!e||!Ph.includes(r))continue;const a=t[e]||(t[e]={count:0,placed:0,weight:0,size:0});a.count++,a.weight+=s}return t}(e),{vBoxMaxWidth:r,hBoxMaxHeight:s}=t;let a,i,o;for(a=0,i=e.length;a<i;++a){o=e[a];const{fullSize:i}=o.box,l=n[o.stack],c=l&&o.stackWeight/l.weight;o.horizontal?(o.width=c?c*r:i&&t.availableWidth,o.height=s):(o.width=r,o.height=c?c*s:i&&t.availableHeight)}return n}function Hh(e,t,n,r){return Math.max(e[n],t[n])+Math.max(e[r],t[r])}function Kh(e,t){e.top=Math.max(e.top,t.top),e.left=Math.max(e.left,t.left),e.bottom=Math.max(e.bottom,t.bottom),e.right=Math.max(e.right,t.right)}function Wh(e,t,n,r){const{pos:s,box:a}=n,i=e.maxPadding;if(!ic(s)){n.size&&(e[s]-=n.size);const t=r[n.stack]||{size:0,count:1};t.size=Math.max(t.size,n.horizontal?a.height:a.width),n.size=t.size/t.count,e[s]+=n.size}a.getPadding&&Kh(i,a.getPadding());const o=Math.max(0,t.outerWidth-Hh(i,e,"left","right")),l=Math.max(0,t.outerHeight-Hh(i,e,"top","bottom")),c=o!==e.w,d=l!==e.h;return e.w=o,e.h=l,n.horizontal?{same:c,other:d}:{same:d,other:c}}function Vh(e,t){const n=t.maxPadding;function r(e){const r={left:0,top:0,right:0,bottom:0};return e.forEach(e=>{r[e]=Math.max(t[e],n[e])}),r}return r(e?["left","right"]:["top","bottom"])}function qh(e,t,n,r){const s=[];let a,i,o,l,c,d;for(a=0,i=e.length,c=0;a<i;++a){o=e[a],l=o.box,l.update(o.width||t.w,o.height||t.h,Vh(o.horizontal,t));const{same:i,other:u}=Wh(t,n,o,r);c|=i&&s.length,d=d||u,l.fullSize||s.push(o)}return c&&qh(s,t,n,r)||d}function Gh(e,t,n,r,s){e.top=n,e.left=t,e.right=t+r,e.bottom=n+s,e.width=r,e.height=s}function Yh(e,t,n,r){const s=n.padding;let{x:a,y:i}=t;for(const o of e){const e=o.box,l=r[o.stack]||{count:1,placed:0,weight:1},c=o.stackWeight/l.weight||1;if(o.horizontal){const r=t.w*c,a=l.size||e.height;jc(l.start)&&(i=l.start),e.fullSize?Gh(e,s.left,i,n.outerWidth-s.right-s.left,a):Gh(e,t.left+l.placed,i,r,a),l.start=i,l.placed+=r,i=e.bottom}else{const r=t.h*c,i=l.size||e.width;jc(l.start)&&(a=l.start),e.fullSize?Gh(e,a,s.top,i,n.outerHeight-s.bottom-s.top):Gh(e,a,t.top+l.placed,i,r),l.start=a,l.placed+=r,a=e.right}}t.x=a,t.y=i}var Jh={addBox(e,t){e.boxes||(e.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},e.boxes.push(t)},removeBox(e,t){const n=e.boxes?e.boxes.indexOf(t):-1;-1!==n&&e.boxes.splice(n,1)},configure(e,t,n){t.fullSize=n.fullSize,t.position=n.position,t.weight=n.weight},update(e,t,n,r){if(!e)return;const s=Yd(e.options.layout.padding),a=Math.max(t-s.width,0),i=Math.max(n-s.height,0),o=function(e){const t=function(e){const t=[];let n,r,s,a,i,o;for(n=0,r=(e||[]).length;n<r;++n)s=e[n],({position:a,options:{stack:i,stackWeight:o=1}}=s),t.push({index:n,box:s,pos:a,horizontal:s.isHorizontal(),weight:s.weight,stack:i&&a+i,stackWeight:o});return t}(e),n=Qh(t.filter(e=>e.box.fullSize),!0),r=Qh(Uh(t,"left"),!0),s=Qh(Uh(t,"right")),a=Qh(Uh(t,"top"),!0),i=Qh(Uh(t,"bottom")),o=Rh(t,"x"),l=Rh(t,"y");return{fullSize:n,leftAndTop:r.concat(a),rightAndBottom:s.concat(l).concat(i).concat(o),chartArea:Uh(t,"chartArea"),vertical:r.concat(s).concat(l),horizontal:a.concat(i).concat(o)}}(e.boxes),l=o.vertical,c=o.horizontal;hc(e.boxes,e=>{"function"===typeof e.beforeLayout&&e.beforeLayout()});const d=l.reduce((e,t)=>t.box.options&&!1===t.box.options.display?e:e+1,0)||1,u=Object.freeze({outerWidth:t,outerHeight:n,padding:s,availableWidth:a,availableHeight:i,vBoxMaxWidth:a/2/d,hBoxMaxHeight:i/2}),h=Object.assign({},s);Kh(h,Yd(r));const A=Object.assign({maxPadding:h,w:a,h:i,x:s.left,y:s.top},s),f=zh(l.concat(c),u);qh(o.fullSize,A,u,f),qh(l,A,u,f),qh(c,A,u,f)&&qh(l,A,u,f),function(e){const t=e.maxPadding;function n(n){const r=Math.max(t[n]-e[n],0);return e[n]+=r,r}e.y+=n("top"),e.x+=n("left"),n("right"),n("bottom")}(A),Yh(o.leftAndTop,A,u,f),A.x+=A.w,A.y+=A.h,Yh(o.rightAndBottom,A,u,f),e.chartArea={left:A.left,top:A.top,right:A.left+A.w,bottom:A.top+A.h,height:A.h,width:A.w},hc(o.chartArea,t=>{const n=t.box;Object.assign(n,e.chartArea),n.update(A.w,A.h,{left:0,top:0,right:0,bottom:0})})}};class Xh{acquireContext(e,t){}releaseContext(e){return!1}addEventListener(e,t,n){}removeEventListener(e,t,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,t,n,r){return t=Math.max(0,t||e.width),n=n||e.height,{width:t,height:Math.max(0,r?Math.floor(t/r):n)}}isAttached(e){return!0}updateConfig(e){}}class Zh extends Xh{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const $h="$chartjs",eA={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},tA=e=>null===e||""===e;const nA=!!Eu&&{passive:!0};function rA(e,t,n){e&&e.canvas&&e.canvas.removeEventListener(t,n,nA)}function sA(e,t){for(const n of e)if(n===t||n.contains(t))return!0}function aA(e,t,n){const r=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||sA(n.addedNodes,r),t=t&&!sA(n.removedNodes,r);t&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}function iA(e,t,n){const r=e.canvas,s=new MutationObserver(e=>{let t=!1;for(const n of e)t=t||sA(n.removedNodes,r),t=t&&!sA(n.addedNodes,r);t&&n()});return s.observe(document,{childList:!0,subtree:!0}),s}const oA=new Map;let lA=0;function cA(){const e=window.devicePixelRatio;e!==lA&&(lA=e,oA.forEach((t,n)=>{n.currentDevicePixelRatio!==e&&t()}))}function dA(e,t,n){const r=e.canvas,s=r&&vu(r);if(!s)return;const a=rd((e,t)=>{const r=s.clientWidth;n(e,t),r<s.clientWidth&&n()},window),i=new ResizeObserver(e=>{const t=e[0],n=t.contentRect.width,r=t.contentRect.height;0===n&&0===r||a(n,r)});return i.observe(s),function(e,t){oA.size||window.addEventListener("resize",cA),oA.set(e,t)}(e,a),i}function uA(e,t,n){n&&n.disconnect(),"resize"===t&&function(e){oA.delete(e),oA.size||window.removeEventListener("resize",cA)}(e)}function hA(e,t,n){const r=e.canvas,s=rd(t=>{null!==e.ctx&&n(function(e,t){const n=eA[e.type]||e.type,{x:r,y:s}=Cu(e,t);return{type:n,chart:t,native:e,x:void 0!==r?r:null,y:void 0!==s?s:null}}(t,e))},e);return function(e,t,n){e&&e.addEventListener(t,n,nA)}(r,t,s),s}class AA extends Xh{acquireContext(e,t){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(function(e,t){const n=e.style,r=e.getAttribute("height"),s=e.getAttribute("width");if(e[$h]={initial:{height:r,width:s,style:{display:n.display,height:n.height,width:n.width}}},n.display=n.display||"block",n.boxSizing=n.boxSizing||"border-box",tA(s)){const t=Lu(e,"width");void 0!==t&&(e.width=t)}if(tA(r))if(""===e.style.height)e.height=e.width/(t||2);else{const t=Lu(e,"height");void 0!==t&&(e.height=t)}}(e,t),n):null}releaseContext(e){const t=e.canvas;if(!t[$h])return!1;const n=t[$h].initial;["height","width"].forEach(e=>{const r=n[e];sc(r)?t.removeAttribute(e):t.setAttribute(e,r)});const r=n.style||{};return Object.keys(r).forEach(e=>{t.style[e]=r[e]}),t.width=t.width,delete t[$h],!0}addEventListener(e,t,n){this.removeEventListener(e,t);const r=e.$proxies||(e.$proxies={}),s={attach:aA,detach:iA,resize:dA}[t]||hA;r[t]=s(e,t,n)}removeEventListener(e,t){const n=e.$proxies||(e.$proxies={}),r=n[t];if(!r)return;({attach:uA,detach:uA,resize:uA}[t]||rA)(e,t,r),n[t]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,t,n,r){return ku(e,t,n,r)}isAttached(e){const t=e&&vu(e);return!(!t||!t.isConnected)}}class fA{constructor(){(0,w.A)(this,"x",void 0),(0,w.A)(this,"y",void 0),(0,w.A)(this,"active",!1),(0,w.A)(this,"options",void 0),(0,w.A)(this,"$animations",void 0)}tooltipPosition(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}hasValue(){return Pc(this.x)&&Pc(this.y)}getProps(e,t){const n=this.$animations;if(!t||!n)return this;const r={};return e.forEach(e=>{r[e]=n[e]&&n[e].active()?n[e]._to:this[e]}),r}}function mA(e,t){const n=e.options.ticks,r=function(e){const t=e.options.offset,n=e._tickSize(),r=e._length/n+(t?0:1),s=e._maxLength/n;return Math.floor(Math.min(r,s))}(e),s=Math.min(n.maxTicksLimit||r,r),a=n.major.enabled?function(e){const t=[];let n,r;for(n=0,r=e.length;n<r;n++)e[n].major&&t.push(n);return t}(t):[],i=a.length,o=a[0],l=a[i-1],c=[];if(i>s)return function(e,t,n,r){let s,a=0,i=n[0];for(r=Math.ceil(r),s=0;s<e.length;s++)s===i&&(t.push(e[s]),a++,i=n[a*r])}(t,c,a,i/s),c;const d=function(e,t,n){const r=function(e){const t=e.length;let n,r;if(t<2)return!1;for(r=e[0],n=1;n<t;++n)if(e[n]-e[n-1]!==r)return!1;return r}(e),s=t.length/n;if(!r)return Math.max(s,1);const a=function(e){const t=[],n=Math.sqrt(e);let r;for(r=1;r<n;r++)e%r===0&&(t.push(r),t.push(e/r));return n===(0|n)&&t.push(n),t.sort((e,t)=>e-t).pop(),t}(r);for(let i=0,o=a.length-1;i<o;i++){const e=a[i];if(e>s)return e}return Math.max(s,1)}(a,t,s);if(i>0){let e,n;const r=i>1?Math.round((l-o)/(i-1)):null;for(pA(t,c,d,sc(r)?0:o-r,o),e=0,n=i-1;e<n;e++)pA(t,c,d,a[e],a[e+1]);return pA(t,c,d,l,sc(r)?t.length:l+r),c}return pA(t,c,d),c}function pA(e,t,n,r,s){const a=cc(r,0),i=Math.min(cc(s,e.length),e.length);let o,l,c,d=0;for(n=Math.ceil(n),s&&(o=s-r,n=o/Math.floor(o/n)),c=a;c<0;)d++,c=Math.round(a+d*n);for(l=Math.max(a,0);l<i;l++)l===c&&(t.push(e[l]),d++,c=Math.round(a+d*n))}(0,w.A)(fA,"defaults",{}),(0,w.A)(fA,"defaultRoutes",void 0);const gA=(e,t,n)=>"top"===t||"left"===t?e[t]+n:e[t]-n,xA=(e,t)=>Math.min(t||e,e);function bA(e,t){const n=[],r=e.length/t,s=e.length;let a=0;for(;a<s;a+=r)n.push(e[Math.floor(a)]);return n}function yA(e,t,n){const r=e.ticks.length,s=Math.min(t,r-1),a=e._startPixel,i=e._endPixel,o=1e-6;let l,c=e.getPixelForTick(s);if(!(n&&(l=1===r?Math.max(c-a,i-c):0===t?(e.getPixelForTick(1)-c)/2:(c-e.getPixelForTick(s-1))/2,c+=s<t?l:-l,c<a-o||c>i+o)))return c}function vA(e){return e.drawTicks?e.tickLength:0}function wA(e,t){if(!e.display)return 0;const n=Jd(e.font,t),r=Yd(e.padding);return(ac(e.text)?e.text.length:1)*n.lineHeight+r.height}function jA(e,t,n){let r=sd(e);return(n&&"right"!==t||!n&&"right"===t)&&(r=(e=>"left"===e?"right":"right"===e?"left":e)(r)),r}class NA extends fA{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,t){return e}getUserBounds(){let{_userMin:e,_userMax:t,_suggestedMin:n,_suggestedMax:r}=this;return e=lc(e,Number.POSITIVE_INFINITY),t=lc(t,Number.NEGATIVE_INFINITY),n=lc(n,Number.POSITIVE_INFINITY),r=lc(r,Number.NEGATIVE_INFINITY),{min:lc(e,n),max:lc(t,r),minDefined:oc(e),maxDefined:oc(t)}}getMinMax(e){let t,{min:n,max:r,minDefined:s,maxDefined:a}=this.getUserBounds();if(s&&a)return{min:n,max:r};const i=this.getMatchingVisibleMetas();for(let o=0,l=i.length;o<l;++o)t=i[o].controller.getMinMax(this,e),s||(n=Math.min(n,t.min)),a||(r=Math.max(r,t.max));return n=a&&n>r?r:n,r=s&&n>r?n:r,{min:lc(n,lc(r,n)),max:lc(r,lc(n,r))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.chart.chartArea;return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){uc(this.options.beforeUpdate,[this])}update(e,t,n){const{beginAtZero:r,grace:s,ticks:a}=this.options,i=a.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=t,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=function(e,t,n){const{min:r,max:s}=e,a=dc(t,(s-r)/2),i=(e,t)=>n&&0===e?0:e+t;return{min:i(r,-Math.abs(a)),max:i(s,a)}}(this,s,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const o=i<this.ticks.length;this._convertTicksToLabels(o?bA(this.ticks,i):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),a.display&&(a.autoSkip||"auto"===a.source)&&(this.ticks=mA(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),o&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e,t,n=this.options.reverse;this.isHorizontal()?(e=this.left,t=this.right):(e=this.top,t=this.bottom,n=!n),this._startPixel=e,this._endPixel=t,this._reversePixels=n,this._length=t-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){uc(this.options.afterUpdate,[this])}beforeSetDimensions(){uc(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){uc(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),uc(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){uc(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const t=this.options.ticks;let n,r,s;for(n=0,r=e.length;n<r;n++)s=e[n],s.label=uc(t.callback,[s.value,n,e],this)}afterTickToLabelConversion(){uc(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){uc(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,t=e.ticks,n=xA(this.ticks.length,e.ticks.maxTicksLimit),r=t.minRotation||0,s=t.maxRotation;let a,i,o,l=r;if(!this._isVisible()||!t.display||r>=s||n<=1||!this.isHorizontal())return void(this.labelRotation=r);const c=this._getLabelSizes(),d=c.widest.width,u=c.highest.height,h=Gc(this.chart.width-d,0,this.maxWidth);a=e.offset?this.maxWidth/n:h/(n-1),d+6>a&&(a=h/(n-(e.offset?.5:1)),i=this.maxHeight-vA(e.grid)-t.padding-wA(e.title,this.chart.options.font),o=Math.sqrt(d*d+u*u),l=Qc(Math.min(Math.asin(Gc((c.highest.height+6)/a,-1,1)),Math.asin(Gc(i/o,-1,1))-Math.asin(Gc(u/o,-1,1)))),l=Math.max(r,Math.min(s,l))),this.labelRotation=l}afterCalculateLabelRotation(){uc(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){uc(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:t,options:{ticks:n,title:r,grid:s}}=this,a=this._isVisible(),i=this.isHorizontal();if(a){const a=wA(r,t.options.font);if(i?(e.width=this.maxWidth,e.height=vA(s)+a):(e.height=this.maxHeight,e.width=vA(s)+a),n.display&&this.ticks.length){const{first:t,last:r,widest:s,highest:a}=this._getLabelSizes(),o=2*n.padding,l=Rc(this.labelRotation),c=Math.cos(l),d=Math.sin(l);if(i){const t=n.mirror?0:d*s.width+c*a.height;e.height=Math.min(this.maxHeight,e.height+t+o)}else{const t=n.mirror?0:c*s.width+d*a.height;e.width=Math.min(this.maxWidth,e.width+t+o)}this._calculatePadding(t,r,d,c)}}this._handleMargins(),i?(this.width=this._length=t.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=t.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,t,n,r){const{ticks:{align:s,padding:a},position:i}=this.options,o=0!==this.labelRotation,l="top"!==i&&"x"===this.axis;if(this.isHorizontal()){const i=this.getPixelForTick(0)-this.left,c=this.right-this.getPixelForTick(this.ticks.length-1);let d=0,u=0;o?l?(d=r*e.width,u=n*t.height):(d=n*e.height,u=r*t.width):"start"===s?u=t.width:"end"===s?d=e.width:"inner"!==s&&(d=e.width/2,u=t.width/2),this.paddingLeft=Math.max((d-i+a)*this.width/(this.width-i),0),this.paddingRight=Math.max((u-c+a)*this.width/(this.width-c),0)}else{let n=t.height/2,r=e.height/2;"start"===s?(n=0,r=e.height):"end"===s&&(n=t.height,r=0),this.paddingTop=n+a,this.paddingBottom=r+a}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){uc(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:t}=this.options;return"top"===t||"bottom"===t||"x"===e}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){let t,n;for(this.beforeTickToLabelConversion(),this.generateTickLabels(e),t=0,n=e.length;t<n;t++)sc(e[t].label)&&(e.splice(t,1),n--,t--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const t=this.options.ticks.sampleSize;let n=this.ticks;t<n.length&&(n=bA(n,t)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,t,n){const{ctx:r,_longestTextCache:s}=this,a=[],i=[],o=Math.floor(t/xA(t,n));let l,c,d,u,h,A,f,m,p,g,x,b=0,y=0;for(l=0;l<t;l+=o){if(u=e[l].label,h=this._resolveTickFontOptions(l),r.font=A=h.string,f=s[A]=s[A]||{data:{},gc:[]},m=h.lineHeight,p=g=0,sc(u)||ac(u)){if(ac(u))for(c=0,d=u.length;c<d;++c)x=u[c],sc(x)||ac(x)||(p=Sd(r,f.data,f.gc,p,x),g+=m)}else p=Sd(r,f.data,f.gc,p,u),g=m;a.push(p),i.push(g),b=Math.max(p,b),y=Math.max(g,y)}!function(e,t){hc(e,e=>{const n=e.gc,r=n.length/2;let s;if(r>t){for(s=0;s<r;++s)delete e.data[n[s]];n.splice(0,r)}})}(s,t);const v=a.indexOf(b),w=i.indexOf(y),j=e=>({width:a[e]||0,height:i[e]||0});return{first:j(0),last:j(t-1),widest:j(v),highest:j(w),widths:a,heights:i}}getLabelForValue(e){return e}getPixelForValue(e,t){return NaN}getValueForPixel(e){}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const t=this._startPixel+e*this._length;return Gc(this._alignToPixels?Bd(this.chart,t,0):t,-32768,32767)}getDecimalForPixel(e){const t=(e-this._startPixel)/this._length;return this._reversePixels?1-t:t}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:t}=this;return e<0&&t<0?t:e>0&&t>0?e:0}getContext(e){const t=this.ticks||[];if(e>=0&&e<t.length){const n=t[e];return n.$context||(n.$context=function(e,t,n){return Zd(e,{tick:n,index:t,type:"tick"})}(this.getContext(),e,n))}return this.$context||(this.$context=Zd(this.chart.getContext(),{scale:this,type:"scale"}))}_tickSize(){const e=this.options.ticks,t=Rc(this.labelRotation),n=Math.abs(Math.cos(t)),r=Math.abs(Math.sin(t)),s=this._getLabelSizes(),a=e.autoSkipPadding||0,i=s?s.widest.width+a:0,o=s?s.highest.height+a:0;return this.isHorizontal()?o*n>i*r?i/n:o/r:o*r<i*n?o/n:i/r}_isVisible(){const e=this.options.display;return"auto"!==e?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const t=this.axis,n=this.chart,r=this.options,{grid:s,position:a,border:i}=r,o=s.offset,l=this.isHorizontal(),c=this.ticks.length+(o?1:0),d=vA(s),u=[],h=i.setContext(this.getContext()),A=h.display?h.width:0,f=A/2,m=function(e){return Bd(n,e,A)};let p,g,x,b,y,v,w,j,N,_,C,S;if("top"===a)p=m(this.bottom),v=this.bottom-d,j=p-f,_=m(e.top)+f,S=e.bottom;else if("bottom"===a)p=m(this.top),_=e.top,S=m(e.bottom)-f,v=p+f,j=this.top+d;else if("left"===a)p=m(this.right),y=this.right-d,w=p-f,N=m(e.left)+f,C=e.right;else if("right"===a)p=m(this.left),N=e.left,C=m(e.right)-f,y=p+f,w=this.left+d;else if("x"===t){if("center"===a)p=m((e.top+e.bottom)/2+.5);else if(ic(a)){const e=Object.keys(a)[0],t=a[e];p=m(this.chart.scales[e].getPixelForValue(t))}_=e.top,S=e.bottom,v=p+f,j=v+d}else if("y"===t){if("center"===a)p=m((e.left+e.right)/2);else if(ic(a)){const e=Object.keys(a)[0],t=a[e];p=m(this.chart.scales[e].getPixelForValue(t))}y=p-f,w=y-d,N=e.left,C=e.right}const k=cc(r.ticks.maxTicksLimit,c),B=Math.max(1,Math.ceil(c/k));for(g=0;g<c;g+=B){const e=this.getContext(g),t=s.setContext(e),r=i.setContext(e),a=t.lineWidth,c=t.color,d=r.dash||[],h=r.dashOffset,A=t.tickWidth,f=t.tickColor,m=t.tickBorderDash||[],p=t.tickBorderDashOffset;x=yA(this,g,o),void 0!==x&&(b=Bd(n,x,a),l?y=w=N=C=b:v=j=_=S=b,u.push({tx1:y,ty1:v,tx2:w,ty2:j,x1:N,y1:_,x2:C,y2:S,width:a,color:c,borderDash:d,borderDashOffset:h,tickWidth:A,tickColor:f,tickBorderDash:m,tickBorderDashOffset:p}))}return this._ticksLength=c,this._borderValue=p,u}_computeLabelItems(e){const t=this.axis,n=this.options,{position:r,ticks:s}=n,a=this.isHorizontal(),i=this.ticks,{align:o,crossAlign:l,padding:c,mirror:d}=s,u=vA(n.grid),h=u+c,A=d?-c:h,f=-Rc(this.labelRotation),m=[];let p,g,x,b,y,v,w,j,N,_,C,S,k="middle";if("top"===r)v=this.bottom-A,w=this._getXAxisLabelAlignment();else if("bottom"===r)v=this.top+A,w=this._getXAxisLabelAlignment();else if("left"===r){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,y=e.x}else if("right"===r){const e=this._getYAxisLabelAlignment(u);w=e.textAlign,y=e.x}else if("x"===t){if("center"===r)v=(e.top+e.bottom)/2+h;else if(ic(r)){const e=Object.keys(r)[0],t=r[e];v=this.chart.scales[e].getPixelForValue(t)+h}w=this._getXAxisLabelAlignment()}else if("y"===t){if("center"===r)y=(e.left+e.right)/2-h;else if(ic(r)){const e=Object.keys(r)[0],t=r[e];y=this.chart.scales[e].getPixelForValue(t)}w=this._getYAxisLabelAlignment(u).textAlign}"y"===t&&("start"===o?k="top":"end"===o&&(k="bottom"));const B=this._getLabelSizes();for(p=0,g=i.length;p<g;++p){x=i[p],b=x.label;const e=s.setContext(this.getContext(p));j=this.getPixelForTick(p)+s.labelOffset,N=this._resolveTickFontOptions(p),_=N.lineHeight,C=ac(b)?b.length:1;const t=C/2,n=e.color,o=e.textStrokeColor,c=e.textStrokeWidth;let u,h=w;if(a?(y=j,"inner"===w&&(h=p===g-1?this.options.reverse?"left":"right":0===p?this.options.reverse?"right":"left":"center"),S="top"===r?"near"===l||0!==f?-C*_+_/2:"center"===l?-B.highest.height/2-t*_+_:-B.highest.height+_/2:"near"===l||0!==f?_/2:"center"===l?B.highest.height/2-t*_:B.highest.height-C*_,d&&(S*=-1),0===f||e.showLabelBackdrop||(y+=_/2*Math.sin(f))):(v=j,S=(1-C)*_/2),e.showLabelBackdrop){const t=Yd(e.backdropPadding),n=B.heights[p],r=B.widths[p];let s=S-t.top,a=0-t.left;switch(k){case"middle":s-=n/2;break;case"bottom":s-=n}switch(w){case"center":a-=r/2;break;case"right":a-=r;break;case"inner":p===g-1?a-=r:p>0&&(a-=r/2)}u={left:a,top:s,width:r+t.width,height:n+t.height,color:e.backdropColor}}m.push({label:b,font:N,textOffset:S,options:{rotation:f,color:n,strokeColor:o,strokeWidth:c,textAlign:h,textBaseline:k,translation:[y,v],backdrop:u}})}return m}_getXAxisLabelAlignment(){const{position:e,ticks:t}=this.options;if(-Rc(this.labelRotation))return"top"===e?"left":"right";let n="center";return"start"===t.align?n="left":"end"===t.align?n="right":"inner"===t.align&&(n="inner"),n}_getYAxisLabelAlignment(e){const{position:t,ticks:{crossAlign:n,mirror:r,padding:s}}=this.options,a=e+s,i=this._getLabelSizes().widest.width;let o,l;return"left"===t?r?(l=this.right+s,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l+=i)):(l=this.right-a,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l=this.left)):"right"===t?r?(l=this.left+s,"near"===n?o="right":"center"===n?(o="center",l-=i/2):(o="left",l-=i)):(l=this.left+a,"near"===n?o="left":"center"===n?(o="center",l+=i/2):(o="right",l=this.right)):o="right",{textAlign:o,x:l}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,t=this.options.position;return"left"===t||"right"===t?{top:0,left:this.left,bottom:e.height,right:this.right}:"top"===t||"bottom"===t?{top:this.top,left:0,bottom:this.bottom,right:e.width}:void 0}drawBackground(){const{ctx:e,options:{backgroundColor:t},left:n,top:r,width:s,height:a}=this;t&&(e.save(),e.fillStyle=t,e.fillRect(n,r,s,a),e.restore())}getLineWidthForValue(e){const t=this.options.grid;if(!this._isVisible()||!t.display)return 0;const n=this.ticks.findIndex(t=>t.value===e);if(n>=0){return t.setContext(this.getContext(n)).lineWidth}return 0}drawGrid(e){const t=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let s,a;const i=(e,t,r)=>{r.width&&r.color&&(n.save(),n.lineWidth=r.width,n.strokeStyle=r.color,n.setLineDash(r.borderDash||[]),n.lineDashOffset=r.borderDashOffset,n.beginPath(),n.moveTo(e.x,e.y),n.lineTo(t.x,t.y),n.stroke(),n.restore())};if(t.display)for(s=0,a=r.length;s<a;++s){const e=r[s];t.drawOnChartArea&&i({x:e.x1,y:e.y1},{x:e.x2,y:e.y2},e),t.drawTicks&&i({x:e.tx1,y:e.ty1},{x:e.tx2,y:e.ty2},{color:e.tickColor,width:e.tickWidth,borderDash:e.tickBorderDash,borderDashOffset:e.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:t,options:{border:n,grid:r}}=this,s=n.setContext(this.getContext()),a=n.display?s.width:0;if(!a)return;const i=r.setContext(this.getContext(0)).lineWidth,o=this._borderValue;let l,c,d,u;this.isHorizontal()?(l=Bd(e,this.left,a)-a/2,c=Bd(e,this.right,i)+i/2,d=u=o):(d=Bd(e,this.top,a)-a/2,u=Bd(e,this.bottom,i)+i/2,l=c=o),t.save(),t.lineWidth=s.width,t.strokeStyle=s.color,t.beginPath(),t.moveTo(l,d),t.lineTo(c,u),t.stroke(),t.restore()}drawLabels(e){if(!this.options.ticks.display)return;const t=this.ctx,n=this._computeLabelArea();n&&Id(t,n);const r=this.getLabelItems(e);for(const s of r){const e=s.options,n=s.font;Rd(t,s.label,0,s.textOffset,n,e)}n&&Dd(t)}drawTitle(){const{ctx:e,options:{position:t,title:n,reverse:r}}=this;if(!n.display)return;const s=Jd(n.font),a=Yd(n.padding),i=n.align;let o=s.lineHeight/2;"bottom"===t||"center"===t||ic(t)?(o+=a.bottom,ac(n.text)&&(o+=s.lineHeight*(n.text.length-1))):o+=a.top;const{titleX:l,titleY:c,maxWidth:d,rotation:u}=function(e,t,n,r){const{top:s,left:a,bottom:i,right:o,chart:l}=e,{chartArea:c,scales:d}=l;let u,h,A,f=0;const m=i-s,p=o-a;if(e.isHorizontal()){if(h=ad(r,a,o),ic(n)){const e=Object.keys(n)[0],r=n[e];A=d[e].getPixelForValue(r)+m-t}else A="center"===n?(c.bottom+c.top)/2+m-t:gA(e,n,t);u=o-a}else{if(ic(n)){const e=Object.keys(n)[0],r=n[e];h=d[e].getPixelForValue(r)-p+t}else h="center"===n?(c.left+c.right)/2-p+t:gA(e,n,t);A=ad(r,i,s),f="left"===n?-Lc:Lc}return{titleX:h,titleY:A,maxWidth:u,rotation:f}}(this,o,t,i);Rd(e,n.text,0,0,s,{color:n.color,maxWidth:d,rotation:u,textAlign:jA(i,t,r),textBaseline:"middle",translation:[l,c]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,t=e.ticks&&e.ticks.z||0,n=cc(e.grid&&e.grid.z,-1),r=cc(e.border&&e.border.z,0);return this._isVisible()&&this.draw===NA.prototype.draw?[{z:n,draw:e=>{this.drawBackground(),this.drawGrid(e),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:t,draw:e=>{this.drawLabels(e)}}]:[{z:t,draw:e=>{this.draw(e)}}]}getMatchingVisibleMetas(e){const t=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let s,a;for(s=0,a=t.length;s<a;++s){const a=t[s];a[n]!==this.id||e&&a.type!==e||r.push(a)}return r}_resolveTickFontOptions(e){return Jd(this.options.ticks.setContext(this.getContext(e)).font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class _A{constructor(e,t,n){this.type=e,this.scope=t,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const t=Object.getPrototypeOf(e);let n;(function(e){return"id"in e&&"defaults"in e})(t)&&(n=this.register(t));const r=this.items,s=e.id,a=this.scope+"."+s;if(!s)throw new Error("class does not have id: "+e);return s in r||(r[s]=e,function(e,t,n){const r=gc(Object.create(null),[n?Cd.get(n):{},Cd.get(t),e.defaults]);Cd.set(t,r),e.defaultRoutes&&function(e,t){Object.keys(t).forEach(n=>{const r=n.split("."),s=r.pop(),a=[e].concat(r).join("."),i=t[n].split("."),o=i.pop(),l=i.join(".");Cd.route(a,s,l,o)})}(t,e.defaultRoutes);e.descriptors&&Cd.describe(t,e.descriptors)}(e,a,n),this.override&&Cd.override(e.id,e.overrides)),a}get(e){return this.items[e]}unregister(e){const t=this.items,n=e.id,r=this.scope;n in t&&delete t[n],r&&n in Cd[r]&&(delete Cd[r][n],this.override&&delete vd[n])}}class CA{constructor(){this.controllers=new _A(dh,"datasets",!0),this.elements=new _A(fA,"elements"),this.plugins=new _A(Object,"plugins"),this.scales=new _A(NA,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t)}remove(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t)}addControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.controllers)}addElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.elements)}addPlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.plugins)}addScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("register",t,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.controllers)}removeElements(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.elements)}removePlugins(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.plugins)}removeScales(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._each("unregister",t,this.scales)}_each(e,t,n){[...t].forEach(t=>{const r=n||this._getRegistryForType(t);n||r.isForType(t)||r===this.plugins&&t.id?this._exec(e,r,t):hc(t,t=>{const r=n||this._getRegistryForType(t);this._exec(e,r,t)})})}_exec(e,t,n){const r=wc(e);uc(n["before"+r],[],n),t[e](n),uc(n["after"+r],[],n)}_getRegistryForType(e){for(let t=0;t<this._typedRegistries.length;t++){const n=this._typedRegistries[t];if(n.isForType(e))return n}return this.plugins}_get(e,t,n){const r=t.get(e);if(void 0===r)throw new Error('"'+e+'" is not a registered '+n+".");return r}}var SA=new CA;class kA{constructor(){this._init=void 0}notify(e,t,n,r){if("beforeInit"===t&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),void 0===this._init)return;const s=r?this._descriptors(e).filter(r):this._descriptors(e),a=this._notify(s,e,t,n);return"afterDestroy"===t&&(this._notify(s,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),a}_notify(e,t,n,r){r=r||{};for(const s of e){const e=s.plugin;if(!1===uc(e[n],[t,r,s.options],e)&&r.cancelable)return!1}return!0}invalidate(){sc(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const t=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),t}_createDescriptors(e,t){const n=e&&e.config,r=cc(n.options&&n.options.plugins,{}),s=function(e){const t={},n=[],r=Object.keys(SA.plugins.items);for(let a=0;a<r.length;a++)n.push(SA.getPlugin(r[a]));const s=e.plugins||[];for(let a=0;a<s.length;a++){const e=s[a];-1===n.indexOf(e)&&(n.push(e),t[e.id]=!0)}return{plugins:n,localIds:t}}(n);return!1!==r||t?function(e,t,n,r){let{plugins:s,localIds:a}=t;const i=[],o=e.getContext();for(const l of s){const t=l.id,s=BA(n[t],r);null!==s&&i.push({plugin:l,options:EA(e.config,{plugin:l,local:a[t]},s,o)})}return i}(e,s,r,t):[]}_notifyStateChanges(e){const t=this._oldCache||[],n=this._cache,r=(e,t)=>e.filter(e=>!t.some(t=>e.plugin.id===t.plugin.id));this._notify(r(t,n),e,"stop"),this._notify(r(n,t),e,"start")}}function BA(e,t){return t||!1!==e?!0===e?{}:e:null}function EA(e,t,n,r){let{plugin:s,local:a}=t;const i=e.pluginScopeKeys(s),o=e.getOptionScopes(n,i);return a&&s.defaults&&o.push(s.defaults),e.createResolver(o,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function LA(e,t){const n=Cd.datasets[e]||{};return((t.datasets||{})[e]||{}).indexAxis||t.indexAxis||n.indexAxis||"x"}function MA(e){if("x"===e||"y"===e||"r"===e)return e}function FA(e){return"top"===e||"bottom"===e?"x":"left"===e||"right"===e?"y":void 0}function IA(e){if(MA(e))return e;for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(const s of n){const t=s.axis||FA(s.position)||e.length>1&&MA(e[0].toLowerCase());if(t)return t}throw new Error("Cannot determine type of '".concat(e,"' axis. Please provide 'axis' or 'position' option."))}function DA(e,t,n){if(n[t+"AxisID"]===e)return{axis:t}}function TA(e,t){const n=vd[e.type]||{scales:{}},r=t.scales||{},s=LA(e.type,t),a=Object.create(null);return Object.keys(r).forEach(t=>{const i=r[t];if(!ic(i))return console.error("Invalid scale configuration for scale: ".concat(t));if(i._proxy)return console.warn("Ignoring resolver passed as options for scale: ".concat(t));const o=IA(t,i,function(e,t){if(t.data&&t.data.datasets){const n=t.data.datasets.filter(t=>t.xAxisID===e||t.yAxisID===e);if(n.length)return DA(e,"x",n[0])||DA(e,"y",n[0])}return{}}(t,e),Cd.scales[i.type]),l=function(e,t){return e===t?"_index_":"_value_"}(o,s),c=n.scales||{};a[t]=xc(Object.create(null),[{axis:o},i,c[o],c[l]])}),e.data.datasets.forEach(n=>{const s=n.type||e.type,i=n.indexAxis||LA(s,t),o=(vd[s]||{}).scales||{};Object.keys(o).forEach(e=>{const t=function(e,t){let n=e;return"_index_"===e?n=t:"_value_"===e&&(n="x"===t?"y":"x"),n}(e,i),s=n[t+"AxisID"]||t;a[s]=a[s]||Object.create(null),xc(a[s],[{axis:t},r[s],o[e]])})}),Object.keys(a).forEach(e=>{const t=a[e];xc(t,[Cd.scales[t.type],Cd.scale])}),a}function OA(e){const t=e.options||(e.options={});t.plugins=cc(t.plugins,{}),t.scales=TA(e,t)}function PA(e){return(e=e||{}).datasets=e.datasets||[],e.labels=e.labels||[],e}const UA=new Map,RA=new Set;function QA(e,t){let n=UA.get(e);return n||(n=t(),UA.set(e,n),RA.add(n)),n}const zA=(e,t,n)=>{const r=vc(t,n);void 0!==r&&e.add(r)};class HA{constructor(e){this._config=function(e){return(e=e||{}).data=PA(e.data),OA(e),e}(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=PA(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),OA(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return QA(e,()=>[["datasets.".concat(e),""]])}datasetAnimationScopeKeys(e,t){return QA("".concat(e,".transition.").concat(t),()=>[["datasets.".concat(e,".transitions.").concat(t),"transitions.".concat(t)],["datasets.".concat(e),""]])}datasetElementScopeKeys(e,t){return QA("".concat(e,"-").concat(t),()=>[["datasets.".concat(e,".elements.").concat(t),"datasets.".concat(e),"elements.".concat(t),""]])}pluginScopeKeys(e){const t=e.id,n=this.type;return QA("".concat(n,"-plugin-").concat(t),()=>[["plugins.".concat(t),...e.additionalOptionScopes||[]]])}_cachedScopes(e,t){const n=this._scopeCache;let r=n.get(e);return r&&!t||(r=new Map,n.set(e,r)),r}getOptionScopes(e,t,n){const{options:r,type:s}=this,a=this._cachedScopes(e,n),i=a.get(t);if(i)return i;const o=new Set;t.forEach(t=>{e&&(o.add(e),t.forEach(t=>zA(o,e,t))),t.forEach(e=>zA(o,r,e)),t.forEach(e=>zA(o,vd[s]||{},e)),t.forEach(e=>zA(o,Cd,e)),t.forEach(e=>zA(o,wd,e))});const l=Array.from(o);return 0===l.length&&l.push(Object.create(null)),RA.has(t)&&a.set(t,l),l}chartOptionScopes(){const{options:e,type:t}=this;return[e,vd[t]||{},Cd.datasets[t]||{},{type:t},Cd,wd]}resolveNamedOptions(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[""];const s={$shared:!0},{resolver:a,subPrefixes:i}=KA(this._resolverCache,e,r);let o=a;if(function(e,t){const{isScriptable:n,isIndexable:r}=tu(e);for(const s of t){const t=n(s),a=r(s),i=(a||t)&&e[s];if(t&&(Nc(i)||WA(i))||a&&ac(i))return!0}return!1}(a,t)){s.$shared=!1;o=eu(a,n=Nc(n)?n():n,this.createResolver(e,n,i))}for(const l of t)s[l]=o[l];return s}createResolver(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[""],r=arguments.length>3?arguments[3]:void 0;const{resolver:s}=KA(this._resolverCache,e,n);return ic(t)?eu(s,t,void 0,r):s}}function KA(e,t,n){let r=e.get(t);r||(r=new Map,e.set(t,r));const s=n.join();let a=r.get(s);if(!a){a={resolver:$d(t,n),subPrefixes:n.filter(e=>!e.toLowerCase().includes("hover"))},r.set(s,a)}return a}const WA=e=>ic(e)&&Object.getOwnPropertyNames(e).some(t=>Nc(e[t]));const VA=["top","bottom","left","right","chartArea"];function qA(e,t){return"top"===e||"bottom"===e||-1===VA.indexOf(e)&&"x"===t}function GA(e,t){return function(n,r){return n[e]===r[e]?n[t]-r[t]:n[e]-r[e]}}function YA(e){const t=e.chart,n=t.options.animation;t.notifyPlugins("afterRender"),uc(n&&n.onComplete,[e],t)}function JA(e){const t=e.chart,n=t.options.animation;uc(n&&n.onProgress,[e],t)}function XA(e){return yu()&&"string"===typeof e?e=document.getElementById(e):e&&e.length&&(e=e[0]),e&&e.canvas&&(e=e.canvas),e}const ZA={},$A=e=>{const t=XA(e);return Object.values(ZA).filter(e=>e.canvas===t).pop()};function ef(e,t,n){const r=Object.keys(e);for(const s of r){const r=+s;if(r>=t){const a=e[s];delete e[s],(n>0||r>t)&&(e[r+n]=a)}}}class tf{static register(){SA.add(...arguments),nf()}static unregister(){SA.remove(...arguments),nf()}constructor(e,t){const n=this.config=new HA(t),r=XA(e),s=$A(r);if(s)throw new Error("Canvas is already in use. Chart with ID '"+s.id+"' must be destroyed before the canvas with ID '"+s.canvas.id+"' can be reused.");const a=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||function(e){return!yu()||"undefined"!==typeof OffscreenCanvas&&e instanceof OffscreenCanvas?Zh:AA}(r)),this.platform.updateConfig(n);const i=this.platform.acquireContext(r,a.aspectRatio),o=i&&i.canvas,l=o&&o.height,c=o&&o.width;this.id=rc(),this.ctx=i,this.canvas=o,this.width=c,this.height=l,this._options=a,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new kA,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=function(e,t){let n;return function(){for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return t?(clearTimeout(n),n=setTimeout(e,t,s)):e.apply(this,s),t}}(e=>this.update(e),a.resizeDelay||0),this._dataChanges=[],ZA[this.id]=this,i&&o?(Gu.listen(this,"complete",YA),Gu.listen(this,"progress",JA),this._initialize(),this.attached&&this.update()):console.error("Failed to create chart: can't acquire context from the given item")}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:t},width:n,height:r,_aspectRatio:s}=this;return sc(e)?t&&s?s:r?n/r:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return SA}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Bu(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ed(this.canvas,this.ctx),this}stop(){return Gu.stop(this),this}resize(e,t){Gu.running(this)?this._resizeBeforeDraw={width:e,height:t}:this._resize(e,t)}_resize(e,t){const n=this.options,r=this.canvas,s=n.maintainAspectRatio&&this.aspectRatio,a=this.platform.getMaximumSize(r,e,t,s),i=n.devicePixelRatio||this.platform.getDevicePixelRatio(),o=this.width?"resize":"attach";this.width=a.width,this.height=a.height,this._aspectRatio=this.aspectRatio,Bu(this,i,!0)&&(this.notifyPlugins("resize",{size:a}),uc(n.onResize,[this,a],this),this.attached&&this._doResize(o)&&this.render())}ensureScalesHaveIDs(){hc(this.options.scales||{},(e,t)=>{e.id=t})}buildOrUpdateScales(){const e=this.options,t=e.scales,n=this.scales,r=Object.keys(n).reduce((e,t)=>(e[t]=!1,e),{});let s=[];t&&(s=s.concat(Object.keys(t).map(e=>{const n=t[e],r=IA(e,n),s="r"===r,a="x"===r;return{options:n,dposition:s?"chartArea":a?"bottom":"left",dtype:s?"radialLinear":a?"category":"linear"}}))),hc(s,t=>{const s=t.options,a=s.id,i=IA(a,s),o=cc(s.type,t.dtype);void 0!==s.position&&qA(s.position,i)===qA(t.dposition)||(s.position=t.dposition),r[a]=!0;let l=null;if(a in n&&n[a].type===o)l=n[a];else{l=new(SA.getScale(o))({id:a,type:o,ctx:this.ctx,chart:this}),n[l.id]=l}l.init(s,e)}),hc(r,(e,t)=>{e||delete n[t]}),hc(n,e=>{Jh.configure(this,e,e.options),Jh.addBox(this,e)})}_updateMetasets(){const e=this._metasets,t=this.data.datasets.length,n=e.length;if(e.sort((e,t)=>e.index-t.index),n>t){for(let e=t;e<n;++e)this._destroyDatasetMeta(e);e.splice(t,n-t)}this._sortedMetasets=e.slice(0).sort(GA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:t}}=this;e.length>t.length&&delete this._stacks,e.forEach((e,n)=>{0===t.filter(t=>t===e._dataset).length&&this._destroyDatasetMeta(n)})}buildOrUpdateControllers(){const e=[],t=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=t.length;n<r;n++){const r=t[n];let s=this.getDatasetMeta(n);const a=r.type||this.config.type;if(s.type&&s.type!==a&&(this._destroyDatasetMeta(n),s=this.getDatasetMeta(n)),s.type=a,s.indexAxis=r.indexAxis||LA(a,this.options),s.order=r.order||0,s.index=n,s.label=""+r.label,s.visible=this.isDatasetVisible(n),s.controller)s.controller.updateIndex(n),s.controller.linkScales();else{const t=SA.getController(a),{datasetElementType:r,dataElementType:i}=Cd.datasets[a];Object.assign(t,{dataElementType:SA.getElement(i),datasetElementType:r&&SA.getElement(r)}),s.controller=new t(this,n),e.push(s.controller)}}return this._updateMetasets(),e}_resetElements(){hc(this.data.datasets,(e,t)=>{this.getDatasetMeta(t).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const t=this.config;t.update();const n=this._options=t.createResolver(t.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),!1===this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0}))return;const s=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let a=0;for(let l=0,c=this.data.datasets.length;l<c;l++){const{controller:e}=this.getDatasetMeta(l),t=!r&&-1===s.indexOf(e);e.buildOrUpdateElements(t),a=Math.max(+e.getMaxOverflow(),a)}a=this._minPadding=n.layout.autoPadding?a:0,this._updateLayout(a),r||hc(s,e=>{e.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(GA("z","_idx"));const{_active:i,_lastEvent:o}=this;o?this._eventHandler(o,!0):i.length&&this._updateHoverStyles(i,i,!0),this.render()}_updateScales(){hc(this.scales,e=>{Jh.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,t=new Set(Object.keys(this._listeners)),n=new Set(e.events);_c(t,n)&&!!this._responsiveListeners===e.responsive||(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,t=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:s}of t){ef(e,r,"_removeElements"===n?-s:s)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const t=this.data.datasets.length,n=t=>new Set(e.filter(e=>e[0]===t).map((e,t)=>t+","+e.splice(1).join(","))),r=n(0);for(let s=1;s<t;s++)if(!_c(r,n(s)))return;return Array.from(r).map(e=>e.split(",")).map(e=>({method:e[1],start:+e[2],count:+e[3]}))}_updateLayout(e){if(!1===this.notifyPlugins("beforeLayout",{cancelable:!0}))return;Jh.update(this,this.width,this.height,e);const t=this.chartArea,n=t.width<=0||t.height<=0;this._layers=[],hc(this.boxes,e=>{n&&"chartArea"===e.position||(e.configure&&e.configure(),this._layers.push(...e._layers()))},this),this._layers.forEach((e,t)=>{e._idx=t}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(!1!==this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})){for(let e=0,t=this.data.datasets.length;e<t;++e)this.getDatasetMeta(e).controller.configure();for(let t=0,n=this.data.datasets.length;t<n;++t)this._updateDataset(t,Nc(e)?e({datasetIndex:t}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,t){const n=this.getDatasetMeta(e),r={meta:n,index:e,mode:t,cancelable:!0};!1!==this.notifyPlugins("beforeDatasetUpdate",r)&&(n.controller._update(t),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){!1!==this.notifyPlugins("beforeRender",{cancelable:!0})&&(Gu.has(this)?this.attached&&!Gu.running(this)&&Gu.start(this):(this.draw(),YA({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:e,height:t}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(e,t)}if(this.clear(),this.width<=0||this.height<=0)return;if(!1===this.notifyPlugins("beforeDraw",{cancelable:!0}))return;const t=this._layers;for(e=0;e<t.length&&t[e].z<=0;++e)t[e].draw(this.chartArea);for(this._drawDatasets();e<t.length;++e)t[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const t=this._sortedMetasets,n=[];let r,s;for(r=0,s=t.length;r<s;++r){const s=t[r];e&&!s.visible||n.push(s)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(!1===this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0}))return;const e=this.getSortedVisibleDatasetMetas();for(let t=e.length-1;t>=0;--t)this._drawDataset(e[t]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const t=this.ctx,n={meta:e,index:e.index,cancelable:!0},r=Vu(this,e);!1!==this.notifyPlugins("beforeDatasetDraw",n)&&(r&&Id(t,r),e.controller.draw(),r&&Dd(t),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Fd(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,t,n,r){const s=Oh.modes[t];return"function"===typeof s?s(this,e,n,r):[]}getDatasetMeta(e){const t=this.data.datasets[e],n=this._metasets;let r=n.filter(e=>e&&e._dataset===t).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:t&&t.order||0,index:e,_dataset:t,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Zd(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const t=this.data.datasets[e];if(!t)return!1;const n=this.getDatasetMeta(e);return"boolean"===typeof n.hidden?!n.hidden:!t.hidden}setDatasetVisibility(e,t){this.getDatasetMeta(e).hidden=!t}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,t,n){const r=n?"show":"hide",s=this.getDatasetMeta(e),a=s.controller._resolveAnimations(void 0,r);jc(t)?(s.data[t].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),a.update(s,{visible:n}),this.update(t=>t.datasetIndex===e?r:void 0))}hide(e,t){this._updateVisibility(e,t,!1)}show(e,t){this._updateVisibility(e,t,!0)}_destroyDatasetMeta(e){const t=this._metasets[e];t&&t.controller&&t.controller._destroy(),delete this._metasets[e]}_stop(){let e,t;for(this.stop(),Gu.remove(this),e=0,t=this.data.datasets.length;e<t;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:t}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),Ed(e,t),this.platform.releaseContext(t),this.canvas=null,this.ctx=null),delete ZA[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(){return this.canvas.toDataURL(...arguments)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(e,t,n)=>{e.offsetX=t,e.offsetY=n,this._eventHandler(e)};hc(this.options.events,e=>n(e,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,t=this.platform,n=(n,r)=>{t.addEventListener(this,n,r),e[n]=r},r=(n,r)=>{e[n]&&(t.removeEventListener(this,n,r),delete e[n])},s=(e,t)=>{this.canvas&&this.resize(e,t)};let a;const i=()=>{r("attach",i),this.attached=!0,this.resize(),n("resize",s),n("detach",a)};a=()=>{this.attached=!1,r("resize",s),this._stop(),this._resize(0,0),n("attach",i)},t.isAttached(this.canvas)?i():a()}unbindEvents(){hc(this._listeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._listeners={},hc(this._responsiveListeners,(e,t)=>{this.platform.removeEventListener(this,t,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,t,n){const r=n?"set":"remove";let s,a,i,o;for("dataset"===t&&(s=this.getDatasetMeta(e[0].datasetIndex),s.controller["_"+r+"DatasetHoverStyle"]()),i=0,o=e.length;i<o;++i){a=e[i];const t=a&&this.getDatasetMeta(a.datasetIndex).controller;t&&t[r+"HoverStyle"](a.element,a.datasetIndex,a.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const t=this._active||[],n=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.getDatasetMeta(t);if(!r)throw new Error("No dataset found at index "+t);return{datasetIndex:t,element:r.data[n],index:n}});!Ac(n,t)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,t))}notifyPlugins(e,t,n){return this._plugins.notify(this,e,t,n)}isPluginEnabled(e){return 1===this._plugins._cache.filter(t=>t.plugin.id===e).length}_updateHoverStyles(e,t,n){const r=this.options.hover,s=(e,t)=>e.filter(e=>!t.some(t=>e.datasetIndex===t.datasetIndex&&e.index===t.index)),a=s(t,e),i=n?e:s(e,t);a.length&&this.updateHoverStyle(a,r.mode,!1),i.length&&r.mode&&this.updateHoverStyle(i,r.mode,!0)}_eventHandler(e,t){const n={event:e,replay:t,cancelable:!0,inChartArea:this.isPointInArea(e)},r=t=>(t.options.events||this.options.events).includes(e.native.type);if(!1===this.notifyPlugins("beforeEvent",n,r))return;const s=this._handleEvent(e,t,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(s||n.changed)&&this.render(),this}_handleEvent(e,t,n){const{_active:r=[],options:s}=this,a=t,i=this._getActiveElements(e,r,n,a),o=function(e){return"mouseup"===e.type||"click"===e.type||"contextmenu"===e.type}(e),l=function(e,t,n,r){return n&&"mouseout"!==e.type?r?t:e:null}(e,this._lastEvent,n,o);n&&(this._lastEvent=null,uc(s.onHover,[e,i,this],this),o&&uc(s.onClick,[e,i,this],this));const c=!Ac(i,r);return(c||t)&&(this._active=i,this._updateHoverStyles(i,r,t)),this._lastEvent=l,c}_getActiveElements(e,t,n,r){if("mouseout"===e.type)return[];if(!n)return t;const s=this.options.hover;return this.getElementsAtEventForMode(e,s.mode,s,r)}}function nf(){return hc(tf.instances,e=>e._plugins.invalidate())}function rf(e,t,n,r){const s=Vd(e.options.borderRadius,["outerStart","outerEnd","innerStart","innerEnd"]);const a=(n-t)/2,i=Math.min(a,r*t/2),o=e=>{const t=(n-Math.min(a,e))*r/2;return Gc(e,0,Math.min(a,t))};return{outerStart:o(s.outerStart),outerEnd:o(s.outerEnd),innerStart:Gc(s.innerStart,0,i),innerEnd:Gc(s.innerEnd,0,i)}}function sf(e,t,n,r){return{x:n+e*Math.cos(t),y:r+e*Math.sin(t)}}function af(e,t,n,r,s,a){const{x:i,y:o,startAngle:l,pixelMargin:c,innerRadius:d}=t,u=Math.max(t.outerRadius+r+n-c,0),h=d>0?d+r+n+c:0;let A=0;const f=s-l;if(r){const e=((d>0?d-r:0)+(u>0?u-r:0))/2;A=(f-(0!==e?f*e/(e+r):f))/2}const m=(f-Math.max(.001,f*u-n/Cc)/u)/2,p=l+m+A,g=s-m-A,{outerStart:x,outerEnd:b,innerStart:y,innerEnd:v}=rf(t,h,u,g-p),w=u-x,j=u-b,N=p+x/w,_=g-b/j,C=h+y,S=h+v,k=p+y/C,B=g-v/S;if(e.beginPath(),a){const t=(N+_)/2;if(e.arc(i,o,u,N,t),e.arc(i,o,u,t,_),b>0){const t=sf(j,_,i,o);e.arc(t.x,t.y,b,_,g+Lc)}const n=sf(S,g,i,o);if(e.lineTo(n.x,n.y),v>0){const t=sf(S,B,i,o);e.arc(t.x,t.y,v,g+Lc,B+Math.PI)}const r=(g-v/h+(p+y/h))/2;if(e.arc(i,o,h,g-v/h,r,!0),e.arc(i,o,h,r,p+y/h,!0),y>0){const t=sf(C,k,i,o);e.arc(t.x,t.y,y,k+Math.PI,p-Lc)}const s=sf(w,p,i,o);if(e.lineTo(s.x,s.y),x>0){const t=sf(w,N,i,o);e.arc(t.x,t.y,x,p-Lc,N)}}else{e.moveTo(i,o);const t=Math.cos(N)*u+i,n=Math.sin(N)*u+o;e.lineTo(t,n);const r=Math.cos(_)*u+i,s=Math.sin(_)*u+o;e.lineTo(r,s)}e.closePath()}function of(e,t,n,r,s){const{fullCircles:a,startAngle:i,circumference:o,options:l}=t,{borderWidth:c,borderJoinStyle:d,borderDash:u,borderDashOffset:h,borderRadius:A}=l,f="inner"===l.borderAlign;if(!c)return;e.setLineDash(u||[]),e.lineDashOffset=h,f?(e.lineWidth=2*c,e.lineJoin=d||"round"):(e.lineWidth=c,e.lineJoin=d||"bevel");let m=t.endAngle;if(a){af(e,t,n,r,m,s);for(let t=0;t<a;++t)e.stroke();isNaN(o)||(m=i+(o%Sc||Sc))}f&&function(e,t,n){const{startAngle:r,pixelMargin:s,x:a,y:i,outerRadius:o,innerRadius:l}=t;let c=s/o;e.beginPath(),e.arc(a,i,o,r-c,n+c),l>s?(c=s/l,e.arc(a,i,l,n+c,r-c,!0)):e.arc(a,i,s,n+Lc,r-Lc),e.closePath(),e.clip()}(e,t,m),l.selfJoin&&m-i>=Cc&&0===A&&"miter"!==d&&function(e,t,n){const{startAngle:r,x:s,y:a,outerRadius:i,innerRadius:o,options:l}=t,{borderWidth:c,borderJoinStyle:d}=l,u=Math.min(c/i,Vc(r-n));if(e.beginPath(),e.arc(s,a,i-c/2,r+u/2,n-u/2),o>0){const t=Math.min(c/o,Vc(r-n));e.arc(s,a,o+c/2,n-t/2,r+t/2,!0)}else{const t=Math.min(c/2,i*Vc(r-n));if("round"===d)e.arc(s,a,t,n-Cc/2,r+Cc/2,!0);else if("bevel"===d){const i=2*t*t,o=-i*Math.cos(n+Cc/2)+s,l=-i*Math.sin(n+Cc/2)+a,c=i*Math.cos(r+Cc/2)+s,d=i*Math.sin(r+Cc/2)+a;e.lineTo(o,l),e.lineTo(c,d)}}e.closePath(),e.moveTo(0,0),e.rect(0,0,e.canvas.width,e.canvas.height),e.clip("evenodd")}(e,t,m),a||(af(e,t,n,r,m,s),e.stroke())}(0,w.A)(tf,"defaults",Cd),(0,w.A)(tf,"instances",ZA),(0,w.A)(tf,"overrides",vd),(0,w.A)(tf,"registry",SA),(0,w.A)(tf,"version","4.5.1"),(0,w.A)(tf,"getChart",$A);class lf extends fA{constructor(e){super(),(0,w.A)(this,"circumference",void 0),(0,w.A)(this,"endAngle",void 0),(0,w.A)(this,"fullCircles",void 0),(0,w.A)(this,"innerRadius",void 0),(0,w.A)(this,"outerRadius",void 0),(0,w.A)(this,"pixelMargin",void 0),(0,w.A)(this,"startAngle",void 0),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.getProps(["x","y"],n),{angle:s,distance:a}=Hc(r,{x:e,y:t}),{startAngle:i,endAngle:o,innerRadius:l,outerRadius:c,circumference:d}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),u=(this.options.spacing+this.options.borderWidth)/2,h=cc(d,o-i),A=qc(s,i,o)&&i!==o,f=h>=Sc||A,m=Yc(a,l+u,c+u);return f&&m}getCenterPoint(e){const{x:t,y:n,startAngle:r,endAngle:s,innerRadius:a,outerRadius:i}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:o,spacing:l}=this.options,c=(r+s)/2,d=(a+i+l+o)/2;return{x:t+Math.cos(c)*d,y:n+Math.sin(c)*d}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:t,circumference:n}=this,r=(t.offset||0)/4,s=(t.spacing||0)/2,a=t.circular;if(this.pixelMargin="inner"===t.borderAlign?.33:0,this.fullCircles=n>Sc?Math.floor(n/Sc):0,0===n||this.innerRadius<0||this.outerRadius<0)return;e.save();const i=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(i)*r,Math.sin(i)*r);const o=r*(1-Math.sin(Math.min(Cc,n||0)));e.fillStyle=t.backgroundColor,e.strokeStyle=t.borderColor,function(e,t,n,r,s){const{fullCircles:a,startAngle:i,circumference:o}=t;let l=t.endAngle;if(a){af(e,t,n,r,l,s);for(let t=0;t<a;++t)e.fill();isNaN(o)||(l=i+(o%Sc||Sc))}af(e,t,n,r,l,s),e.fill()}(e,this,o,s,a),of(e,this,o,s,a),e.restore()}}function cf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:t;e.lineCap=cc(n.borderCapStyle,t.borderCapStyle),e.setLineDash(cc(n.borderDash,t.borderDash)),e.lineDashOffset=cc(n.borderDashOffset,t.borderDashOffset),e.lineJoin=cc(n.borderJoinStyle,t.borderJoinStyle),e.lineWidth=cc(n.borderWidth,t.borderWidth),e.strokeStyle=cc(n.borderColor,t.borderColor)}function df(e,t,n){e.lineTo(n.x,n.y)}function uf(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.length,{start:s=0,end:a=r-1}=n,{start:i,end:o}=t,l=Math.max(s,i),c=Math.min(a,o),d=s<i&&a<i||s>o&&a>o;return{count:r,start:l,loop:t.loop,ilen:c<l&&!d?r+c-l:c-l}}function hf(e,t,n,r){const{points:s,options:a}=t,{count:i,start:o,loop:l,ilen:c}=uf(s,n,r),d=function(e){return e.stepped?Td:e.tension||"monotone"===e.cubicInterpolationMode?Od:df}(a);let u,h,A,{move:f=!0,reverse:m}=r||{};for(u=0;u<=c;++u)h=s[(o+(m?c-u:u))%i],h.skip||(f?(e.moveTo(h.x,h.y),f=!1):d(e,A,h,m,a.stepped),A=h);return l&&(h=s[(o+(m?c:0))%i],d(e,A,h,m,a.stepped)),!!l}function Af(e,t,n,r){const s=t.points,{count:a,start:i,ilen:o}=uf(s,n,r),{move:l=!0,reverse:c}=r||{};let d,u,h,A,f,m,p=0,g=0;const x=e=>(i+(c?o-e:e))%a,b=()=>{A!==f&&(e.lineTo(p,f),e.lineTo(p,A),e.lineTo(p,m))};for(l&&(u=s[x(0)],e.moveTo(u.x,u.y)),d=0;d<=o;++d){if(u=s[x(d)],u.skip)continue;const t=u.x,n=u.y,r=0|t;r===h?(n<A?A=n:n>f&&(f=n),p=(g*p+t)/++g):(b(),e.lineTo(t,n),h=r,g=0,A=f=n),m=n}b()}function ff(e){const t=e.options,n=t.borderDash&&t.borderDash.length;return!e._decimated&&!e._loop&&!t.tension&&"monotone"!==t.cubicInterpolationMode&&!t.stepped&&!n?Af:hf}(0,w.A)(lf,"id","arc"),(0,w.A)(lf,"defaults",{borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1}),(0,w.A)(lf,"defaultRoutes",{backgroundColor:"backgroundColor"}),(0,w.A)(lf,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e});const mf="function"===typeof Path2D;function pf(e,t,n,r){mf&&!t.options.segment?function(e,t,n,r){let s=t._path;s||(s=t._path=new Path2D,t.path(s,n,r)&&s.closePath()),cf(e,t.options),e.stroke(s)}(e,t,n,r):function(e,t,n,r){const{segments:s,options:a}=t,i=ff(t);for(const o of s)cf(e,a,o.style),e.beginPath(),i(e,t,o,{start:n,end:n+r-1})&&e.closePath(),e.stroke()}(e,t,n,r)}class gf extends fA{constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,t){const n=this.options;if((n.tension||"monotone"===n.cubicInterpolationMode)&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;bu(this._points,n,e,r,t),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=function(e,t){const n=e.points,r=e.options.spanGaps,s=n.length;if(!s)return[];const a=!!e._loop,{start:i,end:o}=function(e,t,n,r){let s=0,a=t-1;if(n&&!r)for(;s<t&&!e[s].skip;)s++;for(;s<t&&e[s].skip;)s++;for(s%=t,n&&(a+=s);a>s&&e[a%t].skip;)a--;return a%=t,{start:s,end:a}}(n,s,a,r);return zu(e,!0===r?[{start:i,end:o,loop:a}]:function(e,t,n,r){const s=e.length,a=[];let i,o=t,l=e[t];for(i=t+1;i<=n;++i){const n=e[i%s];n.skip||n.stop?l.skip||(r=!1,a.push({start:t%s,end:(i-1)%s,loop:r}),t=o=n.stop?i:null):(o=i,l.skip&&(t=i)),l=n}return null!==o&&a.push({start:t%s,end:o%s,loop:r}),a}(n,i,o<i?o+s:o,!!e._fullLoop&&0===i&&o===s-1),n,t)}(this,this.options.segment))}first(){const e=this.segments,t=this.points;return e.length&&t[e[0].start]}last(){const e=this.segments,t=this.points,n=e.length;return n&&t[e[n-1].end]}interpolate(e,t){const n=this.options,r=e[t],s=this.points,a=Qu(this,{property:t,start:r,end:r});if(!a.length)return;const i=[],o=function(e){return e.stepped?Fu:e.tension||"monotone"===e.cubicInterpolationMode?Iu:Mu}(n);let l,c;for(l=0,c=a.length;l<c;++l){const{start:c,end:d}=a[l],u=s[c],h=s[d];if(u===h){i.push(u);continue}const A=o(u,h,Math.abs((r-u[t])/(h[t]-u[t])),n.stepped);A[t]=e[t],i.push(A)}return 1===i.length?i[0]:i}pathSegment(e,t,n){return ff(this)(e,this,t,n)}path(e,t,n){const r=this.segments,s=ff(this);let a=this._loop;t=t||0,n=n||this.points.length-t;for(const i of r)a&=s(e,this,i,{start:t,end:t+n-1});return!!a}draw(e,t,n,r){const s=this.options||{};(this.points||[]).length&&s.borderWidth&&(e.save(),pf(e,this,n,r),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function xf(e,t,n,r){const s=e.options,{[n]:a}=e.getProps([n],r);return Math.abs(t-a)<s.radius+s.hitRadius}(0,w.A)(gf,"id","line"),(0,w.A)(gf,"defaults",{borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0}),(0,w.A)(gf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"}),(0,w.A)(gf,"descriptors",{_scriptable:!0,_indexable:e=>"borderDash"!==e&&"fill"!==e});class bf extends fA{constructor(e){super(),(0,w.A)(this,"parsed",void 0),(0,w.A)(this,"skip",void 0),(0,w.A)(this,"stop",void 0),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,t,n){const r=this.options,{x:s,y:a}=this.getProps(["x","y"],n);return Math.pow(e-s,2)+Math.pow(t-a,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(e,t){return xf(this,e,"x",t)}inYRange(e,t){return xf(this,e,"y",t)}getCenterPoint(e){const{x:t,y:n}=this.getProps(["x","y"],e);return{x:t,y:n}}size(e){let t=(e=e||this.options||{}).radius||0;t=Math.max(t,t&&e.hoverRadius||0);return 2*(t+(t&&e.borderWidth||0))}draw(e,t){const n=this.options;this.skip||n.radius<.1||!Fd(this,t,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,Ld(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function yf(e,t){const{x:n,y:r,base:s,width:a,height:i}=e.getProps(["x","y","base","width","height"],t);let o,l,c,d,u;return e.horizontal?(u=i/2,o=Math.min(n,s),l=Math.max(n,s),c=r-u,d=r+u):(u=a/2,o=n-u,l=n+u,c=Math.min(r,s),d=Math.max(r,s)),{left:o,top:c,right:l,bottom:d}}function vf(e,t,n,r){return e?0:Gc(t,n,r)}function wf(e){const t=yf(e),n=t.right-t.left,r=t.bottom-t.top,s=function(e,t,n){const r=e.options.borderWidth,s=e.borderSkipped,a=qd(r);return{t:vf(s.top,a.top,0,n),r:vf(s.right,a.right,0,t),b:vf(s.bottom,a.bottom,0,n),l:vf(s.left,a.left,0,t)}}(e,n/2,r/2),a=function(e,t,n){const{enableBorderRadius:r}=e.getProps(["enableBorderRadius"]),s=e.options.borderRadius,a=Gd(s),i=Math.min(t,n),o=e.borderSkipped,l=r||ic(s);return{topLeft:vf(!l||o.top||o.left,a.topLeft,0,i),topRight:vf(!l||o.top||o.right,a.topRight,0,i),bottomLeft:vf(!l||o.bottom||o.left,a.bottomLeft,0,i),bottomRight:vf(!l||o.bottom||o.right,a.bottomRight,0,i)}}(e,n/2,r/2);return{outer:{x:t.left,y:t.top,w:n,h:r,radius:a},inner:{x:t.left+s.l,y:t.top+s.t,w:n-s.l-s.r,h:r-s.t-s.b,radius:{topLeft:Math.max(0,a.topLeft-Math.max(s.t,s.l)),topRight:Math.max(0,a.topRight-Math.max(s.t,s.r)),bottomLeft:Math.max(0,a.bottomLeft-Math.max(s.b,s.l)),bottomRight:Math.max(0,a.bottomRight-Math.max(s.b,s.r))}}}}function jf(e,t,n,r){const s=null===t,a=null===n,i=e&&!(s&&a)&&yf(e,r);return i&&(s||Yc(t,i.left,i.right))&&(a||Yc(n,i.top,i.bottom))}function Nf(e,t){e.rect(t.x,t.y,t.w,t.h)}function _f(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=e.x!==n.x?-t:0,s=e.y!==n.y?-t:0,a=(e.x+e.w!==n.x+n.w?t:0)-r,i=(e.y+e.h!==n.y+n.h?t:0)-s;return{x:e.x+r,y:e.y+s,w:e.w+a,h:e.h+i,radius:e.radius}}(0,w.A)(bf,"id","point"),(0,w.A)(bf,"defaults",{borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0}),(0,w.A)(bf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});class Cf extends fA{constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:t,options:{borderColor:n,backgroundColor:r}}=this,{inner:s,outer:a}=wf(this),i=(o=a.radius).topLeft||o.topRight||o.bottomLeft||o.bottomRight?Qd:Nf;var o;e.save(),a.w===s.w&&a.h===s.h||(e.beginPath(),i(e,_f(a,t,s)),e.clip(),i(e,_f(s,-t,a)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),i(e,_f(s,t)),e.fillStyle=r,e.fill(),e.restore()}inRange(e,t,n){return jf(this,e,t,n)}inXRange(e,t){return jf(this,e,null,t)}inYRange(e,t){return jf(this,null,e,t)}getCenterPoint(e){const{x:t,y:n,base:r,horizontal:s}=this.getProps(["x","y","base","horizontal"],e);return{x:s?(t+r)/2:t,y:s?n:(n+r)/2}}getRange(e){return"x"===e?this.width/2:this.height/2}}(0,w.A)(Cf,"id","bar"),(0,w.A)(Cf,"defaults",{borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0}),(0,w.A)(Cf,"defaultRoutes",{backgroundColor:"backgroundColor",borderColor:"borderColor"});var Sf=Object.freeze({__proto__:null,ArcElement:lf,BarElement:Cf,LineElement:gf,PointElement:bf});const kf=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],Bf=kf.map(e=>e.replace("rgb(","rgba(").replace(")",", 0.5)"));function Ef(e){return kf[e%kf.length]}function Lf(e){return Bf[e%Bf.length]}function Mf(e){let t=0;return(n,r)=>{const s=e.getDatasetMeta(r).controller;s instanceof vh?t=function(e,t){return e.backgroundColor=e.data.map(()=>Ef(t++)),t}(n,t):s instanceof jh?t=function(e,t){return e.backgroundColor=e.data.map(()=>Lf(t++)),t}(n,t):s&&(t=function(e,t){return e.borderColor=Ef(t),e.backgroundColor=Lf(t),++t}(n,t))}}function Ff(e){let t;for(t in e)if(e[t].borderColor||e[t].backgroundColor)return!0;return!1}var If={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(e,t,n){if(!n.enabled)return;const{data:{datasets:r},options:s}=e.config,{elements:a}=s,i=Ff(r)||(o=s)&&(o.borderColor||o.backgroundColor)||a&&Ff(a)||"rgba(0,0,0,0.1)"!==Cd.borderColor||"rgba(0,0,0,0.1)"!==Cd.backgroundColor;var o;if(!n.forceOverride&&i)return;const l=Mf(e);r.forEach(l)}};function Df(e){if(e._decimated){const t=e._data;delete e._decimated,delete e._data,Object.defineProperty(e,"data",{configurable:!0,enumerable:!0,writable:!0,value:t})}}function Tf(e){e.data.datasets.forEach(e=>{Df(e)})}var Of={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(e,t,n)=>{if(!n.enabled)return void Tf(e);const r=e.width;e.data.datasets.forEach((t,s)=>{const{_data:a,indexAxis:i}=t,o=e.getDatasetMeta(s),l=a||t.data;if("y"===Xd([i,e.options.indexAxis]))return;if(!o.controller.supportsDecimation)return;const c=e.scales[o.xAxisID];if("linear"!==c.type&&"time"!==c.type)return;if(e.options.parsing)return;let{start:d,count:u}=function(e,t){const n=t.length;let r,s=0;const{iScale:a}=e,{min:i,max:o,minDefined:l,maxDefined:c}=a.getUserBounds();return l&&(s=Gc(Xc(t,a.axis,i).lo,0,n-1)),r=c?Gc(Xc(t,a.axis,o).hi+1,s,n)-s:n-s,{start:s,count:r}}(o,l);if(u<=(n.threshold||4*r))return void Df(t);let h;switch(sc(a)&&(t._data=l,delete t.data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(e){this._data=e}})),n.algorithm){case"lttb":h=function(e,t,n,r,s){const a=s.samples||r;if(a>=n)return e.slice(t,t+n);const i=[],o=(n-2)/(a-2);let l=0;const c=t+n-1;let d,u,h,A,f,m=t;for(i[l++]=e[m],d=0;d<a-2;d++){let r,s=0,a=0;const c=Math.floor((d+1)*o)+1+t,p=Math.min(Math.floor((d+2)*o)+1,n)+t,g=p-c;for(r=c;r<p;r++)s+=e[r].x,a+=e[r].y;s/=g,a/=g;const x=Math.floor(d*o)+1+t,b=Math.min(Math.floor((d+1)*o)+1,n)+t,{x:y,y:v}=e[m];for(h=A=-1,r=x;r<b;r++)A=.5*Math.abs((y-s)*(e[r].y-v)-(y-e[r].x)*(a-v)),A>h&&(h=A,u=e[r],f=r);i[l++]=u,m=f}return i[l++]=e[c],i}(l,d,u,r,n);break;case"min-max":h=function(e,t,n,r){let s,a,i,o,l,c,d,u,h,A,f=0,m=0;const p=[],g=t+n-1,x=e[t].x,b=e[g].x-x;for(s=t;s<t+n;++s){a=e[s],i=(a.x-x)/b*r,o=a.y;const t=0|i;if(t===l)o<h?(h=o,c=s):o>A&&(A=o,d=s),f=(m*f+a.x)/++m;else{const n=s-1;if(!sc(c)&&!sc(d)){const t=Math.min(c,d),r=Math.max(c,d);t!==u&&t!==n&&p.push(N(N({},e[t]),{},{x:f})),r!==u&&r!==n&&p.push(N(N({},e[r]),{},{x:f}))}s>0&&n!==u&&p.push(e[n]),p.push(a),l=t,m=0,h=A=o,c=d=u=s}}return p}(l,d,u,r);break;default:throw new Error("Unsupported decimation algorithm '".concat(n.algorithm,"'"))}t._decimated=h})},destroy(e){Tf(e)}};function Pf(e,t,n,r){if(r)return;let s=t[e],a=n[e];return"angle"===e&&(s=Vc(s),a=Vc(a)),{property:e,start:s,end:a}}function Uf(e,t,n){for(;t>e;t--){const e=n[t];if(!isNaN(e.x)&&!isNaN(e.y))break}return t}function Rf(e,t,n,r){return e&&t?r(e[n],t[n]):e?e[n]:t?t[n]:0}function Qf(e,t){let n=[],r=!1;return ac(e)?(r=!0,n=e):n=function(e,t){const{x:n=null,y:r=null}=e||{},s=t.points,a=[];return t.segments.forEach(e=>{let{start:t,end:i}=e;i=Uf(t,i,s);const o=s[t],l=s[i];null!==r?(a.push({x:o.x,y:r}),a.push({x:l.x,y:r})):null!==n&&(a.push({x:n,y:o.y}),a.push({x:n,y:l.y}))}),a}(e,t),n.length?new gf({points:n,options:{tension:0},_loop:r,_fullLoop:r}):null}function zf(e){return e&&!1!==e.fill}function Hf(e,t,n){let r=e[t].fill;const s=[t];let a;if(!n)return r;for(;!1!==r&&-1===s.indexOf(r);){if(!oc(r))return r;if(a=e[r],!a)return!1;if(a.visible)return r;s.push(r),r=a.fill}return!1}function Kf(e,t,n){const r=function(e){const t=e.options,n=t.fill;let r=cc(n&&n.target,n);void 0===r&&(r=!!t.backgroundColor);if(!1===r||null===r)return!1;if(!0===r)return"origin";return r}(e);if(ic(r))return!isNaN(r.value)&&r;let s=parseFloat(r);return oc(s)&&Math.floor(s)===s?function(e,t,n,r){"-"!==e&&"+"!==e||(n=t+n);if(n===t||n<0||n>=r)return!1;return n}(r[0],t,s,n):["origin","start","end","stack","shape"].indexOf(r)>=0&&r}function Wf(e,t,n){const r=[];for(let s=0;s<n.length;s++){const a=n[s],{first:i,last:o,point:l}=Vf(a,t,"x");if(!(!l||i&&o))if(i)r.unshift(l);else if(e.push(l),!o)break}e.push(...r)}function Vf(e,t,n){const r=e.interpolate(t,n);if(!r)return{};const s=r[n],a=e.segments,i=e.points;let o=!1,l=!1;for(let c=0;c<a.length;c++){const e=a[c],t=i[e.start][n],r=i[e.end][n];if(Yc(s,t,r)){o=s===t,l=s===r;break}}return{first:o,last:l,point:r}}class qf{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,t,n){const{x:r,y:s,radius:a}=this;return t=t||{start:0,end:Sc},e.arc(r,s,a,t.end,t.start,!0),!n.bounds}interpolate(e){const{x:t,y:n,radius:r}=this,s=e.angle;return{x:t+Math.cos(s)*r,y:n+Math.sin(s)*r,angle:s}}}function Gf(e){const{chart:t,fill:n,line:r}=e;if(oc(n))return function(e,t){const n=e.getDatasetMeta(t),r=n&&e.isDatasetVisible(t);return r?n.dataset:null}(t,n);if("stack"===n)return function(e){const{scale:t,index:n,line:r}=e,s=[],a=r.segments,i=r.points,o=function(e,t){const n=[],r=e.getMatchingVisibleMetas("line");for(let s=0;s<r.length;s++){const e=r[s];if(e.index===t)break;e.hidden||n.unshift(e.dataset)}return n}(t,n);o.push(Qf({x:null,y:t.bottom},r));for(let l=0;l<a.length;l++){const e=a[l];for(let t=e.start;t<=e.end;t++)Wf(s,i[t],o)}return new gf({points:s,options:{}})}(e);if("shape"===n)return!0;const s=function(e){const t=e.scale||{};if(t.getPointPositionForValue)return function(e){const{scale:t,fill:n}=e,r=t.options,s=t.getLabels().length,a=r.reverse?t.max:t.min,i=function(e,t,n){let r;return r="start"===e?n:"end"===e?t.options.reverse?t.min:t.max:ic(e)?e.value:t.getBaseValue(),r}(n,t,a),o=[];if(r.grid.circular){const e=t.getPointPositionForValue(0,a);return new qf({x:e.x,y:e.y,radius:t.getDistanceFromCenterForValue(i)})}for(let l=0;l<s;++l)o.push(t.getPointPositionForValue(l,i));return o}(e);return function(e){const{scale:t={},fill:n}=e,r=function(e,t){let n=null;return"start"===e?n=t.bottom:"end"===e?n=t.top:ic(e)?n=t.getPixelForValue(e.value):t.getBasePixel&&(n=t.getBasePixel()),n}(n,t);if(oc(r)){const e=t.isHorizontal();return{x:e?r:null,y:e?null:r}}return null}(e)}(e);return s instanceof qf?s:Qf(s,r)}function Yf(e,t,n){const r=Gf(t),{chart:s,index:a,line:i,scale:o,axis:l}=t,c=i.options,d=c.fill,u=c.backgroundColor,{above:h=u,below:A=u}=d||{},f=s.getDatasetMeta(a),m=Vu(s,f);r&&i.points.length&&(Id(e,n),function(e,t){const{line:n,target:r,above:s,below:a,area:i,scale:o,clip:l}=t,c=n._loop?"angle":t.axis;e.save();let d=a;a!==s&&("x"===c?(Jf(e,r,i.top),Zf(e,{line:n,target:r,color:s,scale:o,property:c,clip:l}),e.restore(),e.save(),Jf(e,r,i.bottom)):"y"===c&&(Xf(e,r,i.left),Zf(e,{line:n,target:r,color:a,scale:o,property:c,clip:l}),e.restore(),e.save(),Xf(e,r,i.right),d=s));Zf(e,{line:n,target:r,color:d,scale:o,property:c,clip:l}),e.restore()}(e,{line:i,target:r,above:h,below:A,area:n,scale:o,axis:l,clip:m}),Dd(e))}function Jf(e,t,n){const{segments:r,points:s}=t;let a=!0,i=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,c=s[r],d=s[Uf(r,l,s)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(c.x,n),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(d.x,n)}e.lineTo(t.first().x,n),e.closePath(),e.clip()}function Xf(e,t,n){const{segments:r,points:s}=t;let a=!0,i=!1;e.beginPath();for(const o of r){const{start:r,end:l}=o,c=s[r],d=s[Uf(r,l,s)];a?(e.moveTo(c.x,c.y),a=!1):(e.lineTo(n,c.y),e.lineTo(c.x,c.y)),i=!!t.pathSegment(e,o,{move:i}),i?e.closePath():e.lineTo(n,d.y)}e.lineTo(n,t.first().y),e.closePath(),e.clip()}function Zf(e,t){const{line:n,target:r,property:s,color:a,scale:i,clip:o}=t,l=function(e,t,n){const r=e.segments,s=e.points,a=t.points,i=[];for(const o of r){let{start:e,end:r}=o;r=Uf(e,r,s);const l=Pf(n,s[e],s[r],o.loop);if(!t.segments){i.push({source:o,target:l,start:s[e],end:s[r]});continue}const c=Qu(t,l);for(const t of c){const e=Pf(n,a[t.start],a[t.end],t.loop),r=Ru(o,s,e);for(const s of r)i.push({source:s,target:t,start:{[n]:Rf(l,e,"start",Math.max)},end:{[n]:Rf(l,e,"end",Math.min)}})}}return i}(n,r,s);for(const{source:c,target:d,start:u,end:h}of l){const{style:{backgroundColor:t=a}={}}=c,l=!0!==r;e.save(),e.fillStyle=t,$f(e,i,o,l&&Pf(s,u,h)),e.beginPath();const A=!!n.pathSegment(e,c);let f;if(l){A?e.closePath():em(e,r,h,s);const t=!!r.pathSegment(e,d,{move:A,reverse:!0});f=A&&t,f||em(e,r,u,s)}e.closePath(),e.fill(f?"evenodd":"nonzero"),e.restore()}}function $f(e,t,n,r){const s=t.chart.chartArea,{property:a,start:i,end:o}=r||{};if("x"===a||"y"===a){let t,r,l,c;"x"===a?(t=i,r=s.top,l=o,c=s.bottom):(t=s.left,r=i,l=s.right,c=o),e.beginPath(),n&&(t=Math.max(t,n.left),l=Math.min(l,n.right),r=Math.max(r,n.top),c=Math.min(c,n.bottom)),e.rect(t,r,l-t,c-r),e.clip()}}function em(e,t,n,r){const s=t.interpolate(n,r);s&&e.lineTo(s.x,s.y)}var tm={id:"filler",afterDatasetsUpdate(e,t,n){const r=(e.data.datasets||[]).length,s=[];let a,i,o,l;for(i=0;i<r;++i)a=e.getDatasetMeta(i),o=a.dataset,l=null,o&&o.options&&o instanceof gf&&(l={visible:e.isDatasetVisible(i),index:i,fill:Kf(o,i,r),chart:e,axis:a.controller.options.indexAxis,scale:a.vScale,line:o}),a.$filler=l,s.push(l);for(i=0;i<r;++i)l=s[i],l&&!1!==l.fill&&(l.fill=Hf(s,i,n.propagate))},beforeDraw(e,t,n){const r="beforeDraw"===n.drawTime,s=e.getSortedVisibleDatasetMetas(),a=e.chartArea;for(let i=s.length-1;i>=0;--i){const t=s[i].$filler;t&&(t.line.updateControlPoints(a,t.axis),r&&t.fill&&Yf(e.ctx,t,a))}},beforeDatasetsDraw(e,t,n){if("beforeDatasetsDraw"!==n.drawTime)return;const r=e.getSortedVisibleDatasetMetas();for(let s=r.length-1;s>=0;--s){const t=r[s].$filler;zf(t)&&Yf(e.ctx,t,e.chartArea)}},beforeDatasetDraw(e,t,n){const r=t.meta.$filler;zf(r)&&"beforeDatasetDraw"===n.drawTime&&Yf(e.ctx,r,e.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const nm=(e,t)=>{let{boxHeight:n=t,boxWidth:r=t}=e;return e.usePointStyle&&(n=Math.min(n,t),r=e.pointStyleWidth||Math.min(r,t)),{boxWidth:r,boxHeight:n,itemHeight:Math.max(t,n)}};class rm extends fA{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t,n){this.maxWidth=e,this.maxHeight=t,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let t=uc(e.generateLabels,[this.chart],this)||[];e.filter&&(t=t.filter(t=>e.filter(t,this.chart.data))),e.sort&&(t=t.sort((t,n)=>e.sort(t,n,this.chart.data))),this.options.reverse&&t.reverse(),this.legendItems=t}fit(){const{options:e,ctx:t}=this;if(!e.display)return void(this.width=this.height=0);const n=e.labels,r=Jd(n.font),s=r.size,a=this._computeTitleHeight(),{boxWidth:i,itemHeight:o}=nm(n,s);let l,c;t.font=r.string,this.isHorizontal()?(l=this.maxWidth,c=this._fitRows(a,s,i,o)+10):(c=this.maxHeight,l=this._fitCols(a,r,i,o)+10),this.width=Math.min(l,e.maxWidth||this.maxWidth),this.height=Math.min(c,e.maxHeight||this.maxHeight)}_fitRows(e,t,n,r){const{ctx:s,maxWidth:a,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.lineWidths=[0],c=r+i;let d=e;s.textAlign="left",s.textBaseline="middle";let u=-1,h=-c;return this.legendItems.forEach((e,A)=>{const f=n+t/2+s.measureText(e.text).width;(0===A||l[l.length-1]+f+2*i>a)&&(d+=c,l[l.length-(A>0?0:1)]=0,h+=c,u++),o[A]={left:0,top:h,row:u,width:f,height:r},l[l.length-1]+=f+i}),d}_fitCols(e,t,n,r){const{ctx:s,maxHeight:a,options:{labels:{padding:i}}}=this,o=this.legendHitBoxes=[],l=this.columnSizes=[],c=a-e;let d=i,u=0,h=0,A=0,f=0;return this.legendItems.forEach((e,a)=>{const{itemWidth:m,itemHeight:p}=function(e,t,n,r,s){const a=function(e,t,n,r){let s=e.text;s&&"string"!==typeof s&&(s=s.reduce((e,t)=>e.length>t.length?e:t));return t+n.size/2+r.measureText(s).width}(r,e,t,n),i=function(e,t,n){let r=e;"string"!==typeof t.text&&(r=sm(t,n));return r}(s,r,t.lineHeight);return{itemWidth:a,itemHeight:i}}(n,t,s,e,r);a>0&&h+p+2*i>c&&(d+=u+i,l.push({width:u,height:h}),A+=u+i,f++,u=h=0),o[a]={left:A,top:h,col:f,width:m,height:p},u=Math.max(u,m),h+=p+i}),d+=u,l.push({width:u,height:h}),d}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:t,options:{align:n,labels:{padding:r},rtl:s}}=this,a=Du(s,this.left,this.width);if(this.isHorizontal()){let s=0,i=ad(n,this.left+r,this.right-this.lineWidths[s]);for(const o of t)s!==o.row&&(s=o.row,i=ad(n,this.left+r,this.right-this.lineWidths[s])),o.top+=this.top+e+r,o.left=a.leftForLtr(a.x(i),o.width),i+=o.width+r}else{let s=0,i=ad(n,this.top+e+r,this.bottom-this.columnSizes[s].height);for(const o of t)o.col!==s&&(s=o.col,i=ad(n,this.top+e+r,this.bottom-this.columnSizes[s].height)),o.top=i,o.left+=this.left+r,o.left=a.leftForLtr(a.x(o.left),o.width),i+=o.height+r}}isHorizontal(){return"top"===this.options.position||"bottom"===this.options.position}draw(){if(this.options.display){const e=this.ctx;Id(e,this),this._draw(),Dd(e)}}_draw(){const{options:e,columnSizes:t,lineWidths:n,ctx:r}=this,{align:s,labels:a}=e,i=Cd.color,o=Du(e.rtl,this.left,this.width),l=Jd(a.font),{padding:c}=a,d=l.size,u=d/2;let h;this.drawTitle(),r.textAlign=o.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=l.string;const{boxWidth:A,boxHeight:f,itemHeight:m}=nm(a,d),p=this.isHorizontal(),g=this._computeTitleHeight();h=p?{x:ad(s,this.left+c,this.right-n[0]),y:this.top+c+g,line:0}:{x:this.left+c,y:ad(s,this.top+g+c,this.bottom-t[0].height),line:0},Tu(this.ctx,e.textDirection);const x=m+c;this.legendItems.forEach((b,y)=>{r.strokeStyle=b.fontColor,r.fillStyle=b.fontColor;const v=r.measureText(b.text).width,w=o.textAlign(b.textAlign||(b.textAlign=a.textAlign)),j=A+u+v;let N=h.x,_=h.y;o.setWidth(this.width),p?y>0&&N+j+c>this.right&&(_=h.y+=x,h.line++,N=h.x=ad(s,this.left+c,this.right-n[h.line])):y>0&&_+x>this.bottom&&(N=h.x=N+t[h.line].width+c,h.line++,_=h.y=ad(s,this.top+g+c,this.bottom-t[h.line].height));if(function(e,t,n){if(isNaN(A)||A<=0||isNaN(f)||f<0)return;r.save();const s=cc(n.lineWidth,1);if(r.fillStyle=cc(n.fillStyle,i),r.lineCap=cc(n.lineCap,"butt"),r.lineDashOffset=cc(n.lineDashOffset,0),r.lineJoin=cc(n.lineJoin,"miter"),r.lineWidth=s,r.strokeStyle=cc(n.strokeStyle,i),r.setLineDash(cc(n.lineDash,[])),a.usePointStyle){const i={radius:f*Math.SQRT2/2,pointStyle:n.pointStyle,rotation:n.rotation,borderWidth:s},l=o.xPlus(e,A/2);Md(r,i,l,t+u,a.pointStyleWidth&&A)}else{const a=t+Math.max((d-f)/2,0),i=o.leftForLtr(e,A),l=Gd(n.borderRadius);r.beginPath(),Object.values(l).some(e=>0!==e)?Qd(r,{x:i,y:a,w:A,h:f,radius:l}):r.rect(i,a,A,f),r.fill(),0!==s&&r.stroke()}r.restore()}(o.x(N),_,b),N=((e,t,n,r)=>e===(r?"left":"right")?n:"center"===e?(t+n)/2:t)(w,N+A+u,p?N+j:this.right,e.rtl),function(e,t,n){Rd(r,n.text,e,t+m/2,l,{strikethrough:n.hidden,textAlign:o.textAlign(n.textAlign)})}(o.x(N),_,b),p)h.x+=j+c;else if("string"!==typeof b.text){const e=l.lineHeight;h.y+=sm(b,e)+c}else h.y+=x}),Ou(this.ctx,e.textDirection)}drawTitle(){const e=this.options,t=e.title,n=Jd(t.font),r=Yd(t.padding);if(!t.display)return;const s=Du(e.rtl,this.left,this.width),a=this.ctx,i=t.position,o=n.size/2,l=r.top+o;let c,d=this.left,u=this.width;if(this.isHorizontal())u=Math.max(...this.lineWidths),c=this.top+l,d=ad(e.align,d,this.right-u);else{const t=this.columnSizes.reduce((e,t)=>Math.max(e,t.height),0);c=l+ad(e.align,this.top,this.bottom-t-e.labels.padding-this._computeTitleHeight())}const h=ad(i,d,d+u);a.textAlign=s.textAlign(sd(i)),a.textBaseline="middle",a.strokeStyle=t.color,a.fillStyle=t.color,a.font=n.string,Rd(a,t.text,h,c,n)}_computeTitleHeight(){const e=this.options.title,t=Jd(e.font),n=Yd(e.padding);return e.display?t.lineHeight+n.height:0}_getLegendItemAt(e,t){let n,r,s;if(Yc(e,this.left,this.right)&&Yc(t,this.top,this.bottom))for(s=this.legendHitBoxes,n=0;n<s.length;++n)if(r=s[n],Yc(e,r.left,r.left+r.width)&&Yc(t,r.top,r.top+r.height))return this.legendItems[n];return null}handleEvent(e){const t=this.options;if(!function(e,t){if(("mousemove"===e||"mouseout"===e)&&(t.onHover||t.onLeave))return!0;if(t.onClick&&("click"===e||"mouseup"===e))return!0;return!1}(e.type,t))return;const n=this._getLegendItemAt(e.x,e.y);if("mousemove"===e.type||"mouseout"===e.type){const a=this._hoveredItem,i=(s=n,null!==(r=a)&&null!==s&&r.datasetIndex===s.datasetIndex&&r.index===s.index);a&&!i&&uc(t.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&uc(t.onHover,[e,n,this],this)}else n&&uc(t.onClick,[e,n,this],this);var r,s}}function sm(e,t){return t*(e.text?e.text.length:0)}var am={id:"legend",_element:rm,start(e,t,n){const r=e.legend=new rm({ctx:e.ctx,options:n,chart:e});Jh.configure(e,r,n),Jh.addBox(e,r)},stop(e){Jh.removeBox(e,e.legend),delete e.legend},beforeUpdate(e,t,n){const r=e.legend;Jh.configure(e,r,n),r.options=n},afterUpdate(e){const t=e.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(e,t){t.replay||e.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(e,t,n){const r=t.datasetIndex,s=n.chart;s.isDatasetVisible(r)?(s.hide(r),t.hidden=!0):(s.show(r),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:e=>e.chart.options.color,boxWidth:40,padding:10,generateLabels(e){const t=e.data.datasets,{labels:{usePointStyle:n,pointStyle:r,textAlign:s,color:a,useBorderRadius:i,borderRadius:o}}=e.legend.options;return e._getSortedDatasetMetas().map(e=>{const l=e.controller.getStyle(n?0:void 0),c=Yd(l.borderWidth);return{text:t[e.index].label,fillStyle:l.backgroundColor,fontColor:a,hidden:!e.visible,lineCap:l.borderCapStyle,lineDash:l.borderDash,lineDashOffset:l.borderDashOffset,lineJoin:l.borderJoinStyle,lineWidth:(c.width+c.height)/4,strokeStyle:l.borderColor,pointStyle:r||l.pointStyle,rotation:l.rotation,textAlign:s||l.textAlign,borderRadius:i&&(o||l.borderRadius),datasetIndex:e.index}},this)}},title:{color:e=>e.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:e=>!e.startsWith("on"),labels:{_scriptable:e=>!["generateLabels","filter","sort"].includes(e)}}};class im extends fA{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,t){const n=this.options;if(this.left=0,this.top=0,!n.display)return void(this.width=this.height=this.right=this.bottom=0);this.width=this.right=e,this.height=this.bottom=t;const r=ac(n.text)?n.text.length:1;this._padding=Yd(n.padding);const s=r*Jd(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=s:this.width=s}isHorizontal(){const e=this.options.position;return"top"===e||"bottom"===e}_drawArgs(e){const{top:t,left:n,bottom:r,right:s,options:a}=this,i=a.align;let o,l,c,d=0;return this.isHorizontal()?(l=ad(i,n,s),c=t+e,o=s-n):("left"===a.position?(l=n+e,c=ad(i,r,t),d=-.5*Cc):(l=s-e,c=ad(i,t,r),d=.5*Cc),o=r-t),{titleX:l,titleY:c,maxWidth:o,rotation:d}}draw(){const e=this.ctx,t=this.options;if(!t.display)return;const n=Jd(t.font),r=n.lineHeight/2+this._padding.top,{titleX:s,titleY:a,maxWidth:i,rotation:o}=this._drawArgs(r);Rd(e,t.text,0,0,n,{color:t.color,maxWidth:i,rotation:o,textAlign:sd(t.align),textBaseline:"middle",translation:[s,a]})}}var om={id:"title",_element:im,start(e,t,n){!function(e,t){const n=new im({ctx:e.ctx,options:t,chart:e});Jh.configure(e,n,t),Jh.addBox(e,n),e.titleBlock=n}(e,n)},stop(e){const t=e.titleBlock;Jh.removeBox(e,t),delete e.titleBlock},beforeUpdate(e,t,n){const r=e.titleBlock;Jh.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lm=new WeakMap;var cm={id:"subtitle",start(e,t,n){const r=new im({ctx:e.ctx,options:n,chart:e});Jh.configure(e,r,n),Jh.addBox(e,r),lm.set(e,r)},stop(e){Jh.removeBox(e,lm.get(e)),lm.delete(e)},beforeUpdate(e,t,n){const r=lm.get(e);Jh.configure(e,r,n),r.options=n},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const dm={average(e){if(!e.length)return!1;let t,n,r=new Set,s=0,a=0;for(t=0,n=e.length;t<n;++t){const n=e[t].element;if(n&&n.hasValue()){const e=n.tooltipPosition();r.add(e.x),s+=e.y,++a}}if(0===a||0===r.size)return!1;return{x:[...r].reduce((e,t)=>e+t)/r.size,y:s/a}},nearest(e,t){if(!e.length)return!1;let n,r,s,a=t.x,i=t.y,o=Number.POSITIVE_INFINITY;for(n=0,r=e.length;n<r;++n){const r=e[n].element;if(r&&r.hasValue()){const e=Kc(t,r.getCenterPoint());e<o&&(o=e,s=r)}}if(s){const e=s.tooltipPosition();a=e.x,i=e.y}return{x:a,y:i}}};function um(e,t){return t&&(ac(t)?Array.prototype.push.apply(e,t):e.push(t)),e}function hm(e){return("string"===typeof e||e instanceof String)&&e.indexOf("\n")>-1?e.split("\n"):e}function Am(e,t){const{element:n,datasetIndex:r,index:s}=t,a=e.getDatasetMeta(r).controller,{label:i,value:o}=a.getLabelAndValue(s);return{chart:e,label:i,parsed:a.getParsed(s),raw:e.data.datasets[r].data[s],formattedValue:o,dataset:a.getDataset(),dataIndex:s,datasetIndex:r,element:n}}function fm(e,t){const n=e.chart.ctx,{body:r,footer:s,title:a}=e,{boxWidth:i,boxHeight:o}=t,l=Jd(t.bodyFont),c=Jd(t.titleFont),d=Jd(t.footerFont),u=a.length,h=s.length,A=r.length,f=Yd(t.padding);let m=f.height,p=0,g=r.reduce((e,t)=>e+t.before.length+t.lines.length+t.after.length,0);if(g+=e.beforeBody.length+e.afterBody.length,u&&(m+=u*c.lineHeight+(u-1)*t.titleSpacing+t.titleMarginBottom),g){m+=A*(t.displayColors?Math.max(o,l.lineHeight):l.lineHeight)+(g-A)*l.lineHeight+(g-1)*t.bodySpacing}h&&(m+=t.footerMarginTop+h*d.lineHeight+(h-1)*t.footerSpacing);let x=0;const b=function(e){p=Math.max(p,n.measureText(e).width+x)};return n.save(),n.font=c.string,hc(e.title,b),n.font=l.string,hc(e.beforeBody.concat(e.afterBody),b),x=t.displayColors?i+2+t.boxPadding:0,hc(r,e=>{hc(e.before,b),hc(e.lines,b),hc(e.after,b)}),x=0,n.font=d.string,hc(e.footer,b),n.restore(),p+=f.width,{width:p,height:m}}function mm(e,t,n,r){const{x:s,width:a}=n,{width:i,chartArea:{left:o,right:l}}=e;let c="center";return"center"===r?c=s<=(o+l)/2?"left":"right":s<=a/2?c="left":s>=i-a/2&&(c="right"),function(e,t,n,r){const{x:s,width:a}=r,i=n.caretSize+n.caretPadding;return"left"===e&&s+a+i>t.width||"right"===e&&s-a-i<0||void 0}(c,e,t,n)&&(c="center"),c}function pm(e,t,n){const r=n.yAlign||t.yAlign||function(e,t){const{y:n,height:r}=t;return n<r/2?"top":n>e.height-r/2?"bottom":"center"}(e,n);return{xAlign:n.xAlign||t.xAlign||mm(e,t,n,r),yAlign:r}}function gm(e,t,n,r){const{caretSize:s,caretPadding:a,cornerRadius:i}=e,{xAlign:o,yAlign:l}=n,c=s+a,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:A}=Gd(i);let f=function(e,t){let{x:n,width:r}=e;return"right"===t?n-=r:"center"===t&&(n-=r/2),n}(t,o);const m=function(e,t,n){let{y:r,height:s}=e;return"top"===t?r+=n:r-="bottom"===t?s+n:s/2,r}(t,l,c);return"center"===l?"left"===o?f+=c:"right"===o&&(f-=c):"left"===o?f-=Math.max(d,h)+s:"right"===o&&(f+=Math.max(u,A)+s),{x:Gc(f,0,r.width-t.width),y:Gc(m,0,r.height-t.height)}}function xm(e,t,n){const r=Yd(n.padding);return"center"===t?e.x+e.width/2:"right"===t?e.x+e.width-r.right:e.x+r.left}function bm(e){return um([],hm(e))}function ym(e,t){const n=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return n?e.override(n):e}const vm={beforeTitle:nc,title(e){if(e.length>0){const t=e[0],n=t.chart.data.labels,r=n?n.length:0;if(this&&this.options&&"dataset"===this.options.mode)return t.dataset.label||"";if(t.label)return t.label;if(r>0&&t.dataIndex<r)return n[t.dataIndex]}return""},afterTitle:nc,beforeBody:nc,beforeLabel:nc,label(e){if(this&&this.options&&"dataset"===this.options.mode)return e.label+": "+e.formattedValue||e.formattedValue;let t=e.dataset.label||"";t&&(t+=": ");const n=e.formattedValue;return sc(n)||(t+=n),t},labelColor(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{borderColor:t.borderColor,backgroundColor:t.backgroundColor,borderWidth:t.borderWidth,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(e){const t=e.chart.getDatasetMeta(e.datasetIndex).controller.getStyle(e.dataIndex);return{pointStyle:t.pointStyle,rotation:t.rotation}},afterLabel:nc,afterBody:nc,beforeFooter:nc,footer:nc,afterFooter:nc};function wm(e,t,n,r){const s=e[t].call(n,r);return"undefined"===typeof s?vm[t].call(n,r):s}class jm extends fA{constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const t=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&t.options.animation&&n.animations,s=new Zu(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(s)),s}getContext(){return this.$context||(this.$context=(e=this.chart.getContext(),t=this,n=this._tooltipItems,Zd(e,{tooltip:t,tooltipItems:n,type:"tooltip"})));var e,t,n}getTitle(e,t){const{callbacks:n}=t,r=wm(n,"beforeTitle",this,e),s=wm(n,"title",this,e),a=wm(n,"afterTitle",this,e);let i=[];return i=um(i,hm(r)),i=um(i,hm(s)),i=um(i,hm(a)),i}getBeforeBody(e,t){return bm(wm(t.callbacks,"beforeBody",this,e))}getBody(e,t){const{callbacks:n}=t,r=[];return hc(e,e=>{const t={before:[],lines:[],after:[]},s=ym(n,e);um(t.before,hm(wm(s,"beforeLabel",this,e))),um(t.lines,wm(s,"label",this,e)),um(t.after,hm(wm(s,"afterLabel",this,e))),r.push(t)}),r}getAfterBody(e,t){return bm(wm(t.callbacks,"afterBody",this,e))}getFooter(e,t){const{callbacks:n}=t,r=wm(n,"beforeFooter",this,e),s=wm(n,"footer",this,e),a=wm(n,"afterFooter",this,e);let i=[];return i=um(i,hm(r)),i=um(i,hm(s)),i=um(i,hm(a)),i}_createItems(e){const t=this._active,n=this.chart.data,r=[],s=[],a=[];let i,o,l=[];for(i=0,o=t.length;i<o;++i)l.push(Am(this.chart,t[i]));return e.filter&&(l=l.filter((t,r,s)=>e.filter(t,r,s,n))),e.itemSort&&(l=l.sort((t,r)=>e.itemSort(t,r,n))),hc(l,t=>{const n=ym(e.callbacks,t);r.push(wm(n,"labelColor",this,t)),s.push(wm(n,"labelPointStyle",this,t)),a.push(wm(n,"labelTextColor",this,t))}),this.labelColors=r,this.labelPointStyles=s,this.labelTextColors=a,this.dataPoints=l,l}update(e,t){const n=this.options.setContext(this.getContext()),r=this._active;let s,a=[];if(r.length){const e=dm[n.position].call(this,r,this._eventPosition);a=this._createItems(n),this.title=this.getTitle(a,n),this.beforeBody=this.getBeforeBody(a,n),this.body=this.getBody(a,n),this.afterBody=this.getAfterBody(a,n),this.footer=this.getFooter(a,n);const t=this._size=fm(this,n),i=Object.assign({},e,t),o=pm(this.chart,n,i),l=gm(n,i,o,this.chart);this.xAlign=o.xAlign,this.yAlign=o.yAlign,s={opacity:1,x:l.x,y:l.y,width:t.width,height:t.height,caretX:e.x,caretY:e.y}}else 0!==this.opacity&&(s={opacity:0});this._tooltipItems=a,this.$context=void 0,s&&this._resolveAnimations().update(this,s),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:t})}drawCaret(e,t,n,r){const s=this.getCaretPosition(e,n,r);t.lineTo(s.x1,s.y1),t.lineTo(s.x2,s.y2),t.lineTo(s.x3,s.y3)}getCaretPosition(e,t,n){const{xAlign:r,yAlign:s}=this,{caretSize:a,cornerRadius:i}=n,{topLeft:o,topRight:l,bottomLeft:c,bottomRight:d}=Gd(i),{x:u,y:h}=e,{width:A,height:f}=t;let m,p,g,x,b,y;return"center"===s?(b=h+f/2,"left"===r?(m=u,p=m-a,x=b+a,y=b-a):(m=u+A,p=m+a,x=b-a,y=b+a),g=m):(p="left"===r?u+Math.max(o,c)+a:"right"===r?u+A-Math.max(l,d)-a:this.caretX,"top"===s?(x=h,b=x-a,m=p-a,g=p+a):(x=h+f,b=x+a,m=p+a,g=p-a),y=x),{x1:m,x2:p,x3:g,y1:x,y2:b,y3:y}}drawTitle(e,t,n){const r=this.title,s=r.length;let a,i,o;if(s){const l=Du(n.rtl,this.x,this.width);for(e.x=xm(this,n.titleAlign,n),t.textAlign=l.textAlign(n.titleAlign),t.textBaseline="middle",a=Jd(n.titleFont),i=n.titleSpacing,t.fillStyle=n.titleColor,t.font=a.string,o=0;o<s;++o)t.fillText(r[o],l.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+i,o+1===s&&(e.y+=n.titleMarginBottom-i)}}_drawColorBox(e,t,n,r,s){const a=this.labelColors[n],i=this.labelPointStyles[n],{boxHeight:o,boxWidth:l}=s,c=Jd(s.bodyFont),d=xm(this,"left",s),u=r.x(d),h=o<c.lineHeight?(c.lineHeight-o)/2:0,A=t.y+h;if(s.usePointStyle){const t={radius:Math.min(l,o)/2,pointStyle:i.pointStyle,rotation:i.rotation,borderWidth:1},n=r.leftForLtr(u,l)+l/2,c=A+o/2;e.strokeStyle=s.multiKeyBackground,e.fillStyle=s.multiKeyBackground,Ld(e,t,n,c),e.strokeStyle=a.borderColor,e.fillStyle=a.backgroundColor,Ld(e,t,n,c)}else{e.lineWidth=ic(a.borderWidth)?Math.max(...Object.values(a.borderWidth)):a.borderWidth||1,e.strokeStyle=a.borderColor,e.setLineDash(a.borderDash||[]),e.lineDashOffset=a.borderDashOffset||0;const t=r.leftForLtr(u,l),n=r.leftForLtr(r.xPlus(u,1),l-2),i=Gd(a.borderRadius);Object.values(i).some(e=>0!==e)?(e.beginPath(),e.fillStyle=s.multiKeyBackground,Qd(e,{x:t,y:A,w:l,h:o,radius:i}),e.fill(),e.stroke(),e.fillStyle=a.backgroundColor,e.beginPath(),Qd(e,{x:n,y:A+1,w:l-2,h:o-2,radius:i}),e.fill()):(e.fillStyle=s.multiKeyBackground,e.fillRect(t,A,l,o),e.strokeRect(t,A,l,o),e.fillStyle=a.backgroundColor,e.fillRect(n,A+1,l-2,o-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,t,n){const{body:r}=this,{bodySpacing:s,bodyAlign:a,displayColors:i,boxHeight:o,boxWidth:l,boxPadding:c}=n,d=Jd(n.bodyFont);let u=d.lineHeight,h=0;const A=Du(n.rtl,this.x,this.width),f=function(n){t.fillText(n,A.x(e.x+h),e.y+u/2),e.y+=u+s},m=A.textAlign(a);let p,g,x,b,y,v,w;for(t.textAlign=a,t.textBaseline="middle",t.font=d.string,e.x=xm(this,m,n),t.fillStyle=n.bodyColor,hc(this.beforeBody,f),h=i&&"right"!==m?"center"===a?l/2+c:l+2+c:0,b=0,v=r.length;b<v;++b){for(p=r[b],g=this.labelTextColors[b],t.fillStyle=g,hc(p.before,f),x=p.lines,i&&x.length&&(this._drawColorBox(t,e,b,A,n),u=Math.max(d.lineHeight,o)),y=0,w=x.length;y<w;++y)f(x[y]),u=d.lineHeight;hc(p.after,f)}h=0,u=d.lineHeight,hc(this.afterBody,f),e.y-=s}drawFooter(e,t,n){const r=this.footer,s=r.length;let a,i;if(s){const o=Du(n.rtl,this.x,this.width);for(e.x=xm(this,n.footerAlign,n),e.y+=n.footerMarginTop,t.textAlign=o.textAlign(n.footerAlign),t.textBaseline="middle",a=Jd(n.footerFont),t.fillStyle=n.footerColor,t.font=a.string,i=0;i<s;++i)t.fillText(r[i],o.x(e.x),e.y+a.lineHeight/2),e.y+=a.lineHeight+n.footerSpacing}}drawBackground(e,t,n,r){const{xAlign:s,yAlign:a}=this,{x:i,y:o}=e,{width:l,height:c}=n,{topLeft:d,topRight:u,bottomLeft:h,bottomRight:A}=Gd(r.cornerRadius);t.fillStyle=r.backgroundColor,t.strokeStyle=r.borderColor,t.lineWidth=r.borderWidth,t.beginPath(),t.moveTo(i+d,o),"top"===a&&this.drawCaret(e,t,n,r),t.lineTo(i+l-u,o),t.quadraticCurveTo(i+l,o,i+l,o+u),"center"===a&&"right"===s&&this.drawCaret(e,t,n,r),t.lineTo(i+l,o+c-A),t.quadraticCurveTo(i+l,o+c,i+l-A,o+c),"bottom"===a&&this.drawCaret(e,t,n,r),t.lineTo(i+h,o+c),t.quadraticCurveTo(i,o+c,i,o+c-h),"center"===a&&"left"===s&&this.drawCaret(e,t,n,r),t.lineTo(i,o+d),t.quadraticCurveTo(i,o,i+d,o),t.closePath(),t.fill(),r.borderWidth>0&&t.stroke()}_updateAnimationTarget(e){const t=this.chart,n=this.$animations,r=n&&n.x,s=n&&n.y;if(r||s){const n=dm[e.position].call(this,this._active,this._eventPosition);if(!n)return;const a=this._size=fm(this,e),i=Object.assign({},n,this._size),o=pm(t,e,i),l=gm(e,i,o,t);r._to===l.x&&s._to===l.y||(this.xAlign=o.xAlign,this.yAlign=o.yAlign,this.width=a.width,this.height=a.height,this.caretX=n.x,this.caretY=n.y,this._resolveAnimations().update(this,l))}}_willRender(){return!!this.opacity}draw(e){const t=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(t);const r={width:this.width,height:this.height},s={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const a=Yd(t.padding),i=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;t.enabled&&i&&(e.save(),e.globalAlpha=n,this.drawBackground(s,e,r,t),Tu(e,t.textDirection),s.y+=a.top,this.drawTitle(s,e,t),this.drawBody(s,e,t),this.drawFooter(s,e,t),Ou(e,t.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,t){const n=this._active,r=e.map(e=>{let{datasetIndex:t,index:n}=e;const r=this.chart.getDatasetMeta(t);if(!r)throw new Error("Cannot find a dataset at index "+t);return{datasetIndex:t,element:r.data[n],index:n}}),s=!Ac(n,r),a=this._positionChanged(r,t);(s||a)&&(this._active=r,this._eventPosition=t,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,s=this._active||[],a=this._getActiveElements(e,s,t,n),i=this._positionChanged(a,e),o=t||!Ac(a,s)||i;return o&&(this._active=a,(r.enabled||r.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,t))),o}_getActiveElements(e,t,n,r){const s=this.options;if("mouseout"===e.type)return[];if(!r)return t.filter(e=>this.chart.data.datasets[e.datasetIndex]&&void 0!==this.chart.getDatasetMeta(e.datasetIndex).controller.getParsed(e.index));const a=this.chart.getElementsAtEventForMode(e,s.mode,s,n);return s.reverse&&a.reverse(),a}_positionChanged(e,t){const{caretX:n,caretY:r,options:s}=this,a=dm[s.position].call(this,e,t);return!1!==a&&(n!==a.x||r!==a.y)}}(0,w.A)(jm,"positioners",dm);var Nm={id:"tooltip",_element:jm,positioners:dm,afterInit(e,t,n){n&&(e.tooltip=new jm({chart:e,options:n}))},beforeUpdate(e,t,n){e.tooltip&&e.tooltip.initialize(n)},reset(e,t,n){e.tooltip&&e.tooltip.initialize(n)},afterDraw(e){const t=e.tooltip;if(t&&t._willRender()){const n={tooltip:t};if(!1===e.notifyPlugins("beforeTooltipDraw",N(N({},n),{},{cancelable:!0})))return;t.draw(e.ctx),e.notifyPlugins("afterTooltipDraw",n)}},afterEvent(e,t){if(e.tooltip){const n=t.replay;e.tooltip.handleEvent(t.event,n,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(e,t)=>t.bodyFont.size,boxWidth:(e,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:vm},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:e=>"filter"!==e&&"itemSort"!==e&&"external"!==e,_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},_m=Object.freeze({__proto__:null,Colors:If,Decimation:Of,Filler:tm,Legend:am,SubTitle:cm,Title:om,Tooltip:Nm});function Cm(e,t,n,r){const s=e.indexOf(t);if(-1===s)return((e,t,n,r)=>("string"===typeof t?(n=e.push(t)-1,r.unshift({index:n,label:t})):isNaN(t)&&(n=null),n))(e,t,n,r);return s!==e.lastIndexOf(t)?n:s}function Sm(e){const t=this.getLabels();return e>=0&&e<t.length?t[e]:e}class km extends NA{constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const t=this._addedLabels;if(t.length){const e=this.getLabels();for(const{index:n,label:r}of t)e[n]===r&&e.splice(n,1);this._addedLabels=[]}super.init(e)}parse(e,t){if(sc(e))return null;const n=this.getLabels();return((e,t)=>null===e?null:Gc(Math.round(e),0,t))(t=isFinite(t)&&n[t]===e?t:Cm(n,e,cc(t,e),this._addedLabels),n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);"ticks"===this.options.bounds&&(e||(n=0),t||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const e=this.min,t=this.max,n=this.options.offset,r=[];let s=this.getLabels();s=0===e&&t===s.length-1?s:s.slice(e,t+1),this._valueRange=Math.max(s.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let a=e;a<=t;a++)r.push({value:a});return r}getLabelForValue(e){return Sm.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return"number"!==typeof e&&(e=this.parse(e)),null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const t=this.ticks;return e<0||e>t.length-1?null:this.getPixelForValue(t[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Bm(e,t){const n=[],{bounds:r,step:s,min:a,max:i,precision:o,count:l,maxTicks:c,maxDigits:d,includeBounds:u}=e,h=s||1,A=c-1,{min:f,max:m}=t,p=!sc(a),g=!sc(i),x=!sc(l),b=(m-f)/(d+1);let y,v,w,j,N=Oc((m-f)/A/h)*h;if(N<1e-14&&!p&&!g)return[{value:f},{value:m}];j=Math.ceil(m/N)-Math.floor(f/N),j>A&&(N=Oc(j*N/A/h)*h),sc(o)||(y=Math.pow(10,o),N=Math.ceil(N*y)/y),"ticks"===r?(v=Math.floor(f/N)*N,w=Math.ceil(m/N)*N):(v=f,w=m),p&&g&&s&&function(e,t){const n=Math.round(e);return n-t<=e&&n+t>=e}((i-a)/s,N/1e3)?(j=Math.round(Math.min((i-a)/N,c)),N=(i-a)/j,v=a,w=i):x?(v=p?a:v,w=g?i:w,j=l-1,N=(w-v)/j):(j=(w-v)/N,j=Tc(j,Math.round(j),N/1e3)?Math.round(j):Math.ceil(j));const _=Math.max(zc(N),zc(v));y=Math.pow(10,sc(o)?_:o),v=Math.round(v*y)/y,w=Math.round(w*y)/y;let C=0;for(p&&(u&&v!==a?(n.push({value:a}),v<a&&C++,Tc(Math.round((v+C*N)*y)/y,a,Em(a,b,e))&&C++):v<a&&C++);C<j;++C){const e=Math.round((v+C*N)*y)/y;if(g&&e>i)break;n.push({value:e})}return g&&u&&w!==i?n.length&&Tc(n[n.length-1].value,i,Em(i,b,e))?n[n.length-1].value=i:n.push({value:i}):g&&w!==i||n.push({value:w}),n}function Em(e,t,n){let{horizontal:r,minRotation:s}=n;const a=Rc(s),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*t*(""+e).length;return Math.min(t/i,o)}(0,w.A)(km,"id","category"),(0,w.A)(km,"defaults",{ticks:{callback:Sm}});class Lm extends NA{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,t){return sc(e)||("number"===typeof e||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:t,maxDefined:n}=this.getUserBounds();let{min:r,max:s}=this;const a=e=>r=t?r:e,i=e=>s=n?s:e;if(e){const e=Dc(r),t=Dc(s);e<0&&t<0?i(0):e>0&&t>0&&a(0)}if(r===s){let t=0===s?1:Math.abs(.05*s);i(s+t),e||a(r-t)}this.min=r,this.max=s}getTickLimit(){const e=this.options.ticks;let t,{maxTicksLimit:n,stepSize:r}=e;return r?(t=Math.ceil(this.max/r)-Math.floor(this.min/r)+1,t>1e3&&(console.warn("scales.".concat(this.id,".ticks.stepSize: ").concat(r," would result generating up to ").concat(t," ticks. Limiting to 1000.")),t=1e3)):(t=this.computeTickLimit(),n=n||11),n&&(t=Math.min(n,t)),t}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,t=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r=Bm({maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:t.precision,step:t.stepSize,count:t.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:t.minRotation||0,includeBounds:!1!==t.includeBounds},this._range||this);return"ticks"===e.bounds&&Uc(r,this,"value"),e.reverse?(r.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),r}configure(){const e=this.ticks;let t=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const r=(n-t)/Math.max(e.length-1,1)/2;t-=r,n+=r}this._startValue=t,this._endValue=n,this._valueRange=n-t}getLabelForValue(e){return xd(e,this.chart.options.locale,this.options.ticks.format)}}class Mm extends Lm{determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=oc(e)?e:0,this.max=oc(t)?t:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),t=e?this.width:this.height,n=Rc(this.options.ticks.minRotation),r=(e?Math.sin(n):Math.cos(n))||.001,s=this._resolveTickFontOptions(0);return Math.ceil(t/Math.min(40,s.lineHeight/r))}getPixelForValue(e){return null===e?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}(0,w.A)(Mm,"id","linear"),(0,w.A)(Mm,"defaults",{ticks:{callback:yd.formatters.numeric}});const Fm=e=>Math.floor(Ic(e)),Im=(e,t)=>Math.pow(10,Fm(e)+t);function Dm(e){return 1===e/Math.pow(10,Fm(e))}function Tm(e,t,n){const r=Math.pow(10,n),s=Math.floor(e/r);return Math.ceil(t/r)-s}function Om(e,t){let{min:n,max:r}=t;n=lc(e.min,n);const s=[],a=Fm(n);let i=function(e,t){let n=Fm(t-e);for(;Tm(e,t,n)>10;)n++;for(;Tm(e,t,n)<10;)n--;return Math.min(n,Fm(e))}(n,r),o=i<0?Math.pow(10,Math.abs(i)):1;const l=Math.pow(10,i),c=a>i?Math.pow(10,a):0,d=Math.round((n-c)*o)/o,u=Math.floor((n-c)/l/10)*l*10;let h=Math.floor((d-u)/Math.pow(10,i)),A=lc(e.min,Math.round((c+u+h*Math.pow(10,i))*o)/o);for(;A<r;)s.push({value:A,major:Dm(A),significand:h}),h>=10?h=h<15?15:20:h++,h>=20&&(i++,h=2,o=i>=0?1:o),A=Math.round((c+u+h*Math.pow(10,i))*o)/o;const f=lc(e.max,A);return s.push({value:f,major:Dm(f),significand:h}),s}class Pm extends NA{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,t){const n=Lm.prototype.parse.apply(this,[e,t]);if(0!==n)return oc(n)&&n>0?n:null;this._zero=!0}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!0);this.min=oc(e)?Math.max(0,e):null,this.max=oc(t)?Math.max(0,t):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!oc(this._userMin)&&(this.min=e===Im(this.min,0)?Im(this.min,-1):Im(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:t}=this.getUserBounds();let n=this.min,r=this.max;const s=t=>n=e?n:t,a=e=>r=t?r:e;n===r&&(n<=0?(s(1),a(10)):(s(Im(n,-1)),a(Im(r,1)))),n<=0&&s(Im(r,-1)),r<=0&&a(Im(n,1)),this.min=n,this.max=r}buildTicks(){const e=this.options,t=Om({min:this._userMin,max:this._userMax},this);return"ticks"===e.bounds&&Uc(t,this,"value"),e.reverse?(t.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),t}getLabelForValue(e){return void 0===e?"0":xd(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Ic(e),this._valueRange=Ic(this.max)-Ic(e)}getPixelForValue(e){return void 0!==e&&0!==e||(e=this.min),null===e||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Ic(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const t=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+t*this._valueRange)}}function Um(e){const t=e.ticks;if(t.display&&e.display){const e=Yd(t.backdropPadding);return cc(t.font&&t.font.size,Cd.font.size)+e.height}return 0}function Rm(e,t,n){return n=ac(n)?n:[n],{w:kd(e,t.string,n),h:n.length*t.lineHeight}}function Qm(e,t,n,r,s){return e===r||e===s?{start:t-n/2,end:t+n/2}:e<r||e>s?{start:t-n,end:t}:{start:t,end:t+n}}function zm(e){const t={l:e.left+e._padding.left,r:e.right-e._padding.right,t:e.top+e._padding.top,b:e.bottom-e._padding.bottom},n=Object.assign({},t),r=[],s=[],a=e._pointLabels.length,i=e.options.pointLabels,o=i.centerPointLabels?Cc/a:0;for(let l=0;l<a;l++){const a=i.setContext(e.getPointLabelContext(l));s[l]=a.padding;const c=e.getPointPosition(l,e.drawingArea+s[l],o),d=Jd(a.font),u=Rm(e.ctx,d,e._pointLabels[l]);r[l]=u;const h=Vc(e.getIndexAngle(l)+o),A=Math.round(Qc(h));Hm(n,t,h,Qm(A,c.x,u.w,0,180),Qm(A,c.y,u.h,90,270))}e.setCenterPoint(t.l-n.l,n.r-t.r,t.t-n.t,n.b-t.b),e._pointLabelItems=function(e,t,n){const r=[],s=e._pointLabels.length,a=e.options,{centerPointLabels:i,display:o}=a.pointLabels,l={extra:Um(a)/2,additionalAngle:i?Cc/s:0};let c;for(let d=0;d<s;d++){l.padding=n[d],l.size=t[d];const s=Km(e,d,l);r.push(s),"auto"===o&&(s.visible=Wm(s,c),s.visible&&(c=s))}return r}(e,r,s)}function Hm(e,t,n,r,s){const a=Math.abs(Math.sin(n)),i=Math.abs(Math.cos(n));let o=0,l=0;r.start<t.l?(o=(t.l-r.start)/a,e.l=Math.min(e.l,t.l-o)):r.end>t.r&&(o=(r.end-t.r)/a,e.r=Math.max(e.r,t.r+o)),s.start<t.t?(l=(t.t-s.start)/i,e.t=Math.min(e.t,t.t-l)):s.end>t.b&&(l=(s.end-t.b)/i,e.b=Math.max(e.b,t.b+l))}function Km(e,t,n){const r=e.drawingArea,{extra:s,additionalAngle:a,padding:i,size:o}=n,l=e.getPointPosition(t,r+s+i,a),c=Math.round(Qc(Vc(l.angle+Lc))),d=function(e,t,n){90===n||270===n?e-=t/2:(n>270||n<90)&&(e-=t);return e}(l.y,o.h,c),u=function(e){if(0===e||180===e)return"center";if(e<180)return"left";return"right"}(c),h=function(e,t,n){"right"===n?e-=t:"center"===n&&(e-=t/2);return e}(l.x,o.w,u);return{visible:!0,x:l.x,y:d,textAlign:u,left:h,top:d,right:h+o.w,bottom:d+o.h}}function Wm(e,t){if(!t)return!0;const{left:n,top:r,right:s,bottom:a}=e;return!(Fd({x:n,y:r},t)||Fd({x:n,y:a},t)||Fd({x:s,y:r},t)||Fd({x:s,y:a},t))}function Vm(e,t,n){const{left:r,top:s,right:a,bottom:i}=n,{backdropColor:o}=t;if(!sc(o)){const n=Gd(t.borderRadius),l=Yd(t.backdropPadding);e.fillStyle=o;const c=r-l.left,d=s-l.top,u=a-r+l.width,h=i-s+l.height;Object.values(n).some(e=>0!==e)?(e.beginPath(),Qd(e,{x:c,y:d,w:u,h:h,radius:n}),e.fill()):e.fillRect(c,d,u,h)}}function qm(e,t,n,r){const{ctx:s}=e;if(n)s.arc(e.xCenter,e.yCenter,t,0,Sc);else{let n=e.getPointPosition(0,t);s.moveTo(n.x,n.y);for(let a=1;a<r;a++)n=e.getPointPosition(a,t),s.lineTo(n.x,n.y)}}(0,w.A)(Pm,"id","logarithmic"),(0,w.A)(Pm,"defaults",{ticks:{callback:yd.formatters.logarithmic,major:{enabled:!0}}});class Gm extends Lm{constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=Yd(Um(this.options)/2),t=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+t/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(t,n)/2)}determineDataLimits(){const{min:e,max:t}=this.getMinMax(!1);this.min=oc(e)&&!isNaN(e)?e:0,this.max=oc(t)&&!isNaN(t)?t:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Um(this.options))}generateTickLabels(e){Lm.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((e,t)=>{const n=uc(this.options.pointLabels.callback,[e,t],this);return n||0===n?n:""}).filter((e,t)=>this.chart.getDataVisibility(t))}fit(){const e=this.options;e.display&&e.pointLabels.display?zm(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,t,n,r){this.xCenter+=Math.floor((e-t)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,t,n,r))}getIndexAngle(e){return Vc(e*(Sc/(this._pointLabels.length||1))+Rc(this.options.startAngle||0))}getDistanceFromCenterForValue(e){if(sc(e))return NaN;const t=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*t:(e-this.min)*t}getValueForDistanceFromCenter(e){if(sc(e))return NaN;const t=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-t:this.min+t}getPointLabelContext(e){const t=this._pointLabels||[];if(e>=0&&e<t.length){const n=t[e];return function(e,t,n){return Zd(e,{label:n,index:t,type:"pointLabel"})}(this.getContext(),e,n)}}getPointPosition(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const r=this.getIndexAngle(e)-Lc+n;return{x:Math.cos(r)*t+this.xCenter,y:Math.sin(r)*t+this.yCenter,angle:r}}getPointPositionForValue(e,t){return this.getPointPosition(e,this.getDistanceFromCenterForValue(t))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:t,top:n,right:r,bottom:s}=this._pointLabelItems[e];return{left:t,top:n,right:r,bottom:s}}drawBackground(){const{backgroundColor:e,grid:{circular:t}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),qm(this,this.getDistanceFromCenterForValue(this._endValue),t,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,t=this.options,{angleLines:n,grid:r,border:s}=t,a=this._pointLabels.length;let i,o,l;if(t.pointLabels.display&&function(e,t){const{ctx:n,options:{pointLabels:r}}=e;for(let s=t-1;s>=0;s--){const t=e._pointLabelItems[s];if(!t.visible)continue;const a=r.setContext(e.getPointLabelContext(s));Vm(n,a,t);const i=Jd(a.font),{x:o,y:l,textAlign:c}=t;Rd(n,e._pointLabels[s],o,l+i.lineHeight/2,i,{color:a.color,textAlign:c,textBaseline:"middle"})}}(this,a),r.display&&this.ticks.forEach((e,t)=>{if(0!==t||0===t&&this.min<0){o=this.getDistanceFromCenterForValue(e.value);const n=this.getContext(t),i=r.setContext(n),l=s.setContext(n);!function(e,t,n,r,s){const a=e.ctx,i=t.circular,{color:o,lineWidth:l}=t;!i&&!r||!o||!l||n<0||(a.save(),a.strokeStyle=o,a.lineWidth=l,a.setLineDash(s.dash||[]),a.lineDashOffset=s.dashOffset,a.beginPath(),qm(e,n,i,r),a.closePath(),a.stroke(),a.restore())}(this,i,o,a,l)}}),n.display){for(e.save(),i=a-1;i>=0;i--){const r=n.setContext(this.getPointLabelContext(i)),{color:s,lineWidth:a}=r;a&&s&&(e.lineWidth=a,e.strokeStyle=s,e.setLineDash(r.borderDash),e.lineDashOffset=r.borderDashOffset,o=this.getDistanceFromCenterForValue(t.reverse?this.min:this.max),l=this.getPointPosition(i,o),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(l.x,l.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,t=this.options,n=t.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let s,a;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(r),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((r,i)=>{if(0===i&&this.min>=0&&!t.reverse)return;const o=n.setContext(this.getContext(i)),l=Jd(o.font);if(s=this.getDistanceFromCenterForValue(this.ticks[i].value),o.showLabelBackdrop){e.font=l.string,a=e.measureText(r.label).width,e.fillStyle=o.backdropColor;const t=Yd(o.backdropPadding);e.fillRect(-a/2-t.left,-s-l.size/2-t.top,a+t.width,l.size+t.height)}Rd(e,r.label,0,-s,l,{color:o.color,strokeColor:o.textStrokeColor,strokeWidth:o.textStrokeWidth})}),e.restore()}drawTitle(){}}(0,w.A)(Gm,"id","radialLinear"),(0,w.A)(Gm,"defaults",{display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yd.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback:e=>e,padding:5,centerPointLabels:!1}}),(0,w.A)(Gm,"defaultRoutes",{"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"}),(0,w.A)(Gm,"descriptors",{angleLines:{_fallback:"grid"}});const Ym={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Jm=Object.keys(Ym);function Xm(e,t){return e-t}function Zm(e,t){if(sc(t))return null;const n=e._adapter,{parser:r,round:s,isoWeekday:a}=e._parseOpts;let i=t;return"function"===typeof r&&(i=r(i)),oc(i)||(i="string"===typeof r?n.parse(i,r):n.parse(i)),null===i?null:(s&&(i="week"!==s||!Pc(a)&&!0!==a?n.startOf(i,s):n.startOf(i,"isoWeek",a)),+i)}function $m(e,t,n,r){const s=Jm.length;for(let a=Jm.indexOf(e);a<s-1;++a){const e=Ym[Jm[a]],s=e.steps?e.steps:Number.MAX_SAFE_INTEGER;if(e.common&&Math.ceil((n-t)/(s*e.size))<=r)return Jm[a]}return Jm[s-1]}function ep(e,t,n){if(n){if(n.length){const{lo:r,hi:s}=Jc(n,t);e[n[r]>=t?n[r]:n[s]]=!0}}else e[t]=!0}function tp(e,t,n){const r=[],s={},a=t.length;let i,o;for(i=0;i<a;++i)o=t[i],s[o]=i,r.push({value:o,major:!1});return 0!==a&&n?function(e,t,n,r){const s=e._adapter,a=+s.startOf(t[0].value,r),i=t[t.length-1].value;let o,l;for(o=a;o<=i;o=+s.add(o,1,r))l=n[o],l>=0&&(t[l].major=!0);return t}(e,r,s,n):r}class np extends NA{constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.time||(e.time={}),r=this._adapter=new Eh(e.adapters.date);r.init(t),xc(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=t.normalized}parse(e,t){return void 0===e?null:Zm(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,t=this._adapter,n=e.time.unit||"day";let{min:r,max:s,minDefined:a,maxDefined:i}=this.getUserBounds();function o(e){a||isNaN(e.min)||(r=Math.min(r,e.min)),i||isNaN(e.max)||(s=Math.max(s,e.max))}a&&i||(o(this._getLabelBounds()),"ticks"===e.bounds&&"labels"===e.ticks.source||o(this.getMinMax(!1))),r=oc(r)&&!isNaN(r)?r:+t.startOf(Date.now(),n),s=oc(s)&&!isNaN(s)?s:+t.endOf(Date.now(),n)+1,this.min=Math.min(r,s-1),this.max=Math.max(r+1,s)}_getLabelBounds(){const e=this.getLabelTimestamps();let t=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(t=e[0],n=e[e.length-1]),{min:t,max:n}}buildTicks(){const e=this.options,t=e.time,n=e.ticks,r="labels"===n.source?this.getLabelTimestamps():this._generate();"ticks"===e.bounds&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const s=this.min,a=function(e,t,n){let r=0,s=e.length;for(;r<s&&e[r]<t;)r++;for(;s>r&&e[s-1]>n;)s--;return r>0||s<e.length?e.slice(r,s):e}(r,s,this.max);return this._unit=t.unit||(n.autoSkip?$m(t.minUnit,this.min,this.max,this._getLabelCapacity(s)):function(e,t,n,r,s){for(let a=Jm.length-1;a>=Jm.indexOf(n);a--){const n=Jm[a];if(Ym[n].common&&e._adapter.diff(s,r,n)>=t-1)return n}return Jm[n?Jm.indexOf(n):0]}(this,a.length,t.minUnit,this.min,this.max)),this._majorUnit=n.major.enabled&&"year"!==this._unit?function(e){for(let t=Jm.indexOf(e)+1,n=Jm.length;t<n;++t)if(Ym[Jm[t]].common)return Jm[t]}(this._unit):void 0,this.initOffsets(r),e.reverse&&a.reverse(),tp(this,a,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],r=0,s=0;this.options.offset&&n.length&&(e=this.getDecimalForValue(n[0]),r=1===n.length?1-e:(this.getDecimalForValue(n[1])-e)/2,t=this.getDecimalForValue(n[n.length-1]),s=1===n.length?t:(t-this.getDecimalForValue(n[n.length-2]))/2);const a=n.length<3?.5:.25;r=Gc(r,0,a),s=Gc(s,0,a),this._offsets={start:r,end:s,factor:1/(r+1+s)}}_generate(){const e=this._adapter,t=this.min,n=this.max,r=this.options,s=r.time,a=s.unit||$m(s.minUnit,t,n,this._getLabelCapacity(t)),i=cc(r.ticks.stepSize,1),o="week"===a&&s.isoWeekday,l=Pc(o)||!0===o,c={};let d,u,h=t;if(l&&(h=+e.startOf(h,"isoWeek",o)),h=+e.startOf(h,l?"day":a),e.diff(n,t,a)>1e5*i)throw new Error(t+" and "+n+" are too far apart with stepSize of "+i+" "+a);const A="data"===r.ticks.source&&this.getDataTimestamps();for(d=h,u=0;d<n;d=+e.add(d,i,a),u++)ep(c,d,A);return d!==n&&"ticks"!==r.bounds&&1!==u||ep(c,d,A),Object.keys(c).sort(Xm).map(e=>+e)}getLabelForValue(e){const t=this._adapter,n=this.options.time;return n.tooltipFormat?t.format(e,n.tooltipFormat):t.format(e,n.displayFormats.datetime)}format(e,t){const n=this.options.time.displayFormats,r=this._unit,s=t||n[r];return this._adapter.format(e,s)}_tickFormatFunction(e,t,n,r){const s=this.options,a=s.ticks.callback;if(a)return uc(a,[e,t,n],this);const i=s.time.displayFormats,o=this._unit,l=this._majorUnit,c=o&&i[o],d=l&&i[l],u=n[t],h=l&&d&&u&&u.major;return this._adapter.format(e,r||(h?d:c))}generateTickLabels(e){let t,n,r;for(t=0,n=e.length;t<n;++t)r=e[t],r.label=this._tickFormatFunction(r.value,t,e)}getDecimalForValue(e){return null===e?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const t=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((t.start+n)*t.factor)}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const t=this.options.ticks,n=this.ctx.measureText(e).width,r=Rc(this.isHorizontal()?t.maxRotation:t.minRotation),s=Math.cos(r),a=Math.sin(r),i=this._resolveTickFontOptions(0).size;return{w:n*s+i*a,h:n*a+i*s}}_getLabelCapacity(e){const t=this.options.time,n=t.displayFormats,r=n[t.unit]||n.millisecond,s=this._tickFormatFunction(e,0,tp(this,[e],this._majorUnit),r),a=this._getLabelSize(s),i=Math.floor(this.isHorizontal()?this.width/a.w:this.height/a.h)-1;return i>0?i:1}getDataTimestamps(){let e,t,n=this._cache.data||[];if(n.length)return n;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,t=r.length;e<t;++e)n=n.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(n)}getLabelTimestamps(){const e=this._cache.labels||[];let t,n;if(e.length)return e;const r=this.getLabels();for(t=0,n=r.length;t<n;++t)e.push(Zm(this,r[t]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return td(e.sort(Xm))}}function rp(e,t,n){let r,s,a,i,o=0,l=e.length-1;n?(t>=e[o].pos&&t<=e[l].pos&&({lo:o,hi:l}=Xc(e,"pos",t)),({pos:r,time:a}=e[o]),({pos:s,time:i}=e[l])):(t>=e[o].time&&t<=e[l].time&&({lo:o,hi:l}=Xc(e,"time",t)),({time:r,pos:a}=e[o]),({time:s,pos:i}=e[l]));const c=s-r;return c?a+(i-a)*(t-r)/c:a}(0,w.A)(np,"id","time"),(0,w.A)(np,"defaults",{bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}});class sp extends np{constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),t=this._table=this.buildLookupTable(e);this._minPos=rp(t,this.min),this._tableRange=rp(t,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:t,max:n}=this,r=[],s=[];let a,i,o,l,c;for(a=0,i=e.length;a<i;++a)l=e[a],l>=t&&l<=n&&r.push(l);if(r.length<2)return[{time:t,pos:0},{time:n,pos:1}];for(a=0,i=r.length;a<i;++a)c=r[a+1],o=r[a-1],l=r[a],Math.round((c+o)/2)!==l&&s.push({time:l,pos:a/(i-1)});return s}_generate(){const e=this.min,t=this.max;let n=super.getDataTimestamps();return n.includes(e)&&n.length||n.splice(0,0,e),n.includes(t)&&1!==n.length||n.push(t),n.sort((e,t)=>e-t)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const t=this.getDataTimestamps(),n=this.getLabelTimestamps();return e=t.length&&n.length?this.normalize(t.concat(n)):t.length?t:n,e=this._cache.all=e,e}getDecimalForValue(e){return(rp(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const t=this._offsets,n=this.getDecimalForPixel(e)/t.factor-t.end;return rp(this._table,n*this._tableRange+this._minPos,!0)}}(0,w.A)(sp,"id","timeseries"),(0,w.A)(sp,"defaults",np.defaults);const ap=[Sh,Sf,_m,Object.freeze({__proto__:null,CategoryScale:km,LinearScale:Mm,LogarithmicScale:Pm,RadialLinearScale:Gm,TimeScale:np,TimeSeriesScale:sp})],ip=["height","width","redraw","datasetIdKey","type","data","options","plugins","fallbackContent","updateMode"],op="label";function lp(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function cp(e,t){e.labels=t}function dp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:op;const r=[];e.datasets=t.map(t=>{const s=e.datasets.find(e=>e[n]===t[n]);return s&&t.data&&!r.includes(s)?(r.push(s),Object.assign(s,t),s):N({},t)})}function up(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:op;const n={labels:[],datasets:[]};return cp(n,e.labels),dp(n,e.datasets,t),n}function hp(e,n){const{height:r=150,width:s=300,redraw:a=!1,datasetIdKey:i,type:o,data:l,options:c,plugins:d=[],fallbackContent:u,updateMode:h}=e,A=v(e,ip),f=(0,t.useRef)(null),m=(0,t.useRef)(null),p=()=>{f.current&&(m.current=new tf(f.current,{type:o,data:up(l,i),options:c&&N({},c),plugins:d}),lp(n,m.current))},g=()=>{lp(n,null),m.current&&(m.current.destroy(),m.current=null)};return(0,t.useEffect)(()=>{!a&&m.current&&c&&function(e,t){const n=e.options;n&&t&&Object.assign(n,t)}(m.current,c)},[a,c]),(0,t.useEffect)(()=>{!a&&m.current&&cp(m.current.config.data,l.labels)},[a,l.labels]),(0,t.useEffect)(()=>{!a&&m.current&&l.datasets&&dp(m.current.config.data,l.datasets,i)},[a,l.datasets]),(0,t.useEffect)(()=>{m.current&&(a?(g(),setTimeout(p)):m.current.update(h))},[a,c,l.labels,l.datasets,h]),(0,t.useEffect)(()=>{m.current&&(g(),setTimeout(p))},[o]),(0,t.useEffect)(()=>(p(),()=>g()),[]),t.createElement("canvas",N({ref:f,role:"img",height:r,width:s},A),u)}const Ap=(0,t.forwardRef)(hp);function fp(e,n){return tf.register(n),(0,t.forwardRef)((n,r)=>t.createElement(Ap,N(N({},n),{},{ref:r,type:e})))}const mp=fp("bar",bh);function pp(){var e,n;const[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)("all"),[c,d]=(0,t.useState)((new Date).getFullYear()),[u,h]=(0,t.useState)(null),[A,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(0),[g,x]=(0,t.useState)({totalLeads:0,convertedLeads:0,branchLeads:[]}),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void alert("No token found! Please login again.");const t=(await Ua.get("branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name,branch_code:e.branch_code||"BR-"+e.id,city:e.city,state:e.state,contact:e.contact_number,email:e.email,status:e.status,opening_date:e.opening_date,pin_code:e.pin_code||"",address:e.address||"",branch_type:e.branch_type||"Main"}));s(t);const n=t.filter(e=>"Active"===e.status);i(n)}catch(e){console.error("Error fetching branches:",e),alert("Failed to load branches")}})()},[]),(0,t.useEffect)(()=>{a.length>0&&((async()=>{f(!0);try{const e=localStorage.getItem("token");let t={year:c};"all"!==o&&(t.branch_id=o);const n=await Ua.get("/monthly-revenue",{headers:{Authorization:"Bearer ".concat(e)},params:t});let r=n.data;if("all"===o){const e=n.data.branches||[],t=a.map(e=>e.id);r=e.filter(e=>t.includes(e.branch_id))}else r=a.map(e=>e.id).includes(parseInt(o))?n.data.branch_id?n.data:n.data.branches&&n.data.branches.length>0?n.data.branches[0]:{branch_id:parseInt(o),monthly_revenue:Array(12).fill(0).map((e,t)=>({month:new Date(c,t,1).toLocaleString("default",{month:"long"}),student_fee:0}))}:null;h(r);let s=0;Array.isArray(r)?s=r.reduce((e,t)=>e+(t.monthly_revenue||[]).reduce((e,t)=>e+parseFloat(t.student_fee||0),0),0):r&&r.monthly_revenue&&(s=r.monthly_revenue.reduce((e,t)=>e+parseFloat(t.student_fee||0),0)),p(s)}catch(e){if(console.error("Error fetching revenue data:",e),e.response&&404===e.response.status){if("all"===o)h([]);else{const e={branch_id:parseInt(o),monthly_revenue:Array(12).fill(0).map((e,t)=>({month:new Date(c,t,1).toLocaleString("default",{month:"long"}),student_fee:0}))};h(e)}p(0)}else alert("Failed to load revenue data")}finally{f(!1)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/leads/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];let n=t;if("all"!==o)n=t.filter(e=>e.branch_id==o);else{const e=a.map(e=>e.id);n=t.filter(t=>e.includes(t.branch_id))}const r=n.filter(e=>"Converted"===e.lead_status).length,s=a.map(e=>{const n=t.filter(t=>t.branch_id===e.id);return{branchName:e.branchName,city:e.city,total:n.length,converted:n.filter(e=>"Converted"===e.lead_status).length}});x({totalLeads:n.length,convertedLeads:r,branchLeads:s})}catch(e){console.error("Error fetching leads data:",e)}})())},[o,c,a]);let j=[],N=[];if(u)if(Array.isArray(u)){const e={},t=["January","February","March","April","May","June","July","August","September","October","November","December"];t.forEach(t=>{e[t]=0}),u.forEach(t=>{t.monthly_revenue&&t.monthly_revenue.forEach(t=>{void 0!==e[t.month]&&(e[t.month]+=parseFloat(t.student_fee||0))})}),j=t.map(e=>e.substring(0,3)),N=Object.values(e)}else if(u.monthly_revenue)j=u.monthly_revenue.map(e=>e.month.substring(0,3)),N=u.monthly_revenue.map(e=>e.student_fee);else{j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=Array(12).fill(0)}else{j=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],N=Array(12).fill(0)}const _={labels:j,datasets:[{label:"all"===o?"Total Monthly Revenue (\u20b9)":"Monthly Revenue (\u20b9)",data:N,backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)","rgba(199, 199, 199, 0.8)","rgba(83, 102, 255, 0.8)","rgba(40, 159, 64, 0.8)","rgba(210, 99, 132, 0.8)","rgba(130, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(199, 199, 199, 1)","rgba(83, 102, 255, 1)","rgba(40, 159, 64, 1)","rgba(210, 99, 132, 1)","rgba(130, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1,borderRadius:6,hoverBackgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(199, 199, 199, 1)","rgba(83, 102, 255, 1)","rgba(40, 159, 64, 1)","rgba(210, 99, 132, 1)","rgba(130, 162, 235, 1)","rgba(255, 206, 86, 1)"]}]},C={responsive:!0,plugins:{legend:{position:"top",labels:{color:"#4B5563",font:{size:12,family:"Nunito, sans-serif"}}},title:{display:!0,text:"all"===o?"Total Monthly Revenue Analysis - ".concat(c):"Monthly Revenue Analysis - ".concat(c),color:"#374151",font:{size:16,weight:"bold",family:"Nunito, sans-serif"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#1F2937",bodyColor:"#1F2937",borderColor:"#E5E7EB",borderWidth:1,padding:10,boxPadding:6,usePointStyle:!0,callbacks:{label:function(e){return"Revenue: \u20b9".concat(e.raw.toLocaleString("en-IN"))}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:"#4B5563",callback:function(e){return"\u20b9"+e.toLocaleString("en-IN")}},title:{display:!0,text:"Revenue (\u20b9)",color:"#4B5563",font:{family:"Nunito, sans-serif"}}},x:{grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:"#4B5563",font:{family:"Nunito, sans-serif"}}}},maintainAspectRatio:!1},S=()=>{const e=(new Date).getFullYear(),t=[];for(let r=e-1;r<=e+14;r++)t.push(r);const n=[];for(let r=0;r<t.length;r+=4)n.push(t.slice(r,r+4));return(0,mr.jsxs)("div",{className:"absolute top-full right-0 mt-2 bg-white rounded-lg shadow-lg border border-gray-200 z-10 w-72 p-4",children:[(0,mr.jsx)("div",{className:"text-center font-semibold mb-3 text-gray-700",children:"Select Year"}),(0,mr.jsx)("div",{className:"space-y-3 mb-4",children:n.map((e,t)=>(0,mr.jsx)("div",{className:"flex justify-between",children:e.map(e=>(0,mr.jsx)("button",{className:"w-14 h-10 rounded-md flex items-center justify-center transition-colors ".concat(e===c?"bg-blue-500 text-white":"hover:bg-gray-100 text-gray-700"),onClick:()=>{d(e),y(!1)},children:e},e))},t))}),(0,mr.jsxs)("div",{className:"border-t pt-3",children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:"Or enter a custom year:"}),(0,mr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),v&&!isNaN(v)&&v>0&&(d(parseInt(v)),y(!1),w(""))},className:"flex",children:[(0,mr.jsx)("input",{type:"number",min:"1900",max:"2100",value:v,onChange:e=>w(e.target.value),placeholder:"Enter year",className:"flex-1 border rounded-l-md px-3 py-2 text-sm focus:outline-none focus:ring-1 focus:ring-blue-500"}),(0,mr.jsx)("button",{type:"submit",className:"bg-blue-500 text-white px-3 py-2 rounded-r-md text-sm hover:bg-blue-600 transition-colors",children:"Go"})]})]})]})};return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"px-6 bg-[#F4F9FD] min-h-screen",children:[(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-4 mb-6",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Welcome Back,"}),(0,mr.jsx)("h1",{className:"text-[30px] mb-2 font-nunito",children:"Dashboard"})]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,mr.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg px-3 py-2",children:[(0,mr.jsx)(Oo,{className:"text-gray-500 mr-2"}),(0,mr.jsxs)("select",{className:"bg-transparent border-none text-sm focus:ring-0",value:o,onChange:e=>l(e.target.value),children:[(0,mr.jsx)("option",{value:"all",children:"All Active Branches"}),a.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branchName},e.id))]})]}),(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsxs)("button",{className:"flex items-center bg-gray-100 rounded-lg px-3 py-2",onClick:()=>y(!b),children:[(0,mr.jsx)(uo,{className:"text-gray-500 mr-2"}),(0,mr.jsx)("span",{children:c})]}),b&&(0,mr.jsx)(S,{})]})]})]})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,mr.jsxs)("a",{href:"/sinfodeadmin/students",className:"bg-white rounded-xl shadow p-4 flex items-center hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg mr-4",children:(0,mr.jsx)(ml,{className:"text-blue-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold",children:"Add Student"}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Register a new student"})]})]}),(0,mr.jsxs)("a",{href:"/sinfodeadmin/leads",className:"bg-white rounded-xl shadow p-4 flex items-center hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-lg mr-4",children:(0,mr.jsx)(pl,{className:"text-green-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold",children:"Add Lead"}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Create a new lead"})]})]}),(0,mr.jsxs)("a",{href:"/sinfodeadmin/expenses",className:"bg-white rounded-xl shadow p-4 flex items-center hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsx)("div",{className:"bg-red-100 p-3 rounded-lg mr-4",children:(0,mr.jsx)(Go,{className:"text-red-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold",children:"Record Expense"}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Add a new expense"})]})]}),(0,mr.jsxs)("a",{href:"/sinfodeadmin/discount",className:"bg-white rounded-xl shadow p-4 flex items-center hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-lg mr-4",children:(0,mr.jsx)(Jo,{className:"text-green-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold",children:"Discount History"}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Approve Discount"})]})]})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold font-nunito",children:"Revenue Summary"}),(0,mr.jsxs)("p",{className:"text-sm opacity-90",children:["Total revenue for ",c]})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsxs)("p",{className:"text-3xl font-bold flex items-center justify-end",children:[(0,mr.jsx)(tl,{className:"mr-1"})," ",m.toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,mr.jsx)("p",{className:"text-sm opacity-90",children:"all"===o?"All Active Branches":(null===(e=a.find(e=>e.id==o))||void 0===e?void 0:e.branchName)||"Selected Branch"})]})]})}),(0,mr.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,mr.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:[(0,mr.jsx)("h2",{className:"font-semibold text-xl font-nunito text-gray-800 mb-4 md:mb-0",children:"Revenue Analytics"}),(0,mr.jsxs)("div",{className:"text-sm text-gray-500",children:["Showing data for: ","all"===o?"All Active Branches":(null===(n=a.find(e=>e.id==o))||void 0===n?void 0:n.branchName)||"Selected Branch"," - ",c]})]}),A?(0,mr.jsx)("div",{className:"flex justify-center items-center h-80",children:(0,mr.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,mr.jsx)("div",{className:"rounded-full bg-gray-200 h-12 w-12 mb-4"}),(0,mr.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"})]})}):u?(0,mr.jsx)("div",{className:"h-80",children:(0,mr.jsx)(mp,{data:_,options:C})}):(0,mr.jsx)("div",{className:"flex justify-center items-center h-80 text-gray-500",children:(0,mr.jsx)("p",{children:"Select a branch and year to view revenue data"})})]})})}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl mt-9 shadow-lg p-6 mb-6",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsx)("h2",{className:"font-semibold text-xl font-nunito",children:"Leads Overview"}),(0,mr.jsxs)("a",{href:"/sinfodeadmin/leads",className:"text-blue-500 text-sm flex items-center",children:["View all leads ",(0,mr.jsx)(ao,{className:"ml-1 rotate-45"})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,mr.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)(pl,{className:"text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Leads"}),(0,mr.jsx)("p",{className:"text-2xl font-bold",children:g.totalLeads})]})]})}),(0,mr.jsx)("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)(ml,{className:"text-green-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Converted Leads"}),(0,mr.jsx)("p",{className:"text-2xl font-bold",children:g.convertedLeads})]})]})}),(0,mr.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)(Oo,{className:"text-purple-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),(0,mr.jsx)("p",{className:"text-2xl font-bold",children:g.totalLeads>0?"".concat((g.convertedLeads/g.totalLeads*100).toFixed(1),"%"):"0%"})]})]})})]}),(0,mr.jsx)("h3",{className:"font-semibold mb-4",children:"Leads by Branch"}),(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:g.branchLeads.map((e,t)=>(0,mr.jsxs)("div",{className:"border rounded-lg p-4 hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,mr.jsx)("h4",{className:"font-medium",children:e.branchName}),(0,mr.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs px-2 py-1 rounded-full",children:e.city})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total"}),(0,mr.jsx)("p",{className:"font-semibold",children:e.total})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Converted"}),(0,mr.jsx)("p",{className:"font-semibold text-green-600",children:e.converted})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Rate"}),(0,mr.jsx)("p",{className:"font-semibold",children:e.total>0?"".concat((e.converted/e.total*100).toFixed(1),"%"):"0%"})]})]})]},t))})]})]})})}tf.register(km,Mm,bf,gf,Cf,om,Nm,am,lf);var gp={version:"0.18.5"},xp=1200,bp=1252,yp=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],vp={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},wp=function(e){-1!=yp.indexOf(e)&&(bp=vp[0]=e)};var jp=function(e){xp=e,wp(e)};function Np(){jp(1200),wp(1252)}function _p(e){for(var t=[],n=0;n<e.length>>1;++n)t[n]=String.fromCharCode(e.charCodeAt(2*n+1)+(e.charCodeAt(2*n)<<8));return t.join("")}var Cp,Sp=function(e){return String.fromCharCode(e)},kp=function(e){return String.fromCharCode(e)};var Bp="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Ep(e){for(var t="",n=0,r=0,s=0,a=0,i=0,o=0,l=0,c=0;c<e.length;)a=(n=e.charCodeAt(c++))>>2,i=(3&n)<<4|(r=e.charCodeAt(c++))>>4,o=(15&r)<<2|(s=e.charCodeAt(c++))>>6,l=63&s,isNaN(r)?o=l=64:isNaN(s)&&(l=64),t+=Bp.charAt(a)+Bp.charAt(i)+Bp.charAt(o)+Bp.charAt(l);return t}function Lp(e){var t="",n=0,r=0,s=0,a=0,i=0,o=0;e=e.replace(/[^\w\+\/\=]/g,"");for(var l=0;l<e.length;)n=Bp.indexOf(e.charAt(l++))<<2|(a=Bp.indexOf(e.charAt(l++)))>>4,t+=String.fromCharCode(n),r=(15&a)<<4|(i=Bp.indexOf(e.charAt(l++)))>>2,64!==i&&(t+=String.fromCharCode(r)),s=(3&i)<<6|(o=Bp.indexOf(e.charAt(l++))),64!==o&&(t+=String.fromCharCode(s));return t}var Mp=function(){return"undefined"!==typeof Buffer&&"undefined"!==typeof process&&"undefined"!==typeof process.versions&&!!process.versions.node}(),Fp=function(){if("undefined"!==typeof Buffer){var e=!Buffer.from;if(!e)try{Buffer.from("foo","utf8")}catch(AB){e=!0}return e?function(e,t){return t?new Buffer(e,t):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Ip(e){return Mp?Buffer.alloc?Buffer.alloc(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}function Dp(e){return Mp?Buffer.allocUnsafe?Buffer.allocUnsafe(e):new Buffer(e):"undefined"!=typeof Uint8Array?new Uint8Array(e):new Array(e)}var Tp=function(e){return Mp?Fp(e,"binary"):e.split("").map(function(e){return 255&e.charCodeAt(0)})};function Op(e){if("undefined"===typeof ArrayBuffer)return Tp(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r!=e.length;++r)n[r]=255&e.charCodeAt(r);return t}function Pp(e){if(Array.isArray(e))return e.map(function(e){return String.fromCharCode(e)}).join("");for(var t=[],n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}var Up=Mp?function(e){return Buffer.concat(e.map(function(e){return Buffer.isBuffer(e)?e:Fp(e)}))}:function(e){if("undefined"!==typeof Uint8Array){var t=0,n=0;for(t=0;t<e.length;++t)n+=e[t].length;var r=new Uint8Array(n),s=0;for(t=0,n=0;t<e.length;n+=s,++t)if(s=e[t].length,e[t]instanceof Uint8Array)r.set(e[t],n);else{if("string"==typeof e[t])throw"wtf";r.set(new Uint8Array(e[t]),n)}return r}return[].concat.apply([],e.map(function(e){return Array.isArray(e)?e:[].slice.call(e)}))};var Rp=/\u0000/g,Qp=/[\u0001-\u0006]/g;function zp(e){for(var t="",n=e.length-1;n>=0;)t+=e.charAt(n--);return t}function Hp(e,t){var n=""+e;return n.length>=t?n:tx("0",t-n.length)+n}function Kp(e,t){var n=""+e;return n.length>=t?n:tx(" ",t-n.length)+n}function Wp(e,t){var n=""+e;return n.length>=t?n:n+tx(" ",t-n.length)}var Vp=Math.pow(2,32);function qp(e,t){return e>Vp||e<-Vp?function(e,t){var n=""+Math.round(e);return n.length>=t?n:tx("0",t-n.length)+n}(e,t):function(e,t){var n=""+e;return n.length>=t?n:tx("0",t-n.length)+n}(Math.round(e),t)}function Gp(e,t){return t=t||0,e.length>=7+t&&103===(32|e.charCodeAt(t))&&101===(32|e.charCodeAt(t+1))&&110===(32|e.charCodeAt(t+2))&&101===(32|e.charCodeAt(t+3))&&114===(32|e.charCodeAt(t+4))&&97===(32|e.charCodeAt(t+5))&&108===(32|e.charCodeAt(t+6))}var Yp=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],Jp=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];var Xp={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "'},Zp={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},$p={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function eg(e,t,n){for(var r=e<0?-1:1,s=e*r,a=0,i=1,o=0,l=1,c=0,d=0,u=Math.floor(s);c<t&&(o=(u=Math.floor(s))*i+a,d=u*c+l,!(s-u<5e-8));)s=1/(s-u),a=i,i=o,l=c,c=d;if(d>t&&(c>t?(d=l,o=a):(d=c,o=i)),!n)return[0,r*o,d];var h=Math.floor(r*o/d);return[h,r*o-h*d,d]}function tg(e,t,n){if(e>2958465||e<0)return null;var r=0|e,s=Math.floor(86400*(e-r)),a=0,i=[],o={D:r,T:s,u:86400*(e-r)-s,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),t&&t.date1904&&(r+=1462),o.u>.9999&&(o.u=0,86400==++s&&(o.T=s=0,++r,++o.D)),60===r)i=n?[1317,10,29]:[1900,2,29],a=3;else if(0===r)i=n?[1317,8,29]:[1900,1,0],a=6;else{r>60&&--r;var l=new Date(1900,0,1);l.setDate(l.getDate()+r-1),i=[l.getFullYear(),l.getMonth()+1,l.getDate()],a=l.getDay(),r<60&&(a=(a+6)%7),n&&(a=function(e,t){t[0]-=581;var n=e.getDay();e<60&&(n=(n+6)%7);return n}(l,i))}return o.y=i[0],o.m=i[1],o.d=i[2],o.S=s%60,s=Math.floor(s/60),o.M=s%60,s=Math.floor(s/60),o.H=s,o.q=a,o}var ng=new Date(1899,11,31,0,0,0),rg=ng.getTime(),sg=new Date(1900,2,1,0,0,0);function ag(e,t){var n=e.getTime();return t?n-=1262304e5:e>=sg&&(n+=864e5),(n-(rg+6e4*(e.getTimezoneOffset()-ng.getTimezoneOffset())))/864e5}function ig(e){return-1==e.indexOf(".")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function og(e){var t,n=Math.floor(Math.log(Math.abs(e))*Math.LOG10E);return t=n>=-4&&n<=-1?e.toPrecision(10+n):Math.abs(n)<=9?function(e){var t=e<0?12:11,n=ig(e.toFixed(12));return n.length<=t||(n=e.toPrecision(10)).length<=t?n:e.toExponential(5)}(e):10===n?e.toFixed(10).substr(0,12):function(e){var t=ig(e.toFixed(11));return t.length>(e<0?12:11)||"0"===t||"-0"===t?e.toPrecision(6):t}(e),ig(function(e){return-1==e.indexOf("E")?e:e.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}(t.toUpperCase()))}function lg(e,t){switch(typeof e){case"string":return e;case"boolean":return e?"TRUE":"FALSE";case"number":return(0|e)===e?e.toString(10):og(e);case"undefined":return"";case"object":if(null==e)return"";if(e instanceof Date)return Bg(14,ag(e,t&&t.date1904),t)}throw new Error("unsupported value in General format: "+e)}function cg(e,t,n,r){var s,a="",i=0,o=0,l=n.y,c=0;switch(e){case 98:l=n.y+543;case 121:switch(t.length){case 1:case 2:s=l%100,c=2;break;default:s=l%1e4,c=4}break;case 109:switch(t.length){case 1:case 2:s=n.m,c=t.length;break;case 3:return Jp[n.m-1][1];case 5:return Jp[n.m-1][0];default:return Jp[n.m-1][2]}break;case 100:switch(t.length){case 1:case 2:s=n.d,c=t.length;break;case 3:return Yp[n.q][0];default:return Yp[n.q][1]}break;case 104:switch(t.length){case 1:case 2:s=1+(n.H+11)%12,c=t.length;break;default:throw"bad hour format: "+t}break;case 72:switch(t.length){case 1:case 2:s=n.H,c=t.length;break;default:throw"bad hour format: "+t}break;case 77:switch(t.length){case 1:case 2:s=n.M,c=t.length;break;default:throw"bad minute format: "+t}break;case 115:if("s"!=t&&"ss"!=t&&".0"!=t&&".00"!=t&&".000"!=t)throw"bad second format: "+t;return 0!==n.u||"s"!=t&&"ss"!=t?(o=r>=2?3===r?1e3:100:1===r?10:1,(i=Math.round(o*(n.S+n.u)))>=60*o&&(i=0),"s"===t?0===i?"0":""+i/o:(a=Hp(i,2+r),"ss"===t?a.substr(0,2):"."+a.substr(2,t.length-1))):Hp(n.S,t.length);case 90:switch(t){case"[h]":case"[hh]":s=24*n.D+n.H;break;case"[m]":case"[mm]":s=60*(24*n.D+n.H)+n.M;break;case"[s]":case"[ss]":s=60*(60*(24*n.D+n.H)+n.M)+Math.round(n.S+n.u);break;default:throw"bad abstime format: "+t}c=3===t.length?1:2;break;case 101:s=l,c=1}return c>0?Hp(s,c):""}function dg(e){if(e.length<=3)return e;for(var t=e.length%3,n=e.substr(0,t);t!=e.length;t+=3)n+=(n.length>0?",":"")+e.substr(t,3);return n}var ug=/%/g;function hg(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+hg(e,-t);var s=e.indexOf(".");-1===s&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),-1===(n=(t/Math.pow(10,a)).toPrecision(r+1+(s+a)%s)).indexOf("e")){var i=Math.floor(Math.log(t)*Math.LOG10E);for(-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+a):n+="E+"+(i-a);"0."===n.substr(0,2);)n=(n=n.charAt(0)+n.substr(2,s)+"."+n.substr(2+s)).replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(s+a)%s)+"."+r.substr(a)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}var Ag=/# (\?+)( ?)\/( ?)(\d+)/;var fg=/^#*0*\.([0#]+)/,mg=/\).*[0#]/,pg=/\(###\) ###\\?-####/;function gg(e){for(var t,n="",r=0;r!=e.length;++r)switch(t=e.charCodeAt(r)){case 35:break;case 63:n+=" ";break;case 48:n+="0";break;default:n+=String.fromCharCode(t)}return n}function xg(e,t){var n=Math.pow(10,t);return""+Math.round(e*n)/n}function bg(e,t){var n=e-Math.floor(e),r=Math.pow(10,t);return t<(""+Math.round(n*r)).length?0:Math.round(n*r)}function yg(e,t,n){if(40===e.charCodeAt(0)&&!t.match(mg)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?yg("n",r,n):"("+yg("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return jg(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(ug,""),s=t.length-r.length;return jg(e,r,n*Math.pow(10,2*s))+tx("%",s)}(e,t,n);if(-1!==t.indexOf("E"))return hg(t,n);if(36===t.charCodeAt(0))return"$"+yg(e,t.substr(" "==t.charAt(1)?2:1),n);var s,a,i,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+qp(l,t.length);if(t.match(/^[#?]+$/))return"0"===(s=qp(n,0))&&(s=""),s.length>t.length?s:gg(t.substr(0,t.length-s.length))+s;if(a=t.match(Ag))return function(e,t,n){var r=parseInt(e[4],10),s=Math.round(t*r),a=Math.floor(s/r),i=s-a*r,o=r;return n+(0===a?"":""+a)+" "+(0===i?tx(" ",e[1].length+1+e[4].length):Kp(i,e[1].length)+e[2]+"/"+e[3]+Hp(o,e[4].length))}(a,l,c);if(t.match(/^#+0+$/))return c+qp(l,t.length-t.indexOf("0"));if(a=t.match(fg))return s=xg(n,a[1].length).replace(/^([^\.]+)$/,"$1."+gg(a[1])).replace(/\.$/,"."+gg(a[1])).replace(/\.(\d*)$/,function(e,t){return"."+t+tx("0",gg(a[1]).length-t.length)}),-1!==t.indexOf("0.")?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+xg(l,a[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+dg(qp(l,0));if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+yg(e,t,-n):dg(""+(Math.floor(n)+function(e,t){return t<(""+Math.round((e-Math.floor(e))*Math.pow(10,t))).length?1:0}(n,a[1].length)))+"."+Hp(bg(n,a[1].length),a[1].length);if(a=t.match(/^#,#*,#0/))return yg(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=zp(yg(e,t.replace(/[\\-]/g,""),n)),i=0,zp(zp(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return i<s.length?s.charAt(i++):"0"===e?"0":""}));if(t.match(pg))return"("+(s=yg(e,"##########",n)).substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=eg(l,Math.pow(10,i)-1,!1),s=""+c," "==(d=jg("n",a[1],o[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],(d=Wp(o[2],i)).length<a[4].length&&(d=gg(a[4].substr(a[4].length-d.length))+d),s+=d;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),c+((o=eg(l,Math.pow(10,i)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?Kp(o[1],i)+a[2]+"/"+a[3]+Wp(o[2],i):tx(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=qp(n,0),t.length<=s.length?s:gg(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0?]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var u=t.indexOf(".")-i,h=t.length-s.length-u;return gg(t.substr(0,u)+s+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return i=bg(n,a[1].length),n<0?"-"+yg(e,t,-n):dg(function(e){return e<2147483647&&e>-2147483648?""+(e>=0?0|e:e-1|0):""+Math.floor(e)}(n)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?Hp(0,3-e.length):"")+e})+"."+Hp(i,a[1].length);switch(t){case"###,##0.00":return yg(e,"#,##0.00",n);case"###,###":case"##,###":case"#,###":var A=dg(qp(l,0));return"0"!==A?c+A:"";case"###,###.00":return yg(e,"###,##0.00",n).replace(/^0\./,".");case"#,###.00":return yg(e,"#,##0.00",n).replace(/^0\./,".")}throw new Error("unsupported format |"+t+"|")}function vg(e,t){var n,r=e.indexOf("E")-e.indexOf(".")-1;if(e.match(/^#+0.0E\+0$/)){if(0==t)return"0.0E+0";if(t<0)return"-"+vg(e,-t);var s=e.indexOf(".");-1===s&&(s=e.indexOf("E"));var a=Math.floor(Math.log(t)*Math.LOG10E)%s;if(a<0&&(a+=s),!(n=(t/Math.pow(10,a)).toPrecision(r+1+(s+a)%s)).match(/[Ee]/)){var i=Math.floor(Math.log(t)*Math.LOG10E);-1===n.indexOf(".")?n=n.charAt(0)+"."+n.substr(1)+"E+"+(i-n.length+a):n+="E+"+(i-a),n=n.replace(/\+-/,"-")}n=n.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(e,t,n,r){return t+n+r.substr(0,(s+a)%s)+"."+r.substr(a)+"E"})}else n=t.toExponential(r);return e.match(/E\+00$/)&&n.match(/e[+-]\d$/)&&(n=n.substr(0,n.length-1)+"0"+n.charAt(n.length-1)),e.match(/E\-/)&&n.match(/e\+/)&&(n=n.replace(/e\+/,"e")),n.replace("e","E")}function wg(e,t,n){if(40===e.charCodeAt(0)&&!t.match(mg)){var r=t.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return n>=0?wg("n",r,n):"("+wg("n",r,-n)+")"}if(44===t.charCodeAt(t.length-1))return function(e,t,n){for(var r=t.length-1;44===t.charCodeAt(r-1);)--r;return jg(e,t.substr(0,r),n/Math.pow(10,3*(t.length-r)))}(e,t,n);if(-1!==t.indexOf("%"))return function(e,t,n){var r=t.replace(ug,""),s=t.length-r.length;return jg(e,r,n*Math.pow(10,2*s))+tx("%",s)}(e,t,n);if(-1!==t.indexOf("E"))return vg(t,n);if(36===t.charCodeAt(0))return"$"+wg(e,t.substr(" "==t.charAt(1)?2:1),n);var s,a,i,o,l=Math.abs(n),c=n<0?"-":"";if(t.match(/^00+$/))return c+Hp(l,t.length);if(t.match(/^[#?]+$/))return s=""+n,0===n&&(s=""),s.length>t.length?s:gg(t.substr(0,t.length-s.length))+s;if(a=t.match(Ag))return function(e,t,n){return n+(0===t?"":""+t)+tx(" ",e[1].length+2+e[4].length)}(a,l,c);if(t.match(/^#+0+$/))return c+Hp(l,t.length-t.indexOf("0"));if(a=t.match(fg))return s=(s=(""+n).replace(/^([^\.]+)$/,"$1."+gg(a[1])).replace(/\.$/,"."+gg(a[1]))).replace(/\.(\d*)$/,function(e,t){return"."+t+tx("0",gg(a[1]).length-t.length)}),-1!==t.indexOf("0.")?s:s.replace(/^0\./,".");if(t=t.replace(/^#+([0.])/,"$1"),a=t.match(/^(0*)\.(#*)$/))return c+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,a[1].length?"0.":".");if(a=t.match(/^#{1,3},##0(\.?)$/))return c+dg(""+l);if(a=t.match(/^#,##0\.([#0]*0)$/))return n<0?"-"+wg(e,t,-n):dg(""+n)+"."+tx("0",a[1].length);if(a=t.match(/^#,#*,#0/))return wg(e,t.replace(/^#,#*,/,""),n);if(a=t.match(/^([0#]+)(\\?-([0#]+))+$/))return s=zp(wg(e,t.replace(/[\\-]/g,""),n)),i=0,zp(zp(t.replace(/\\/g,"")).replace(/[0#]/g,function(e){return i<s.length?s.charAt(i++):"0"===e?"0":""}));if(t.match(pg))return"("+(s=wg(e,"##########",n)).substr(0,3)+") "+s.substr(3,3)+"-"+s.substr(6);var d="";if(a=t.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(a[4].length,7),o=eg(l,Math.pow(10,i)-1,!1),s=""+c," "==(d=jg("n",a[1],o[1])).charAt(d.length-1)&&(d=d.substr(0,d.length-1)+"0"),s+=d+a[2]+"/"+a[3],(d=Wp(o[2],i)).length<a[4].length&&(d=gg(a[4].substr(a[4].length-d.length))+d),s+=d;if(a=t.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return i=Math.min(Math.max(a[1].length,a[4].length),7),c+((o=eg(l,Math.pow(10,i)-1,!0))[0]||(o[1]?"":"0"))+" "+(o[1]?Kp(o[1],i)+a[2]+"/"+a[3]+Wp(o[2],i):tx(" ",2*i+1+a[2].length+a[3].length));if(a=t.match(/^[#0?]+$/))return s=""+n,t.length<=s.length?s:gg(t.substr(0,t.length-s.length))+s;if(a=t.match(/^([#0]+)\.([#0]+)$/)){s=""+n.toFixed(Math.min(a[2].length,10)).replace(/([^0])0+$/,"$1"),i=s.indexOf(".");var u=t.indexOf(".")-i,h=t.length-s.length-u;return gg(t.substr(0,u)+s+t.substr(t.length-h))}if(a=t.match(/^00,000\.([#0]*0)$/))return n<0?"-"+wg(e,t,-n):dg(""+n).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(e){return"00,"+(e.length<3?Hp(0,3-e.length):"")+e})+"."+Hp(0,a[1].length);switch(t){case"###,###":case"##,###":case"#,###":var A=dg(""+l);return"0"!==A?c+A:"";default:if(t.match(/\.[0#?]*$/))return wg(e,t.slice(0,t.lastIndexOf(".")),n)+gg(t.slice(t.lastIndexOf(".")))}throw new Error("unsupported format |"+t+"|")}function jg(e,t,n){return(0|n)===n?wg(e,t,n):yg(e,t,n)}var Ng=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function _g(e){for(var t=0,n="",r="";t<e.length;)switch(n=e.charAt(t)){case"G":Gp(e,t)&&(t+=6),t++;break;case'"':for(;34!==e.charCodeAt(++t)&&t<e.length;);++t;break;case"\\":case"_":t+=2;break;case"@":++t;break;case"B":case"b":if("1"===e.charAt(t+1)||"2"===e.charAt(t+1))return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"\u4e0a":if("A/P"===e.substr(t,3).toUpperCase())return!0;if("AM/PM"===e.substr(t,5).toUpperCase())return!0;if("\u4e0a\u5348/\u4e0b\u5348"===e.substr(t,5).toUpperCase())return!0;++t;break;case"[":for(r=n;"]"!==e.charAt(t++)&&t<e.length;)r+=e.charAt(t);if(r.match(Ng))return!0;break;case".":case"0":case"#":for(;t<e.length&&("0#?.,E+-%".indexOf(n=e.charAt(++t))>-1||"\\"==n&&"-"==e.charAt(t+1)&&"0#".indexOf(e.charAt(t+2))>-1););break;case"?":for(;e.charAt(++t)===n;);break;case"*":++t," "!=e.charAt(t)&&"*"!=e.charAt(t)||++t;break;case"(":case")":++t;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;t<e.length&&"0123456789".indexOf(e.charAt(++t))>-1;);break;default:++t}return!1}var Cg=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function Sg(e,t){if(null==t)return!1;var n=parseFloat(t[2]);switch(t[1]){case"=":if(e==n)return!0;break;case">":if(e>n)return!0;break;case"<":if(e<n)return!0;break;case"<>":if(e!=n)return!0;break;case">=":if(e>=n)return!0;break;case"<=":if(e<=n)return!0}return!1}function kg(e,t){var n=function(e){for(var t=[],n=!1,r=0,s=0;r<e.length;++r)switch(e.charCodeAt(r)){case 34:n=!n;break;case 95:case 42:case 92:++r;break;case 59:t[t.length]=e.substr(s,r-s),s=r+1}if(t[t.length]=e.substr(s),!0===n)throw new Error("Format |"+e+"| unterminated string ");return t}(e),r=n.length,s=n[r-1].indexOf("@");if(r<4&&s>-1&&--r,n.length>4)throw new Error("cannot find right format for |"+n.join("|")+"|");if("number"!==typeof t)return[4,4===n.length||s>-1?n[n.length-1]:"@"];switch(n.length){case 1:n=s>-1?["General","General","General",n[0]]:[n[0],n[0],n[0],"@"];break;case 2:n=s>-1?[n[0],n[0],n[0],n[1]]:[n[0],n[1],n[0],"@"];break;case 3:n=s>-1?[n[0],n[1],n[0],n[2]]:[n[0],n[1],n[2],"@"]}var a=t>0?n[0]:t<0?n[1]:n[2];if(-1===n[0].indexOf("[")&&-1===n[1].indexOf("["))return[r,a];if(null!=n[0].match(/\[[=<>]/)||null!=n[1].match(/\[[=<>]/)){var i=n[0].match(Cg),o=n[1].match(Cg);return Sg(t,i)?[r,n[0]]:Sg(t,o)?[r,n[1]]:[r,n[null!=i&&null!=o?2:1]]}return[r,a]}function Bg(e,t,n){null==n&&(n={});var r="";switch(typeof e){case"string":r="m/d/yy"==e&&n.dateNF?n.dateNF:e;break;case"number":null==(r=14==e&&n.dateNF?n.dateNF:(null!=n.table?n.table:Xp)[e])&&(r=n.table&&n.table[Zp[e]]||Xp[Zp[e]]),null==r&&(r=$p[e]||"General")}if(Gp(r,0))return lg(t,n);t instanceof Date&&(t=ag(t,n.date1904));var s=kg(r,t);if(Gp(s[1]))return lg(t,n);if(!0===t)t="TRUE";else if(!1===t)t="FALSE";else if(""===t||null==t)return"";return function(e,t,n,r){for(var s,a,i,o=[],l="",c=0,d="",u="t",h="H";c<e.length;)switch(d=e.charAt(c)){case"G":if(!Gp(e,c))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"G",v:"General"},c+=7;break;case'"':for(l="";34!==(i=e.charCodeAt(++c))&&c<e.length;)l+=String.fromCharCode(i);o[o.length]={t:"t",v:l},++c;break;case"\\":var A=e.charAt(++c),f="("===A||")"===A?A:"t";o[o.length]={t:f,v:A},++c;break;case"_":o[o.length]={t:"t",v:" "},c+=2;break;case"@":o[o.length]={t:"T",v:t},++c;break;case"B":case"b":if("1"===e.charAt(c+1)||"2"===e.charAt(c+1)){if(null==s&&null==(s=tg(t,n,"2"===e.charAt(c+1))))return"";o[o.length]={t:"X",v:e.substr(c,2)},u=d,c+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":d=d.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(t<0)return"";if(null==s&&null==(s=tg(t,n)))return"";for(l=d;++c<e.length&&e.charAt(c).toLowerCase()===d;)l+=d;"m"===d&&"h"===u.toLowerCase()&&(d="M"),"h"===d&&(d=h),o[o.length]={t:d,v:l},u=d;break;case"A":case"a":case"\u4e0a":var m={t:d,v:d};if(null==s&&(s=tg(t,n)),"A/P"===e.substr(c,3).toUpperCase()?(null!=s&&(m.v=s.H>=12?"P":"A"),m.t="T",h="h",c+=3):"AM/PM"===e.substr(c,5).toUpperCase()?(null!=s&&(m.v=s.H>=12?"PM":"AM"),m.t="T",c+=5,h="h"):"\u4e0a\u5348/\u4e0b\u5348"===e.substr(c,5).toUpperCase()?(null!=s&&(m.v=s.H>=12?"\u4e0b\u5348":"\u4e0a\u5348"),m.t="T",c+=5,h="h"):(m.t="t",++c),null==s&&"T"===m.t)return"";o[o.length]=m,u=d;break;case"[":for(l=d;"]"!==e.charAt(c++)&&c<e.length;)l+=e.charAt(c);if("]"!==l.slice(-1))throw'unterminated "[" block: |'+l+"|";if(l.match(Ng)){if(null==s&&null==(s=tg(t,n)))return"";o[o.length]={t:"Z",v:l.toLowerCase()},u=l.charAt(1)}else l.indexOf("$")>-1&&(l=(l.match(/\$([^-\[\]]*)/)||[])[1]||"$",_g(e)||(o[o.length]={t:"t",v:l}));break;case".":if(null!=s){for(l=d;++c<e.length&&"0"===(d=e.charAt(c));)l+=d;o[o.length]={t:"s",v:l};break}case"0":case"#":for(l=d;++c<e.length&&"0#?.,E+-%".indexOf(d=e.charAt(c))>-1;)l+=d;o[o.length]={t:"n",v:l};break;case"?":for(l=d;e.charAt(++c)===d;)l+=d;o[o.length]={t:d,v:l},u=d;break;case"*":++c," "!=e.charAt(c)&&"*"!=e.charAt(c)||++c;break;case"(":case")":o[o.length]={t:1===r?"t":d,v:d},++c;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(l=d;c<e.length&&"0123456789".indexOf(e.charAt(++c))>-1;)l+=e.charAt(c);o[o.length]={t:"D",v:l};break;case" ":o[o.length]={t:d,v:d},++c;break;case"$":o[o.length]={t:"t",v:"$"},++c;break;default:if(-1===",$-+/():!^&'~{}<>=\u20acacfijklopqrtuvwxzP".indexOf(d))throw new Error("unrecognized character "+d+" in "+e);o[o.length]={t:"t",v:d},++c}var p,g=0,x=0;for(c=o.length-1,u="t";c>=0;--c)switch(o[c].t){case"h":case"H":o[c].t=h,u="h",g<1&&(g=1);break;case"s":(p=o[c].v.match(/\.0+$/))&&(x=Math.max(x,p[0].length-1)),g<3&&(g=3);case"d":case"y":case"M":case"e":u=o[c].t;break;case"m":"s"===u&&(o[c].t="M",g<2&&(g=2));break;case"X":break;case"Z":g<1&&o[c].v.match(/[Hh]/)&&(g=1),g<2&&o[c].v.match(/[Mm]/)&&(g=2),g<3&&o[c].v.match(/[Ss]/)&&(g=3)}switch(g){case 0:break;case 1:s.u>=.5&&(s.u=0,++s.S),s.S>=60&&(s.S=0,++s.M),s.M>=60&&(s.M=0,++s.H);break;case 2:s.u>=.5&&(s.u=0,++s.S),s.S>=60&&(s.S=0,++s.M)}var b,y="";for(c=0;c<o.length;++c)switch(o[c].t){case"t":case"T":case" ":case"D":break;case"X":o[c].v="",o[c].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":o[c].v=cg(o[c].t.charCodeAt(0),o[c].v,s,x),o[c].t="t";break;case"n":case"?":for(b=c+1;null!=o[b]&&("?"===(d=o[b].t)||"D"===d||(" "===d||"t"===d)&&null!=o[b+1]&&("?"===o[b+1].t||"t"===o[b+1].t&&"/"===o[b+1].v)||"("===o[c].t&&(" "===d||"n"===d||")"===d)||"t"===d&&("/"===o[b].v||" "===o[b].v&&null!=o[b+1]&&"?"==o[b+1].t));)o[c].v+=o[b].v,o[b]={v:"",t:";"},++b;y+=o[c].v,c=b-1;break;case"G":o[c].t="t",o[c].v=lg(t,n)}var v,w,j="";if(y.length>0){40==y.charCodeAt(0)?(v=t<0&&45===y.charCodeAt(0)?-t:t,w=jg("n",y,v)):(w=jg("n",y,v=t<0&&r>1?-t:t),v<0&&o[0]&&"t"==o[0].t&&(w=w.substr(1),o[0].v="-"+o[0].v)),b=w.length-1;var N=o.length;for(c=0;c<o.length;++c)if(null!=o[c]&&"t"!=o[c].t&&o[c].v.indexOf(".")>-1){N=c;break}var _=o.length;if(N===o.length&&-1===w.indexOf("E")){for(c=o.length-1;c>=0;--c)null!=o[c]&&-1!=="n?".indexOf(o[c].t)&&(b>=o[c].v.length-1?(b-=o[c].v.length,o[c].v=w.substr(b+1,o[c].v.length)):b<0?o[c].v="":(o[c].v=w.substr(0,b+1),b=-1),o[c].t="t",_=c);b>=0&&_<o.length&&(o[_].v=w.substr(0,b+1)+o[_].v)}else if(N!==o.length&&-1===w.indexOf("E")){for(b=w.indexOf(".")-1,c=N;c>=0;--c)if(null!=o[c]&&-1!=="n?".indexOf(o[c].t)){for(a=o[c].v.indexOf(".")>-1&&c===N?o[c].v.indexOf(".")-1:o[c].v.length-1,j=o[c].v.substr(a+1);a>=0;--a)b>=0&&("0"===o[c].v.charAt(a)||"#"===o[c].v.charAt(a))&&(j=w.charAt(b--)+j);o[c].v=j,o[c].t="t",_=c}for(b>=0&&_<o.length&&(o[_].v=w.substr(0,b+1)+o[_].v),b=w.indexOf(".")+1,c=N;c<o.length;++c)if(null!=o[c]&&(-1!=="n?(".indexOf(o[c].t)||c===N)){for(a=o[c].v.indexOf(".")>-1&&c===N?o[c].v.indexOf(".")+1:0,j=o[c].v.substr(0,a);a<o[c].v.length;++a)b<w.length&&(j+=w.charAt(b++));o[c].v=j,o[c].t="t",_=c}}}for(c=0;c<o.length;++c)null!=o[c]&&"n?".indexOf(o[c].t)>-1&&(v=r>1&&t<0&&c>0&&"-"===o[c-1].v?-t:t,o[c].v=jg(o[c].t,o[c].v,v),o[c].t="t");var C="";for(c=0;c!==o.length;++c)null!=o[c]&&(C+=o[c].v);return C}(s[1],t,n,s[0])}function Eg(e,t){if("number"!=typeof t){t=+t||-1;for(var n=0;n<392;++n)if(void 0!=Xp[n]){if(Xp[n]==e){t=n;break}}else t<0&&(t=n);t<0&&(t=391)}return Xp[t]=e,t}function Lg(e){for(var t=0;392!=t;++t)void 0!==e[t]&&Eg(e[t],t)}function Mg(){var e;e||(e={}),e[0]="General",e[1]="0",e[2]="0.00",e[3]="#,##0",e[4]="#,##0.00",e[9]="0%",e[10]="0.00%",e[11]="0.00E+00",e[12]="# ?/?",e[13]="# ??/??",e[14]="m/d/yy",e[15]="d-mmm-yy",e[16]="d-mmm",e[17]="mmm-yy",e[18]="h:mm AM/PM",e[19]="h:mm:ss AM/PM",e[20]="h:mm",e[21]="h:mm:ss",e[22]="m/d/yy h:mm",e[37]="#,##0 ;(#,##0)",e[38]="#,##0 ;[Red](#,##0)",e[39]="#,##0.00;(#,##0.00)",e[40]="#,##0.00;[Red](#,##0.00)",e[45]="mm:ss",e[46]="[h]:mm:ss",e[47]="mmss.0",e[48]="##0.0E+0",e[49]="@",e[56]='"\u4e0a\u5348/\u4e0b\u5348 "hh"\u6642"mm"\u5206"ss"\u79d2 "',Xp=e}var Fg=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;var Ig=function(){var e={};e.version="1.2.0";var t=function(){for(var e=0,t=new Array(256),n=0;256!=n;++n)e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=1&(e=n)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1)?-306674912^e>>>1:e>>>1,t[n]=e;return"undefined"!==typeof Int32Array?new Int32Array(t):t}();var n=function(e){var t=0,n=0,r=0,s="undefined"!==typeof Int32Array?new Int32Array(4096):new Array(4096);for(r=0;256!=r;++r)s[r]=e[r];for(r=0;256!=r;++r)for(n=e[r],t=256+r;t<4096;t+=256)n=s[t]=n>>>8^e[255&n];var a=[];for(r=1;16!=r;++r)a[r-1]="undefined"!==typeof Int32Array?s.subarray(256*r,256*r+256):s.slice(256*r,256*r+256);return a}(t),r=n[0],s=n[1],a=n[2],i=n[3],o=n[4],l=n[5],c=n[6],d=n[7],u=n[8],h=n[9],A=n[10],f=n[11],m=n[12],p=n[13],g=n[14];return e.table=t,e.bstr=function(e,n){for(var r=-1^n,s=0,a=e.length;s<a;)r=r>>>8^t[255&(r^e.charCodeAt(s++))];return~r},e.buf=function(e,n){for(var x=-1^n,b=e.length-15,y=0;y<b;)x=g[e[y++]^255&x]^p[e[y++]^x>>8&255]^m[e[y++]^x>>16&255]^f[e[y++]^x>>>24]^A[e[y++]]^h[e[y++]]^u[e[y++]]^d[e[y++]]^c[e[y++]]^l[e[y++]]^o[e[y++]]^i[e[y++]]^a[e[y++]]^s[e[y++]]^r[e[y++]]^t[e[y++]];for(b+=15;y<b;)x=x>>>8^t[255&(x^e[y++])];return~x},e.str=function(e,n){for(var r=-1^n,s=0,a=e.length,i=0,o=0;s<a;)(i=e.charCodeAt(s++))<128?r=r>>>8^t[255&(r^i)]:i<2048?r=(r=r>>>8^t[255&(r^(192|i>>6&31))])>>>8^t[255&(r^(128|63&i))]:i>=55296&&i<57344?(i=64+(1023&i),o=1023&e.charCodeAt(s++),r=(r=(r=(r=r>>>8^t[255&(r^(240|i>>8&7))])>>>8^t[255&(r^(128|i>>2&63))])>>>8^t[255&(r^(128|o>>6&15|(3&i)<<4))])>>>8^t[255&(r^(128|63&o))]):r=(r=(r=r>>>8^t[255&(r^(224|i>>12&15))])>>>8^t[255&(r^(128|i>>6&63))])>>>8^t[255&(r^(128|63&i))];return~r},e}(),Dg=function(){var e,t={};function n(e){if("/"==e.charAt(e.length-1))return-1===e.slice(0,-1).indexOf("/")?e:n(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(0,t+1)}function r(e){if("/"==e.charAt(e.length-1))return r(e.slice(0,-1));var t=e.lastIndexOf("/");return-1===t?e:e.slice(t+1)}function s(e,t){"string"===typeof t&&(t=new Date(t));var n=t.getHours();n=(n=n<<6|t.getMinutes())<<5|t.getSeconds()>>>1,e.write_shift(2,n);var r=t.getFullYear()-1980;r=(r=r<<4|t.getMonth()+1)<<5|t.getDate(),e.write_shift(2,r)}function a(e){Eb(e,0);for(var t={},n=0;e.l<=e.length-4;){var r=e.read_shift(2),s=e.read_shift(2),a=e.l+s,i={};if(21589===r)1&(n=e.read_shift(1))&&(i.mtime=e.read_shift(4)),s>5&&(2&n&&(i.atime=e.read_shift(4)),4&n&&(i.ctime=e.read_shift(4))),i.mtime&&(i.mt=new Date(1e3*i.mtime));e.l=a,t[r]=i}return t}function i(){return e||(e={})}function o(e,t){if(80==e[0]&&75==e[1])return re(e,t);if(109==(32|e[0])&&105==(32|e[1]))return function(e,t){if("mime-version:"!=w(e.slice(0,13)).toLowerCase())throw new Error("Unsupported MAD header");var n=t&&t.root||"",r=(Mp&&Buffer.isBuffer(e)?e.toString("binary"):w(e)).split("\r\n"),s=0,a="";for(s=0;s<r.length;++s)if(a=r[s],/^Content-Location:/i.test(a)&&(a=a.slice(a.indexOf("file")),n||(n=a.slice(0,a.lastIndexOf("/")+1)),a.slice(0,n.length)!=n))for(;n.length>0&&(n=(n=n.slice(0,n.length-1)).slice(0,n.lastIndexOf("/")+1),a.slice(0,n.length)!=n););var i=(r[1]||"").match(/boundary="(.*?)"/);if(!i)throw new Error("MAD cannot find boundary");var o="--"+(i[1]||""),l=[],c=[],d={FileIndex:l,FullPaths:c};h(d);var u,A=0;for(s=0;s<r.length;++s){var f=r[s];f!==o&&f!==o+"--"||(A++&&ce(d,r.slice(u,s),n),u=s)}return d}(e,t);if(e.length<512)throw new Error("CFB file size "+e.length+" < 512");var n,r,s,a,i,o,A=512,f=[],m=e.slice(0,512);Eb(m,0);var p=function(e){if(80==e[e.l]&&75==e[e.l+1])return[0,0];e.chk(x,"Header Signature: "),e.l+=16;var t=e.read_shift(2,"u");return[e.read_shift(2,"u"),t]}(m);switch(n=p[0]){case 3:A=512;break;case 4:A=4096;break;case 0:if(0==p[1])return re(e,t);default:throw new Error("Major Version: Expected 3 or 4 saw "+n)}512!==A&&Eb(m=e.slice(0,A),28);var b=e.slice(0,A);!function(e,t){var n=9;switch(e.l+=2,n=e.read_shift(2)){case 9:if(3!=t)throw new Error("Sector Shift: Expected 9 saw "+n);break;case 12:if(4!=t)throw new Error("Sector Shift: Expected 12 saw "+n);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+n)}e.chk("0600","Mini Sector Shift: "),e.chk("000000000000","Reserved: ")}(m,n);var y=m.read_shift(4,"i");if(3===n&&0!==y)throw new Error("# Directory Sectors: Expected 0 saw "+y);m.l+=4,a=m.read_shift(4,"i"),m.l+=4,m.chk("00100000","Mini Stream Cutoff Size: "),i=m.read_shift(4,"i"),r=m.read_shift(4,"i"),o=m.read_shift(4,"i"),s=m.read_shift(4,"i");for(var v=-1,j=0;j<109&&!((v=m.read_shift(4,"i"))<0);++j)f[j]=v;var N=function(e,t){for(var n=Math.ceil(e.length/t)-1,r=[],s=1;s<n;++s)r[s-1]=e.slice(s*t,(s+1)*t);return r[n-1]=e.slice(n*t),r}(e,A);c(o,s,N,A,f);var _=function(e,t,n,r){var s=e.length,a=[],i=[],o=[],l=[],c=r-1,d=0,u=0,h=0,A=0;for(d=0;d<s;++d)if(o=[],(h=d+t)>=s&&(h-=s),!i[h]){l=[];var f=[];for(u=h;u>=0;){f[u]=!0,i[u]=!0,o[o.length]=u,l.push(e[u]);var m=n[Math.floor(4*u/r)];if(r<4+(A=4*u&c))throw new Error("FAT boundary crossed: "+u+" 4 "+r);if(!e[m])break;if(f[u=wb(e[m],A)])break}a[h]={nodes:o,data:Xx([l])}}return a}(N,a,f,A);_[a].name="!Directory",r>0&&i!==g&&(_[i].name="!MiniFAT"),_[f[0]].name="!FAT",_.fat_addrs=f,_.ssz=A;var C=[],S=[],k=[];!function(e,t,n,r,s,a,i,o){for(var c,h=0,A=r.length?2:0,f=t[e].data,m=0,p=0;m<f.length;m+=128){var x=f.slice(m,m+128);Eb(x,64),p=x.read_shift(2),c=$x(x,0,p-A),r.push(c);var b={name:c,type:x.read_shift(1),color:x.read_shift(1),L:x.read_shift(4,"i"),R:x.read_shift(4,"i"),C:x.read_shift(4,"i"),clsid:x.read_shift(16),state:x.read_shift(4,"i"),start:0,size:0};0!==x.read_shift(2)+x.read_shift(2)+x.read_shift(2)+x.read_shift(2)&&(b.ct=u(x,x.l-8)),0!==x.read_shift(2)+x.read_shift(2)+x.read_shift(2)+x.read_shift(2)&&(b.mt=u(x,x.l-8)),b.start=x.read_shift(4,"i"),b.size=x.read_shift(4,"i"),b.size<0&&b.start<0&&(b.size=b.type=0,b.start=g,b.name=""),5===b.type?(h=b.start,s>0&&h!==g&&(t[h].name="!StreamData")):b.size>=4096?(b.storage="fat",void 0===t[b.start]&&(t[b.start]=d(n,b.start,t.fat_addrs,t.ssz)),t[b.start].name=b.name,b.content=t[b.start].data.slice(0,b.size)):(b.storage="minifat",b.size<0?b.size=0:h!==g&&b.start!==g&&t[h]&&(b.content=l(b,t[h].data,(t[o]||{}).data))),b.content&&Eb(b.content,0),a[c]=b,i.push(b)}}(a,_,N,C,r,{},S,i),function(e,t,n){for(var r=0,s=0,a=0,i=0,o=0,l=n.length,c=[],d=[];r<l;++r)c[r]=d[r]=r,t[r]=n[r];for(;o<d.length;++o)s=e[r=d[o]].L,a=e[r].R,i=e[r].C,c[r]===r&&(-1!==s&&c[s]!==s&&(c[r]=c[s]),-1!==a&&c[a]!==a&&(c[r]=c[a])),-1!==i&&(c[i]=r),-1!==s&&r!=c[r]&&(c[s]=c[r],d.lastIndexOf(s)<o&&d.push(s)),-1!==a&&r!=c[r]&&(c[a]=c[r],d.lastIndexOf(a)<o&&d.push(a));for(r=1;r<l;++r)c[r]===r&&(-1!==a&&c[a]!==a?c[r]=c[a]:-1!==s&&c[s]!==s&&(c[r]=c[s]));for(r=1;r<l;++r)if(0!==e[r].type){if((o=r)!=c[o])do{o=c[o],t[r]=t[o]+"/"+t[r]}while(0!==o&&-1!==c[o]&&o!=c[o]);c[r]=-1}for(t[0]+="/",r=1;r<l;++r)2!==e[r].type&&(t[r]+="/")}(S,k,C),C.shift();var B={FileIndex:S,FullPaths:k};return t&&t.raw&&(B.raw={header:b,sectors:N}),B}function l(e,t,n){for(var r=e.start,s=e.size,a=[],i=r;n&&s>0&&i>=0;)a.push(t.slice(i*p,i*p+p)),s-=p,i=wb(n,4*i);return 0===a.length?Mb(0):Up(a).slice(0,e.size)}function c(e,t,n,r,s){var a=g;if(e===g){if(0!==t)throw new Error("DIFAT chain shorter than expected")}else if(-1!==e){var i=n[e],o=(r>>>2)-1;if(!i)return;for(var l=0;l<o&&(a=wb(i,4*l))!==g;++l)s.push(a);c(wb(i,r-4),t-1,n,r,s)}}function d(e,t,n,r,s){var a=[],i=[];s||(s=[]);var o=r-1,l=0,c=0;for(l=t;l>=0;){s[l]=!0,a[a.length]=l,i.push(e[l]);var d=n[Math.floor(4*l/r)];if(r<4+(c=4*l&o))throw new Error("FAT boundary crossed: "+l+" 4 "+r);if(!e[d])break;l=wb(e[d],c)}return{nodes:a,data:Xx([i])}}function u(e,t){return new Date(1e3*(vb(e,t+4)/1e7*Math.pow(2,32)+vb(e,t)/1e7-11644473600))}function h(e,t){var n=t||{},r=n.root||"Root Entry";if(e.FullPaths||(e.FullPaths=[]),e.FileIndex||(e.FileIndex=[]),e.FullPaths.length!==e.FileIndex.length)throw new Error("inconsistent CFB structure");0===e.FullPaths.length&&(e.FullPaths[0]=r+"/",e.FileIndex[0]={name:r,type:5}),n.CLSID&&(e.FileIndex[0].clsid=n.CLSID),function(e){var t="\x01Sh33tJ5";if(Dg.find(e,"/"+t))return;var n=Mb(4);n[0]=55,n[1]=n[3]=50,n[2]=54,e.FileIndex.push({name:t,type:2,content:n,size:4,L:69,R:69,C:69}),e.FullPaths.push(e.FullPaths[0]+t),A(e)}(e)}function A(e,t){h(e);for(var s=!1,a=!1,i=e.FullPaths.length-1;i>=0;--i){var o=e.FileIndex[i];switch(o.type){case 0:a?s=!0:(e.FileIndex.pop(),e.FullPaths.pop());break;case 1:case 2:case 5:a=!0,isNaN(o.R*o.L*o.C)&&(s=!0),o.R>-1&&o.L>-1&&o.R==o.L&&(s=!0);break;default:s=!0}}if(s||t){var l=new Date(1987,1,19),c=0,d=Object.create?Object.create(null):{},u=[];for(i=0;i<e.FullPaths.length;++i)d[e.FullPaths[i]]=!0,0!==e.FileIndex[i].type&&u.push([e.FullPaths[i],e.FileIndex[i]]);for(i=0;i<u.length;++i){var A=n(u[i][0]);(a=d[A])||(u.push([A,{name:r(A).replace("/",""),type:1,clsid:y,ct:l,mt:l,content:null}]),d[A]=!0)}for(u.sort(function(e,t){return function(e,t){for(var n=e.split("/"),r=t.split("/"),s=0,a=0,i=Math.min(n.length,r.length);s<i;++s){if(a=n[s].length-r[s].length)return a;if(n[s]!=r[s])return n[s]<r[s]?-1:1}return n.length-r.length}(e[0],t[0])}),e.FullPaths=[],e.FileIndex=[],i=0;i<u.length;++i)e.FullPaths[i]=u[i][0],e.FileIndex[i]=u[i][1];for(i=0;i<u.length;++i){var f=e.FileIndex[i],m=e.FullPaths[i];if(f.name=r(m).replace("/",""),f.L=f.R=f.C=-(f.color=1),f.size=f.content?f.content.length:0,f.start=0,f.clsid=f.clsid||y,0===i)f.C=u.length>1?1:-1,f.size=0,f.type=5;else if("/"==m.slice(-1)){for(c=i+1;c<u.length&&n(e.FullPaths[c])!=m;++c);for(f.C=c>=u.length?-1:c,c=i+1;c<u.length&&n(e.FullPaths[c])!=n(m);++c);f.R=c>=u.length?-1:c,f.type=1}else n(e.FullPaths[i+1]||"")==n(m)&&(f.R=i+1),f.type=2}}}function f(e,t){var n=t||{};if("mad"==n.fileType)return function(e,t){for(var n=t||{},r=n.boundary||"SheetJS",s=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+(r="------="+r).slice(2)+'"',"","",""],a=e.FullPaths[0],i=a,o=e.FileIndex[0],l=1;l<e.FullPaths.length;++l)if(i=e.FullPaths[l].slice(a.length),(o=e.FileIndex[l]).size&&o.content&&"\x01Sh33tJ5"!=i){i=i.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(e){return"_x"+e.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(e){return"_u"+e.charCodeAt(0).toString(16)+"_"});for(var c=o.content,d=Mp&&Buffer.isBuffer(c)?c.toString("binary"):w(c),u=0,h=Math.min(1024,d.length),A=0,f=0;f<=h;++f)(A=d.charCodeAt(f))>=32&&A<128&&++u;var m=u>=4*h/5;s.push(r),s.push("Content-Location: "+(n.root||"file:///C:/SheetJS/")+i),s.push("Content-Transfer-Encoding: "+(m?"quoted-printable":"base64")),s.push("Content-Type: "+ie(o,i)),s.push(""),s.push(m?le(d):oe(d))}return s.push(r+"--\r\n"),s.join("\r\n")}(e,n);if(A(e),"zip"===n.fileType)return function(e,t){var n=t||{},r=[],a=[],i=Mb(1),o=n.compression?8:0,l=0;0;var c=0,d=0,u=0,h=0,A=e.FullPaths[0],f=A,m=e.FileIndex[0],p=[],g=0;for(c=1;c<e.FullPaths.length;++c)if(f=e.FullPaths[c].slice(A.length),(m=e.FileIndex[c]).size&&m.content&&"\x01Sh33tJ5"!=f){var x=u,b=Mb(f.length);for(d=0;d<f.length;++d)b.write_shift(1,127&f.charCodeAt(d));b=b.slice(0,b.l),p[h]=Ig.buf(m.content,0);var y=m.content;8==o&&(y=j(y)),(i=Mb(30)).write_shift(4,67324752),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,o),m.mt?s(i,m.mt):i.write_shift(4,0),i.write_shift(-4,8&l?0:p[h]),i.write_shift(4,8&l?0:y.length),i.write_shift(4,8&l?0:m.content.length),i.write_shift(2,b.length),i.write_shift(2,0),u+=i.length,r.push(i),u+=b.length,r.push(b),u+=y.length,r.push(y),8&l&&((i=Mb(12)).write_shift(-4,p[h]),i.write_shift(4,y.length),i.write_shift(4,m.content.length),u+=i.l,r.push(i)),(i=Mb(46)).write_shift(4,33639248),i.write_shift(2,0),i.write_shift(2,20),i.write_shift(2,l),i.write_shift(2,o),i.write_shift(4,0),i.write_shift(-4,p[h]),i.write_shift(4,y.length),i.write_shift(4,m.content.length),i.write_shift(2,b.length),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(4,0),i.write_shift(4,x),g+=i.l,a.push(i),g+=b.length,a.push(b),++h}return i=Mb(22),i.write_shift(4,101010256),i.write_shift(2,0),i.write_shift(2,0),i.write_shift(2,h),i.write_shift(2,h),i.write_shift(4,g),i.write_shift(4,u),i.write_shift(2,0),Up([Up(r),Up(a),i])}(e,n);var r=function(e){for(var t=0,n=0,r=0;r<e.FileIndex.length;++r){var s=e.FileIndex[r];if(s.content){var a=s.content.length;a>0&&(a<4096?t+=a+63>>6:n+=a+511>>9)}}for(var i=e.FullPaths.length+3>>2,o=t+127>>7,l=(t+7>>3)+n+i+o,c=l+127>>7,d=c<=109?0:Math.ceil((c-109)/127);l+c+d+127>>7>c;)d=++c<=109?0:Math.ceil((c-109)/127);var u=[1,d,c,o,i,n,t,0];return e.FileIndex[0].size=t<<6,u[7]=(e.FileIndex[0].start=u[0]+u[1]+u[2]+u[3]+u[4]+u[5])+(u[6]+7>>3),u}(e),a=Mb(r[7]<<9),i=0,o=0;for(i=0;i<8;++i)a.write_shift(1,b[i]);for(i=0;i<8;++i)a.write_shift(2,0);for(a.write_shift(2,62),a.write_shift(2,3),a.write_shift(2,65534),a.write_shift(2,9),a.write_shift(2,6),i=0;i<3;++i)a.write_shift(2,0);for(a.write_shift(4,0),a.write_shift(4,r[2]),a.write_shift(4,r[0]+r[1]+r[2]+r[3]-1),a.write_shift(4,0),a.write_shift(4,4096),a.write_shift(4,r[3]?r[0]+r[1]+r[2]-1:g),a.write_shift(4,r[3]),a.write_shift(-4,r[1]?r[0]-1:g),a.write_shift(4,r[1]),i=0;i<109;++i)a.write_shift(-4,i<r[2]?r[1]+i:-1);if(r[1])for(o=0;o<r[1];++o){for(;i<236+127*o;++i)a.write_shift(-4,i<r[2]?r[1]+i:-1);a.write_shift(-4,o===r[1]-1?g:o+1)}var l=function(e){for(o+=e;i<o-1;++i)a.write_shift(-4,i+1);e&&(++i,a.write_shift(-4,g))};for(o=i=0,o+=r[1];i<o;++i)a.write_shift(-4,v.DIFSECT);for(o+=r[2];i<o;++i)a.write_shift(-4,v.FATSECT);l(r[3]),l(r[4]);for(var c=0,d=0,u=e.FileIndex[0];c<e.FileIndex.length;++c)(u=e.FileIndex[c]).content&&((d=u.content.length)<4096||(u.start=o,l(d+511>>9)));for(l(r[6]+7>>3);511&a.l;)a.write_shift(-4,v.ENDOFCHAIN);for(o=i=0,c=0;c<e.FileIndex.length;++c)(u=e.FileIndex[c]).content&&(!(d=u.content.length)||d>=4096||(u.start=o,l(d+63>>6)));for(;511&a.l;)a.write_shift(-4,v.ENDOFCHAIN);for(i=0;i<r[4]<<2;++i){var h=e.FullPaths[i];if(h&&0!==h.length){u=e.FileIndex[i],0===i&&(u.start=u.size?u.start-1:g);var f=0===i&&n.root||u.name;if(d=2*(f.length+1),a.write_shift(64,f,"utf16le"),a.write_shift(2,d),a.write_shift(1,u.type),a.write_shift(1,u.color),a.write_shift(-4,u.L),a.write_shift(-4,u.R),a.write_shift(-4,u.C),u.clsid)a.write_shift(16,u.clsid,"hex");else for(c=0;c<4;++c)a.write_shift(4,0);a.write_shift(4,u.state||0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,0),a.write_shift(4,u.start),a.write_shift(4,u.size),a.write_shift(4,0)}else{for(c=0;c<17;++c)a.write_shift(4,0);for(c=0;c<3;++c)a.write_shift(4,-1);for(c=0;c<12;++c)a.write_shift(4,0)}}for(i=1;i<e.FileIndex.length;++i)if((u=e.FileIndex[i]).size>=4096)if(a.l=u.start+1<<9,Mp&&Buffer.isBuffer(u.content))u.content.copy(a,a.l,0,u.size),a.l+=u.size+511&-512;else{for(c=0;c<u.size;++c)a.write_shift(1,u.content[c]);for(;511&c;++c)a.write_shift(1,0)}for(i=1;i<e.FileIndex.length;++i)if((u=e.FileIndex[i]).size>0&&u.size<4096)if(Mp&&Buffer.isBuffer(u.content))u.content.copy(a,a.l,0,u.size),a.l+=u.size+63&-64;else{for(c=0;c<u.size;++c)a.write_shift(1,u.content[c]);for(;63&c;++c)a.write_shift(1,0)}if(Mp)a.l=a.length;else for(;a.l<a.length;)a.write_shift(1,0);return a}t.version="1.2.1";var m,p=64,g=-2,x="d0cf11e0a1b11ae1",b=[208,207,17,224,161,177,26,225],y="00000000000000000000000000000000",v={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:g,FREESECT:-1,HEADER_SIGNATURE:x,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:y,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function w(e){for(var t=new Array(e.length),n=0;n<e.length;++n)t[n]=String.fromCharCode(e[n]);return t.join("")}function j(e){return m?m.deflateRawSync(e):G(e)}var N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],C=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function S(e){var t=139536&(e<<1|e<<11)|558144&(e<<5|e<<15);return 255&(t>>16|t>>8|t)}for(var k="undefined"!==typeof Uint8Array,B=k?new Uint8Array(256):[],E=0;E<256;++E)B[E]=S(E);function L(e,t){var n=B[255&e];return t<=8?n>>>8-t:(n=n<<8|B[e>>8&255],t<=16?n>>>16-t:(n=n<<8|B[e>>16&255])>>>24-t)}function M(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=6?0:e[r+1]<<8))>>>n&3}function F(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=5?0:e[r+1]<<8))>>>n&7}function I(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=3?0:e[r+1]<<8))>>>n&31}function D(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=1?0:e[r+1]<<8))>>>n&127}function T(e,t,n){var r=7&t,s=t>>>3,a=(1<<n)-1,i=e[s]>>>r;return n<8-r?i&a:(i|=e[s+1]<<8-r,n<16-r?i&a:(i|=e[s+2]<<16-r,n<24-r?i&a:(i|=e[s+3]<<24-r)&a))}function O(e,t,n){var r=7&t,s=t>>>3;return r<=5?e[s]|=(7&n)<<r:(e[s]|=n<<r&255,e[s+1]=(7&n)>>8-r),t+3}function P(e,t,n){return n=(1&n)<<(7&t),e[t>>>3]|=n,t+1}function U(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=n,t+8}function R(e,t,n){var r=t>>>3;return n<<=7&t,e[r]|=255&n,n>>>=8,e[r+1]=255&n,e[r+2]=n>>>8,t+16}function Q(e,t){var n=e.length,r=2*n>t?2*n:t+5,s=0;if(n>=t)return e;if(Mp){var a=Dp(r);if(e.copy)e.copy(a);else for(;s<e.length;++s)a[s]=e[s];return a}if(k){var i=new Uint8Array(r);if(i.set)i.set(e);else for(;s<n;++s)i[s]=e[s];return i}return e.length=r,e}function z(e){for(var t=new Array(e),n=0;n<e;++n)t[n]=0;return t}function H(e,t,n){var r=1,s=0,a=0,i=0,o=0,l=e.length,c=k?new Uint16Array(32):z(32);for(a=0;a<32;++a)c[a]=0;for(a=l;a<n;++a)e[a]=0;l=e.length;var d=k?new Uint16Array(l):z(l);for(a=0;a<l;++a)c[s=e[a]]++,r<s&&(r=s),d[a]=0;for(c[0]=0,a=1;a<=r;++a)c[a+16]=o=o+c[a-1]<<1;for(a=0;a<l;++a)0!=(o=e[a])&&(d[a]=c[o+16]++);var u=0;for(a=0;a<l;++a)if(0!=(u=e[a]))for(o=L(d[a],r)>>r-u,i=(1<<r+4-u)-1;i>=0;--i)t[o|i<<u]=15&u|a<<4;return r}var K=k?new Uint16Array(512):z(512),W=k?new Uint16Array(32):z(32);if(!k){for(var V=0;V<512;++V)K[V]=0;for(V=0;V<32;++V)W[V]=0}!function(){for(var e=[],t=0;t<32;t++)e.push(5);H(e,W,32);var n=[];for(t=0;t<=143;t++)n.push(8);for(;t<=255;t++)n.push(9);for(;t<=279;t++)n.push(7);for(;t<=287;t++)n.push(8);H(n,K,288)}();var q=function(){for(var e=k?new Uint8Array(32768):[],t=0,n=0;t<C.length-1;++t)for(;n<C[t+1];++n)e[n]=t;for(;n<32768;++n)e[n]=29;var r=k?new Uint8Array(259):[];for(t=0,n=0;t<_.length-1;++t)for(;n<_[t+1];++n)r[n]=t;return function(t,n){return t.length<8?function(e,t){for(var n=0;n<e.length;){var r=Math.min(65535,e.length-n),s=n+r==e.length;for(t.write_shift(1,+s),t.write_shift(2,r),t.write_shift(2,65535&~r);r-- >0;)t[t.l++]=e[n++]}return t.l}(t,n):function(t,n){for(var s=0,a=0,i=k?new Uint16Array(32768):[];a<t.length;){var o=Math.min(65535,t.length-a);if(o<10){for(7&(s=O(n,s,+!(a+o!=t.length)))&&(s+=8-(7&s)),n.l=s/8|0,n.write_shift(2,o),n.write_shift(2,65535&~o);o-- >0;)n[n.l++]=t[a++];s=8*n.l}else{s=O(n,s,+!(a+o!=t.length)+2);for(var l=0;o-- >0;){var c=t[a],d=-1,u=0;if((d=i[l=32767&(l<<5^c)])&&((d|=-32768&a)>a&&(d-=32768),d<a))for(;t[d+u]==t[a+u]&&u<250;)++u;if(u>2){(c=r[u])<=22?s=U(n,s,B[c+1]>>1)-1:(U(n,s,3),U(n,s+=5,B[c-23]>>5),s+=3);var h=c<8?0:c-4>>2;h>0&&(R(n,s,u-_[c]),s+=h),c=e[a-d],s=U(n,s,B[c]>>3),s-=3;var A=c<4?0:c-2>>1;A>0&&(R(n,s,a-d-C[c]),s+=A);for(var f=0;f<u;++f)i[l]=32767&a,l=32767&(l<<5^t[a]),++a;o-=u-1}else c<=143?c+=48:s=P(n,s,1),s=U(n,s,B[c]),i[l]=32767&a,++a}s=U(n,s,0)-1}}return n.l=(s+7)/8|0,n.l}(t,n)}}();function G(e){var t=Mb(50+Math.floor(1.1*e.length)),n=q(e,t);return t.slice(0,n)}var Y=k?new Uint16Array(32768):z(32768),J=k?new Uint16Array(32768):z(32768),X=k?new Uint16Array(128):z(128),Z=1,$=1;function ee(e,t){var n=I(e,t)+257,r=I(e,t+=5)+1,s=function(e,t){var n=7&t,r=t>>>3;return(e[r]|(n<=4?0:e[r+1]<<8))>>>n&15}(e,t+=5)+4;t+=4;for(var a=0,i=k?new Uint8Array(19):z(19),o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],l=1,c=k?new Uint8Array(8):z(8),d=k?new Uint8Array(8):z(8),u=i.length,h=0;h<s;++h)i[N[h]]=a=F(e,t),l<a&&(l=a),c[a]++,t+=3;var A=0;for(c[0]=0,h=1;h<=l;++h)d[h]=A=A+c[h-1]<<1;for(h=0;h<u;++h)0!=(A=i[h])&&(o[h]=d[A]++);var f=0;for(h=0;h<u;++h)if(0!=(f=i[h])){A=B[o[h]]>>8-f;for(var m=(1<<7-f)-1;m>=0;--m)X[A|m<<f]=7&f|h<<3}var p=[];for(l=1;p.length<n+r;)switch(t+=7&(A=X[D(e,t)]),A>>>=3){case 16:for(a=3+M(e,t),t+=2,A=p[p.length-1];a-- >0;)p.push(A);break;case 17:for(a=3+F(e,t),t+=3;a-- >0;)p.push(0);break;case 18:for(a=11+D(e,t),t+=7;a-- >0;)p.push(0);break;default:p.push(A),l<A&&(l=A)}var g=p.slice(0,n),x=p.slice(n);for(h=n;h<286;++h)g[h]=0;for(h=r;h<30;++h)x[h]=0;return Z=H(g,Y,286),$=H(x,J,30),t}function te(e,t){var n=function(e,t){if(3==e[0]&&!(3&e[1]))return[Ip(t),2];for(var n=0,r=0,s=Dp(t||1<<18),a=0,i=s.length>>>0,o=0,l=0;0==(1&r);)if(r=F(e,n),n+=3,r>>>1!=0)for(r>>1==1?(o=9,l=5):(n=ee(e,n),o=Z,l=$);;){!t&&i<a+32767&&(i=(s=Q(s,a+32767)).length);var c=T(e,n,o),d=r>>>1==1?K[c]:Y[c];if(n+=15&d,0===((d>>>=4)>>>8&255))s[a++]=d;else{if(256==d)break;var u=(d-=257)<8?0:d-4>>2;u>5&&(u=0);var h=a+_[d];u>0&&(h+=T(e,n,u),n+=u),c=T(e,n,l),n+=15&(d=r>>>1==1?W[c]:J[c]);var A=(d>>>=4)<4?0:d-2>>1,f=C[d];for(A>0&&(f+=T(e,n,A),n+=A),!t&&i<h&&(i=(s=Q(s,h+100)).length);a<h;)s[a]=s[a-f],++a}}else{7&n&&(n+=8-(7&n));var m=e[n>>>3]|e[(n>>>3)+1]<<8;if(n+=32,m>0)for(!t&&i<a+m&&(i=(s=Q(s,a+m)).length);m-- >0;)s[a++]=e[n>>>3],n+=8}return t?[s,n+7>>>3]:[s.slice(0,a),n+7>>>3]}(e.slice(e.l||0),t);return e.l+=n[1],n[0]}function ne(e,t){if(!e)throw new Error(t);"undefined"!==typeof console&&console.error(t)}function re(e,t){var n=e;Eb(n,0);var r={FileIndex:[],FullPaths:[]};h(r,{root:t.root});for(var s=n.length-4;(80!=n[s]||75!=n[s+1]||5!=n[s+2]||6!=n[s+3])&&s>=0;)--s;n.l=s+4,n.l+=4;var i=n.read_shift(2);n.l+=6;var o=n.read_shift(4);for(n.l=o,s=0;s<i;++s){n.l+=20;var l=n.read_shift(4),c=n.read_shift(4),d=n.read_shift(2),u=n.read_shift(2),A=n.read_shift(2);n.l+=8;var f=n.read_shift(4),m=a(n.slice(n.l+d,n.l+d+u));n.l+=d+u+A;var p=n.l;n.l=f+4,se(n,l,c,r,m),n.l=p}return r}function se(e,t,n,r,s){e.l+=2;var i=e.read_shift(2),o=e.read_shift(2),l=function(e){var t=65535&e.read_shift(2),n=65535&e.read_shift(2),r=new Date,s=31&n,a=15&(n>>>=5);n>>>=4,r.setMilliseconds(0),r.setFullYear(n+1980),r.setMonth(a-1),r.setDate(s);var i=31&t,o=63&(t>>>=5);return t>>>=6,r.setHours(t),r.setMinutes(o),r.setSeconds(i<<1),r}(e);if(8257&i)throw new Error("Unsupported ZIP encryption");e.read_shift(4);for(var c=e.read_shift(4),d=e.read_shift(4),u=e.read_shift(2),h=e.read_shift(2),A="",f=0;f<u;++f)A+=String.fromCharCode(e[e.l++]);if(h){var p=a(e.slice(e.l,e.l+h));(p[21589]||{}).mt&&(l=p[21589].mt),((s||{})[21589]||{}).mt&&(l=s[21589].mt)}e.l+=h;var g=e.slice(e.l,e.l+c);switch(o){case 8:g=function(e,t){if(!m)return te(e,t);var n=new(0,m.InflateRaw),r=n._processChunk(e.slice(e.l),n._finishFlushFlag);return e.l+=n.bytesRead,r}(e,d);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+o)}var x=!1;8&i&&(134695760==e.read_shift(4)&&(e.read_shift(4),x=!0),c=e.read_shift(4),d=e.read_shift(4)),c!=t&&ne(x,"Bad compressed size: "+t+" != "+c),d!=n&&ne(x,"Bad uncompressed size: "+n+" != "+d),de(r,A,g,{unsafe:!0,mt:l})}var ae={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function ie(e,t){if(e.ctype)return e.ctype;var n=e.name||"",r=n.match(/\.([^\.]+)$/);return r&&ae[r[1]]||t&&(r=(n=t).match(/[\.\\]([^\.\\])+$/))&&ae[r[1]]?ae[r[1]]:"application/octet-stream"}function oe(e){for(var t=Ep(e),n=[],r=0;r<t.length;r+=76)n.push(t.slice(r,r+76));return n.join("\r\n")+"\r\n"}function le(e){var t=e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(e){var t=e.charCodeAt(0).toString(16).toUpperCase();return"="+(1==t.length?"0"+t:t)});"\n"==(t=t.replace(/ $/gm,"=20").replace(/\t$/gm,"=09")).charAt(0)&&(t="=0D"+t.slice(1));for(var n=[],r=(t=t.replace(/\r(?!\n)/gm,"=0D").replace(/\n\n/gm,"\n=0A").replace(/([^\r\n])\n/gm,"$1=0A")).split("\r\n"),s=0;s<r.length;++s){var a=r[s];if(0!=a.length)for(var i=0;i<a.length;){var o=76,l=a.slice(i,i+o);"="==l.charAt(o-1)?o--:"="==l.charAt(o-2)?o-=2:"="==l.charAt(o-3)&&(o-=3),l=a.slice(i,i+o),(i+=o)<a.length&&(l+="="),n.push(l)}else n.push("")}return n.join("\r\n")}function ce(e,t,n){for(var r,s="",a="",i="",o=0;o<10;++o){var l=t[o];if(!l||l.match(/^\s*$/))break;var c=l.match(/^(.*?):\s*([^\s].*)$/);if(c)switch(c[1].toLowerCase()){case"content-location":s=c[2].trim();break;case"content-type":i=c[2].trim();break;case"content-transfer-encoding":a=c[2].trim()}}switch(++o,a.toLowerCase()){case"base64":r=Tp(Lp(t.slice(o).join("")));break;case"quoted-printable":r=function(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n];n<=e.length&&"="==r.charAt(r.length-1);)r=r.slice(0,r.length-1)+e[++n];t.push(r)}for(var s=0;s<t.length;++s)t[s]=t[s].replace(/[=][0-9A-Fa-f]{2}/g,function(e){return String.fromCharCode(parseInt(e.slice(1),16))});return Tp(t.join("\r\n"))}(t.slice(o));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+a)}var d=de(e,s.slice(n.length),r,{unsafe:!0});i&&(d.ctype=i)}function de(e,t,n,s){var a=s&&s.unsafe;a||h(e);var i=!a&&Dg.find(e,t);if(!i){var o=e.FullPaths[0];t.slice(0,o.length)==o?o=t:("/"!=o.slice(-1)&&(o+="/"),o=(o+t).replace("//","/")),i={name:r(t),type:2},e.FileIndex.push(i),e.FullPaths.push(o),a||Dg.utils.cfb_gc(e)}return i.content=n,i.size=n?n.length:0,s&&(s.CLSID&&(i.clsid=s.CLSID),s.mt&&(i.mt=s.mt),s.ct&&(i.ct=s.ct)),i}return t.find=function(e,t){var n=e.FullPaths.map(function(e){return e.toUpperCase()}),r=n.map(function(e){var t=e.split("/");return t[t.length-("/"==e.slice(-1)?2:1)]}),s=!1;47===t.charCodeAt(0)?(s=!0,t=n[0].slice(0,-1)+t):s=-1!==t.indexOf("/");var a=t.toUpperCase(),i=!0===s?n.indexOf(a):r.indexOf(a);if(-1!==i)return e.FileIndex[i];var o=!a.match(Qp);for(a=a.replace(Rp,""),o&&(a=a.replace(Qp,"!")),i=0;i<n.length;++i){if((o?n[i].replace(Qp,"!"):n[i]).replace(Rp,"")==a)return e.FileIndex[i];if((o?r[i].replace(Qp,"!"):r[i]).replace(Rp,"")==a)return e.FileIndex[i]}return null},t.read=function(t,n){var r=n&&n.type;switch(r||Mp&&Buffer.isBuffer(t)&&(r="buffer"),r||"base64"){case"file":return function(t,n){return i(),o(e.readFileSync(t),n)}(t,n);case"base64":return o(Tp(Lp(t)),n);case"binary":return o(Tp(t),n)}return o(t,n)},t.parse=o,t.write=function(t,n){var r=f(t,n);switch(n&&n.type||"buffer"){case"file":return i(),e.writeFileSync(n.filename,r),r;case"binary":return"string"==typeof r?r:w(r);case"base64":return Ep("string"==typeof r?r:w(r));case"buffer":if(Mp)return Buffer.isBuffer(r)?r:Fp(r);case"array":return"string"==typeof r?Tp(r):r}return r},t.writeFile=function(t,n,r){i();var s=f(t,r);e.writeFileSync(n,s)},t.utils={cfb_new:function(e){var t={};return h(t,e),t},cfb_add:de,cfb_del:function(e,t){h(e);var n=Dg.find(e,t);if(n)for(var r=0;r<e.FileIndex.length;++r)if(e.FileIndex[r]==n)return e.FileIndex.splice(r,1),e.FullPaths.splice(r,1),!0;return!1},cfb_mov:function(e,t,n){h(e);var s=Dg.find(e,t);if(s)for(var a=0;a<e.FileIndex.length;++a)if(e.FileIndex[a]==s)return e.FileIndex[a].name=r(n),e.FullPaths[a]=n,!0;return!1},cfb_gc:function(e){A(e,!0)},ReadShift:Nb,CheckField:Bb,prep_blob:Eb,bconcat:Up,use_zlib:function(e){try{var t=new(0,e.InflateRaw);if(t._processChunk(new Uint8Array([3,0]),t._finishFlushFlag),!t.bytesRead)throw new Error("zlib does not expose bytesRead");m=e}catch(AB){console.error("cannot use native zlib: "+(AB.message||AB))}},_deflateRaw:G,_inflateRaw:te,consts:v},t}();let Tg;function Og(e){return"string"===typeof e?Op(e):Array.isArray(e)?function(e){if("undefined"===typeof Uint8Array)throw new Error("Unsupported");return new Uint8Array(e)}(e):e}function Pg(e,t,n){if("undefined"!==typeof Tg&&Tg.writeFileSync)return n?Tg.writeFileSync(e,t,n):Tg.writeFileSync(e,t);if("undefined"!==typeof Deno){if(n&&"string"==typeof t)switch(n){case"utf8":t=new TextEncoder(n).encode(t);break;case"binary":t=Op(t);break;default:throw new Error("Unsupported encoding "+n)}return Deno.writeFileSync(e,t)}var r="utf8"==n?wx(t):t;if("undefined"!==typeof IE_SaveFile)return IE_SaveFile(r,e);if("undefined"!==typeof Blob){var s=new Blob([Og(r)],{type:"application/octet-stream"});if("undefined"!==typeof navigator&&navigator.msSaveBlob)return navigator.msSaveBlob(s,e);if("undefined"!==typeof saveAs)return saveAs(s,e);if("undefined"!==typeof URL&&"undefined"!==typeof document&&document.createElement&&URL.createObjectURL){var a=URL.createObjectURL(s);if("object"===typeof chrome&&"function"==typeof(chrome.downloads||{}).download)return URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),chrome.downloads.download({url:a,filename:e,saveAs:!0});var i=document.createElement("a");if(null!=i.download)return i.download=e,i.href=a,document.body.appendChild(i),i.click(),document.body.removeChild(i),URL.revokeObjectURL&&"undefined"!==typeof setTimeout&&setTimeout(function(){URL.revokeObjectURL(a)},6e4),a}}if("undefined"!==typeof $&&"undefined"!==typeof File&&"undefined"!==typeof Folder)try{var o=File(e);return o.open("w"),o.encoding="binary",Array.isArray(t)&&(t=Pp(t)),o.write(t),o.close(),t}catch(AB){if(!AB.message||!AB.message.match(/onstruct/))throw AB}throw new Error("cannot save file "+e)}function Ug(e){for(var t=Object.keys(e),n=[],r=0;r<t.length;++r)Object.prototype.hasOwnProperty.call(e,t[r])&&n.push(t[r]);return n}function Rg(e,t){for(var n=[],r=Ug(e),s=0;s!==r.length;++s)null==n[e[r[s]][t]]&&(n[e[r[s]][t]]=r[s]);return n}function Qg(e){for(var t=[],n=Ug(e),r=0;r!==n.length;++r)t[e[n[r]]]=n[r];return t}function zg(e){for(var t=[],n=Ug(e),r=0;r!==n.length;++r)t[e[n[r]]]=parseInt(n[r],10);return t}var Hg=new Date(1899,11,30,0,0,0);function Kg(e,t){var n=e.getTime();return t&&(n-=1263168e5),(n-(Hg.getTime()+6e4*(e.getTimezoneOffset()-Hg.getTimezoneOffset())))/864e5}var Wg=new Date,Vg=Hg.getTime()+6e4*(Wg.getTimezoneOffset()-Hg.getTimezoneOffset()),qg=Wg.getTimezoneOffset();function Gg(e){var t=new Date;return t.setTime(24*e*60*60*1e3+Vg),t.getTimezoneOffset()!==qg&&t.setTime(t.getTime()+6e4*(t.getTimezoneOffset()-qg)),t}var Yg=new Date("2017-02-19T19:06:09.000Z"),Jg=isNaN(Yg.getFullYear())?new Date("2/19/17"):Yg,Xg=2017==Jg.getFullYear();function Zg(e,t){var n=new Date(e);if(Xg)return t>0?n.setTime(n.getTime()+60*n.getTimezoneOffset()*1e3):t<0&&n.setTime(n.getTime()-60*n.getTimezoneOffset()*1e3),n;if(e instanceof Date)return e;if(1917==Jg.getFullYear()&&!isNaN(n.getFullYear())){var r=n.getFullYear();return e.indexOf(""+r)>-1||n.setFullYear(n.getFullYear()+100),n}var s=e.match(/\d+/g)||["2017","2","19","0","0","0"],a=new Date(+s[0],+s[1]-1,+s[2],+s[3]||0,+s[4]||0,+s[5]||0);return e.indexOf("Z")>-1&&(a=new Date(a.getTime()-60*a.getTimezoneOffset()*1e3)),a}function $g(e,t){if(Mp&&Buffer.isBuffer(e)){if(t){if(255==e[0]&&254==e[1])return wx(e.slice(2).toString("utf16le"));if(254==e[1]&&255==e[2])return wx(_p(e.slice(2).toString("binary")))}return e.toString("binary")}if("undefined"!==typeof TextDecoder)try{if(t){if(255==e[0]&&254==e[1])return wx(new TextDecoder("utf-16le").decode(e.slice(2)));if(254==e[0]&&255==e[1])return wx(new TextDecoder("utf-16be").decode(e.slice(2)))}var n={"\u20ac":"\x80","\u201a":"\x82","\u0192":"\x83","\u201e":"\x84","\u2026":"\x85","\u2020":"\x86","\u2021":"\x87","\u02c6":"\x88","\u2030":"\x89","\u0160":"\x8a","\u2039":"\x8b","\u0152":"\x8c","\u017d":"\x8e","\u2018":"\x91","\u2019":"\x92","\u201c":"\x93","\u201d":"\x94","\u2022":"\x95","\u2013":"\x96","\u2014":"\x97","\u02dc":"\x98","\u2122":"\x99","\u0161":"\x9a","\u203a":"\x9b","\u0153":"\x9c","\u017e":"\x9e","\u0178":"\x9f"};return Array.isArray(e)&&(e=new Uint8Array(e)),new TextDecoder("latin1").decode(e).replace(/[\u20ac\u201a\u0192\u201e\u2026\u2020\u2021\u02c6\u2030\u0160\u2039\u0152\u017d\u2018\u2019\u201c\u201d\u2022\u2013\u2014\u02dc\u2122\u0161\u203a\u0153\u017e\u0178]/g,function(e){return n[e]||e})}catch(AB){}for(var r=[],s=0;s!=e.length;++s)r.push(String.fromCharCode(e[s]));return r.join("")}function ex(e){if("undefined"!=typeof JSON&&!Array.isArray(e))return JSON.parse(JSON.stringify(e));if("object"!=typeof e||null==e)return e;if(e instanceof Date)return new Date(e.getTime());var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=ex(e[n]));return t}function tx(e,t){for(var n="";n.length<t;)n+=e;return n}function nx(e){var t=Number(e);if(!isNaN(t))return isFinite(t)?t:NaN;if(!/\d/.test(e))return t;var n=1,r=e.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return n*=100,""});return isNaN(t=Number(r))?(r=r.replace(/[(](.*)[)]/,function(e,t){return n=-n,t}),isNaN(t=Number(r))?t:t/n):t/n}var rx=["january","february","march","april","may","june","july","august","september","october","november","december"];function sx(e){var t=new Date(e),n=new Date(NaN),r=t.getYear(),s=t.getMonth(),a=t.getDate();if(isNaN(a))return n;var i=e.toLowerCase();if(i.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if((i=i.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,"")).length>3&&-1==rx.indexOf(i))return n}else if(i.match(/[a-z]/))return n;return r<0||r>8099?n:(s>0||a>1)&&101!=r?t:e.match(/[^-0-9:,\/\\]/)?n:t}function ax(e,t,n){if(e.FullPaths){var r;if("string"==typeof n)return r=Mp?Fp(n):function(e){for(var t=[],n=0,r=e.length+250,s=Ip(e.length+255),a=0;a<e.length;++a){var i=e.charCodeAt(a);if(i<128)s[n++]=i;else if(i<2048)s[n++]=192|i>>6&31,s[n++]=128|63&i;else if(i>=55296&&i<57344){i=64+(1023&i);var o=1023&e.charCodeAt(++a);s[n++]=240|i>>8&7,s[n++]=128|i>>2&63,s[n++]=128|o>>6&15|(3&i)<<4,s[n++]=128|63&o}else s[n++]=224|i>>12&15,s[n++]=128|i>>6&63,s[n++]=128|63&i;n>r&&(t.push(s.slice(0,n)),n=0,s=Ip(65535),r=65530)}return t.push(s.slice(0,n)),Up(t)}(n),Dg.utils.cfb_add(e,t,r);Dg.utils.cfb_add(e,t,n)}else e.file(t,n)}function ix(){return Dg.utils.cfb_new()}var ox='<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r\n';var lx={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},cx=Qg(lx),dx=/[&<>'"]/g,ux=/[\u0000-\u0008\u000b-\u001f]/g;function hx(e){return(e+"").replace(dx,function(e){return cx[e]}).replace(ux,function(e){return"_x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+"_"})}function Ax(e){return hx(e).replace(/ /g,"_x0020_")}var fx=/[\u0000-\u001f]/g;function mx(e){return(e+"").replace(dx,function(e){return cx[e]}).replace(/\n/g,"<br/>").replace(fx,function(e){return"&#x"+("000"+e.charCodeAt(0).toString(16)).slice(-4)+";"})}function px(e){switch(e){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function gx(e){for(var t="",n=0,r=0,s=0,a=0,i=0,o=0;n<e.length;)(r=e.charCodeAt(n++))<128?t+=String.fromCharCode(r):(s=e.charCodeAt(n++),r>191&&r<224?(i=(31&r)<<6,i|=63&s,t+=String.fromCharCode(i)):(a=e.charCodeAt(n++),r<240?t+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a):(o=((7&r)<<18|(63&s)<<12|(63&a)<<6|63&(i=e.charCodeAt(n++)))-65536,t+=String.fromCharCode(55296+(o>>>10&1023)),t+=String.fromCharCode(56320+(1023&o)))));return t}function xx(e){var t,n,r,s=Ip(2*e.length),a=1,i=0,o=0;for(n=0;n<e.length;n+=a)a=1,(r=e.charCodeAt(n))<128?t=r:r<224?(t=64*(31&r)+(63&e.charCodeAt(n+1)),a=2):r<240?(t=4096*(15&r)+64*(63&e.charCodeAt(n+1))+(63&e.charCodeAt(n+2)),a=3):(a=4,t=262144*(7&r)+4096*(63&e.charCodeAt(n+1))+64*(63&e.charCodeAt(n+2))+(63&e.charCodeAt(n+3)),o=55296+((t-=65536)>>>10&1023),t=56320+(1023&t)),0!==o&&(s[i++]=255&o,s[i++]=o>>>8,o=0),s[i++]=t%256,s[i++]=t>>>8;return s.slice(0,i).toString("ucs2")}function bx(e){return Fp(e,"binary").toString("utf8")}var yx="foo bar baz\xe2\x98\x83\xf0\x9f\x8d\xa3",vx=Mp&&(bx(yx)==gx(yx)&&bx||xx(yx)==gx(yx)&&xx)||gx,wx=Mp?function(e){return Fp(e,"utf8").toString("binary")}:function(e){for(var t=[],n=0,r=0,s=0;n<e.length;)switch(r=e.charCodeAt(n++),!0){case r<128:t.push(String.fromCharCode(r));break;case r<2048:t.push(String.fromCharCode(192+(r>>6))),t.push(String.fromCharCode(128+(63&r)));break;case r>=55296&&r<57344:r-=55296,s=e.charCodeAt(n++)-56320+(r<<10),t.push(String.fromCharCode(240+(s>>18&7))),t.push(String.fromCharCode(144+(s>>12&63))),t.push(String.fromCharCode(128+(s>>6&63))),t.push(String.fromCharCode(128+(63&s)));break;default:t.push(String.fromCharCode(224+(r>>12))),t.push(String.fromCharCode(128+(r>>6&63))),t.push(String.fromCharCode(128+(63&r)))}return t.join("")},jx=function(){var e=[["nbsp"," "],["middot","\xb7"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(t){for(var n=t.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,"\n").replace(/<[^>]*>/g,""),r=0;r<e.length;++r)n=n.replace(e[r][0],e[r][1]);return n}}();var Nx=/(^\s|\s$|\n)/;function _x(e,t){return"<"+e+(t.match(Nx)?' xml:space="preserve"':"")+">"+t+"</"+e+">"}function Cx(e){return Ug(e).map(function(t){return" "+t+'="'+e[t]+'"'}).join("")}function Sx(e,t,n){return"<"+e+(null!=n?Cx(n):"")+(null!=t?(t.match(Nx)?' xml:space="preserve"':"")+">"+t+"</"+e:"/")+">"}function kx(e,t){try{return e.toISOString().replace(/\.\d*/,"")}catch(AB){if(t)throw AB}return""}var Bx="http://schemas.openxmlformats.org/package/2006/metadata/core-properties",Ex="http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",Lx="http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",Mx="http://schemas.openxmlformats.org/package/2006/content-types",Fx="http://schemas.openxmlformats.org/package/2006/relationships",Ix="http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",Dx="http://purl.org/dc/elements/1.1/",Tx="http://purl.org/dc/terms/",Ox="http://purl.org/dc/dcmitype/",Px="http://schemas.openxmlformats.org/officeDocument/2006/relationships",Ux="http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",Rx="http://www.w3.org/2001/XMLSchema-instance",Qx="http://www.w3.org/2001/XMLSchema",zx=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Hx="urn:schemas-microsoft-com:office:office",Kx="urn:schemas-microsoft-com:office:excel",Wx="urn:schemas-microsoft-com:office:spreadsheet",Vx="uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",qx="http://macVmlSchemaUri",Gx="urn:schemas-microsoft-com:vml",Yx="http://www.w3.org/TR/REC-html40";var Jx=function(e){for(var t=[],n=0;n<e[0].length;++n)if(e[0][n])for(var r=0,s=e[0][n].length;r<s;r+=10240)t.push.apply(t,e[0][n].slice(r,r+10240));return t},Xx=Mp?function(e){return e[0].length>0&&Buffer.isBuffer(e[0][0])?Buffer.concat(e[0].map(function(e){return Buffer.isBuffer(e)?e:Fp(e)})):Jx(e)}:Jx,Zx=function(e,t,n){for(var r=[],s=t;s<n;s+=2)r.push(String.fromCharCode(bb(e,s)));return r.join("").replace(Rp,"")},$x=Mp?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf16le",t,n).replace(Rp,""):Zx(e,t,n)}:Zx,eb=function(e,t,n){for(var r=[],s=t;s<t+n;++s)r.push(("0"+e[s].toString(16)).slice(-2));return r.join("")},tb=Mp?function(e,t,n){return Buffer.isBuffer(e)?e.toString("hex",t,t+n):eb(e,t,n)}:eb,nb=function(e,t,n){for(var r=[],s=t;s<n;s++)r.push(String.fromCharCode(xb(e,s)));return r.join("")},rb=Mp?function(e,t,n){return Buffer.isBuffer(e)?e.toString("utf8",t,n):nb(e,t,n)}:nb,sb=function(e,t){var n=vb(e,t);return n>0?rb(e,t+4,t+4+n-1):""},ab=sb,ib=function(e,t){var n=vb(e,t);return n>0?rb(e,t+4,t+4+n-1):""},ob=ib,lb=function(e,t){var n=2*vb(e,t);return n>0?rb(e,t+4,t+4+n-1):""},cb=lb,db=function(e,t){var n=vb(e,t);return n>0?$x(e,t+4,t+4+n):""},ub=db,hb=function(e,t){var n=vb(e,t);return n>0?rb(e,t+4,t+4+n):""},Ab=hb,fb=function(e,t){return function(e,t){for(var n=1-2*(e[t+7]>>>7),r=((127&e[t+7])<<4)+(e[t+6]>>>4&15),s=15&e[t+6],a=5;a>=0;--a)s=256*s+e[t+a];return 2047==r?0==s?n*(1/0):NaN:(0==r?r=-1022:(r-=1023,s+=Math.pow(2,52)),n*Math.pow(2,r-52)*s)}(e,t)},mb=fb,pb=function(e){return Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array};function gb(){$x=function(e,t,n){return Cp.utils.decode(1200,e.slice(t,n)).replace(Rp,"")},rb=function(e,t,n){return Cp.utils.decode(65001,e.slice(t,n))},ab=function(e,t){var n=vb(e,t);return n>0?Cp.utils.decode(bp,e.slice(t+4,t+4+n-1)):""},ob=function(e,t){var n=vb(e,t);return n>0?Cp.utils.decode(xp,e.slice(t+4,t+4+n-1)):""},cb=function(e,t){var n=2*vb(e,t);return n>0?Cp.utils.decode(1200,e.slice(t+4,t+4+n-1)):""},ub=function(e,t){var n=vb(e,t);return n>0?Cp.utils.decode(1200,e.slice(t+4,t+4+n)):""},Ab=function(e,t){var n=vb(e,t);return n>0?Cp.utils.decode(65001,e.slice(t+4,t+4+n)):""}}Mp&&(ab=function(e,t){if(!Buffer.isBuffer(e))return sb(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},ob=function(e,t){if(!Buffer.isBuffer(e))return ib(e,t);var n=e.readUInt32LE(t);return n>0?e.toString("utf8",t+4,t+4+n-1):""},cb=function(e,t){if(!Buffer.isBuffer(e))return lb(e,t);var n=2*e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n-1)},ub=function(e,t){if(!Buffer.isBuffer(e))return db(e,t);var n=e.readUInt32LE(t);return e.toString("utf16le",t+4,t+4+n)},Ab=function(e,t){if(!Buffer.isBuffer(e))return hb(e,t);var n=e.readUInt32LE(t);return e.toString("utf8",t+4,t+4+n)},mb=function(e,t){return Buffer.isBuffer(e)?e.readDoubleLE(t):fb(e,t)},pb=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||"undefined"!==typeof Uint8Array&&e instanceof Uint8Array}),"undefined"!==typeof Cp&&gb();var xb=function(e,t){return e[t]},bb=function(e,t){return 256*e[t+1]+e[t]},yb=function(e,t){var n=256*e[t+1]+e[t];return n<32768?n:-1*(65535-n+1)},vb=function(e,t){return e[t+3]*(1<<24)+(e[t+2]<<16)+(e[t+1]<<8)+e[t]},wb=function(e,t){return e[t+3]<<24|e[t+2]<<16|e[t+1]<<8|e[t]},jb=function(e,t){return e[t]<<24|e[t+1]<<16|e[t+2]<<8|e[t+3]};function Nb(e,t){var n,r,s,a,i,o,l="",c=[];switch(t){case"dbcs":if(o=this.l,Mp&&Buffer.isBuffer(this))l=this.slice(this.l,this.l+2*e).toString("utf16le");else for(i=0;i<e;++i)l+=String.fromCharCode(bb(this,o)),o+=2;e*=2;break;case"utf8":l=rb(this,this.l,this.l+e);break;case"utf16le":e*=2,l=$x(this,this.l,this.l+e);break;case"wstr":if("undefined"===typeof Cp)return Nb.call(this,e,"dbcs");l=Cp.utils.decode(xp,this.slice(this.l,this.l+2*e)),e*=2;break;case"lpstr-ansi":l=ab(this,this.l),e=4+vb(this,this.l);break;case"lpstr-cp":l=ob(this,this.l),e=4+vb(this,this.l);break;case"lpwstr":l=cb(this,this.l),e=4+2*vb(this,this.l);break;case"lpp4":e=4+vb(this,this.l),l=ub(this,this.l),2&e&&(e+=2);break;case"8lpp4":e=4+vb(this,this.l),l=Ab(this,this.l),3&e&&(e+=4-(3&e));break;case"cstr":for(e=0,l="";0!==(s=xb(this,this.l+e++));)c.push(Sp(s));l=c.join("");break;case"_wstr":for(e=0,l="";0!==(s=bb(this,this.l+e));)c.push(Sp(s)),e+=2;e+=2,l=c.join("");break;case"dbcs-cont":for(l="",o=this.l,i=0;i<e;++i){if(this.lens&&-1!==this.lens.indexOf(o))return s=xb(this,o),this.l=o+1,a=Nb.call(this,e-i,s?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(Sp(bb(this,o))),o+=2}l=c.join(""),e*=2;break;case"cpstr":if("undefined"!==typeof Cp){l=Cp.utils.decode(xp,this.slice(this.l,this.l+e));break}case"sbcs-cont":for(l="",o=this.l,i=0;i!=e;++i){if(this.lens&&-1!==this.lens.indexOf(o))return s=xb(this,o),this.l=o+1,a=Nb.call(this,e-i,s?"dbcs-cont":"sbcs-cont"),c.join("")+a;c.push(Sp(xb(this,o))),o+=1}l=c.join("");break;default:switch(e){case 1:return n=xb(this,this.l),this.l++,n;case 2:return n=("i"===t?yb:bb)(this,this.l),this.l+=2,n;case 4:case-4:return"i"===t||0===(128&this[this.l+3])?(n=(e>0?wb:jb)(this,this.l),this.l+=4,n):(r=vb(this,this.l),this.l+=4,r);case 8:case-8:if("f"===t)return r=8==e?mb(this,this.l):mb([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,r;e=8;case 16:l=tb(this,this.l,e)}}return this.l+=e,l}var _b=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255,e[n+2]=t>>>16&255,e[n+3]=t>>>24&255},Cb=function(e,t,n){e[n]=255&t,e[n+1]=t>>8&255,e[n+2]=t>>16&255,e[n+3]=t>>24&255},Sb=function(e,t,n){e[n]=255&t,e[n+1]=t>>>8&255};function kb(e,t,n){var r=0,s=0;if("dbcs"===n){for(s=0;s!=t.length;++s)Sb(this,t.charCodeAt(s),this.l+2*s);r=2*t.length}else if("sbcs"===n){if("undefined"!==typeof Cp&&874==bp)for(s=0;s!=t.length;++s){var a=Cp.utils.encode(bp,t.charAt(s));this[this.l+s]=a[0]}else for(t=t.replace(/[^\x00-\x7F]/g,"_"),s=0;s!=t.length;++s)this[this.l+s]=255&t.charCodeAt(s);r=t.length}else{if("hex"===n){for(;s<e;++s)this[this.l++]=parseInt(t.slice(2*s,2*s+2),16)||0;return this}if("utf16le"===n){var i=Math.min(this.l+e,this.length);for(s=0;s<Math.min(t.length,e);++s){var o=t.charCodeAt(s);this[this.l++]=255&o,this[this.l++]=o>>8}for(;this.l<i;)this[this.l++]=0;return this}switch(e){case 1:r=1,this[this.l]=255&t;break;case 2:r=2,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t;break;case 3:r=3,this[this.l]=255&t,t>>>=8,this[this.l+1]=255&t,t>>>=8,this[this.l+2]=255&t;break;case 4:r=4,_b(this,t,this.l);break;case 8:if(r=8,"f"===n){!function(e,t,n){var r=(t<0||1/t==-1/0?1:0)<<7,s=0,a=0,i=r?-t:t;isFinite(i)?0==i?s=a=0:(s=Math.floor(Math.log(i)/Math.LN2),a=i*Math.pow(2,52-s),s<=-1023&&(!isFinite(a)||a<Math.pow(2,52))?s=-1022:(a-=Math.pow(2,52),s+=1023)):(s=2047,a=isNaN(t)?26985:0);for(var o=0;o<=5;++o,a/=256)e[n+o]=255&a;e[n+6]=(15&s)<<4|15&a,e[n+7]=s>>4|r}(this,t,this.l);break}case 16:break;case-4:r=4,Cb(this,t,this.l)}}return this.l+=r,this}function Bb(e,t){var n=tb(this,this.l,e.length>>1);if(n!==e)throw new Error(t+"Expected "+e+" saw "+n);this.l+=e.length>>1}function Eb(e,t){e.l=t,e.read_shift=Nb,e.chk=Bb,e.write_shift=kb}function Lb(e,t){e.l+=t}function Mb(e){var t=Ip(e);return Eb(t,0),t}function Fb(){var e=[],t=Mp?256:2048,n=function(e){var t=Mb(e);return Eb(t,0),t},r=n(t),s=function(){r&&(r.length>r.l&&((r=r.slice(0,r.l)).l=r.length),r.length>0&&e.push(r),r=null)},a=function(e){return r&&e<r.length-r.l?r:(s(),r=n(Math.max(e+1,t)))};return{next:a,push:function(e){s(),null==(r=e).l&&(r.l=r.length),a(t)},end:function(){return s(),Up(e)},_bufs:e}}function Ib(e,t,n,r){var s,a=+t;if(!isNaN(a)){r||(r=Yj[a].p||(n||[]).length||0),s=1+(a>=128?1:0)+1,r>=128&&++s,r>=16384&&++s,r>=2097152&&++s;var i=e.next(s);a<=127?i.write_shift(1,a):(i.write_shift(1,128+(127&a)),i.write_shift(1,a>>7));for(var o=0;4!=o;++o){if(!(r>=128)){i.write_shift(1,r);break}i.write_shift(1,128+(127&r)),r>>=7}r>0&&pb(n)&&e.push(n)}}function Db(e,t,n){var r=ex(e);if(t.s?(r.cRel&&(r.c+=t.s.c),r.rRel&&(r.r+=t.s.r)):(r.cRel&&(r.c+=t.c),r.rRel&&(r.r+=t.r)),!n||n.biff<12){for(;r.c>=256;)r.c-=256;for(;r.r>=65536;)r.r-=65536}return r}function Tb(e,t,n){var r=ex(e);return r.s=Db(r.s,t.s,n),r.e=Db(r.e,t.s,n),r}function Ob(e,t){if(e.cRel&&e.c<0)for(e=ex(e);e.c<0;)e.c+=t>8?16384:256;if(e.rRel&&e.r<0)for(e=ex(e);e.r<0;)e.r+=t>8?1048576:t>5?65536:16384;var n=Kb(e);return e.cRel||null==e.cRel||(n=n.replace(/^([A-Z])/,"$$$1")),e.rRel||null==e.rRel||(n=function(e){return e.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}(n)),n}function Pb(e,t){return 0!=e.s.r||e.s.rRel||e.e.r!=(t.biff>=12?1048575:t.biff>=8?65536:16384)||e.e.rRel?0!=e.s.c||e.s.cRel||e.e.c!=(t.biff>=12?16383:255)||e.e.cRel?Ob(e.s,t.biff)+":"+Ob(e.e,t.biff):(e.s.rRel?"":"$")+Rb(e.s.r)+":"+(e.e.rRel?"":"$")+Rb(e.e.r):(e.s.cRel?"":"$")+zb(e.s.c)+":"+(e.e.cRel?"":"$")+zb(e.e.c)}function Ub(e){return parseInt(e.replace(/\$(\d+)$/,"$1"),10)-1}function Rb(e){return""+(e+1)}function Qb(e){for(var t=e.replace(/^\$([A-Z])/,"$1"),n=0,r=0;r!==t.length;++r)n=26*n+t.charCodeAt(r)-64;return n-1}function zb(e){if(e<0)throw new Error("invalid column "+e);var t="";for(++e;e;e=Math.floor((e-1)/26))t=String.fromCharCode((e-1)%26+65)+t;return t}function Hb(e){for(var t=0,n=0,r=0;r<e.length;++r){var s=e.charCodeAt(r);s>=48&&s<=57?t=10*t+(s-48):s>=65&&s<=90&&(n=26*n+(s-64))}return{c:n-1,r:t-1}}function Kb(e){for(var t=e.c+1,n="";t;t=(t-1)/26|0)n=String.fromCharCode((t-1)%26+65)+n;return n+(e.r+1)}function Wb(e){var t=e.indexOf(":");return-1==t?{s:Hb(e),e:Hb(e)}:{s:Hb(e.slice(0,t)),e:Hb(e.slice(t+1))}}function Vb(e,t){return"undefined"===typeof t||"number"===typeof t?Vb(e.s,e.e):("string"!==typeof e&&(e=Kb(e)),"string"!==typeof t&&(t=Kb(t)),e==t?e:e+":"+t)}function qb(e){var t={s:{c:0,r:0},e:{c:0,r:0}},n=0,r=0,s=0,a=e.length;for(n=0;r<a&&!((s=e.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(t.s.c=--n,n=0;r<a&&!((s=e.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;if(t.s.r=--n,r===a||10!=s)return t.e.c=t.s.c,t.e.r=t.s.r,t;for(++r,n=0;r!=a&&!((s=e.charCodeAt(r)-64)<1||s>26);++r)n=26*n+s;for(t.e.c=--n,n=0;r!=a&&!((s=e.charCodeAt(r)-48)<0||s>9);++r)n=10*n+s;return t.e.r=--n,t}function Gb(e,t){var n="d"==e.t&&t instanceof Date;if(null!=e.z)try{return e.w=Bg(e.z,n?Kg(t):t)}catch(AB){}try{return e.w=Bg((e.XF||{}).numFmtId||(n?14:0),n?Kg(t):t)}catch(AB){return""+t}}function Yb(e,t,n){return null==e||null==e.t||"z"==e.t?"":void 0!==e.w?e.w:("d"==e.t&&!e.z&&n&&n.dateNF&&(e.z=n.dateNF),"e"==e.t?Ey[e.v]||e.v:Gb(e,void 0==t?e.v:t))}function Jb(e,t){var n=t&&t.sheet?t.sheet:"Sheet1",r={};return r[n]=e,{SheetNames:[n],Sheets:r}}function Xb(e,t,n){var r=n||{},s=e?Array.isArray(e):r.dense;var a=e||(s?[]:{}),i=0,o=0;if(a&&null!=r.origin){if("number"==typeof r.origin)i=r.origin;else{var l="string"==typeof r.origin?Hb(r.origin):r.origin;i=l.r,o=l.c}a["!ref"]||(a["!ref"]="A1:A1")}var c={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(a["!ref"]){var d=qb(a["!ref"]);c.s.c=d.s.c,c.s.r=d.s.r,c.e.c=Math.max(c.e.c,d.e.c),c.e.r=Math.max(c.e.r,d.e.r),-1==i&&(c.e.r=i=d.e.r+1)}for(var u=0;u!=t.length;++u)if(t[u]){if(!Array.isArray(t[u]))throw new Error("aoa_to_sheet expects an array of arrays");for(var h=0;h!=t[u].length;++h)if("undefined"!==typeof t[u][h]){var A={v:t[u][h]},f=i+u,m=o+h;if(c.s.r>f&&(c.s.r=f),c.s.c>m&&(c.s.c=m),c.e.r<f&&(c.e.r=f),c.e.c<m&&(c.e.c=m),!t[u][h]||"object"!==typeof t[u][h]||Array.isArray(t[u][h])||t[u][h]instanceof Date)if(Array.isArray(A.v)&&(A.f=t[u][h][1],A.v=A.v[0]),null===A.v)if(A.f)A.t="n";else if(r.nullError)A.t="e",A.v=0;else{if(!r.sheetStubs)continue;A.t="z"}else"number"===typeof A.v?A.t="n":"boolean"===typeof A.v?A.t="b":A.v instanceof Date?(A.z=r.dateNF||Xp[14],r.cellDates?(A.t="d",A.w=Bg(A.z,Kg(A.v))):(A.t="n",A.v=Kg(A.v),A.w=Bg(A.z,A.v))):A.t="s";else A=t[u][h];if(s)a[f]||(a[f]=[]),a[f][m]&&a[f][m].z&&(A.z=a[f][m].z),a[f][m]=A;else{var p=Kb({c:m,r:f});a[p]&&a[p].z&&(A.z=a[p].z),a[p]=A}}}return c.s.c<1e7&&(a["!ref"]=Vb(c)),a}function Zb(e,t){return Xb(null,e,t)}function $b(e,t){return t||(t=Mb(4)),t.write_shift(4,e),t}function ey(e){var t=e.read_shift(4);return 0===t?"":e.read_shift(t,"dbcs")}function ty(e,t){var n=!1;return null==t&&(n=!0,t=Mb(4+2*e.length)),t.write_shift(4,e.length),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}function ny(e){return{ich:e.read_shift(2),ifnt:e.read_shift(2)}}function ry(e,t){var n=e.l,r=e.read_shift(1),s=ey(e),a=[],i={t:s,h:s};if(0!==(1&r)){for(var o=e.read_shift(4),l=0;l!=o;++l)a.push(ny(e));i.r=a}else i.r=[{ich:0,ifnt:0}];return e.l=n+t,i}var sy=ry;function ay(e,t){var n=!1;return null==t&&(n=!0,t=Mb(23+4*e.t.length)),t.write_shift(1,1),ty(e.t,t),t.write_shift(4,1),function(e,t){t||(t=Mb(4)),t.write_shift(2,e.ich||0),t.write_shift(2,e.ifnt||0)}({ich:0,ifnt:0},t),n?t.slice(0,t.l):t}function iy(e){var t=e.read_shift(4),n=e.read_shift(2);return n+=e.read_shift(1)<<16,e.l++,{c:t,iStyleRef:n}}function oy(e,t){return null==t&&(t=Mb(8)),t.write_shift(-4,e.c),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}function ly(e){var t=e.read_shift(2);return t+=e.read_shift(1)<<16,e.l++,{c:-1,iStyleRef:t}}function cy(e,t){return null==t&&(t=Mb(4)),t.write_shift(3,e.iStyleRef||e.s),t.write_shift(1,0),t}var dy=ey,uy=ty;function hy(e){var t=e.read_shift(4);return 0===t||4294967295===t?"":e.read_shift(t,"dbcs")}function Ay(e,t){var n=!1;return null==t&&(n=!0,t=Mb(127)),t.write_shift(4,e.length>0?e.length:4294967295),e.length>0&&t.write_shift(0,e,"dbcs"),n?t.slice(0,t.l):t}var fy=ey,my=hy,py=Ay;function gy(e){var t=e.slice(e.l,e.l+4),n=1&t[0],r=2&t[0];e.l+=4;var s=0===r?mb([0,0,0,0,252&t[0],t[1],t[2],t[3]],0):wb(t,0)>>2;return n?s/100:s}function xy(e,t){null==t&&(t=Mb(4));var n=0,r=0,s=100*e;if(e==(0|e)&&e>=-(1<<29)&&e<1<<29?r=1:s==(0|s)&&s>=-(1<<29)&&s<1<<29&&(r=1,n=1),!r)throw new Error("unsupported RkNumber "+e);t.write_shift(-4,((n?s:e)<<2)+(n+2))}function by(e){var t={s:{},e:{}};return t.s.r=e.read_shift(4),t.e.r=e.read_shift(4),t.s.c=e.read_shift(4),t.e.c=e.read_shift(4),t}var yy=by,vy=function(e,t){return t||(t=Mb(16)),t.write_shift(4,e.s.r),t.write_shift(4,e.e.r),t.write_shift(4,e.s.c),t.write_shift(4,e.e.c),t};function wy(e){if(e.length-e.l<8)throw"XLS Xnum Buffer underflow";return e.read_shift(8,"f")}function jy(e,t){return(t||Mb(8)).write_shift(8,e,"f")}function Ny(e,t){if(t||(t=Mb(8)),!e||e.auto)return t.write_shift(4,0),t.write_shift(4,0),t;null!=e.index?(t.write_shift(1,2),t.write_shift(1,e.index)):null!=e.theme?(t.write_shift(1,6),t.write_shift(1,e.theme)):(t.write_shift(1,5),t.write_shift(1,0));var n=e.tint||0;if(n>0?n*=32767:n<0&&(n*=32768),t.write_shift(2,n),e.rgb&&null==e.theme){var r=e.rgb||"FFFFFF";"number"==typeof r&&(r=("000000"+r.toString(16)).slice(-6)),t.write_shift(1,parseInt(r.slice(0,2),16)),t.write_shift(1,parseInt(r.slice(2,4),16)),t.write_shift(1,parseInt(r.slice(4,6),16)),t.write_shift(1,255)}else t.write_shift(2,0),t.write_shift(1,0),t.write_shift(1,0);return t}var _y=80,Cy={1:{n:"CodePage",t:2},2:{n:"Category",t:_y},3:{n:"PresentationFormat",t:_y},4:{n:"ByteCount",t:3},5:{n:"LineCount",t:3},6:{n:"ParagraphCount",t:3},7:{n:"SlideCount",t:3},8:{n:"NoteCount",t:3},9:{n:"HiddenCount",t:3},10:{n:"MultimediaClipCount",t:3},11:{n:"ScaleCrop",t:11},12:{n:"HeadingPairs",t:4108},13:{n:"TitlesOfParts",t:4126},14:{n:"Manager",t:_y},15:{n:"Company",t:_y},16:{n:"LinksUpToDate",t:11},17:{n:"CharacterCount",t:3},19:{n:"SharedDoc",t:11},22:{n:"HyperlinksChanged",t:11},23:{n:"AppVersion",t:3,p:"version"},24:{n:"DigSig",t:65},26:{n:"ContentType",t:_y},27:{n:"ContentStatus",t:_y},28:{n:"Language",t:_y},29:{n:"Version",t:_y},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}},Sy={1:{n:"CodePage",t:2},2:{n:"Title",t:_y},3:{n:"Subject",t:_y},4:{n:"Author",t:_y},5:{n:"Keywords",t:_y},6:{n:"Comments",t:_y},7:{n:"Template",t:_y},8:{n:"LastAuthor",t:_y},9:{n:"RevNumber",t:_y},10:{n:"EditTime",t:64},11:{n:"LastPrinted",t:64},12:{n:"CreatedDate",t:64},13:{n:"ModifiedDate",t:64},14:{n:"PageCount",t:3},15:{n:"WordCount",t:3},16:{n:"CharCount",t:3},17:{n:"Thumbnail",t:71},18:{n:"Application",t:_y},19:{n:"DocSecurity",t:3},255:{},2147483648:{n:"Locale",t:19},2147483651:{n:"Behavior",t:19},1919054434:{}};function ky(e){return e.map(function(e){return[e>>16&255,e>>8&255,255&e]})}var By=ex(ky([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0])),Ey={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Ly={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},My={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function Fy(e,t){var n,r=function(e){for(var t=[],n=Ug(e),r=0;r!==n.length;++r)null==t[e[n[r]]]&&(t[e[n[r]]]=[]),t[e[n[r]]].push(n[r]);return t}(Ly),s=[];s[s.length]=ox,s[s.length]=Sx("Types",null,{xmlns:Mx,"xmlns:xsd":Qx,"xmlns:xsi":Rx}),s=s.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(e){return Sx("Default",null,{Extension:e[0],ContentType:e[1]})}));var a=function(r){e[r]&&e[r].length>0&&(n=e[r][0],s[s.length]=Sx("Override",null,{PartName:("/"==n[0]?"":"/")+n,ContentType:My[r][t.bookType]||My[r].xlsx}))},i=function(n){(e[n]||[]).forEach(function(e){s[s.length]=Sx("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:My[n][t.bookType]||My[n].xlsx})})},o=function(t){(e[t]||[]).forEach(function(e){s[s.length]=Sx("Override",null,{PartName:("/"==e[0]?"":"/")+e,ContentType:r[t][0]})})};return a("workbooks"),i("sheets"),i("charts"),o("themes"),["strs","styles"].forEach(a),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),i("metadata"),o("people"),s.length>2&&(s[s.length]="</Types>",s[1]=s[1].replace("/>",">")),s.join("")}var Iy={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Dy(e){var t=e.lastIndexOf("/");return e.slice(0,t+1)+"_rels/"+e.slice(t+1)+".rels"}function Ty(e){var t=[ox,Sx("Relationships",null,{xmlns:Fx})];return Ug(e["!id"]).forEach(function(n){t[t.length]=Sx("Relationship",null,e["!id"][n])}),t.length>2&&(t[t.length]="</Relationships>",t[1]=t[1].replace("/>",">")),t.join("")}function Oy(e,t,n,r,s,a){if(s||(s={}),e["!id"]||(e["!id"]={}),e["!idx"]||(e["!idx"]=1),t<0)for(t=e["!idx"];e["!id"]["rId"+t];++t);if(e["!idx"]=t+1,s.Id="rId"+t,s.Type=r,s.Target=n,a?s.TargetMode=a:[Iy.HLINK,Iy.XPATH,Iy.XMISS].indexOf(s.Type)>-1&&(s.TargetMode="External"),e["!id"][s.Id])throw new Error("Cannot rewrite rId "+t);return e["!id"][s.Id]=s,e[("/"+s.Target).replace("//","/")]=s,t}function Py(e,t,n){return['  <rdf:Description rdf:about="'+e+'">\n','    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(n||"odf")+"#"+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Uy(e,t){return['  <rdf:Description rdf:about="'+e+'">\n','    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+t+'"/>\n',"  </rdf:Description>\n"].join("")}function Ry(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+gp.version+"</meta:generator></office:meta></office:document-meta>"}var Qy=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function zy(e,t,n,r,s){null==s[e]&&null!=t&&""!==t&&(s[e]=t,t=hx(t),r[r.length]=n?Sx(e,t,n):_x(e,t))}function Hy(e,t){var n=t||{},r=[ox,Sx("cp:coreProperties",null,{"xmlns:cp":Bx,"xmlns:dc":Dx,"xmlns:dcterms":Tx,"xmlns:dcmitype":Ox,"xmlns:xsi":Rx})],s={};if(!e&&!n.Props)return r.join("");e&&(null!=e.CreatedDate&&zy("dcterms:created","string"===typeof e.CreatedDate?e.CreatedDate:kx(e.CreatedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s),null!=e.ModifiedDate&&zy("dcterms:modified","string"===typeof e.ModifiedDate?e.ModifiedDate:kx(e.ModifiedDate,n.WTF),{"xsi:type":"dcterms:W3CDTF"},r,s));for(var a=0;a!=Qy.length;++a){var i=Qy[a],o=n.Props&&null!=n.Props[i[1]]?n.Props[i[1]]:e?e[i[1]]:null;!0===o?o="1":!1===o?o="0":"number"==typeof o&&(o=String(o)),null!=o&&zy(i[0],o,null,r,s)}return r.length>2&&(r[r.length]="</cp:coreProperties>",r[1]=r[1].replace("/>",">")),r.join("")}var Ky=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Wy=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Vy(e){var t=[],n=Sx;return e||(e={}),e.Application="SheetJS",t[t.length]=ox,t[t.length]=Sx("Properties",null,{xmlns:Lx,"xmlns:vt":Ux}),Ky.forEach(function(r){if(void 0!==e[r[1]]){var s;switch(r[2]){case"string":s=hx(String(e[r[1]]));break;case"bool":s=e[r[1]]?"true":"false"}void 0!==s&&(t[t.length]=n(r[0],s))}}),t[t.length]=n("HeadingPairs",n("vt:vector",n("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+n("vt:variant",n("vt:i4",String(e.Worksheets))),{size:2,baseType:"variant"})),t[t.length]=n("TitlesOfParts",n("vt:vector",e.SheetNames.map(function(e){return"<vt:lpstr>"+hx(e)+"</vt:lpstr>"}).join(""),{size:e.Worksheets,baseType:"lpstr"})),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}function qy(e){var t=[ox,Sx("Properties",null,{xmlns:Ex,"xmlns:vt":Ux})];if(!e)return t.join("");var n=1;return Ug(e).forEach(function(r){++n,t[t.length]=Sx("property",function(e,t){switch(typeof e){case"string":var n=Sx("vt:lpwstr",hx(e));return t&&(n=n.replace(/&quot;/g,"_x0022_")),n;case"number":return Sx((0|e)==e?"vt:i4":"vt:r8",hx(String(e)));case"boolean":return Sx("vt:bool",e?"true":"false")}if(e instanceof Date)return Sx("vt:filetime",kx(e));throw new Error("Unable to serialize "+e)}(e[r],!0),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:n,name:hx(r)})}),t.length>2&&(t[t.length]="</Properties>",t[1]=t[1].replace("/>",">")),t.join("")}var Gy={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function Yy(e,t){var n=Mb(4),r=Mb(4);switch(n.write_shift(4,80==e?31:e),e){case 3:r.write_shift(-4,t);break;case 5:(r=Mb(8)).write_shift(8,t,"f");break;case 11:r.write_shift(4,t?1:0);break;case 64:r=function(e){var t=("string"==typeof e?new Date(Date.parse(e)):e).getTime()/1e3+11644473600,n=t%Math.pow(2,32),r=(t-n)/Math.pow(2,32);r*=1e7;var s=(n*=1e7)/Math.pow(2,32)|0;s>0&&(n%=Math.pow(2,32),r+=s);var a=Mb(8);return a.write_shift(4,n),a.write_shift(4,r),a}(t);break;case 31:case 80:for((r=Mb(4+2*(t.length+1)+(t.length%2?0:2))).write_shift(4,t.length+1),r.write_shift(0,t,"dbcs");r.l!=r.length;)r.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+t)}return Up([n,r])}var Jy=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Xy(e){switch(typeof e){case"boolean":return 11;case"number":return(0|e)==e?3:5;case"string":return 31;case"object":if(e instanceof Date)return 64}return-1}function Zy(e,t,n){var r=Mb(8),s=[],a=[],i=8,o=0,l=Mb(8),c=Mb(8);if(l.write_shift(4,2),l.write_shift(4,1200),c.write_shift(4,1),a.push(l),s.push(c),i+=8+l.length,!t){(c=Mb(8)).write_shift(4,0),s.unshift(c);var d=[Mb(4)];for(d[0].write_shift(4,e.length),o=0;o<e.length;++o){var u=e[o][0];for((l=Mb(8+2*(u.length+1)+(u.length%2?0:2))).write_shift(4,o+2),l.write_shift(4,u.length+1),l.write_shift(0,u,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Up(d),a.unshift(l),i+=8+l.length}for(o=0;o<e.length;++o)if((!t||t[e[o][0]])&&!(Jy.indexOf(e[o][0])>-1||Wy.indexOf(e[o][0])>-1)&&null!=e[o][1]){var h=e[o][1],A=0;if(t){var f=n[A=+t[e[o][0]]];if("version"==f.p&&"string"==typeof h){var m=h.split(".");h=(+m[0]<<16)+(+m[1]||0)}l=Yy(f.t,h)}else{var p=Xy(h);-1==p&&(p=31,h=String(h)),l=Yy(p,h)}a.push(l),(c=Mb(8)).write_shift(4,t?A:2+o),s.push(c),i+=8+l.length}var g=8*(a.length+1);for(o=0;o<a.length;++o)s[o].write_shift(4,g),g+=a[o].length;return r.write_shift(4,i),r.write_shift(4,a.length),Up([r].concat(s).concat(a))}function $y(e,t,n,r,s,a){var i=Mb(s?68:48),o=[i];i.write_shift(2,65534),i.write_shift(2,0),i.write_shift(4,842412599),i.write_shift(16,Dg.utils.consts.HEADER_CLSID,"hex"),i.write_shift(4,s?2:1),i.write_shift(16,t,"hex"),i.write_shift(4,s?68:48);var l=Zy(e,n,r);if(o.push(l),s){var c=Zy(s,null,null);i.write_shift(16,a,"hex"),i.write_shift(4,68+l.length),o.push(c)}return Up(o)}function ev(e,t){return 1===e.read_shift(t)}function tv(e,t){return t||(t=Mb(2)),t.write_shift(2,+!!e),t}function nv(e){return e.read_shift(2,"u")}function rv(e,t){return t||(t=Mb(2)),t.write_shift(2,e),t}function sv(e,t,n){return n||(n=Mb(2)),n.write_shift(1,"e"==t?+e:+!!e),n.write_shift(1,"e"==t?1:0),n}function av(e,t,n){var r=e.read_shift(n&&n.biff>=12?2:1),s="sbcs-cont",a=xp;(n&&n.biff>=8&&(xp=1200),n&&8!=n.biff)?12==n.biff&&(s="wstr"):e.read_shift(1)&&(s="dbcs-cont");n.biff>=2&&n.biff<=5&&(s="cpstr");var i=r?e.read_shift(r,s):"";return xp=a,i}function iv(e){var t=e.t||"",n=Mb(3);n.write_shift(2,t.length),n.write_shift(1,1);var r=Mb(2*t.length);return r.write_shift(2*t.length,t,"utf16le"),Up([n,r])}function ov(e,t,n){if(n){if(n.biff>=2&&n.biff<=5)return e.read_shift(t,"cpstr");if(n.biff>=12)return e.read_shift(t,"dbcs-cont")}return 0===e.read_shift(1)?e.read_shift(t,"sbcs-cont"):e.read_shift(t,"dbcs-cont")}function lv(e,t,n){var r=e.read_shift(n&&2==n.biff?1:2);return 0===r?(e.l++,""):ov(e,r,n)}function cv(e,t,n){if(n.biff>5)return lv(e,0,n);var r=e.read_shift(1);return 0===r?(e.l++,""):e.read_shift(r,n.biff<=4||!e.lens?"cpstr":"sbcs-cont")}function dv(e,t,n){return n||(n=Mb(3+2*e.length)),n.write_shift(2,e.length),n.write_shift(1,1),n.write_shift(31,e,"utf16le"),n}function uv(e,t){t||(t=Mb(6+2*e.length)),t.write_shift(4,1+e.length);for(var n=0;n<e.length;++n)t.write_shift(2,e.charCodeAt(n));return t.write_shift(2,0),t}function hv(e){var t=Mb(512),n=0,r=e.Target;"file://"==r.slice(0,7)&&(r=r.slice(7));var s=r.indexOf("#"),a=s>-1?31:23;switch(r.charAt(0)){case"#":a=28;break;case".":a&=-3}t.write_shift(4,2),t.write_shift(4,a);var i=[8,6815827,6619237,4849780,83];for(n=0;n<i.length;++n)t.write_shift(4,i[n]);if(28==a)uv(r=r.slice(1),t);else if(2&a){for(i="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),n=0;n<i.length;++n)t.write_shift(1,parseInt(i[n],16));var o=s>-1?r.slice(0,s):r;for(t.write_shift(4,2*(o.length+1)),n=0;n<o.length;++n)t.write_shift(2,o.charCodeAt(n));t.write_shift(2,0),8&a&&uv(s>-1?r.slice(s+1):"",t)}else{for(i="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),n=0;n<i.length;++n)t.write_shift(1,parseInt(i[n],16));for(var l=0;"../"==r.slice(3*l,3*l+3)||"..\\"==r.slice(3*l,3*l+3);)++l;for(t.write_shift(2,l),t.write_shift(4,r.length-3*l+1),n=0;n<r.length-3*l;++n)t.write_shift(1,255&r.charCodeAt(n+3*l));for(t.write_shift(1,0),t.write_shift(2,65535),t.write_shift(2,57005),n=0;n<6;++n)t.write_shift(4,0)}return t.slice(0,t.l)}function Av(e,t,n,r){return r||(r=Mb(6)),r.write_shift(2,e),r.write_shift(2,t),r.write_shift(2,n||0),r}function fv(e,t,n){var r=n.biff>8?4:2;return[e.read_shift(r),e.read_shift(r,"i"),e.read_shift(r,"i")]}function mv(e){var t=e.read_shift(2),n=e.read_shift(2);return{s:{c:e.read_shift(2),r:t},e:{c:e.read_shift(2),r:n}}}function pv(e,t){return t||(t=Mb(8)),t.write_shift(2,e.s.r),t.write_shift(2,e.e.r),t.write_shift(2,e.s.c),t.write_shift(2,e.e.c),t}function gv(e,t,n){var r=1536,s=16;switch(n.bookType){case"biff8":case"xla":break;case"biff5":r=1280,s=8;break;case"biff4":r=4,s=6;break;case"biff3":r=3,s=6;break;case"biff2":r=2,s=4;break;default:throw new Error("unsupported BIFF version")}var a=Mb(s);return a.write_shift(2,r),a.write_shift(2,t),s>4&&a.write_shift(2,29282),s>6&&a.write_shift(2,1997),s>8&&(a.write_shift(2,49161),a.write_shift(2,1),a.write_shift(2,1798),a.write_shift(2,0)),a}function xv(e,t){var n=!t||t.biff>=8?2:1,r=Mb(8+n*e.name.length);r.write_shift(4,e.pos),r.write_shift(1,e.hs||0),r.write_shift(1,e.dt),r.write_shift(1,e.name.length),t.biff>=8&&r.write_shift(1,1),r.write_shift(n*e.name.length,e.name,t.biff<8?"sbcs":"utf16le");var s=r.slice(0,r.l);return s.l=r.l,s}function bv(e,t,n,r){var s=n&&5==n.biff;r||(r=Mb(s?3+t.length:5+2*t.length)),r.write_shift(2,e),r.write_shift(s?1:2,t.length),s||r.write_shift(1,1),r.write_shift((s?1:2)*t.length,t,s?"sbcs":"utf16le");var a=r.length>r.l?r.slice(0,r.l):r;return null==a.l&&(a.l=a.length),a}function yv(e,t,n,r){var s=n&&5==n.biff;r||(r=Mb(s?16:20)),r.write_shift(2,0),e.style?(r.write_shift(2,e.numFmtId||0),r.write_shift(2,65524)):(r.write_shift(2,e.numFmtId||0),r.write_shift(2,t<<4));var a=0;return e.numFmtId>0&&s&&(a|=1024),r.write_shift(4,a),r.write_shift(4,0),s||r.write_shift(4,0),r.write_shift(2,0),r}function vv(e,t,n){if(n.biff<8)return function(e,t,n){3==e[e.l+1]&&e[e.l]++;var r=av(e,0,n);return 3==r.charCodeAt(0)?r.slice(1):r}(e,0,n);for(var r=[],s=e.l+t,a=e.read_shift(n.biff>8?4:2);0!==a--;)r.push(fv(e,n.biff,n));if(e.l!=s)throw new Error("Bad ExternSheet: "+e.l+" != "+s);return r}function wv(e){var t=Mb(24),n=Hb(e[0]);t.write_shift(2,n.r),t.write_shift(2,n.r),t.write_shift(2,n.c),t.write_shift(2,n.c);for(var r="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),s=0;s<16;++s)t.write_shift(1,parseInt(r[s],16));return Up([t,hv(e[1])])}function jv(e){var t=e[1].Tooltip,n=Mb(10+2*(t.length+1));n.write_shift(2,2048);var r=Hb(e[0]);n.write_shift(2,r.r),n.write_shift(2,r.r),n.write_shift(2,r.c),n.write_shift(2,r.c);for(var s=0;s<t.length;++s)n.write_shift(2,t.charCodeAt(s));return n.write_shift(2,0),n}function Nv(e,t,n){if(!n.cellStyles)return Lb(e,t);var r=n&&n.biff>=12?4:2,s=e.read_shift(r),a=e.read_shift(r),i=e.read_shift(r),o=e.read_shift(r),l=e.read_shift(2);2==r&&(e.l+=2);var c={s:s,e:a,w:i,ixfe:o,flags:l};return(n.biff>=5||!n.biff)&&(c.level=l>>8&7),c}var _v=function(){var e={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},t=Qg({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function n(t,n){var r=n||{};r.dateNF||(r.dateNF="yyyymmdd");var s=Zb(function(t,n){var r=[],s=Ip(1);switch(n.type){case"base64":s=Tp(Lp(t));break;case"binary":s=Tp(t);break;case"buffer":case"array":s=t}Eb(s,0);var a=s.read_shift(1),i=!!(136&a),o=!1,l=!1;switch(a){case 2:case 3:case 131:case 139:case 245:break;case 48:case 49:o=!0,i=!0;break;case 140:l=!0;break;default:throw new Error("DBF Unsupported Version: "+a.toString(16))}var c=0,d=521;2==a&&(c=s.read_shift(2)),s.l+=3,2!=a&&(c=s.read_shift(4)),c>1048576&&(c=1e6),2!=a&&(d=s.read_shift(2));var u=s.read_shift(2),h=n.codepage||1252;2!=a&&(s.l+=16,s.read_shift(1),0!==s[s.l]&&(h=e[s[s.l]]),s.l+=1,s.l+=2),l&&(s.l+=36);for(var A=[],f={},m=Math.min(s.length,2==a?521:d-10-(o?264:0)),p=l?32:11;s.l<m&&13!=s[s.l];)switch((f={}).name=Cp.utils.decode(h,s.slice(s.l,s.l+p)).replace(/[\u0000\r\n].*$/g,""),s.l+=p,f.type=String.fromCharCode(s.read_shift(1)),2==a||l||(f.offset=s.read_shift(4)),f.len=s.read_shift(1),2==a&&(f.offset=s.read_shift(2)),f.dec=s.read_shift(1),f.name.length&&A.push(f),2!=a&&(s.l+=l?13:14),f.type){case"B":o&&8==f.len||!n.WTF||console.log("Skipping "+f.name+":"+f.type);break;case"G":case"P":n.WTF&&console.log("Skipping "+f.name+":"+f.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+f.type)}if(13!==s[s.l]&&(s.l=d-1),13!==s.read_shift(1))throw new Error("DBF Terminator not found "+s.l+" "+s[s.l]);s.l=d;var g=0,x=0;for(r[0]=[],x=0;x!=A.length;++x)r[0][x]=A[x].name;for(;c-- >0;)if(42!==s[s.l])for(++s.l,r[++g]=[],x=0,x=0;x!=A.length;++x){var b=s.slice(s.l,s.l+A[x].len);s.l+=A[x].len,Eb(b,0);var y=Cp.utils.decode(h,b);switch(A[x].type){case"C":y.trim().length&&(r[g][x]=y.replace(/\s+$/,""));break;case"D":8===y.length?r[g][x]=new Date(+y.slice(0,4),+y.slice(4,6)-1,+y.slice(6,8)):r[g][x]=y;break;case"F":r[g][x]=parseFloat(y.trim());break;case"+":case"I":r[g][x]=l?2147483648^b.read_shift(-4,"i"):b.read_shift(4,"i");break;case"L":switch(y.trim().toUpperCase()){case"Y":case"T":r[g][x]=!0;break;case"N":case"F":r[g][x]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+y+"|")}break;case"M":if(!i)throw new Error("DBF Unexpected MEMO for type "+a.toString(16));r[g][x]="##MEMO##"+(l?parseInt(y.trim(),10):b.read_shift(4));break;case"N":(y=y.replace(/\u0000/g,"").trim())&&"."!=y&&(r[g][x]=+y||0);break;case"@":r[g][x]=new Date(b.read_shift(-8,"f")-621356832e5);break;case"T":r[g][x]=new Date(864e5*(b.read_shift(4)-2440588)+b.read_shift(4));break;case"Y":r[g][x]=b.read_shift(4,"i")/1e4+b.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":r[g][x]=-b.read_shift(-8,"f");break;case"B":if(o&&8==A[x].len){r[g][x]=b.read_shift(8,"f");break}case"G":case"P":b.l+=A[x].len;break;case"0":if("_NullFlags"===A[x].name)break;default:throw new Error("DBF Unsupported data type "+A[x].type)}}else s.l+=u;if(2!=a&&s.l<s.length&&26!=s[s.l++])throw new Error("DBF EOF Marker missing "+(s.l-1)+" of "+s.length+" "+s[s.l-1].toString(16));return n&&n.sheetRows&&(r=r.slice(0,n.sheetRows)),n.DBF=A,r}(t,r),r);return s["!cols"]=r.DBF.map(function(e){return{wch:e.len,DBF:e}}),delete r.DBF,s}var r={B:8,C:250,L:1,D:8,"?":0,"":0};return{to_workbook:function(e,t){try{return Jb(n(e,t),t)}catch(AB){if(t&&t.WTF)throw AB}return{SheetNames:[],Sheets:{}}},to_sheet:n,from_sheet:function(e,n){var s=n||{};if(+s.codepage>=0&&jp(+s.codepage),"string"==s.type)throw new Error("Cannot write DBF to JS string");var a=Fb(),i=qN(e,{header:1,raw:!0,cellDates:!0}),o=i[0],l=i.slice(1),c=e["!cols"]||[],d=0,u=0,h=0,A=1;for(d=0;d<o.length;++d)if(((c[d]||{}).DBF||{}).name)o[d]=c[d].DBF.name,++h;else if(null!=o[d]){if(++h,"number"===typeof o[d]&&(o[d]=o[d].toString(10)),"string"!==typeof o[d])throw new Error("DBF Invalid column name "+o[d]+" |"+typeof o[d]+"|");if(o.indexOf(o[d])!==d)for(u=0;u<1024;++u)if(-1==o.indexOf(o[d]+"_"+u)){o[d]+="_"+u;break}}var f=qb(e["!ref"]),m=[],p=[],g=[];for(d=0;d<=f.e.c-f.s.c;++d){var x="",b="",y=0,v=[];for(u=0;u<l.length;++u)null!=l[u][d]&&v.push(l[u][d]);if(0!=v.length&&null!=o[d]){for(u=0;u<v.length;++u){switch(typeof v[u]){case"number":b="B";break;case"string":default:b="C";break;case"boolean":b="L";break;case"object":b=v[u]instanceof Date?"D":"C"}y=Math.max(y,String(v[u]).length),x=x&&x!=b?"C":b}y>250&&(y=250),"C"==(b=((c[d]||{}).DBF||{}).type)&&c[d].DBF.len>y&&(y=c[d].DBF.len),"B"==x&&"N"==b&&(x="N",g[d]=c[d].DBF.dec,y=c[d].DBF.len),p[d]="C"==x||"N"==b?y:r[x]||0,A+=p[d],m[d]=x}else m[d]="?"}var w=a.next(32);for(w.write_shift(4,318902576),w.write_shift(4,l.length),w.write_shift(2,296+32*h),w.write_shift(2,A),d=0;d<4;++d)w.write_shift(4,0);for(w.write_shift(4,(+t[bp]||3)<<8),d=0,u=0;d<o.length;++d)if(null!=o[d]){var j=a.next(32),N=(o[d].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);j.write_shift(1,N,"sbcs"),j.write_shift(1,"?"==m[d]?"C":m[d],"sbcs"),j.write_shift(4,u),j.write_shift(1,p[d]||r[m[d]]||0),j.write_shift(1,g[d]||0),j.write_shift(1,2),j.write_shift(4,0),j.write_shift(1,0),j.write_shift(4,0),j.write_shift(4,0),u+=p[d]||r[m[d]]||0}var _=a.next(264);for(_.write_shift(4,13),d=0;d<65;++d)_.write_shift(4,0);for(d=0;d<l.length;++d){var C=a.next(A);for(C.write_shift(1,0),u=0;u<o.length;++u)if(null!=o[u])switch(m[u]){case"L":C.write_shift(1,null==l[d][u]?63:l[d][u]?84:70);break;case"B":C.write_shift(8,l[d][u]||0,"f");break;case"N":var S="0";for("number"==typeof l[d][u]&&(S=l[d][u].toFixed(g[u]||0)),h=0;h<p[u]-S.length;++h)C.write_shift(1,32);C.write_shift(1,S,"sbcs");break;case"D":l[d][u]?(C.write_shift(4,("0000"+l[d][u].getFullYear()).slice(-4),"sbcs"),C.write_shift(2,("00"+(l[d][u].getMonth()+1)).slice(-2),"sbcs"),C.write_shift(2,("00"+l[d][u].getDate()).slice(-2),"sbcs")):C.write_shift(8,"00000000","sbcs");break;case"C":var k=String(null!=l[d][u]?l[d][u]:"").slice(0,p[u]);for(C.write_shift(1,k,"sbcs"),h=0;h<p[u]-k.length;++h)C.write_shift(1,32)}}return a.next(1).write_shift(1,26),a.end()}}}(),Cv=function(){var e={AA:"\xc0",BA:"\xc1",CA:"\xc2",DA:195,HA:"\xc4",JA:197,AE:"\xc8",BE:"\xc9",CE:"\xca",HE:"\xcb",AI:"\xcc",BI:"\xcd",CI:"\xce",HI:"\xcf",AO:"\xd2",BO:"\xd3",CO:"\xd4",DO:213,HO:"\xd6",AU:"\xd9",BU:"\xda",CU:"\xdb",HU:"\xdc",Aa:"\xe0",Ba:"\xe1",Ca:"\xe2",Da:227,Ha:"\xe4",Ja:229,Ae:"\xe8",Be:"\xe9",Ce:"\xea",He:"\xeb",Ai:"\xec",Bi:"\xed",Ci:"\xee",Hi:"\xef",Ao:"\xf2",Bo:"\xf3",Co:"\xf4",Do:245,Ho:"\xf6",Au:"\xf9",Bu:"\xfa",Cu:"\xfb",Hu:"\xfc",KC:"\xc7",Kc:"\xe7",q:"\xe6",z:"\u0153",a:"\xc6",j:"\u0152",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},t=new RegExp("\x1bN("+Ug(e).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),n=function(t,n){var r=e[n];return"number"==typeof r?kp(r):r},r=function(e,t,n){var r=t.charCodeAt(0)-32<<4|n.charCodeAt(0)-48;return 59==r?e:kp(r)};function s(e,s){var a,i=e.split(/[\n\r]+/),o=-1,l=-1,c=0,d=0,u=[],h=[],A=null,f={},m=[],p=[],g=[],x=0;for(+s.codepage>=0&&jp(+s.codepage);c!==i.length;++c){x=0;var b,y=i[c].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,r).replace(t,n),v=y.replace(/;;/g,"\0").split(";").map(function(e){return e.replace(/\u0000/g,";")}),w=v[0];if(y.length>0)switch(w){case"ID":case"E":case"B":case"O":case"W":break;case"P":"P"==v[1].charAt(0)&&h.push(y.slice(3).replace(/;;/g,";"));break;case"C":var j=!1,N=!1,_=!1,C=!1,S=-1,k=-1;for(d=1;d<v.length;++d)switch(v[d].charAt(0)){case"A":case"G":break;case"X":l=parseInt(v[d].slice(1))-1,N=!0;break;case"Y":for(o=parseInt(v[d].slice(1))-1,N||(l=0),a=u.length;a<=o;++a)u[a]=[];break;case"K":'"'===(b=v[d].slice(1)).charAt(0)?b=b.slice(1,b.length-1):"TRUE"===b?b=!0:"FALSE"===b?b=!1:isNaN(nx(b))?isNaN(sx(b).getDate())||(b=Zg(b)):(b=nx(b),null!==A&&_g(A)&&(b=Gg(b))),"undefined"!==typeof Cp&&"string"==typeof b&&"string"!=(s||{}).type&&(s||{}).codepage&&(b=Cp.utils.decode(s.codepage,b)),j=!0;break;case"E":C=!0;var B=gw(v[d].slice(1),{r:o,c:l});u[o][l]=[u[o][l],B];break;case"S":_=!0,u[o][l]=[u[o][l],"S5S"];break;case"R":S=parseInt(v[d].slice(1))-1;break;case"C":k=parseInt(v[d].slice(1))-1;break;default:if(s&&s.WTF)throw new Error("SYLK bad record "+y)}if(j&&(u[o][l]&&2==u[o][l].length?u[o][l][0]=b:u[o][l]=b,A=null),_){if(C)throw new Error("SYLK shared formula cannot have own formula");var E=S>-1&&u[S][k];if(!E||!E[1])throw new Error("SYLK shared formula cannot find base");u[o][l][1]=yw(E[1],{r:o-S,c:l-k})}break;case"F":var L=0;for(d=1;d<v.length;++d)switch(v[d].charAt(0)){case"X":l=parseInt(v[d].slice(1))-1,++L;break;case"Y":for(o=parseInt(v[d].slice(1))-1,a=u.length;a<=o;++a)u[a]=[];break;case"M":x=parseInt(v[d].slice(1))/20;break;case"F":case"G":case"S":case"D":case"N":break;case"P":A=h[parseInt(v[d].slice(1))];break;case"W":for(g=v[d].slice(1).split(" "),a=parseInt(g[0],10);a<=parseInt(g[1],10);++a)x=parseInt(g[2],10),p[a-1]=0===x?{hidden:!0}:{wch:x},Hv(p[a-1]);break;case"C":p[l=parseInt(v[d].slice(1))-1]||(p[l]={});break;case"R":m[o=parseInt(v[d].slice(1))-1]||(m[o]={}),x>0?(m[o].hpt=x,m[o].hpx=Vv(x)):0===x&&(m[o].hidden=!0);break;default:if(s&&s.WTF)throw new Error("SYLK bad record "+y)}L<1&&(A=null);break;default:if(s&&s.WTF)throw new Error("SYLK bad record "+y)}}return m.length>0&&(f["!rows"]=m),p.length>0&&(f["!cols"]=p),s&&s.sheetRows&&(u=u.slice(0,s.sheetRows)),[u,f]}function a(e,t){var n=function(e,t){switch(t.type){case"base64":return s(Lp(e),t);case"binary":return s(e,t);case"buffer":return s(Mp&&Buffer.isBuffer(e)?e.toString("binary"):Pp(e),t);case"array":return s($g(e),t)}throw new Error("Unrecognized type "+t.type)}(e,t),r=n[0],a=n[1],i=Zb(r,t);return Ug(a).forEach(function(e){i[e]=a[e]}),i}function i(e,t,n,r){var s="C;Y"+(n+1)+";X"+(r+1)+";K";switch(e.t){case"n":s+=e.v||0,e.f&&!e.F&&(s+=";E"+bw(e.f,{r:n,c:r}));break;case"b":s+=e.v?"TRUE":"FALSE";break;case"e":s+=e.w||e.v;break;case"d":s+='"'+(e.w||e.v)+'"';break;case"s":s+='"'+e.v.replace(/"/g,"").replace(/;/g,";;")+'"'}return s}return e["|"]=254,{to_workbook:function(e,t){return Jb(a(e,t),t)},to_sheet:a,from_sheet:function(e,t){var n,r,s=["ID;PWXL;N;E"],a=[],o=qb(e["!ref"]),l=Array.isArray(e),c="\r\n";s.push("P;PGeneral"),s.push("F;P0;DG0G8;M255"),e["!cols"]&&(r=s,e["!cols"].forEach(function(e,t){var n="F;W"+(t+1)+" "+(t+1)+" ";e.hidden?n+="0":("number"!=typeof e.width||e.wpx||(e.wpx=Rv(e.width)),"number"!=typeof e.wpx||e.wch||(e.wch=Qv(e.wpx)),"number"==typeof e.wch&&(n+=Math.round(e.wch)))," "!=n.charAt(n.length-1)&&r.push(n)})),e["!rows"]&&function(e,t){t.forEach(function(t,n){var r="F;";t.hidden?r+="M0;":t.hpt?r+="M"+20*t.hpt+";":t.hpx&&(r+="M"+20*Wv(t.hpx)+";"),r.length>2&&e.push(r+"R"+(n+1))})}(s,e["!rows"]),s.push("B;Y"+(o.e.r-o.s.r+1)+";X"+(o.e.c-o.s.c+1)+";D"+[o.s.c,o.s.r,o.e.c,o.e.r].join(" "));for(var d=o.s.r;d<=o.e.r;++d)for(var u=o.s.c;u<=o.e.c;++u){var h=Kb({r:d,c:u});(n=l?(e[d]||[])[u]:e[h])&&(null!=n.v||n.f&&!n.F)&&a.push(i(n,0,d,u))}return s.join(c)+c+a.join(c)+c+"E"+c}}}(),Sv=function(){function e(e,t){for(var n=e.split("\n"),r=-1,s=-1,a=0,i=[];a!==n.length;++a)if("BOT"!==n[a].trim()){if(!(r<0)){for(var o=n[a].trim().split(","),l=o[0],c=o[1],d=n[++a]||"";1&(d.match(/["]/g)||[]).length&&a<n.length-1;)d+="\n"+n[++a];switch(d=d.trim(),+l){case-1:if("BOT"===d){i[++r]=[],s=0;continue}if("EOD"!==d)throw new Error("Unrecognized DIF special command "+d);break;case 0:"TRUE"===d?i[r][s]=!0:"FALSE"===d?i[r][s]=!1:isNaN(nx(c))?isNaN(sx(c).getDate())?i[r][s]=c:i[r][s]=Zg(c):i[r][s]=nx(c),++s;break;case 1:(d=(d=d.slice(1,d.length-1)).replace(/""/g,'"'))&&d.match(/^=".*"$/)&&(d=d.slice(2,-1)),i[r][s++]=""!==d?d:null}if("EOD"===d)break}}else i[++r]=[],s=0;return t&&t.sheetRows&&(i=i.slice(0,t.sheetRows)),i}function t(t,n){return Zb(function(t,n){switch(n.type){case"base64":return e(Lp(t),n);case"binary":return e(t,n);case"buffer":return e(Mp&&Buffer.isBuffer(t)?t.toString("binary"):Pp(t),n);case"array":return e($g(t),n)}throw new Error("Unrecognized type "+n.type)}(t,n),n)}var n=function(){var e=function(e,t,n,r,s){e.push(t),e.push(n+","+r),e.push('"'+s.replace(/"/g,'""')+'"')},t=function(e,t,n,r){e.push(t+","+n),e.push(1==t?'"'+r.replace(/"/g,'""')+'"':r)};return function(n){var r,s=[],a=qb(n["!ref"]),i=Array.isArray(n);e(s,"TABLE",0,1,"sheetjs"),e(s,"VECTORS",0,a.e.r-a.s.r+1,""),e(s,"TUPLES",0,a.e.c-a.s.c+1,""),e(s,"DATA",0,0,"");for(var o=a.s.r;o<=a.e.r;++o){t(s,-1,0,"BOT");for(var l=a.s.c;l<=a.e.c;++l){var c=Kb({r:o,c:l});if(r=i?(n[o]||[])[l]:n[c])switch(r.t){case"n":var d=r.w;d||null==r.v||(d=r.v),null==d?r.f&&!r.F?t(s,1,0,"="+r.f):t(s,1,0,""):t(s,0,d,"V");break;case"b":t(s,0,r.v?1:0,r.v?"TRUE":"FALSE");break;case"s":t(s,1,0,isNaN(r.v)?r.v:'="'+r.v+'"');break;case"d":r.w||(r.w=Bg(r.z||Xp[14],Kg(Zg(r.v)))),t(s,0,r.w,"V");break;default:t(s,1,0,"")}else t(s,1,0,"")}}t(s,-1,0,"EOD");return s.join("\r\n")}}();return{to_workbook:function(e,n){return Jb(t(e,n),n)},to_sheet:t,from_sheet:n}}(),kv=function(){function e(e){return e.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,"\n")}function t(e){return e.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function n(t,n){return Zb(function(t,n){for(var r=t.split("\n"),s=-1,a=-1,i=0,o=[];i!==r.length;++i){var l=r[i].trim().split(":");if("cell"===l[0]){var c=Hb(l[1]);if(o.length<=c.r)for(s=o.length;s<=c.r;++s)o[s]||(o[s]=[]);switch(s=c.r,a=c.c,l[2]){case"t":o[s][a]=e(l[3]);break;case"v":o[s][a]=+l[3];break;case"vtf":var d=l[l.length-1];case"vtc":"nl"===l[3]?o[s][a]=!!+l[4]:o[s][a]=+l[4],"vtf"==l[2]&&(o[s][a]=[o[s][a],d])}}}return n&&n.sheetRows&&(o=o.slice(0,n.sheetRows)),o}(t,n),n)}var r=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join("\n"),s=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join("\n")+"\n",a=["# SocialCalc Spreadsheet Control Save","part:sheet"].join("\n"),i="--SocialCalcSpreadsheetControlSave--";function o(e){if(!e||!e["!ref"])return"";for(var n,r=[],s=[],a="",i=Wb(e["!ref"]),o=Array.isArray(e),l=i.s.r;l<=i.e.r;++l)for(var c=i.s.c;c<=i.e.c;++c)if(a=Kb({r:l,c:c}),(n=o?(e[l]||[])[c]:e[a])&&null!=n.v&&"z"!==n.t){switch(s=["cell",a,"t"],n.t){case"s":case"str":s.push(t(n.v));break;case"n":n.f?(s[2]="vtf",s[3]="n",s[4]=n.v,s[5]=t(n.f)):(s[2]="v",s[3]=n.v);break;case"b":s[2]="vt"+(n.f?"f":"c"),s[3]="nl",s[4]=n.v?"1":"0",s[5]=t(n.f||(n.v?"TRUE":"FALSE"));break;case"d":var d=Kg(Zg(n.v));s[2]="vtc",s[3]="nd",s[4]=""+d,s[5]=n.w||Bg(n.z||Xp[14],d);break;case"e":continue}r.push(s.join(":"))}return r.push("sheet:c:"+(i.e.c-i.s.c+1)+":r:"+(i.e.r-i.s.r+1)+":tvf:1"),r.push("valueformat:1:text-wiki"),r.join("\n")}return{to_workbook:function(e,t){return Jb(n(e,t),t)},to_sheet:n,from_sheet:function(e){return[r,s,a,s,o(e),i].join("\n")}}}(),Bv=function(){function e(e,t,n,r,s){s.raw?t[n][r]=e:""===e||("TRUE"===e?t[n][r]=!0:"FALSE"===e?t[n][r]=!1:isNaN(nx(e))?isNaN(sx(e).getDate())?t[n][r]=e:t[n][r]=Zg(e):t[n][r]=nx(e))}var t={44:",",9:"\t",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function r(e){for(var r={},s=!1,a=0,i=0;a<e.length;++a)34==(i=e.charCodeAt(a))?s=!s:!s&&i in t&&(r[i]=(r[i]||0)+1);for(a in i=[],r)Object.prototype.hasOwnProperty.call(r,a)&&i.push([r[a],a]);if(!i.length)for(a in r=n)Object.prototype.hasOwnProperty.call(r,a)&&i.push([r[a],a]);return i.sort(function(e,t){return e[0]-t[0]||n[e[1]]-n[t[1]]}),t[i.pop()[1]]||44}function s(e,t){var n=t||{},s="";var a=n.dense?[]:{},i={s:{c:0,r:0},e:{c:0,r:0}};"sep="==e.slice(0,4)?13==e.charCodeAt(5)&&10==e.charCodeAt(6)?(s=e.charAt(4),e=e.slice(7)):13==e.charCodeAt(5)||10==e.charCodeAt(5)?(s=e.charAt(4),e=e.slice(6)):s=r(e.slice(0,1024)):s=n&&n.FS?n.FS:r(e.slice(0,1024));var o=0,l=0,c=0,d=0,u=0,h=s.charCodeAt(0),A=!1,f=0,m=e.charCodeAt(0);e=e.replace(/\r\n/gm,"\n");var p=null!=n.dateNF?function(e){var t="number"==typeof e?Xp[e]:e;return t=t.replace(Fg,"(\\d+)"),new RegExp("^"+t+"$")}(n.dateNF):null;function g(){var t=e.slice(d,u),r={};if('"'==t.charAt(0)&&'"'==t.charAt(t.length-1)&&(t=t.slice(1,-1).replace(/""/g,'"')),0===t.length)r.t="z";else if(n.raw)r.t="s",r.v=t;else if(0===t.trim().length)r.t="s",r.v=t;else if(61==t.charCodeAt(0))34==t.charCodeAt(1)&&34==t.charCodeAt(t.length-1)?(r.t="s",r.v=t.slice(2,-1).replace(/""/g,'"')):1!=t.length?(r.t="n",r.f=t.slice(1)):(r.t="s",r.v=t);else if("TRUE"==t)r.t="b",r.v=!0;else if("FALSE"==t)r.t="b",r.v=!1;else if(isNaN(c=nx(t)))if(!isNaN(sx(t).getDate())||p&&t.match(p)){r.z=n.dateNF||Xp[14];var s=0;p&&t.match(p)&&(t=function(e,t,n){var r=-1,s=-1,a=-1,i=-1,o=-1,l=-1;(t.match(Fg)||[]).forEach(function(e,t){var c=parseInt(n[t+1],10);switch(e.toLowerCase().charAt(0)){case"y":r=c;break;case"d":a=c;break;case"h":i=c;break;case"s":l=c;break;case"m":i>=0?o=c:s=c}}),l>=0&&-1==o&&s>=0&&(o=s,s=-1);var c=(""+(r>=0?r:(new Date).getFullYear())).slice(-4)+"-"+("00"+(s>=1?s:1)).slice(-2)+"-"+("00"+(a>=1?a:1)).slice(-2);7==c.length&&(c="0"+c),8==c.length&&(c="20"+c);var d=("00"+(i>=0?i:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return-1==i&&-1==o&&-1==l?c:-1==r&&-1==s&&-1==a?d:c+"T"+d}(0,n.dateNF,t.match(p)||[]),s=1),n.cellDates?(r.t="d",r.v=Zg(t,s)):(r.t="n",r.v=Kg(Zg(t,s))),!1!==n.cellText&&(r.w=Bg(r.z,r.v instanceof Date?Kg(r.v):r.v)),n.cellNF||delete r.z}else r.t="s",r.v=t;else r.t="n",!1!==n.cellText&&(r.w=t),r.v=c;if("z"==r.t||(n.dense?(a[o]||(a[o]=[]),a[o][l]=r):a[Kb({c:l,r:o})]=r),d=u+1,m=e.charCodeAt(d),i.e.c<l&&(i.e.c=l),i.e.r<o&&(i.e.r=o),f==h)++l;else if(l=0,++o,n.sheetRows&&n.sheetRows<=o)return!0}e:for(;u<e.length;++u)switch(f=e.charCodeAt(u)){case 34:34===m&&(A=!A);break;case h:case 10:case 13:if(!A&&g())break e}return u-d>0&&g(),a["!ref"]=Vb(i),a}function a(t,n){return n&&n.PRN?n.FS||"sep="==t.slice(0,4)||t.indexOf("\t")>=0||t.indexOf(",")>=0||t.indexOf(";")>=0?s(t,n):Zb(function(t,n){var r=n||{},s=[];if(!t||0===t.length)return s;for(var a=t.split(/[\r\n]/),i=a.length-1;i>=0&&0===a[i].length;)--i;for(var o=10,l=0,c=0;c<=i;++c)-1==(l=a[c].indexOf(" "))?l=a[c].length:l++,o=Math.max(o,l);for(c=0;c<=i;++c){s[c]=[];var d=0;for(e(a[c].slice(0,o).trim(),s,c,d,r),d=1;d<=(a[c].length-o)/10+1;++d)e(a[c].slice(o+10*(d-1),o+10*d).trim(),s,c,d,r)}return r.sheetRows&&(s=s.slice(0,r.sheetRows)),s}(t,n),n):s(t,n)}function i(e,t){var n="",r="string"==t.type?[0,0,0,0]:PN(e,t);switch(t.type){case"base64":n=Lp(e);break;case"binary":case"string":n=e;break;case"buffer":n=65001==t.codepage?e.toString("utf8"):t.codepage&&"undefined"!==typeof Cp?Cp.utils.decode(t.codepage,e):Mp&&Buffer.isBuffer(e)?e.toString("binary"):Pp(e);break;case"array":n=$g(e);break;default:throw new Error("Unrecognized type "+t.type)}return 239==r[0]&&187==r[1]&&191==r[2]?n=vx(n.slice(3)):"string"!=t.type&&"buffer"!=t.type&&65001==t.codepage?n=vx(n):"binary"==t.type&&"undefined"!==typeof Cp&&t.codepage&&(n=Cp.utils.decode(t.codepage,Cp.utils.encode(28591,n))),"socialcalc:version:"==n.slice(0,19)?kv.to_sheet("string"==t.type?n:vx(n),t):a(n,t)}return{to_workbook:function(e,t){return Jb(i(e,t),t)},to_sheet:i,from_sheet:function(e){for(var t,n=[],r=qb(e["!ref"]),s=Array.isArray(e),a=r.s.r;a<=r.e.r;++a){for(var i=[],o=r.s.c;o<=r.e.c;++o){var l=Kb({r:a,c:o});if((t=s?(e[a]||[])[o]:e[l])&&null!=t.v){for(var c=(t.w||(Yb(t),t.w)||"").slice(0,10);c.length<10;)c+=" ";i.push(c+(0===o?" ":""))}else i.push("          ")}n.push(i.join(""))}return n.join("\n")}}}();var Ev=function(){function e(e,t,n){if(e){Eb(e,e.l||0);for(var r=n.Enum||g;e.l<e.length;){var s=e.read_shift(2),a=r[s]||r[65535],i=e.read_shift(2),o=e.l+i,l=a.f&&a.f(e,i,n);if(e.l=o,t(l,a,s))return}}}function t(t,n){if(!t)return t;var r=n||{};var s=r.dense?[]:{},a="Sheet1",i="",o=0,l={},c=[],d=[],u={s:{r:0,c:0},e:{r:0,c:0}},h=r.sheetRows||0;if(0==t[2]&&(8==t[3]||9==t[3])&&t.length>=16&&5==t[14]&&108===t[15])throw new Error("Unsupported Works 3 for Mac file");if(2==t[2])r.Enum=g,e(t,function(e,t,n){switch(n){case 0:r.vers=e,e>=4096&&(r.qpro=!0);break;case 6:u=e;break;case 204:e&&(i=e);break;case 222:i=e;break;case 15:case 51:r.qpro||(e[1].v=e[1].v.slice(1));case 13:case 14:case 16:14==n&&112==(112&e[2])&&(15&e[2])>1&&(15&e[2])<15&&(e[1].z=r.dateNF||Xp[14],r.cellDates&&(e[1].t="d",e[1].v=Gg(e[1].v))),r.qpro&&e[3]>o&&(s["!ref"]=Vb(u),l[a]=s,c.push(a),s=r.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],a=i||"Sheet"+(o+1),i="");var d=r.dense?(s[e[0].r]||[])[e[0].c]:s[Kb(e[0])];if(d){d.t=e[1].t,d.v=e[1].v,null!=e[1].z&&(d.z=e[1].z),null!=e[1].f&&(d.f=e[1].f);break}r.dense?(s[e[0].r]||(s[e[0].r]=[]),s[e[0].r][e[0].c]=e[1]):s[Kb(e[0])]=e[1]}},r);else{if(26!=t[2]&&14!=t[2])throw new Error("Unrecognized LOTUS BOF "+t[2]);r.Enum=x,14==t[2]&&(r.qpro=!0,t.l=0),e(t,function(e,t,n){switch(n){case 204:a=e;break;case 22:e[1].v=e[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(e[3]>o&&(s["!ref"]=Vb(u),l[a]=s,c.push(a),s=r.dense?[]:{},u={s:{r:0,c:0},e:{r:0,c:0}},o=e[3],a="Sheet"+(o+1)),h>0&&e[0].r>=h)break;r.dense?(s[e[0].r]||(s[e[0].r]=[]),s[e[0].r][e[0].c]=e[1]):s[Kb(e[0])]=e[1],u.e.c<e[0].c&&(u.e.c=e[0].c),u.e.r<e[0].r&&(u.e.r=e[0].r);break;case 27:e[14e3]&&(d[e[14e3][0]]=e[14e3][1]);break;case 1537:d[e[0]]=e[1],e[0]==o&&(a=e[1])}},r)}if(s["!ref"]=Vb(u),l[i||a]=s,c.push(i||a),!d.length)return{SheetNames:c,Sheets:l};for(var A={},f=[],m=0;m<d.length;++m)l[c[m]]?(f.push(d[m]||c[m]),A[d[m]]=l[d[m]]||l[c[m]]):(f.push(d[m]),A[d[m]]={"!ref":"A1"});return{SheetNames:f,Sheets:A}}function n(e,t,n){var r=[{c:0,r:0},{t:"n",v:0},0,0];return n.qpro&&20768!=n.vers?(r[0].c=e.read_shift(1),r[3]=e.read_shift(1),r[0].r=e.read_shift(2),e.l+=2):(r[2]=e.read_shift(1),r[0].c=e.read_shift(2),r[0].r=e.read_shift(2)),r}function r(e,t,r){var s=e.l+t,a=n(e,0,r);if(a[1].t="s",20768==r.vers){e.l++;var i=e.read_shift(1);return a[1].v=e.read_shift(i,"utf8"),a}return r.qpro&&e.l++,a[1].v=e.read_shift(s-e.l,"cstr"),a}function s(e,t,n){var r=Mb(7+n.length);r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(1,39);for(var s=0;s<r.length;++s){var a=n.charCodeAt(s);r.write_shift(1,a>=128?95:a)}return r.write_shift(1,0),r}function a(e,t,n){var r=Mb(7);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(2,n,"i"),r}function i(e,t,n){var r=Mb(13);return r.write_shift(1,255),r.write_shift(2,t),r.write_shift(2,e),r.write_shift(8,n,"f"),r}function o(e,t,n){var r=32768&t;return t=(r?e:0)+((t&=-32769)>=8192?t-16384:t),(r?"":"$")+(n?zb(t):Rb(t))}var l={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},c=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function d(e){var t=[{c:0,r:0},{t:"n",v:0},0];return t[0].r=e.read_shift(2),t[3]=e[e.l++],t[0].c=e[e.l++],t}function u(e,t,n,r){var s=Mb(6+r.length);s.write_shift(2,e),s.write_shift(1,n),s.write_shift(1,t),s.write_shift(1,39);for(var a=0;a<r.length;++a){var i=r.charCodeAt(a);s.write_shift(1,i>=128?95:i)}return s.write_shift(1,0),s}function h(e,t){var n=d(e),r=e.read_shift(4),s=e.read_shift(4),a=e.read_shift(2);if(65535==a)return 0===r&&3221225472===s?(n[1].t="e",n[1].v=15):0===r&&3489660928===s?(n[1].t="e",n[1].v=42):n[1].v=0,n;var i=32768&a;return a=(32767&a)-16446,n[1].v=(1-2*i)*(s*Math.pow(2,a+32)+r*Math.pow(2,a)),n}function A(e,t,n,r){var s=Mb(14);if(s.write_shift(2,e),s.write_shift(1,n),s.write_shift(1,t),0==r)return s.write_shift(4,0),s.write_shift(4,0),s.write_shift(2,65535),s;var a,i=0,o=0,l=0;return r<0&&(i=1,r=-r),o=0|Math.log2(r),0==(2147483648&(l=(r/=Math.pow(2,o-31))>>>0))&&(++o,l=(r/=2)>>>0),r-=l,l|=2147483648,l>>>=0,a=(r*=Math.pow(2,32))>>>0,s.write_shift(4,a),s.write_shift(4,l),o+=16383+(i?32768:0),s.write_shift(2,o),s}function f(e,t){var n=d(e),r=e.read_shift(8,"f");return n[1].v=r,n}function m(e,t){return 0==e[e.l+t-1]?e.read_shift(t,"cstr"):""}function p(e,t){var n=Mb(5+e.length);n.write_shift(2,14e3),n.write_shift(2,t);for(var r=0;r<e.length;++r){var s=e.charCodeAt(r);n[n.l++]=s>127?95:s}return n[n.l++]=0,n}var g={0:{n:"BOF",f:nv},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:function(e,t,n){var r={s:{c:0,r:0},e:{c:0,r:0}};return 8==t&&n.qpro?(r.s.c=e.read_shift(1),e.l++,r.s.r=e.read_shift(2),r.e.c=e.read_shift(1),e.l++,r.e.r=e.read_shift(2),r):(r.s.c=e.read_shift(2),r.s.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),r.e.c=e.read_shift(2),r.e.r=e.read_shift(2),12==t&&n.qpro&&(e.l+=2),65535==r.s.c&&(r.s.c=r.e.c=r.s.r=r.e.r=0),r)}},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:function(e,t,r){var s=n(e,0,r);return s[1].v=e.read_shift(2,"i"),s}},14:{n:"NUMBER",f:function(e,t,r){var s=n(e,0,r);return s[1].v=e.read_shift(8,"f"),s}},15:{n:"LABEL",f:r},16:{n:"FORMULA",f:function(e,t,r){var s=e.l+t,a=n(e,0,r);if(a[1].v=e.read_shift(8,"f"),r.qpro)e.l=s;else{var i=e.read_shift(2);!function(e,t){Eb(e,0);var n=[],r=0,s="",a="",i="",d="";for(;e.l<e.length;){var u=e[e.l++];switch(u){case 0:n.push(e.read_shift(8,"f"));break;case 1:a=o(t[0].c,e.read_shift(2),!0),s=o(t[0].r,e.read_shift(2),!1),n.push(a+s);break;case 2:var h=o(t[0].c,e.read_shift(2),!0),A=o(t[0].r,e.read_shift(2),!1);a=o(t[0].c,e.read_shift(2),!0),s=o(t[0].r,e.read_shift(2),!1),n.push(h+A+":"+a+s);break;case 3:if(e.l<e.length)return void console.error("WK1 premature formula end");break;case 4:n.push("("+n.pop()+")");break;case 5:n.push(e.read_shift(2));break;case 6:for(var f="";u=e[e.l++];)f+=String.fromCharCode(u);n.push('"'+f.replace(/"/g,'""')+'"');break;case 8:n.push("-"+n.pop());break;case 23:n.push("+"+n.pop());break;case 22:n.push("NOT("+n.pop()+")");break;case 20:case 21:d=n.pop(),i=n.pop(),n.push(["AND","OR"][u-20]+"("+i+","+d+")");break;default:if(u<32&&c[u])d=n.pop(),i=n.pop(),n.push(i+c[u]+d);else{if(!l[u])return u<=7?console.error("WK1 invalid opcode "+u.toString(16)):u<=24?console.error("WK1 unsupported op "+u.toString(16)):u<=30?console.error("WK1 invalid opcode "+u.toString(16)):u<=115?console.error("WK1 unsupported function opcode "+u.toString(16)):console.error("WK1 unrecognized opcode "+u.toString(16));if(69==(r=l[u][1])&&(r=e[e.l++]),r>n.length)return void console.error("WK1 bad formula parse 0x"+u.toString(16)+":|"+n.join("|")+"|");var m=n.slice(-r);n.length-=r,n.push(l[u][0]+"("+m.join(",")+")")}}}1==n.length?t[1].f=""+n[0]:console.error("WK1 bad formula parse |"+n.join("|")+"|")}(e.slice(e.l,e.l+i),a),e.l+=i}return a}},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:r},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:m},222:{n:"SHEETNAMELP",f:function(e,t){var n=e[e.l++];n>t-1&&(n=t-1);for(var r="";r.length<n;)r+=String.fromCharCode(e[e.l++]);return r}},65535:{n:""}},x={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:function(e,t){var n=d(e);return n[1].t="s",n[1].v=e.read_shift(t-4,"cstr"),n}},23:{n:"NUMBER17",f:h},24:{n:"NUMBER18",f:function(e,t){var n=d(e);n[1].v=e.read_shift(2);var r=n[1].v>>1;if(1&n[1].v)switch(7&r){case 0:r=5e3*(r>>3);break;case 1:r=500*(r>>3);break;case 2:r=(r>>3)/20;break;case 3:r=(r>>3)/200;break;case 4:r=(r>>3)/2e3;break;case 5:r=(r>>3)/2e4;break;case 6:r=(r>>3)/16;break;case 7:r=(r>>3)/64}return n[1].v=r,n}},25:{n:"FORMULA19",f:function(e,t){var n=h(e);return e.l+=t-14,n}},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:function(e,t){for(var n={},r=e.l+t;e.l<r;){var s=e.read_shift(2);if(14e3==s){for(n[s]=[0,""],n[s][0]=e.read_shift(2);e[e.l];)n[s][1]+=String.fromCharCode(e[e.l]),e.l++;e.l++}}return n}},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:function(e,t){var n=d(e),r=e.read_shift(4);return n[1].v=r>>6,n}},38:{n:"??"},39:{n:"NUMBER27",f:f},40:{n:"FORMULA28",f:function(e,t){var n=f(e);return e.l+=t-10,n}},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:m},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:function(e,t,n){if(n.qpro&&!(t<21)){var r=e.read_shift(1);return e.l+=17,e.l+=1,e.l+=2,[r,e.read_shift(t-21,"cstr")]}}},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:function(e,t){var n=t||{};if(+n.codepage>=0&&jp(+n.codepage),"string"==n.type)throw new Error("Cannot write WK1 to JS string");var r=Fb(),o=qb(e["!ref"]),l=Array.isArray(e),c=[];Jj(r,0,function(e){var t=Mb(2);return t.write_shift(2,e),t}(1030)),Jj(r,6,function(e){var t=Mb(8);return t.write_shift(2,e.s.c),t.write_shift(2,e.s.r),t.write_shift(2,e.e.c),t.write_shift(2,e.e.r),t}(o));for(var d=Math.min(o.e.r,8191),u=o.s.r;u<=d;++u)for(var h=Rb(u),A=o.s.c;A<=o.e.c;++A){u===o.s.r&&(c[A]=zb(A));var f=c[A]+h,m=l?(e[u]||[])[A]:e[f];if(m&&"z"!=m.t)if("n"==m.t)(0|m.v)==m.v&&m.v>=-32768&&m.v<=32767?Jj(r,13,a(u,A,m.v)):Jj(r,14,i(u,A,m.v));else Jj(r,15,s(u,A,Yb(m).slice(0,239)))}return Jj(r,1),r.end()},book_to_wk3:function(e,t){var n=t||{};if(+n.codepage>=0&&jp(+n.codepage),"string"==n.type)throw new Error("Cannot write WK3 to JS string");var r=Fb();Jj(r,0,function(e){var t=Mb(26);t.write_shift(2,4096),t.write_shift(2,4),t.write_shift(4,0);for(var n=0,r=0,s=0,a=0;a<e.SheetNames.length;++a){var i=e.SheetNames[a],o=e.Sheets[i];if(o&&o["!ref"]){++s;var l=Wb(o["!ref"]);n<l.e.r&&(n=l.e.r),r<l.e.c&&(r=l.e.c)}}n>8191&&(n=8191);return t.write_shift(2,n),t.write_shift(1,s),t.write_shift(1,r),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(1,1),t.write_shift(1,2),t.write_shift(4,0),t.write_shift(4,0),t}(e));for(var s=0,a=0;s<e.SheetNames.length;++s)(e.Sheets[e.SheetNames[s]]||{})["!ref"]&&Jj(r,27,p(e.SheetNames[s],a++));var i=0;for(s=0;s<e.SheetNames.length;++s){var o=e.Sheets[e.SheetNames[s]];if(o&&o["!ref"]){for(var l=qb(o["!ref"]),c=Array.isArray(o),d=[],h=Math.min(l.e.r,8191),f=l.s.r;f<=h;++f)for(var m=Rb(f),g=l.s.c;g<=l.e.c;++g){f===l.s.r&&(d[g]=zb(g));var x=d[g]+m,b=c?(o[f]||[])[g]:o[x];if(b&&"z"!=b.t)if("n"==b.t)Jj(r,23,A(f,g,i,b.v));else Jj(r,22,u(f,g,i,Yb(b).slice(0,239)))}++i}}return Jj(r,1),r.end()},to_workbook:function(e,n){switch(n.type){case"base64":return t(Tp(Lp(e)),n);case"binary":return t(Tp(e),n);case"buffer":case"array":return t(e,n)}throw"Unsupported type "+n.type}}}();var Lv=/^\s|\s$|[\t\n\r]/;function Mv(e,t){if(!t.bookSST)return"";var n=[ox];n[n.length]=Sx("sst",null,{xmlns:zx[0],count:e.Count,uniqueCount:e.Unique});for(var r=0;r!=e.length;++r)if(null!=e[r]){var s=e[r],a="<si>";s.r?a+=s.r:(a+="<t",s.t||(s.t=""),s.t.match(Lv)&&(a+=' xml:space="preserve"'),a+=">"+hx(s.t)+"</t>"),a+="</si>",n[n.length]=a}return n.length>2&&(n[n.length]="</sst>",n[1]=n[1].replace("/>",">")),n.join("")}var Fv=function(e,t){var n=!1;return null==t&&(n=!0,t=Mb(15+4*e.t.length)),t.write_shift(1,0),ty(e.t,t),n?t.slice(0,t.l):t};function Iv(e){var t=Fb();Ib(t,159,function(e,t){return t||(t=Mb(8)),t.write_shift(4,e.Count),t.write_shift(4,e.Unique),t}(e));for(var n=0;n<e.length;++n)Ib(t,19,Fv(e[n]));return Ib(t,160),t.end()}function Dv(e){if("undefined"!==typeof Cp)return Cp.utils.encode(bp,e);for(var t=[],n=e.split(""),r=0;r<n.length;++r)t[r]=n[r].charCodeAt(0);return t}function Tv(e){var t,n,r=0,s=Dv(e),a=s.length+1;for((t=Ip(a))[0]=s.length,n=1;n!=a;++n)t[n]=s[n-1];for(n=a-1;n>=0;--n)r=((0===(16384&r)?0:1)|r<<1&32767)^t[n];return 52811^r}var Ov=function(){function e(e,n){switch(n.type){case"base64":return t(Lp(e),n);case"binary":return t(e,n);case"buffer":return t(Mp&&Buffer.isBuffer(e)?e.toString("binary"):Pp(e),n);case"array":return t($g(e),n)}throw new Error("Unrecognized type "+n.type)}function t(e,t){var n=(t||{}).dense?[]:{},r=e.match(/\\trowd.*?\\row\b/g);if(!r.length)throw new Error("RTF missing table");var s={s:{c:0,r:0},e:{c:0,r:r.length-1}};return r.forEach(function(e,t){Array.isArray(n)&&(n[t]=[]);for(var r,a=/\\\w+\b/g,i=0,o=-1;r=a.exec(e);){if("\\cell"===r[0]){var l=e.slice(i,a.lastIndex-r[0].length);if(" "==l[0]&&(l=l.slice(1)),++o,l.length){var c={v:l,t:"s"};Array.isArray(n)?n[t][o]=c:n[Kb({r:t,c:o})]=c}}i=a.lastIndex}o>s.e.c&&(s.e.c=o)}),n["!ref"]=Vb(s),n}return{to_workbook:function(t,n){return Jb(e(t,n),n)},to_sheet:e,from_sheet:function(e){for(var t,n=["{\\rtf1\\ansi"],r=qb(e["!ref"]),s=Array.isArray(e),a=r.s.r;a<=r.e.r;++a){n.push("\\trowd\\trautofit1");for(var i=r.s.c;i<=r.e.c;++i)n.push("\\cellx"+(i+1));for(n.push("\\pard\\intbl"),i=r.s.c;i<=r.e.c;++i){var o=Kb({r:a,c:i});(t=s?(e[a]||[])[i]:e[o])&&(null!=t.v||t.f&&!t.F)&&(n.push(" "+(t.w||(Yb(t),t.w))),n.push("\\cell"))}n.push("\\pard\\intbl\\row")}return n.join("")+"}"}}}();function Pv(e){for(var t=0,n=1;3!=t;++t)n=256*n+(e[t]>255?255:e[t]<0?0:e[t]);return n.toString(16).toUpperCase().slice(1)}var Uv=6;function Rv(e){return Math.floor((e+Math.round(128/Uv)/256)*Uv)}function Qv(e){return Math.floor((e-5)/Uv*100+.5)/100}function zv(e){return Math.round((e*Uv+5)/Uv*256)/256}function Hv(e){e.width?(e.wpx=Rv(e.width),e.wch=Qv(e.wpx),e.MDW=Uv):e.wpx?(e.wch=Qv(e.wpx),e.width=zv(e.wch),e.MDW=Uv):"number"==typeof e.wch&&(e.width=zv(e.wch),e.wpx=Rv(e.width),e.MDW=Uv),e.customWidth&&delete e.customWidth}var Kv=96;function Wv(e){return 96*e/Kv}function Vv(e){return e*Kv/96}function qv(e,t){var n,r=[ox,Sx("styleSheet",null,{xmlns:zx[0],"xmlns:vt":Ux})];return e.SSF&&null!=(n=function(e){var t=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=e[r]&&(t[t.length]=Sx("numFmt",null,{numFmtId:r,formatCode:hx(e[r])}))}),1===t.length?"":(t[t.length]="</numFmts>",t[0]=Sx("numFmts",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(e.SSF))&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=function(e){var t=[];return t[t.length]=Sx("cellXfs",null),e.forEach(function(e){t[t.length]=Sx("xf",null,e)}),t[t.length]="</cellXfs>",2===t.length?"":(t[0]=Sx("cellXfs",null,{count:t.length-2}).replace("/>",">"),t.join(""))}(t.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function Gv(e,t,n){n||(n=Mb(6+4*t.length)),n.write_shift(2,e),ty(t,n);var r=n.length>n.l?n.slice(0,n.l):n;return null==n.l&&(n.l=n.length),r}function Yv(e,t){t||(t=Mb(153)),t.write_shift(2,20*e.sz),function(e,t){t||(t=Mb(2));var n=(e.italic?2:0)|(e.strike?8:0)|(e.outline?16:0)|(e.shadow?32:0)|(e.condense?64:0)|(e.extend?128:0);t.write_shift(1,n),t.write_shift(1,0)}(e,t),t.write_shift(2,e.bold?700:400);var n=0;"superscript"==e.vertAlign?n=1:"subscript"==e.vertAlign&&(n=2),t.write_shift(2,n),t.write_shift(1,e.underline||0),t.write_shift(1,e.family||0),t.write_shift(1,e.charset||0),t.write_shift(1,0),Ny(e.color,t);var r=0;return"major"==e.scheme&&(r=1),"minor"==e.scheme&&(r=2),t.write_shift(1,r),ty(e.name,t),t.length>t.l?t.slice(0,t.l):t}var Jv,Xv=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],Zv=Lb;function $v(e,t){t||(t=Mb(84)),Jv||(Jv=Qg(Xv));var n=Jv[e.patternType];null==n&&(n=40),t.write_shift(4,n);var r=0;if(40!=n)for(Ny({auto:1},t),Ny({auto:1},t);r<12;++r)t.write_shift(4,0);else{for(;r<4;++r)t.write_shift(4,0);for(;r<12;++r)t.write_shift(4,0)}return t.length>t.l?t.slice(0,t.l):t}function ew(e,t,n){n||(n=Mb(16)),n.write_shift(2,t||0),n.write_shift(2,e.numFmtId||0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(1,0),n.write_shift(1,0);return n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(1,0),n}function tw(e,t){return t||(t=Mb(10)),t.write_shift(1,0),t.write_shift(1,0),t.write_shift(4,0),t.write_shift(4,0),t}var nw=Lb;function rw(e){var t;Ib(e,613,$b(1)),Ib(e,46,(t||(t=Mb(51)),t.write_shift(1,0),tw(0,t),tw(0,t),tw(0,t),tw(0,t),tw(0,t),t.length>t.l?t.slice(0,t.l):t)),Ib(e,614)}function sw(e){var t,n;Ib(e,619,$b(1)),Ib(e,48,(t={xfId:0,builtinId:0,name:"Normal"},n||(n=Mb(52)),n.write_shift(4,t.xfId),n.write_shift(2,1),n.write_shift(1,+t.builtinId),n.write_shift(1,0),Ay(t.name||"",n),n.length>n.l?n.slice(0,n.l):n)),Ib(e,620)}function aw(e){Ib(e,508,function(e,t,n){var r=Mb(2052);return r.write_shift(4,e),Ay(t,r),Ay(n,r),r.length>r.l?r.slice(0,r.l):r}(0,"TableStyleMedium9","PivotStyleMedium4")),Ib(e,509)}function iw(e,t){var n=Fb();return Ib(n,278),function(e,t){if(t){var n=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(e){for(var r=e[0];r<=e[1];++r)null!=t[r]&&++n}),0!=n&&(Ib(e,615,$b(n)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var r=n[0];r<=n[1];++r)null!=t[r]&&Ib(e,44,Gv(r,t[r]))}),Ib(e,616))}}(n,e.SSF),function(e){Ib(e,611,$b(1)),Ib(e,43,Yv({sz:12,color:{theme:1},name:"Calibri",family:2,scheme:"minor"})),Ib(e,612)}(n),function(e){Ib(e,603,$b(2)),Ib(e,45,$v({patternType:"none"})),Ib(e,45,$v({patternType:"gray125"})),Ib(e,604)}(n),rw(n),function(e){Ib(e,626,$b(1)),Ib(e,47,ew({numFmtId:0,fontId:0,fillId:0,borderId:0},65535)),Ib(e,627)}(n),function(e,t){Ib(e,617,$b(t.length)),t.forEach(function(t){Ib(e,47,ew(t,0))}),Ib(e,618)}(n,t.cellXfs),sw(n),function(e){Ib(e,505,$b(0)),Ib(e,506)}(n),aw(n),Ib(n,279),n.end()}function ow(e,t){if(t&&t.themeXLSX)return t.themeXLSX;if(e&&"string"==typeof e.raw)return e.raw;var n=[ox];return n[n.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',n[n.length]="<a:themeElements>",n[n.length]='<a:clrScheme name="Office">',n[n.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',n[n.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',n[n.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',n[n.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',n[n.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',n[n.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',n[n.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',n[n.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',n[n.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',n[n.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',n[n.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',n[n.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',n[n.length]="</a:clrScheme>",n[n.length]='<a:fontScheme name="Office">',n[n.length]="<a:majorFont>",n[n.length]='<a:latin typeface="Cambria"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Times New Roman"/>',n[n.length]='<a:font script="Hebr" typeface="Times New Roman"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="MoolBoran"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Times New Roman"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:majorFont>",n[n.length]="<a:minorFont>",n[n.length]='<a:latin typeface="Calibri"/>',n[n.length]='<a:ea typeface=""/>',n[n.length]='<a:cs typeface=""/>',n[n.length]='<a:font script="Jpan" typeface="\uff2d\uff33 \uff30\u30b4\u30b7\u30c3\u30af"/>',n[n.length]='<a:font script="Hang" typeface="\ub9d1\uc740 \uace0\ub515"/>',n[n.length]='<a:font script="Hans" typeface="\u5b8b\u4f53"/>',n[n.length]='<a:font script="Hant" typeface="\u65b0\u7d30\u660e\u9ad4"/>',n[n.length]='<a:font script="Arab" typeface="Arial"/>',n[n.length]='<a:font script="Hebr" typeface="Arial"/>',n[n.length]='<a:font script="Thai" typeface="Tahoma"/>',n[n.length]='<a:font script="Ethi" typeface="Nyala"/>',n[n.length]='<a:font script="Beng" typeface="Vrinda"/>',n[n.length]='<a:font script="Gujr" typeface="Shruti"/>',n[n.length]='<a:font script="Khmr" typeface="DaunPenh"/>',n[n.length]='<a:font script="Knda" typeface="Tunga"/>',n[n.length]='<a:font script="Guru" typeface="Raavi"/>',n[n.length]='<a:font script="Cans" typeface="Euphemia"/>',n[n.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',n[n.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',n[n.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',n[n.length]='<a:font script="Thaa" typeface="MV Boli"/>',n[n.length]='<a:font script="Deva" typeface="Mangal"/>',n[n.length]='<a:font script="Telu" typeface="Gautami"/>',n[n.length]='<a:font script="Taml" typeface="Latha"/>',n[n.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',n[n.length]='<a:font script="Orya" typeface="Kalinga"/>',n[n.length]='<a:font script="Mlym" typeface="Kartika"/>',n[n.length]='<a:font script="Laoo" typeface="DokChampa"/>',n[n.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',n[n.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',n[n.length]='<a:font script="Viet" typeface="Arial"/>',n[n.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',n[n.length]='<a:font script="Geor" typeface="Sylfaen"/>',n[n.length]="</a:minorFont>",n[n.length]="</a:fontScheme>",n[n.length]='<a:fmtScheme name="Office">',n[n.length]="<a:fillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="1"/>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:lin ang="16200000" scaled="0"/>',n[n.length]="</a:gradFill>",n[n.length]="</a:fillStyleLst>",n[n.length]="<a:lnStyleLst>",n[n.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',n[n.length]="</a:lnStyleLst>",n[n.length]="<a:effectStyleLst>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]="</a:effectStyle>",n[n.length]="<a:effectStyle>",n[n.length]="<a:effectLst>",n[n.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',n[n.length]="</a:effectLst>",n[n.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',n[n.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',n[n.length]="</a:effectStyle>",n[n.length]="</a:effectStyleLst>",n[n.length]="<a:bgFillStyleLst>",n[n.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]='<a:gradFill rotWithShape="1">',n[n.length]="<a:gsLst>",n[n.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',n[n.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',n[n.length]="</a:gsLst>",n[n.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',n[n.length]="</a:gradFill>",n[n.length]="</a:bgFillStyleLst>",n[n.length]="</a:fmtScheme>",n[n.length]="</a:themeElements>",n[n.length]="<a:objectDefaults>",n[n.length]="<a:spDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',n[n.length]="</a:spDef>",n[n.length]="<a:lnDef>",n[n.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',n[n.length]="</a:lnDef>",n[n.length]="</a:objectDefaults>",n[n.length]="<a:extraClrSchemeLst/>",n[n.length]="</a:theme>",n.join("")}function lw(){var e=Fb();return Ib(e,332),Ib(e,334,$b(1)),Ib(e,335,function(e){var t=Mb(12+2*e.name.length);return t.write_shift(4,e.flags),t.write_shift(4,e.version),ty(e.name,t),t.slice(0,t.l)}({name:"XLDAPR",version:12e4,flags:3496657072})),Ib(e,336),Ib(e,339,function(e,t){var n=Mb(8+2*t.length);return n.write_shift(4,e),ty(t,n),n.slice(0,n.l)}(1,"XLDAPR")),Ib(e,52),Ib(e,35,$b(514)),Ib(e,4096,$b(0)),Ib(e,4097,rv(1)),Ib(e,36),Ib(e,53),Ib(e,340),Ib(e,337,function(e,t){var n=Mb(8);return n.write_shift(4,e),n.write_shift(4,t?1:0),n}(1,!0)),Ib(e,51,function(e){var t=Mb(4+8*e.length);t.write_shift(4,e.length);for(var n=0;n<e.length;++n)t.write_shift(4,e[n][0]),t.write_shift(4,e[n][1]);return t}([[1,0]])),Ib(e,338),Ib(e,333),e.end()}function cw(){var e=[ox];return e.push('<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">\n  <metadataTypes count="1">\n    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>\n  </metadataTypes>\n  <futureMetadata name="XLDAPR" count="1">\n    <bk>\n      <extLst>\n        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">\n          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>\n        </ext>\n      </extLst>\n    </bk>\n  </futureMetadata>\n  <cellMetadata count="1">\n    <bk>\n      <rc t="1" v="0"/>\n    </bk>\n  </cellMetadata>\n</metadata>'),e.join("")}var dw=1024;function uw(e,t){for(var n=[21600,21600],r=["m0,0l0",n[1],n[0],n[1],n[0],"0xe"].join(","),s=[Sx("xml",null,{"xmlns:v":Gx,"xmlns:o":Hx,"xmlns:x":Kx,"xmlns:mv":qx}).replace(/\/>/,">"),Sx("o:shapelayout",Sx("o:idmap",null,{"v:ext":"edit",data:e}),{"v:ext":"edit"}),Sx("v:shapetype",[Sx("v:stroke",null,{joinstyle:"miter"}),Sx("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:n.join(","),path:r})];dw<1e3*e;)dw+=1e3;return t.forEach(function(e){var t=Hb(e[0]),n={color2:"#BEFF82",type:"gradient"};"gradient"==n.type&&(n.angle="-180");var r="gradient"==n.type?Sx("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,a=Sx("v:fill",r,n);++dw,s=s.concat(["<v:shape"+Cx({id:"_x0000_s"+dw,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(e[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",a,Sx("v:shadow",null,{on:"t",obscured:"t"}),Sx("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",_x("x:Anchor",[t.c+1,0,t.r+1,0,t.c+3,20,t.r+5,20].join(",")),_x("x:AutoFill","False"),_x("x:Row",String(t.r)),_x("x:Column",String(t.c)),e[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),s.push("</xml>"),s.join("")}function hw(e){var t=[ox,Sx("comments",null,{xmlns:zx[0]})],n=[];return t.push("<authors>"),e.forEach(function(e){e[1].forEach(function(e){var r=hx(e.a);-1==n.indexOf(r)&&(n.push(r),t.push("<author>"+r+"</author>")),e.T&&e.ID&&-1==n.indexOf("tc="+e.ID)&&(n.push("tc="+e.ID),t.push("<author>tc="+e.ID+"</author>"))})}),0==n.length&&(n.push("SheetJ5"),t.push("<author>SheetJ5</author>")),t.push("</authors>"),t.push("<commentList>"),e.forEach(function(e){var r=0,s=[];if(e[1][0]&&e[1][0].T&&e[1][0].ID?r=n.indexOf("tc="+e[1][0].ID):e[1].forEach(function(e){e.a&&(r=n.indexOf(hx(e.a))),s.push(e.t||"")}),t.push('<comment ref="'+e[0]+'" authorId="'+r+'"><text>'),s.length<=1)t.push(_x("t",hx(s[0]||"")));else{for(var a="Comment:\n    "+s[0]+"\n",i=1;i<s.length;++i)a+="Reply:\n    "+s[i]+"\n";t.push(_x("t",hx(a)))}t.push("</text></comment>")}),t.push("</commentList>"),t.length>2&&(t[t.length]="</comments>",t[1]=t[1].replace("/>",">")),t.join("")}function Aw(e,t,n){var r=[ox,Sx("ThreadedComments",null,{xmlns:Ix}).replace(/[\/]>/,">")];return e.forEach(function(e){var s="";(e[1]||[]).forEach(function(a,i){if(a.T){a.a&&-1==t.indexOf(a.a)&&t.push(a.a);var o={ref:e[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+n.tcid++).slice(-12)+"}"};0==i?s=o.id:o.parentId=s,a.ID=o.id,a.a&&(o.personId="{54EE7950-7262-4200-6969-"+("000000000000"+t.indexOf(a.a)).slice(-12)+"}"),r.push(Sx("threadedComment",_x("text",a.t||""),o))}else delete a.ID})}),r.push("</ThreadedComments>"),r.join("")}var fw=ey;function mw(e){var t=Fb(),n=[];return Ib(t,628),Ib(t,630),e.forEach(function(e){e[1].forEach(function(e){n.indexOf(e.a)>-1||(n.push(e.a.slice(0,54)),Ib(t,632,function(e){return ty(e.slice(0,54))}(e.a)))})}),Ib(t,631),Ib(t,633),e.forEach(function(e){e[1].forEach(function(r){r.iauthor=n.indexOf(r.a);var s={s:Hb(e[0]),e:Hb(e[0])};Ib(t,635,function(e,t){return null==t&&(t=Mb(36)),t.write_shift(4,e[1].iauthor),vy(e[0],t),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t.write_shift(4,0),t}([s,r])),r.t&&r.t.length>0&&Ib(t,637,ay(r)),Ib(t,636),delete r.iauthor})}),Ib(t,634),Ib(t,629),t.end()}var pw=["xlsb","xlsm","xlam","biff8","xla"];var gw=function(){var e=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,t={r:0,c:0};function n(e,n,r,s){var a=!1,i=!1;0==r.length?i=!0:"["==r.charAt(0)&&(i=!0,r=r.slice(1,-1)),0==s.length?a=!0:"["==s.charAt(0)&&(a=!0,s=s.slice(1,-1));var o=r.length>0?0|parseInt(r,10):0,l=s.length>0?0|parseInt(s,10):0;return a?l+=t.c:--l,i?o+=t.r:--o,n+(a?"":"$")+zb(l)+(i?"":"$")+Rb(o)}return function(r,s){return t=s,r.replace(e,n)}}(),xw=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,bw=function(){return function(e,t){return e.replace(xw,function(e,n,r,s,a,i){var o=Qb(s)-(r?0:t.c),l=Ub(i)-(a?0:t.r);return n+"R"+(0==l?"":a?l+1:"["+l+"]")+"C"+(0==o?"":r?o+1:"["+o+"]")})}}();function yw(e,t){return e.replace(xw,function(e,n,r,s,a,i){return n+("$"==r?r+s:zb(Qb(s)+t.c))+("$"==a?a+i:Rb(Ub(i)+t.r))})}function vw(e){e.l+=1}function ww(e,t){var n=e.read_shift(1==t?1:2);return[16383&n,n>>14&1,n>>15&1]}function jw(e,t,n){var r=2;if(n){if(n.biff>=2&&n.biff<=5)return Nw(e);12==n.biff&&(r=4)}var s=e.read_shift(r),a=e.read_shift(r),i=ww(e,2),o=ww(e,2);return{s:{r:s,c:i[0],cRel:i[1],rRel:i[2]},e:{r:a,c:o[0],cRel:o[1],rRel:o[2]}}}function Nw(e){var t=ww(e,2),n=ww(e,2),r=e.read_shift(1),s=e.read_shift(1);return{s:{r:t[0],c:r,cRel:t[1],rRel:t[2]},e:{r:n[0],c:s,cRel:n[1],rRel:n[2]}}}function _w(e,t,n){if(n&&n.biff>=2&&n.biff<=5)return function(e){var t=ww(e,2),n=e.read_shift(1);return{r:t[0],c:n,cRel:t[1],rRel:t[2]}}(e);var r=e.read_shift(n&&12==n.biff?4:2),s=ww(e,2);return{r:r,c:s[0],cRel:s[1],rRel:s[2]}}function Cw(e){var t=e.read_shift(2),n=e.read_shift(2);return{r:t,c:255&n,fQuoted:!!(16384&n),cRel:n>>15,rRel:n>>15}}function Sw(e){var t=1&e[e.l+1];return e.l+=4,[t,1]}function kw(e){return[e.read_shift(1),e.read_shift(1)]}function Bw(e,t){var n=[e.read_shift(1)];if(12==t)switch(n[0]){case 2:n[0]=4;break;case 4:n[0]=16;break;case 0:n[0]=1;break;case 1:n[0]=2}switch(n[0]){case 4:n[1]=ev(e,1)?"TRUE":"FALSE",12!=t&&(e.l+=7);break;case 37:case 16:n[1]=Ey[e[e.l]],e.l+=12==t?4:8;break;case 0:e.l+=8;break;case 1:n[1]=wy(e);break;case 2:n[1]=cv(e,0,{biff:t>0&&t<8?2:t});break;default:throw new Error("Bad SerAr: "+n[0])}return n}function Ew(e,t,n){for(var r=e.read_shift(12==n.biff?4:2),s=[],a=0;a!=r;++a)s.push((12==n.biff?yy:mv)(e,8));return s}function Lw(e,t,n){var r=0,s=0;12==n.biff?(r=e.read_shift(4),s=e.read_shift(4)):(s=1+e.read_shift(1),r=1+e.read_shift(2)),n.biff>=2&&n.biff<8&&(--r,0==--s&&(s=256));for(var a=0,i=[];a!=r&&(i[a]=[]);++a)for(var o=0;o!=s;++o)i[a][o]=Bw(e,n.biff);return i}function Mw(e,t,n){return e.l+=2,[Cw(e)]}function Fw(e){return e.l+=6,[]}function Iw(e){return e.l+=2,[nv(e),1&e.read_shift(2)]}var Dw=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];var Tw={1:{n:"PtgExp",f:function(e,t,n){return e.l++,n&&12==n.biff?[e.read_shift(4,"i"),0]:[e.read_shift(2),e.read_shift(n&&2==n.biff?1:2)]}},2:{n:"PtgTbl",f:Lb},3:{n:"PtgAdd",f:vw},4:{n:"PtgSub",f:vw},5:{n:"PtgMul",f:vw},6:{n:"PtgDiv",f:vw},7:{n:"PtgPower",f:vw},8:{n:"PtgConcat",f:vw},9:{n:"PtgLt",f:vw},10:{n:"PtgLe",f:vw},11:{n:"PtgEq",f:vw},12:{n:"PtgGe",f:vw},13:{n:"PtgGt",f:vw},14:{n:"PtgNe",f:vw},15:{n:"PtgIsect",f:vw},16:{n:"PtgUnion",f:vw},17:{n:"PtgRange",f:vw},18:{n:"PtgUplus",f:vw},19:{n:"PtgUminus",f:vw},20:{n:"PtgPercent",f:vw},21:{n:"PtgParen",f:vw},22:{n:"PtgMissArg",f:vw},23:{n:"PtgStr",f:function(e,t,n){return e.l++,av(e,0,n)}},26:{n:"PtgSheet",f:function(e,t,n){return e.l+=5,e.l+=2,e.l+=2==n.biff?1:4,["PTGSHEET"]}},27:{n:"PtgEndSheet",f:function(e,t,n){return e.l+=2==n.biff?4:5,["PTGENDSHEET"]}},28:{n:"PtgErr",f:function(e){return e.l++,Ey[e.read_shift(1)]}},29:{n:"PtgBool",f:function(e){return e.l++,0!==e.read_shift(1)}},30:{n:"PtgInt",f:function(e){return e.l++,e.read_shift(2)}},31:{n:"PtgNum",f:function(e){return e.l++,wy(e)}},32:{n:"PtgArray",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=2==n.biff?6:12==n.biff?14:7,[r]}},33:{n:"PtgFunc",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var s=e.read_shift(n&&n.biff<=3?1:2);return[tj[s],ej[s],r]}},34:{n:"PtgFuncVar",f:function(e,t,n){var r=e[e.l++],s=e.read_shift(1),a=n&&n.biff<=3?[88==r?-1:0,e.read_shift(1)]:function(e){return[e[e.l+1]>>7,32767&e.read_shift(2)]}(e);return[s,(0===a[0]?ej:$w)[a[1]]]}},35:{n:"PtgName",f:function(e,t,n){var r=e.read_shift(1)>>>5&3,s=!n||n.biff>=8?4:2,a=e.read_shift(s);switch(n.biff){case 2:e.l+=5;break;case 3:case 4:e.l+=8;break;case 5:e.l+=12}return[r,0,a]}},36:{n:"PtgRef",f:function(e,t,n){var r=(96&e[e.l])>>5;return e.l+=1,[r,_w(e,0,n)]}},37:{n:"PtgArea",f:function(e,t,n){return[(96&e[e.l++])>>5,jw(e,n.biff>=2&&n.biff,n)]}},38:{n:"PtgMemArea",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=n&&2==n.biff?3:4,[r,e.read_shift(n&&2==n.biff?1:2)]}},39:{n:"PtgMemErr",f:Lb},40:{n:"PtgMemNoMem",f:Lb},41:{n:"PtgMemFunc",f:function(e,t,n){return[e.read_shift(1)>>>5&3,e.read_shift(n&&2==n.biff?1:2)]}},42:{n:"PtgRefErr",f:function(e,t,n){var r=e.read_shift(1)>>>5&3;return e.l+=4,n.biff<8&&e.l--,12==n.biff&&(e.l+=2),[r]}},43:{n:"PtgAreaErr",f:function(e,t,n){var r=(96&e[e.l++])>>5;return e.l+=n&&n.biff>8?12:n.biff<8?6:8,[r]}},44:{n:"PtgRefN",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var s=function(e,t,n){var r=n&&n.biff?n.biff:8;if(r>=2&&r<=5)return function(e){var t=e.read_shift(2),n=e.read_shift(1),r=(32768&t)>>15,s=(16384&t)>>14;return t&=16383,1==r&&t>=8192&&(t-=16384),1==s&&n>=128&&(n-=256),{r:t,c:n,cRel:s,rRel:r}}(e);var s=e.read_shift(r>=12?4:2),a=e.read_shift(2),i=(16384&a)>>14,o=(32768&a)>>15;if(a&=16383,1==o)for(;s>524287;)s-=1048576;if(1==i)for(;a>8191;)a-=16384;return{r:s,c:a,cRel:i,rRel:o}}(e,0,n);return[r,s]}},45:{n:"PtgAreaN",f:function(e,t,n){var r=(96&e[e.l++])>>5,s=function(e,t,n){if(n.biff<8)return Nw(e);var r=e.read_shift(12==n.biff?4:2),s=e.read_shift(12==n.biff?4:2),a=ww(e,2),i=ww(e,2);return{s:{r:r,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:i[0],cRel:i[1],rRel:i[2]}}}(e,0,n);return[r,s]}},46:{n:"PtgMemAreaN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},47:{n:"PtgMemNoMemN",f:function(e){return[e.read_shift(1)>>>5&3,e.read_shift(2)]}},57:{n:"PtgNameX",f:function(e,t,n){return 5==n.biff?function(e){var t=e.read_shift(1)>>>5&3,n=e.read_shift(2,"i");e.l+=8;var r=e.read_shift(2);return e.l+=12,[t,n,r]}(e):[e.read_shift(1)>>>5&3,e.read_shift(2),e.read_shift(4)]}},58:{n:"PtgRef3d",f:function(e,t,n){var r=(96&e[e.l])>>5;e.l+=1;var s=e.read_shift(2);return n&&5==n.biff&&(e.l+=12),[r,s,_w(e,0,n)]}},59:{n:"PtgArea3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,s=e.read_shift(2,"i");if(n)switch(n.biff){case 5:e.l+=12;break;case 12:0}return[r,s,jw(e,0,n)]}},60:{n:"PtgRefErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,s=e.read_shift(2),a=4;if(n)switch(n.biff){case 5:a=15;break;case 12:a=6}return e.l+=a,[r,s]}},61:{n:"PtgAreaErr3d",f:function(e,t,n){var r=(96&e[e.l++])>>5,s=e.read_shift(2),a=8;if(n)switch(n.biff){case 5:e.l+=12,a=6;break;case 12:a=12}return e.l+=a,[r,s]}},255:{}},Ow={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},Pw={1:{n:"PtgElfLel",f:Iw},2:{n:"PtgElfRw",f:Mw},3:{n:"PtgElfCol",f:Mw},6:{n:"PtgElfRwV",f:Mw},7:{n:"PtgElfColV",f:Mw},10:{n:"PtgElfRadical",f:Mw},11:{n:"PtgElfRadicalS",f:Fw},13:{n:"PtgElfColS",f:Fw},15:{n:"PtgElfColSV",f:Fw},16:{n:"PtgElfRadicalLel",f:Iw},25:{n:"PtgList",f:function(e){e.l+=2;var t=e.read_shift(2),n=e.read_shift(2),r=e.read_shift(4),s=e.read_shift(2),a=e.read_shift(2);return{ixti:t,coltype:3&n,rt:Dw[n>>2&31],idx:r,c:s,C:a}}},29:{n:"PtgSxName",f:function(e){return e.l+=2,[e.read_shift(4)]}},255:{}},Uw={0:{n:"PtgAttrNoop",f:function(e){return e.l+=4,[0,0]}},1:{n:"PtgAttrSemi",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=n&&2==n.biff?3:4,[r]}},2:{n:"PtgAttrIf",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},4:{n:"PtgAttrChoose",f:function(e,t,n){e.l+=2;for(var r=e.read_shift(n&&2==n.biff?1:2),s=[],a=0;a<=r;++a)s.push(e.read_shift(n&&2==n.biff?1:2));return s}},8:{n:"PtgAttrGoto",f:function(e,t,n){var r=255&e[e.l+1]?1:0;return e.l+=2,[r,e.read_shift(n&&2==n.biff?1:2)]}},16:{n:"PtgAttrSum",f:function(e,t,n){e.l+=n&&2==n.biff?3:4}},32:{n:"PtgAttrBaxcel",f:Sw},33:{n:"PtgAttrBaxcel",f:Sw},64:{n:"PtgAttrSpace",f:function(e){return e.read_shift(2),kw(e)}},65:{n:"PtgAttrSpaceSemi",f:function(e){return e.read_shift(2),kw(e)}},128:{n:"PtgAttrIfError",f:function(e){var t=255&e[e.l+1]?1:0;return e.l+=2,[t,e.read_shift(2)]}},255:{}};function Rw(e,t,n,r){if(r.biff<8)return Lb(e,t);for(var s=e.l+t,a=[],i=0;i!==n.length;++i)switch(n[i][0]){case"PtgArray":n[i][1]=Lw(e,0,r),a.push(n[i][1]);break;case"PtgMemArea":n[i][2]=Ew(e,n[i][1],r),a.push(n[i][2]);break;case"PtgExp":r&&12==r.biff&&(n[i][1][1]=e.read_shift(4),a.push(n[i][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+n[i][0]}return 0!==(t=s-e.l)&&a.push(Lb(e,t)),a}function Qw(e,t,n){for(var r,s,a=e.l+t,i=[];a!=e.l;)t=a-e.l,s=e[e.l],r=Tw[s]||Tw[Ow[s]],24!==s&&25!==s||(r=(24===s?Pw:Uw)[e[e.l+1]]),r&&r.f?i.push([r.n,r.f(e,t,n)]):Lb(e,t);return i}function zw(e){for(var t=[],n=0;n<e.length;++n){for(var r=e[n],s=[],a=0;a<r.length;++a){var i=r[a];if(i)if(2===i[0])s.push('"'+i[1].replace(/"/g,'""')+'"');else s.push(i[1]);else s.push("")}t.push(s.join(","))}return t.join(";")}var Hw={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function Kw(e,t,n){if(!e)return"SH33TJSERR0";if(n.biff>8&&(!e.XTI||!e.XTI[t]))return e.SheetNames[t];if(!e.XTI)return"SH33TJSERR6";var r=e.XTI[t];if(n.biff<8)return t>1e4&&(t-=65536),t<0&&(t=-t),0==t?"":e.XTI[t-1];if(!r)return"SH33TJSERR1";var s="";if(n.biff>8)switch(e[r[0]][0]){case 357:return s=-1==r[1]?"#REF":e.SheetNames[r[1]],r[1]==r[2]?s:s+":"+e.SheetNames[r[2]];case 358:return null!=n.SID?e.SheetNames[n.SID]:"SH33TJSSAME"+e[r[0]][0];default:return"SH33TJSSRC"+e[r[0]][0]}switch(e[r[0]][0][0]){case 1025:return s=-1==r[1]?"#REF":e.SheetNames[r[1]]||"SH33TJSERR3",r[1]==r[2]?s:s+":"+e.SheetNames[r[2]];case 14849:return e[r[0]].slice(1).map(function(e){return e.Name}).join(";;");default:return e[r[0]][0][3]?(s=-1==r[1]?"#REF":e[r[0]][0][3][r[1]]||"SH33TJSERR4",r[1]==r[2]?s:s+":"+e[r[0]][0][3][r[2]]):"SH33TJSERR2"}}function Ww(e,t,n){var r=Kw(e,t,n);return"#REF"==r?r:function(e,t){if(!e&&!(t&&t.biff<=5&&t.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(e)?"'"+e+"'":e}(r,n)}function Vw(e,t,n,r,s){var a,i,o,l,c=s&&s.biff||8,d={s:{c:0,r:0},e:{c:0,r:0}},u=[],h=0,A=0,f="";if(!e[0]||!e[0][0])return"";for(var m=-1,p="",g=0,x=e[0].length;g<x;++g){var b=e[0][g];switch(b[0]){case"PtgUminus":u.push("-"+u.pop());break;case"PtgUplus":u.push("+"+u.pop());break;case"PtgPercent":u.push(u.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(a=u.pop(),i=u.pop(),m>=0){switch(e[0][m][1][0]){case 0:p=tx(" ",e[0][m][1][1]);break;case 1:p=tx("\r",e[0][m][1][1]);break;default:if(p="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}i+=p,m=-1}u.push(i+Hw[b[0]]+a);break;case"PtgIsect":a=u.pop(),i=u.pop(),u.push(i+" "+a);break;case"PtgUnion":a=u.pop(),i=u.pop(),u.push(i+","+a);break;case"PtgRange":a=u.pop(),i=u.pop(),u.push(i+":"+a);break;case"PtgAttrChoose":case"PtgAttrGoto":case"PtgAttrIf":case"PtgAttrIfError":case"PtgAttrBaxcel":case"PtgAttrSemi":case"PtgMemArea":case"PtgTbl":case"PtgMemErr":case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":case"PtgMemFunc":case"PtgMemNoMem":break;case"PtgRef":o=Db(b[1][1],d,s),u.push(Ob(o,c));break;case"PtgRefN":o=n?Db(b[1][1],n,s):b[1][1],u.push(Ob(o,c));break;case"PtgRef3d":h=b[1][1],o=Db(b[1][2],d,s);f=Ww(r,h,s);u.push(f+"!"+Ob(o,c));break;case"PtgFunc":case"PtgFuncVar":var y=b[1][0],v=b[1][1];y||(y=0);var w=0==(y&=127)?[]:u.slice(-y);u.length-=y,"User"===v&&(v=w.shift()),u.push(v+"("+w.join(",")+")");break;case"PtgBool":u.push(b[1]?"TRUE":"FALSE");break;case"PtgInt":case"PtgErr":u.push(b[1]);break;case"PtgNum":u.push(String(b[1]));break;case"PtgStr":u.push('"'+b[1].replace(/"/g,'""')+'"');break;case"PtgAreaN":l=Tb(b[1][1],n?{s:n}:d,s),u.push(Pb(l,s));break;case"PtgArea":l=Tb(b[1][1],d,s),u.push(Pb(l,s));break;case"PtgArea3d":h=b[1][1],l=b[1][2],f=Ww(r,h,s),u.push(f+"!"+Pb(l,s));break;case"PtgAttrSum":u.push("SUM("+u.pop()+")");break;case"PtgName":A=b[1][2];var j=(r.names||[])[A-1]||(r[0]||[])[A],N=j?j.Name:"SH33TJSNAME"+String(A);N&&"_xlfn."==N.slice(0,6)&&!s.xlfn&&(N=N.slice(6)),u.push(N);break;case"PtgNameX":var _,C=b[1][1];if(A=b[1][2],!(s.biff<=5)){var S="";if(14849==((r[C]||[])[0]||[])[0]||(1025==((r[C]||[])[0]||[])[0]?r[C][A]&&r[C][A].itab>0&&(S=r.SheetNames[r[C][A].itab-1]+"!"):S=r.SheetNames[A-1]+"!"),r[C]&&r[C][A])S+=r[C][A].Name;else if(r[0]&&r[0][A])S+=r[0][A].Name;else{var k=(Kw(r,C,s)||"").split(";;");k[A-1]?S=k[A-1]:S+="SH33TJSERRX"}u.push(S);break}C<0&&(C=-C),r[C]&&(_=r[C][A]),_||(_={Name:"SH33TJSERRY"}),u.push(_.Name);break;case"PtgParen":var B="(",E=")";if(m>=0){switch(p="",e[0][m][1][0]){case 2:B=tx(" ",e[0][m][1][1])+B;break;case 3:B=tx("\r",e[0][m][1][1])+B;break;case 4:E=tx(" ",e[0][m][1][1])+E;break;case 5:E=tx("\r",e[0][m][1][1])+E;break;default:if(s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+e[0][m][1][0])}m=-1}u.push(B+u.pop()+E);break;case"PtgRefErr":case"PtgRefErr3d":case"PtgAreaErr":case"PtgAreaErr3d":u.push("#REF!");break;case"PtgExp":o={c:b[1][1],r:b[1][0]};var L={c:n.c,r:n.r};if(r.sharedf[Kb(o)]){var M=r.sharedf[Kb(o)];u.push(Vw(M,d,L,r,s))}else{var F=!1;for(a=0;a!=r.arrayf.length;++a)if(i=r.arrayf[a],!(o.c<i[0].s.c||o.c>i[0].e.c)&&!(o.r<i[0].s.r||o.r>i[0].e.r)){u.push(Vw(i[1],d,L,r,s)),F=!0;break}F||u.push(b[1])}break;case"PtgArray":u.push("{"+zw(b[1])+"}");break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":m=g;break;case"PtgMissArg":u.push("");break;case"PtgList":u.push("Table"+b[1].idx+"[#"+b[1].rt+"]");break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");default:throw new Error("Unrecognized Formula Token: "+String(b))}if(3!=s.biff&&m>=0&&-1==["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"].indexOf(e[0][g][0])){var I=!0;switch((b=e[0][m])[1][0]){case 4:I=!1;case 0:p=tx(" ",b[1][1]);break;case 5:I=!1;case 1:p=tx("\r",b[1][1]);break;default:if(p="",s.WTF)throw new Error("Unexpected PtgAttrSpaceType "+b[1][0])}u.push((I?p:"")+u.pop()+(I?"":p)),m=-1}}if(u.length>1&&s.WTF)throw new Error("bad formula stack");return u[0]}function qw(e,t,n,r,s){var a=Av(t,n,s),i=function(e){if(null==e){var t=Mb(8);return t.write_shift(1,3),t.write_shift(1,0),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,65535),t}return jy("number"==typeof e?e:0)}(e.v),o=Mb(6);o.write_shift(2,33),o.write_shift(4,0);for(var l=Mb(e.bf.length),c=0;c<e.bf.length;++c)l[c]=e.bf[c];return Up([a,i,o,l])}function Gw(e,t,n){var r=e.read_shift(4),s=Qw(e,r,n),a=e.read_shift(4);return[s,a>0?Rw(e,a,s,n):null]}var Yw=Gw,Jw=Gw,Xw=Gw,Zw=Gw,$w={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},ej={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},tj={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function nj(e){return("of:="+e.replace(xw,"$1[.$2$3$4$5]").replace(/\]:\[/g,":")).replace(/;/g,"|").replace(/,/g,";")}function rj(e){return e.replace(/\./,"!")}var sj="undefined"!==typeof Map;function aj(e,t,n){var r=0,s=e.length;if(n){if(sj?n.has(t):Object.prototype.hasOwnProperty.call(n,t))for(var a=sj?n.get(t):n[t];r<a.length;++r)if(e[a[r]].t===t)return e.Count++,a[r]}else for(;r<s;++r)if(e[r].t===t)return e.Count++,r;return e[s]={t:t},e.Count++,e.Unique++,n&&(sj?(n.has(t)||n.set(t,[]),n.get(t).push(s)):(Object.prototype.hasOwnProperty.call(n,t)||(n[t]=[]),n[t].push(s))),s}function ij(e,t){var n={min:e+1,max:e+1},r=-1;return t.MDW&&(Uv=t.MDW),null!=t.width?n.customWidth=1:null!=t.wpx?r=Qv(t.wpx):null!=t.wch&&(r=t.wch),r>-1?(n.width=zv(r),n.customWidth=1):null!=t.width&&(n.width=t.width),t.hidden&&(n.hidden=!0),null!=t.level&&(n.outlineLevel=n.level=t.level),n}function oj(e,t){if(e){var n=[.7,.7,.75,.75,.3,.3];"xlml"==t&&(n=[1,1,1,1,.5,.5]),null==e.left&&(e.left=n[0]),null==e.right&&(e.right=n[1]),null==e.top&&(e.top=n[2]),null==e.bottom&&(e.bottom=n[3]),null==e.header&&(e.header=n[4]),null==e.footer&&(e.footer=n[5])}}function lj(e,t,n){var r=n.revssf[null!=t.z?t.z:"General"],s=60,a=e.length;if(null==r&&n.ssf)for(;s<392;++s)if(null==n.ssf[s]){Eg(t.z,s),n.ssf[s]=t.z,n.revssf[t.z]=r=s;break}for(s=0;s!=a;++s)if(e[s].numFmtId===r)return s;return e[a]={numFmtId:r,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},a}function cj(e,t,n){if(e&&e["!ref"]){var r=qb(e["!ref"]);if(r.e.c<r.s.c||r.e.r<r.s.r)throw new Error("Bad range ("+n+"): "+e["!ref"])}}var dj=["objects","scenarios","selectLockedCells","selectUnlockedCells"],uj=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function hj(e,t,n,r){if(e.c&&n["!comments"].push([t,e.c]),void 0===e.v&&"string"!==typeof e.f||"z"===e.t&&!e.f)return"";var s="",a=e.t,i=e.v;if("z"!==e.t)switch(e.t){case"b":s=e.v?"1":"0";break;case"n":s=""+e.v;break;case"e":s=Ey[e.v];break;case"d":r&&r.cellDates?s=Zg(e.v,-1).toISOString():((e=ex(e)).t="n",s=""+(e.v=Kg(Zg(e.v)))),"undefined"===typeof e.z&&(e.z=Xp[14]);break;default:s=e.v}var o=_x("v",hx(s)),l={r:t},c=lj(r.cellXfs,e,r);switch(0!==c&&(l.s=c),e.t){case"n":case"z":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;default:if(null==e.v){delete e.t;break}if(e.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(r&&r.bookSST){o=_x("v",""+aj(r.Strings,e.v,r.revStrings)),l.t="s";break}l.t="str"}if(e.t!=a&&(e.t=a,e.v=i),"string"==typeof e.f&&e.f){var d=e.F&&e.F.slice(0,t.length)==t?{t:"array",ref:e.F}:null;o=Sx("f",hx(e.f),d)+(null!=e.v?o:"")}return e.l&&n["!links"].push([t,e.l]),e.D&&(l.cm=1),Sx("c",o,l)}function Aj(e,t,n,r){var s,a=[ox,Sx("worksheet",null,{xmlns:zx[0],"xmlns:r":Px})],i=n.SheetNames[e],o="",l=n.Sheets[i];null==l&&(l={});var c=l["!ref"]||"A1",d=qb(c);if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+c+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),c=Vb(d)}r||(r={}),l["!comments"]=[];var u=[];!function(e,t,n,r,s){var a=!1,i={},o=null;if("xlsx"!==r.bookType&&t.vbaraw){var l=t.SheetNames[n];try{t.Workbook&&(l=t.Workbook.Sheets[n].CodeName||l)}catch(AB){}a=!0,i.codeName=wx(hx(l))}if(e&&e["!outline"]){var c={summaryBelow:1,summaryRight:1};e["!outline"].above&&(c.summaryBelow=0),e["!outline"].left&&(c.summaryRight=0),o=(o||"")+Sx("outlinePr",null,c)}(a||o)&&(s[s.length]=Sx("sheetPr",o,i))}(l,n,e,t,a),a[a.length]=Sx("dimension",null,{ref:c}),a[a.length]=function(e,t,n,r){var s={workbookViewId:"0"};return(((r||{}).Workbook||{}).Views||[])[0]&&(s.rightToLeft=r.Workbook.Views[0].RTL?"1":"0"),Sx("sheetViews",Sx("sheetView",null,s),{})}(0,0,0,n),t.sheetFormat&&(a[a.length]=Sx("sheetFormatPr",null,{defaultRowHeight:t.sheetFormat.defaultRowHeight||"16",baseColWidth:t.sheetFormat.baseColWidth||"10",outlineLevelRow:t.sheetFormat.outlineLevelRow||"7"})),null!=l["!cols"]&&l["!cols"].length>0&&(a[a.length]=function(e,t){for(var n,r=["<cols>"],s=0;s!=t.length;++s)(n=t[s])&&(r[r.length]=Sx("col",null,ij(s,n)));return r[r.length]="</cols>",r.join("")}(0,l["!cols"])),a[s=a.length]="<sheetData/>",l["!links"]=[],null!=l["!ref"]&&(o=function(e,t){var n,r,s=[],a=[],i=qb(e["!ref"]),o="",l="",c=[],d=0,u=0,h=e["!rows"],A=Array.isArray(e),f={r:l},m=-1;for(u=i.s.c;u<=i.e.c;++u)c[u]=zb(u);for(d=i.s.r;d<=i.e.r;++d){for(a=[],l=Rb(d),u=i.s.c;u<=i.e.c;++u){n=c[u]+l;var p=A?(e[d]||[])[u]:e[n];void 0!==p&&null!=(o=hj(p,n,e,t))&&a.push(o)}(a.length>0||h&&h[d])&&(f={r:l},h&&h[d]&&((r=h[d]).hidden&&(f.hidden=1),m=-1,r.hpx?m=Wv(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(f.ht=m,f.customHeight=1),r.level&&(f.outlineLevel=r.level)),s[s.length]=Sx("row",a.join(""),f))}if(h)for(;d<h.length;++d)h&&h[d]&&(f={r:d+1},(r=h[d]).hidden&&(f.hidden=1),m=-1,r.hpx?m=Wv(r.hpx):r.hpt&&(m=r.hpt),m>-1&&(f.ht=m,f.customHeight=1),r.level&&(f.outlineLevel=r.level),s[s.length]=Sx("row","",f));return s.join("")}(l,t,0,0),o.length>0&&(a[a.length]=o)),a.length>s+1&&(a[a.length]="</sheetData>",a[s]=a[s].replace("/>",">")),l["!protect"]&&(a[a.length]=function(e){var t={sheet:1};return dj.forEach(function(n){null!=e[n]&&e[n]&&(t[n]="1")}),uj.forEach(function(n){null==e[n]||e[n]||(t[n]="0")}),e.password&&(t.password=Tv(e.password).toString(16).toUpperCase()),Sx("sheetProtection",null,t)}(l["!protect"])),null!=l["!autofilter"]&&(a[a.length]=function(e,t,n,r){var s="string"==typeof e.ref?e.ref:Vb(e.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var a=n.Workbook.Names,i=Wb(s);i.s.r==i.e.r&&(i.e.r=Wb(t["!ref"]).e.r,s=Vb(i));for(var o=0;o<a.length;++o){var l=a[o];if("_xlnm._FilterDatabase"==l.Name&&l.Sheet==r){l.Ref="'"+n.SheetNames[r]+"'!"+s;break}}return o==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+s}),Sx("autoFilter",null,{ref:s})}(l["!autofilter"],l,n,e)),null!=l["!merges"]&&l["!merges"].length>0&&(a[a.length]=function(e){if(0===e.length)return"";for(var t='<mergeCells count="'+e.length+'">',n=0;n!=e.length;++n)t+='<mergeCell ref="'+Vb(e[n])+'"/>';return t+"</mergeCells>"}(l["!merges"]));var h,A,f=-1,m=-1;return l["!links"].length>0&&(a[a.length]="<hyperlinks>",l["!links"].forEach(function(e){e[1].Target&&(h={ref:e[0]},"#"!=e[1].Target.charAt(0)&&(m=Oy(r,-1,hx(e[1].Target).replace(/#.*$/,""),Iy.HLINK),h["r:id"]="rId"+m),(f=e[1].Target.indexOf("#"))>-1&&(h.location=hx(e[1].Target.slice(f+1))),e[1].Tooltip&&(h.tooltip=hx(e[1].Tooltip)),a[a.length]=Sx("hyperlink",null,h))}),a[a.length]="</hyperlinks>"),delete l["!links"],null!=l["!margins"]&&(a[a.length]=(oj(A=l["!margins"]),Sx("pageMargins",null,A))),t&&!t.ignoreEC&&void 0!=t.ignoreEC||(a[a.length]=_x("ignoredErrors",Sx("ignoredError",null,{numberStoredAsText:1,sqref:c}))),u.length>0&&(m=Oy(r,-1,"../drawings/drawing"+(e+1)+".xml",Iy.DRAW),a[a.length]=Sx("drawing",null,{"r:id":"rId"+m}),l["!drawing"]=u),l["!comments"].length>0&&(m=Oy(r,-1,"../drawings/vmlDrawing"+(e+1)+".vml",Iy.VML),a[a.length]=Sx("legacyDrawing",null,{"r:id":"rId"+m}),l["!legacy"]=m),a.length>1&&(a[a.length]="</worksheet>",a[1]=a[1].replace("/>",">")),a.join("")}function fj(e,t,n,r){var s=function(e,t,n){var r=Mb(145),s=(n["!rows"]||[])[e]||{};r.write_shift(4,e),r.write_shift(4,0);var a=320;s.hpx?a=20*Wv(s.hpx):s.hpt&&(a=20*s.hpt),r.write_shift(2,a),r.write_shift(1,0);var i=0;s.level&&(i|=s.level),s.hidden&&(i|=16),(s.hpx||s.hpt)&&(i|=32),r.write_shift(1,i),r.write_shift(1,0);var o=0,l=r.l;r.l+=4;for(var c={r:e,c:0},d=0;d<16;++d)if(!(t.s.c>d+1<<10||t.e.c<d<<10)){for(var u=-1,h=-1,A=d<<10;A<d+1<<10;++A)c.c=A,(Array.isArray(n)?(n[c.r]||[])[c.c]:n[Kb(c)])&&(u<0&&(u=A),h=A);u<0||(++o,r.write_shift(4,u),r.write_shift(4,h))}var f=r.l;return r.l=l,r.write_shift(4,o),r.l=f,r.length>r.l?r.slice(0,r.l):r}(r,n,t);(s.length>17||(t["!rows"]||[])[r])&&Ib(e,0,s)}var mj=yy,pj=vy;function gj(e){return[ly(e),wy(e),"n"]}var xj=yy,bj=vy;var yj=["left","right","top","bottom","header","footer"];function vj(e,t,n,r,s,a,i){if(void 0===t.v)return!1;var o="";switch(t.t){case"b":o=t.v?"1":"0";break;case"d":(t=ex(t)).z=t.z||Xp[14],t.v=Kg(Zg(t.v)),t.t="n";break;case"n":case"e":o=""+t.v;break;default:o=t.v}var l={r:n,c:r};switch(l.s=lj(s.cellXfs,t,s),t.l&&a["!links"].push([Kb(l),t.l]),t.c&&a["!comments"].push([Kb(l),t.c]),t.t){case"s":case"str":return s.bookSST?(o=aj(s.Strings,t.v,s.revStrings),l.t="s",l.v=o,i?Ib(e,18,function(e,t,n){return null==n&&(n=Mb(8)),cy(t,n),n.write_shift(4,t.v),n}(0,l)):Ib(e,7,function(e,t,n){return null==n&&(n=Mb(12)),oy(t,n),n.write_shift(4,t.v),n}(0,l))):(l.t="str",i?Ib(e,17,function(e,t,n){return null==n&&(n=Mb(8+4*e.v.length)),cy(t,n),ty(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l)):Ib(e,6,function(e,t,n){return null==n&&(n=Mb(12+4*e.v.length)),oy(t,n),ty(e.v,n),n.length>n.l?n.slice(0,n.l):n}(t,l))),!0;case"n":return t.v==(0|t.v)&&t.v>-1e3&&t.v<1e3?i?Ib(e,13,function(e,t,n){return null==n&&(n=Mb(8)),cy(t,n),xy(e.v,n),n}(t,l)):Ib(e,2,function(e,t,n){return null==n&&(n=Mb(12)),oy(t,n),xy(e.v,n),n}(t,l)):i?Ib(e,16,function(e,t,n){return null==n&&(n=Mb(12)),cy(t,n),jy(e.v,n),n}(t,l)):Ib(e,5,function(e,t,n){return null==n&&(n=Mb(16)),oy(t,n),jy(e.v,n),n}(t,l)),!0;case"b":return l.t="b",i?Ib(e,15,function(e,t,n){return null==n&&(n=Mb(5)),cy(t,n),n.write_shift(1,e.v?1:0),n}(t,l)):Ib(e,4,function(e,t,n){return null==n&&(n=Mb(9)),oy(t,n),n.write_shift(1,e.v?1:0),n}(t,l)),!0;case"e":return l.t="e",i?Ib(e,14,function(e,t,n){return null==n&&(n=Mb(8)),cy(t,n),n.write_shift(1,e.v),n.write_shift(2,0),n.write_shift(1,0),n}(t,l)):Ib(e,3,function(e,t,n){return null==n&&(n=Mb(9)),oy(t,n),n.write_shift(1,e.v),n}(t,l)),!0}return i?Ib(e,12,function(e,t,n){return null==n&&(n=Mb(4)),cy(t,n)}(0,l)):Ib(e,1,function(e,t,n){return null==n&&(n=Mb(8)),oy(t,n)}(0,l)),!0}function wj(e,t){var n,r;t&&t["!merges"]&&(Ib(e,177,(n=t["!merges"].length,null==r&&(r=Mb(4)),r.write_shift(4,n),r)),t["!merges"].forEach(function(t){Ib(e,176,bj(t))}),Ib(e,178))}function jj(e,t){t&&t["!cols"]&&(Ib(e,390),t["!cols"].forEach(function(t,n){t&&Ib(e,60,function(e,t,n){null==n&&(n=Mb(18));var r=ij(e,t);n.write_shift(-4,e),n.write_shift(-4,e),n.write_shift(4,256*(r.width||10)),n.write_shift(4,0);var s=0;return t.hidden&&(s|=1),"number"==typeof r.width&&(s|=2),t.level&&(s|=t.level<<8),n.write_shift(2,s),n}(n,t))}),Ib(e,391))}function Nj(e,t){t&&t["!ref"]&&(Ib(e,648),Ib(e,649,function(e){var t=Mb(24);return t.write_shift(4,4),t.write_shift(4,1),vy(e,t),t}(qb(t["!ref"]))),Ib(e,650))}function _j(e,t,n){t["!links"].forEach(function(t){if(t[1].Target){var r=Oy(n,-1,t[1].Target.replace(/#.*$/,""),Iy.HLINK);Ib(e,494,function(e,t){var n=Mb(50+4*(e[1].Target.length+(e[1].Tooltip||"").length));vy({s:Hb(e[0]),e:Hb(e[0])},n),py("rId"+t,n);var r=e[1].Target.indexOf("#");return ty((-1==r?"":e[1].Target.slice(r+1))||"",n),ty(e[1].Tooltip||"",n),ty("",n),n.slice(0,n.l)}(t,r))}}),delete t["!links"]}function Cj(e,t,n){Ib(e,133),Ib(e,137,function(e,t,n){null==n&&(n=Mb(30));var r=924;return(((t||{}).Views||[])[0]||{}).RTL&&(r|=32),n.write_shift(2,r),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(1,0),n.write_shift(1,0),n.write_shift(2,0),n.write_shift(2,100),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(2,0),n.write_shift(4,0),n}(0,n)),Ib(e,138),Ib(e,134)}function Sj(e,t){var n,r;t["!protect"]&&Ib(e,535,(n=t["!protect"],null==r&&(r=Mb(66)),r.write_shift(2,n.password?Tv(n.password):0),r.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(e){e[1]?r.write_shift(4,null==n[e[0]]||n[e[0]]?0:1):r.write_shift(4,null!=n[e[0]]&&n[e[0]]?0:1)}),r))}function kj(e,t,n,r){var s=Fb(),a=n.SheetNames[e],i=n.Sheets[a]||{},o=a;try{n&&n.Workbook&&(o=n.Workbook.Sheets[e].CodeName||o)}catch(AB){}var l,c,d=qb(i["!ref"]||"A1");if(d.e.c>16383||d.e.r>1048575){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575)}return i["!links"]=[],i["!comments"]=[],Ib(s,129),(n.vbaraw||i["!outline"])&&Ib(s,147,function(e,t,n){null==n&&(n=Mb(84+4*e.length));var r=192;t&&(t.above&&(r&=-65),t.left&&(r&=-129)),n.write_shift(1,r);for(var s=1;s<3;++s)n.write_shift(1,0);return Ny({auto:1},n),n.write_shift(-4,-1),n.write_shift(-4,-1),uy(e,n),n.slice(0,n.l)}(o,i["!outline"])),Ib(s,148,pj(d)),Cj(s,0,n.Workbook),jj(s,i),function(e,t,n,r){var s,a=qb(t["!ref"]||"A1"),i="",o=[];Ib(e,145);var l=Array.isArray(t),c=a.e.r;t["!rows"]&&(c=Math.max(a.e.r,t["!rows"].length-1));for(var d=a.s.r;d<=c;++d){i=Rb(d),fj(e,t,a,d);var u=!1;if(d<=a.e.r)for(var h=a.s.c;h<=a.e.c;++h){d===a.s.r&&(o[h]=zb(h)),s=o[h]+i;var A=l?(t[d]||[])[h]:t[s];u=!!A&&vj(e,A,d,h,r,t,u)}}Ib(e,146)}(s,i,0,t),Sj(s,i),function(e,t,n,r){if(t["!autofilter"]){var s=t["!autofilter"],a="string"===typeof s.ref?s.ref:Vb(s.ref);n.Workbook||(n.Workbook={Sheets:[]}),n.Workbook.Names||(n.Workbook.Names=[]);var i=n.Workbook.Names,o=Wb(a);o.s.r==o.e.r&&(o.e.r=Wb(t["!ref"]).e.r,a=Vb(o));for(var l=0;l<i.length;++l){var c=i[l];if("_xlnm._FilterDatabase"==c.Name&&c.Sheet==r){c.Ref="'"+n.SheetNames[r]+"'!"+a;break}}l==i.length&&i.push({Name:"_xlnm._FilterDatabase",Sheet:r,Ref:"'"+n.SheetNames[r]+"'!"+a}),Ib(e,161,vy(qb(a))),Ib(e,162)}}(s,i,n,e),wj(s,i),_j(s,i,r),i["!margins"]&&Ib(s,476,(l=i["!margins"],null==c&&(c=Mb(48)),oj(l),yj.forEach(function(e){jy(l[e],c)}),c)),t&&!t.ignoreEC&&void 0!=t.ignoreEC||Nj(s,i),function(e,t,n,r){if(t["!comments"].length>0){var s=Oy(r,-1,"../drawings/vmlDrawing"+(n+1)+".vml",Iy.VML);Ib(e,551,py("rId"+s)),t["!legacy"]=s}}(s,i,e,r),Ib(s,130),s.end()}var Bj=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];var Ej="][*?/\\".split("");function Lj(e,t){if(e.length>31){if(t)return!1;throw new Error("Sheet names cannot exceed 31 chars")}var n=!0;return Ej.forEach(function(r){if(-1!=e.indexOf(r)){if(!t)throw new Error("Sheet name cannot contain : \\ / ? * [ ]");n=!1}}),n}function Mj(e){if(!e||!e.SheetNames||!e.Sheets)throw new Error("Invalid Workbook");if(!e.SheetNames.length)throw new Error("Workbook is empty");var t=e.Workbook&&e.Workbook.Sheets||[];!function(e,t,n){e.forEach(function(r,s){Lj(r);for(var a=0;a<s;++a)if(r==e[a])throw new Error("Duplicate Sheet Name: "+r);if(n){var i=t&&t[s]&&t[s].CodeName||r;if(95==i.charCodeAt(0)&&i.length>22)throw new Error("Bad Code Name: Worksheet"+i)}})}(e.SheetNames,t,!!e.vbaraw);for(var n=0;n<e.SheetNames.length;++n)cj(e.Sheets[e.SheetNames[n]],e.SheetNames[n],n)}function Fj(e){var t=[ox];t[t.length]=Sx("workbook",null,{xmlns:zx[0],"xmlns:r":Px});var n=e.Workbook&&(e.Workbook.Names||[]).length>0,r={codeName:"ThisWorkbook"};e.Workbook&&e.Workbook.WBProps&&(Bj.forEach(function(t){null!=e.Workbook.WBProps[t[0]]&&e.Workbook.WBProps[t[0]]!=t[1]&&(r[t[0]]=e.Workbook.WBProps[t[0]])}),e.Workbook.WBProps.CodeName&&(r.codeName=e.Workbook.WBProps.CodeName,delete r.CodeName)),t[t.length]=Sx("workbookPr",null,r);var s=e.Workbook&&e.Workbook.Sheets||[],a=0;if(s&&s[0]&&s[0].Hidden){for(t[t.length]="<bookViews>",a=0;a!=e.SheetNames.length&&s[a]&&s[a].Hidden;++a);a==e.SheetNames.length&&(a=0),t[t.length]='<workbookView firstSheet="'+a+'" activeTab="'+a+'"/>',t[t.length]="</bookViews>"}for(t[t.length]="<sheets>",a=0;a!=e.SheetNames.length;++a){var i={name:hx(e.SheetNames[a].slice(0,31))};if(i.sheetId=""+(a+1),i["r:id"]="rId"+(a+1),s[a])switch(s[a].Hidden){case 1:i.state="hidden";break;case 2:i.state="veryHidden"}t[t.length]=Sx("sheet",null,i)}return t[t.length]="</sheets>",n&&(t[t.length]="<definedNames>",e.Workbook&&e.Workbook.Names&&e.Workbook.Names.forEach(function(e){var n={name:e.Name};e.Comment&&(n.comment=e.Comment),null!=e.Sheet&&(n.localSheetId=""+e.Sheet),e.Hidden&&(n.hidden="1"),e.Ref&&(t[t.length]=Sx("definedName",hx(e.Ref),n))}),t[t.length]="</definedNames>"),t.length>2&&(t[t.length]="</workbook>",t[1]=t[1].replace("/>",">")),t.join("")}function Ij(e,t){return t||(t=Mb(127)),t.write_shift(4,e.Hidden),t.write_shift(4,e.iTabID),py(e.strRelID,t),ty(e.name.slice(0,31),t),t.length>t.l?t.slice(0,t.l):t}function Dj(e,t){if(t.Workbook&&t.Workbook.Sheets){for(var n,r,s=t.Workbook.Sheets,a=0,i=-1,o=-1;a<s.length;++a)!s[a]||!s[a].Hidden&&-1==i?i=a:1==s[a].Hidden&&-1==o&&(o=a);if(!(o>i))Ib(e,135),Ib(e,158,(n=i,r||(r=Mb(29)),r.write_shift(-4,0),r.write_shift(-4,460),r.write_shift(4,28800),r.write_shift(4,17600),r.write_shift(4,500),r.write_shift(4,n),r.write_shift(4,n),r.write_shift(1,120),r.length>r.l?r.slice(0,r.l):r)),Ib(e,136)}}function Tj(e,t){var n=Fb();return Ib(n,131),Ib(n,128,function(e,t){t||(t=Mb(127));for(var n=0;4!=n;++n)t.write_shift(4,0);return ty("SheetJS",t),ty(gp.version,t),ty(gp.version,t),ty("7262",t),t.length>t.l?t.slice(0,t.l):t}()),Ib(n,153,function(e,t){t||(t=Mb(72));var n=0;return e&&e.filterPrivacy&&(n|=8),t.write_shift(4,n),t.write_shift(4,0),uy(e&&e.CodeName||"ThisWorkbook",t),t.slice(0,t.l)}(e.Workbook&&e.Workbook.WBProps||null)),Dj(n,e),function(e,t){Ib(e,143);for(var n=0;n!=t.SheetNames.length;++n)Ib(e,156,Ij({Hidden:t.Workbook&&t.Workbook.Sheets&&t.Workbook.Sheets[n]&&t.Workbook.Sheets[n].Hidden||0,iTabID:n+1,strRelID:"rId"+(n+1),name:t.SheetNames[n]}));Ib(e,144)}(n,e),Ib(n,132),n.end()}function Oj(e,t,n,r,s){return(".bin"===t.slice(-4)?kj:Aj)(e,n,r,s)}function Pj(e,t,n){return(".bin"===t.slice(-4)?mw:hw)(e,n)}function Uj(e,t){var n=[];return e.Props&&n.push(function(e,t){var n=[];return Ug(Gy).map(function(e){for(var t=0;t<Qy.length;++t)if(Qy[t][1]==e)return Qy[t];for(t=0;t<Ky.length;++t)if(Ky[t][1]==e)return Ky[t];throw e}).forEach(function(r){if(null!=e[r[1]]){var s=t&&t.Props&&null!=t.Props[r[1]]?t.Props[r[1]]:e[r[1]];"date"===r[2]&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"Z")),"number"==typeof s?s=String(s):!0===s||!1===s?s=s?"1":"0":s instanceof Date&&(s=new Date(s).toISOString().replace(/\.\d*Z/,"")),n.push(_x(Gy[r[1]]||r[1],s))}}),Sx("DocumentProperties",n.join(""),{xmlns:Hx})}(e.Props,t)),e.Custprops&&n.push(function(e,t){var n=["Worksheets","SheetNames"],r="CustomDocumentProperties",s=[];return e&&Ug(e).forEach(function(t){if(Object.prototype.hasOwnProperty.call(e,t)){for(var r=0;r<Qy.length;++r)if(t==Qy[r][1])return;for(r=0;r<Ky.length;++r)if(t==Ky[r][1])return;for(r=0;r<n.length;++r)if(t==n[r])return;var a=e[t],i="string";"number"==typeof a?(i="float",a=String(a)):!0===a||!1===a?(i="boolean",a=a?"1":"0"):a=String(a),s.push(Sx(Ax(t),a,{"dt:dt":i}))}}),t&&Ug(t).forEach(function(n){if(Object.prototype.hasOwnProperty.call(t,n)&&(!e||!Object.prototype.hasOwnProperty.call(e,n))){var r=t[n],a="string";"number"==typeof r?(a="float",r=String(r)):!0===r||!1===r?(a="boolean",r=r?"1":"0"):r instanceof Date?(a="dateTime.tz",r=r.toISOString()):r=String(r),s.push(Sx(Ax(n),r,{"dt:dt":a}))}}),"<"+r+' xmlns="'+Hx+'">'+s.join("")+"</"+r+">"}(e.Props,e.Custprops)),n.join("")}function Rj(e){return Sx("NamedRange",null,{"ss:Name":e.Name,"ss:RefersTo":"="+bw(e.Ref,{r:0,c:0})})}function Qj(e,t,n,r,s,a,i){if(!e||void 0==e.v&&void 0==e.f)return"";var o={};if(e.f&&(o["ss:Formula"]="="+hx(bw(e.f,i))),e.F&&e.F.slice(0,t.length)==t){var l=Hb(e.F.slice(t.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==i.r?"":"["+(l.r-i.r)+"]")+"C"+(l.c==i.c?"":"["+(l.c-i.c)+"]")}if(e.l&&e.l.Target&&(o["ss:HRef"]=hx(e.l.Target),e.l.Tooltip&&(o["x:HRefScreenTip"]=hx(e.l.Tooltip))),n["!merges"])for(var c=n["!merges"],d=0;d!=c.length;++d)c[d].s.c==i.c&&c[d].s.r==i.r&&(c[d].e.c>c[d].s.c&&(o["ss:MergeAcross"]=c[d].e.c-c[d].s.c),c[d].e.r>c[d].s.r&&(o["ss:MergeDown"]=c[d].e.r-c[d].s.r));var u="",h="";switch(e.t){case"z":if(!r.sheetStubs)return"";break;case"n":u="Number",h=String(e.v);break;case"b":u="Boolean",h=e.v?"1":"0";break;case"e":u="Error",h=Ey[e.v];break;case"d":u="DateTime",h=new Date(e.v).toISOString(),null==e.z&&(e.z=e.z||Xp[14]);break;case"s":u="String",h=((e.v||"")+"").replace(dx,function(e){return cx[e]}).replace(fx,function(e){return"&#x"+e.charCodeAt(0).toString(16).toUpperCase()+";"})}var A=lj(r.cellXfs,e,r);o["ss:StyleID"]="s"+(21+A),o["ss:Index"]=i.c+1;var f=null!=e.v?h:"",m="z"==e.t?"":'<Data ss:Type="'+u+'">'+f+"</Data>";return(e.c||[]).length>0&&(m+=e.c.map(function(e){var t=Sx("ss:Data",(e.t||"").replace(/(\r\n|[\r\n])/g,"&#10;"),{xmlns:"http://www.w3.org/TR/REC-html40"});return Sx("Comment",t,{"ss:Author":e.a})}).join("")),Sx("Cell",m,o)}function zj(e,t){var n='<Row ss:Index="'+(e+1)+'"';return t&&(t.hpt&&!t.hpx&&(t.hpx=Vv(t.hpt)),t.hpx&&(n+=' ss:AutoFitHeight="0" ss:Height="'+t.hpx+'"'),t.hidden&&(n+=' ss:Hidden="1"')),n+">"}function Hj(e,t,n){var r=[],s=n.SheetNames[e],a=n.Sheets[s],i=a?function(e,t,n,r){if(!e)return"";if(!((r||{}).Workbook||{}).Names)return"";for(var s=r.Workbook.Names,a=[],i=0;i<s.length;++i){var o=s[i];o.Sheet==n&&(o.Name.match(/^_xlfn\./)||a.push(Rj(o)))}return a.join("")}(a,0,e,n):"";return i.length>0&&r.push("<Names>"+i+"</Names>"),i=a?function(e,t){if(!e["!ref"])return"";var n=qb(e["!ref"]),r=e["!merges"]||[],s=0,a=[];e["!cols"]&&e["!cols"].forEach(function(e,t){Hv(e);var n=!!e.width,r=ij(t,e),s={"ss:Index":t+1};n&&(s["ss:Width"]=Rv(r.width)),e.hidden&&(s["ss:Hidden"]="1"),a.push(Sx("Column",null,s))});for(var i=Array.isArray(e),o=n.s.r;o<=n.e.r;++o){for(var l=[zj(o,(e["!rows"]||[])[o])],c=n.s.c;c<=n.e.c;++c){var d=!1;for(s=0;s!=r.length;++s)if(!(r[s].s.c>c)&&!(r[s].s.r>o)&&!(r[s].e.c<c)&&!(r[s].e.r<o)){r[s].s.c==c&&r[s].s.r==o||(d=!0);break}if(!d){var u={r:o,c:c},h=Kb(u),A=i?(e[o]||[])[c]:e[h];l.push(Qj(A,h,e,t,0,0,u))}}l.push("</Row>"),l.length>2&&a.push(l.join(""))}return a.join("")}(a,t):"",i.length>0&&r.push("<Table>"+i+"</Table>"),r.push(function(e,t,n,r){if(!e)return"";var s=[];if(e["!margins"]&&(s.push("<PageSetup>"),e["!margins"].header&&s.push(Sx("Header",null,{"x:Margin":e["!margins"].header})),e["!margins"].footer&&s.push(Sx("Footer",null,{"x:Margin":e["!margins"].footer})),s.push(Sx("PageMargins",null,{"x:Bottom":e["!margins"].bottom||"0.75","x:Left":e["!margins"].left||"0.7","x:Right":e["!margins"].right||"0.7","x:Top":e["!margins"].top||"0.75"})),s.push("</PageSetup>")),r&&r.Workbook&&r.Workbook.Sheets&&r.Workbook.Sheets[n])if(r.Workbook.Sheets[n].Hidden)s.push(Sx("Visible",1==r.Workbook.Sheets[n].Hidden?"SheetHidden":"SheetVeryHidden",{}));else{for(var a=0;a<n&&(!r.Workbook.Sheets[a]||r.Workbook.Sheets[a].Hidden);++a);a==n&&s.push("<Selected/>")}return((((r||{}).Workbook||{}).Views||[])[0]||{}).RTL&&s.push("<DisplayRightToLeft/>"),e["!protect"]&&(s.push(_x("ProtectContents","True")),e["!protect"].objects&&s.push(_x("ProtectObjects","True")),e["!protect"].scenarios&&s.push(_x("ProtectScenarios","True")),null==e["!protect"].selectLockedCells||e["!protect"].selectLockedCells?null==e["!protect"].selectUnlockedCells||e["!protect"].selectUnlockedCells||s.push(_x("EnableSelection","UnlockedCells")):s.push(_x("EnableSelection","NoSelection")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(t){e["!protect"][t[0]]&&s.push("<"+t[1]+"/>")})),0==s.length?"":Sx("WorksheetOptions",s.join(""),{xmlns:Kx})}(a,0,e,n)),r.join("")}function Kj(e,t){t||(t={}),e.SSF||(e.SSF=ex(Xp)),e.SSF&&(Mg(),Lg(e.SSF),t.revssf=zg(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF,t.cellXfs=[],lj(t.cellXfs,{},{revssf:{General:0}}));var n=[];n.push(Uj(e,t)),n.push(""),n.push(""),n.push("");for(var r=0;r<e.SheetNames.length;++r)n.push(Sx("Worksheet",Hj(r,t,e),{"ss:Name":hx(e.SheetNames[r])}));return n[2]=function(e,t){var n=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return t.cellXfs.forEach(function(e,t){var r=[];r.push(Sx("NumberFormat",null,{"ss:Format":hx(Xp[e.numFmtId])}));var s={"ss:ID":"s"+(21+t)};n.push(Sx("Style",r.join(""),s))}),Sx("Styles",n.join(""))}(0,t),n[3]=function(e){if(!((e||{}).Workbook||{}).Names)return"";for(var t=e.Workbook.Names,n=[],r=0;r<t.length;++r){var s=t[r];null==s.Sheet&&(s.Name.match(/^_xlfn\./)||n.push(Rj(s)))}return Sx("Names",n.join(""))}(e),ox+Sx("Workbook",n.join(""),{xmlns:Wx,"xmlns:o":Hx,"xmlns:x":Kx,"xmlns:ss":Wx,"xmlns:dt":Vx,"xmlns:html":Yx})}var Wj="e0859ff2f94f6810ab9108002b27b3d9",Vj="02d5cdd59c2e1b10939708002b2cf9ae",qj="05d5cdd59c2e1b10939708002b2cf9ae";function Gj(e,t){var n=t||{},r=Dg.utils.cfb_new({root:"R"}),s="/Workbook";switch(n.bookType||"xls"){case"xls":n.bookType="biff8";case"xla":n.bookType||(n.bookType="xla");case"biff8":s="/Workbook",n.biff=8;break;case"biff5":s="/Book",n.biff=5;break;default:throw new Error("invalid type "+n.bookType+" for XLS CFB")}return Dg.utils.cfb_add(r,s,aN(e,n)),8==n.biff&&(e.Props||e.Custprops)&&function(e,t){var n,r=[],s=[],a=[],i=0,o=Rg(Cy,"n"),l=Rg(Sy,"n");if(e.Props)for(n=Ug(e.Props),i=0;i<n.length;++i)(Object.prototype.hasOwnProperty.call(o,n[i])?r:Object.prototype.hasOwnProperty.call(l,n[i])?s:a).push([n[i],e.Props[n[i]]]);if(e.Custprops)for(n=Ug(e.Custprops),i=0;i<n.length;++i)Object.prototype.hasOwnProperty.call(e.Props||{},n[i])||(Object.prototype.hasOwnProperty.call(o,n[i])?r:Object.prototype.hasOwnProperty.call(l,n[i])?s:a).push([n[i],e.Custprops[n[i]]]);var c=[];for(i=0;i<a.length;++i)Jy.indexOf(a[i][0])>-1||Wy.indexOf(a[i][0])>-1||null!=a[i][1]&&c.push(a[i]);s.length&&Dg.utils.cfb_add(t,"/\x05SummaryInformation",$y(s,Wj,l,Sy)),(r.length||c.length)&&Dg.utils.cfb_add(t,"/\x05DocumentSummaryInformation",$y(r,Vj,o,Cy,c.length?c:null,qj))}(e,r),8==n.biff&&e.vbaraw&&function(e,t){t.FullPaths.forEach(function(n,r){if(0!=r){var s=n.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");"/"!==s.slice(-1)&&Dg.utils.cfb_add(e,s,t.FileIndex[r].content)}})}(r,Dg.read(e.vbaraw,{type:"string"==typeof e.vbaraw?"binary":"buffer"})),r}var Yj={0:{f:function(e,t){var n={},r=e.l+t;n.r=e.read_shift(4),e.l+=4;var s=e.read_shift(2);e.l+=1;var a=e.read_shift(1);return e.l=r,7&a&&(n.level=7&a),16&a&&(n.hidden=!0),32&a&&(n.hpt=s/20),n}},1:{f:function(e){return[iy(e)]}},2:{f:function(e){return[iy(e),gy(e),"n"]}},3:{f:function(e){return[iy(e),e.read_shift(1),"e"]}},4:{f:function(e){return[iy(e),e.read_shift(1),"b"]}},5:{f:function(e){return[iy(e),wy(e),"n"]}},6:{f:function(e){return[iy(e),ey(e),"str"]}},7:{f:function(e){return[iy(e),e.read_shift(4),"s"]}},8:{f:function(e,t,n){var r=e.l+t,s=iy(e);s.r=n["!row"];var a=[s,ey(e),"str"];if(n.cellFormula){e.l+=2;var i=Jw(e,r-e.l,n);a[3]=Vw(i,0,s,n.supbooks,n)}else e.l=r;return a}},9:{f:function(e,t,n){var r=e.l+t,s=iy(e);s.r=n["!row"];var a=[s,wy(e),"n"];if(n.cellFormula){e.l+=2;var i=Jw(e,r-e.l,n);a[3]=Vw(i,0,s,n.supbooks,n)}else e.l=r;return a}},10:{f:function(e,t,n){var r=e.l+t,s=iy(e);s.r=n["!row"];var a=[s,e.read_shift(1),"b"];if(n.cellFormula){e.l+=2;var i=Jw(e,r-e.l,n);a[3]=Vw(i,0,s,n.supbooks,n)}else e.l=r;return a}},11:{f:function(e,t,n){var r=e.l+t,s=iy(e);s.r=n["!row"];var a=[s,e.read_shift(1),"e"];if(n.cellFormula){e.l+=2;var i=Jw(e,r-e.l,n);a[3]=Vw(i,0,s,n.supbooks,n)}else e.l=r;return a}},12:{f:function(e){return[ly(e)]}},13:{f:function(e){return[ly(e),gy(e),"n"]}},14:{f:function(e){return[ly(e),e.read_shift(1),"e"]}},15:{f:function(e){return[ly(e),e.read_shift(1),"b"]}},16:{f:gj},17:{f:function(e){return[ly(e),ey(e),"str"]}},18:{f:function(e){return[ly(e),e.read_shift(4),"s"]}},19:{f:ry},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:function(e,t,n){var r=e.l+t;e.l+=4,e.l+=1;var s=e.read_shift(4),a=fy(e),i=Xw(e,0,n),o=hy(e);e.l=r;var l={Name:a,Ptg:i};return s<268435455&&(l.Sheet=s),o&&(l.Comment=o),l}},40:{},42:{},43:{f:function(e,t,n){var r={};r.sz=e.read_shift(2)/20;var s=function(e){var t=e.read_shift(1);return e.l++,{fBold:1&t,fItalic:2&t,fUnderline:4&t,fStrikeout:8&t,fOutline:16&t,fShadow:32&t,fCondense:64&t,fExtend:128&t}}(e);switch(s.fItalic&&(r.italic=1),s.fCondense&&(r.condense=1),s.fExtend&&(r.extend=1),s.fShadow&&(r.shadow=1),s.fOutline&&(r.outline=1),s.fStrikeout&&(r.strike=1),700===e.read_shift(2)&&(r.bold=1),e.read_shift(2)){case 1:r.vertAlign="superscript";break;case 2:r.vertAlign="subscript"}var a=e.read_shift(1);0!=a&&(r.underline=a);var i=e.read_shift(1);i>0&&(r.family=i);var o=e.read_shift(1);switch(o>0&&(r.charset=o),e.l++,r.color=function(e){var t={},n=e.read_shift(1)>>>1,r=e.read_shift(1),s=e.read_shift(2,"i"),a=e.read_shift(1),i=e.read_shift(1),o=e.read_shift(1);switch(e.l++,n){case 0:t.auto=1;break;case 1:t.index=r;var l=By[r];l&&(t.rgb=Pv(l));break;case 2:t.rgb=Pv([a,i,o]);break;case 3:t.theme=r}return 0!=s&&(t.tint=s>0?s/32767:s/32768),t}(e),e.read_shift(1)){case 1:r.scheme="major";break;case 2:r.scheme="minor"}return r.name=ey(e),r}},44:{f:function(e,t){return[e.read_shift(2),ey(e)]}},45:{f:Zv},46:{f:nw},47:{f:function(e,t){var n=e.l+t,r=e.read_shift(2),s=e.read_shift(2);return e.l=n,{ixfe:r,numFmtId:s}}},48:{},49:{f:function(e){return e.read_shift(4,"i")}},50:{},51:{f:function(e){for(var t=[],n=e.read_shift(4);n-- >0;)t.push([e.read_shift(4),e.read_shift(4)]);return t}},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Nv},62:{f:function(e){return[iy(e),ry(e),"is"]}},63:{f:function(e){var t={};t.i=e.read_shift(4);var n={};n.r=e.read_shift(4),n.c=e.read_shift(4),t.r=Kb(n);var r=e.read_shift(1);return 2&r&&(t.l="1"),8&r&&(t.a="1"),t}},64:{f:function(){}},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Lb,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:function(e){var t=e.read_shift(2);return e.l+=28,{RTL:32&t}}},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:function(e,t){var n={},r=e[e.l];return++e.l,n.above=!(64&r),n.left=!(128&r),e.l+=18,n.name=dy(e,t-19),n}},148:{f:mj,p:16},151:{f:function(){}},152:{},153:{f:function(e,t){var n={},r=e.read_shift(4);n.defaultThemeVersion=e.read_shift(4);var s=t>8?ey(e):"";return s.length>0&&(n.CodeName=s),n.autoCompressPictures=!!(65536&r),n.backupFile=!!(64&r),n.checkCompatibility=!!(4096&r),n.date1904=!!(1&r),n.filterPrivacy=!!(8&r),n.hidePivotFieldList=!!(1024&r),n.promptedSolutions=!!(16&r),n.publishItems=!!(2048&r),n.refreshAllConnections=!!(262144&r),n.saveExternalLinkValues=!!(128&r),n.showBorderUnselectedTables=!!(4&r),n.showInkAnnotation=!!(32&r),n.showObjects=["all","placeholders","none"][r>>13&3],n.showPivotChartFilter=!!(32768&r),n.updateLinks=["userSet","never","always"][r>>8&3],n}},154:{},155:{},156:{f:function(e,t){var n={};return n.Hidden=e.read_shift(4),n.iTabID=e.read_shift(4),n.strRelID=my(e,t-8),n.name=ey(e),n}},157:{},158:{},159:{T:1,f:function(e){return[e.read_shift(4),e.read_shift(4)]}},160:{T:-1},161:{T:1,f:yy},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:xj},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:function(e,t){return{flags:e.read_shift(4),version:e.read_shift(4),name:ey(e)}}},336:{T:-1},337:{f:function(e){return e.l+=4,0!=e.read_shift(4)},T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:my},357:{},358:{},359:{},360:{T:1},361:{},362:{f:vv},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:function(e,t,n){var r=e.l+t,s=by(e),a=e.read_shift(1),i=[s];if(i[2]=a,n.cellFormula){var o=Yw(e,r-e.l,n);i[1]=o}else e.l=r;return i}},427:{f:function(e,t,n){var r=e.l+t,s=[yy(e,16)];if(n.cellFormula){var a=Zw(e,r-e.l,n);s[1]=a,e.l=r}else e.l=r;return s}},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:function(e){var t={};return yj.forEach(function(n){t[n]=wy(e)}),t}},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:function(){}},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:function(e,t){var n=e.l+t,r=yy(e,16),s=hy(e),a=ey(e),i=ey(e),o=ey(e);e.l=n;var l={rfx:r,relId:s,loc:a,display:o};return i&&(l.Tooltip=i),l}},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:my},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:fw},633:{T:1},634:{T:-1},635:{T:1,f:function(e){var t={};t.iauthor=e.read_shift(4);var n=yy(e,16);return t.rfx=n.s,t.ref=Kb(n.s),e.l+=16,t}},636:{T:-1},637:{f:sy},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:function(e,t){return e.l+=10,{name:ey(e)}}},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:function(){}},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function Jj(e,t,n,r){var s=t;if(!isNaN(s)){var a=r||(n||[]).length||0,i=e.next(4);i.write_shift(2,s),i.write_shift(2,a),a>0&&pb(n)&&e.push(n)}}function Xj(e,t,n){return e||(e=Mb(7)),e.write_shift(2,t),e.write_shift(2,n),e.write_shift(2,0),e.write_shift(1,0),e}function Zj(e,t,n,r){if(null!=t.v)switch(t.t){case"d":case"n":var s="d"==t.t?Kg(Zg(t.v)):t.v;return void(s==(0|s)&&s>=0&&s<65536?Jj(e,2,function(e,t,n){var r=Mb(9);return Xj(r,e,t),r.write_shift(2,n),r}(n,r,s)):Jj(e,3,function(e,t,n){var r=Mb(15);return Xj(r,e,t),r.write_shift(8,n,"f"),r}(n,r,s)));case"b":case"e":return void Jj(e,5,function(e,t,n,r){var s=Mb(9);return Xj(s,e,t),sv(n,r||"b",s),s}(n,r,t.v,t.t));case"s":case"str":return void Jj(e,4,function(e,t,n){var r=Mb(8+2*n.length);return Xj(r,e,t),r.write_shift(1,n.length),r.write_shift(n.length,n,"sbcs"),r.l<r.length?r.slice(0,r.l):r}(n,r,(t.v||"").slice(0,255)))}Jj(e,1,Xj(null,n,r))}function $j(e,t){var n=t||{};for(var r=Fb(),s=0,a=0;a<e.SheetNames.length;++a)e.SheetNames[a]==n.sheet&&(s=a);if(0==s&&n.sheet&&e.SheetNames[0]!=n.sheet)throw new Error("Sheet not found: "+n.sheet);return Jj(r,4==n.biff?1033:3==n.biff?521:9,gv(0,16,n)),function(e,t,n,r){var s,a=Array.isArray(t),i=qb(t["!ref"]||"A1"),o="",l=[];if(i.e.c>255||i.e.r>16383){if(r.WTF)throw new Error("Range "+(t["!ref"]||"A1")+" exceeds format limit A1:IV16384");i.e.c=Math.min(i.e.c,255),i.e.r=Math.min(i.e.c,16383),s=Vb(i)}for(var c=i.s.r;c<=i.e.r;++c){o=Rb(c);for(var d=i.s.c;d<=i.e.c;++d){c===i.s.r&&(l[d]=zb(d)),s=l[d]+o;var u=a?(t[c]||[])[d]:t[s];u&&Zj(e,u,c,d)}}}(r,e.Sheets[e.SheetNames[s]],0,n),Jj(r,10),r.end()}function eN(e,t,n){Jj(e,49,function(e,t){var n=e.name||"Arial",r=t&&5==t.biff,s=Mb(r?15+n.length:16+2*n.length);return s.write_shift(2,20*(e.sz||12)),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,n.length),r||s.write_shift(1,1),s.write_shift((r?1:2)*n.length,n,r?"sbcs":"utf16le"),s}({sz:12,color:{theme:1},name:"Arial",family:2,scheme:"minor"},n))}function tN(e,t){if(t){var n=0;t.forEach(function(t,r){++n<=256&&t&&Jj(e,125,function(e,t){var n=Mb(12);n.write_shift(2,t),n.write_shift(2,t),n.write_shift(2,256*e.width),n.write_shift(2,0);var r=0;return e.hidden&&(r|=1),n.write_shift(1,r),r=e.level||0,n.write_shift(1,r),n.write_shift(2,0),n}(ij(r,t),r))})}}function nN(e,t,n,r,s){var a=16+lj(s.cellXfs,t,s);if(null!=t.v||t.bf)if(t.bf)Jj(e,6,qw(t,n,r,0,a));else switch(t.t){case"d":case"n":Jj(e,515,function(e,t,n,r){var s=Mb(14);return Av(e,t,r,s),jy(n,s),s}(n,r,"d"==t.t?Kg(Zg(t.v)):t.v,a));break;case"b":case"e":Jj(e,517,function(e,t,n,r,s,a){var i=Mb(8);return Av(e,t,r,i),sv(n,a,i),i}(n,r,t.v,a,0,t.t));break;case"s":case"str":if(s.bookSST)Jj(e,253,function(e,t,n,r){var s=Mb(10);return Av(e,t,r,s),s.write_shift(4,n),s}(n,r,aj(s.Strings,t.v,s.revStrings),a));else Jj(e,516,function(e,t,n,r,s){var a=!s||8==s.biff,i=Mb(+a+8+(1+a)*n.length);return Av(e,t,r,i),i.write_shift(2,n.length),a&&i.write_shift(1,1),i.write_shift((1+a)*n.length,n,a?"utf16le":"sbcs"),i}(n,r,(t.v||"").slice(0,255),a,s));break;default:Jj(e,513,Av(n,r,a))}else Jj(e,513,Av(n,r,a))}function rN(e,t,n){var r,s=Fb(),a=n.SheetNames[e],i=n.Sheets[a]||{},o=(n||{}).Workbook||{},l=(o.Sheets||[])[e]||{},c=Array.isArray(i),d=8==t.biff,u="",h=[],A=qb(i["!ref"]||"A1"),f=d?65536:16384;if(A.e.c>255||A.e.r>=f){if(t.WTF)throw new Error("Range "+(i["!ref"]||"A1")+" exceeds format limit A1:IV16384");A.e.c=Math.min(A.e.c,255),A.e.r=Math.min(A.e.c,f-1)}Jj(s,2057,gv(0,16,t)),Jj(s,13,rv(1)),Jj(s,12,rv(100)),Jj(s,15,tv(!0)),Jj(s,17,tv(!1)),Jj(s,16,jy(.001)),Jj(s,95,tv(!0)),Jj(s,42,tv(!1)),Jj(s,43,tv(!1)),Jj(s,130,rv(1)),Jj(s,128,function(e){var t=Mb(8);return t.write_shift(4,0),t.write_shift(2,e[0]?e[0]+1:0),t.write_shift(2,e[1]?e[1]+1:0),t}([0,0])),Jj(s,131,tv(!1)),Jj(s,132,tv(!1)),d&&tN(s,i["!cols"]),Jj(s,512,function(e,t){var n=8!=t.biff&&t.biff?2:4,r=Mb(2*n+6);return r.write_shift(n,e.s.r),r.write_shift(n,e.e.r+1),r.write_shift(2,e.s.c),r.write_shift(2,e.e.c+1),r.write_shift(2,0),r}(A,t)),d&&(i["!links"]=[]);for(var m=A.s.r;m<=A.e.r;++m){u=Rb(m);for(var p=A.s.c;p<=A.e.c;++p){m===A.s.r&&(h[p]=zb(p)),r=h[p]+u;var g=c?(i[m]||[])[p]:i[r];g&&(nN(s,g,m,p,t),d&&g.l&&i["!links"].push([r,g.l]))}}var x=l.CodeName||l.name||a;return d&&Jj(s,574,function(e){var t=Mb(18),n=1718;return e&&e.RTL&&(n|=64),t.write_shift(2,n),t.write_shift(4,0),t.write_shift(4,64),t.write_shift(4,0),t.write_shift(4,0),t}((o.Views||[])[0])),d&&(i["!merges"]||[]).length&&Jj(s,229,function(e){var t=Mb(2+8*e.length);t.write_shift(2,e.length);for(var n=0;n<e.length;++n)pv(e[n],t);return t}(i["!merges"])),d&&function(e,t){for(var n=0;n<t["!links"].length;++n){var r=t["!links"][n];Jj(e,440,wv(r)),r[1].Tooltip&&Jj(e,2048,jv(r))}delete t["!links"]}(s,i),Jj(s,442,dv(x)),d&&function(e,t){var n=Mb(19);n.write_shift(4,2151),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,1),n.write_shift(4,0),Jj(e,2151,n),(n=Mb(39)).write_shift(4,2152),n.write_shift(4,0),n.write_shift(4,0),n.write_shift(2,3),n.write_shift(1,0),n.write_shift(4,0),n.write_shift(2,1),n.write_shift(4,4),n.write_shift(2,0),pv(qb(t["!ref"]||"A1"),n),n.write_shift(4,4),Jj(e,2152,n)}(s,i),Jj(s,10),s.end()}function sN(e,t,n){var r=Fb(),s=(e||{}).Workbook||{},a=s.Sheets||[],i=s.WBProps||{},o=8==n.biff,l=5==n.biff;(Jj(r,2057,gv(0,5,n)),"xla"==n.bookType&&Jj(r,135),Jj(r,225,o?rv(1200):null),Jj(r,193,function(e,t){t||(t=Mb(e));for(var n=0;n<e;++n)t.write_shift(1,0);return t}(2)),l&&Jj(r,191),l&&Jj(r,192),Jj(r,226),Jj(r,92,function(e,t){var n=!t||8==t.biff,r=Mb(n?112:54);for(r.write_shift(8==t.biff?2:1,7),n&&r.write_shift(1,0),r.write_shift(4,859007059),r.write_shift(4,5458548|(n?0:536870912));r.l<r.length;)r.write_shift(1,n?0:32);return r}(0,n)),Jj(r,66,rv(o?1200:1252)),o&&Jj(r,353,rv(0)),o&&Jj(r,448),Jj(r,317,function(e){for(var t=Mb(2*e),n=0;n<e;++n)t.write_shift(2,n+1);return t}(e.SheetNames.length)),o&&e.vbaraw&&Jj(r,211),o&&e.vbaraw)&&Jj(r,442,dv(i.CodeName||"ThisWorkbook"));Jj(r,156,rv(17)),Jj(r,25,tv(!1)),Jj(r,18,tv(!1)),Jj(r,19,rv(0)),o&&Jj(r,431,tv(!1)),o&&Jj(r,444,rv(0)),Jj(r,61,function(){var e=Mb(18);return e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,29280),e.write_shift(2,17600),e.write_shift(2,56),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,1),e.write_shift(2,500),e}()),Jj(r,64,tv(!1)),Jj(r,141,rv(0)),Jj(r,34,tv("true"==function(e){return e.Workbook&&e.Workbook.WBProps&&px(e.Workbook.WBProps.date1904)?"true":"false"}(e))),Jj(r,14,tv(!0)),o&&Jj(r,439,tv(!1)),Jj(r,218,rv(0)),eN(r,0,n),function(e,t,n){t&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var s=r[0];s<=r[1];++s)null!=t[s]&&Jj(e,1054,bv(s,t[s],n))})}(r,e.SSF,n),function(e,t){for(var n=0;n<16;++n)Jj(e,224,yv({numFmtId:0,style:!0},0,t));t.cellXfs.forEach(function(n){Jj(e,224,yv(n,0,t))})}(r,n),o&&Jj(r,352,tv(!1));var c,d=r.end(),u=Fb();o&&Jj(u,140,(c||(c=Mb(4)),c.write_shift(2,1),c.write_shift(2,1),c)),o&&n.Strings&&function(e,t,n,r){var s=r||(n||[]).length||0;if(s<=8224)return Jj(e,t,n,s);var a=t;if(!isNaN(a)){for(var i=n.parts||[],o=0,l=0,c=0;c+(i[o]||8224)<=8224;)c+=i[o]||8224,o++;var d=e.next(4);for(d.write_shift(2,a),d.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c;l<s;){for((d=e.next(4)).write_shift(2,60),c=0;c+(i[o]||8224)<=8224;)c+=i[o]||8224,o++;d.write_shift(2,c),e.push(n.slice(l,l+c)),l+=c}}}(u,252,function(e){var t=Mb(8);t.write_shift(4,e.Count),t.write_shift(4,e.Unique);for(var n=[],r=0;r<e.length;++r)n[r]=iv(e[r]);var s=Up([t].concat(n));return s.parts=[t.length].concat(n.map(function(e){return e.length})),s}(n.Strings)),Jj(u,10);var h=u.end(),A=Fb(),f=0,m=0;for(m=0;m<e.SheetNames.length;++m)f+=(o?12:11)+(o?2:1)*e.SheetNames[m].length;var p=d.length+f+h.length;for(m=0;m<e.SheetNames.length;++m){Jj(A,133,xv({pos:p,hs:(a[m]||{}).Hidden||0,dt:0,name:e.SheetNames[m]},n)),p+=t[m].length}var g=A.end();if(f!=g.length)throw new Error("BS8 "+f+" != "+g.length);var x=[];return d.length&&x.push(d),g.length&&x.push(g),h.length&&x.push(h),Up(x)}function aN(e,t){for(var n=0;n<=e.SheetNames.length;++n){var r=e.Sheets[e.SheetNames[n]];if(r&&r["!ref"])Wb(r["!ref"]).e.c>255&&"undefined"!=typeof console&&console.error&&console.error("Worksheet '"+e.SheetNames[n]+"' extends beyond column IV (255).  Data may be lost.")}var s=t||{};switch(s.biff||2){case 8:case 5:return function(e,t){var n=t||{},r=[];e&&!e.SSF&&(e.SSF=ex(Xp)),e&&e.SSF&&(Mg(),Lg(e.SSF),n.revssf=zg(e.SSF),n.revssf[e.SSF[65535]]=0,n.ssf=e.SSF),n.Strings=[],n.Strings.Count=0,n.Strings.Unique=0,DN(n),n.cellXfs=[],lj(n.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});for(var s=0;s<e.SheetNames.length;++s)r[r.length]=rN(s,n,e);return r.unshift(sN(e,r,n)),Up(r)}(e,t);case 4:case 3:case 2:return $j(e,t)}throw new Error("invalid type "+s.bookType+" for BIFF")}function iN(e,t,n,r){for(var s=e["!merges"]||[],a=[],i=t.s.c;i<=t.e.c;++i){for(var o=0,l=0,c=0;c<s.length;++c)if(!(s[c].s.r>n||s[c].s.c>i)&&!(s[c].e.r<n||s[c].e.c<i)){if(s[c].s.r<n||s[c].s.c<i){o=-1;break}o=s[c].e.r-s[c].s.r+1,l=s[c].e.c-s[c].s.c+1;break}if(!(o<0)){var d=Kb({r:n,c:i}),u=r.dense?(e[n]||[])[i]:e[d],h=u&&null!=u.v&&(u.h||mx(u.w||(Yb(u),u.w)||""))||"",A={};o>1&&(A.rowspan=o),l>1&&(A.colspan=l),r.editable?h='<span contenteditable="true">'+h+"</span>":u&&(A["data-t"]=u&&u.t||"z",null!=u.v&&(A["data-v"]=u.v),null!=u.z&&(A["data-z"]=u.z),u.l&&"#"!=(u.l.Target||"#").charAt(0)&&(h='<a href="'+u.l.Target+'">'+h+"</a>")),A.id=(r.id||"sjs")+"-"+d,a.push(Sx("td",h,A))}}return"<tr>"+a.join("")+"</tr>"}var oN='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',lN="</body></html>";function cN(e,t,n){return[].join("")+"<table"+(n&&n.id?' id="'+n.id+'"':"")+">"}function dN(e,t){var n=t||{},r=null!=n.header?n.header:oN,s=null!=n.footer?n.footer:lN,a=[r],i=Wb(e["!ref"]);n.dense=Array.isArray(e),a.push(cN(0,0,n));for(var o=i.s.r;o<=i.e.r;++o)a.push(iN(e,i,o,n));return a.push("</table>"+s),a.join("")}function uN(e,t,n){var r=n||{};var s=0,a=0;if(null!=r.origin)if("number"==typeof r.origin)s=r.origin;else{var i="string"==typeof r.origin?Hb(r.origin):r.origin;s=i.r,a=i.c}var o=t.getElementsByTagName("tr"),l=Math.min(r.sheetRows||1e7,o.length),c={s:{r:0,c:0},e:{r:s,c:a}};if(e["!ref"]){var d=Wb(e["!ref"]);c.s.r=Math.min(c.s.r,d.s.r),c.s.c=Math.min(c.s.c,d.s.c),c.e.r=Math.max(c.e.r,d.e.r),c.e.c=Math.max(c.e.c,d.e.c),-1==s&&(c.e.r=s=d.e.r+1)}var u=[],h=0,A=e["!rows"]||(e["!rows"]=[]),f=0,m=0,p=0,g=0,x=0,b=0;for(e["!cols"]||(e["!cols"]=[]);f<o.length&&m<l;++f){var y=o[f];if(AN(y)){if(r.display)continue;A[m]={hidden:!0}}var v=y.children;for(p=g=0;p<v.length;++p){var w=v[p];if(!r.display||!AN(w)){var j=w.hasAttribute("data-v")?w.getAttribute("data-v"):w.hasAttribute("v")?w.getAttribute("v"):jx(w.innerHTML),N=w.getAttribute("data-z")||w.getAttribute("z");for(h=0;h<u.length;++h){var _=u[h];_.s.c==g+a&&_.s.r<m+s&&m+s<=_.e.r&&(g=_.e.c+1-a,h=-1)}b=+w.getAttribute("colspan")||1,((x=+w.getAttribute("rowspan")||1)>1||b>1)&&u.push({s:{r:m+s,c:g+a},e:{r:m+s+(x||1)-1,c:g+a+(b||1)-1}});var C={t:"s",v:j},S=w.getAttribute("data-t")||w.getAttribute("t")||"";null!=j&&(0==j.length?C.t=S||"z":r.raw||0==j.trim().length||"s"==S||("TRUE"===j?C={t:"b",v:!0}:"FALSE"===j?C={t:"b",v:!1}:isNaN(nx(j))?isNaN(sx(j).getDate())||(C={t:"d",v:Zg(j)},r.cellDates||(C={t:"n",v:Kg(C.v)}),C.z=r.dateNF||Xp[14]):C={t:"n",v:nx(j)})),void 0===C.z&&null!=N&&(C.z=N);var k="",B=w.getElementsByTagName("A");if(B&&B.length)for(var E=0;E<B.length&&(!B[E].hasAttribute("href")||"#"==(k=B[E].getAttribute("href")).charAt(0));++E);k&&"#"!=k.charAt(0)&&(C.l={Target:k}),r.dense?(e[m+s]||(e[m+s]=[]),e[m+s][g+a]=C):e[Kb({c:g+a,r:m+s})]=C,c.e.c<g+a&&(c.e.c=g+a),g+=b}}++m}return u.length&&(e["!merges"]=(e["!merges"]||[]).concat(u)),c.e.r=Math.max(c.e.r,m-1+s),e["!ref"]=Vb(c),m>=l&&(e["!fullref"]=Vb((c.e.r=o.length-f+m-1+s,c))),e}function hN(e,t){return uN((t||{}).dense?[]:{},e,t)}function AN(e){var t="",n=function(e){return e.ownerDocument.defaultView&&"function"===typeof e.ownerDocument.defaultView.getComputedStyle?e.ownerDocument.defaultView.getComputedStyle:"function"===typeof getComputedStyle?getComputedStyle:null}(e);return n&&(t=n(e).getPropertyValue("display")),t||(t=e.style&&e.style.display),"none"===t}var fN=function(){var e=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),t="<office:document-styles "+Cx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+e+"</office:document-styles>";return function(){return ox+t}}(),mN=function(){var e=function(e){return hx(e).replace(/  +/g,function(e){return'<text:s text:c="'+e.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},t="          <table:table-cell />\n",n=function(n,r,s){var a=[];a.push('      <table:table table:name="'+hx(r.SheetNames[s])+'" table:style-name="ta1">\n');var i=0,o=0,l=Wb(n["!ref"]||"A1"),c=n["!merges"]||[],d=0,u=Array.isArray(n);if(n["!cols"])for(o=0;o<=l.e.c;++o)a.push("        <table:table-column"+(n["!cols"][o]?' table:style-name="co'+n["!cols"][o].ods+'"':"")+"></table:table-column>\n");var h="",A=n["!rows"]||[];for(i=0;i<l.s.r;++i)h=A[i]?' table:style-name="ro'+A[i].ods+'"':"",a.push("        <table:table-row"+h+"></table:table-row>\n");for(;i<=l.e.r;++i){for(h=A[i]?' table:style-name="ro'+A[i].ods+'"':"",a.push("        <table:table-row"+h+">\n"),o=0;o<l.s.c;++o)a.push(t);for(;o<=l.e.c;++o){var f=!1,m={},p="";for(d=0;d!=c.length;++d)if(!(c[d].s.c>o)&&!(c[d].s.r>i)&&!(c[d].e.c<o)&&!(c[d].e.r<i)){c[d].s.c==o&&c[d].s.r==i||(f=!0),m["table:number-columns-spanned"]=c[d].e.c-c[d].s.c+1,m["table:number-rows-spanned"]=c[d].e.r-c[d].s.r+1;break}if(f)a.push("          <table:covered-table-cell/>\n");else{var g=Kb({r:i,c:o}),x=u?(n[i]||[])[o]:n[g];if(x&&x.f&&(m["table:formula"]=hx(nj(x.f)),x.F&&x.F.slice(0,g.length)==g)){var b=Wb(x.F);m["table:number-matrix-columns-spanned"]=b.e.c-b.s.c+1,m["table:number-matrix-rows-spanned"]=b.e.r-b.s.r+1}if(x){switch(x.t){case"b":p=x.v?"TRUE":"FALSE",m["office:value-type"]="boolean",m["office:boolean-value"]=x.v?"true":"false";break;case"n":p=x.w||String(x.v||0),m["office:value-type"]="float",m["office:value"]=x.v||0;break;case"s":case"str":p=null==x.v?"":x.v,m["office:value-type"]="string";break;case"d":p=x.w||Zg(x.v).toISOString(),m["office:value-type"]="date",m["office:date-value"]=Zg(x.v).toISOString(),m["table:style-name"]="ce1";break;default:a.push(t);continue}var y=e(p);if(x.l&&x.l.Target){var v=x.l.Target;"#"==(v="#"==v.charAt(0)?"#"+rj(v.slice(1)):v).charAt(0)||v.match(/^\w+:/)||(v="../"+v),y=Sx("text:a",y,{"xlink:href":v.replace(/&/g,"&amp;")})}a.push("          "+Sx("table:table-cell",Sx("text:p",y,{}),m)+"\n")}else a.push(t)}}a.push("        </table:table-row>\n")}return a.push("      </table:table>\n"),a.join("")};return function(e,t){var r=[ox],s=Cx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),a=Cx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});"fods"==t.bookType?(r.push("<office:document"+s+a+">\n"),r.push(Ry().replace(/office:document-meta/g,"office:meta"))):r.push("<office:document-content"+s+">\n"),function(e,t){e.push(" <office:automatic-styles>\n"),e.push('  <number:date-style style:name="N37" number:automatic-order="true">\n'),e.push('   <number:month number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push('   <number:day number:style="long"/>\n'),e.push("   <number:text>/</number:text>\n"),e.push("   <number:year/>\n"),e.push("  </number:date-style>\n");var n=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!cols"])for(var r=0;r<t["!cols"].length;++r)if(t["!cols"][r]){var s=t["!cols"][r];if(null==s.width&&null==s.wpx&&null==s.wch)continue;Hv(s),s.ods=n;var a=t["!cols"][r].wpx+"px";e.push('  <style:style style:name="co'+n+'" style:family="table-column">\n'),e.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+a+'"/>\n'),e.push("  </style:style>\n"),++n}});var r=0;t.SheetNames.map(function(e){return t.Sheets[e]}).forEach(function(t){if(t&&t["!rows"])for(var n=0;n<t["!rows"].length;++n)if(t["!rows"][n]){t["!rows"][n].ods=r;var s=t["!rows"][n].hpx+"px";e.push('  <style:style style:name="ro'+r+'" style:family="table-row">\n'),e.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+s+'"/>\n'),e.push("  </style:style>\n"),++r}}),e.push('  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">\n'),e.push('   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>\n'),e.push("  </style:style>\n"),e.push('  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>\n'),e.push(" </office:automatic-styles>\n")}(r,e),r.push("  <office:body>\n"),r.push("    <office:spreadsheet>\n");for(var i=0;i!=e.SheetNames.length;++i)r.push(n(e.Sheets[e.SheetNames[i]],e,i));return r.push("    </office:spreadsheet>\n"),r.push("  </office:body>\n"),"fods"==t.bookType?r.push("</office:document>"):r.push("</office:document-content>"),r.join("")}}();function pN(e,t){if("fods"==t.bookType)return mN(e,t);var n=ix(),r="",s=[],a=[];return ax(n,r="mimetype","application/vnd.oasis.opendocument.spreadsheet"),ax(n,r="content.xml",mN(e,t)),s.push([r,"text/xml"]),a.push([r,"ContentFile"]),ax(n,r="styles.xml",fN(e,t)),s.push([r,"text/xml"]),a.push([r,"StylesFile"]),ax(n,r="meta.xml",ox+Ry()),s.push([r,"text/xml"]),a.push([r,"MetadataFile"]),ax(n,r="manifest.rdf",function(e){var t=[ox];t.push('<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">\n');for(var n=0;n!=e.length;++n)t.push(Py(e[n][0],e[n][1])),t.push(Uy("",e[n][0]));return t.push(Py("","Document","pkg")),t.push("</rdf:RDF>"),t.join("")}(a)),s.push([r,"application/rdf+xml"]),ax(n,r="META-INF/manifest.xml",function(e){var t=[ox];t.push('<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">\n'),t.push('  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>\n');for(var n=0;n<e.length;++n)t.push('  <manifest:file-entry manifest:full-path="'+e[n][0]+'" manifest:media-type="'+e[n][1]+'"/>\n');return t.push("</manifest:manifest>"),t.join("")}(s)),n}function gN(e){return new DataView(e.buffer,e.byteOffset,e.byteLength)}function xN(e){return"undefined"!=typeof TextEncoder?(new TextEncoder).encode(e):Tp(wx(e))}function bN(e){var t=e.reduce(function(e,t){return e+t.length},0),n=new Uint8Array(t),r=0;return e.forEach(function(e){n.set(e,r),r+=e.length}),n}function yN(e,t){var n=t?t[0]:0,r=127&e[n];e:if(e[n++]>=128){if(r|=(127&e[n])<<7,e[n++]<128)break e;if(r|=(127&e[n])<<14,e[n++]<128)break e;if(r|=(127&e[n])<<21,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,28),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,35),++n,e[n++]<128)break e;if(r+=(127&e[n])*Math.pow(2,42),++n,e[n++]<128)break e}return t&&(t[0]=n),r}function vN(e){var t=new Uint8Array(7);t[0]=127&e;var n=1;e:if(e>127){if(t[n-1]|=128,t[n]=e>>7&127,++n,e<=16383)break e;if(t[n-1]|=128,t[n]=e>>14&127,++n,e<=2097151)break e;if(t[n-1]|=128,t[n]=e>>21&127,++n,e<=268435455)break e;if(t[n-1]|=128,t[n]=e/256>>>21&127,++n,e<=34359738367)break e;if(t[n-1]|=128,t[n]=e/65536>>>21&127,++n,e<=4398046511103)break e;t[n-1]|=128,t[n]=e/16777216>>>21&127,++n}return t.slice(0,n)}function wN(e){var t=0,n=127&e[t];e:if(e[t++]>=128){if(n|=(127&e[t])<<7,e[t++]<128)break e;if(n|=(127&e[t])<<14,e[t++]<128)break e;if(n|=(127&e[t])<<21,e[t++]<128)break e;n|=(127&e[t])<<28}return n}function jN(e){for(var t=[],n=[0];n[0]<e.length;){var r,s=n[0],a=yN(e,n),i=7&a,o=0;if(0==(a=Math.floor(a/8)))break;switch(i){case 0:for(var l=n[0];e[n[0]++]>=128;);r=e.slice(l,n[0]);break;case 5:o=4,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 1:o=8,r=e.slice(n[0],n[0]+o),n[0]+=o;break;case 2:o=yN(e,n),r=e.slice(n[0],n[0]+o),n[0]+=o;break;default:throw new Error("PB Type ".concat(i," for Field ").concat(a," at offset ").concat(s))}var c={data:r,type:i};null==t[a]?t[a]=[c]:t[a].push(c)}return t}function NN(e){var t=[];return e.forEach(function(e,n){e.forEach(function(e){e.data&&(t.push(vN(8*n+e.type)),2==e.type&&t.push(vN(e.data.length)),t.push(e.data))})}),bN(t)}function _N(e){for(var t,n=[],r=[0];r[0]<e.length;){var s=yN(e,r),a=jN(e.slice(r[0],r[0]+s));r[0]+=s;var i={id:wN(a[1][0].data),messages:[]};a[2].forEach(function(t){var n=jN(t.data),s=wN(n[3][0].data);i.messages.push({meta:n,data:e.slice(r[0],r[0]+s)}),r[0]+=s}),(null==(t=a[3])?void 0:t[0])&&(i.merge=wN(a[3][0].data)>>>0>0),n.push(i)}return n}function CN(e){var t=[];return e.forEach(function(e){var n=[];n[1]=[{data:vN(e.id),type:0}],n[2]=[],null!=e.merge&&(n[3]=[{data:vN(+!!e.merge),type:0}]);var r=[];e.messages.forEach(function(e){r.push(e.data),e.meta[3]=[{type:0,data:vN(e.data.length)}],n[2].push({data:NN(e.meta),type:2})});var s=NN(n);t.push(vN(s.length)),t.push(s),r.forEach(function(e){return t.push(e)})}),bN(t)}function SN(e,t){if(0!=e)throw new Error("Unexpected Snappy chunk type ".concat(e));for(var n=[0],r=yN(t,n),s=[];n[0]<t.length;){var a=3&t[n[0]];if(0!=a){var i=0,o=0;if(1==a?(o=4+(t[n[0]]>>2&7),i=(224&t[n[0]++])<<3,i|=t[n[0]++]):(o=1+(t[n[0]++]>>2),2==a?(i=t[n[0]]|t[n[0]+1]<<8,n[0]+=2):(i=(t[n[0]]|t[n[0]+1]<<8|t[n[0]+2]<<16|t[n[0]+3]<<24)>>>0,n[0]+=4)),s=[bN(s)],0==i)throw new Error("Invalid offset 0");if(i>s[0].length)throw new Error("Invalid offset beyond length");if(o>=i)for(s.push(s[0].slice(-i)),o-=i;o>=s[s.length-1].length;)s.push(s[s.length-1]),o-=s[s.length-1].length;s.push(s[0].slice(-i,-i+o))}else{var l=t[n[0]++]>>2;if(l<60)++l;else{var c=l-59;l=t[n[0]],c>1&&(l|=t[n[0]+1]<<8),c>2&&(l|=t[n[0]+2]<<16),c>3&&(l|=t[n[0]+3]<<24),l>>>=0,l++,n[0]+=c}s.push(t.slice(n[0],n[0]+l)),n[0]+=l}}var d=bN(s);if(d.length!=r)throw new Error("Unexpected length: ".concat(d.length," != ").concat(r));return d}function kN(e){for(var t=[],n=0;n<e.length;){var r=e[n++],s=e[n]|e[n+1]<<8|e[n+2]<<16;n+=3,t.push(SN(r,e.slice(n,n+s))),n+=s}if(n!==e.length)throw new Error("data is not a valid framed stream!");return bN(t)}function BN(e){for(var t=[],n=0;n<e.length;){var r=Math.min(e.length-n,268435455),s=new Uint8Array(4);t.push(s);var a=vN(r),i=a.length;t.push(a),r<=60?(i++,t.push(new Uint8Array([r-1<<2]))):r<=256?(i+=2,t.push(new Uint8Array([240,r-1&255]))):r<=65536?(i+=3,t.push(new Uint8Array([244,r-1&255,r-1>>8&255]))):r<=16777216?(i+=4,t.push(new Uint8Array([248,r-1&255,r-1>>8&255,r-1>>16&255]))):r<=4294967296&&(i+=5,t.push(new Uint8Array([252,r-1&255,r-1>>8&255,r-1>>16&255,r-1>>>24&255]))),t.push(e.slice(n,n+r)),i+=r,s[0]=0,s[1]=255&i,s[2]=i>>8&255,s[3]=i>>16&255,n+=r}return bN(t)}function EN(e,t){var n=new Uint8Array(32),r=gN(n),s=12,a=0;switch(n[0]=5,e.t){case"n":n[1]=2,function(e,t,n){var r=Math.floor(0==n?0:Math.LOG10E*Math.log(Math.abs(n)))+6176-20,s=n/Math.pow(10,r-6176);e[t+15]|=r>>7,e[t+14]|=(127&r)<<1;for(var a=0;s>=1;++a,s/=256)e[t+a]=255&s;e[t+15]|=n>=0?0:128}(n,s,e.v),a|=1,s+=16;break;case"b":n[1]=6,r.setFloat64(s,e.v?1:0,!0),a|=2,s+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[1]=3,r.setUint32(s,t.indexOf(e.v),!0),a|=8,s+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(8,a,!0),n.slice(0,s)}function LN(e,t){var n=new Uint8Array(32),r=gN(n),s=12,a=0;switch(n[0]=3,e.t){case"n":n[2]=2,r.setFloat64(s,e.v,!0),a|=32,s+=8;break;case"b":n[2]=6,r.setFloat64(s,e.v?1:0,!0),a|=32,s+=8;break;case"s":if(-1==t.indexOf(e.v))throw new Error("Value ".concat(e.v," missing from SST!"));n[2]=3,r.setUint32(s,t.indexOf(e.v),!0),a|=16,s+=4;break;default:throw"unsupported cell type "+e.t}return r.setUint32(4,a,!0),n.slice(0,s)}function MN(e){return yN(jN(e)[1][0].data)}function FN(e,t,n){var r,s,a,i;if(!(null==(r=e[6])?void 0:r[0])||!(null==(s=e[7])?void 0:s[0]))throw"Mutation only works on post-BNC storages!";if((null==(i=null==(a=e[8])?void 0:a[0])?void 0:i.data)&&wN(e[8][0].data)>0||!1)throw"Math only works with normal offsets";for(var o=0,l=gN(e[7][0].data),c=0,d=[],u=gN(e[4][0].data),h=0,A=[],f=0;f<t.length;++f)if(null!=t[f]){var m,p;switch(l.setUint16(2*f,c,!0),u.setUint16(2*f,h,!0),typeof t[f]){case"string":m=EN({t:"s",v:t[f]},n),p=LN({t:"s",v:t[f]},n);break;case"number":m=EN({t:"n",v:t[f]},n),p=LN({t:"n",v:t[f]},n);break;case"boolean":m=EN({t:"b",v:t[f]},n),p=LN({t:"b",v:t[f]},n);break;default:throw new Error("Unsupported value "+t[f])}d.push(m),c+=m.length,A.push(p),h+=p.length,++o}else l.setUint16(2*f,65535,!0),u.setUint16(2*f,65535);for(e[2][0].data=vN(o);f<e[7][0].data.length/2;++f)l.setUint16(2*f,65535,!0),u.setUint16(2*f,65535,!0);return e[6][0].data=bN(d),e[3][0].data=bN(A),o}function IN(e){return function(t){for(var n=0;n!=e.length;++n){var r=e[n];void 0===t[r[0]]&&(t[r[0]]=r[1]),"n"===r[2]&&(t[r[0]]=Number(t[r[0]]))}}}function DN(e){IN([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(e)}function TN(e,t){return"ods"==t.bookType?pN(e,t):"numbers"==t.bookType?function(e,t){if(!t||!t.numbers)throw new Error("Must pass a `numbers` option -- check the README");var n=e.Sheets[e.SheetNames[0]];e.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var r=Wb(n["!ref"]);r.s.r=r.s.c=0;var s=!1;r.e.c>9&&(s=!0,r.e.c=9),r.e.r>49&&(s=!0,r.e.r=49),s&&console.error("The Numbers writer is currently limited to ".concat(Vb(r)));var a=qN(n,{range:r,header:1}),i=["~Sh33tJ5~"];a.forEach(function(e){return e.forEach(function(e){"string"==typeof e&&i.push(e)})});var o={},l=[],c=Dg.read(t.numbers,{type:"base64"});c.FileIndex.map(function(e,t){return[e,c.FullPaths[t]]}).forEach(function(e){var t=e[0],n=e[1];2==t.type&&t.name.match(/\.iwa/)&&_N(kN(t.content)).forEach(function(e){l.push(e.id),o[e.id]={deps:[],location:n,type:wN(e.messages[0].meta[1][0].data)}})}),l.sort(function(e,t){return e-t});var d=l.filter(function(e){return e>1}).map(function(e){return[e,vN(e)]});c.FileIndex.map(function(e,t){return[e,c.FullPaths[t]]}).forEach(function(e){var t=e[0];e[1],t.name.match(/\.iwa/)&&_N(kN(t.content)).forEach(function(e){e.messages.forEach(function(t){d.forEach(function(t){e.messages.some(function(e){return 11006!=wN(e.meta[1][0].data)&&function(e,t){e:for(var n=0;n<=e.length-t.length;++n){for(var r=0;r<t.length;++r)if(e[n+r]!=t[r])continue e;return!0}return!1}(e.data,t[1])})&&o[t[0]].deps.push(e.id)})})})});for(var u,h=Dg.find(c,o[1].location),A=_N(kN(h.content)),f=0;f<A.length;++f){var m=A[f];1==m.id&&(u=m)}var p=MN(jN(u.messages[0].data)[1][0].data);for(A=_N(kN((h=Dg.find(c,o[p].location)).content)),f=0;f<A.length;++f)(m=A[f]).id==p&&(u=m);for(p=MN(jN(u.messages[0].data)[2][0].data),A=_N(kN((h=Dg.find(c,o[p].location)).content)),f=0;f<A.length;++f)(m=A[f]).id==p&&(u=m);for(p=MN(jN(u.messages[0].data)[2][0].data),A=_N(kN((h=Dg.find(c,o[p].location)).content)),f=0;f<A.length;++f)(m=A[f]).id==p&&(u=m);var g=jN(u.messages[0].data);g[6][0].data=vN(r.e.r+1),g[7][0].data=vN(r.e.c+1);for(var x=MN(g[46][0].data),b=Dg.find(c,o[x].location),y=_N(kN(b.content)),v=0;v<y.length&&y[v].id!=x;++v);if(y[v].id!=x)throw"Bad ColumnRowUIDMapArchive";var w=jN(y[v].messages[0].data);w[1]=[],w[2]=[],w[3]=[];for(var j=0;j<=r.e.c;++j){var N=[];N[1]=N[2]=[{type:0,data:vN(j+420690)}],w[1].push({type:2,data:NN(N)}),w[2].push({type:0,data:vN(j)}),w[3].push({type:0,data:vN(j)})}w[4]=[],w[5]=[],w[6]=[];for(var _=0;_<=r.e.r;++_)(N=[])[1]=N[2]=[{type:0,data:vN(_+726270)}],w[4].push({type:2,data:NN(N)}),w[5].push({type:0,data:vN(_)}),w[6].push({type:0,data:vN(_)});y[v].messages[0].data=NN(w),b.content=BN(CN(y)),b.size=b.content.length,delete g[46];var C=jN(g[4][0].data);C[7][0].data=vN(r.e.r+1);var S=MN(jN(C[1][0].data)[2][0].data);if((y=_N(kN((b=Dg.find(c,o[S].location)).content)))[0].id!=S)throw"Bad HeaderStorageBucket";var k=jN(y[0].messages[0].data);for(_=0;_<a.length;++_){var B=jN(k[2][0].data);B[1][0].data=vN(_),B[4][0].data=vN(a[_].length),k[2][_]={type:k[2][0].type,data:NN(B)}}y[0].messages[0].data=NN(k),b.content=BN(CN(y)),b.size=b.content.length;var E=MN(C[2][0].data);if((y=_N(kN((b=Dg.find(c,o[E].location)).content)))[0].id!=E)throw"Bad HeaderStorageBucket";for(k=jN(y[0].messages[0].data),j=0;j<=r.e.c;++j)(B=jN(k[2][0].data))[1][0].data=vN(j),B[4][0].data=vN(r.e.r+1),k[2][j]={type:k[2][0].type,data:NN(B)};y[0].messages[0].data=NN(k),b.content=BN(CN(y)),b.size=b.content.length;var L=MN(C[4][0].data);!function(){for(var e,t=Dg.find(c,o[L].location),n=_N(kN(t.content)),r=0;r<n.length;++r){var s=n[r];s.id==L&&(e=s)}var a=jN(e.messages[0].data);a[3]=[];var l=[];i.forEach(function(e,t){l[1]=[{type:0,data:vN(t)}],l[2]=[{type:0,data:vN(1)}],l[3]=[{type:2,data:xN(e)}],a[3].push({type:2,data:NN(l)})}),e.messages[0].data=NN(a);var d=BN(CN(n));t.content=d,t.size=t.content.length}();var M=jN(C[3][0].data),F=M[1][0];delete M[2];var I=jN(F.data),D=MN(I[2][0].data);!function(){for(var e,t=Dg.find(c,o[D].location),n=_N(kN(t.content)),s=0;s<n.length;++s){var l=n[s];l.id==D&&(e=l)}var d=jN(e.messages[0].data);delete d[6],delete M[7];var u=new Uint8Array(d[5][0].data);d[5]=[];for(var h=0,A=0;A<=r.e.r;++A){var f=jN(u);h+=FN(f,a[A],i),f[1][0].data=vN(A),d[5].push({data:NN(f),type:2})}d[1]=[{type:0,data:vN(r.e.c+1)}],d[2]=[{type:0,data:vN(r.e.r+1)}],d[3]=[{type:0,data:vN(h)}],d[4]=[{type:0,data:vN(r.e.r+1)}],e.messages[0].data=NN(d);var m=BN(CN(n));t.content=m,t.size=t.content.length}(),F.data=NN(I),C[3][0].data=NN(M),g[4][0].data=NN(C),u.messages[0].data=NN(g);var T=BN(CN(A));return h.content=T,h.size=h.content.length,c}(e,t):"xlsb"==t.bookType?function(e,t){dw=1024,e&&!e.SSF&&(e.SSF=ex(Xp));e&&e.SSF&&(Mg(),Lg(e.SSF),t.revssf=zg(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF);t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,sj?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xlsb"==t.bookType?"bin":"xml",r=pw.indexOf(t.bookType)>-1,s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};DN(t=t||{});var a=ix(),i="",o=0;t.cellXfs=[],lj(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={});if(ax(a,i="docProps/core.xml",Hy(e.Props,t)),s.coreprops.push(i),Oy(t.rels,2,i,Iy.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,ax(a,i,Vy(e.Props)),s.extprops.push(i),Oy(t.rels,3,i,Iy.EXT_PROPS),e.Custprops!==e.Props&&Ug(e.Custprops||{}).length>0&&(ax(a,i="docProps/custom.xml",qy(e.Custprops)),s.custprops.push(i),Oy(t.rels,4,i,Iy.CUST_PROPS));for(o=1;o<=e.SheetNames.length;++o){var d={"!id":{}},u=e.Sheets[e.SheetNames[o-1]];(u||{})["!type"];if(ax(a,i="xl/worksheets/sheet"+o+"."+n,Oj(o-1,i,t,e,d)),s.sheets.push(i),Oy(t.wbrels,-1,"worksheets/sheet"+o+"."+n,Iy.WS[0]),u){var h=u["!comments"],A=!1,f="";h&&h.length>0&&(ax(a,f="xl/comments"+o+"."+n,Pj(h,f,t)),s.comments.push(f),Oy(d,-1,"../comments"+o+"."+n,Iy.CMNT),A=!0),u["!legacy"]&&A&&ax(a,"xl/drawings/vmlDrawing"+o+".vml",uw(o,u["!comments"])),delete u["!comments"],delete u["!legacy"]}d["!id"].rId1&&ax(a,Dy(i),Ty(d))}null!=t.Strings&&t.Strings.length>0&&(ax(a,i="xl/sharedStrings."+n,function(e,t,n){return(".bin"===t.slice(-4)?Iv:Mv)(e,n)}(t.Strings,i,t)),s.strs.push(i),Oy(t.wbrels,-1,"sharedStrings."+n,Iy.SST));ax(a,i="xl/workbook."+n,function(e,t,n){return(".bin"===t.slice(-4)?Tj:Fj)(e,n)}(e,i,t)),s.workbooks.push(i),Oy(t.rels,1,i,Iy.WB),ax(a,i="xl/theme/theme1.xml",ow(e.Themes,t)),s.themes.push(i),Oy(t.wbrels,-1,"theme/theme1.xml",Iy.THEME),ax(a,i="xl/styles."+n,function(e,t,n){return(".bin"===t.slice(-4)?iw:qv)(e,n)}(e,i,t)),s.styles.push(i),Oy(t.wbrels,-1,"styles."+n,Iy.STY),e.vbaraw&&r&&(ax(a,i="xl/vbaProject.bin",e.vbaraw),s.vba.push(i),Oy(t.wbrels,-1,"vbaProject.bin",Iy.VBA));return ax(a,i="xl/metadata."+n,function(e){return(".bin"===e.slice(-4)?lw:cw)()}(i)),s.metadata.push(i),Oy(t.wbrels,-1,"metadata."+n,Iy.XLMETA),ax(a,"[Content_Types].xml",Fy(s,t)),ax(a,"_rels/.rels",Ty(t.rels)),ax(a,"xl/_rels/workbook."+n+".rels",Ty(t.wbrels)),delete t.revssf,delete t.ssf,a}(e,t):ON(e,t)}function ON(e,t){dw=1024,e&&!e.SSF&&(e.SSF=ex(Xp)),e&&e.SSF&&(Mg(),Lg(e.SSF),t.revssf=zg(e.SSF),t.revssf[e.SSF[65535]]=0,t.ssf=e.SSF),t.rels={},t.wbrels={},t.Strings=[],t.Strings.Count=0,t.Strings.Unique=0,sj?t.revStrings=new Map:(t.revStrings={},t.revStrings.foo=[],delete t.revStrings.foo);var n="xml",r=pw.indexOf(t.bookType)>-1,s={workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""};DN(t=t||{});var a=ix(),i="",o=0;if(t.cellXfs=[],lj(t.cellXfs,{},{revssf:{General:0}}),e.Props||(e.Props={}),ax(a,i="docProps/core.xml",Hy(e.Props,t)),s.coreprops.push(i),Oy(t.rels,2,i,Iy.CORE_PROPS),i="docProps/app.xml",e.Props&&e.Props.SheetNames);else if(e.Workbook&&e.Workbook.Sheets){for(var l=[],c=0;c<e.SheetNames.length;++c)2!=(e.Workbook.Sheets[c]||{}).Hidden&&l.push(e.SheetNames[c]);e.Props.SheetNames=l}else e.Props.SheetNames=e.SheetNames;e.Props.Worksheets=e.Props.SheetNames.length,ax(a,i,Vy(e.Props)),s.extprops.push(i),Oy(t.rels,3,i,Iy.EXT_PROPS),e.Custprops!==e.Props&&Ug(e.Custprops||{}).length>0&&(ax(a,i="docProps/custom.xml",qy(e.Custprops)),s.custprops.push(i),Oy(t.rels,4,i,Iy.CUST_PROPS));var d=["SheetJ5"];for(t.tcid=0,o=1;o<=e.SheetNames.length;++o){var u={"!id":{}},h=e.Sheets[e.SheetNames[o-1]];(h||{})["!type"];if(ax(a,i="xl/worksheets/sheet"+o+"."+n,Aj(o-1,t,e,u)),s.sheets.push(i),Oy(t.wbrels,-1,"worksheets/sheet"+o+"."+n,Iy.WS[0]),h){var A=h["!comments"],f=!1,m="";if(A&&A.length>0){var p=!1;A.forEach(function(e){e[1].forEach(function(e){1==e.T&&(p=!0)})}),p&&(ax(a,m="xl/threadedComments/threadedComment"+o+"."+n,Aw(A,d,t)),s.threadedcomments.push(m),Oy(u,-1,"../threadedComments/threadedComment"+o+"."+n,Iy.TCMNT)),ax(a,m="xl/comments"+o+"."+n,hw(A)),s.comments.push(m),Oy(u,-1,"../comments"+o+"."+n,Iy.CMNT),f=!0}h["!legacy"]&&f&&ax(a,"xl/drawings/vmlDrawing"+o+".vml",uw(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}u["!id"].rId1&&ax(a,Dy(i),Ty(u))}return null!=t.Strings&&t.Strings.length>0&&(ax(a,i="xl/sharedStrings."+n,Mv(t.Strings,t)),s.strs.push(i),Oy(t.wbrels,-1,"sharedStrings."+n,Iy.SST)),ax(a,i="xl/workbook."+n,Fj(e)),s.workbooks.push(i),Oy(t.rels,1,i,Iy.WB),ax(a,i="xl/theme/theme1.xml",ow(e.Themes,t)),s.themes.push(i),Oy(t.wbrels,-1,"theme/theme1.xml",Iy.THEME),ax(a,i="xl/styles."+n,qv(e,t)),s.styles.push(i),Oy(t.wbrels,-1,"styles."+n,Iy.STY),e.vbaraw&&r&&(ax(a,i="xl/vbaProject.bin",e.vbaraw),s.vba.push(i),Oy(t.wbrels,-1,"vbaProject.bin",Iy.VBA)),ax(a,i="xl/metadata."+n,cw()),s.metadata.push(i),Oy(t.wbrels,-1,"metadata."+n,Iy.XLMETA),d.length>1&&(ax(a,i="xl/persons/person.xml",function(e){var t=[ox,Sx("personList",null,{xmlns:Ix,"xmlns:x":zx[0]}).replace(/[\/]>/,">")];return e.forEach(function(e,n){t.push(Sx("person",null,{displayName:e,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:e,providerId:"None"}))}),t.push("</personList>"),t.join("")}(d)),s.people.push(i),Oy(t.wbrels,-1,"persons/person.xml",Iy.PEOPLE)),ax(a,"[Content_Types].xml",Fy(s,t)),ax(a,"_rels/.rels",Ty(t.rels)),ax(a,"xl/_rels/workbook.xml.rels",Ty(t.wbrels)),delete t.revssf,delete t.ssf,a}function PN(e,t){var n="";switch((t||{}).type||"base64"){case"buffer":case"array":return[e[0],e[1],e[2],e[3],e[4],e[5],e[6],e[7]];case"base64":n=Lp(e.slice(0,12));break;case"binary":n=e;break;default:throw new Error("Unrecognized type "+(t&&t.type||"undefined"))}return[n.charCodeAt(0),n.charCodeAt(1),n.charCodeAt(2),n.charCodeAt(3),n.charCodeAt(4),n.charCodeAt(5),n.charCodeAt(6),n.charCodeAt(7)]}function UN(e,t){switch(t.type){case"base64":case"binary":break;case"buffer":case"array":t.type="";break;case"file":return Pg(t.file,Dg.write(e,{type:Mp?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");default:throw new Error("Unrecognized type "+t.type)}return Dg.write(e,t)}function RN(e,t){var n={},r=Mp?"nodebuffer":"undefined"!==typeof Uint8Array?"array":"string";if(t.compression&&(n.compression="DEFLATE"),t.password)n.type=r;else switch(t.type){case"base64":n.type="base64";break;case"binary":n.type="string";break;case"string":throw new Error("'string' output type invalid for '"+t.bookType+"' files");case"buffer":case"file":n.type=r;break;default:throw new Error("Unrecognized type "+t.type)}var s=e.FullPaths?Dg.write(e,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[n.type]||n.type,compression:!!t.compression}):e.generate(n);if("undefined"!==typeof Deno&&"string"==typeof s){if("binary"==t.type||"base64"==t.type)return s;s=new Uint8Array(Op(s))}return t.password&&"undefined"!==typeof encrypt_agile?UN(encrypt_agile(s,t.password),t):"file"===t.type?Pg(t.file,s):"string"==t.type?vx(s):s}function QN(e,t,n){n||(n="");var r=n+e;switch(t.type){case"base64":return Ep(wx(r));case"binary":return wx(r);case"string":return e;case"file":return Pg(t.file,r,"utf8");case"buffer":return Mp?Fp(r,"utf8"):"undefined"!==typeof TextEncoder?(new TextEncoder).encode(r):QN(r,{type:"binary"}).split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}function zN(e,t){switch(t.type){case"string":case"base64":case"binary":for(var n="",r=0;r<e.length;++r)n+=String.fromCharCode(e[r]);return"base64"==t.type?Ep(n):"string"==t.type?vx(n):n;case"file":return Pg(t.file,e);case"buffer":return e;default:throw new Error("Unrecognized type "+t.type)}}function HN(e,t){Np(),Mj(e);var n=ex(t||{});if(n.cellStyles&&(n.cellNF=!0,n.sheetStubs=!0),"array"==n.type){n.type="binary";var r=HN(e,n);return n.type="array",Op(r)}var s=0;if(n.sheet&&(s="number"==typeof n.sheet?n.sheet:e.SheetNames.indexOf(n.sheet),!e.SheetNames[s]))throw new Error("Sheet not found: "+n.sheet+" : "+typeof n.sheet);switch(n.bookType||"xlsb"){case"xml":case"xlml":return QN(Kj(e,n),n);case"slk":case"sylk":return QN(Cv.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"htm":case"html":return QN(dN(e.Sheets[e.SheetNames[s]],n),n);case"txt":return function(e,t){switch(t.type){case"base64":return Ep(e);case"binary":case"string":return e;case"file":return Pg(t.file,e,"binary");case"buffer":return Mp?Fp(e,"binary"):e.split("").map(function(e){return e.charCodeAt(0)})}throw new Error("Unrecognized type "+t.type)}(XN(e.Sheets[e.SheetNames[s]],n),n);case"csv":return QN(JN(e.Sheets[e.SheetNames[s]],n),n,"\ufeff");case"dif":return QN(Sv.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"dbf":return zN(_v.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"prn":return QN(Bv.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"rtf":return QN(Ov.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"eth":return QN(kv.from_sheet(e.Sheets[e.SheetNames[s]],n),n);case"fods":return QN(pN(e,n),n);case"wk1":return zN(Ev.sheet_to_wk1(e.Sheets[e.SheetNames[s]],n),n);case"wk3":return zN(Ev.book_to_wk3(e,n),n);case"biff2":n.biff||(n.biff=2);case"biff3":n.biff||(n.biff=3);case"biff4":return n.biff||(n.biff=4),zN(aN(e,n),n);case"biff5":n.biff||(n.biff=5);case"biff8":case"xla":case"xls":return n.biff||(n.biff=8),function(e,t){var n=t||{};return UN(Gj(e,n),n)}(e,n);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return function(e,t){var n=ex(t||{});return RN(TN(e,n),n)}(e,n);default:throw new Error("Unrecognized bookType |"+n.bookType+"|")}}function KN(e){if(!e.bookType){var t=e.file.slice(e.file.lastIndexOf(".")).toLowerCase();t.match(/^\.[a-z]+$/)&&(e.bookType=t.slice(1)),e.bookType={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"}[e.bookType]||e.bookType}}function WN(e,t,n){var r=n||{};return r.type="file",r.file=t,KN(r),HN(e,r)}function VN(e,t,n,r,s,a,i,o){var l=Rb(n),c=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),u=!0,h=1===s?[]:{};if(1!==s)if(Object.defineProperty)try{Object.defineProperty(h,"__rowNum__",{value:n,enumerable:!1})}catch(AB){h.__rowNum__=n}else h.__rowNum__=n;if(!i||e[n])for(var A=t.s.c;A<=t.e.c;++A){var f=i?e[n][A]:e[r[A]+l];if(void 0!==f&&void 0!==f.t){var m=f.v;switch(f.t){case"z":if(null==m)break;continue;case"e":m=0==m?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+f.t)}if(null!=a[A]){if(null==m)if("e"==f.t&&null===m)h[a[A]]=null;else if(void 0!==c)h[a[A]]=c;else{if(!d||null!==m)continue;h[a[A]]=null}else h[a[A]]=d&&("n"!==f.t||"n"===f.t&&!1!==o.rawNumbers)?m:Yb(f,m,o);null!=m&&(u=!1)}}else{if(void 0===c)continue;null!=a[A]&&(h[a[A]]=c)}}return{row:h,isempty:u}}function qN(e,t){if(null==e||null==e["!ref"])return[];var n={t:"n",v:0},r=0,s=1,a=[],i=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},c=t||{},d=null!=c.range?c.range:e["!ref"];switch(1===c.header?r=1:"A"===c.header?r=2:Array.isArray(c.header)?r=3:null==c.header&&(r=0),typeof d){case"string":l=qb(d);break;case"number":(l=qb(e["!ref"])).s.r=d;break;default:l=d}r>0&&(s=0);var u=Rb(l.s.r),h=[],A=[],f=0,m=0,p=Array.isArray(e),g=l.s.r,x=0,b={};p&&!e[g]&&(e[g]=[]);var y=c.skipHidden&&e["!cols"]||[],v=c.skipHidden&&e["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(y[x]||{}).hidden)switch(h[x]=zb(x),n=p?e[g][x]:e[h[x]+u],r){case 1:a[x]=x-l.s.c;break;case 2:a[x]=h[x];break;case 3:a[x]=c.header[x-l.s.c];break;default:if(null==n&&(n={w:"__EMPTY",t:"s"}),o=i=Yb(n,null,c),m=b[i]||0){do{o=i+"_"+m++}while(b[o]);b[i]=m,b[o]=1}else b[i]=1;a[x]=o}for(g=l.s.r+s;g<=l.e.r;++g)if(!(v[g]||{}).hidden){var w=VN(e,l,g,h,r,a,p,c);(!1===w.isempty||(1===r?!1!==c.blankrows:c.blankrows))&&(A[f++]=w.row)}return A.length=f,A}var GN=/"/g;function YN(e,t,n,r,s,a,i,o){for(var l=!0,c=[],d="",u=Rb(n),h=t.s.c;h<=t.e.c;++h)if(r[h]){var A=o.dense?(e[n]||[])[h]:e[r[h]+u];if(null==A)d="";else if(null!=A.v){l=!1,d=""+(o.rawNumbers&&"n"==A.t?A.v:Yb(A,null,o));for(var f=0,m=0;f!==d.length;++f)if((m=d.charCodeAt(f))===s||m===a||34===m||o.forceQuotes){d='"'+d.replace(GN,'""')+'"';break}"ID"==d&&(d='"ID"')}else null==A.f||A.F?d="":(l=!1,(d="="+A.f).indexOf(",")>=0&&(d='"'+d.replace(GN,'""')+'"'));c.push(d)}return!1===o.blankrows&&l?null:c.join(i)}function JN(e,t){var n=[],r=null==t?{}:t;if(null==e||null==e["!ref"])return"";var s=qb(e["!ref"]),a=void 0!==r.FS?r.FS:",",i=a.charCodeAt(0),o=void 0!==r.RS?r.RS:"\n",l=o.charCodeAt(0),c=new RegExp(("|"==a?"\\|":a)+"+$"),d="",u=[];r.dense=Array.isArray(e);for(var h=r.skipHidden&&e["!cols"]||[],A=r.skipHidden&&e["!rows"]||[],f=s.s.c;f<=s.e.c;++f)(h[f]||{}).hidden||(u[f]=zb(f));for(var m=0,p=s.s.r;p<=s.e.r;++p)(A[p]||{}).hidden||null!=(d=YN(e,s,p,u,i,l,a,r))&&(r.strip&&(d=d.replace(c,"")),(d||!1!==r.blankrows)&&n.push((m++?o:"")+d));return delete r.dense,n.join("")}function XN(e,t){t||(t={}),t.FS="\t",t.RS="\n";var n=JN(e,t);if("undefined"==typeof Cp||"string"==t.type)return n;var r=Cp.utils.encode(1200,n,"str");return String.fromCharCode(255)+String.fromCharCode(254)+r}function ZN(e,t,n){var r,s=n||{},a=+!s.skipHeader,i=e||{},o=0,l=0;if(i&&null!=s.origin)if("number"==typeof s.origin)o=s.origin;else{var c="string"==typeof s.origin?Hb(s.origin):s.origin;o=c.r,l=c.c}var d={s:{c:0,r:0},e:{c:l,r:o+t.length-1+a}};if(i["!ref"]){var u=qb(i["!ref"]);d.e.c=Math.max(d.e.c,u.e.c),d.e.r=Math.max(d.e.r,u.e.r),-1==o&&(o=u.e.r+1,d.e.r=o+t.length-1+a)}else-1==o&&(o=0,d.e.r=t.length-1+a);var h=s.header||[],A=0;t.forEach(function(e,t){Ug(e).forEach(function(n){-1==(A=h.indexOf(n))&&(h[A=h.length]=n);var c=e[n],d="z",u="",f=Kb({c:l+A,r:o+t+a});r=$N(i,f),!c||"object"!==typeof c||c instanceof Date?("number"==typeof c?d="n":"boolean"==typeof c?d="b":"string"==typeof c?d="s":c instanceof Date?(d="d",s.cellDates||(d="n",c=Kg(c)),u=s.dateNF||Xp[14]):null===c&&s.nullError&&(d="e",c=0),r?(r.t=d,r.v=c,delete r.w,delete r.R,u&&(r.z=u)):i[f]=r={t:d,v:c},u&&(r.z=u)):i[f]=c})}),d.e.c=Math.max(d.e.c,l+h.length-1);var f=Rb(o);if(a)for(A=0;A<h.length;++A)i[zb(A+l)+f]={t:"s",v:h[A]};return i["!ref"]=Vb(d),i}function $N(e,t,n){if("string"==typeof t){if(Array.isArray(e)){var r=Hb(t);return e[r.r]||(e[r.r]=[]),e[r.r][r.c]||(e[r.r][r.c]={t:"z"})}return e[t]||(e[t]={t:"z"})}return $N(e,Kb("number"!=typeof t?t:{r:t,c:n||0}))}function e_(){return{SheetNames:[],Sheets:{}}}function t_(e,t,n,r){var s=1;if(!n)for(;s<=65535&&-1!=e.SheetNames.indexOf(n="Sheet"+s);++s,n=void 0);if(!n||e.SheetNames.length>=65535)throw new Error("Too many worksheets");if(r&&e.SheetNames.indexOf(n)>=0){var a=n.match(/(^.*?)(\d+)$/);s=a&&+a[2]||0;var i=a&&a[1]||n;for(++s;s<=65535&&-1!=e.SheetNames.indexOf(n=i+s);++s);}if(Lj(n),e.SheetNames.indexOf(n)>=0)throw new Error("Worksheet with name |"+n+"| already exists!");return e.SheetNames.push(n),e.Sheets[n]=t,n}function n_(e,t,n){return t?(e.l={Target:t},n&&(e.l.Tooltip=n)):delete e.l,e}var r_={encode_col:zb,encode_row:Rb,encode_cell:Kb,encode_range:Vb,decode_col:Qb,decode_row:Ub,split_cell:function(e){return e.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")},decode_cell:Hb,decode_range:Wb,format_cell:Yb,sheet_add_aoa:Xb,sheet_add_json:ZN,sheet_add_dom:uN,aoa_to_sheet:Zb,json_to_sheet:function(e,t){return ZN(null,e,t)},table_to_sheet:hN,table_to_book:function(e,t){return Jb(hN(e,t),t)},sheet_to_csv:JN,sheet_to_txt:XN,sheet_to_json:qN,sheet_to_html:dN,sheet_to_formulae:function(e){var t,n="",r="";if(null==e||null==e["!ref"])return[];var s,a=qb(e["!ref"]),i="",o=[],l=[],c=Array.isArray(e);for(s=a.s.c;s<=a.e.c;++s)o[s]=zb(s);for(var d=a.s.r;d<=a.e.r;++d)for(i=Rb(d),s=a.s.c;s<=a.e.c;++s)if(n=o[s]+i,r="",void 0!==(t=c?(e[d]||[])[s]:e[n])){if(null!=t.F){if(n=t.F,!t.f)continue;r=t.f,-1==n.indexOf(":")&&(n=n+":"+n)}if(null!=t.f)r=t.f;else{if("z"==t.t)continue;if("n"==t.t&&null!=t.v)r=""+t.v;else if("b"==t.t)r=t.v?"TRUE":"FALSE";else if(void 0!==t.w)r="'"+t.w;else{if(void 0===t.v)continue;r="s"==t.t?"'"+t.v:""+t.v}}l[l.length]=n+"="+r}return l},sheet_to_row_object_array:qN,sheet_get_cell:$N,book_new:e_,book_append_sheet:t_,book_set_sheet_visibility:function(e,t,n){e.Workbook||(e.Workbook={}),e.Workbook.Sheets||(e.Workbook.Sheets=[]);var r=function(e,t){if("number"==typeof t){if(t>=0&&e.SheetNames.length>t)return t;throw new Error("Cannot find sheet # "+t)}if("string"==typeof t){var n=e.SheetNames.indexOf(t);if(n>-1)return n;throw new Error("Cannot find sheet name |"+t+"|")}throw new Error("Cannot find sheet |"+t+"|")}(e,t);switch(e.Workbook.Sheets[r]||(e.Workbook.Sheets[r]={}),n){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+n)}e.Workbook.Sheets[r].Hidden=n},cell_set_number_format:function(e,t){return e.z=t,e},cell_set_hyperlink:n_,cell_set_internal_link:function(e,t,n){return n_(e,"#"+t,n)},cell_add_comment:function(e,t,n){e.c||(e.c=[]),e.c.push({t:t,a:n||"SheetJS"})},sheet_set_array_formula:function(e,t,n,r){for(var s="string"!=typeof t?t:qb(t),a="string"==typeof t?t:Vb(t),i=s.s.r;i<=s.e.r;++i)for(var o=s.s.c;o<=s.e.c;++o){var l=$N(e,i,o);l.t="n",l.F=a,delete l.v,i==s.s.r&&o==s.s.c&&(l.f=n,r&&(l.D=!0))}return e},consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};gp.version;function s_(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(null),[g,x]=(0,t.useState)(null),[b,y]=(0,t.useState)("");(0,t.useEffect)(()=>{function e(e){null===m||e.target.closest(".menu-container")||e.target.closest(".menu-toggle")||p(null)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[m]);const[v,w]=(0,t.useState)({branch_name:"",address:"",city:"",state:"",pin_code:"",contact_number:"",email:"",opening_date:"",branch_type:"Main",status:"Active",manager_name:"",manager_email:"",manager_password:"",discount_range:"0",discount_amount:"0"}),j=async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const t=(await Ua.get("branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name,branch_code:e.branch_code||"BR-"+e.id,city:e.city,state:e.state,contact:e.contact_number,email:e.email,status:e.status,opening_date:e.opening_date,discount_range:e.discount_range||"",discount_amount:e.discount_amount||"",pin_code:e.pin_code||"",address:e.address||"",branch_type:e.branch_type||"Main"}));n(t)}catch(e){console.error("Error fetching branches:",e),pi.error("Failed to load branches")}};(0,t.useEffect)(()=>{j()},[]);const _=e.filter(e=>(e.branchName||"").toLowerCase().includes(r.toLowerCase())||(e.city||"").toLowerCase().includes(r.toLowerCase())||(e.branch_code||"").toLowerCase().includes(r.toLowerCase())),C=e=>{const{name:t,value:n}=e.target;if(("contact_number"!==t||/^\d{0,10}$/.test(n))&&!("discount_amount"===t&&Number(n)<0)&&("pin_code"!==t||/^\d{0,6}$/.test(n))){if("manager_password"===t){if(n.length>15)return;y(n.length>0&&n.length<6?"Password must be at least 6 characters":"")}w(N(N({},v),{},{[t]:n}))}},S=()=>{w({branch_name:"",address:"",city:"",state:"",pin_code:"",contact_number:"",email:"",opening_date:"",branch_type:"Main",status:"Active",manager_name:"",manager_email:"",manager_password:"",discount_range:"0",discount_amount:"0"}),y("")};return(0,mr.jsxs)(wl,{children:[(0,mr.jsx)(Ci,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,mr.jsxs)("div",{className:"max-w-9xl mx-auto p-6 w-full",children:[(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6 gap-4",children:[(0,mr.jsxs)("h1",{className:"text-3xl md:text-[34px] font-nunito font-bold",children:["Branches (",e.length,")"]}),(0,mr.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3 w-full md:w-auto",children:[(0,mr.jsxs)("button",{onClick:()=>i(!0),className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-xl flex items-center justify-center gap-2",children:[(0,mr.jsx)(Zo,{})," Create Branch"]}),(0,mr.jsxs)("button",{onClick:()=>{const t=e.map(e=>({"Branch Code":e.branch_code,"Branch Name":e.branchName,City:e.city,State:e.state,"Pin Code":e.pin_code,Address:e.address,"Contact Number":e.contact,Email:e.email,"Opening Date":e.opening_date,"Branch Type":e.branch_type,Status:e.status,"Discount Range":e.discount_range,"Discount Amount":e.discount_amount||""})),n=r_.json_to_sheet(t),r=r_.book_new();r_.book_append_sheet(r,n,"Branches"),WN(r,"branches_export.xlsx"),pi.success("Branches exported successfully!")},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-xl flex items-center justify-center gap-2",children:[(0,mr.jsx)(Do,{})," Export Branches"]})]})]}),(0,mr.jsx)("div",{className:"mb-6",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search by name, city, or code...",value:r,onChange:e=>s(e.target.value),className:"border p-3 rounded-xl w-full shadow-sm focus:ring-2 focus:ring-blue-500 focus:border-blue-500"}),(0,mr.jsx)("svg",{className:"absolute right-3 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})}),(0,mr.jsxs)("div",{className:"hidden md:grid grid-cols-12 gap-4 px-5 py-3 bg-gray-100 rounded-t-lg border-b",children:[(0,mr.jsx)("div",{className:"col-span-3 font-medium text-gray-700",children:"Branch Info"}),(0,mr.jsx)("div",{className:"col-span-2 font-medium text-gray-700 text-center",children:"Opening Date"}),(0,mr.jsx)("div",{className:"col-span-2 font-medium text-gray-700 text-center",children:"Email"}),(0,mr.jsx)("div",{className:"col-span-2 font-medium text-gray-700 text-center",children:"Contact"}),(0,mr.jsx)("div",{className:"col-span-1 font-medium text-gray-700 text-center",children:"Status"})]}),(0,mr.jsx)("div",{className:"shadow-md rounded-lg",children:(0,mr.jsx)("div",{className:"space-y-3",children:_.length>0?_.map(t=>(0,mr.jsxs)("div",{className:"bg-white shadow-sm hover:shadow-md transition rounded-xl px-5 py-4 grid grid-cols-12 gap-4 items-center relative",children:[(0,mr.jsxs)("div",{className:"col-span-12 md:col-span-3 flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"w-12 h-12 rounded-full bg-blue-100 flex items-center justify-center",children:(0,mr.jsx)(Vo,{className:"text-blue-600 text-xl"})}),(0,mr.jsxs)("div",{className:"min-w-0",children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-800 text-lg truncate",children:t.branchName}),(0,mr.jsxs)("p",{className:"text-gray-500 text-sm truncate",children:[t.city,", ",t.state]})]})]}),(0,mr.jsx)("div",{className:"hidden md:flex col-span-2 flex-col text-sm text-gray-600 items-center justify-center",children:(0,mr.jsx)("span",{className:"truncate w-full text-center",children:t.opening_date?new Date(t.opening_date).toLocaleDateString("en-GB"):""})}),(0,mr.jsx)("div",{className:"hidden md:flex col-span-2 flex-col text-sm text-gray-600 items-center justify-center",children:(0,mr.jsx)("span",{className:"truncate w-full text-center",children:t.email})}),(0,mr.jsx)("div",{className:"hidden md:flex col-span-2 flex-col text-sm text-gray-600 items-center justify-center",children:(0,mr.jsx)("span",{className:"truncate w-full text-center",children:t.contact})}),(0,mr.jsx)("div",{className:"hidden md:flex col-span-1 flex-col text-sm text-gray-600 items-center justify-center",children:(0,mr.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("Active"===t.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:t.status})}),(0,mr.jsx)("div",{className:"md:hidden absolute top-4 right-3",children:(0,mr.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("Active"===t.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:t.status})}),(0,mr.jsx)("div",{className:"col-span-12 md:col-span-1 flex justify-end md:justify-center md:absolute md:right-4",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("button",{onClick:()=>p(m===t.id?null:t.id),className:"menu-toggle p-2 hover:bg-gray-100 rounded-full",children:(0,mr.jsx)(qi,{size:20})}),m===t.id&&(0,mr.jsxs)("div",{className:"absolute right-0 mt-2 bg-white shadow-lg rounded-lg w-40 py-2 z-50 menu-container border",onClick:e=>e.stopPropagation(),children:[(0,mr.jsxs)("button",{onClick:e=>{e.stopPropagation(),(async e=>{h(!0);try{const t=localStorage.getItem("token"),n=await Ua.get("branches/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});x(n.data.branch),l(!0)}catch(t){console.error("Error fetching branch details:",t),pi.error("Failed to load branch details")}finally{h(!1)}})(t.id),p(null)},className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-blue-600",children:[(0,mr.jsx)(Mo,{size:16})," View"]}),(0,mr.jsxs)("button",{onClick:r=>{r.stopPropagation(),(async(t,r)=>{try{const s=localStorage.getItem("token"),a="Active"===r?"Inactive":"Active";await Ua.patch("branches/".concat(t,"/status"),{status:a},{headers:{Authorization:"Bearer ".concat(s)}}),n(e.map(e=>e.id===t?N(N({},e),{},{status:a}):e)),pi.success("Branch status changed to ".concat(a))}catch(s){console.error("Error updating status:",s),pi.error("Failed to update status")}})(t.id,t.status),p(null)},className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100",children:["Active"===t.status?(0,mr.jsx)(ul,{size:18,className:"text-green-600"}):(0,mr.jsx)(dl,{size:18,className:"text-red-600"}),"Toggle Status"]}),(0,mr.jsxs)("button",{onClick:e=>{e.stopPropagation(),(async e=>{f(e.id);try{var t,n,r,s,a,o;const l=localStorage.getItem("token"),c=(await Ua.get("branches/".concat(e.id),{headers:{Authorization:"Bearer ".concat(l)}})).data.branch;w({branch_name:c.branch_name||"",address:c.address||"",city:c.city||"",state:c.state||"",pin_code:c.pin_code||"",contact_number:c.contact_number||"",email:c.email||"",opening_date:c.opening_date||"",branch_type:c.branch_type||"Main",status:c.status||"Active",discount_range:c.discount_range||"0",discount_amount:c.discount_amount||"0",manager_name:c.manager_name||(null===(t=c.managers)||void 0===t||null===(n=t[0])||void 0===n?void 0:n.name)||"",manager_email:c.manager_email||(null===(r=c.managers)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.email)||"",manager_password:c.manager_password||(null===(a=c.managers)||void 0===a||null===(o=a[0])||void 0===o?void 0:o.plain_password)||""}),i(!0)}catch(l){console.error("Failed to load branch details for edit:",l),pi.error("Could not load branch data. Please try again.")}})(t),p(null)},className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-blue-600",children:[(0,mr.jsx)(ko,{size:16})," Edit"]}),(0,mr.jsxs)("button",{onClick:e=>{e.stopPropagation(),(async e=>{if(window.confirm("Are you sure you want to delete this branch?"))try{const t=localStorage.getItem("token");await Ua.delete("branches/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Branch deleted successfully!"),j()}catch(t){console.error("Error deleting branch:",t),pi.error("Failed to delete branch")}})(t.id),p(null)},className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-red-600",children:[(0,mr.jsx)(hl,{size:16})," Delete"]})]})]})})]},t.id)):(0,mr.jsxs)("div",{className:"text-center p-8 text-gray-500 bg-white rounded-xl shadow-sm",children:[(0,mr.jsx)("svg",{className:"w-16 h-16 mx-auto text-gray-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,mr.jsx)("p",{className:"mt-4 text-lg",children:"No branches found"}),(0,mr.jsx)("p",{className:"text-sm",children:"Try adjusting your search or create a new branch"})]})})}),a&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-2xl relative max-h-[90vh] overflow-y-auto",children:[(0,mr.jsx)("button",{onClick:()=>{i(!1),f(null),S()},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 p-1 rounded-full hover:bg-gray-100",children:(0,mr.jsx)(cl,{size:20})}),(0,mr.jsx)("h2",{className:"text-2xl font-bold mb-6 text-blue-700",children:A?"Update Branch":"Create Branch"}),(0,mr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),!A&&v.manager_password.length<6)y("Password must be at least 6 characters");else{d(!0);try{const t=localStorage.getItem("token");if(A){const r=await Ua.put("branches/".concat(A),v,{headers:{Authorization:"Bearer ".concat(t)}});n(e.map(e=>e.id===A?N(N({},e),r.data):e)),pi.success("Branch updated successfully!")}else{const r=await Ua.post("branches",v,{headers:{Authorization:"Bearer ".concat(t)}});n([...e,r.data]),pi.success("Branch created successfully!")}j(),i(!1),f(null),S()}catch(r){console.error(r),pi.error(A?"Error updating branch":"Error creating branch")}finally{d(!1)}}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-blue-50 rounded-lg",children:[(0,mr.jsx)("h3",{className:"md:col-span-2 text-lg font-semibold text-blue-800",children:"Branch Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch Name *"}),(0,mr.jsx)("input",{name:"branch_name",value:v.branch_name,onChange:C,placeholder:"Enter branch name",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address *"}),(0,mr.jsx)("input",{name:"address",value:v.address,onChange:C,placeholder:"Enter address",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"City *"}),(0,mr.jsx)("input",{name:"city",value:v.city,onChange:C,placeholder:"Enter city",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"State *"}),(0,mr.jsx)("input",{name:"state",value:v.state,onChange:C,placeholder:"Enter state",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Pin Code *"}),(0,mr.jsx)("input",{name:"pin_code",value:v.pin_code,onChange:C,placeholder:"Enter pin code",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",type:"number",maxLength:6,pattern:"[0-9]{6}",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number *"}),(0,mr.jsx)("input",{name:"contact_number",value:v.contact_number,onChange:C,placeholder:"Enter contact number",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",type:"number",maxLength:10,required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount (%) *"}),(0,mr.jsx)("input",{name:"discount_range",value:v.discount_range,onChange:C,placeholder:"Enter max discount",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",type:"number",min:"0",max:"100",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Max Discount (amount) *"}),(0,mr.jsx)("input",{name:"discount_amount",value:v.discount_amount,onChange:C,placeholder:"Enter max discount amount",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",type:"number",min:"0"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,mr.jsx)("input",{name:"email",value:v.email,onChange:C,placeholder:"Enter email",type:"email",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Opening Date *"}),(0,mr.jsx)("input",{name:"opening_date",value:v.opening_date,onChange:C,type:"date",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch Type"}),(0,mr.jsxs)("select",{name:"branch_type",value:v.branch_type,onChange:C,className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,mr.jsx)("option",{children:"Company on Company Operator"}),(0,mr.jsx)("option",{children:"Franchise"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,mr.jsxs)("select",{name:"status",value:v.status,onChange:C,className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,mr.jsx)("option",{children:"Active"}),(0,mr.jsx)("option",{children:"Inactive"})]})]})]}),(0,mr.jsxs)("div",{className:"md:col-span-2 grid grid-cols-1 md:grid-cols-2 gap-4 p-4 bg-green-50 rounded-lg",children:[(0,mr.jsxs)("h3",{className:"md:col-span-2 text-lg font-semibold text-green-800 flex items-center gap-2",children:[(0,mr.jsx)(Ho,{})," Login Credentials"]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Name *"}),(0,mr.jsx)("input",{name:"manager_name",value:v.manager_name,onChange:C,placeholder:"Enter manager name",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Manager Email *"}),(0,mr.jsx)("input",{name:"manager_email",value:v.manager_email,onChange:C,placeholder:"Enter manager email",type:"email",className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Manager Password ",!A&&"*",(0,mr.jsx)("span",{className:"text-xs text-gray-500 ml-2",children:"(Max 15 characters)"})]}),(0,mr.jsx)("input",{name:"manager_password",value:v.manager_password,onChange:C,placeholder:A?"Leave blank to keep current":"Enter password",type:"text",maxLength:15,className:"border p-3 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!A}),b&&(0,mr.jsx)("p",{className:"text-red-500 text-xs mt-1",children:b}),(0,mr.jsxs)("div",{className:"flex justify-between mt-1",children:[(0,mr.jsxs)("span",{className:"text-xs text-gray-500",children:[v.manager_password.length,"/15 characters"]}),v.manager_password.length>0&&(0,mr.jsx)("span",{className:"text-xs ".concat(v.manager_password.length<6?"text-red-500":"text-green-500"),children:v.manager_password.length<6?"Too short":"Good"})]})]})]}),(0,mr.jsxs)("div",{className:"md:col-span-2 flex justify-end mt-4",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>{i(!1),f(null),S()},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-6 py-2 rounded-lg mr-3",children:"Cancel"}),(0,mr.jsxs)("button",{type:"submit",disabled:c,className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-6 py-2 rounded-lg flex items-center gap-2 disabled:opacity-70",children:[c?(0,mr.jsx)(sl,{className:"animate-spin"}):null,c?"Saving...":A?"Update Branch":"Create Branch"]})]})]})]})}),o&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-xl shadow-lg w-full max-w-4xl relative max-h-[90vh] overflow-y-auto",children:[(0,mr.jsx)("button",{onClick:()=>{l(!1),x(null)},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 p-1 rounded-full hover:bg-gray-100",children:(0,mr.jsx)(cl,{size:20})}),u?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)(sl,{className:"animate-spin text-4xl text-blue-500"})}):g?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("h2",{className:"text-2xl font-bold mb-6 text-center text-blue-700",children:[g.branch_name," Details"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-5 rounded-xl shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-blue-800",children:[(0,mr.jsx)(Vo,{})," Branch Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Code:"})," ",g.branch_code]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Type:"})," ",g.branch_type]}),(0,mr.jsxs)("p",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Status:"}),(0,mr.jsx)("span",{className:"px-2 py-1 ml-2 text-xs rounded-full ".concat("Active"===g.status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:g.status})]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Opening Date:"}),new Date(g.opening_date).toLocaleDateString("en-GB")]}),(0,mr.jsxs)("p",{className:"flex items-center gap-1",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Max Discount: (in %)"})," ",g.discount_range,"%"]}),(0,mr.jsxs)("p",{className:"flex items-center gap-1",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Max Discount: (in Rs.)"})," ",g.discount_amount||"0"," Rs."]})]})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-5 rounded-xl shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-green-800",children:[(0,mr.jsx)(Xo,{})," Contact Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("p",{className:"flex items-center gap-2",children:[(0,mr.jsx)(Bo,{className:"text-green-600"}),(0,mr.jsx)("span",{children:g.email})]}),(0,mr.jsxs)("p",{className:"flex items-center gap-2",children:[(0,mr.jsx)(Xo,{className:"text-green-600"}),(0,mr.jsx)("span",{children:g.contact_number})]}),(0,mr.jsxs)("p",{className:"flex items-center gap-2",children:[(0,mr.jsx)(Vo,{className:"text-green-600"}),(0,mr.jsxs)("span",{children:[g.address,", ",g.city,", ",g.state," - ",g.pin_code]})]})]})]}),g.managers&&g.managers.length>0&&(0,mr.jsxs)("div",{className:"md:col-span-2 bg-purple-50 p-5 rounded-xl shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold mb-4 flex items-center gap-2 text-purple-800",children:[(0,mr.jsx)(gl,{})," All Managers & Staff (",g.managers.length,")"]}),(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full border border-purple-100 rounded-lg overflow-hidden",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{className:"bg-purple-100 text-purple-900",children:[(0,mr.jsx)("th",{className:"px-4 py-2 text-left font-semibold",children:"Name"}),(0,mr.jsx)("th",{className:"px-4 py-2 text-left font-semibold",children:"Role"}),(0,mr.jsx)("th",{className:"px-4 py-2 text-left font-semibold",children:"Email"}),(0,mr.jsx)("th",{className:"px-4 py-2 text-left font-semibold",children:"Password"})]})}),(0,mr.jsx)("tbody",{children:g.managers.map((e,t)=>{const n="admin"===e.role?"bg-red-100 text-red-700 border border-red-300":"branch_manager"===e.role?"bg-blue-100 text-blue-700 border border-blue-300":"accountant"===e.role?"bg-yellow-100 text-yellow-700 border border-yellow-300":"staff"===e.role?"bg-green-100 text-green-700 border border-green-300":"bg-gray-100 text-gray-700 border border-gray-300";return(0,mr.jsxs)("tr",{className:"".concat(t%2===0?"bg-white":"bg-purple-50"," hover:bg-purple-100 transition duration-200"),children:[(0,mr.jsx)("td",{className:"px-4 py-2 font-medium text-gray-800",children:e.name}),(0,mr.jsx)("td",{className:"px-4 py-2",children:(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat(n),children:e.role.replace("_"," ").replace(/\b\w/g,e=>e.toUpperCase())})}),(0,mr.jsx)("td",{className:"px-4 py-2 text-gray-700",children:e.email}),(0,mr.jsx)("td",{className:"px-4 py-2 text-gray-600",children:e.plain_password})]},e.id)})})]})})]})]})]}):(0,mr.jsx)("div",{className:"text-center p-8 text-red-500",children:"Failed to load branch details. Please try again."})]})})]})]})}function a_(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}function i_(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)("list"),g=sn(),[x,b]=(0,t.useState)(null),[y,v]=(0,t.useState)("created_at"),[w,j]=(0,t.useState)("desc"),[_,C]=(0,t.useState)({from:"",to:""}),S=(0,t.useRef)(null);(0,t.useEffect)(()=>{function e(e){null===x||e.target.closest(".menu-container")||e.target.closest(".menu-toggle")||b(null)}return document.addEventListener("mousedown",e),()=>document.removeEventListener("mousedown",e)},[x]),(0,t.useEffect)(()=>{if(c){var e;const t=null===(e=S.current)||void 0===e?void 0:e.querySelector("input, select, textarea, button");null===t||void 0===t||t.focus();const n=e=>{"Escape"===e.key&&d(!1)};return document.addEventListener("keydown",n),()=>document.removeEventListener("keydown",n)}},[c]);const k=e.filter(e=>(!a||e.branch_id===parseInt(a))&&((e.employee_name||"").toLowerCase().includes(o.toLowerCase())||(e.designation||"").toLowerCase().includes(o.toLowerCase())||(e.employee_code||"").toLowerCase().includes(o.toLowerCase()))).filter(e=>!(_.from&&new Date(e.created_at)<new Date(_.from))&&!(_.to&&new Date(e.created_at)>new Date(_.to))).sort((e,t)=>{const n="joining_date"===y?e.joining_date:e.created_at,r="joining_date"===y?t.joining_date:t.created_at;return"asc"===w?n.localeCompare(r):"desc"===w?r.localeCompare(n):0}),[B,E]=(0,t.useState)({employee_name:"",employee_code:"",designation:"",joining_date:"",contact_number:"",email:"",department:"",status:"Active",branch_id:"",staffcreate_name:"",staffcreate_email:"",staffcreate_password:"",monthly_salary:""}),[L,M]=(0,t.useState)({}),F=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){pi.error("Failed to load staff data")}};(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branch_name:e.branch_name}));s(t)}catch(e){pi.error("Failed to load branches")}})(),F()},[]);const I=e=>{const{name:t,value:n}=e.target;("contact_number"!==t||/^\d{0,10}$/.test(n))&&("monthly_salary"!==t||/^\d*\.?\d*$/.test(n))&&E(e=>N(N({},e),{},{[t]:n}))},D=()=>{E({employee_name:"",employee_code:"",designation:"",joining_date:"",contact_number:"",email:"",department:"",status:"Active",branch_id:"",staffcreate_name:"",staffcreate_email:"",staffcreate_password:"",monthly_salary:""}),M({})};return(0,mr.jsxs)("div",{className:"p-2 md:px-5",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,theme:"light"}),(0,mr.jsxs)("div",{className:"flex flex-col sm:flex-row items-stretch sm:items-center gap-3 mb-4",children:[(0,mr.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"border p-2 rounded w-full sm:w-[190px]",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),r.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]}),(0,mr.jsx)("input",{type:"text",placeholder:"Search...",value:o,onChange:e=>l(e.target.value),className:"border p-2 rounded w-full"})]}),(0,mr.jsxs)("div",{className:"flex flex-wrap items-center justify-between mb-6 gap-4",children:[(0,mr.jsxs)("h1",{className:"text-2xl font-nunito",children:["Employee ",(0,mr.jsxs)("span",{children:["(",k.length,")"]})]}),(0,mr.jsxs)("div",{className:"flex gap-2 bg-gray-200 p-1 rounded-full",children:[(0,mr.jsx)("button",{onClick:()=>p("list"),className:"px-4 py-2 rounded-full text-sm font-medium ".concat("list"===m?"bg-[#3F8CFF] text-white":"bg-transparent text-gray-600 hover:bg-gray-300"),children:"List View"}),(0,mr.jsx)("button",{onClick:()=>p("card"),className:"px-4 py-2 rounded-full text-sm font-medium ".concat("card"===m?"bg-[#3F8CFF] text-white":"bg-transparent text-gray-600 hover:bg-gray-300"),children:"Card View"})]}),(0,mr.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(0,mr.jsxs)("button",{onClick:()=>{const e=k.map(e=>{var t;return{"Employee Name":e.employee_name,"Employee Code":e.employee_code,Designation:e.designation,"Joining Date":e.joining_date,"Contact Number":e.contact_number,Email:e.email,Department:e.department,Status:e.status,Branch:(null===(t=r.find(t=>t.id===e.branch_id))||void 0===t?void 0:t.branch_name)||"N/A","Monthly Salary":e.monthly_salary}}),t=r_.json_to_sheet(e),n=r_.book_new();r_.book_append_sheet(n,t,"Staff Data"),WN(n,"staff_data.xlsx"),pi.success("Staff data exported successfully!")},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-3xl flex items-center gap-2",children:[(0,mr.jsx)(Do,{})," Export to Excel"]}),(0,mr.jsxs)("button",{onClick:()=>{D(),f(null),d(!0)},className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-3xl flex items-center gap-2",children:[(0,mr.jsx)(Zo,{})," Create Staff"]})]})]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-2 mb-2",children:[(0,mr.jsxs)("select",{value:y,onChange:e=>v(e.target.value),className:"border p-2 rounded",children:[(0,mr.jsx)("option",{value:"created_at",children:"Sort by Created Date"}),(0,mr.jsx)("option",{value:"joining_date",children:"Sort by Joining Date"})]}),(0,mr.jsxs)("select",{value:w,onChange:e=>j(e.target.value),className:"border p-2 rounded",children:[(0,mr.jsx)("option",{value:"desc",children:"Newest First"}),(0,mr.jsx)("option",{value:"asc",children:"Oldest First"})]}),(0,mr.jsx)("input",{type:"date",value:_.from,onChange:e=>C(t=>N(N({},t),{},{from:e.target.value})),placeholder:"From",className:"border p-2 rounded"}),(0,mr.jsx)("input",{type:"date",value:_.to,onChange:e=>C(t=>N(N({},t),{},{to:e.target.value})),placeholder:"To",className:"border p-2 rounded"}),(0,mr.jsx)("button",{onClick:()=>C({from:"",to:""}),className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-1 rounded-3xl flex items-center gap-2",children:"Reset Dates"})]}),"list"===m?(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-12 gap-5 px-4 md:px-5 py-3 bg-gray-100 font-semibold text-gray-700 text-xs md:text-sm",children:[(0,mr.jsx)("div",{className:"col-span-4 sm:col-span-3",children:"Employee"}),(0,mr.jsx)("div",{className:"hidden sm:block sm:col-span-2 text-center",children:"Position"}),(0,mr.jsx)("div",{className:"col-span-4 sm:col-span-2 text-center",children:"Phone no."}),(0,mr.jsx)("div",{className:"hidden sm:block sm:col-span-2 text-center",children:"Status"}),(0,mr.jsx)("div",{className:"col-span-4 sm:col-span-3 text-right",children:"Actions"})]}),(0,mr.jsx)("div",{className:"divide-y",children:k.map(t=>(0,mr.jsxs)("div",{className:"grid grid-cols-12 gap-5 px-2 md:px-5 py-4 items-center hover:bg-gray-50 text-xs md:text-base",children:[(0,mr.jsxs)("div",{className:"col-span-4 sm:col-span-3 flex items-center gap-3 min-w-0",children:[(0,mr.jsx)("img",{src:t.profile_image||"https://sipl.ind.in/wp-content/uploads/2022/07/dummy-user.png",alt:t.employee_name,className:"w-10 h-10 md:w-12 md:h-12 rounded-full object-cover border"}),(0,mr.jsx)("div",{className:"min-w-0",children:(0,mr.jsx)("h3",{className:"font-semibold text-gray-800 ",children:t.employee_name})})]}),(0,mr.jsx)("div",{className:"hidden sm:block sm:col-span-2 text-center text-gray-600 truncate",children:t.designation}),(0,mr.jsx)("div",{className:"col-span-4 sm:col-span-2 text-center text-gray-600 truncate",children:t.contact_number}),(0,mr.jsx)("div",{className:"hidden sm:block sm:col-span-2 text-center",children:(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.status})}),(0,mr.jsx)("div",{className:"col-span-4 sm:col-span-3 flex justify-end",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("button",{onClick:()=>b(x===t.id?null:t.id),className:"menu-toggle p-2 hover:bg-gray-100 rounded-full","aria-haspopup":"true","aria-expanded":x===t.id,children:(0,mr.jsx)(qi,{size:20})}),x===t.id&&(0,mr.jsxs)("div",{className:"menu-container absolute right-0 mt-2 bg-white shadow-lg rounded-lg w-40 py-2 z-50",onClick:e=>e.stopPropagation(),children:[(0,mr.jsxs)("button",{onClick:()=>(async(t,r)=>{try{const s=localStorage.getItem("token"),a="Active"===r?"Inactive":"Active";await Ua.put("/staff/update/".concat(t),{status:a},{headers:{Authorization:"Bearer ".concat(s)}}),n(e.map(e=>e.id===t?N(N({},e),{},{status:a}):e)),pi.success("Staff status changed to ".concat(a))}catch(s){pi.error("Failed to update staff status")}})(t.id,t.status),className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100",children:["Active"===t.status?(0,mr.jsx)(ul,{size:18,className:"text-green-600"}):(0,mr.jsx)(dl,{size:18,className:"text-red-600"}),"Active"===t.status?"Deactivate":"Activate"]}),(0,mr.jsxs)("button",{onClick:()=>g("/sinfodeadmin/staff/".concat(t.id)),className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-purple-600",children:[(0,mr.jsx)(Mo,{size:16})," View"]}),(0,mr.jsxs)("button",{onClick:()=>(e=>{var t,n,r;f(e.id),E({employee_name:e.employee_name||"",employee_code:e.employee_code||"",designation:e.designation||"",joining_date:e.joining_date||"",contact_number:e.contact_number||"",email:e.email||"",department:e.department||"",status:e.status||"Active",branch_id:e.branch_id||"",staffcreate_name:(null===(t=e.user)||void 0===t?void 0:t.name)||e.employee_name||"",staffcreate_email:(null===(n=e.user)||void 0===n?void 0:n.email)||"",staffcreate_password:(null===(r=e.user)||void 0===r?void 0:r.plain_password)||"",monthly_salary:e.monthly_salary||""}),d(!0)})(t),className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-blue-600",children:[(0,mr.jsx)(ko,{size:16})," Edit"]}),(0,mr.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this staff member?"))try{const t=localStorage.getItem("token");await Ua.delete("/staff/delete/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Staff member deleted successfully!"),F()}catch(t){pi.error("Failed to delete staff member")}})(t.id),className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-red-600",children:[(0,mr.jsx)(hl,{size:16})," Delete"]})]})]})})]},t.id))})]})}):(0,mr.jsx)("div",{className:"grid mt-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>(0,mr.jsxs)("div",{className:"bg-white mt-4 rounded-2xl shadow p-6 flex flex-col items-center text-center",children:[(0,mr.jsx)("div",{className:"w-16 h-16 rounded-full overflow-hidden border-4 border-white shadow-md -mt-10 mb-3",children:(0,mr.jsx)("img",{src:e.profile_image||"https://sipl.ind.in/wp-content/uploads/2022/07/dummy-user.png",alt:e.employee_name,className:"w-full h-full object-cover"})}),(0,mr.jsx)("h3",{className:"text-lg font-semibold",children:e.employee_name}),(0,mr.jsx)("p",{className:"text-gray-500",children:e.designation}),(0,mr.jsx)("div",{className:"grid gap-3 mt-3 w-full text-sm",children:(0,mr.jsx)("div",{className:"bg-gray-50 rounded-lg py-2",children:(0,mr.jsxs)("p",{className:"text-gray-800 font-bold",children:["Contact No: ",e.contact_number||0]})})}),(0,mr.jsxs)("span",{className:"mt-4 px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700",children:["Joined on: ",e.joining_date]})]},e.id))}),c&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,mr.jsxs)("div",{ref:S,className:"bg-white p-5 rounded-lg shadow-lg w-full max-w-2xl max-h-[95vh] overflow-y-auto relative",role:"dialog","aria-modal":"true","aria-labelledby":"staff-modal-title",children:[(0,mr.jsx)("button",{onClick:()=>d(!1),className:"absolute top-3 right-3 text-gray-500 hover:text-gray-800","aria-label":"Close modal",children:(0,mr.jsx)(cl,{})}),(0,mr.jsx)("h2",{id:"staff-modal-title",className:"text-[20px] font-nunito mb-2",children:A?"Update Staff":"Create Staff"}),(0,mr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{const t={};return B.employee_name.trim()||(t.employee_name="Employee name is required"),B.employee_code.trim()||(t.employee_code="Employee code is required"),B.designation.trim()||(t.designation="Designation is required"),B.joining_date||(t.joining_date="Joining date is required"),/^\d{10}$/.test(B.contact_number)||(t.contact_number="Phone must be exactly 10 digits"),B.email.trim()?a_(B.email)||(t.email="Please enter a valid email address"):t.email="Email is required",e.some(e=>e.email===B.email&&(!A||e.id!==A))&&(t.email="This email is already in use"),B.department.trim()||(t.department="Department is required"),B.branch_id||(t.branch_id="Branch selection is required"),B.monthly_salary&&!/^\d+(\.\d{1,2})?$/.test(B.monthly_salary)&&(t.monthly_salary="Enter a valid salary"),B.staffcreate_name.trim()||(t.staffcreate_name="Username is required"),B.staffcreate_email.trim()?a_(B.staffcreate_email)||(t.staffcreate_email="Invalid user email"):t.staffcreate_email="User email is required",A||B.staffcreate_password.trim()||(t.staffcreate_password="Password is required"),M(t),0===Object.keys(t).length})()){h(!0);try{const e=localStorage.getItem("token");A?(await Ua.put("/staff/update/".concat(A),B,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Staff updated successfully!")):(await Ua.post("/staff/create",B,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Staff created successfully!")),F(),d(!1),f(null),D()}catch(n){pi.error(A?"Error updating staff":"Error creating staff")}finally{h(!1)}}},className:"grid grid-cols-1 md:grid-cols-2 gap-3 md:gap-4",autoComplete:"off",children:[(0,mr.jsx)("div",{className:"md:col-span-2 flex items-center",children:(0,mr.jsx)("h3",{className:"text-md font-medium mb-2 border-b pb-1 flex-1",children:"Employee Details"})}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"Employee Name *"}),(0,mr.jsx)("input",{name:"employee_name",value:B.employee_name,onChange:I,placeholder:"Enter employee name",className:"border p-2 rounded ".concat(L.employee_name?"border-red-500":""),required:!0}),L.employee_name&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.employee_name})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"Employee Code *"}),(0,mr.jsx)("input",{name:"employee_code",value:B.employee_code,onChange:I,placeholder:"Enter employee code",className:"border p-2 rounded ".concat(L.employee_code?"border-red-500":""),required:!0}),L.employee_code&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.employee_code})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:'Designation - (use "Trainer" in case of Teacher)'}),(0,mr.jsx)("input",{name:"designation",value:B.designation,onChange:I,placeholder:"Enter designation",className:"border p-2 rounded ".concat(L.designation?"border-red-500":""),required:!0}),L.designation&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.designation})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"Joining Date *"}),(0,mr.jsx)("input",{name:"joining_date",value:B.joining_date,onChange:I,type:"date",className:"border p-2 rounded ".concat(L.joining_date?"border-red-500":""),required:!0}),L.joining_date&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.joining_date})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"Contact Number *"}),(0,mr.jsx)("input",{name:"contact_number",value:B.contact_number,onChange:I,placeholder:"Enter 10-digit contact number",className:"border p-2 rounded ".concat(L.contact_number?"border-red-500":""),maxLength:10,required:!0,pattern:"[0-9]{10}",inputMode:"numeric"}),L.contact_number&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.contact_number})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"Monthly Salary"}),(0,mr.jsx)("input",{name:"monthly_salary",value:B.monthly_salary,onChange:I,placeholder:"Enter monthly salary",className:"border p-2 rounded ".concat(L.monthly_salary?"border-red-500":""),inputMode:"decimal"}),L.monthly_salary&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.monthly_salary})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"Email *"}),(0,mr.jsx)("input",{name:"email",value:B.email,onChange:I,placeholder:"Enter email address",type:"email",className:"border p-2 rounded ".concat(L.email?"border-red-500":""),required:!0,autoComplete:"off"}),L.email&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.email})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"Department *"}),(0,mr.jsx)("input",{name:"department",value:B.department,onChange:I,placeholder:"Enter department",className:"border p-2 rounded ".concat(L.department?"border-red-500":""),required:!0}),L.department&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.department})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"Branch *"}),(0,mr.jsxs)("select",{name:"branch_id",value:B.branch_id,onChange:I,className:"border p-2 rounded ".concat(L.branch_id?"border-red-500":""),required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),r.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]}),L.branch_id&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.branch_id})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"Status *"}),(0,mr.jsxs)("select",{name:"status",value:B.status,onChange:I,className:"border p-2 rounded",required:!0,children:[(0,mr.jsx)("option",{value:"Active",children:"Active"}),(0,mr.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,mr.jsx)("div",{className:"md:col-span-2 mt-3",children:(0,mr.jsx)("h3",{className:"text-md font-medium mb-2 border-b pb-1",children:"User Account Details"})}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"Username *"}),(0,mr.jsx)("input",{name:"staffcreate_name",value:B.staffcreate_name,onChange:I,placeholder:"Enter username",className:"border p-2 rounded ".concat(L.staffcreate_name?"border-red-500":""),required:!0}),L.staffcreate_name&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.staffcreate_name})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:"User Email *"}),(0,mr.jsx)("input",{name:"staffcreate_email",value:B.staffcreate_email,onChange:I,placeholder:"Enter user email",type:"email",className:"border p-2 rounded ".concat(L.staffcreate_email?"border-red-500":""),required:!0}),L.staffcreate_email&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.staffcreate_email})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsxs)("label",{className:"text-sm font-medium mb-1 text-gray-700",children:["Password ",!A&&"*"]}),(0,mr.jsx)("input",{name:"staffcreate_password",value:B.staffcreate_password,onChange:I,placeholder:"Enter password",type:"text",className:"border p-2 rounded ".concat(L.staffcreate_password?"border-red-500":""),required:!A}),L.staffcreate_password&&(0,mr.jsx)("span",{className:"text-red-500 text-xs mt-1",children:L.staffcreate_password})]}),(0,mr.jsx)("div",{className:"md:col-span-2 flex justify-end mt-4",children:(0,mr.jsx)("button",{type:"submit",disabled:u,className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-3xl flex items-center gap-2",children:u?"Saving...":A?"Update Staff":"Create Staff"})})]})]})})]})}function o_(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)("list"),g=sn(),[x,b]=(0,t.useState)(null),[y,v]=(0,t.useState)("name"),[w,j]=(0,t.useState)("asc"),[_,C]=(0,t.useState)("all"),[S,k]=(0,t.useState)("all"),[B,E]=(0,t.useState)("all"),[L,M]=(0,t.useState)([]);(0,t.useEffect)(()=>{function e(e){null===x||e.target.closest(".menu-container")||e.target.closest(".menu-toggle")||b(null)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[x]);const[F,I]=(0,t.useState)({accountant_name:"",accountant_code:"",joining_date:"",contact_number:"",email:"",department:"",attendance_status:"Present",branch_id:"",acccreate_name:"",acccreate_email:"",acccreate_password:"",monthly_salary:"",status:"Active"}),D=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/accountants",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[]);const r=[...new Set(t.data.map(e=>e.department).filter(Boolean))];M(r)}catch(e){pi.error("Failed to load accountants")}};(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branch_name:e.branch_name}));s(t)}catch(e){pi.error("Failed to load branches")}})(),D()},[]);const T=e=>{const{name:t,value:n}=e.target;("contact_number"!==t||/^\d{0,10}$/.test(n))&&I(e=>N(N({},e),{},{[t]:n}))},O=e.filter(e=>{const t=!a||e.branch_id===parseInt(a),n=(e.accountant_name||"").toLowerCase().includes(o.toLowerCase())||(e.accountant_code||"").toLowerCase().includes(o.toLowerCase())||(e.email||"").toLowerCase().includes(o.toLowerCase())||(e.department||"").toLowerCase().includes(o.toLowerCase()),r="all"===_||e.status===_,s="all"===B||e.department===B;let i=!0;if("all"!==S&&e.joining_date){const t=new Date(e.joining_date),n=new Date-t,r=Math.ceil(n/864e5);switch(S){case"today":i=0===r;break;case"week":i=r<=7;break;case"month":i=r<=30;break;case"year":i=r<=365;break;default:i=!0}}return t&&n&&r&&s&&i}).sort((e,t)=>{let n,r;switch(y){case"name":n=(e.accountant_name||"").toLowerCase(),r=(t.accountant_name||"").toLowerCase();break;case"code":n=(e.accountant_code||"").toLowerCase(),r=(t.accountant_code||"").toLowerCase();break;case"department":n=(e.department||"").toLowerCase(),r=(t.department||"").toLowerCase();break;case"joining_date":n=new Date(e.joining_date||0),r=new Date(t.joining_date||0);break;case"salary":n=parseFloat(e.monthly_salary)||0,r=parseFloat(t.monthly_salary)||0;break;case"created_at":n=new Date(e.created_at||0),r=new Date(t.created_at||0);break;default:n=e.accountant_name||"",r=t.accountant_name||""}return"asc"===w?n<r?-1:n>r?1:0:n>r?-1:n<r?1:0}),P=()=>{I({accountant_name:"",accountant_code:"",joining_date:"",contact_number:"",email:"",department:"",attendance_status:"Present",branch_id:"",acccreate_name:"",acccreate_email:"",acccreate_password:"",monthly_salary:"",status:"Active"})};return(0,mr.jsxs)("div",{className:"p-3 md:p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,theme:"light"}),(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-6",children:[(0,mr.jsxs)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:["Accountants ",(0,mr.jsxs)("span",{className:"text-blue-600",children:["(",O.length,")"]})]}),(0,mr.jsxs)("div",{className:"flex gap-3 flex-wrap",children:[(0,mr.jsxs)("div",{className:"flex gap-2 bg-gray-200 p-1 rounded-full",children:[(0,mr.jsx)("button",{onClick:()=>p("list"),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("list"===m?"bg-blue-600 text-white":"bg-transparent text-gray-600 hover:bg-gray-300"),children:"List View"}),(0,mr.jsx)("button",{onClick:()=>p("card"),className:"px-4 py-2 rounded-full text-sm font-medium transition-colors ".concat("card"===m?"bg-blue-600 text-white":"bg-transparent text-gray-600 hover:bg-gray-300"),children:"Card View"})]}),(0,mr.jsxs)("button",{onClick:()=>{const e=O.map(e=>{var t;return{"Accountant Name":e.accountant_name,"Accountant Code":e.accountant_code,"Joining Date":e.joining_date,"Contact Number":e.contact_number,Email:e.email,Department:e.department,"Attendance Status":e.attendance_status,"Monthly Salary":e.monthly_salary,Status:e.status,Branch:(null===(t=r.find(t=>t.id===e.branch_id))||void 0===t?void 0:t.branch_name)||"N/A"}}),t=r_.json_to_sheet(e),n=r_.book_new();r_.book_append_sheet(n,t,"Accountant Data"),WN(n,"accountant_data.xlsx"),pi.success("Accountant data exported successfully!")},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm",children:[(0,mr.jsx)(Do,{})," Export Excel"]}),(0,mr.jsxs)("button",{onClick:()=>d(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 text-sm",children:[(0,mr.jsx)(Zo,{})," Create Accountant"]})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:[(0,mr.jsx)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4 mb-4",children:(0,mr.jsx)("button",{onClick:()=>{i(""),l(""),C("all"),k("all"),E("all"),v("name"),j("asc")},className:"text-sm text-right text-blue-600 hover:text-blue-800 font-medium",children:"Clear All Filters"})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-6 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,mr.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),r.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,mr.jsxs)("select",{value:_,onChange:e=>C(e.target.value),className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[(0,mr.jsx)("option",{value:"all",children:"All Status"}),(0,mr.jsx)("option",{value:"Active",children:"Active"}),(0,mr.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,mr.jsxs)("select",{value:B,onChange:e=>E(e.target.value),className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[(0,mr.jsx)("option",{value:"all",children:"All Departments"}),L.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Period"}),(0,mr.jsxs)("select",{value:S,onChange:e=>k(e.target.value),className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[(0,mr.jsx)("option",{value:"all",children:"All Time"}),(0,mr.jsx)("option",{value:"today",children:"Today"}),(0,mr.jsx)("option",{value:"week",children:"This Week"}),(0,mr.jsx)("option",{value:"month",children:"This Month"}),(0,mr.jsx)("option",{value:"year",children:"This Year"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Sort By"}),(0,mr.jsxs)("select",{value:y,onChange:e=>{return t=e.target.value,void(y===t?j("asc"===w?"desc":"asc"):(v(t),j("asc")));var t},className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[(0,mr.jsx)("option",{value:"name",children:"Name"}),(0,mr.jsx)("option",{value:"code",children:"Code"}),(0,mr.jsx)("option",{value:"department",children:"Department"}),(0,mr.jsx)("option",{value:"joining_date",children:"Joining Date"}),(0,mr.jsx)("option",{value:"salary",children:"Salary"}),(0,mr.jsx)("option",{value:"created_at",children:"Created Date"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Order"}),(0,mr.jsxs)("select",{value:w,onChange:e=>j(e.target.value),className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500 text-sm",children:[(0,mr.jsx)("option",{value:"asc",children:"Ascending"}),(0,mr.jsx)("option",{value:"desc",children:"Descending"})]})]})]}),(0,mr.jsxs)("div",{className:"mt-4",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Search"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search by name, code, email or department...",value:o,onChange:e=>l(e.target.value),className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),"list"===m?(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-12 gap-4 px-4 md:px-5 py-3 bg-gray-100 font-semibold text-gray-700 text-xs md:text-sm rounded-t-xl",children:[(0,mr.jsx)("div",{className:"col-span-4 sm:col-span-3 flex items-center gap-1 cursor-pointer",children:"Accountant"}),(0,mr.jsx)("div",{className:"hidden sm:block sm:col-span-2 text-center flex items-center justify-center gap-1 cursor-pointer",children:"Department"}),(0,mr.jsx)("div",{className:"col-span-4 sm:col-span-2 text-center",children:"Contact"}),(0,mr.jsx)("div",{className:"hidden lg:block sm:col-span-1 text-center",children:"Status"}),(0,mr.jsx)("div",{className:"col-span-4 sm:col-span-3 text-right",children:"Actions"})]}),(0,mr.jsx)("div",{className:"divide-y",children:O.map(t=>(0,mr.jsxs)("div",{className:"grid grid-cols-12 gap-4 px-2 md:px-5 py-4 items-center hover:bg-gray-50 text-xs md:text-base",children:[(0,mr.jsxs)("div",{className:"col-span-4 sm:col-span-3 flex items-center gap-3 min-w-0",children:[(0,mr.jsx)("img",{src:t.profile_image||"https://sipl.ind.in/wp-content/uploads/2022/07/dummy-user.png",alt:t.accountant_name,className:"w-10 h-10 md:w-12 md:h-12 rounded-full object-cover border"}),(0,mr.jsxs)("div",{className:"min-w-0",children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-800 truncate",children:t.accountant_name}),(0,mr.jsx)("p",{className:"hidden sm:block text-gray-500 text-xs truncate",children:t.accountant_code})]})]}),(0,mr.jsx)("div",{className:"hidden sm:block sm:col-span-2 text-center text-gray-600 truncate",children:t.department}),(0,mr.jsx)("div",{className:"col-span-4 sm:col-span-2 text-center text-gray-600 truncate",children:t.contact_number||"N/A"}),(0,mr.jsx)("div",{className:"hidden lg:block sm:col-span-1 text-center",children:(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.status||"Active"})}),(0,mr.jsx)("div",{className:"col-span-4 sm:col-span-3 flex justify-end",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("button",{onClick:()=>b(x===t.id?null:t.id),className:"menu-toggle p-2 hover:bg-gray-100 rounded-full","aria-haspopup":"true","aria-expanded":x===t.id,children:(0,mr.jsx)(qi,{size:20})}),x===t.id&&(0,mr.jsxs)("div",{className:"menu-container absolute right-0 mt-2 bg-white shadow-lg rounded-lg w-40 py-2 z-50 border",onClick:e=>e.stopPropagation(),children:[(0,mr.jsxs)("button",{onClick:()=>(async(t,r)=>{try{const s=localStorage.getItem("token"),a="Active"===r?"Inactive":"Active";await Ua.put("/accountants/".concat(t),{status:a},{headers:{Authorization:"Bearer ".concat(s)}}),n(e.map(e=>e.id===t?N(N({},e),{},{status:a}):e)),pi.success("Accountant status changed to ".concat(a))}catch(s){pi.error("Failed to update status")}})(t.id,t.status||"Active"),className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100",children:["Active"===t.status?(0,mr.jsx)(ul,{size:18,className:"text-green-600"}):(0,mr.jsx)(dl,{size:18,className:"text-red-600"}),"Active"===t.status?"Deactivate":"Activate"]}),(0,mr.jsxs)("button",{onClick:()=>g("/sinfodeadmin/accountant/".concat(t.id)),className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-purple-600",children:[(0,mr.jsx)(Mo,{size:16})," View"]}),(0,mr.jsxs)("button",{onClick:()=>(e=>{var t,n,r;f(e.id),I({accountant_name:e.accountant_name,accountant_code:e.accountant_code,joining_date:e.joining_date,contact_number:e.contact_number,email:e.email,department:e.department,attendance_status:e.attendance_status,branch_id:e.branch_id,acccreate_name:(null===(t=e.user)||void 0===t?void 0:t.email)||e.email,acccreate_email:(null===(n=e.user)||void 0===n?void 0:n.email)||e.email,acccreate_password:(null===(r=e.user)||void 0===r?void 0:r.plain_password)||"",monthly_salary:e.monthly_salary,status:e.status||"Active"}),d(!0)})(t),className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-blue-600",children:[(0,mr.jsx)(ko,{size:16})," Edit"]}),(0,mr.jsxs)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this accountant?"))try{const t=localStorage.getItem("token");await Ua.delete("/accountants/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Accountant deleted successfully"),D()}catch(t){pi.error("Failed to delete accountant")}})(t.id),className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-red-600",children:[(0,mr.jsx)(hl,{size:16})," Delete"]})]})]})})]},t.id))}),0===O.length&&(0,mr.jsxs)("div",{className:"py-10 text-center text-gray-500",children:["No accountants found. ",o&&'No results for "'.concat(o,'"')]})]}):(0,mr.jsx)("div",{className:"grid mt-6 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6",children:O.map(e=>(0,mr.jsxs)("div",{className:"bg-blue-200 rounded-xl mt-5 shadow hover:shadow-lg transition p-6 flex flex-col items-center text-center relative",children:[(0,mr.jsx)("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-md -mt-12 mb-3",children:(0,mr.jsx)("img",{src:e.profile_image||"https://sipl.ind.in/wp-content/uploads/2022/07/dummy-user.png",alt:e.accountant_name,className:"w-full h-full object-cover"})}),(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:e.accountant_name}),(0,mr.jsx)("p",{className:"text-gray-500 mb-1",children:e.department}),(0,mr.jsx)("p",{className:"text-gray-400 text-sm mb-3",children:e.accountant_code}),(0,mr.jsxs)("div",{className:"w-full space-y-2 mt-2 text-sm",children:[(0,mr.jsx)("div",{className:"bg-gray-50 rounded-lg py-2 px-3",children:(0,mr.jsxs)("p",{className:"text-gray-700 font-medium truncate",children:["\ud83d\udcde ",e.contact_number||"N/A"]})}),(0,mr.jsx)("div",{className:"bg-gray-50 rounded-lg py-2 px-3",children:(0,mr.jsxs)("p",{className:"text-gray-700",children:["\u20b9",e.monthly_salary||"0"," / month"]})})]}),(0,mr.jsxs)("div",{className:"mt-4 text-xs text-gray-500",children:["Joined on: ",e.joining_date]})]},e.id))}),c&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-lg w-full max-w-4xl relative max-h-[90vh] overflow-y-auto",children:[(0,mr.jsx)("button",{onClick:()=>{d(!1),f(null),P()},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800","aria-label":"Close modal",children:(0,mr.jsx)(cl,{size:20})}),(0,mr.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800 border-b pb-2",children:A?"Update Accountant":"Create Accountant"}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),h(!0);try{const e=localStorage.getItem("token");A?(await Ua.put("/accountants/".concat(A),F,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Accountant updated successfully!")):(await Ua.post("/accountants",F,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Accountant created successfully!")),D(),d(!1),f(null),P()}catch(t){pi.error(A?"Error updating accountant":"Error creating accountant")}finally{h(!1)}},className:"grid grid-cols-1 md:grid-cols-2 gap-4 mt-4",noValidate:!0,children:[(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"accountant_name",className:"block text-sm font-medium text-gray-700",children:"Accountant Name *"}),(0,mr.jsx)("input",{id:"accountant_name",name:"accountant_name",value:F.accountant_name,onChange:T,placeholder:"Full Name",className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"joining_date",className:"block text-sm font-medium text-gray-700",children:"Joining Date *"}),(0,mr.jsx)("input",{id:"joining_date",name:"joining_date",value:F.joining_date,onChange:T,type:"date",className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"contact_number",className:"block text-sm font-medium text-gray-700",children:"Contact Number *"}),(0,mr.jsx)("input",{id:"contact_number",name:"contact_number",value:F.contact_number,onChange:T,placeholder:"Phone Number",className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,maxLength:10,inputMode:"numeric"})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email *"}),(0,mr.jsx)("input",{id:"email",name:"email",value:F.email,onChange:T,placeholder:"Email Address",type:"email",className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"department",className:"block text-sm font-medium text-gray-700",children:"Department *"}),(0,mr.jsx)("input",{id:"department",name:"department",value:F.department,onChange:T,placeholder:"Department",className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"monthly_salary",className:"block text-sm font-medium text-gray-700",children:"Monthly Salary"}),(0,mr.jsx)("input",{id:"monthly_salary",name:"monthly_salary",value:F.monthly_salary,onChange:T,placeholder:"Salary Amount",type:"number",className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"branch_id",className:"block text-sm font-medium text-gray-700",children:"Branch *"}),(0,mr.jsxs)("select",{id:"branch_id",name:"branch_id",value:F.branch_id,onChange:T,className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),r.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"status",className:"block text-sm font-medium text-gray-700",children:"Status *"}),(0,mr.jsxs)("select",{id:"status",name:"status",value:F.status,onChange:T,className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[(0,mr.jsx)("option",{value:"Active",children:"Active"}),(0,mr.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"acccreate_name",className:"block text-sm font-medium text-gray-700",children:"Login Name *"}),(0,mr.jsx)("input",{id:"acccreate_name",name:"acccreate_name",value:F.acccreate_name,onChange:T,placeholder:"Login Username",className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"acccreate_email",className:"block text-sm font-medium text-gray-700",children:"Login Email *"}),(0,mr.jsx)("input",{id:"acccreate_email",name:"acccreate_email",value:F.acccreate_email,onChange:T,placeholder:"Login Email",type:"email",className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{htmlFor:"acccreate_password",className:"block text-sm font-medium text-gray-700",children:A?"New Password (leave blank to keep current)":"Login Password *"}),(0,mr.jsx)("input",{id:"acccreate_password",name:"acccreate_password",value:F.acccreate_password,onChange:T,placeholder:"Password",type:"text",className:"border p-2 rounded w-full focus:outline-none focus:ring-2 focus:ring-blue-500",required:!A})]}),(0,mr.jsxs)("div",{className:"md:col-span-2 flex justify-end pt-4 gap-3",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>{d(!1),f(null),P()},className:"bg-gray-300 hover:bg-gray-400 text-gray-800 px-4 py-2 rounded-lg",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",disabled:u,className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 disabled:opacity-70",children:u?"Saving...":A?"Update Accountant":"Create Accountant"})]})]})]})})]})}function l_(){const[e,n]=(0,t.useState)("staff"),[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=()=>{const e=window.innerWidth<768;i(e),e||s(!1)};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);const o=()=>{s(!r)},l=e=>{n(e),a&&s(!1)};return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row h-full min-h-screen bg-gray-50",children:[(0,mr.jsx)("div",{className:"lg:hidden bg-white shadow-sm border-b p-4",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("button",{onClick:o,className:"p-2 rounded-lg bg-blue-50 text-blue-600",children:r?(0,mr.jsx)(cl,{size:20}):(0,mr.jsx)(io,{size:20})}),(0,mr.jsx)("h1",{className:"text-xl font-semibold text-gray-800 capitalize",children:"staff"===e?"Staff Management":"Accountant Management"}),(0,mr.jsx)("div",{className:"w-10"})," "]})}),(0,mr.jsxs)("div",{className:"\n          ".concat(r?"translate-x-0":"-translate-x-full"," \n          lg:translate-x-0 transition-transform duration-300 ease-in-out\n          fixed lg:relative inset-y-0 left-0 z-20 lg:z-auto\n          w-64 lg:w-72 bg-white shadow-lg lg:rounded-xl p-4 lg:m-4\n        "),children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between mb-6 lg:hidden",children:[(0,mr.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:"Manage Team"}),(0,mr.jsx)("button",{onClick:o,className:"p-2 rounded-lg hover:bg-gray-100",children:(0,mr.jsx)(cl,{size:18})})]}),(0,mr.jsxs)("nav",{className:"space-y-2",children:[(0,mr.jsxs)("button",{onClick:()=>l("staff"),className:"w-full flex items-center gap-4 px-4 py-4 rounded-xl transition-all duration-200 ".concat("staff"===e?"bg-blue-100 text-blue-700 border-r-4 border-blue-600 shadow-md":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,mr.jsx)(xl,{className:"flex-shrink-0 ".concat("staff"===e?"text-blue-600":"text-gray-400")}),(0,mr.jsx)("span",{className:"font-medium",children:"Staff Members"})]}),(0,mr.jsxs)("button",{onClick:()=>l("accountant"),className:"w-full flex items-center gap-4 px-4 py-4 rounded-xl transition-all duration-200 ".concat("accountant"===e?"bg-green-100 text-green-700 border-r-4 border-green-600 shadow-md":"text-gray-600 hover:bg-gray-100 hover:text-gray-900"),children:[(0,mr.jsx)(co,{className:"flex-shrink-0 ".concat("accountant"===e?"text-green-600":"text-gray-400")}),(0,mr.jsx)("span",{className:"font-medium",children:"Accountants"})]})]}),a&&(0,mr.jsx)("div",{className:"absolute bottom-4 left-4 right-4 text-center",children:(0,mr.jsx)("p",{className:"text-xs text-gray-500",children:"staff"===e?"Manage your staff team":"Handle accounting operations"})})]}),a&&r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-10 lg:hidden",onClick:()=>s(!1)}),(0,mr.jsxs)("div",{className:"flex-1 p-4 lg:p-6 overflow-auto",children:[(0,mr.jsxs)("div",{className:"hidden lg:block mb-6",children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-800 capitalize",children:"staff"===e?"Staff Management":"Accountant Management"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-2",children:"staff"===e?"Manage your staff members and their details":"Handle accountant profiles and financial operations"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 min-h-[500px]",children:["staff"===e&&(0,mr.jsx)(i_,{}),"accountant"===e&&(0,mr.jsx)(o_,{})]})]})]})})}function c_(){var e,n,r,s;const{id:a}=an(),i=sn(),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)("profile");return(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff/show/".concat(a),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(e){console.error("Error fetching staff details:",e),alert("Failed to load staff details")}finally{d(!1)}})()},[a]),c?(0,mr.jsx)(wl,{children:(0,mr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,mr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading staff details..."})]})})}):o?(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:[(0,mr.jsxs)("div",{className:"mb-6",children:[(0,mr.jsxs)("button",{onClick:()=>i(-1),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors mb-4",children:[(0,mr.jsx)(ro,{}),(0,mr.jsx)("span",{children:"Back to Staff List"})]}),(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-800",children:o.employee_name}),(0,mr.jsx)("p",{className:"text-gray-600 mt-1",children:o.designation})]}),(0,mr.jsx)("div",{className:"flex items-center gap-3 mt-4 lg:mt-0",children:(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat("Active"===o.status?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:o.status})})]})]}),(0,mr.jsx)("div",{className:"lg:hidden bg-white rounded-lg shadow-sm p-1 mb-6",children:(0,mr.jsx)("div",{className:"flex space-x-1",children:["profile","credentials","system"].map(e=>(0,mr.jsx)("button",{onClick:()=>h(e),className:"flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors ".concat(u===e?"bg-blue-100 text-blue-600":"text-gray-600 hover:text-gray-900"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,mr.jsx)("div",{className:"lg:col-span-1 ".concat("profile"===u?"block":"hidden lg:block"),children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-6",children:[(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"w-20 h-20 lg:w-24 lg:h-24 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center text-white text-2xl lg:text-3xl font-bold mx-auto",children:(null===(e=o.employee_name)||void 0===e?void 0:e.charAt(0))||"?"}),(0,mr.jsx)("h2",{className:"mt-4 text-xl font-semibold text-gray-800",children:o.employee_name}),(0,mr.jsx)("p",{className:"text-gray-500 text-sm",children:o.designation}),(0,mr.jsxs)("div",{className:"mt-3 bg-blue-50 text-blue-600 text-xs font-semibold px-3 py-1 rounded-full inline-block",children:[(0,mr.jsx)(Qo,{className:"inline mr-1",size:10}),o.employee_code]})]}),(0,mr.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(lo,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Department"}),(0,mr.jsx)("p",{className:"font-medium",children:o.department||"Not specified"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(Vo,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Branch"}),(0,mr.jsx)("p",{className:"font-medium",children:(null===(n=o.branch)||void 0===n?void 0:n.branch_name)||"Not specified"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(uo,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Joining Date"}),(0,mr.jsx)("p",{className:"font-medium",children:o.joining_date||"Not specified"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(Co,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Monthly Salary"}),(0,mr.jsxs)("p",{className:"font-medium",children:["\u20b9",o.monthly_salary||"Not specified"]})]})]})]}),(0,mr.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-700 mb-3",children:"Contact"}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(Bo,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsx)("span",{className:"truncate",children:o.email||"Not specified"})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(Xo,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsx)("span",{children:o.contact_number||"Not specified"})]})]})]})]})}),(0,mr.jsxs)("div",{className:"lg:col-span-3 space-y-6 ".concat("credentials"===u||"system"===u?"block":"hidden lg:block"),children:[(0,mr.jsx)("div",{className:"".concat("credentials"===u?"block":"hidden lg:block"),children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,mr.jsx)(pl,{className:"text-blue-600"}),(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Login Credentials"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Login Email"}),(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("p",{className:"text-lg font-semibold truncate",children:(null===(r=o.user)||void 0===r?void 0:r.email)||"N/A"}),(0,mr.jsx)("button",{className:"text-blue-500 hover:text-blue-700 transition-colors",onClick:()=>{var e;navigator.clipboard.writeText((null===(e=o.user)||void 0===e?void 0:e.email)||""),alert("Email copied to clipboard!")},children:(0,mr.jsx)(_o,{size:14})})]})]}),(0,mr.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Password"}),(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("p",{className:"text-lg font-mono font-semibold",children:(null===(s=o.user)||void 0===s?void 0:s.plain_password)||"N/A"}),(0,mr.jsx)("button",{className:"text-green-500 hover:text-green-700 transition-colors",onClick:()=>{var e;navigator.clipboard.writeText((null===(e=o.user)||void 0===e?void 0:e.plain_password)||""),alert("Password copied to clipboard!")},children:(0,mr.jsx)(_o,{size:14})})]})]})]}),(0,mr.jsx)("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,mr.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,mr.jsx)("strong",{children:"Note:"})," Please ensure these credentials are shared securely with the staff member."]})})]})}),(0,mr.jsx)("div",{className:"".concat("system"===u?"block":"hidden lg:block"),children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,mr.jsx)(jo,{className:"text-gray-600"}),(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"System Information"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Created At"}),(0,mr.jsx)("p",{className:"text-md font-semibold",children:new Date(o.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Last Updated"}),(0,mr.jsx)("p",{className:"text-md font-semibold",children:new Date(o.updated_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})})]})]})]})}):(0,mr.jsx)(wl,{children:(0,mr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Staff Not Found"}),(0,mr.jsx)("p",{className:"text-gray-600 mb-4",children:"The requested staff member could not be found."}),(0,mr.jsx)("button",{onClick:()=>i(-1),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})})})}function d_(){var e,n,r,s;const{id:a}=an(),i=sn(),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!0),[u,h]=(0,t.useState)("profile");return(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/accountants/".concat(a),{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(e){console.error("Error fetching staff details:",e),alert("Failed to load accountant details")}finally{d(!1)}})()},[a]),c?(0,mr.jsx)(wl,{children:(0,mr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,mr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading accountant details..."})]})})}):o?(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"min-h-screen bg-gray-50 p-4 lg:p-6",children:[(0,mr.jsxs)("div",{className:"mb-6",children:[(0,mr.jsxs)("button",{onClick:()=>i(-1),className:"flex items-center gap-2 text-blue-600 hover:text-blue-800 transition-colors mb-4",children:[(0,mr.jsx)(ro,{}),(0,mr.jsx)("span",{children:"Back to Accountant List"})]}),(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center lg:justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl lg:text-3xl font-bold text-gray-800",children:o.accountant_name}),(0,mr.jsx)("p",{className:"text-gray-600 mt-1",children:o.designation})]}),(0,mr.jsx)("div",{className:"flex items-center gap-3 mt-4 lg:mt-0",children:(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat("Active"===o.status?"bg-green-100 text-green-600":"bg-red-100 text-red-600"),children:o.status})})]})]}),(0,mr.jsx)("div",{className:"lg:hidden bg-white rounded-lg shadow-sm p-1 mb-6",children:(0,mr.jsx)("div",{className:"flex space-x-1",children:["profile","credentials","system"].map(e=>(0,mr.jsx)("button",{onClick:()=>h(e),className:"flex-1 py-2 px-3 text-sm font-medium rounded-md transition-colors ".concat(u===e?"bg-blue-100 text-blue-600":"text-gray-600 hover:text-gray-900"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,mr.jsx)("div",{className:"lg:col-span-1 ".concat("profile"===u?"block":"hidden lg:block"),children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 sticky top-6",children:[(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"w-20 h-20 lg:w-24 lg:h-24 rounded-full bg-gradient-to-r from-purple-500 to-blue-500 flex items-center justify-center text-white text-2xl lg:text-3xl font-bold mx-auto",children:(null===(e=o.accountant_name)||void 0===e?void 0:e.charAt(0))||"?"}),(0,mr.jsx)("h2",{className:"mt-4 text-xl font-semibold text-gray-800",children:o.accountant_name}),(0,mr.jsx)("p",{className:"text-gray-500 text-sm",children:o.designation}),(0,mr.jsxs)("div",{className:"mt-3 bg-blue-50 text-blue-600 text-xs font-semibold px-3 py-1 rounded-full inline-block",children:[(0,mr.jsx)(Qo,{className:"inline mr-1",size:10}),o.employee_code]})]}),(0,mr.jsxs)("div",{className:"mt-6 space-y-4",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(lo,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Department"}),(0,mr.jsx)("p",{className:"font-medium",children:o.department||"Not specified"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(Vo,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Branch"}),(0,mr.jsx)("p",{className:"font-medium",children:(null===(n=o.branch)||void 0===n?void 0:n.branch_name)||"Not specified"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(uo,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Joining Date"}),(0,mr.jsx)("p",{className:"font-medium",children:o.joining_date||"Not specified"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(Co,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Monthly Salary"}),(0,mr.jsxs)("p",{className:"font-medium",children:["\u20b9",o.monthly_salary||"Not specified"]})]})]})]}),(0,mr.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-700 mb-3",children:"Contact"}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(Bo,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsx)("span",{className:"truncate",children:o.email||"Not specified"})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm",children:[(0,mr.jsx)(Xo,{className:"text-gray-400 flex-shrink-0"}),(0,mr.jsx)("span",{children:o.contact_number||"Not specified"})]})]})]})]})}),(0,mr.jsxs)("div",{className:"lg:col-span-3 space-y-6 ".concat("credentials"===u||"system"===u?"block":"hidden lg:block"),children:[(0,mr.jsx)("div",{className:"".concat("credentials"===u?"block":"hidden lg:block"),children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,mr.jsx)(pl,{className:"text-blue-600"}),(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Login Credentials"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Login Email"}),(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("p",{className:"text-lg font-semibold truncate",children:(null===(r=o.user)||void 0===r?void 0:r.email)||"N/A"}),(0,mr.jsx)("button",{className:"text-blue-500 hover:text-blue-700 transition-colors",onClick:()=>{var e;navigator.clipboard.writeText((null===(e=o.user)||void 0===e?void 0:e.email)||""),alert("Email copied to clipboard!")},children:(0,mr.jsx)(_o,{size:14})})]})]}),(0,mr.jsxs)("div",{className:"bg-green-50 rounded-lg p-4",children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Password"}),(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("p",{className:"text-lg font-mono font-semibold",children:(null===(s=o.user)||void 0===s?void 0:s.plain_password)||"N/A"}),(0,mr.jsx)("button",{className:"text-green-500 hover:text-green-700 transition-colors",onClick:()=>{var e;navigator.clipboard.writeText((null===(e=o.user)||void 0===e?void 0:e.plain_password)||""),alert("Password copied to clipboard!")},children:(0,mr.jsx)(_o,{size:14})})]})]})]}),(0,mr.jsx)("div",{className:"mt-4 bg-yellow-50 border border-yellow-200 rounded-lg p-3",children:(0,mr.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,mr.jsx)("strong",{children:"Note:"})," Please ensure these credentials are shared securely with the accountant."]})})]})}),(0,mr.jsx)("div",{className:"".concat("system"===u?"block":"hidden lg:block"),children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-6",children:[(0,mr.jsx)(jo,{className:"text-gray-600"}),(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"System Information"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Created At"}),(0,mr.jsx)("p",{className:"text-md font-semibold",children:new Date(o.created_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4",children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600 block mb-2",children:"Last Updated"}),(0,mr.jsx)("p",{className:"text-md font-semibold",children:new Date(o.updated_at).toLocaleDateString("en-IN",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]})})]})]})]})}):(0,mr.jsx)(wl,{children:(0,mr.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Accountant Not Found"}),(0,mr.jsx)("p",{className:"text-gray-600 mb-4",children:"The requested accountant could not be found."}),(0,mr.jsx)("button",{onClick:()=>i(-1),className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition-colors",children:"Go Back"})]})})})}const u_=e=>{let{toggleSidebar:n}=e;const[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),o=(0,t.useRef)(null),[l,c]=(y(e=>e.branch.selectedBranch),(0,t.useState)(null)),d=e=>{o.current&&!o.current.contains(e.target)&&s(!1)};return(0,t.useEffect)(()=>(r?document.addEventListener("click",d):document.removeEventListener("click",d),()=>document.removeEventListener("click",d)),[r]),(0,t.useEffect)(()=>{const e=localStorage.getItem("user");e&&c(JSON.parse(e))},[]),(0,mr.jsxs)("header",{className:"bg-[#F4F9FD] flex items-center justify-between relative z-50",children:[(0,mr.jsx)("nav",{className:"hidden mr-10 mt-2 rounded-2xl text-black md:flex items-center space-x-6 text-lg font-semibold mx-auto",children:(0,mr.jsxs)("div",{ref:o,className:"relative",children:[(0,mr.jsxs)("div",{onClick:()=>s(!r),className:"flex bg-white items-center gap-3 px-4 py-2 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[(0,mr.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-gray-300",children:(0,mr.jsx)("img",{src:"https://sipl.ind.in/wp-content/uploads/2022/07/dummy-user.png",alt:"User",className:"w-full h-full object-cover"})}),(0,mr.jsxs)("div",{className:"hidden sm:flex flex-col text-left",children:[(0,mr.jsxs)("span",{className:"text-gray-700 font-medium",children:["Name :  ",(null===l||void 0===l?void 0:l.name)||"Admin"]}),(0,mr.jsxs)("span",{className:"text-xs text-gray-500",children:["Role : ",(null===l||void 0===l?void 0:l.role)||"Role"]})]})]}),r&&(0,mr.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white text-black rounded shadow-lg overflow-hidden animate-fadeIn",children:[(0,mr.jsx)(or,{to:"/staff/profile",children:(0,mr.jsx)("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100",children:"Profile"})}),(0,mr.jsx)("button",{className:"w-full text-left px-4 py-2 text-red-500 hover:bg-gray-100",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},children:"Logout"})]})]})}),a&&(0,mr.jsx)("nav",{className:"absolute top-24 left-0 w-full bg-white shadow-md flex flex-col md:hidden py-4 space-y-4 text-center z-40",children:(0,mr.jsx)(or,{to:"/staff/dashboard",className:"hover:text-blue-600",children:"Dashboard"})})]})},h_=e=>{let{isSidebarOpen:n,toggleSidebar:r}=e;const[s,a]=(0,t.useState)(null),i=y(e=>e.branch.selectedBranch),o=(e,t)=>{if(!e||"/"===e)return t.preventDefault(),void alert("This page is under construction and will be available soon!");r()},l=[{name:"Dashboard",icon:(0,mr.jsx)(al,{}),link:i?"/staff/dashboard?branchId=".concat(i):"/staff/dashboard"},{name:"Courses",icon:(0,mr.jsx)(xl,{}),link:"/staff/course"},{name:"Students",icon:(0,mr.jsx)(xl,{}),link:"/staff/student"},{name:"Attendence",icon:(0,mr.jsx)(xl,{}),link:"/staff/attendence"},{name:"Lead",icon:(0,mr.jsx)(xl,{}),link:"/staff/leads"}];return(0,mr.jsxs)("aside",{className:"bg-white rounded-[24px] ml-3 inset-y-0 left-0 transform ".concat(n?"translate-x-0":"-translate-x-full"," md:translate-x-0 transition-transform duration-300 ease-in-out w-[200px] p-4 z-30 shadow-lg md:relative overflow-y-auto max-h-screen"),children:[(0,mr.jsx)("div",{className:"flex-1 flex justify-center md:justify-start",children:(0,mr.jsx)("img",{src:"https://www.sinfode.com/wp-content/uploads/2022/12/digital-marketing-institute-in-sikar.webp",alt:"logo",className:"w-34 h-10"})}),(0,mr.jsx)("nav",{children:(0,mr.jsx)("ul",{className:"space-y-4 mt-4",children:l.map((e,t)=>(0,mr.jsx)("li",{children:e.subMenu?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("div",{className:"flex items-center text-gray-500 justify-between py-3 px-4 text-[15px] cursor-pointer rounded-4xl transition-all duration-200 ease-in-out",onClick:()=>{return t=e.name,void a(s===t?null:t);var t},children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[e.icon,(0,mr.jsx)("span",{className:"text-[15px]",children:e.name})]}),s===e.name?(0,mr.jsx)(vo,{}):(0,mr.jsx)(xo,{})]}),s===e.name&&(0,mr.jsx)("ul",{className:"pl-8 space-y-2",children:e.subMenu.map((e,t)=>(0,mr.jsx)("li",{children:(0,mr.jsx)(lr,{to:e.link||"#",className:t=>{let{isActive:n}=t;return"flex items-center mt-3 gap-4 py-2 px-4 rounded-lg transition-all duration-200 ease-in-out text-[15px] ".concat(n?"bg-sky-100 text-blue-600 shadow-lg":e.link&&"/"!==e.link?"bg-white text-gray-500":"opacity-50 cursor-not-allowed")},onClick:t=>o(e.link,t),children:(0,mr.jsx)("span",{className:"text-[15px]",children:e.name})})},t))})]}):(0,mr.jsxs)(lr,{to:e.link||"#",className:t=>{let{isActive:n}=t;return"flex items-center gap-4 py-3 px-4 text-[15px] rounded-lg transition-all duration-200 ease-in-out ".concat(n?"bg-sky-100 text-blue-600 border-1 border-white":e.link&&"/"!==e.link?"text-gray-500":"opacity-50 cursor-not-allowed")},onClick:t=>o(e.link,t),children:[e.icon,(0,mr.jsx)("span",{className:"text-[15px]",children:e.name}),(!e.link||"/"===e.link)&&(0,mr.jsx)("span",{className:"text-xs ml-auto bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Coming Soon"})]})},t))})})]})},A_=e=>{let{children:n}=e;const[r,s]=(0,t.useState)(!1),a=()=>{s(!r)};return(0,mr.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,mr.jsx)(u_,{toggleSidebar:a}),(0,mr.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,mr.jsx)(h_,{isSidebarOpen:r,toggleSidebar:a}),(0,mr.jsx)("main",{className:"flex-1 bg-[#F4F9FD] overflow-auto p-4",children:n})]}),r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:a})]})};function f_(){var e,n,r,s,a;const[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)([]),[h,A]=(0,t.useState)([]),[f,m]=(0,t.useState)(""),[p,g]=(0,t.useState)(""),[x,b]=(0,t.useState)("list"),[y,v]=(0,t.useState)(null),[w,j]=(0,t.useState)(null),[_,C]=(0,t.useState)(!1),[S,k]=(0,t.useState)(!1),[B,E]=(0,t.useState)(!1),[L,M]=(0,t.useState)({}),[F,I]=(0,t.useState)(!1),[D,T]=(0,t.useState)(null),[O,P]=(0,t.useState)(""),[U,R]=(sn(),(0,t.useState)("created_at")),[Q,z]=(0,t.useState)("desc"),[H,K]=(0,t.useState)({from:"",to:""}),[W,V]=(0,t.useState)(1),[q,G]=(0,t.useState)(10),[Y,J]=(0,t.useState)([]),[X,Z]=(0,t.useState)({}),[$,ee]=(0,t.useState)(0),[te,ne]=(0,t.useState)(!1);(0,t.useEffect)(()=>{function e(e){null===y||e.target.closest(".menu-container")||e.target.closest(".menu-toggle")||v(null)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[y]);const re=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});o(t.data||[])}catch(e){console.error("Error fetching students:",e)}};(0,t.useEffect)(()=>{re(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});c(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});u(t.data||[])}catch(e){console.error("Error fetching courses:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}}),n=Array.isArray(t.data)?t.data:t.data.data||[];A(n)}catch(e){console.error("Error fetching batches:",e)}})()},[]),(0,t.useEffect)(()=>{V(1)},[f,p,H,U,Q]);const se=async e=>{try{const t=localStorage.getItem("token");return(await Ua.get("/students/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data}catch(t){return console.error("Error fetching student:",t),null}},ae=async e=>{I(!0);const t=await se(e);t&&(j(t),C(!0)),I(!1),v(null)},ie=async e=>{I(!0);const t=await se(e);if(t){var n,r;j(t);const e=N(N({},t),{},{dob:t.dob?t.dob.split("T")[0]:"",admission_date:t.admission_date?t.admission_date.split("T")[0]:"",enrollment_status:t.enrollment_status||"Active"});M(e),P(t.photo_url||""),ne(!1);const s=(null===(n=t.courses)||void 0===n?void 0:n.map(e=>e.id))||[];J(s);const a={};null===(r=t.courses)||void 0===r||r.forEach(e=>{e.batch&&e.batch.id&&(a[e.id]=e.batch.id.toString())}),Z(a);let i=0;s.forEach(e=>{const t=d.find(t=>t.id==e);if(t){const e=parseFloat(t.discounted_price||t.actual_price||0);i+=e}}),ee(i),k(!0)}I(!1),v(null)},oe=e=>{if(!e)return"";try{return new Date("2000-01-01T".concat(e)).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(t){return e}};(0,t.useEffect)(()=>{if(Y.length>0){let e=0;Y.forEach(t=>{const n=d.find(e=>e.id==t);if(n){const t=parseFloat(n.discounted_price||n.actual_price||0);e+=t}}),ee(e)}else ee(0)},[Y,d]);const le=e=>{if(!e)return"";try{return new Date(e).toISOString().split("T")[0]}catch(t){return console.error("Error formatting date:",t),e}},ce=e=>{const{name:t,value:n}=e.target;if("contact_number"===t||"guardian_contact"===t){const e=n.replace(/\D/g,"").slice(0,10);M(n=>N(N({},n),{},{[t]:e}))}else M("branch_id"===t?e=>N(N({},e),{},{[t]:parseInt(n)}):e=>N(N({},e),{},{[t]:n}))},de=e=>{if(!e)return"N/A";try{const[t,n]=e.split(":"),r=new Date;return r.setHours(parseInt(t),parseInt(n),0),r.toLocaleTimeString("en-IN",{hour:"2-digit",minute:"2-digit",hour12:!0,timeZone:"Asia/Kolkata"})}catch(t){return console.error("Error formatting time:",t),"N/A"}},ue=(e,t)=>e||t?e?t?"".concat(de(e)," - ").concat(de(t)):"From ".concat(de(e)):"Till ".concat(de(t)):"Timing not set",he=i.filter(e=>(""===f||e.branch_id===parseInt(f))&&((e.full_name||"").toLowerCase().includes(p.toLowerCase())||(e.email||"").toLowerCase().includes(p.toLowerCase())||(e.admission_number||"").toLowerCase().includes(p.toLowerCase()))).filter(e=>!(H.from&&new Date(e.created_at)<new Date(H.from))&&!(H.to&&new Date(e.created_at)>new Date(H.to))).sort((e,t)=>{const n=e[U]||"",r=t[U]||"";return"asc"===Q?new Date(n)-new Date(r):new Date(r)-new Date(n)}),Ae=he.length,fe=Math.ceil(Ae/q),me=(W-1)*q,pe=me+q,ge=he.slice(me,pe),xe=e=>{e>=1&&e<=fe&&V(e)},be=e=>{G(Number(e.target.value)),V(1)},ye=()=>{const e=[];if(fe<=5)for(let t=1;t<=fe;t++)e.push(t);else{const t=Math.max(1,W-2),n=Math.min(fe,t+5-1);for(let r=t;r<=n;r++)e.push(r)}return e},ve=e=>e?new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"}):"N/A",we=()=>fe<=1?null:(0,mr.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between mt-6 px-4 py-3 bg-white border border-gray-200 rounded-lg shadow-sm",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-2 mb-4 sm:mb-0",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-700",children:"Show"}),(0,mr.jsxs)("select",{value:q,onChange:be,className:"border border-gray-300 rounded-md px-2 py-1 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,mr.jsx)("option",{value:5,children:"5"}),(0,mr.jsx)("option",{value:10,children:"10"}),(0,mr.jsx)("option",{value:20,children:"20"}),(0,mr.jsx)("option",{value:50,children:"50"})]}),(0,mr.jsx)("span",{className:"text-sm text-gray-700",children:"students per page"})]}),(0,mr.jsxs)("div",{className:"text-sm text-gray-700 mb-4 sm:mb-0",children:["Showing ",me+1," to ",Math.min(pe,Ae)," of ",Ae," students"]}),(0,mr.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,mr.jsx)("button",{onClick:()=>xe(1),disabled:1===W,className:"p-2 rounded-md ".concat(1===W?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"),children:(0,mr.jsx)(to,{size:16})}),(0,mr.jsx)("button",{onClick:()=>xe(W-1),disabled:1===W,className:"p-2 rounded-md ".concat(1===W?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"),children:(0,mr.jsx)(bo,{size:16})}),ye().map(e=>(0,mr.jsx)("button",{onClick:()=>xe(e),className:"min-w-[40px] h-10 px-3 rounded-md text-sm font-medium ".concat(W===e?"bg-blue-600 text-white":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"),children:e},e)),(0,mr.jsx)("button",{onClick:()=>xe(W+1),disabled:W===fe,className:"p-2 rounded-md ".concat(W===fe?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"),children:(0,mr.jsx)(yo,{size:16})}),(0,mr.jsx)("button",{onClick:()=>xe(fe),disabled:W===fe,className:"p-2 rounded-md ".concat(W===fe?"text-gray-400 cursor-not-allowed":"text-gray-600 hover:bg-gray-100 hover:text-gray-800"),children:(0,mr.jsx)(no,{size:16})})]})]});return(0,mr.jsxs)("div",{className:"px-4 md:px-6 lg:px-8",children:[(0,mr.jsx)(Ci,{position:"bottom-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row items-start md:items-center justify-between mb-6 gap-4",children:[(0,mr.jsxs)("h1",{className:"text-2xl md:text-3xl font-nunito font-semibold",children:["Students ",(0,mr.jsxs)("span",{className:"text-gray-600",children:["(",he.length,")"]})]}),(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row gap-4 w-full md:w-auto",children:[(0,mr.jsxs)("select",{value:f,onChange:e=>m(e.target.value),className:"border border-gray-300 p-2 rounded-md w-full md:w-60 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),l.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]}),(0,mr.jsxs)("div",{className:"flex gap-2 bg-gray-200 p-1 rounded-full shrink-0",children:[(0,mr.jsx)("button",{onClick:()=>b("list"),className:"px-4 py-2 rounded-full text-sm font-medium transition-all ".concat("list"===x?"bg-[#3F8CFF] text-white":"bg-transparent text-gray-600 hover:bg-gray-300"),children:"List View"}),(0,mr.jsx)("button",{onClick:()=>b("card"),className:"px-4 py-2 rounded-full text-sm font-medium transition-all ".concat("card"===x?"bg-[#3F8CFF] text-white":"bg-transparent text-gray-600 hover:bg-gray-300"),children:"Card View"})]}),(0,mr.jsxs)("button",{onClick:()=>{const e=he.map(e=>{var t,n,r,s;return{"Admission No":e.admission_number,"Full Name":e.full_name,Email:e.email,Contact:e.contact_number,Gender:e.gender,DOB:ve(e.dob),"Admission Date":ve(e.admission_date),"Guardian Name":e.guardian_name,"Guardian Contact":e.guardian_contact,Address:e.address,Branch:null===(t=e.branch)||void 0===t?void 0:t.branch_name,Courses:(null===(n=e.courses)||void 0===n?void 0:n.map(e=>e.course_name).join(", "))||"N/A",Batches:(null===(r=e.courses)||void 0===r?void 0:r.map(e=>{var t;return null===(t=e.batch)||void 0===t?void 0:t.batch_name}).filter(Boolean).join(", "))||"N/A","Batch Timings":(null===(s=e.courses)||void 0===s?void 0:s.map(e=>e.batch?ue(e.batch.batch_start_time,e.batch.batch_end_time):"N/A").filter(e=>"N/A"!==e).join(" | "))||"N/A"}}),t=r_.book_new(),n=r_.json_to_sheet(e);n["!cols"]=[{wch:15},{wch:25},{wch:30},{wch:15},{wch:10},{wch:15},{wch:15},{wch:20},{wch:15},{wch:40},{wch:35},{wch:50},{wch:50},{wch:40}],r_.book_append_sheet(t,n,"Students"),WN(t,"students.xlsx")},className:"flex items-center gap-2 bg-green-600 text-white px-3 py-2 rounded-md hover:bg-green-700 transition-colors shrink-0 text-sm md:px-4 md:py-2 md:text-base",type:"button",children:[(0,mr.jsx)(Do,{})," Export Excel"]})]})]}),(0,mr.jsx)("div",{className:"mb-4 max-w-md",children:(0,mr.jsx)("input",{type:"text",placeholder:"Search by name, email, or admission number...",value:p,onChange:e=>g(e.target.value),className:"border border-gray-300 p-2 rounded-md w-full focus:outline-none focus:ring-2 focus:ring-blue-400"})}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4 items-center",children:[(0,mr.jsxs)("select",{value:U,onChange:e=>R(e.target.value),className:"border p-2 rounded",children:[(0,mr.jsx)("option",{value:"created_at",children:"Sort by Created Date"}),(0,mr.jsx)("option",{value:"admission_date",children:"Sort by Admission Date"}),(0,mr.jsx)("option",{value:"dob",children:"Sort by Date of Birth"})]}),(0,mr.jsxs)("select",{value:Q,onChange:e=>z(e.target.value),className:"border p-2 rounded",children:[(0,mr.jsx)("option",{value:"desc",children:"Newest First"}),(0,mr.jsx)("option",{value:"asc",children:"Oldest First"})]}),(0,mr.jsx)("input",{type:"date",value:H.from,onChange:e=>K(t=>N(N({},t),{},{from:e.target.value})),className:"border p-2 rounded",placeholder:"From"}),(0,mr.jsx)("input",{type:"date",value:H.to,onChange:e=>K(t=>N(N({},t),{},{to:e.target.value})),className:"border p-2 rounded",placeholder:"To"}),(0,mr.jsx)("button",{onClick:()=>K({from:"",to:""}),className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-3xl flex items-center gap-2",children:"Reset Dates"})]}),F&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,mr.jsxs)("div",{className:"bg-white p-5 rounded-lg flex items-center space-x-3",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-500"}),(0,mr.jsx)("span",{children:"Loading..."})]})}),"list"===x?(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("div",{className:"min-w-[700px] md:min-w-[900px]",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-12 gap-4 bg-gray-100 p-4 rounded-t-lg font-semibold text-sm md:text-base",children:[(0,mr.jsx)("div",{className:"col-span-3 flex items-center",children:"Student"}),(0,mr.jsx)("div",{className:"col-span-2 text-gray-600 hidden md:flex items-center",children:"Contact"}),(0,mr.jsx)("div",{className:"col-span-2 text-gray-600 hidden md:flex items-center",children:"Branch"}),(0,mr.jsx)("div",{className:"col-span-2 text-gray-600 hidden md:flex items-center",children:"Enrollment Status"}),(0,mr.jsx)("div",{className:"col-span-1 text-center",children:"Actions"})]}),(0,mr.jsx)("div",{className:"space-y-3",children:ge.map(e=>{var t;return(0,mr.jsxs)("div",{className:"bg-white shadow-sm hover:shadow-md transition rounded-xl p-4 grid grid-cols-12 gap-4 items-center text-sm md:text-base",children:[(0,mr.jsxs)("div",{className:"col-span-3 flex items-center gap-4",children:[(0,mr.jsx)("img",{src:e.photo_url||"https://rapidapi.com/hub/_next/image?url=https%3A%2F%2Frapidapi-prod-apis.s3.amazonaws.com%2F0499ccca-a115-4e70-b4f3-1c1587d6de2b.png&w=3840&q=75",alt:e.full_name,className:"w-12 h-12 rounded-full object-cover border"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-800",children:e.full_name.length>14?e.full_name.slice(0,14)+"...":e.full_name}),(0,mr.jsxs)("p",{className:"text-gray-500 text-xs md:text-sm",children:[e.gender," \u2022 ",ve(e.dob)]})]})]}),(0,mr.jsx)("div",{className:"col-span-2 text-gray-600 hidden md:block",children:e.contact_number||"N/A"}),(0,mr.jsx)("div",{className:"col-span-2 text-gray-600 hidden md:block",children:(null===(t=e.branch)||void 0===t?void 0:t.branch_name)||"N/A"}),(0,mr.jsx)("div",{className:"col-span-2 text-gray-600 hidden md:block",children:(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("Active"===e.enrollment_status?"bg-green-100 text-green-700":"bg-red-100 text-red-700"),children:e.enrollment_status||"N/A"})}),(0,mr.jsxs)("div",{className:"col-span-1 flex justify-center relative",children:[(0,mr.jsx)("button",{onClick:()=>v(y===e.id?null:e.id),className:"menu-toggle p-2 hover:bg-gray-100 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400","aria-label":"Open Actions Menu",children:(0,mr.jsx)(qi,{size:20})}),y===e.id&&(0,mr.jsxs)("div",{className:"menu-container absolute right-0 mt-2 bg-white shadow-lg rounded-lg w-44 py-2 z-50",onClick:e=>e.stopPropagation(),children:[(0,mr.jsxs)("button",{onClick:()=>ae(e.id),className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-purple-600 text-left text-sm",children:[(0,mr.jsx)(Mo,{size:16})," View"]}),(0,mr.jsxs)("button",{onClick:()=>ie(e.id),className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-blue-600 text-left text-sm",children:[(0,mr.jsx)(ko,{size:16})," Edit"]}),(0,mr.jsxs)("button",{onClick:()=>{j(e),E(!0),v(null)},className:"w-full flex items-center gap-2 px-4 py-2 hover:bg-gray-100 text-red-600 text-left text-sm",children:[(0,mr.jsx)(hl,{size:16})," Delete"]})]})]})]},e.id)})})]})}):(0,mr.jsx)("div",{className:"grid mt-4 grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:ge.map(e=>(0,mr.jsxs)("div",{className:"bg-white rounded-2xl mt-7 shadow hover:shadow-lg transition p-6 flex flex-col items-center text-center",children:[(0,mr.jsx)("div",{className:"w-20 h-20 rounded-full overflow-hidden border-4 border-white shadow-md -mt-12 mb-3",children:(0,mr.jsx)("img",{src:e.photo_url||"https://rapidapi.com/hub/_next/image?url=https%3A%2F%2Frapidapi-prod-apis.s3.amazonaws.com%2F0499ccca-a115-4e70-b4f3-1c1587d6de2b.png&w=3840&q=75",alt:e.full_name,className:"w-full h-full object-cover"})}),(0,mr.jsx)("h3",{className:"text-lg font-semibold truncate w-full",children:e.full_name}),(0,mr.jsx)("p",{className:"text-gray-500 truncate w-full hidden sm:block",children:e.email}),(0,mr.jsx)("p",{className:"text-gray-500 truncate w-full hidden md:block",children:e.contact_number}),(0,mr.jsx)("div",{className:"bg-gray-50 rounded-lg py-2 px-4 mt-4 w-full text-sm",children:(0,mr.jsxs)("p",{className:"text-gray-800 font-semibold truncate",children:["Admission No: ",e.admission_number]})}),(0,mr.jsxs)("span",{className:"mt-3 px-3 py-1 text-xs font-medium rounded-full bg-green-100 text-green-700 hidden md:inline-block w-fit truncate max-w-full",children:["Admission Date: ",ve(e.admission_date)]}),(0,mr.jsxs)("div",{className:"flex mt-4 space-x-3",children:[(0,mr.jsx)("button",{onClick:()=>ae(e.id),className:"p-2 text-purple-600 hover:bg-purple-100 rounded-full focus:outline-none focus:ring-2 focus:ring-purple-400",title:"View",type:"button",children:(0,mr.jsx)(Mo,{})}),(0,mr.jsx)("button",{onClick:()=>ie(e.id),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-full focus:outline-none focus:ring-2 focus:ring-blue-400",title:"Edit",type:"button",children:(0,mr.jsx)(ko,{})}),(0,mr.jsx)("button",{onClick:()=>{j(e),E(!0)},className:"p-2 text-red-600 hover:bg-red-100 rounded-full focus:outline-none focus:ring-2 focus:ring-red-400",title:"Delete",type:"button",children:(0,mr.jsx)(hl,{})})]})]},e.id))}),(0,mr.jsx)(we,{}),_&&w&&(0,mr.jsx)("div",{className:"fixed ml-[270px] inset-0 bg-black bg-opacity-50 flex mt-[100px] items-center justify-center z-[900px] p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:"Student Details"}),(0,mr.jsx)("button",{onClick:()=>C(!1),className:"text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400 rounded","aria-label":"Close View Modal",children:(0,mr.jsx)(cl,{size:24})})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row gap-6 mb-6",children:[(0,mr.jsx)("div",{className:"flex-shrink-0 mx-auto md:mx-0",children:(0,mr.jsx)("img",{src:w.photo_url||"https://rapidapi.com/hub/_next/image?url=https%3A%2F%2Frapidapi-prod-apis.s3.amazonaws.com%2F0499ccca-a115-4e70-b4f3-1c1587d6de2b.png&w=3840&q=75",alt:w.full_name,className:"w-40 h-40 rounded-full object-cover border-4 border-blue-100"})}),(0,mr.jsxs)("div",{className:"flex-grow",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold mb-2",children:w.full_name}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,mr.jsx)(Qo,{className:"mr-2 text-blue-500"}),(0,mr.jsxs)("span",{children:["Admission No: ",w.admission_number]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,mr.jsx)(bl,{className:"mr-2 text-blue-500"}),(0,mr.jsxs)("span",{children:["Gender: ",w.gender]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,mr.jsx)(uo,{className:"mr-2 text-blue-500"}),(0,mr.jsxs)("span",{children:["DOB: ",ve(w.dob)]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,mr.jsx)(uo,{className:"mr-2 text-blue-500"}),(0,mr.jsxs)("span",{children:["Admission: ",ve(w.admission_date)]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-700 col-span-1 md:col-span-2",children:[(0,mr.jsx)(Bo,{className:"mr-2 text-blue-500"}),(0,mr.jsx)("span",{className:"break-all",children:w.email})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-700 col-span-1 md:col-span-2",children:[(0,mr.jsx)(Xo,{className:"mr-2 text-blue-500"}),(0,mr.jsx)("span",{children:w.contact_number})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-700 col-span-1 md:col-span-2",children:["Active"===w.enrollment_status?(0,mr.jsx)(po,{className:"mr-2 text-green-500"}):(0,mr.jsx)(ll,{className:"mr-2 text-red-500"}),(0,mr.jsx)("span",{children:"Status:"}),(0,mr.jsx)("span",{className:"ml-2 px-2 py-1 rounded-full text-white text-sm ".concat("Active"===w.enrollment_status?"bg-green-500":"bg-red-500"),children:w.enrollment_status})]})]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[(0,mr.jsx)(Vo,{className:"mr-2 text-blue-500"}),"Address"]}),(0,mr.jsx)("p",{className:"text-gray-700",children:w.address})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[(0,mr.jsx)(gl,{className:"mr-2 text-blue-500"}),"Guardian Information"]}),(0,mr.jsxs)("p",{className:"text-gray-700",children:[(0,mr.jsx)("strong",{children:"Name:"})," ",w.guardian_name]}),(0,mr.jsxs)("p",{className:"text-gray-700",children:[(0,mr.jsx)("strong",{children:"Contact:"})," ",w.guardian_contact]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[(0,mr.jsx)(nl,{className:"mr-2 text-blue-500"}),"Branch"]}),(0,mr.jsx)("p",{className:"text-gray-700 font-medium",children:null===(e=w.branch)||void 0===e?void 0:e.branch_name}),(0,mr.jsx)("p",{className:"text-gray-600 text-sm",children:null===(n=w.branch)||void 0===n?void 0:n.address}),(0,mr.jsxs)("p",{className:"text-gray-600 text-sm",children:[null===(r=w.branch)||void 0===r?void 0:r.city,", ",null===(s=w.branch)||void 0===s?void 0:s.state]})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold mb-3 flex items-center",children:[(0,mr.jsx)(Ao,{className:"mr-2 text-green-500"}),"Courses (",(null===(a=w.courses)||void 0===a?void 0:a.length)||0,")"]}),w.courses&&w.courses.length>0?(0,mr.jsx)("div",{className:"space-y-3",children:w.courses.map((e,t)=>(0,mr.jsxs)("div",{className:"border-b border-green-200 pb-2 last:border-b-0",children:[(0,mr.jsx)("p",{className:"text-gray-700 font-medium",children:e.course_name}),(0,mr.jsxs)("div",{className:"text-gray-600 text-sm space-y-1",children:[(0,mr.jsxs)("p",{children:["Duration: ",e.duration," months"]}),(0,mr.jsxs)("p",{children:["Mode: ",e.mode]}),(0,mr.jsxs)("p",{children:["Level: ",e.course_level]}),e.batch&&(0,mr.jsxs)("div",{className:"bg-white p-2 rounded border mt-1",children:[(0,mr.jsxs)("p",{className:"font-medium",children:["Batch: ",e.batch.batch_name]}),(0,mr.jsxs)("p",{children:["Timing: ",ue(e.batch.batch_start_time,e.batch.batch_end_time)]}),(0,mr.jsx)("p",{children:"Days: Mon - Sat"})]})]})]},e.id))}):(0,mr.jsx)("p",{className:"text-gray-600",children:"No courses enrolled"})]})]})]})]})}),S&&w&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:"Edit Student"}),(0,mr.jsx)("button",{onClick:()=>{k(!1),T(null),P(""),ne(!1)},className:"text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400 rounded","aria-label":"Close Edit Modal",children:(0,mr.jsx)(cl,{size:24})})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),I(!0);try{const e=localStorage.getItem("token"),t=new FormData;console.log("=== UPDATE REQUEST DATA ==="),console.log("Edit Form Data:",L),console.log("Selected Courses:",Y),console.log("Course Batches:",X),console.log("Photo File:",D),console.log("Remove Photo Flag:",te);const n={full_name:L.full_name,email:L.email,contact_number:L.contact_number,dob:le(L.dob),gender:L.gender,address:L.address,guardian_name:L.guardian_name,guardian_contact:L.guardian_contact,admission_date:le(L.admission_date),admission_number:L.admission_number,branch_id:L.branch_id,enrollment_status:L.enrollment_status,course_fee:$.toString(),final_fee:$.toString(),_method:"PUT"};Object.entries(n).forEach(e=>{let[n,r]=e;void 0!==r&&null!==r&&""!==r?(t.append(n,r.toString()),console.log("Appended ".concat(n,":"),r)):console.log("Skipped ".concat(n,":"),r)}),Y.length>0?Y.forEach(e=>{t.append("course_ids[]",e.toString()),console.log("Appended course:",e);const n=X[e];n&&""!==n?(t.append("batch_ids[]",n.toString()),console.log("Appended batch for course ".concat(e,":"),n)):(t.append("batch_ids[]",""),console.log("Appended empty batch for course ".concat(e)))}):(t.append("course_ids[]",""),t.append("batch_ids[]","")),D&&(t.append("photo",D),console.log("Appended new photo file")),te&&(t.append("remove_photo","1"),console.log("Appended remove_photo flag")),console.log("=== FORM DATA CONTENTS ===");for(let[s,a]of t.entries())"photo"===s?console.log(s,a.name,a.type,a.size):console.log(s,a);const r=await Ua.post("/students/update/".concat(w.id),t,{headers:{Authorization:"Bearer ".concat(e),"Content-Type":"multipart/form-data"}});if(console.log("=== UPDATE RESPONSE ==="),console.log("Response data:",r.data),!r.data)throw new Error("Update failed - no response data");{await re();const e=await(async e=>{try{const t=localStorage.getItem("token"),n=(await Ua.get("/students/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data;return o(t=>t.map(t=>t.id===e?n:t)),w&&w.id===e&&j(n),n}catch(t){return console.error("Error refreshing student data:",t),null}})(w.id);e&&j(e),k(!1),T(null),P(""),ne(!1),pi.success("Student updated successfully!")}}catch(t){if(console.error("=== UPDATE ERROR ==="),console.error("Error details:",t),t.response)if(console.error("Error response data:",t.response.data),console.error("Error response status:",t.response.status),t.response.data.errors){const e=t.response.data.errors;console.error("Validation errors:",e),Object.entries(e).forEach(e=>{let[t,n]=e;Array.isArray(n)?pi.error("".concat(t,": ").concat(n.join(", "))):pi.error("".concat(t,": ").concat(n))})}else t.response.data.message?pi.error("Failed to update student: ".concat(t.response.data.message)):pi.error("Failed to update student: Server error");else t.request?(console.error("No response received:",t.request),pi.error("No response from server. Please check your connection.")):(console.error("Error message:",t.message),pi.error("Failed to update student. Please try again."))}I(!1)},className:"p-6",children:[(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6 mb-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"Personal Information"}),(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row items-center gap-6 mb-6 p-4 bg-gray-50 rounded-lg",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("img",{src:O||"https://rapidapi.com/hub/_next/image?url=https%3A%2F%2Frapidapi-prod-apis.s3.amazonaws.com%2F0499ccca-a115-4e70-b4f3-1c1587d6de2b.png&w=3840&q=75",alt:"Student Preview",className:"w-32 h-32 rounded-full object-cover border-4 border-white shadow-lg"}),O&&O.startsWith("http")&&(0,mr.jsx)("button",{type:"button",onClick:()=>{T(null),P(""),ne(!0),pi.info("Photo will be removed. Click Update to save changes.")},className:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 hover:bg-red-600 focus:outline-none focus:ring-2 focus:ring-red-400",title:"Remove photo",children:(0,mr.jsx)(cl,{size:14})})]})}),(0,mr.jsxs)("div",{className:"flex-grow",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Student Photo"}),(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"NOTE :  Student Photo  (Upload Dummy Icon Photo if Student Photo not available)"}),(0,mr.jsx)("div",{className:"flex flex-col sm:flex-row gap-3",children:(0,mr.jsx)("input",{type:"file",onChange:e=>{const t=e.target.files[0];if(t){if(!["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))return void pi.error("Please select a valid image file (JPEG, PNG, GIF, WebP)");const e=5242880;if(t.size>e)return void pi.error("Image size should be less than 5MB");T(t),ne(!1);const n=new FileReader;n.onload=e=>{P(e.target.result)},n.readAsDataURL(t),pi.info("New photo selected. Click Update to save changes.")}},className:"flex-grow border border-gray-300 rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:"image/*"})}),(0,mr.jsx)("p",{className:"text-xs text-gray-500 mt-2",children:"Supported formats: JPEG, PNG, GIF, WebP. Max size: 5MB"}),D&&(0,mr.jsx)("p",{className:"text-sm text-green-600 mt-1",children:"\u2713 New photo selected and ready to update"}),te&&(0,mr.jsx)("p",{className:"text-sm text-orange-600 mt-1",children:"\u26a0 Photo will be removed when you update"})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Full Name *"}),(0,mr.jsx)("input",{type:"text",name:"full_name",value:L.full_name||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Email *"}),(0,mr.jsx)("input",{type:"email",name:"email",value:L.email||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Contact Number *"}),(0,mr.jsx)("input",{type:"tel",name:"contact_number",value:L.contact_number||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",pattern:"[0-9]{10}",maxLength:"10",required:!0}),L.contact_number&&10!==L.contact_number.length&&(0,mr.jsx)("p",{className:"text-red-500 text-xs mt-1",children:"Must be exactly 10 digits"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Date of Birth *"}),(0,mr.jsx)("input",{type:"date",name:"dob",value:L.dob||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Gender *"}),(0,mr.jsxs)("select",{name:"gender",value:L.gender||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Gender"}),(0,mr.jsx)("option",{value:"Male",children:"Male"}),(0,mr.jsx)("option",{value:"Female",children:"Female"}),(0,mr.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Admission Number *"}),(0,mr.jsx)("input",{type:"text",name:"admission_number",value:L.admission_number||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Enrollment Status *"}),(0,mr.jsxs)("select",{name:"enrollment_status",value:L.enrollment_status||"Active",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0,children:[(0,mr.jsx)("option",{value:"Active",children:"Active"}),(0,mr.jsx)("option",{value:"Inactive",children:"Inactive"})]})]})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Address"}),(0,mr.jsx)("textarea",{name:"address",value:L.address||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",rows:"3"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Guardian Name"}),(0,mr.jsx)("input",{type:"text",name:"guardian_name",value:L.guardian_name||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Guardian Contact"}),(0,mr.jsx)("input",{type:"tel",name:"guardian_contact",value:L.guardian_contact||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",pattern:"[0-9]{10}",maxLength:"10"}),L.guardian_contact&&10!==L.guardian_contact.length&&(0,mr.jsx)("p",{className:"text-red-500 text-xs mt-1",children:"Must be exactly 10 digits"})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Admission Date *"}),(0,mr.jsx)("input",{type:"date",name:"admission_date",value:L.admission_date||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Select Branch *"}),(0,mr.jsxs)("select",{name:"branch_id",value:L.branch_id||"",onChange:ce,className:"w-full border rounded-lg p-2 focus:outline-none focus:ring-2 focus:ring-blue-400",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Branch --"}),l.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.branch_name," - ",e.city]},e.id))]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6 mb-6",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Course Enrollment"}),(0,mr.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[Y.length," course(s) selected"]})]}),(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:d.map(e=>{return(0,mr.jsx)("div",{className:"border-2 rounded-xl p-4 transition-all duration-200 ".concat(Y.includes(e.id)?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"),children:(0,mr.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,mr.jsx)("input",{type:"checkbox",id:"edit-course-".concat(e.id),checked:Y.includes(e.id),onChange:()=>{return t=e.id,void J(e=>{if(e.includes(t)){const n=N({},X);return delete n[t],Z(n),e.filter(e=>e!==t)}return[...e,t]});var t},className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("label",{htmlFor:"edit-course-".concat(e.id),className:"font-semibold text-gray-900 cursor-pointer hover:text-blue-600 block text-sm",children:e.course_name}),(0,mr.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Code:"})," ",e.course_code]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Duration:"})," ",e.duration," months"]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Mode:"}),(0,mr.jsx)("span",{className:"ml-1 px-2 py-0.5 rounded text-xs ".concat("Online"===e.mode?"bg-green-100 text-green-800":"Offline"===e.mode?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e.mode})]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Level:"})," ",e.course_level]})]}),(0,mr.jsx)("div",{className:"mt-3",children:(0,mr.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["\u20b9",e.discounted_price||e.actual_price||"0"]})}),Y.includes(e.id)&&(0,mr.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Select Batch *"}),(0,mr.jsxs)("select",{value:X[e.id]||"",onChange:t=>{return n=e.id,r=t.target.value,void Z(e=>N(N({},e),{},{[n]:r}));var n,r},className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Choose a batch"}),(t=e.id,h.filter(e=>e.course_id==t||e.courses&&e.courses.some(e=>e.id==t))).map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.batch_name,e.batch_start_time&&" (".concat(oe(e.batch_start_time),")")]},e.id))]})]})]})]})},e.id);var t})}),Y.length>0&&(0,mr.jsxs)("div",{className:"mt-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[(0,mr.jsx)("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"Enrollment Summary"}),(0,mr.jsxs)("div",{className:"space-y-3",children:[Y.map(e=>{const t=d.find(t=>t.id==e),n=h.find(t=>t.id==X[e]);return t?(0,mr.jsxs)("div",{className:"flex justify-between items-center py-3 px-4 bg-white rounded-lg border border-gray-200",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("div",{className:"font-semibold text-gray-800",children:t.course_name}),n&&(0,mr.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Batch:"})," ",n.batch_name]})]}),(0,mr.jsx)("div",{className:"text-right",children:(0,mr.jsxs)("div",{className:"font-bold text-green-600",children:["\u20b9",t.discounted_price||t.actual_price||"0"]})})]},e):null}),(0,mr.jsx)("div",{className:"border-t border-blue-200 pt-3 mt-2",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center font-bold text-lg",children:[(0,mr.jsx)("span",{className:"text-gray-800",children:"Total Fee:"}),(0,mr.jsxs)("span",{className:"text-blue-600",children:["\u20b9",$]})]})})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>{k(!1),T(null),P(""),ne(!1)},className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 disabled:opacity-50 focus:outline-none focus:ring-2 focus:ring-blue-600",disabled:F,children:F?"Updating...":"Update Student"})]})]})]})}),B&&w&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center p-6 border-b",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold",children:"Confirm Deletion"}),(0,mr.jsx)("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700 focus:outline-none focus:ring-2 focus:ring-blue-400 rounded","aria-label":"Close Delete Modal",children:(0,mr.jsx)(cl,{size:24})})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to delete student"," ",(0,mr.jsx)("strong",{children:w.full_name}),"? This action cannot be undone."]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,mr.jsx)("button",{onClick:()=>E(!1),className:"px-4 py-2 border border-gray-300 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-gray-300",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{I(!0);try{const e=localStorage.getItem("token");await Ua.delete("/students/destroy/".concat(w.id),{headers:{Authorization:"Bearer ".concat(e)}}),o(e=>e.filter(e=>e.id!==w.id)),E(!1),pi.success("Student deleted successfully!")}catch(e){console.error("Error deleting student:",e),pi.error("Failed to delete student.")}I(!1)},className:"px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-red-600",disabled:F,children:"Delete Student"})]})]})]})})]})}var m_=n(5239),p_=n.n(m_),g_=n(7762);const x_=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(!1),j=(0,t.useRef)(null);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});s(t.data||[])}catch(e){console.error("Error fetching courses:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{y(!0);const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});i(t.data||[]),l(t.data||[])}catch(e){console.error("Error fetching students:",e)}finally{y(!1)}})()},[]),(0,t.useEffect)(()=>{let e=a;c&&(e=e.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===c})),u&&(e=e.filter(e=>{var t;return null===(t=e.courses)||void 0===t?void 0:t.some(e=>e.id.toString()===u)})),g&&(e=e.filter(e=>{var t,n,r;return(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(g.toLowerCase()))||(null===(n=e.admission_number)||void 0===n?void 0:n.toLowerCase().includes(g.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(g.toLowerCase()))})),l(e)},[c,u,g,a]);const N=()=>{d(""),h(""),x("")};return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:[(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,mr.jsx)("div",{className:"bg-white p-4 rounded-2xl shadow-lg",children:(0,mr.jsx)(Qo,{className:"text-3xl text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Student ID Card Generator"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-2",children:"Generate professional ID cards for your students"})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 mb-8",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Students"}),(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)(rl,{className:"absolute left-3 top-3 text-gray-400"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search by name, admission number, or email...",value:g,onChange:e=>x(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Branch"}),(0,mr.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300 appearance-none",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Course"}),(0,mr.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300 appearance-none",children:[(0,mr.jsx)("option",{value:"",children:"All Courses"}),r.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 flex-1",children:[(0,mr.jsx)("div",{className:"bg-blue-50 rounded-xl p-3 border border-blue-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Total Students"}),(0,mr.jsx)("p",{className:"text-xl font-bold text-gray-800",children:o.length})]}),(0,mr.jsx)(xl,{className:"text-blue-500"})]})}),(0,mr.jsx)("div",{className:"bg-green-50 rounded-xl p-3 border border-green-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Active Students"}),(0,mr.jsx)("p",{className:"text-xl font-bold text-gray-800",children:o.filter(e=>"Active"===e.enrollment_status).length})]}),(0,mr.jsx)(fl,{className:"text-green-500"})]})}),(0,mr.jsx)("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Available Courses"}),(0,mr.jsx)("p",{className:"text-xl font-bold text-gray-800",children:r.length})]}),(0,mr.jsx)(oo,{className:"text-purple-500"})]})})]}),(0,mr.jsx)("div",{className:"flex gap-3",children:(0,mr.jsx)("button",{onClick:N,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-gray-400 transition-colors font-medium",children:"Reset Filters"})})]})]}),b?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):o.length>0?(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6",children:o.map((e,t)=>{var n;return(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-200 overflow-hidden group transform hover:-translate-y-2 animate-fade-in",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("img",{src:e.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:e.full_name,className:"w-16 h-16 rounded-2xl object-cover border-4 border-white shadow-lg"}),(0,mr.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ".concat("Active"===e.enrollment_status?"bg-green-500":"bg-red-500")})]}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h3",{className:"font-bold text-lg truncate",children:e.full_name}),(0,mr.jsxs)("p",{className:"text-blue-100 text-sm truncate",children:["#",e.admission_number]}),(0,mr.jsx)("div",{className:"flex items-center gap-2 mt-1",children:(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat("Active"===e.enrollment_status?"bg-green-500 text-white":"bg-red-500 text-white"),children:e.enrollment_status})})]})]})}),(0,mr.jsx)("div",{className:"p-6",children:(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,mr.jsx)(Bo,{className:"text-gray-400"}),(0,mr.jsx)("span",{className:"truncate",children:e.email})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,mr.jsx)(Xo,{className:"text-gray-400"}),(0,mr.jsx)("span",{children:e.contact_number})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,mr.jsx)(lo,{className:"text-gray-400"}),(0,mr.jsx)("span",{children:null===(n=e.branch)||void 0===n?void 0:n.branch_name})]})]})}),(0,mr.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:(0,mr.jsxs)("button",{onClick:()=>(e=>{f(e),p(!0)})(e),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[(0,mr.jsx)(Qo,{className:"text-sm"}),"Generate ID Card"]})})]},e.id)})}):(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-12 text-center",children:(0,mr.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,mr.jsx)("div",{className:"bg-blue-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,mr.jsx)(fl,{className:"text-3xl text-blue-600"})}),(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Students Found"}),(0,mr.jsx)("p",{className:"text-gray-600 mb-6",children:g||u||c?"Try adjusting your search criteria or filters":"No students available for ID card generation"}),(g||u||c)&&(0,mr.jsx)("button",{onClick:N,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-colors",children:"Clear Filters"})]})})]}),m&&A&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 transform animate-scale-in",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center bg-gradient-to-r from-gray-50 to-white z-10",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-xl",children:(0,mr.jsx)(Qo,{className:"text-xl text-blue-600"})}),(0,mr.jsx)("div",{children:(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Student ID Card"})})]}),(0,mr.jsx)("button",{onClick:()=>{p(!1),f(null),w(!1)},className:"text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-xl",children:(0,mr.jsx)(cl,{size:20})})]}),(0,mr.jsx)("div",{className:"p-6",children:(0,mr.jsxs)("div",{className:"mt-6 bg-blue-50 rounded-xl p-4 border border-blue-200",children:[(0,mr.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Printing Instructions:"}),(0,mr.jsxs)("ul",{className:"text-sm text-blue-700 list-disc list-inside space-y-1",children:[(0,mr.jsx)("li",{children:"Ensure the ID card is centered on the page"}),(0,mr.jsx)("li",{children:"Use high-quality photo paper for best results"}),(0,mr.jsx)("li",{children:'Check printer settings for correct size (CR80 - 3.375" x 2.125")'})]})]})}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-gradient-to-r from-gray-50 via-white to-gray-100 border-t border-gray-300 px-6 py-4 flex justify-end",children:!v&&(0,mr.jsxs)("div",{className:"flex gap-4",children:[(0,mr.jsxs)("button",{onClick:async()=>{if(j.current){w(!0);try{const e=(await p_()(j.current,{scale:3,useCORS:!0,logging:!1,backgroundColor:null})).toDataURL("image/png",1),t=new g_.default({orientation:"landscape",unit:"mm",format:[85.6,54]}),n=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight();t.addImage(e,"PNG",0,0,n,r),t.save("ID_Card_".concat(A.admission_number,"_").concat(A.full_name.replace(/\s+/g,"_"),".pdf"))}catch(e){console.error("Error generating PDF:",e),alert("Error downloading PDF. Please try again.")}finally{w(!1)}}},className:"flex items-center gap-3 px-5 py-3 rounded-xl shadow-md bg-gradient-to-r from-red-100 to-red-50 hover:from-red-200 hover:to-red-100 text-gray-800 font-semibold transition-all duration-300 border border-red-200",children:[(0,mr.jsx)(To,{className:"text-red-600 text-xl"}),(0,mr.jsx)("span",{children:"Download PDF"})]}),(0,mr.jsxs)("button",{onClick:async()=>{if(j.current){w(!0);try{const e=await p_()(j.current,{scale:3,useCORS:!0,logging:!1,backgroundColor:null}),t=document.createElement("a");t.download="ID_Card_".concat(A.admission_number,"_").concat(A.full_name.replace(/\s+/g,"_"),".png"),t.href=e.toDataURL("image/png",1),t.click()}catch(e){console.error("Error generating image:",e),alert("Error downloading image. Please try again.")}finally{w(!1)}}},className:"flex items-center gap-3 px-5 py-3 rounded-xl shadow-md bg-gradient-to-r from-blue-100 to-blue-50 hover:from-blue-200 hover:to-blue-100 text-gray-800 font-semibold transition-all duration-300 border border-blue-200",children:[(0,mr.jsx)(zo,{className:"text-blue-600 text-xl"}),(0,mr.jsx)("span",{children:"Download Image"})]})]})})]})}),(0,mr.jsx)("style",{jsx:!0,children:"\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        @keyframes scale-in {\n          from { opacity: 0; transform: scale(0.9); }\n          to { opacity: 1; transform: scale(1); }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.6s ease-out forwards;\n        }\n        .animate-scale-in {\n          animation: scale-in 0.3s ease-out forwards;\n        }\n      "})]})};function b_(){var e,n,r,s,a,i,o,l,c,d,u,h,A,f,m,p,g,x,b,y,v,w,j;const[_,C]=(0,t.useState)([]),[S,k]=(0,t.useState)(!1),[B,E]=(0,t.useState)(!1),[L,M]=(0,t.useState)(!1),[F,I]=(0,t.useState)(!1),[D,T]=(0,t.useState)([]),[O,P]=(0,t.useState)([]),[U,R]=(0,t.useState)([]),[Q,z]=(0,t.useState)([]),[H,K]=(0,t.useState)([]),[W,V]=(0,t.useState)(!0),[q,G]=(0,t.useState)(!1),[Y,J]=(0,t.useState)(null),[X,Z]=(0,t.useState)(null),[$,ee]=(0,t.useState)({}),[te,ne]=(0,t.useState)([]),[re,se]=(0,t.useState)(null),ae=(0,t.useRef)(null),[ie,oe]=(0,t.useState)({title:"",description:"",submit_date:"",staff_id:"",course_id:"",batch_id:"",branch_id:""});(0,t.useEffect)(()=>{const e=e=>{ae.current&&!ae.current.contains(e.target)&&se(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const le=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/assignments/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=t.data.data||t.data;Array.isArray(n)||(n=[]),console.log("Final assignments data:",n),C(n)}catch(e){console.error("Error fetching assignments:",e)}finally{V(!1)}};(0,t.useEffect)(()=>{le(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}});T(t.data||[])}catch(e){console.error("Error fetching staff:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});z(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});P(t.data||[])}catch(e){console.error("Error fetching courses:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}});R(Array.isArray(t.data)?t.data:t.data.data||[])}catch(e){console.error("Error fetching batches:",e)}})()},[]);const ce=e=>{oe(N(N({},ie),{},{[e.target.name]:e.target.value}))},de=async e=>{J(e),E(!0),G(!0);try{await(async e=>{try{const t=localStorage.getItem("token"),n=(await Ua.get("/assignments/".concat(e,"/submissions"),{headers:{Authorization:"Bearer ".concat(t)}})).data;ne(n.submissions||[]);const r={};return(n.submissions||[]).forEach(e=>{let t=e.status||"Pending";"Done"!==t&&(t="Pending"),r[e.student_id]=t}),ee(r),n}catch(t){return console.error("Error fetching assignment submissions:",t),{submissions:[]}}})(e.id)}catch(t){console.error("Error loading review data:",t)}finally{G(!1)}},ue=e=>{J(e),I(!0)},he=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),Ae=e=>e?new Date("2000-01-01T".concat(e)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",fe=e=>{if(!e.submissions||0===e.submissions.length)return{text:"No Submissions",color:"bg-gray-100 text-gray-700"};const t=e.submissions.length,n=e.submissions.filter(e=>"Done"===e.status).length;return 0===n?{text:"Pending",color:"bg-yellow-100 text-yellow-700"}:n===t?{text:"Completed",color:"bg-green-100 text-green-700"}:{text:"".concat(n,"/").concat(t," Submitted"),color:"bg-blue-100 text-blue-700"}},me=e=>{const t=new Date,n=new Date(e)-t,r=Math.ceil(n/864e5);return r<0?{text:"Overdue by ".concat(Math.abs(r)," days"),color:"text-red-600",bg:"bg-red-50"}:0===r?{text:"Due today",color:"text-orange-600",bg:"bg-orange-50"}:1===r?{text:"Due tomorrow",color:"text-orange-600",bg:"bg-orange-50"}:{text:"".concat(r," days remaining"),color:"text-green-600",bg:"bg-green-50"}};return W?(0,mr.jsx)("div",{className:"p-6 flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"text-lg",children:"Loading assignments..."})}):(0,mr.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Assignments"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Manage and review student assignments"})]}),(0,mr.jsxs)("button",{onClick:()=>k(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors duration-200",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Assignment"]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Assignments"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:_.length})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Pending Review"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:_.filter(e=>"Pending"===fe(e).text).length})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Completed"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:_.filter(e=>"Completed"===fe(e).text).length})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"In Progress"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:_.filter(e=>fe(e).text.includes("/")).length})]})]}),(0,mr.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden border border-gray-200",children:(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sr. No."}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submissions"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===_.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"6",className:"px-6 py-8 text-center text-gray-500",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,mr.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,mr.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No assignments found"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"Create your first assignment to get started"})]})})}):_.map((e,t)=>{(e=>{var t,n,r,s;(null===(t=e.branch)||void 0===t?void 0:t.branch_name)||"Branch ID: ".concat(e.branch_id||"-"),(null===(n=e.course)||void 0===n?void 0:n.course_name)||"Course ID: ".concat(e.course_id||"-"),(null===(r=e.batch)||void 0===r?void 0:r.batch_name)||"Batch ID: ".concat(e.batch_id||"-"),(null===(s=e.teacher)||void 0===s?void 0:s.employee_name)||"Staff ID: ".concat(e.staff_id||"-")})(e);const n=fe(e);return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>ue(e),children:[(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:t+1}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"font-semibold text-gray-900",children:e.title.length>20?e.title.slice(0,20)+"...":e.title}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:e.description.length>50?e.description.slice(0,50)+"...":e.description})]})}),(0,mr.jsxs)("td",{className:"px-6 py-4",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-900 font-medium",children:he(e.submit_date)}),(0,mr.jsx)("div",{className:"text-xs font-medium ".concat(new Date(e.submit_date)<new Date?"text-red-600":"text-green-600"),children:new Date(e.submit_date)<new Date?"Overdue":"Active"})]}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"text-sm text-gray-900 font-medium",children:[e.submissions?e.submissions.length:0," students"]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(n.color),children:n.text})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex space-x-2 items-center",onClick:e=>e.stopPropagation(),children:[(0,mr.jsx)("button",{className:"text-blue-600 hover:text-blue-800 font-medium text-sm px-3 py-1 rounded border border-blue-200 hover:bg-blue-50 transition-colors duration-200",onClick:()=>de(e),children:"Review"}),(0,mr.jsxs)("div",{className:"relative",ref:ae,children:[(0,mr.jsx)("button",{className:"text-gray-500 hover:text-gray-700 p-1 rounded hover:bg-gray-100 transition-colors duration-200",onClick:()=>{return t=e.id,void se(re===t?null:t);var t},children:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),re===e.id&&(0,mr.jsxs)("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:[(0,mr.jsxs)("button",{onClick:()=>ue(e),className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 transition-colors duration-200 flex items-center",children:[(0,mr.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Details"]}),(0,mr.jsxs)("button",{onClick:()=>(e=>{Z(e),M(!0),se(null)})(e),className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Assignment"]})]})]})]})})]},e.id)})})]})})}),S&&(0,mr.jsx)("div",{className:"fixed inset-0 flex mt-9 justify-center items-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Create Assignment"}),(0,mr.jsx)("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t=await Ua.post("/assignments",ie,{headers:{Authorization:"Bearer ".concat(e)}});pi.success(t.data.message||"Assignment created successfully"),k(!1),oe({title:"",description:"",submit_date:"",staff_id:"",course_id:"",batch_id:"",branch_id:""}),le()}catch(t){console.error("Error creating assignment:",t),pi.warning("Error creating assignment")}},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,mr.jsx)("input",{type:"text",name:"title",placeholder:"Assignment title",value:ie.title,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:ce,required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,mr.jsx)("textarea",{name:"description",placeholder:"Assignment description",value:ie.description,rows:"3",className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:ce,required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),(0,mr.jsx)("input",{type:"date",name:"submit_date",value:ie.submit_date,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:ce,required:!0})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,mr.jsxs)("select",{name:"branch_id",value:ie.branch_id,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:ce,required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),Q.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),(0,mr.jsxs)("select",{name:"course_id",value:ie.course_id,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:ce,required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Course"}),O.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch"}),(0,mr.jsxs)("select",{name:"batch_id",value:ie.batch_id,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:ce,required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Batch"}),U.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.batch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff"}),(0,mr.jsxs)("select",{name:"staff_id",value:ie.staff_id,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:ce,required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Staff"}),D.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.employee_name},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Create Assignment"})]})]})]})}),F&&Y&&(0,mr.jsx)("div",{className:"fixed inset-0 flex justify-center items-center p-4 z-50 bg-black bg-opacity-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Assignment Details"}),(0,mr.jsx)("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200 p-1 rounded-full hover:bg-gray-100",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-100",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:Y.title}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:Y.description})]}),(0,mr.jsx)("div",{className:"text-right",children:(0,mr.jsx)("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ".concat(me(Y.submit_date).bg," ").concat(me(Y.submit_date).color),children:me(Y.submit_date).text})})]})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Assignment Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Due Date:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:he(Y.submit_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Created:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:he(Y.created_at)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Last Updated:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:he(Y.updated_at)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Submissions:"}),(0,mr.jsxs)("span",{className:"text-gray-900",children:[(null===(e=Y.submissions)||void 0===e?void 0:e.length)||0," students"]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Teacher Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(n=Y.teacher)||void 0===n?void 0:n.employee_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Email:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(r=Y.teacher)||void 0===r?void 0:r.email)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Contact:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(s=Y.teacher)||void 0===s?void 0:s.contact_number)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Department:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(a=Y.teacher)||void 0===a?void 0:a.department)||"N/A"})]})]})]})]}),(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Course Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Course Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(i=Y.course)||void 0===i?void 0:i.course_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Course Code:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(o=Y.course)||void 0===o?void 0:o.course_code)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Duration:"}),(0,mr.jsxs)("span",{className:"text-gray-900",children:[(null===(l=Y.course)||void 0===l?void 0:l.duration)||"N/A"," months"]})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Mode:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(c=Y.course)||void 0===c?void 0:c.mode)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Level:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(d=Y.course)||void 0===d?void 0:d.course_level)||"N/A"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Batch Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Batch Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(u=Y.batch)||void 0===u?void 0:u.batch_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Start Date:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:he(null===(h=Y.batch)||void 0===h?void 0:h.start_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"End Date:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:he(null===(A=Y.batch)||void 0===A?void 0:A.end_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Batch Time:"}),(0,mr.jsxs)("span",{className:"text-gray-900",children:[Ae(null===(f=Y.batch)||void 0===f?void 0:f.batch_start_time)," - ",Ae(null===(m=Y.batch)||void 0===m?void 0:m.batch_end_time)]})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Student Limit:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(p=Y.batch)||void 0===p?void 0:p.student_limit)||"N/A"})]})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsxs)("svg",{className:"w-5 h-5 mr-2 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Branch Information"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Branch Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(g=Y.branch)||void 0===g?void 0:g.branch_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Branch Code:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(x=Y.branch)||void 0===x?void 0:x.branch_code)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Address:"}),(0,mr.jsx)("span",{className:"text-gray-900 text-right",children:(null===(b=Y.branch)||void 0===b?void 0:b.address)||"N/A"})]})]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"City:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(y=Y.branch)||void 0===y?void 0:y.city)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"State:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(v=Y.branch)||void 0===v?void 0:v.state)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Contact:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(w=Y.branch)||void 0===w?void 0:w.contact_number)||"N/A"})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Student Submissions",(0,mr.jsx)("span",{className:"ml-2 bg-indigo-100 text-indigo-800 text-sm font-medium px-2.5 py-0.5 rounded-full",children:(null===(j=Y.submissions)||void 0===j?void 0:j.length)||0})]}),Y.submissions&&Y.submissions.length>0?(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.submissions.map(e=>(0,mr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,mr.jsx)("img",{src:e.student.photo_url||"/default-avatar.png",alt:e.student.full_name,className:"w-10 h-10 rounded-full object-cover border border-gray-300"}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.student.full_name}),(0,mr.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:["Admission: ",e.student.admission_number]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("span",{className:"text-xs text-gray-500",children:"Status"}),(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("Done"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,mr.jsxs)("div",{className:"flex flex-col items-end",children:[(0,mr.jsx)("span",{className:"text-xs text-gray-500",children:"Submitted"}),(0,mr.jsx)("span",{className:"text-sm text-gray-900",children:he(e.updated_at)})]})]}),(0,mr.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,mr.jsx)("div",{className:"flex justify-between text-xs text-gray-500",children:(0,mr.jsxs)("span",{children:["Contact: ",e.student.contact_number]})})})]},e.id))}):(0,mr.jsxs)("div",{className:"text-center py-8",children:[(0,mr.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,mr.jsx)("p",{className:"mt-2 text-gray-500",children:"No submissions yet"})]})]}),(0,mr.jsx)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:(0,mr.jsx)("button",{onClick:()=>I(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 font-medium",children:"Close"})})]})]})}),B&&(0,mr.jsx)("div",{className:"fixed inset-0 flex lg:ml-[600px] mt-[100px] lg:w-[600px] lg:h-[500px] p-4 z-[140px]",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl shadow-xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Review Submissions - ",null===Y||void 0===Y?void 0:Y.title]}),(0,mr.jsx)("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),q?(0,mr.jsx)("div",{className:"py-8 text-center text-gray-500",children:"Loading student data..."}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg border border-blue-100",children:[(0,mr.jsxs)("p",{className:"text-gray-700",children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Due Date:"})," ",Y?he(Y.submit_date):""]}),(0,mr.jsxs)("p",{className:"text-gray-700 mt-1",children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Total Submissions:"})," ",te.length," students"]})]}),(0,mr.jsx)("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Student ID"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Student Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Status"})]})}),(0,mr.jsx)("tbody",{children:0===te.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"3",className:"px-4 py-8 text-center text-gray-500",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,mr.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,mr.jsx)("p",{children:"No submissions found for this assignment."})]})})}):te.map(e=>(0,mr.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150",children:[(0,mr.jsx)("td",{className:"px-4 py-3 font-medium text-gray-900",children:e.student.id}),(0,mr.jsx)("td",{className:"px-4 py-3",children:e.student.full_name}),(0,mr.jsx)("td",{className:"px-4 py-3",children:(0,mr.jsxs)("select",{value:$[e.student_id]||"Pending",onChange:t=>{return n=e.student_id,r=t.target.value,void ee(e=>N(N({},e),{},{[n]:r}));var n,r},className:"border border-gray-300 rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",children:[(0,mr.jsx)("option",{value:"Pending",children:"Pending"}),(0,mr.jsx)("option",{value:"Done",children:"Done"})]})})]},e.id))})]})}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{onClick:()=>E(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=Object.keys($).map(e=>({student_id:parseInt(e),status:$[e]})),n={assignment_id:Y.id,updates:t};console.log("Sending bulk update payload:",n);const r=await Ua.put("/assignments/submissions/bulk-update",n,{headers:{Authorization:"Bearer ".concat(e)}});pi.success(r.data.message||"Statuses updated successfully"),E(!1),le()}catch(e){console.error("Error updating statuses:",e),e.response?(console.error("Backend validation errors:",e.response.data.errors),pi.warning("Error: ".concat(e.response.data.message||"Invalid status value"))):pi.warning("Error updating statuses")}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Update Status"})]})]})]})}),L&&(0,mr.jsx)("div",{className:"fixed inset-0 flex justify-center items-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Delete Assignment"}),(0,mr.jsx)("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mr.jsxs)("div",{className:"mb-6",children:[(0,mr.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("svg",{className:"w-6 h-6 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,mr.jsx)("span",{className:"text-red-800 font-medium",children:"Warning: This action cannot be undone"})]})}),(0,mr.jsxs)("p",{className:"text-gray-600",children:["Are you sure you want to delete the assignment ",(0,mr.jsxs)("span",{className:"font-semibold",children:['"',null===X||void 0===X?void 0:X.title,'"']}),"? All associated submissions will also be permanently deleted."]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,mr.jsx)("button",{onClick:()=>M(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,mr.jsxs)("button",{onClick:async()=>{if(X)try{const e=localStorage.getItem("token"),t=await Ua.delete("/assignments/delete/".concat(X.id),{headers:{Authorization:"Bearer ".concat(e)}});pi.error(t.data.message||"Assignment deleted successfully"),M(!1),Z(null),se(null),le()}catch(e){console.error("Error deleting assignment:",e),pi.warning("Error deleting assignment")}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-200 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Assignment"]})]})]})})]})}const y_=e=>{let{formData:n,setFormData:r,setShowModal:s,refreshData:a}=e;const[i,o]=(0,t.useState)({percentage:0,grade:"-",gradeColor:"text-gray-600"}),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)([]),[h,A]=(0,t.useState)([]),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[x,b]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[w,j]=(0,t.useState)(""),[_,C]=(0,t.useState)([]),[S,k]=(0,t.useState)([]),[B,E]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});console.log("Branches API response:",t),u(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];m(t),k(t)}catch(e){console.error("Error fetching courses:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=[];Array.isArray(t.data)?n=t.data:t.data&&Array.isArray(t.data.batches)?n=t.data.batches:t.data&&Array.isArray(t.data.data)?n=t.data.data:(console.warn("Unexpected batches API response structure:",t.data),n=[]),A(n),E(n)}catch(e){console.error("Error fetching batches:",e),A([])}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=[];Array.isArray(t.data)?n=t.data:t.data&&Array.isArray(t.data.students)?n=t.data.students:t.data&&Array.isArray(t.data.data)?n=t.data.data:(console.warn("Unexpected students API response structure:",t.data),n=[]),console.log("Fetched students:",n),g(n)}catch(e){console.error("Error fetching students:",e),g([])}})()},[]),(0,t.useEffect)(()=>{if(x){const e=f.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===x});k(e)}else k(f)},[x,f]),(0,t.useEffect)(()=>{if(x){const e=h.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===x});E(e)}else E(h)},[x,h]),(0,t.useEffect)(()=>{console.log("Filtering students with:",{selectedBranch:x,selectedBatch:y,studentsCount:p.length});let e=p;x&&(e=e.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===x})),y&&(e=e.filter(e=>{var t;return null===(t=e.courses)||void 0===t?void 0:t.some(e=>{var t,n;return(null===(t=e.pivot)||void 0===t||null===(n=t.batch_id)||void 0===n?void 0:n.toString())===y})})),console.log("Filtered students:",e),C(e)},[x,y,p]),(0,t.useEffect)(()=>{L()},[n.totalMarks,n.obtainedMarks]);const L=()=>{const e=parseFloat(n.totalMarks)||0,t=parseFloat(n.obtainedMarks)||0;if(e>0){const n=t/e*100;let r="F",s="text-red-600";n>=90?(r="A+",s="text-green-600"):n>=80?(r="A",s="text-green-600"):n>=70?(r="B",s="text-blue-600"):n>=60?(r="C",s="text-yellow-600"):n>=50&&(r="D",s="text-orange-600"),o({percentage:n,grade:r,gradeColor:s})}},M=()=>{s(!1),b(""),v(""),j(""),r({studentId:"",branch:"",batch:"",course:"",examDate:"",examName:"",totalMarks:100,obtainedMarks:0})},F=e=>{const{id:t,value:n}=e.target;r(e=>N(N({},e),{},{[t]:n}))},I=(e,t)=>{alert("".concat("success"===t?"Success":"Error",": ").concat(e))},D=e=>{e.target.style.borderColor="#0176d3",e.target.style.boxShadow="0 0 0 2px rgba(1, 118, 211, 0.1)"},T=e=>{e.target.style.borderColor="#dddbda",e.target.style.boxShadow="none"},O=e=>{var t;if(!e.courses||0===e.courses.length)return"No course assigned";const n=e.courses[0];return"".concat(n.course_name," - ").concat((null===(t=n.batch)||void 0===t?void 0:t.batch_name)||"No batch")};return(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl mx-4 max-h-screen overflow-y-auto",children:[(0,mr.jsx)("div",{className:"sf-blue text-white px-6 py-4 rounded-t-lg",style:{background:"linear-gradient(135deg, #0176d3 0%, #005fb2 100%)"},children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold",children:"Add Exam Marks"}),(0,mr.jsx)("button",{onClick:M,className:"text-white hover:text-gray-200 transition-colors",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n.obtainedMarks>n.totalMarks)alert("Obtained marks cannot be greater than total marks!");else{c(!0);try{const e=localStorage.getItem("token"),t={student_id:parseInt(n.studentId),batch_id:parseInt(n.batch),branch_id:parseInt(n.branch),course_id:parseInt(n.course),exam_type:n.examName,marks_obtained:parseFloat(n.obtainedMarks),total_marks:parseFloat(n.totalMarks),exam_date:n.examDate};console.log("Submitting exam data:",t);const r=await Ua.post("/exam-marks",t,{headers:{Authorization:"Bearer ".concat(e)}});200!==r.status&&201!==r.status||(I("Exam marks recorded successfully!","success"),a&&a(),M())}catch(t){console.error("Error submitting exam marks:",t),I("Failed to record exam marks. Please try again.","error")}finally{c(!1)}}},className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h4",{className:"text-lg font-medium text-gray-800 border-b pb-2",children:"Student Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),(0,mr.jsxs)("select",{id:"branch",required:!0,value:x,onChange:e=>{const t=e.target.value;b(t),r(e=>N(N({},e),{},{branch:t}))},className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:D,onBlur:T,children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),d.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),(0,mr.jsxs)("select",{id:"course",required:!0,value:w,onChange:e=>{const t=e.target.value;j(t),r(e=>N(N({},e),{},{course:t}))},className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:D,onBlur:T,children:[(0,mr.jsx)("option",{value:"",children:"Select Course"}),S.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),(0,mr.jsxs)("select",{id:"batch",required:!0,value:y,onChange:e=>{const t=e.target.value;v(t),r(e=>N(N({},e),{},{batch:t}))},className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:D,onBlur:T,children:[(0,mr.jsx)("option",{value:"",children:"Select Batch"}),B.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.batch_name||"Batch ".concat(e.id)},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student"}),(0,mr.jsxs)("select",{id:"student",required:!0,onChange:e=>{const t=e.target.value,n=_.find(e=>e.id.toString()===t);n&&r(e=>N(N({},e),{},{studentId:n.id.toString(),studentName:n.full_name}))},className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:D,onBlur:T,disabled:!y,children:[(0,mr.jsx)("option",{value:"",children:"Select Student"}),0===_.length&&y?(0,mr.jsx)("option",{value:"",disabled:!0,children:"No students found in this batch"}):_.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.full_name,e.courses&&e.courses.length>0&&(0,mr.jsxs)("span",{className:"text-gray-500 text-sm",children:[" ","(",O(e),")"]})]},e.id))]}),y&&0===_.length&&(0,mr.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"No students found in the selected batch. Please check if students are enrolled in courses with this batch."})]})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h4",{className:"text-lg font-medium text-gray-800 border-b pb-2",children:"Exam Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Date"}),(0,mr.jsx)("input",{type:"date",id:"examDate",required:!0,value:n.examDate,onChange:F,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:D,onBlur:T})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Name/Type"}),(0,mr.jsx)("input",{type:"text",id:"examName",required:!0,value:n.examName,onChange:F,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:D,onBlur:T,placeholder:"e.g., Mid Term, Final Exam"})]})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h4",{className:"text-lg font-medium text-gray-800 border-b pb-2",children:"Marks Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Marks"}),(0,mr.jsx)("input",{type:"number",id:"totalMarks",required:!0,min:"1",value:n.totalMarks,onChange:F,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:D,onBlur:T,placeholder:"Enter total marks"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Obtained Marks"}),(0,mr.jsx)("input",{type:"number",id:"obtainedMarks",required:!0,min:"0",value:n.obtainedMarks,onChange:F,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:D,onBlur:T,placeholder:"Enter obtained marks"})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Calculated Results:"}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm font-medium",children:"Percentage:"}),(0,mr.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:[i.percentage.toFixed(1),"%"]})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm font-medium",children:"Grade:"}),(0,mr.jsx)("span",{className:"text-sm font-bold ".concat(i.gradeColor),children:i.grade})]})]})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t",children:[(0,mr.jsx)("button",{type:"button",onClick:M,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"sf-button text-white px-8 py-3 rounded-lg font-medium flex items-center space-x-2",style:{background:"#0176d3",transition:"all 0.2s ease",opacity:l?.7:1},onMouseOver:l?void 0:e=>{e.target.style.background="#005fb2",e.target.style.transform="translateY(-1px)"},onMouseOut:l?void 0:e=>{e.target.style.background="#0176d3",e.target.style.transform="translateY(0)"},disabled:l,children:l?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,mr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,mr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,mr.jsx)("span",{children:"Processing..."})]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,mr.jsx)("span",{children:"Save Record"})]})})]})]})]})})},v_=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)("all"),[c,d]=(0,t.useState)(!0),u=async()=>{try{const e=localStorage.getItem("token");if(!e)return void alert("No token found! Please login again.");const t=await Ua.get("exam-marks",{headers:{Authorization:"Bearer ".concat(e)}}),r=[];t.data.students.forEach(e=>{e.exam_marks.forEach(t=>{r.push({id:t.id,studentId:e.id,studentName:e.full_name,branch:h(e.branch_id),course:t.course?t.course.course_name:"N/A",examDate:t.exam_date,examName:t.exam_type,totalMarks:t.total_marks,obtainedMarks:t.marks_obtained,percentage:t.marks_obtained/t.total_marks*100,startTime:e.batch_start_time,endTime:e.batch_end_time,branchId:e.branch_id})})}),n(r),s(r),d(!1)}catch(e){console.error("Error fetching exam records:",e),alert("Failed to load exam records"),d(!1)}},h=e=>{const t=a.find(t=>t.id===e);return t?t.branchName:"Branch ".concat(e)};return(0,t.useEffect)(()=>{(async()=>{await(async()=>{try{const e=localStorage.getItem("token");if(!e)return void alert("No token found! Please login again.");const t=(await Ua.get("branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name,branch_code:e.branch_code||"BR-"+e.id,city:e.city,state:e.state,contact:e.contact_number,email:e.email,status:e.status,opening_date:e.opening_date,pin_code:e.pin_code||"",address:e.address||"",branch_type:e.branch_type||"Main"}));i(t)}catch(e){console.error("Error fetching branches:",e),alert("Failed to load branches")}})(),await u()})();const e=setInterval(()=>{u()},2e3);return()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{(t=>{if("all"===t)s(e);else{const n=e.filter(e=>e.branchId==t);s(n)}})(o)},[o,e]),c?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,mr.jsxs)("div",{className:"w-full",children:[(0,mr.jsx)("div",{className:"mb-6 flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("label",{htmlFor:"branchFilter",className:"text-sm font-medium text-gray-700",children:"Filter by Branch:"}),(0,mr.jsxs)("select",{id:"branchFilter",value:o,onChange:e=>l(e.target.value),className:"rounded-md border border-gray-300 bg-white py-2 px-3 shadow-sm focus:border-blue-500 focus:outline-none focus:ring-blue-500 sm:text-sm",children:[(0,mr.jsx)("option",{value:"all",children:"All Branches"}),a.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branchName},e.id))]})]})}),(0,mr.jsxs)("div",{className:"sf-card rounded-lg overflow-hidden w-full",style:{background:"#ffffff",border:"1px solid #dddbda",boxShadow:"0 2px 4px rgba(0,0,0,0.07)"},children:[(0,mr.jsx)("div",{className:"sf-table-header px-6 py-4",style:{background:"#f3f2f2",borderBottom:"2px solid #dddbda"},children:(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Exam Records"})}),(0,mr.jsx)("div",{className:"overflow-x-auto w-full",children:(0,mr.jsxs)("table",{className:"w-full border-collapse",children:[(0,mr.jsx)("thead",{className:"bg-gray-100 border-b",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Course"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Exam Date"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Exam Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Total Marks"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Obtained"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Percentage"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:0===r.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"9",className:"px-6 py-16 text-center text-gray-500",children:"No exam records found"})}):r.map(t=>{const a=(i=t.percentage)>=90?{grade:"A+",class:"bg-green-100 text-green-800"}:i>=80?{grade:"A",class:"bg-green-100 text-green-800"}:i>=70?{grade:"B+",class:"bg-blue-100 text-blue-800"}:i>=60?{grade:"B",class:"bg-blue-100 text-blue-800"}:i>=50?{grade:"C",class:"bg-yellow-100 text-yellow-800"}:i>=40?{grade:"D",class:"bg-orange-100 text-orange-800"}:{grade:"F",class:"bg-red-100 text-red-800"};var i;const o=new Date(t.examDate).toLocaleDateString();return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 truncate",children:t.studentName}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 truncate",children:t.course}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:o}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 truncate",children:t.examName}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:t.totalMarks}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:t.obtainedMarks}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center",children:(0,mr.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ".concat(a.class),children:[t.percentage.toFixed(1),"% (",a.grade,")"]})}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center",children:(0,mr.jsx)("button",{onClick:()=>(async t=>{if(window.confirm("Are you sure you want to delete this exam record?"))try{const a=localStorage.getItem("token");await Ua.delete("exam-marks/delete/".concat(t),{headers:{Authorization:"Bearer ".concat(a)}}),n(e.filter(e=>e.id!==t)),s(r.filter(e=>e.id!==t)),alert("Exam record deleted successfully!")}catch(a){console.error("Error deleting exam record:",a),alert("Failed to delete exam record")}})(t.id),className:"text-red-600 hover:text-red-900 transition-colors p-2 rounded-lg hover:bg-red-50",title:"Delete Record",children:(0,mr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},t.id)})})]})})]})]})};const w_=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)({studentId:"",studentName:"",branch:"",course:"",examDate:"",examName:"",startTime:"",endTime:"",totalMarks:100,obtainedMarks:0}),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)([]),[j,_]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});h(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});f(t.data||[])}catch(e){console.error("Error fetching courses:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(g)try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/".concat(g,"/show"),{headers:{Authorization:"Bearer ".concat(e)}});p(t.data.students||[])}catch(e){console.error("Error fetching students:",e)}})()},[g]),(0,t.useEffect)(()=>{if(!b||!m.length)return void w(m);const e=m.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===b});w(e)},[b,m]);const C=async e=>{if(e)try{const t=localStorage.getItem("token"),r=await Ua.get("/exam-marks/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});if(r.data&&r.data.length>0){const e=r.data.map(e=>({id:e.id,studentId:e.student_id.toString(),studentName:e.student_name||"Unknown",branch:e.branch_id.toString(),course:e.course_id.toString(),examDate:e.exam_date,examName:e.exam_type,startTime:e.start_time||"",endTime:e.end_time||"",totalMarks:e.total_marks,obtainedMarks:e.marks_obtained,percentage:e.marks_obtained/e.total_marks*100}));n(e)}else n([])}catch(t){console.error("Error fetching student exam marks:",t),k("Failed to fetch exam marks.","error")}},S=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/exam-marks",{headers:{Authorization:"Bearer ".concat(e)}});if(t.data&&t.data.length>0){const e=t.data.map(e=>({id:e.id,studentId:e.student_id.toString(),studentName:e.student_name||"Unknown",branch:e.branch_id.toString(),course:e.course_id.toString(),examDate:e.exam_date,examName:e.exam_type,startTime:e.start_time||"",endTime:e.end_time||"",totalMarks:e.total_marks,obtainedMarks:e.marks_obtained,percentage:e.marks_obtained/e.total_marks*100}));n(e)}}catch(e){console.error("Error fetching all exam marks:",e)}};(0,t.useEffect)(()=>{S()},[]);const k=(e,t)=>{alert("".concat("success"===t?"Success":"Error",": ").concat(e))},B=e.length,E=e.map(e=>e.percentage);return B>0&&E.reduce((e,t)=>e+t,0),B>0&&Math.max(...E),E.filter(e=>e>=50).length,(0,mr.jsxs)("div",{className:"bg-gray-50 min-h-screen",style:{fontFamily:"'Inter', 'Salesforce Sans', sans-serif"},children:[(0,mr.jsx)("div",{className:"sf-blue text-white py-6 px-6 shadow-lg",style:{background:"linear-gradient(135deg, #0176d3 0%, #005fb2 100%)"},children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-white bg-opacity-20 p-2 rounded-lg",children:(0,mr.jsxs)("svg",{className:"w-8 h-8",viewBox:"0 0 24 24",fill:"currentColor",role:"img","aria-label":"Education (book)",children:[(0,mr.jsx)("title",{children:"Book"}),(0,mr.jsx)("path",{d:"M21 6v11a1 1 0 0 1-1 1c-2.5 0-5-1-7-1s-4.5 1-7 1a1 1 0 0 1-1-1V6a1 1 0 0 1 1-1c2.5 0 5 1 7 1s4.5-1 7-1a1 1 0 0 1 1 1zM3 6c2.5 0 5 1 7 1s4.5-1 7-1"})]})}),(0,mr.jsx)("h1",{className:"text-3xl ml-4 font-bold",children:"Exam Marks Management"}),(0,mr.jsx)("button",{onClick:()=>i(!0),className:"bg-slate-100 text-blue-600 ml-[190px] font-bold px-4 py-2 rounded-lg",children:(0,mr.jsx)("span",{children:"+ Add Marks"})})]})})}),(0,mr.jsx)("div",{className:"max-w-7xl py-8",children:(0,mr.jsx)(v_,{records:e,editRecord:()=>{},deleteRecord:()=>{},getGrade:e=>e>=90?{grade:"A+",class:"status-active"}:e>=80?{grade:"A",class:"status-active"}:e>=70?{grade:"B",class:"status-completed"}:e>=60?{grade:"C",class:"status-completed"}:e>=50?{grade:"D",class:"status-pending"}:{grade:"F",class:"bg-red-100 text-red-800"}})}),a&&(0,mr.jsx)(y_,{formData:c,setFormData:d,editingId:o,setEditingId:l,setShowModal:i,handleSubmit:()=>{},handleInputChange:e=>{const{id:t,value:n}=e.target;d(e=>N(N({},e),{},{[t]:n}))},handleCourseChange:e=>{x(e.target.value),d(t=>N(N({},t),{},{course:e.target.value}))},handleBranchChange:e=>{y(e.target.value),d(t=>N(N({},t),{},{branch:e.target.value}))},handleStudentSelect:e=>{const t=e.target.value,n=v.find(e=>e.id.toString()===t);n&&d(e=>N(N({},e),{},{studentId:n.id.toString(),studentName:n.name}))},branches:u,courses:A,filteredStudents:v,selectedCourse:g,selectedBranch:b,refreshData:()=>{j?C(j):S()}})]})};function j_(){const[e,n]=(0,t.useState)("assignments");return(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen",children:[(0,mr.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,mr.jsx)("div",{className:"flex items-center justify-between",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-white font-bold text-lg",children:"\ud83d\udcda"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Progress"}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Track student performance and submissions"})]})]})})})}),(0,mr.jsx)("div",{className:"py-8",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,mr.jsx)("div",{className:"border-b border-gray-200",children:(0,mr.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"assignments",label:"\ud83d\udccb Assignment Tracking"},{id:"exams",label:"\ud83d\udcca Test/Exam Marks"}].map(t=>(0,mr.jsx)("button",{onClick:()=>n(t.id),className:"py-4 px-2 border-b-2 font-medium transition-colors ".concat(e===t.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"),children:t.label},t.id))})}),(0,mr.jsxs)("div",{className:"p-6",children:["assignments"===e&&(0,mr.jsx)("div",{children:(0,mr.jsx)(b_,{})}),"exams"===e&&(0,mr.jsx)("div",{children:(0,mr.jsx)(w_,{})})]})]})})]})}function N_(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(""),[j,_]=(0,t.useState)([]),[C,S]=(0,t.useState)([]),[k,B]=(0,t.useState)([]),[E,L]=(0,t.useState)(!1),[M,F]=(0,t.useState)([]),[I,D]=(0,t.useState)({}),[T,O]=(0,t.useState)(0);(0,t.useEffect)(()=>{const e=localStorage.getItem("token");Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{console.log("Courses:",e.data),_(e.data||[])}).catch(e=>{console.error("Failed to fetch courses:",e),pi.error("Failed to fetch courses")}),Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{console.log("Branches:",e.data),B(e.data||[])}).catch(e=>{console.error("Failed to fetch branches:",e),pi.error("Failed to fetch branches")}),Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{const t=Array.isArray(e.data)?e.data:e.data.data||[];console.log("Batches:",t),S(t)}).catch(e=>{console.error("Failed to fetch batches:",e),pi.error("Failed to fetch batches")})},[]),(0,t.useEffect)(()=>{if(M.length>0){let e=0;M.forEach(t=>{const n=j.find(e=>e.id==t);if(n){const t=parseFloat(n.discounted_price||n.actual_price||0);e+=t}}),O(e)}else O(0)},[M,j]);const P=e=>{if(!e)return"";try{return new Date("2000-01-01T".concat(e)).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(t){return e}},U=()=>{n(""),s(""),i(""),l(""),d(""),h(""),f(null),p(""),x(""),y(""),w(""),F([]),D({}),O(0)};return(0,mr.jsxs)("div",{className:"p-6 w-full bg-[#F4F9FD]",children:[(0,mr.jsx)(Ci,{position:"bottom-center",autoClose:3e3}),(0,mr.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-6 text-gray-800",children:"Add New Student"}),(0,mr.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{t.preventDefault(),L(!0);try{if(10!==o.length)return pi.error("Contact number must be exactly 10 digits"),void L(!1);if(g&&10!==g.length)return pi.error("Guardian contact must be exactly 10 digits if provided"),void L(!1);if(0===M.length)return pi.error("Please select at least one course"),void L(!1);if(M.filter(e=>!I[e]).length>0)return pi.error("Please select batches for all selected courses"),void L(!1);const t=localStorage.getItem("token"),n={full_name:e,dob:r,gender:a,contact_number:o,email:c,address:u,guardian_name:m,guardian_contact:g,admission_date:b,branch_id:v,course_ids:M,batch_ids:M.map(e=>I[e]),course_fee:T,final_fee:T};if(console.log("Submitting data:",n),A){const e=new FormData;Object.keys(n).forEach(t=>{Array.isArray(n[t])?n[t].forEach(n=>{e.append("".concat(t,"[]"),n)}):e.append(t,n[t])}),e.append("photo",A),console.log("FormData entries:");for(let[t,n]of e.entries())console.log("".concat(t,":"),n);const r=await Ua.post("/students/create",e,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/form-data"}});console.log("API Response:",r.data)}else{const e=await Ua.post("/students/create",n,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"application/json"}});console.log("API Response:",e.data)}pi.success("Student created successfully!"),U()}catch(d){var n,s,i,l;console.error("Error creating student:",d),null!==(n=d.response)&&void 0!==n&&null!==(s=n.data)&&void 0!==s&&s.message?pi.error("\u274c ".concat(d.response.data.message)):null!==(i=d.response)&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&l.errors?Object.values(d.response.data.errors).flat().forEach(e=>pi.error("\u274c ".concat(e))):pi.error("\u274c Failed to create student")}finally{L(!1)}},children:[(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"Personal Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Full Name *"}),(0,mr.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter student's full name",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Date of Birth *"}),(0,mr.jsx)("input",{type:"date",value:r,onChange:e=>s(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Gender *"}),(0,mr.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Gender"}),(0,mr.jsx)("option",{value:"Male",children:"Male"}),(0,mr.jsx)("option",{value:"Female",children:"Female"}),(0,mr.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Contact Number *"}),(0,mr.jsx)("input",{type:"text",value:o,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);l(t)},className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10-digit mobile number",maxLength:10,required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Email Address *"}),(0,mr.jsx)("input",{type:"email",value:c,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"student@example.com",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Student Photo"}),(0,mr.jsx)("input",{type:"file",onChange:e=>f(e.target.files[0]),className:"w-full border border-gray-300 rounded-lg px-4 py-3 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:"image/*"})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Address"}),(0,mr.jsx)("textarea",{value:u,onChange:e=>h(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter complete address",rows:3})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"Guardian Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Guardian Name"}),(0,mr.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter guardian's full name"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Guardian Contact"}),(0,mr.jsx)("input",{type:"text",value:g,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);x(t)},className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10-digit mobile number",maxLength:10})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Course Enrollment"}),(0,mr.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[M.length," course(s) selected"]})]}),(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:j.map(e=>{return(0,mr.jsx)("div",{className:"border-2 rounded-xl p-4 transition-all duration-200 ".concat(M.includes(e.id)?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"),children:(0,mr.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,mr.jsx)("input",{type:"checkbox",id:"course-".concat(e.id),checked:M.includes(e.id),onChange:()=>{return t=e.id,void F(e=>{if(e.includes(t)){const n=N({},I);return delete n[t],D(n),e.filter(e=>e!==t)}return[...e,t]});var t},className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("label",{htmlFor:"course-".concat(e.id),className:"font-semibold text-gray-900 cursor-pointer hover:text-blue-600 block text-sm",children:e.course_name}),(0,mr.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Code:"})," ",e.course_code]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Duration:"})," ",e.duration," months"]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Mode:"}),(0,mr.jsx)("span",{className:"ml-1 px-2 py-0.5 rounded text-xs ".concat("Online"===e.mode?"bg-green-100 text-green-800":"Offline"===e.mode?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e.mode})]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Level:"})," ",e.course_level]})]}),(0,mr.jsx)("div",{className:"mt-3",children:(0,mr.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["\u20b9",e.discounted_price||e.actual_price||"0"]})}),M.includes(e.id)&&(0,mr.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Select Batch *"}),(0,mr.jsxs)("select",{value:I[e.id]||"",onChange:t=>{return n=e.id,r=t.target.value,void D(e=>N(N({},e),{},{[n]:r}));var n,r},className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Choose a batch"}),(t=e.id,C.filter(e=>e.course_id==t||e.courses&&e.courses.some(e=>e.id==t))).map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.batch_name,e.batch_start_time&&" (".concat(P(e.batch_start_time),")")]},e.id))]})]})]})]})},e.id);var t})}),M.length>0&&(0,mr.jsxs)("div",{className:"mt-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[(0,mr.jsx)("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"Enrollment Summary"}),(0,mr.jsxs)("div",{className:"space-y-3",children:[M.map(e=>{const t=j.find(t=>t.id==e),n=C.find(t=>t.id==I[e]);return t?(0,mr.jsxs)("div",{className:"flex justify-between items-center py-3 px-4 bg-white rounded-lg border border-gray-200",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("div",{className:"font-semibold text-gray-800",children:t.course_name}),n&&(0,mr.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Batch:"})," ",n.batch_name]})]}),(0,mr.jsx)("div",{className:"text-right",children:(0,mr.jsxs)("div",{className:"font-bold text-green-600",children:["\u20b9",t.discounted_price||t.actual_price||"0"]})})]},e):null}),(0,mr.jsx)("div",{className:"border-t border-blue-200 pt-3 mt-2",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center font-bold text-lg",children:[(0,mr.jsx)("span",{className:"text-gray-800",children:"Total Fee:"}),(0,mr.jsxs)("span",{className:"text-blue-600",children:["\u20b9",T]})]})})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"Admission Details"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Admission Date *"}),(0,mr.jsx)("input",{type:"date",value:b,onChange:e=>y(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Select Branch *"}),(0,mr.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Branch --"}),k.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.branch_name," - ",e.city]},e.id))]})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Total Course Fee"}),(0,mr.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-6 py-4",children:[(0,mr.jsxs)("div",{className:"text-2xl font-bold text-green-600 text-center",children:["\u20b9",T]}),(0,mr.jsxs)("div",{className:"text-sm text-gray-600 text-center mt-1",children:["Total for ",M.length," course(s)"]})]})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[(0,mr.jsx)("button",{type:"button",onClick:U,className:"px-8 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition duration-200 font-medium",disabled:E,children:"Reset Form"}),(0,mr.jsx)("button",{type:"submit",disabled:E||0===M.length,className:"px-8 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold",children:E?"Creating Student...":"Add Student"})]})]})]})}function __(){const[e,n]=(0,t.useState)("addStudent"),[r,s]=(0,t.useState)(!1);return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"flex h-full relative",children:[(0,mr.jsx)("button",{onClick:()=>s(!r),className:"md:hidden fixed top-20 left-4 bg-white p-3 rounded-full shadow-lg border border-gray-200","aria-label":"Toggle sidebar",children:r?"\u2715":"\u2630"}),(0,mr.jsxs)("div",{className:"fixed top-0 left-0 h-full w-64 bg-white shadow-xl p-6 space-y-2 transform transition-transform duration-300 ease-in-out\n            ".concat(r?"translate-x-0":"-translate-x-full","\n            md:translate-x-0 md:static md:shadow-none"),children:[(0,mr.jsx)("div",{className:"mb-6 pb-4 border-b border-gray-200",children:(0,mr.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:"Student Management"})}),(0,mr.jsx)("button",{onClick:()=>n("addStudent"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("addStudent"===e?"bg-blue-100 text-blue-700 border border-blue-200":"hover:bg-gray-100 text-gray-700"),children:"\u2795 Add Student"}),(0,mr.jsx)("button",{onClick:()=>n("studentList"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("studentList"===e?"bg-blue-100 text-blue-700 border border-blue-200":"hover:bg-gray-100 text-gray-700"),children:"\ud83d\udccb All Students"}),(0,mr.jsx)("button",{onClick:()=>n("idCard"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("idCard"===e?"bg-blue-100 text-blue-700 border border-blue-200":"hover:bg-gray-100 text-gray-700"),children:"\u2795 ID Cards"}),(0,mr.jsx)("button",{onClick:()=>n("academic"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("academic"===e?"bg-blue-100 text-blue-700 border border-blue-200":"hover:bg-gray-100 text-gray-700"),children:"\ud83d\udcca Student Progress"})]}),r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-30 md:hidden",onClick:()=>s(!1)}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto bg-gray-50",children:["addStudent"===e&&(0,mr.jsx)(N_,{}),"studentList"===e&&(0,mr.jsx)(f_,{}),"idCard"===e&&(0,mr.jsx)(x_,{}),"academic"===e&&(0,mr.jsx)(j_,{})]})]})})}var C_=n(7275),S_=n(4410),k_=n(9956),B_=n.n(k_);const E_=function(){const[e,n]=(0,t.useState)({batch_name:"",course_id:"",branch_id:"",start_date:"",end_date:"",student_limit:"",batch_start_time:"",batch_end_time:""}),[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});i(t.data||[])}catch(e){console.error("Error fetching courses:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name}));l(t)}catch(e){console.error("Error fetching branches:",e)}})()},[]);const c=t=>{n(N(N({},e),{},{[t.target.name]:t.target.value}))};return(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:5e3}),(0,mr.jsx)("h1",{className:"text-[30px] mb-6 font-semibold font-nunito",children:"Batch Management"}),(0,mr.jsx)("div",{className:"max-w-xl w-[500px] bg-white shadow-lg rounded-2xl p-6 border border-gray-200",children:(0,mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0);try{const t=localStorage.getItem("token");await Ua.post("/batches/create",e,{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Batch created successfully!"),n({batch_name:"",course_id:"",branch_id:"",start_date:"",end_date:"",student_limit:"",batch_start_time:"",batch_end_time:""})}catch(r){console.error(r),pi.error("Error creating batch")}finally{s(!1)}},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Batch Name"}),(0,mr.jsx)("input",{type:"text",name:"batch_name",value:e.batch_name,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Branch"}),0===o.length?(0,mr.jsx)("p",{className:"text-gray-500 text-sm",children:"No branches available"}):(0,mr.jsxs)("select",{name:"branch_id",value:e.branch_id,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2",children:[(0,mr.jsx)("option",{value:"",children:"-- Select Branch --"}),o.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branchName},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Course"}),0===a.length?(0,mr.jsx)("p",{className:"text-gray-500 text-sm",children:"No courses available"}):(0,mr.jsxs)("select",{name:"course_id",value:e.course_id,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2",children:[(0,mr.jsx)("option",{value:"",children:"-- Select Course --"}),a.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Start Date"}),(0,mr.jsx)("input",{type:"date",name:"start_date",value:e.start_date,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"End Date"}),(0,mr.jsx)("input",{type:"date",name:"end_date",value:e.end_date,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Batch Start Time"}),(0,mr.jsx)("input",{type:"time",name:"batch_start_time",value:e.batch_start_time,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Batch End Time"}),(0,mr.jsx)("input",{type:"time",name:"batch_end_time",value:e.batch_end_time,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Student Limit"}),(0,mr.jsx)("input",{type:"number",name:"student_limit",value:e.student_limit,onChange:c,required:!0,min:"1",className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-xl shadow-md hover:bg-blue-700 transition",children:r?"Creating...":"Create Batch"})]})})]})};const L_=function(){var e,n;const[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!0),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)({batch_name:"",student_limit:"",start_date:"",end_date:"",batch_start_time:"",batch_end_time:"",course_id:"",branch_id:""}),v=e=>{if(!e)return"N/A";try{let t=e.split(":");if(t.length>=2){let e=parseInt(t[0]),n=t[1];const r=e>=12?"PM":"AM";return e%=12,e=e||12,"".concat(e,":").concat(n," ").concat(r)}return e}catch(t){return console.error("Error formatting time:",t),e}},w=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}}),n=Array.isArray(t.data)?t.data:t.data.data||[];s(n),i(n)}catch(e){console.error("Error fetching batches:",e)}finally{h(!1)}};return(0,t.useEffect)(()=>{w(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});l(t.data.data||t.data)}catch(e){console.error("Error fetching branches:",e)}})()},[]),(0,t.useEffect)(()=>{if(c){const e=r.filter(e=>String(e.branch_id)===String(c));i(e)}else i(r)},[c,r]),(0,mr.jsx)("div",{className:"p-6 bg-gray-50 min-h-screen",children:(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,mr.jsxs)("h1",{className:"text-3xl font-bold text-gray-800 mb-8 font-nunito flex items-center",children:[(0,mr.jsx)("span",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)(Mo,{className:"text-blue-600"})}),"All Batches"]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4 mb-8 flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)(Oo,{className:"text-gray-500 mr-2"}),(0,mr.jsx)("span",{className:"text-gray-700 font-medium",children:"Filter by Branch:"})]}),(0,mr.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"border border-gray-300 rounded-lg px-4 py-2 w-64 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),o.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),u?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):0===a.length?(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-8 text-center",children:[(0,mr.jsx)("div",{className:"text-gray-400 text-5xl mb-4",children:"\ud83d\udcda"}),(0,mr.jsx)("h3",{className:"text-xl font-medium text-gray-700 mb-2",children:"No batches found"}),(0,mr.jsx)("p",{className:"text-gray-500",children:c?"No batches available for the selected branch":"No batches available"})]}):(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 gap-6",children:a.map(e=>{var t,n;return(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm hover:shadow-md transition-shadow duration-300 overflow-hidden border border-gray-100",children:[(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("div",{className:"flex justify-between items-start mb-4",children:(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800 truncate",children:e.batch_name})}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,mr.jsx)("span",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:"\ud83c\udf93"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"Course"}),(0,mr.jsx)("p",{className:"text-sm",children:(null===(t=e.course)||void 0===t?void 0:t.course_name)||"N/A"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,mr.jsx)("span",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:"\ud83c\udfe2"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"Branch"}),(0,mr.jsx)("p",{className:"text-sm",children:(null===(n=e.branch)||void 0===n?void 0:n.branch_name)||"N/A"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,mr.jsx)("span",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:"\ud83d\udc65"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"Student Limit"}),(0,mr.jsxs)("p",{className:"text-sm",children:[e.student_limit," students"]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,mr.jsx)("span",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:"\ud83d\udcc5"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"Start Date"}),(0,mr.jsx)("p",{className:"text-sm",children:e.start_date})]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,mr.jsx)("span",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:"\ud83d\udcc5"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"End Date"}),(0,mr.jsx)("p",{className:"text-sm",children:e.end_date})]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,mr.jsx)("span",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:"\u23f0"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"Start Time"}),(0,mr.jsx)("p",{className:"text-sm",children:v(e.batch_start_time)})]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-600",children:[(0,mr.jsx)("span",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:"\u23f0"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"End Time"}),(0,mr.jsx)("p",{className:"text-sm",children:v(e.batch_end_time)})]})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3",children:[(0,mr.jsx)("button",{className:"text-blue-600 hover:text-blue-800 p-2 rounded-full hover:bg-blue-50 transition-colors",onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await Ua.get("/batches/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),r=n.data.data?n.data.data:n.data;f(r),p(!0)}catch(t){console.error("Error fetching batch:",t)}})(e.id),title:"View batch details",children:(0,mr.jsx)(Mo,{size:16})}),(0,mr.jsx)("button",{className:"text-yellow-600 hover:text-yellow-800 p-2 rounded-full hover:bg-yellow-50 transition-colors",onClick:()=>(async e=>{try{var t;const n=localStorage.getItem("token"),r=await Ua.get("/batches/show/".concat(e),{headers:{Authorization:"Bearer ".concat(n)}}),s=r.data.data?r.data.data:r.data;f(s),y({batch_name:s.batch_name||"",student_limit:s.student_limit||"",start_date:s.start_date||"",end_date:s.end_date||"",batch_start_time:s.batch_start_time||"",batch_end_time:s.batch_end_time||"",course_id:s.course_id||"",branch_id:s.branch_id||"",course_name:(null===(t=s.course)||void 0===t?void 0:t.course_name)||""}),x(!0)}catch(n){console.error("Error loading batch for edit:",n)}})(e.id),title:"Edit batch",children:(0,mr.jsx)(ko,{size:16})}),(0,mr.jsx)("button",{className:"text-red-600 hover:text-red-800 p-2 rounded-full hover:bg-red-50 transition-colors",onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this batch?"))try{const t=localStorage.getItem("token");await Ua.delete("/batches/destroy/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),alert("Batch deleted successfully!"),s(r.filter(t=>t.id!==e))}catch(t){console.error("Error deleting batch:",t)}})(e.id),title:"Delete batch",children:(0,mr.jsx)(hl,{size:16})})]})]},e.id)})}),m&&A&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md relative",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:A.batch_name}),(0,mr.jsx)("button",{className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100",onClick:()=>p(!1),children:(0,mr.jsx)(cl,{size:20})})]}),(0,mr.jsxs)("div",{className:"p-6 space-y-4",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"text-gray-500 w-32",children:"Course:"}),(0,mr.jsxs)("span",{className:"font-medium",children:["\ud83c\udf93 ",(null===(e=A.course)||void 0===e?void 0:e.course_name)||"N/A"]})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"text-gray-500 w-32",children:"Branch:"}),(0,mr.jsxs)("span",{className:"font-medium",children:["\ud83c\udfe2 ",(null===(n=A.branch)||void 0===n?void 0:n.branch_name)||"N/A"]})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"text-gray-500 w-32",children:"Student Limit:"}),(0,mr.jsxs)("span",{className:"font-medium",children:["\ud83d\udc65 ",A.student_limit]})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"text-gray-500 w-32",children:"Start Date:"}),(0,mr.jsxs)("span",{className:"font-medium",children:["\ud83d\udcc5 ",A.start_date]})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"text-gray-500 w-32",children:"End Date:"}),(0,mr.jsxs)("span",{className:"font-medium",children:["\ud83d\udcc5 ",A.end_date]})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"text-gray-500 w-32",children:"Start Time:"}),(0,mr.jsxs)("span",{className:"font-medium",children:["\u23f0 ",v(A.batch_start_time)]})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"text-gray-500 w-32",children:"End Time:"}),(0,mr.jsxs)("span",{className:"font-medium",children:["\u23f0 ",v(A.batch_end_time)]})]})]}),(0,mr.jsx)("div",{className:"bg-gray-50 px-6 py-4 rounded-b-xl flex justify-end",children:(0,mr.jsx)("button",{className:"bg-blue-600 text-white px-4 py-2 rounded-lg hover:bg-blue-700 transition-colors",onClick:()=>p(!1),children:"Close"})})]})}),g&&A&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl w-full max-w-md relative max-h-screen overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b sticky top-0 bg-white z-10",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Edit Batch"}),(0,mr.jsx)("button",{className:"text-gray-500 hover:text-gray-700 p-1 rounded-full hover:bg-gray-100",onClick:()=>x(!1),children:(0,mr.jsx)(cl,{size:20})})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(!b.batch_name||!b.start_date||!b.end_date||!b.student_limit||!b.batch_start_time||!b.batch_end_time)return void alert("Please fill in all fields");const e=localStorage.getItem("token"),t={batch_name:b.batch_name,start_date:b.start_date,end_date:b.end_date,student_limit:parseInt(b.student_limit),batch_start_time:b.batch_start_time,batch_end_time:b.batch_end_time};console.log("Sending update data:",t);const n=await Ua.put("/batches/update/".concat(A.id),t,{headers:{Authorization:"Bearer ".concat(e)}});console.log("Update response:",n.data),alert("Batch updated successfully!"),x(!1),w()}catch(t){console.error("Error updating batch:",t),t.response&&(console.error("Response data:",t.response.data),alert("Error: ".concat(t.response.data.message||"Update failed")))}},className:"p-6 space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch Name"}),(0,mr.jsx)("input",{type:"text",value:b.batch_name,onChange:e=>y(N(N({},b),{},{batch_name:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Student Limit"}),(0,mr.jsx)("input",{type:"number",value:b.student_limit,onChange:e=>y(N(N({},b),{},{student_limit:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0,min:"1"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Date"}),(0,mr.jsx)("input",{type:"date",value:b.start_date,onChange:e=>y(N(N({},b),{},{start_date:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Date"}),(0,mr.jsx)("input",{type:"date",value:b.end_date,onChange:e=>y(N(N({},b),{},{end_date:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Start Time"}),(0,mr.jsx)("input",{type:"time",value:b.batch_start_time,onChange:e=>y(N(N({},b),{},{batch_start_time:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"End Time"}),(0,mr.jsx)("input",{type:"time",value:b.batch_end_time,onChange:e=>y(N(N({},b),{},{batch_end_time:e.target.value})),className:"w-full border border-gray-300 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:border-blue-500",required:!0})]})]}),(0,mr.jsx)("div",{className:"pt-4",children:(0,mr.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-3 rounded-lg font-medium hover:bg-blue-700 transition-colors",children:"Update Batch"})})]})]})})]})})};var M_=n(1869),F_=n.n(M_);function I_(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)("Online"),[c,d]=(0,t.useState)("Beginner"),[u,h]=(0,t.useState)(S_.EditorState.createEmpty()),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)([]),[v,w]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff/active-trainers",{headers:{Authorization:"Bearer ".concat(e)}});p(t.data||[])}catch(e){console.error("Error fetching staff:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name,branch_code:e.branch_code||"BR-"+e.id,city:e.city,state:e.state,contact:e.contact_number,email:e.email,status:e.status,opening_date:e.opening_date,pin_code:e.pin_code||"",address:e.address||"",branch_type:e.branch_type||"Main"}));y(t)}catch(e){console.error("Error fetching branches:",e)}})()},[]);return(0,mr.jsxs)("div",{className:"p-6 w-full bg-[#F4F9FD]",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,mr.jsx)("h1",{className:"text-[30px] mb-2 font-semibold font-nunito",children:"Create Course"}),(0,mr.jsxs)("form",{className:"space-y-8",onSubmit:async t=>{t.preventDefault();const f=localStorage.getItem("token"),m={course_name:e,course_category:r,duration:a,mode:o,course_level:c,discounted_price:A,course_description:B_()((0,S_.convertToRaw)(u.getCurrentContent())),trainer_id:g,branch_id:v};try{const e=await Ua.post("/courses/store",m,{headers:{Authorization:"Bearer ".concat(f)}});pi.success("\u2705 Course created successfully!"),console.log("Response:",e.data),n(""),s(""),i(""),l("Online"),d("Beginner"),h(S_.EditorState.createEmpty()),x(""),w("")}catch(p){console.error("Error creating course:",p),pi.error("\u274c Failed to create course")}},children:[(0,mr.jsxs)("div",{className:"bg-white shadow-md rounded-xl p-6",children:[(0,mr.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,mr.jsx)("span",{className:"text-blue-600 font-bold",children:"1"})," Basic Information"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Course Name *"}),(0,mr.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),placeholder:"Enter course name",className:"w-full border rounded-lg px-3 py-2 focus:ring focus:ring-blue-200"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Course Category *"}),(0,mr.jsxs)("select",{value:r,onChange:e=>s(e.target.value),className:"w-full border rounded-lg px-3 py-2",children:[(0,mr.jsx)("option",{value:"",children:"Select"}),(0,mr.jsx)("option",{value:"Technical",children:"Technical"}),(0,mr.jsx)("option",{value:"Non-Technical",children:"Non-Technical"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Assign Staff *"}),(0,mr.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"w-full border rounded-lg px-3 py-2",children:[(0,mr.jsx)("option",{value:"",children:"Select Staff"}),m.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.employee_name," (",e.designation,")"]},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Assign Branch *"}),(0,mr.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"w-full border rounded-lg px-3 py-2",children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),b.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.branchName," (",e.city,")"]},e.id))]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-md rounded-xl p-6",children:[(0,mr.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,mr.jsx)("span",{className:"text-blue-600 font-bold",children:"2"})," Course Configuration"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Duration (Months)"}),(0,mr.jsx)("input",{type:"number",value:a,onChange:e=>i(e.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Course Mode *"}),(0,mr.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full border rounded-lg px-3 py-2",children:[(0,mr.jsx)("option",{value:"Online",children:"Online"}),(0,mr.jsx)("option",{value:"Offline",children:"Offline"}),(0,mr.jsx)("option",{value:"Hybrid",children:"Hybrid"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Course Level *"}),(0,mr.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"w-full border rounded-lg px-3 py-2",children:[(0,mr.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,mr.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,mr.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Course Price (\u20b9)"}),(0,mr.jsx)("input",{type:"number",value:A,onChange:e=>f(e.target.value),className:"w-full border rounded-lg px-3 py-2"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-md rounded-xl p-6",children:[(0,mr.jsxs)("h2",{className:"text-lg font-semibold mb-4 flex items-center gap-2",children:[(0,mr.jsx)("span",{className:"text-blue-600 font-bold",children:"3"})," Course Description"]}),(0,mr.jsx)(C_.Editor,{editorState:u,onEditorStateChange:h,wrapperClassName:"border rounded-md",editorClassName:"p-2 min-h-[150px]",toolbar:{options:["inline","list","link","history"]}})]}),(0,mr.jsx)("div",{className:"flex justify-end gap-4",children:(0,mr.jsx)("button",{type:"submit",className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-3xl flex items-center gap-2",children:"\u2728 Create Course"})})]})]})}function D_(){var e,n,r,s,a,i;const[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)({}),[g,x]=(0,t.useState)([]),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)([]),[j,_]=(0,t.useState)(S_.EditorState.createEmpty()),C=async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];l(t);const n=Array.from(new Map(t.filter(e=>null!==e.branch).map(e=>[e.branch.id,e.branch])).values());x(n),h(t)}catch(e){console.error("Error fetching courses:",e)}};(0,t.useEffect)(()=>{h(""===b?o:o.filter(e=>null!==e.branch&&String(e.branch_id)===String(b)))},[b,o]);const S=async(e,t)=>{try{const n=localStorage.getItem("token"),r=await Ua.get("/courses/".concat(e,"/show"),{headers:{Authorization:"Bearer ".concat(n)}});if(d(r.data),p(r.data),f(t),"edit"===t){const e=F_()(r.data.course_description||"");if(e){const t=S_.ContentState.createFromBlockArray(e.contentBlocks);_(S_.EditorState.createWithContent(t))}}}catch(n){console.error("Error fetching course:",n)}},k=e=>{const{name:t,value:n}=e.target;p(N(N({},m),{},{[t]:n}))};return(0,t.useEffect)(()=>{C(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff/active-trainers",{headers:{Authorization:"Bearer ".concat(e)}});w(t.data||[])}catch(e){console.error("Error fetching staff:",e)}})()},[]),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,mr.jsx)("h1",{className:"text-[30px] mb-6 font-semibold font-nunito",children:"All Course Management"}),(0,mr.jsxs)("div",{className:"mb-6 bg-white p-4 rounded-xl shadow-sm",children:[(0,mr.jsx)("label",{className:"mr-3 font-semibold",children:"Filter by Branch:"}),(0,mr.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"border px-4 py-2 rounded-lg focus:ring-2 focus:ring-blue-300",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),g.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),""!==b&&0===u.length&&(0,mr.jsx)("div",{className:"bg-yellow-100 border border-yellow-400 text-yellow-700 px-4 py-3 rounded-xl mb-4",children:"No courses found for the selected branch."}),(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:u.map(e=>{var t,n;return(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-md overflow-hidden transition-all duration-300 hover:shadow-lg",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-4 text-white",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-lg font-bold truncate",children:e.course_name}),(0,mr.jsx)("p",{className:"text-sm opacity-90",children:e.course_code})]}),(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat("Beginner"===e.course_level?"bg-green-200 text-green-800":"Intermediate"===e.course_level?"bg-yellow-200 text-yellow-800":"bg-red-200 text-red-800"),children:e.course_level})]})}),(0,mr.jsxs)("div",{className:"p-4",children:[(0,mr.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[(0,mr.jsx)(jo,{className:"mr-2"}),(0,mr.jsxs)("span",{children:[e.duration," months"]}),(0,mr.jsx)("span",{className:"mx-2",children:"\u2022"}),(0,mr.jsx)("span",{className:"".concat("Online"===e.mode?"text-blue-600":"Offline"===e.mode?"text-purple-600":"text-teal-600"," font-medium"),children:e.mode})]}),(0,mr.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-2",children:[(0,mr.jsx)(Vo,{className:"mr-2"}),(0,mr.jsx)("span",{children:(null===(t=e.branch)||void 0===t?void 0:t.branch_name)||"No branch assigned"})]}),(0,mr.jsxs)("div",{className:"flex items-center text-sm text-gray-600 mb-4",children:[(0,mr.jsx)(pl,{className:"mr-2"}),(0,mr.jsx)("span",{children:(null===(n=e.trainer)||void 0===n?void 0:n.employee_name)||"No trainer assigned"})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"flex items-center text-lg font-bold text-green-700",children:[(0,mr.jsx)(tl,{className:"text-sm"}),(0,mr.jsx)("span",{children:e.discounted_price})]})}),(0,mr.jsx)("span",{className:"bg-gray-100 text-gray-800 text-xs font-medium px-2.5 py-0.5 rounded",children:e.course_category})]}),(0,mr.jsxs)("div",{className:"flex justify-between border-t pt-3",children:[(0,mr.jsxs)("button",{className:"text-blue-600 hover:text-blue-800 flex items-center text-sm font-medium",onClick:()=>S(e.id,"view"),children:[(0,mr.jsx)(Mo,{className:"mr-1"})," View"]}),(0,mr.jsxs)("button",{className:"text-yellow-600 hover:text-yellow-800 flex items-center text-sm font-medium",onClick:()=>S(e.id,"edit"),children:[(0,mr.jsx)(ko,{className:"mr-1"})," Edit"]}),(0,mr.jsxs)("button",{className:"text-red-600 hover:text-red-800 flex items-center text-sm font-medium",onClick:()=>S(e.id,"delete"),children:[(0,mr.jsx)(hl,{className:"mr-1"})," Delete"]})]})]})]},e.id)})}),"view"===A&&c&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/60 backdrop-blur-sm z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-600 to-indigo-700 p-5 text-white rounded-t-3xl flex justify-between items-center shadow-md",children:[(0,mr.jsx)("h2",{className:"text-2xl font-extrabold drop-shadow-md",children:"Course Details"}),(0,mr.jsx)("button",{onClick:()=>f(""),className:"p-2 rounded-full bg-white bg-opacity-20 hover:bg-opacity-40 transition","aria-label":"Close modal",children:"\u2715"})]}),(0,mr.jsxs)("div",{className:"p-8 space-y-8",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl p-6 shadow-inner border border-gray-200",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Basic Information"}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Name:"})," ",c.course_name]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Code:"})," ",c.course_code]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Category:"})," ",c.course_category]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Level:"}),(0,mr.jsx)("span",{className:"ml-2 inline-block px-2 py-1 text-xs font-bold rounded bg-indigo-500 text-white",children:c.course_level})]})]}),(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl p-6 shadow-inner border border-gray-200",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Configuration"}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Mode:"})," ",(0,mr.jsx)("span",{className:"capitalize",children:c.mode})]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Duration:"})," ",c.duration," months"]}),(0,mr.jsxs)("p",{children:[(0,mr.jsxs)("span",{className:"font-semibold text-lg text-indigo-600",children:["Price: \u20b9",c.discounted_price]})," "]})]}),(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-gray-50 to-white rounded-xl p-6 shadow-inner border border-gray-200 col-span-full md:col-span-2",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Assignments"}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Branch:"})," ",(null===(e=c.branch)||void 0===e?void 0:e.branch_name)||"Not assigned"]}),(0,mr.jsxs)("p",{className:"text-sm text-gray-500 mb-2",children:[null===(n=c.branch)||void 0===n?void 0:n.address,", ",null===(r=c.branch)||void 0===r?void 0:r.city,", ",null===(s=c.branch)||void 0===s?void 0:s.state]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Trainer:"})," ",(null===(a=c.trainer)||void 0===a?void 0:a.employee_name)||"Not assigned"]}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:null===(i=c.trainer)||void 0===i?void 0:i.designation})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl p-6 shadow-inner border border-gray-200 prose max-w-none text-gray-700",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold mb-4",children:"Description"}),(0,mr.jsx)("div",{dangerouslySetInnerHTML:{__html:c.course_description}})]})]}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-white p-4 border-t rounded-b-3xl flex justify-end shadow-md",children:(0,mr.jsx)("button",{onClick:()=>f(""),className:"px-6 py-3 bg-indigo-600 text-white rounded-xl font-semibold hover:bg-indigo-700 transition",children:"Close"})})]})}),"edit"===A&&c&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-gradient-to-r from-blue-500 to-indigo-600 p-4 text-white rounded-t-2xl flex justify-between items-center",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold",children:"Edit Course"}),(0,mr.jsx)("button",{onClick:()=>f(""),className:"text-white hover:text-gray-200 text-lg",children:"\u2715"})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Course Name *"}),(0,mr.jsx)("input",{type:"text",name:"course_name",value:m.course_name||"",onChange:k,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-300"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Course Category *"}),(0,mr.jsxs)("select",{name:"course_category",value:m.course_category||"",onChange:k,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-300",children:[(0,mr.jsx)("option",{value:"",children:"Select Category"}),(0,mr.jsx)("option",{value:"Technical",children:"Technical"}),(0,mr.jsx)("option",{value:"Non-Technical",children:"Non-Technical"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Duration (Months)"}),(0,mr.jsx)("input",{type:"number",name:"duration",value:m.duration||"",onChange:k,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-300"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Course Mode *"}),(0,mr.jsxs)("select",{name:"mode",value:m.mode||"",onChange:k,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-300",children:[(0,mr.jsx)("option",{value:"Online",children:"Online"}),(0,mr.jsx)("option",{value:"Offline",children:"Offline"}),(0,mr.jsx)("option",{value:"Hybrid",children:"Hybrid"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Course Level *"}),(0,mr.jsxs)("select",{name:"course_level",value:m.course_level||"",onChange:k,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-300",children:[(0,mr.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,mr.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,mr.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Actual Price (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"discounted_price",value:m.discounted_price,onChange:k,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-300"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Assign Branch"}),(0,mr.jsxs)("select",{name:"branch_id",value:m.branch_id||"",onChange:k,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-300",children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),g.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.branch_name," (",e.city,")"]},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Assign Trainer"}),(0,mr.jsxs)("select",{name:"trainer_id",value:m.trainer_id||"",onChange:k,className:"w-full border rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-300",children:[(0,mr.jsx)("option",{value:"",children:"Select Trainer"}),v.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.employee_name," (",e.designation,")"]},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"mb-6",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2",children:"Course Description"}),(0,mr.jsx)(C_.Editor,{editorState:j,onEditorStateChange:_,wrapperClassName:"border rounded-lg",editorClassName:"p-4 min-h-[200px]",toolbar:{options:["inline","blockType","list","link","history"]}})]})]}),(0,mr.jsxs)("div",{className:"sticky bottom-0 bg-white p-4 border-t rounded-b-2xl flex justify-end gap-3",children:[(0,mr.jsx)("button",{onClick:()=>f(""),className:"px-5 py-2 bg-gray-200 text-gray-800 rounded-lg font-medium hover:bg-gray-300",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t={course_name:m.course_name,course_category:m.course_category,duration:m.duration,mode:m.mode,course_level:m.course_level,discounted_price:m.discounted_price,course_description:B_()((0,S_.convertToRaw)(j.getCurrentContent())),trainer_id:m.trainer_id,branch_id:m.branch_id};await Ua.put("/courses/".concat(c.id,"/update"),t,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success(" Course updated successfully!"),f(""),C()}catch(t){var e;console.error("Update failed:",(null===(e=t.response)||void 0===e?void 0:e.data)||t),pi.error("\u274c Update failed!")}},className:"px-5 py-2 bg-blue-600 text-white rounded-lg font-medium hover:bg-blue-700",children:"Update Course"})]})]})}),"delete"===A&&c&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black/50 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[(0,mr.jsxs)("div",{className:"bg-red-100 p-4 rounded-t-2xl flex items-center",children:[(0,mr.jsx)("div",{className:"bg-red-200 p-3 rounded-full mr-3",children:(0,mr.jsx)(hl,{className:"text-red-600 text-xl"})}),(0,mr.jsx)("h2",{className:"text-xl font-bold text-red-700",children:"Confirm Deletion"})]}),(0,mr.jsx)("div",{className:"p-6",children:(0,mr.jsxs)("p",{className:"text-gray-700 mb-4",children:["Are you sure you want to delete the course ",(0,mr.jsxs)("strong",{children:['"',c.course_name,'"']}),"? This action cannot be undone."]})}),(0,mr.jsxs)("div",{className:"bg-gray-100 p-4 rounded-b-2xl flex justify-end gap-3",children:[(0,mr.jsx)("button",{onClick:()=>f(""),className:"px-5 py-2 bg-gray-300 text-gray-800 rounded-lg font-medium hover:bg-gray-400",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");await Ua.delete("/courses/".concat(c.id,"/destroy"),{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("\u2705 Course deleted successfully!"),f(""),C()}catch(e){console.error("Delete failed:",e),pi.error("\u274c Delete failed!")}},className:"px-5 py-2 bg-red-600 text-white rounded-lg font-medium hover:bg-red-700",children:"Delete Course"})]})]})})]})}function T_(){const[e,n]=(0,t.useState)("addCourse"),[r,s]=(0,t.useState)(!1),a=e=>{n(e),s(!1)};return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"flex h-full relative",children:[(0,mr.jsx)("button",{className:"md:hidden fixed z-4 top-[90px] left-4 bg-white text-black p-3 rounded-full shadow-lg",onClick:()=>s(!0),"aria-label":"Open Menu",children:(0,mr.jsx)(io,{size:22})}),(0,mr.jsxs)("div",{children:[r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-30",onClick:()=>s(!1),"aria-hidden":"true"}),(0,mr.jsxs)("aside",{className:"fixed z-40 top-0 left-0 h-full transition-transform \n              ".concat(r?"translate-x-0":"-translate-x-full"," md:translate-x-0 md:static md:h-auto\n            w-64 bg-white rounded-xl shadow-md p-4 space-y-3\n            flex flex-col"),style:{minWidth:"240px"},children:[(0,mr.jsx)("div",{className:"flex justify-between items-center mb-2 md:hidden",children:(0,mr.jsx)("button",{className:"text-gray-600 bg-gray-100 rounded-full p-2",onClick:()=>s(!1),"aria-label":"Close Menu",children:"\u2715"})}),(0,mr.jsx)("button",{onClick:()=>a("addCourse"),className:"block w-full text-left px-4 py-5 rounded-lg transition-colors ".concat("addCourse"===e?"bg-blue-100 text-black font-semibold":"hover:bg-blue-100 text-black"),children:"\u2795 Add Course"}),(0,mr.jsx)("button",{onClick:()=>a("courseList"),className:"block w-full text-left px-4 py-5 rounded-lg transition-colors ".concat("courseList"===e?"bg-blue-100 text-black font-semibold":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb All Courses"})]})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto md:ml-64 lg:m-4",children:[(0,mr.jsx)("div",{className:"md:hidden h-14"}),"addCourse"===e&&(0,mr.jsx)(I_,{}),"courseList"===e&&(0,mr.jsx)(D_,{}),"batchManagement"===e&&(0,mr.jsx)(E_,{}),"allBatches"===e&&(0,mr.jsx)(L_,{})]})]})})}const O_=function(){const[e,n]=(0,t.useState)({batch_name:"",course_id:"",branch_id:"",start_date:"",end_date:"",student_limit:"",batch_start_time:"",batch_end_time:""}),[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});i(t.data||[])}catch(e){console.error("Error fetching courses:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name}));l(t)}catch(e){console.error("Error fetching branches:",e)}})()},[]);const c=t=>{n(N(N({},e),{},{[t.target.name]:t.target.value}))};return(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:5e3}),(0,mr.jsx)("h1",{className:"text-[30px] mb-6 font-semibold font-nunito",children:"Batch Management"}),(0,mr.jsx)("div",{className:"max-w-xl w-[500px] bg-white shadow-lg rounded-2xl p-6 border border-gray-200",children:(0,mr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),e.batch_start_time!==e.batch_end_time)if(e.batch_start_time>e.batch_end_time)pi.error("Start time cannot be after end time!");else{s(!0);try{const t=localStorage.getItem("token");await Ua.post("/batches/create",e,{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Batch created successfully!"),n({batch_name:"",course_id:"",branch_id:"",start_date:"",end_date:"",student_limit:"",batch_start_time:"",batch_end_time:""})}catch(r){console.error(r),pi.error("Error creating batch")}finally{s(!1)}}else pi.warning("Start and end time cannot be the same!")},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Batch Name"}),(0,mr.jsx)("input",{type:"text",name:"batch_name",value:e.batch_name,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Branch"}),0===o.length?(0,mr.jsx)("p",{className:"text-gray-500 text-sm",children:"No branches available"}):(0,mr.jsxs)("select",{name:"branch_id",value:e.branch_id,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2",children:[(0,mr.jsx)("option",{value:"",children:"-- Select Branch --"}),o.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branchName},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Course"}),0===a.length?(0,mr.jsx)("p",{className:"text-gray-500 text-sm",children:"No courses available"}):(0,mr.jsxs)("select",{name:"course_id",value:e.course_id,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2",children:[(0,mr.jsx)("option",{value:"",children:"-- Select Course --"}),a.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Start Date"}),(0,mr.jsx)("input",{type:"date",name:"start_date",value:e.start_date,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"End Date"}),(0,mr.jsx)("input",{type:"date",name:"end_date",value:e.end_date,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Batch Start Time"}),(0,mr.jsx)("input",{type:"time",name:"batch_start_time",value:e.batch_start_time,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Batch End Time"}),(0,mr.jsx)("input",{type:"time",name:"batch_end_time",value:e.batch_end_time,onChange:c,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Student Limit"}),(0,mr.jsx)("input",{type:"number",name:"student_limit",value:e.student_limit,onChange:c,required:!0,min:"1",className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-xl shadow-md hover:bg-blue-700 transition",children:r?"Creating...":"Create Batch"})]})})]})};const P_=function(){var e,n;const[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!0),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(null),[g,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(!1),[j,_]=(0,t.useState)(null),[C,S]=(0,t.useState)({batch_name:"",student_limit:"",start_date:"",end_date:"",batch_start_time:"",batch_end_time:"",course_id:"",branch_id:""}),k=e=>e?e.substring(0,5):"",B=e=>{if(!e)return"N/A";try{let t=e.split(":").slice(0,2).join(":").split(":");if(t.length>=2){let e=parseInt(t[0]),n=t[1];const r=e>=12?"PM":"AM";return e%=12,e=e||12,"".concat(e,":").concat(n," ").concat(r)}return e}catch(t){return console.error("Error formatting time:",t),e}},E=async()=>{try{h(!0);const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}}),n=Array.isArray(t.data)?t.data:t.data.data||[];s(n),i(n)}catch(e){console.error("Error fetching batches:",e)}finally{h(!1)}};(0,t.useEffect)(()=>{E(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});l(t.data.data||t.data)}catch(e){console.error("Error fetching branches:",e)}})()},[]),(0,t.useEffect)(()=>{let e=r;c&&(e=e.filter(e=>String(e.branch_id)===String(c))),A&&(e=e.filter(e=>{var t,n,r,s,a;return(null===(t=e.batch_name)||void 0===t?void 0:t.toLowerCase().includes(A.toLowerCase()))||(null===(n=e.course)||void 0===n||null===(r=n.course_name)||void 0===r?void 0:r.toLowerCase().includes(A.toLowerCase()))||(null===(s=e.branch)||void 0===s||null===(a=s.branch_name)||void 0===a?void 0:a.toLowerCase().includes(A.toLowerCase()))})),i(e)},[c,r,A]);const L=()=>{d(""),f("")};return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,mr.jsxs)("div",{className:"text-center mb-8 animate-fade-in",children:[(0,mr.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-3 font-nunito bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"All Batches"}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage and view all training batches"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8 animate-slide-up",children:[(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 border-l-4 border-blue-500",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-xl mr-4",children:(0,mr.jsx)(xl,{className:"text-blue-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Batches"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:r.length})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 border-l-4 border-green-500",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-xl mr-4",children:(0,mr.jsx)(lo,{className:"text-green-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Branches"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:o.length})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 border-l-4 border-purple-500",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-purple-100 p-3 rounded-xl mr-4",children:(0,mr.jsx)(Oo,{className:"text-purple-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Filtered"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:a.length})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 border-l-4 border-orange-500",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-orange-100 p-3 rounded-xl mr-4",children:(0,mr.jsx)(Uo,{className:"text-orange-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Active"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:r.filter(e=>new Date(e.end_date)>=new Date).length})]})]})})]}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8 animate-slide-up",children:(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center w-full lg:w-auto",children:[(0,mr.jsx)(Oo,{className:"text-blue-600 mr-3 text-xl"}),(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Filters & Search"})]}),(0,mr.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 w-full lg:w-auto",children:[(0,mr.jsxs)("div",{className:"relative flex-1",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search batches...",value:A,onChange:e=>f(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"}),(0,mr.jsx)("div",{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400",children:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})})]}),(0,mr.jsxs)("select",{value:c,onChange:e=>d(e.target.value),className:"px-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300 bg-white",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),o.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]}),(0,mr.jsxs)("button",{onClick:L,className:"px-6 py-3 bg-blue-500 text-white rounded-xl hover:bg-blue-400 transition-all duration-300 font-medium flex items-center justify-center",children:[(0,mr.jsx)(cl,{className:"mr-2"}),"Reset"]})]})]})}),u?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64 animate-pulse",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mx-auto mb-4"}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading batches..."})]})}):0===a.length?(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center animate-fade-in",children:[(0,mr.jsx)("div",{className:"text-6xl mb-6",children:"\ud83d\udcda"}),(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-700 mb-4",children:"No batches found"}),(0,mr.jsx)("p",{className:"text-gray-500 text-lg mb-6",children:c||A?"No batches match your current filters. Try adjusting your search criteria.":"No batches available in the system."}),(c||A)&&(0,mr.jsx)("button",{onClick:L,className:"bg-blue-600 text-white px-8 py-3 rounded-xl hover:bg-blue-700 transition-all duration-300 font-medium",children:"Clear Filters"})]}):(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 animate-fade-in",children:a.map((e,t)=>{var n,r;return(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 transform hover:-translate-y-2 overflow-hidden border border-gray-100 animate-fade-in-up",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsx)("h3",{className:"text-xl font-bold truncate pr-2",children:e.batch_name}),(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat(new Date(e.end_date)>=new Date?"bg-green-500":"bg-red-500"),children:new Date(e.end_date)>=new Date?"Active":"Completed"})]}),(0,mr.jsx)("p",{className:"text-blue-100 text-sm mt-1",children:(null===(n=e.course)||void 0===n?void 0:n.course_name)||"No Course Assigned"})]}),(0,mr.jsxs)("div",{className:"p-6 space-y-4",children:[(0,mr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,mr.jsx)("div",{className:"bg-blue-50 p-2 rounded-lg mr-3",children:(0,mr.jsx)(lo,{className:"text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"Branch"}),(0,mr.jsx)("p",{className:"text-sm",children:(null===(r=e.branch)||void 0===r?void 0:r.branch_name)||"N/A"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,mr.jsx)("div",{className:"bg-green-50 p-2 rounded-lg mr-3",children:(0,mr.jsx)(xl,{className:"text-green-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"Student Limit"}),(0,mr.jsxs)("p",{className:"text-sm",children:[e.student_limit," students"]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,mr.jsx)("div",{className:"bg-purple-50 p-2 rounded-lg mr-3",children:(0,mr.jsx)(ho,{className:"text-purple-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"Start"}),(0,mr.jsx)("p",{className:"text-xs",children:e.start_date})]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,mr.jsx)("div",{className:"bg-orange-50 p-2 rounded-lg mr-3",children:(0,mr.jsx)(ho,{className:"text-orange-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"End"}),(0,mr.jsx)("p",{className:"text-xs",children:e.end_date})]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,mr.jsx)("div",{className:"bg-indigo-50 p-2 rounded-lg mr-3",children:(0,mr.jsx)(jo,{className:"text-indigo-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"Start Time"}),(0,mr.jsx)("p",{className:"text-xs",children:B(e.batch_start_time)})]})]}),(0,mr.jsxs)("div",{className:"flex items-center text-gray-700",children:[(0,mr.jsx)("div",{className:"bg-pink-50 p-2 rounded-lg mr-3",children:(0,mr.jsx)(jo,{className:"text-pink-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium",children:"End Time"}),(0,mr.jsx)("p",{className:"text-xs",children:B(e.batch_end_time)})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 px-6 py-4 flex justify-end space-x-3 border-t border-gray-200",children:[(0,mr.jsx)("button",{className:"text-blue-600 hover:text-blue-800 p-3 rounded-xl hover:bg-blue-50 transition-all duration-300 transform hover:scale-110",onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await Ua.get("/batches/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),r=n.data.data?n.data.data:n.data;p(r),x(!0)}catch(t){console.error("Error fetching batch:",t)}})(e.id),title:"View batch details",children:(0,mr.jsx)(Mo,{size:18})}),(0,mr.jsx)("button",{className:"text-yellow-600 hover:text-yellow-800 p-3 rounded-xl hover:bg-yellow-50 transition-all duration-300 transform hover:scale-110",onClick:()=>(async e=>{try{var t;const n=localStorage.getItem("token"),r=await Ua.get("/batches/show/".concat(e),{headers:{Authorization:"Bearer ".concat(n)}}),s=r.data.data?r.data.data:r.data;p(s),S({batch_name:s.batch_name||"",student_limit:s.student_limit||"",start_date:s.start_date||"",end_date:s.end_date||"",batch_start_time:k(s.batch_start_time),batch_end_time:k(s.batch_end_time),course_id:s.course_id||"",branch_id:s.branch_id||"",course_name:(null===(t=s.course)||void 0===t?void 0:t.course_name)||""}),y(!0)}catch(n){console.error("Error loading batch for edit:",n)}})(e.id),title:"Edit batch",children:(0,mr.jsx)(ko,{size:18})}),(0,mr.jsx)("button",{className:"text-red-600 hover:text-red-800 p-3 rounded-xl hover:bg-red-50 transition-all duration-300 transform hover:scale-110",onClick:()=>(e=>{_(e),w(!0)})(e),title:"Delete batch",children:(0,mr.jsx)(hl,{size:18})})]})]},e.id)})}),g&&m&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4 animate-fade-in",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md relative animate-scale-in",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-t-2xl",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:m.batch_name}),(0,mr.jsx)("button",{className:"text-white hover:text-gray-200 p-2 rounded-xl hover:bg-white hover:bg-opacity-20 transition-all duration-300",onClick:()=>x(!1),children:(0,mr.jsx)(cl,{size:24})})]}),(0,mr.jsxs)("div",{className:"p-6 space-y-4",children:[(0,mr.jsxs)("div",{className:"flex items-center p-3 bg-blue-50 rounded-xl",children:[(0,mr.jsx)(Uo,{className:"text-blue-600 mr-3"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Course:"}),(0,mr.jsx)("span",{className:"font-medium ml-2",children:(null===(e=m.course)||void 0===e?void 0:e.course_name)||"N/A"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center p-3 bg-green-50 rounded-xl",children:[(0,mr.jsx)(lo,{className:"text-green-600 mr-3"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Branch:"}),(0,mr.jsx)("span",{className:"font-medium ml-2",children:(null===(n=m.branch)||void 0===n?void 0:n.branch_name)||"N/A"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center p-3 bg-purple-50 rounded-xl",children:[(0,mr.jsx)(xl,{className:"text-purple-600 mr-3"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Student Limit:"}),(0,mr.jsx)("span",{className:"font-medium ml-2",children:m.student_limit})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center p-3 bg-orange-50 rounded-xl",children:[(0,mr.jsx)(ho,{className:"text-orange-600 mr-3"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Start:"}),(0,mr.jsx)("p",{className:"font-medium text-sm",children:m.start_date})]})]}),(0,mr.jsxs)("div",{className:"flex items-center p-3 bg-red-50 rounded-xl",children:[(0,mr.jsx)(ho,{className:"text-red-600 mr-3"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"End:"}),(0,mr.jsx)("p",{className:"font-medium text-sm",children:m.end_date})]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center p-3 bg-indigo-50 rounded-xl",children:[(0,mr.jsx)(jo,{className:"text-indigo-600 mr-3"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Start Time:"}),(0,mr.jsx)("p",{className:"font-medium text-sm",children:B(m.batch_start_time)})]})]}),(0,mr.jsxs)("div",{className:"flex items-center p-3 bg-pink-50 rounded-xl",children:[(0,mr.jsx)(jo,{className:"text-pink-600 mr-3"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"End Time:"}),(0,mr.jsx)("p",{className:"font-medium text-sm",children:B(m.batch_end_time)})]})]})]})]}),(0,mr.jsx)("div",{className:"bg-gray-50 px-6 py-4 rounded-b-2xl flex justify-end",children:(0,mr.jsx)("button",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl hover:from-blue-600 hover:to-purple-700 transition-all duration-300 font-medium",onClick:()=>x(!1),children:"Close"})})]})}),b&&m&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4 animate-fade-in",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md relative animate-scale-in max-h-screen overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-yellow-500 to-orange-600 text-white rounded-t-2xl sticky top-0 bg-white z-10",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:"Edit Batch"}),(0,mr.jsx)("button",{className:"text-white hover:text-gray-200 p-2 rounded-xl hover:bg-white hover:bg-opacity-20 transition-all duration-300",onClick:()=>y(!1),children:(0,mr.jsx)(cl,{size:24})})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{if(!C.batch_name||!C.start_date||!C.end_date||!C.student_limit||!C.batch_start_time||!C.batch_end_time)return void pi.error("Please fill in all fields");const e=localStorage.getItem("token"),t={batch_name:C.batch_name,start_date:C.start_date,end_date:C.end_date,student_limit:parseInt(C.student_limit),batch_start_time:C.batch_start_time,batch_end_time:C.batch_end_time};await Ua.put("/batches/update/".concat(m.id),t,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Batch updated successfully!"),y(!1),E()}catch(t){console.error("Error updating batch:",t),t.response&&pi.error("Error: ".concat(t.response.data.message||"Update failed"))}},className:"p-6 space-y-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Batch Name"}),(0,mr.jsx)("input",{type:"text",value:C.batch_name,onChange:e=>S(N(N({},C),{},{batch_name:e.target.value})),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-300",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Student Limit"}),(0,mr.jsx)("input",{type:"number",value:C.student_limit,onChange:e=>S(N(N({},C),{},{student_limit:e.target.value})),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-300",required:!0,min:"1"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date"}),(0,mr.jsx)("input",{type:"date",value:C.start_date,onChange:e=>S(N(N({},C),{},{start_date:e.target.value})),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-300",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date"}),(0,mr.jsx)("input",{type:"date",value:C.end_date,onChange:e=>S(N(N({},C),{},{end_date:e.target.value})),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-300",required:!0})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Time"}),(0,mr.jsx)("input",{type:"time",value:C.batch_start_time,onChange:e=>S(N(N({},C),{},{batch_start_time:e.target.value})),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-300",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Time"}),(0,mr.jsx)("input",{type:"time",value:C.batch_end_time,onChange:e=>S(N(N({},C),{},{batch_end_time:e.target.value})),className:"w-full border border-gray-300 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-yellow-500 transition-all duration-300",required:!0})]})]}),(0,mr.jsx)("div",{className:"pt-4",children:(0,mr.jsx)("button",{type:"submit",className:"w-full bg-gradient-to-r from-yellow-500 to-orange-600 text-white py-4 rounded-xl font-semibold hover:from-yellow-600 hover:to-orange-700 transition-all duration-300 transform hover:scale-105",children:"Update Batch"})})]})]})}),v&&j&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center z-50 p-4 animate-fade-in",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-md relative animate-scale-in",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b bg-gradient-to-r from-red-500 to-pink-600 text-white rounded-t-2xl",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:"Confirm Delete"}),(0,mr.jsx)("button",{className:"text-white hover:text-gray-200 p-2 rounded-xl hover:bg-white hover:bg-opacity-20 transition-all duration-300",onClick:()=>w(!1),children:(0,mr.jsx)(cl,{size:24})})]}),(0,mr.jsxs)("div",{className:"p-6 text-center",children:[(0,mr.jsx)("div",{className:"text-red-500 text-6xl mb-4",children:"\u26a0\ufe0f"}),(0,mr.jsxs)("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:["Delete ",j.batch_name,"?"]}),(0,mr.jsx)("p",{className:"text-gray-600 mb-6",children:"This action cannot be undone. All data associated with this batch will be permanently deleted."}),(0,mr.jsxs)("div",{className:"flex space-x-4 justify-center",children:[(0,mr.jsx)("button",{onClick:()=>w(!1),className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-xl hover:bg-gray-400 transition-all duration-300 font-medium",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{if(j)try{const e=localStorage.getItem("token");await Ua.delete("/batches/destroy/".concat(j.id),{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Batch deleted successfully!"),s(r.filter(e=>e.id!==j.id)),w(!1),_(null)}catch(e){console.error("Error deleting batch:",e),pi.error("Error deleting batch. Please try again.")}},className:"px-6 py-3 bg-red-600 text-white rounded-xl hover:bg-red-700 transition-all duration-300 font-medium",children:"Delete Batch"})]})]})]})})]}),(0,mr.jsx)("style",{jsx:!0,children:"\n        @keyframes fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n        @keyframes slide-up {\n          from { transform: translateY(20px); opacity: 0; }\n          to { transform: translateY(0); opacity: 1; }\n        }\n        @keyframes fade-in-up {\n          from { transform: translateY(30px); opacity: 0; }\n          to { transform: translateY(0); opacity: 1; }\n        }\n        @keyframes scale-in {\n          from { transform: scale(0.9); opacity: 0; }\n          to { transform: scale(1); opacity: 1; }\n        }\n        .animate-fade-in { animation: fade-in 0.5s ease-out; }\n        .animate-slide-up { animation: slide-up 0.6s ease-out; }\n        .animate-fade-in-up { animation: fade-in-up 0.5s ease-out; }\n        .animate-scale-in { animation: scale-in 0.3s ease-out; }\n      "})]})};function U_(){const[e,n]=(0,t.useState)("batchManagement"),[r,s]=(0,t.useState)(!1);return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"flex h-full relative",children:[(0,mr.jsx)("button",{className:"md:hidden fixed z-4 top-[90px] left-4 bg-white text-black p-3 rounded-full shadow-lg",onClick:()=>s(!0),"aria-label":"Open Menu",children:(0,mr.jsx)(io,{size:22})}),(0,mr.jsxs)("div",{children:[r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 z-30",onClick:()=>s(!1),"aria-hidden":"true"}),(0,mr.jsxs)("aside",{className:"fixed z-40 top-0 left-0 h-full transition-transform \n              ".concat(r?"translate-x-0":"-translate-x-full"," md:translate-x-0 md:static md:h-auto\n            w-64 bg-white rounded-xl shadow-md p-4 space-y-3\n            flex flex-col"),style:{minWidth:"240px"},children:[(0,mr.jsx)("div",{className:"flex justify-between items-center mb-2 md:hidden",children:(0,mr.jsx)("button",{className:"text-gray-600 bg-gray-100 rounded-full p-2",onClick:()=>s(!1),"aria-label":"Close Menu",children:"\u2715"})}),(0,mr.jsx)("button",{onClick:()=>n("batchManagement"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("batchManagement"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\u2795 Add Batches"}),(0,mr.jsx)("button",{onClick:()=>n("allBatches"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("allBatches"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb All Batches"})]})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto md:ml-64 lg:m-4",children:[(0,mr.jsx)("div",{className:"md:hidden h-14"}),"batchManagement"===e&&(0,mr.jsx)(O_,{}),"allBatches"===e&&(0,mr.jsx)(P_,{})]})]})})}const R_=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!1),[A,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[b,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(""),[j,_]=(0,t.useState)("created_at"),[C,S]=(0,t.useState)("desc"),[k,B]=(0,t.useState)({from:"",to:""}),[E,L]=(0,t.useState)([]),[M,F]=(0,t.useState)(!1),[I,D]=(0,t.useState)(null),[T,O]=(0,t.useState)({student_id:"",fee_type:"Tuition",payment_mode:"one-time",number_of_installments:"",coupon_id:"",branch_discount_percent:"",branch_discount_amount:"",branch_id:""}),[P,U]=(0,t.useState)(null),[R,Q]=(0,t.useState)([]),[z,H]=(0,t.useState)(0),[K,W]=(0,t.useState)(""),[V,q]=(0,t.useState)([]),[G,Y]=(0,t.useState)(null),[J,X]=(0,t.useState)(!1),[Z,$]=(0,t.useState)(""),[ee,te]=(0,t.useState)([]),[ne,re]=(0,t.useState)(!1),[se,ae]=(0,t.useState)(""),[ie,oe]=(0,t.useState)([]),[le,ce]=(0,t.useState)(1),[de,ue]=(0,t.useState)(10),[he,Ae]=(0,t.useState)("all"),fe=(0,t.useMemo)(()=>{const e={};return a.forEach(t=>{e[t.id]=t}),e},[a]),me=(0,t.useMemo)(()=>{const e={};return r.forEach(t=>{e[t.id]=t}),e},[r]),pe=(0,t.useMemo)(()=>{const e={};return E.forEach(t=>{e[t.id]=t}),e},[E]),ge=(0,t.useMemo)(()=>{let t=e;return"paid"===he?t=t.filter(e=>0===parseFloat(e.pending_amount||0)):"pending"===he&&(t=t.filter(e=>parseFloat(e.pending_amount||0)>0)),se&&(t=t.filter(e=>{const t=fe[e.student_id];return!!t&&(t.full_name.toLowerCase().includes(se.toLowerCase())||t.admission_number.toLowerCase().includes(se.toLowerCase())||Me(e.course_id).toLowerCase().includes(se.toLowerCase()))})),t=t.filter(e=>{if(!k.from&&!k.to)return!0;const t=new Date(e.created_at);return!(k.from&&t<new Date(k.from))&&!(k.to&&t>new Date(k.to))}),t.sort((e,t)=>{const n=e[j]||"",r=t[j]||"";return"asc"===C?new Date(n)-new Date(r):new Date(r)-new Date(n)})},[e,he,se,fe,k,j,C]),xe=le*de,be=xe-de,ye=ge.slice(be,xe),ve=Math.ceil(ge.length/de),we=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[]),oe(t.data||[])}catch(e){console.error("Error fetching student fees:",e)}},je=async()=>{try{const e=localStorage.getItem("token");if(!e)return;const t=(await Ua.get("branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name,branch_code:e.branch_code||"BR-"+e.id,city:e.city,state:e.state,contact:e.contact_number,email:e.email,status:e.status,opening_date:e.opening_date,discount_range:e.discount_range||"",discount_amount:e.discount_amount||0,pin_code:e.pin_code||"",address:e.address||"",branch_type:e.branch_type||"Main"}));L(t)}catch(e){console.error("Error fetching branches:",e)}},Ne=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});s(t.data||[])}catch(e){console.error("Error fetching courses:",e)}},_e=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});i(t.data||[]),te(t.data||[])}catch(e){console.error("Error fetching students:",e)}},Ce=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/fee-structures",{headers:{Authorization:"Bearer ".concat(e)}});l(t.data||[])}catch(e){console.error("Error fetching fee structures:",e)}},Se=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/coupons",{headers:{Authorization:"Bearer ".concat(e)}});d(t.data||[])}catch(e){console.error("Error fetching coupons:",e)}};(0,t.useEffect)(()=>{(async()=>{X(!0);try{await Promise.all([we(),Ne(),_e(),Ce(),Se(),je()])}catch(e){console.error("Error initializing data:",e)}finally{X(!1)}})()},[]),(0,t.useEffect)(()=>{if(Z){const e=a.filter(e=>e.full_name.toLowerCase().includes(Z.toLowerCase())||e.admission_number.toLowerCase().includes(Z.toLowerCase()));te(e),re(!0)}else te(a),re(!1)},[Z,a]),(0,t.useEffect)(()=>{ce(1)},[se,k,he]);const ke=()=>{if(0===R.length)return 0;return R.reduce((e,t)=>e+parseFloat(t.discounted_price||0),0)};(0,t.useEffect)(()=>{H((()=>{const e=ke();if(T.branch_discount_percent)return e*(1-T.branch_discount_percent/100);if(T.branch_discount_amount){const t=T.branch_discount_amount;return Math.max(0,e-t)}return e})())},[R,T.branch_discount_percent,T.branch_discount_amount]);const Be=(e,t)=>{if(!t||!e)return!0;const n=fe[t];if(!n||!n.branch_id)return!0;const r=pe[n.branch_id];if(!r||!r.discount_range)return!0;const s=r.discount_range;let a,i;if("string"===typeof s){const e=s.split("-").map(Number);a=e[0],i=e[1]}else Array.isArray(s)?(a=Number(s[0]),i=Number(s[1])):"object"===typeof s&&null!==s?(a=Number(s.min||s.min_discount||0),i=Number(s.max||s.max_discount||0)):(a=0,i=Number(s));if(isNaN(a)||isNaN(i))return console.warn("Invalid discount range format:",s),!0;const o=parseFloat(e);return!(o<a||o>i)||(pi.warning("Branch discount must be between ".concat(a,"% and ").concat(i,"% for ").concat(n.full_name,"'s branch (").concat(r.branchName,").")),!1)},Ee=(e,t)=>{if(!t||!e)return!0;const n=pe[t];if(!n||!n.discount_range)return!0;const r=n.discount_range;let s,a;if("string"===typeof r){const e=r.split("-").map(Number);s=e[0],a=e[1]}else Array.isArray(r)?(s=Number(r[0]),a=Number(r[1])):"object"===typeof r&&null!==r?(s=Number(r.min||r.min_discount||0),a=Number(r.max||r.max_discount||0)):(s=0,a=Number(r));if(isNaN(s)||isNaN(a))return console.warn("Invalid discount range format:",r),!0;const i=parseFloat(e);return!(i<s||i>a)||(pi.warning("Branch discount must be between ".concat(s,"% and ").concat(a,"% for this branch.")),!1)},Le=e=>{const t=fe[e];return t?t.full_name:"Student ID: ".concat(e)},Me=e=>{const t=me[e];return t?t.course_name:"Course ID: ".concat(e)},Fe=()=>{h(!1),x(null),$(""),U(null),Q([]),H(0),W("")},Ie=()=>{F(!1),D(null)},De=()=>{p(!1),x(null),w("")},Te=e=>{const{name:t,value:n}=e.target;"branch_discount_percent"===t||"branch_discount_amount"===t?(e=>{const{name:t,value:n}=e.target;if("branch_discount_percent"===t&&n&&T.branch_discount_amount?(pi.warning("You can only apply either percentage discount OR amount discount, not both. The amount discount will be cleared."),O(e=>N(N({},e),{},{branch_discount_amount:""}))):"branch_discount_amount"===t&&n&&T.branch_discount_percent&&(pi.warning("You can only apply either percentage discount OR amount discount, not both. The percentage discount will be cleared."),O(e=>N(N({},e),{},{branch_discount_percent:""}))),n&&P&&P.branch_id)if("branch_discount_percent"===t){if(!Ee(n,P.branch_id))return void O(e=>N(N({},e),{},{[t]:""}))}else if("branch_discount_amount"===t){const e=pe[P.branch_id];if(e&&e.discount_amount&&parseFloat(n)>parseFloat(e.discount_amount))return pi.warning("Branch discount amount cannot exceed \u20b9".concat(e.discount_amount," for this branch.")),void O(e=>N(N({},e),{},{[t]:""}))}O(e=>N(N({},e),{},{[t]:n}))})(e):O(N(N({},T),{},{[t]:n}))},Oe=(0,t.useMemo)(()=>e.reduce((e,t)=>e+parseFloat(t.total_fee||0),0),[e]),Pe=(0,t.useMemo)(()=>e.reduce((e,t)=>e+parseFloat(t.paid_amount||0),0),[e]),Ue=(0,t.useMemo)(()=>e.reduce((e,t)=>e+parseFloat(t.pending_amount||0),0),[e]);return J?(0,mr.jsx)("div",{className:"student-fees-container",children:(0,mr.jsxs)("div",{className:"sf-loading",children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin"}),(0,mr.jsx)("p",{children:"Loading data..."})]})}):(0,mr.jsxs)("div",{className:"student-fees-container",children:[(0,mr.jsx)(Ci,{}),(0,mr.jsx)("header",{className:"sf-header",children:(0,mr.jsxs)("div",{className:"sf-header-content",children:[(0,mr.jsxs)("div",{className:"sf-header-left",children:[(0,mr.jsx)("div",{className:"sf-logo",children:(0,mr.jsx)("i",{className:"fas fa-money-bill-wave"})}),(0,mr.jsxs)("div",{className:"sf-header-text",children:[(0,mr.jsx)("h1",{children:"Student Fee Management"}),(0,mr.jsx)("p",{children:"Manage student fees and payments"})]})]}),(0,mr.jsxs)("button",{onClick:()=>{O({student_id:"",fee_type:"Tuition",payment_mode:"one-time",number_of_installments:"",coupon_id:"",branch_discount_percent:"",branch_discount_amount:"",branch_id:""}),$(""),U(null),Q([]),H(0),W(""),h(!0)},className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-3xl flex items-center gap-2",children:[(0,mr.jsx)("i",{className:"fas fa-plus"}),"Generate Fee"]})]})}),(0,mr.jsxs)("main",{className:"mt-6 mb-4",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 mt-3 sm:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-br from-blue-90 to-white rounded-2xl shadow-sm border border-blue-100 p-6 cursor-pointer transition-all hover:shadow-md ".concat("all"===he?"ring-2 ring-blue-400":""),onClick:()=>{Ae("all"),ae(""),B({from:"",to:""})},title:"Click to view all fees",children:(0,mr.jsx)("div",{className:"flex justify-between items-start",children:(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-blue-700 mb-1",children:"Total Fees"}),(0,mr.jsxs)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:["\u20b9",Oe.toLocaleString()]})]})})}),(0,mr.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-white rounded-2xl shadow-sm border border-green-100 p-6 cursor-pointer transition-all hover:shadow-md ".concat("paid"===he?"ring-2 ring-green-400":""),onClick:()=>{Ae("paid")},title:"Click to view fully paid fees",children:(0,mr.jsx)("div",{className:"flex justify-between items-start",children:(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-green-700 mb-1",children:"Paid Amount"}),(0,mr.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:["\u20b9",Pe.toLocaleString()]}),(0,mr.jsx)("div",{className:"w-full bg-green-200 rounded-full h-2",children:(0,mr.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"".concat(Oe>0?Pe/Oe*100:0,"%")}})})]})})}),(0,mr.jsx)("div",{className:"bg-gradient-to-br from-red-50 to-white rounded-2xl shadow-sm border border-red-100 p-6 cursor-pointer transition-all hover:shadow-md ".concat("pending"===he?"ring-2 ring-red-400":""),onClick:()=>{Ae("pending")},title:"Click to view pending fees",children:(0,mr.jsx)("div",{className:"flex justify-between items-start",children:(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-red-700 mb-1",children:"Pending Amount"}),(0,mr.jsxs)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:["\u20b9",Ue.toLocaleString()]}),(0,mr.jsx)("div",{className:"w-full bg-red-200 rounded-full h-2",children:(0,mr.jsx)("div",{className:"bg-red-500 h-2 rounded-full",style:{width:"".concat(Oe>0?Ue/Oe*100:0,"%")}})})]})})})]}),"all"!==he&&(0,mr.jsx)("div",{className:"bg-blue-50 mt-3 border border-blue-200 rounded-lg p-3 mb-4",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)("i",{className:"fas fa-filter text-blue-600"}),(0,mr.jsxs)("span",{className:"text-blue-700 font-medium",children:["Showing ","paid"===he?"fully paid":"pending"," fees"]})]}),(0,mr.jsx)("button",{onClick:()=>Ae("all"),className:"text-blue-600 hover:text-blue-800 text-sm font-medium",children:"Show All"})]})}),(0,mr.jsxs)("div",{className:"flex flex-wrap mt-3 items-center gap-3 mb-4 bg-white p-4 rounded-xl shadow-sm border border-gray-200",children:[(0,mr.jsxs)("select",{value:j,onChange:e=>_(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 bg-white shadow-sm hover:border-blue-400 transition-all",children:[(0,mr.jsx)("option",{value:"created_at",children:"Sort by Created Date"}),(0,mr.jsx)("option",{value:"total_fee",children:"Sort by Total Fee"}),(0,mr.jsx)("option",{value:"paid_amount",children:"Sort by Paid Amount"})]}),(0,mr.jsxs)("select",{value:C,onChange:e=>S(e.target.value),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 bg-white shadow-sm hover:border-blue-400 transition-all",children:[(0,mr.jsx)("option",{value:"desc",children:"Descending"}),(0,mr.jsx)("option",{value:"asc",children:"Ascending"})]}),(0,mr.jsx)("input",{type:"date",value:k.from,onChange:e=>B(t=>N(N({},t),{},{from:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 bg-white shadow-sm hover:border-blue-400 transition-all",placeholder:"From"}),(0,mr.jsx)("input",{type:"date",value:k.to,onChange:e=>B(t=>N(N({},t),{},{to:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-400 text-gray-700 bg-white shadow-sm hover:border-blue-400 transition-all",placeholder:"To"}),(0,mr.jsx)("button",{onClick:()=>B({from:"",to:""}),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-indigo-500 text-white rounded-lg shadow-md hover:from-blue-600 hover:to-indigo-600 focus:outline-none focus:ring-2 focus:ring-blue-400 transition-all",children:"Reset Dates"})]}),(0,mr.jsxs)("div",{className:"sf-table-container",children:[(0,mr.jsxs)("div",{className:"sf-table-header",children:[(0,mr.jsx)("h2",{children:"Student Fees"}),(0,mr.jsxs)("div",{className:"sf-table-search",children:[(0,mr.jsx)("i",{className:"fas fa-search"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search by student name, admission number, or course...",value:se,onChange:e=>ae(e.target.value),className:"sf-search-input"})]})]}),(0,mr.jsx)("div",{className:"sf-table-wrapper",children:(0,mr.jsxs)("table",{className:"sf-table w-full",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"Student"}),(0,mr.jsx)("th",{children:"Course"}),(0,mr.jsx)("th",{children:"Total Fee"}),(0,mr.jsx)("th",{children:"Paid Amount"}),(0,mr.jsx)("th",{children:"Pending Amount"}),(0,mr.jsx)("th",{children:"Status"}),(0,mr.jsx)("th",{children:"Actions"})]})}),(0,mr.jsxs)("tbody",{children:[ye.map(e=>(0,mr.jsxs)("tr",{className:"align-top",children:[(0,mr.jsx)("td",{children:(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"w-9 h-9 rounded-full bg-blue-100 flex items-center justify-center",children:(0,mr.jsx)("i",{className:"fas fa-user text-blue-600"})}),(0,mr.jsx)("div",{children:(0,mr.jsx)("div",{className:"font-semibold text-gray-800",children:Le(e.student_id)})})]})}),(0,mr.jsx)("td",{className:"align-top",children:(()=>{const t=(e=>{const t=fe[e];if(!t)return[];if(t.courses&&t.courses.length>0)return t.courses;if(t.course_id){const e=me[t.course_id];return e?[e]:[]}return[]})(e.student_id);if(1===t.length){const e=t[0];return(0,mr.jsx)("span",{className:"px-3 py-1 bg-blue-50 border border-blue-200 rounded-md text-blue-700 font-semibold text-sm inline-block",children:e.course_name})}return(0,mr.jsx)("div",{className:"border border-gray-200 rounded-md px-3 py-1 bg-blue-50 text-blue-700",children:t.map(e=>(0,mr.jsx)("div",{className:"flex justify-between items-center text-[11px] py-[2px]",children:(0,mr.jsx)("span",{className:"font-medium text-gray-700 truncate",children:e.course_name})},e.id))})})()}),(0,mr.jsxs)("td",{className:"font-semibold text-gray-800",children:["\u20b9",parseFloat(e.total_fee||0).toLocaleString()]}),(0,mr.jsxs)("td",{className:"text-green-600 font-semibold",children:["\u20b9",parseFloat(e.paid_amount||0).toLocaleString()]}),(0,mr.jsxs)("td",{className:"text-red-600 font-semibold",children:["\u20b9",parseFloat(e.pending_amount||0).toLocaleString()]}),(0,mr.jsx)("td",{children:(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-white text-sm font-medium ".concat("paid"===e.status?"bg-green-500":"unpaid"===e.status?"bg-red-500":"bg-yellow-500"),children:e.status?e.status.charAt(0).toUpperCase()+e.status.slice(1):"N/A"})}),(0,mr.jsx)("td",{children:(0,mr.jsxs)("div",{className:"flex gap-3",children:[(0,mr.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=(await Ua.get("/studentfee/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data;y(n),q(n.installments||[]);const s=fe[n.student_id];if(s)if(s.courses&&s.courses.length>0)Q(s.courses);else if(s.course_id){const e=r.find(e=>e.id===s.course_id);Q(e?[e]:[])}else Q([]);f(!0)}catch(t){console.error("Error fetching student fee details:",t)}})(e.id),className:"text-blue-600 hover:text-blue-800",children:(0,mr.jsx)("i",{className:"fas fa-eye"})}),(0,mr.jsx)("button",{onClick:()=>(e=>{D(e),F(!0)})(e),className:"text-red-600 hover:text-red-800",title:"Delete Fee",children:(0,mr.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id)),0===ye.length&&(0,mr.jsx)("tr",{children:(0,mr.jsxs)("td",{colSpan:"7",className:"text-center py-10 text-gray-600",children:[(0,mr.jsx)("i",{className:"fas fa-info-circle mr-2"}),se||"all"!==he?"No matching records found":"No fee records available"]})})]})]})}),ge.length>0&&(0,mr.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4 px-6 py-4 bg-white border-t border-gray-200",children:[(0,mr.jsxs)("div",{className:"text-sm text-gray-600",children:["Showing ",(0,mr.jsx)("span",{className:"font-semibold text-gray-900",children:be+1})," to"," ",(0,mr.jsx)("span",{className:"font-semibold text-gray-900",children:Math.min(xe,ge.length)})," ","of ",(0,mr.jsx)("span",{className:"font-semibold text-gray-900",children:ge.length})," entries"]}),(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)("button",{onClick:()=>{le>1&&ce(le-1)},disabled:1===le,className:"\n        flex items-center justify-center w-10 h-10 rounded-lg border transition-all duration-200\n        ".concat(1===le?"border-gray-300 bg-gray-100 text-gray-400 cursor-not-allowed":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-400 hover:text-gray-900","\n      "),children:(0,mr.jsx)("i",{className:"fas fa-chevron-left text-sm"})}),(0,mr.jsx)("div",{className:"flex items-center gap-1",children:Array.from({length:ve},(e,t)=>t+1).map(e=>(0,mr.jsx)("button",{onClick:()=>ce(e),className:"\n            flex items-center justify-center w-10 h-10 rounded-lg border transition-all duration-200 font-medium\n            ".concat(le===e?"bg-blue-600 border-blue-600 text-white shadow-sm":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-400","\n          "),children:e},e))}),(0,mr.jsx)("button",{onClick:()=>{le<ve&&ce(le+1)},disabled:le===ve,className:"\n        flex items-center justify-center w-10 h-10 rounded-lg border transition-all duration-200\n        ".concat(le===ve?"border-gray-300 bg-gray-100 text-gray-400 cursor-not-allowed":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50 hover:border-gray-400 hover:text-gray-900","\n      "),children:(0,mr.jsx)("i",{className:"fas fa-chevron-right text-sm"})})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Show:"}),(0,mr.jsxs)("select",{value:de,onChange:e=>{ue(Number(e.target.value)),ce(1)},className:" px-3 py-2 text-sm border border-gray-300 rounded-lg bg-white  focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-200 hover:border-gray-400 ",children:[(0,mr.jsx)("option",{value:"5",children:"5"}),(0,mr.jsx)("option",{value:"10",children:"10"}),(0,mr.jsx)("option",{value:"20",children:"20"}),(0,mr.jsx)("option",{value:"50",children:"50"})]}),(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"per page"})]})]})]})]}),u&&(0,mr.jsx)("div",{className:"sf-modal-backdrop",children:(0,mr.jsxs)("div",{className:"sf-modal",children:[(0,mr.jsxs)("div",{className:"sf-modal-header",children:[(0,mr.jsx)("h3",{children:"Generate Student Fee"}),(0,mr.jsx)("button",{onClick:Fe,className:"sf-modal-close",children:(0,mr.jsx)("i",{className:"fas fa-times"})})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{var t,n;if(e.preventDefault(),t=T.branch_discount_percent,n=T.branch_discount_amount,t&&n&&t>0&&n>0)pi.warning("Please use either percentage discount OR amount discount, not both.");else if(0!==R.length){if(T.branch_discount_percent&&P.branch_id){if(!Ee(T.branch_discount_percent,P.branch_id))return}if(T.branch_discount_amount&&P.branch_id){const e=pe[P.branch_id];if(e&&e.discount_amount&&parseFloat(T.branch_discount_amount)>parseFloat(e.discount_amount))return void pi.warning("Branch discount amount cannot exceed \u20b9".concat(e.discount_amount," for this branch."))}var r;if(r=T.student_id,!o.some(e=>e.student_id===parseInt(r))||window.confirm("This student already has a fee structure. Do you want to proceed anyway?"))try{const e=localStorage.getItem("token"),t={student_id:parseInt(T.student_id),course_id:R.length>0?parseInt(R[0].id):null,fee_type:T.fee_type,amount:z,payment_mode:T.payment_mode,number_of_installments:"installments"===T.payment_mode?parseInt(T.number_of_installments):0,coupon_id:T.coupon_id?parseInt(T.coupon_id):null,branch_id:P.branch_id,branch_discount_percent:T.branch_discount_percent?T.branch_discount_percent:0,branch_discount_amount:T.branch_discount_amount?T.branch_discount_amount:0};console.log("Creating fee structure:",t);const n=await Ua.post("/fee-structures",t,{headers:{Authorization:"Bearer ".concat(e)}});console.log("Fee structure created:",n.data);const r={student_id:parseInt(T.student_id),course_id:R.length>0?parseInt(R[0].id):null,fee_structure_id:n.data.id};console.log("Creating student fee:",r);const s=await Ua.post("/studentfee",r,{headers:{Authorization:"Bearer ".concat(e)}});console.log("Student fee created:",s.data),setTimeout(async()=>{await we(),await Ce(),l(e=>[...e,n.data])},500),Fe(),pi.success("Fee generated successfully for ".concat(R.length," course(s)!"))}catch(s){console.error("Error creating fee structure and student fee:",s),s.response?(console.error("Error response data:",s.response.data),console.error("Error response status:",s.response.status),pi.warning("Error creating fee structure: ".concat(s.response.data.message||"Please try again."))):s.request?(console.error("Error request:",s.request),pi.warning("Network error. Please check your connection and try again.")):(console.error("Error message:",s.message),pi.warning("Error creating fee structure. Please try again."))}}else pi.warning("Selected student doesn't have any courses assigned")},className:"sf-modal-form",children:[(0,mr.jsxs)("div",{className:"sf-form-grid",children:[(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Student"}),(0,mr.jsxs)("div",{className:"sf-search-container",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search student by name or admission number",value:Z,onChange:e=>$(e.target.value),onFocus:()=>re(!0),className:"sf-search-input",required:!0}),ne&&(0,mr.jsx)("div",{className:"sf-search-dropdown",children:ee.map(e=>(0,mr.jsx)("div",{className:"sf-search-dropdown-item",onClick:()=>(e=>{if(O(t=>N(N({},t),{},{student_id:e.id,branch_id:e.branch_id})),$("".concat(e.full_name," (").concat(e.admission_number,")")),re(!1),U(e),e.courses&&e.courses.length>0)Q(e.courses);else if(e.course_id){const t=r.find(t=>t.id===e.course_id);Q(t?[t]:[])}else Q([]);T.branch_discount_percent&&Be(T.branch_discount_percent,e.id)})(e),children:(0,mr.jsxs)("div",{className:"sf-student-dropdown-info",children:[(0,mr.jsx)("div",{className:"sf-student-dropdown-name",children:e.full_name}),(0,mr.jsxs)("div",{className:"sf-student-dropdown-details",children:[e.branch_id&&pe[e.branch_id]&&(0,mr.jsxs)("span",{children:[" Branch: ",pe[e.branch_id].branchName]}),(0,mr.jsxs)("span",{children:[" \u2022 Courses: ",e.courses?e.courses.length:e.course_id?1:0]})]})]})},e.id))})]})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Selected Courses & Total Fees"}),(0,mr.jsx)("div",{className:"sf-courses-display",children:R.length>0?(0,mr.jsxs)("div",{className:"bg-white rounded-lg border border-gray-200 overflow-hidden",children:[(0,mr.jsx)("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Selected Courses & Fees"})}),(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{className:"bg-gray-50 border-b border-gray-200",children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course Details"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:R.map((e,t)=>{var n;return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-150",children:[(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,mr.jsx)("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center",children:(0,mr.jsx)("i",{className:"fas fa-book text-white text-sm"})}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h4",{className:"text-sm font-semibold text-gray-900 truncate",children:e.course_name}),(0,mr.jsxs)("div",{className:"mt-1 flex flex-wrap gap-2",children:[e.course_code&&(0,mr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:["Code: ",e.course_code]}),(null===(n=e.batch)||void 0===n?void 0:n.batch_name)&&(0,mr.jsxs)("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Batch: ",e.batch.batch_name]})]})]})]})}),(0,mr.jsx)("td",{className:"px-6 py-4 text-right",children:(0,mr.jsxs)("div",{className:"flex flex-col items-end",children:[(0,mr.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["\u20b9",parseFloat(e.discounted_price||0).toLocaleString()]}),e.original_price&&e.original_price!==e.discounted_price&&(0,mr.jsxs)("span",{className:"text-sm text-gray-500 line-through mt-1",children:["\u20b9",parseFloat(e.original_price).toLocaleString()]})]})})]},e.id)})}),(0,mr.jsxs)("tfoot",{className:"bg-gray-50",children:[(0,mr.jsxs)("tr",{className:"border-t border-gray-200",children:[(0,mr.jsx)("td",{className:"px-6 py-4 text-right",children:(0,mr.jsx)("span",{className:"text-sm font-semibold text-gray-700",children:"Base Total:"})}),(0,mr.jsx)("td",{className:"px-6 py-4 text-right",children:(0,mr.jsxs)("span",{className:"text-lg font-bold text-gray-900",children:["\u20b9",ke().toLocaleString()]})})]}),(T.branch_discount_percent||T.branch_discount_amount)&&(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("tr",{className:"border-t border-gray-200 bg-yellow-50",children:[(0,mr.jsx)("td",{className:"px-6 py-3 text-right",children:(0,mr.jsxs)("div",{className:"flex items-center justify-end space-x-2",children:[(0,mr.jsx)("i",{className:"fas fa-tag text-yellow-600 text-sm"}),(0,mr.jsxs)("span",{className:"text-sm font-semibold text-yellow-800",children:[T.branch_discount_percent?"Discount (".concat(T.branch_discount_percent,"%)"):"Discount Amount",":"]})]})}),(0,mr.jsx)("td",{className:"px-6 py-3 text-right",children:(0,mr.jsx)("span",{className:"text-lg font-bold text-yellow-700",children:T.branch_discount_percent?"-".concat(T.branch_discount_percent,"%"):"-\u20b9".concat(parseFloat(T.branch_discount_amount).toLocaleString())})})]}),(0,mr.jsxs)("tr",{className:"border-t border-gray-300 bg-green-50",children:[(0,mr.jsx)("td",{className:"px-6 py-4 text-right",children:(0,mr.jsx)("span",{className:"text-sm font-semibold text-green-800",children:"Final Total:"})}),(0,mr.jsx)("td",{className:"px-6 py-4 text-right",children:(0,mr.jsxs)("span",{className:"text-xl font-bold text-green-700",children:["\u20b9",z.toLocaleString()]})})]}),(0,mr.jsx)("tr",{className:"bg-green-25",children:(0,mr.jsx)("td",{colSpan:"2",className:"px-6 py-2 text-center",children:(0,mr.jsxs)("div",{className:"flex items-center justify-center space-x-2 text-sm text-green-700",children:[(0,mr.jsx)("i",{className:"fas fa-piggy-bank"}),(0,mr.jsxs)("span",{children:["You save \u20b9",(ke()-z).toLocaleString(),"(",((ke()-z)/ke()*100).toFixed(1),"%)"]})]})})})]})]})]})})]}):(0,mr.jsxs)("div",{className:"text-center py-12 bg-white rounded-lg border-2 border-dashed border-gray-300",children:[(0,mr.jsx)("i",{className:"fas fa-book-open text-4xl text-gray-400 mb-4"}),(0,mr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Courses Found"}),(0,mr.jsx)("p",{className:"text-gray-500 max-w-sm mx-auto",children:"The selected student doesn't have any courses assigned. Please assign courses to the student first."})]})})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Branch Intended Discount %"}),(0,mr.jsx)("input",{type:"number",name:"branch_discount_percent",value:T.branch_discount_percent,onChange:Te,min:"0",max:"100",placeholder:"Enter discount percentage"}),P&&P.branch_id&&pe[P.branch_id]&&(0,mr.jsx)("div",{className:"sf-branch-discount-info",children:(0,mr.jsxs)("small",{children:["Discount Allowed range for this branch: ",(e=>{if(!e)return"0-0";if("string"===typeof e)return e;if(Array.isArray(e))return e.join("-");if("object"===typeof e&&null!==e){const t=e.min||e.min_discount||0,n=e.max||e.max_discount||0;return"".concat(t,"-").concat(n)}return"0-".concat(e)})(pe[P.branch_id].discount_range)||"0-0","%"]})})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Branch Intended Discount (Amount \u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"branch_discount_amount",value:T.branch_discount_amount,onChange:Te,min:"0",placeholder:"Enter discount amount in \u20b9"}),P&&P.branch_id&&pe[P.branch_id]&&(0,mr.jsx)("div",{className:"sf-branch-discount-info",children:(0,mr.jsxs)("small",{children:["Maximum discount amount: \u20b9",pe[P.branch_id].discount_amount||0]})})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Fee Type"}),(0,mr.jsxs)("select",{name:"fee_type",value:T.fee_type,onChange:Te,required:!0,children:[(0,mr.jsx)("option",{value:"Tuition",children:"Tuition"}),(0,mr.jsx)("option",{value:"Exam",children:"Exam"}),(0,mr.jsx)("option",{value:"Library",children:"Library"}),(0,mr.jsx)("option",{value:"Miscellaneous",children:"Miscellaneous"})]})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Payment Mode"}),(0,mr.jsxs)("select",{name:"payment_mode",value:T.payment_mode,onChange:Te,required:!0,children:[(0,mr.jsx)("option",{value:"one-time",children:"One-time"}),(0,mr.jsx)("option",{value:"installments",children:"Installments"})]})]}),"installments"===T.payment_mode&&(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Number of Installments"}),(0,mr.jsx)("input",{type:"number",name:"number_of_installments",value:T.number_of_installments,onChange:Te,min:"2",max:"12",required:!0})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Apply Coupon"}),(0,mr.jsxs)("div",{className:"sf-coupon-section",children:[(0,mr.jsxs)("select",{value:K,onChange:e=>W(e.target.value),className:"sf-coupon-select",children:[(0,mr.jsx)("option",{value:"",children:"-- Select Coupon --"}),c.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.code," ",e.discounttype," - ",e.discountvalue]},e.id))]}),(0,mr.jsx)("button",{type:"button",onClick:()=>{K&&(O(e=>N(N({},e),{},{coupon_id:K})),pi.success("Coupon applied!"))},className:"sf-apply-coupon-btn",children:"Apply"})]})]})]}),(0,mr.jsxs)("div",{className:"sf-modal-actions",children:[(0,mr.jsx)("button",{type:"button",onClick:Fe,className:"sf-cancel-btn",children:"Cancel"}),(0,mr.jsxs)("button",{type:"submit",className:"sf-save-btn",disabled:!P||0===R.length,children:[(0,mr.jsx)("i",{className:"fas fa-save"}),"Generate Fee"]})]})]})]})}),A&&b&&(0,mr.jsx)("div",{className:"sf-modal-backdrop",children:(0,mr.jsxs)("div",{className:"sf-modal sf-view-modal",children:[(0,mr.jsxs)("div",{className:"sf-modal-header",children:[(0,mr.jsx)("h3",{children:"Fee Details"}),(0,mr.jsx)("button",{onClick:()=>{f(!1),y(null),Y(null),q([]),Q([])},className:"sf-modal-close",children:(0,mr.jsx)("i",{className:"fas fa-times"})})]}),(0,mr.jsxs)("div",{className:"sf-view-content",children:[(0,mr.jsxs)("div",{className:"sf-view-grid",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{children:"Student Information"}),(0,mr.jsxs)("div",{className:"sf-info-box",children:[(0,mr.jsxs)("p",{className:"sf-info-title",children:[(0,mr.jsx)("strong",{children:"Name:"})," ",Le(b.student_id)]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Admission No:"})," ",(e=>{const t=fe[e];return t?t.admission_number:"N/A"})(b.student_id)]}),1===R.length&&(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Course:"})," ",(e=>{const t=me[e];return t?"".concat(t.course_name," (").concat(t.course_code,")"):"Course ID: ".concat(e)})(R[0].id)]}),R.length>1&&(0,mr.jsx)("div",{className:"mt-6",children:(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full border border-gray-300 rounded-lg overflow-hidden",children:[(0,mr.jsx)("thead",{className:"bg-gray-100",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700 border-b",children:"#"}),(0,mr.jsx)("th",{className:"px-4 py-2 text-left text-sm font-medium text-gray-700 border-b",children:"Course Name"}),(0,mr.jsx)("th",{className:"px-4 py-2 text-right text-sm font-medium text-gray-700 border-b",children:"Price (\u20b9)"})]})}),(0,mr.jsx)("tbody",{children:R.map((e,t)=>(0,mr.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-4 py-2 text-sm text-gray-600 border-b",children:t+1}),(0,mr.jsx)("td",{className:"px-4 py-2 text-sm text-gray-800 border-b",children:e.course_name}),(0,mr.jsxs)("td",{className:"px-4 py-2 text-sm text-gray-800 text-right border-b",children:["\u20b9",parseFloat(e.discounted_price||e.price||0).toLocaleString()]})]},e.id))}),(0,mr.jsx)("tfoot",{className:"bg-gray-100",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{colSpan:"2",className:"px-4 py-3 text-right font-semibold text-gray-800 border-t",children:"Total Courses Fee:"}),(0,mr.jsxs)("td",{className:"px-4 py-3 text-right font-semibold text-gray-900 border-t",children:["\u20b9",R.reduce((e,t)=>e+parseFloat(t.discounted_price||t.price||0),0).toLocaleString()]})]})})]})})})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{children:"Fee Information"}),(0,mr.jsxs)("div",{className:"sf-info-box",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Total Fee:"})," \u20b9",parseFloat(b.total_fee||0).toLocaleString()]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Paid Amount:"})," \u20b9",parseFloat(b.paid_amount||0).toLocaleString()]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Pending Amount:"})," \u20b9",parseFloat(b.pending_amount||0).toLocaleString()]}),(0,mr.jsxs)("p",{className:"text-sm",children:[(0,mr.jsx)("strong",{className:"mr-2",children:"Overall Status:"}),(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-white text-sm font-medium ".concat("paid"===b.status?"bg-green-500":"pending"===b.status?"bg-red-500":"bg-yellow-500"),children:b.status.charAt(0).toUpperCase()+b.status.slice(1)})]}),G&&(0,mr.jsxs)(mr.Fragment,{children:[G.branch_discount_percent>0&&(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Branch Discount:"})," ",G.branch_discount_percent,"%"]}),G.branch_discount_amount>0&&(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Branch Discount Amount:"})," \u20b9",G.branch_discount_amount]})]})]})]})]}),V.length>0&&(0,mr.jsxs)("div",{className:"installment-section",children:[(0,mr.jsx)("h3",{className:"installment-title",children:"\ud83d\udcc5 Installment Schedule"}),(0,mr.jsx)("div",{className:"installment-box",children:(0,mr.jsxs)("table",{className:"installment-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"Installment #"}),(0,mr.jsx)("th",{children:"Due Date"}),(0,mr.jsx)("th",{children:"Installment Amount"}),(0,mr.jsx)("th",{children:"Adjusted Amount"}),(0,mr.jsx)("th",{children:"Status"})]})}),(0,mr.jsx)("tbody",{children:V.map((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:e.installment_number}),(0,mr.jsx)("td",{children:e.due_date?new Date(e.due_date).toLocaleDateString():"N/A"}),(0,mr.jsxs)("td",{children:["\u20b9",parseFloat(e.amount||0).toLocaleString()]}),(0,mr.jsxs)("td",{children:["\u20b9",parseFloat(e.adjusted_amount||0).toLocaleString()]}),(0,mr.jsx)("td",{children:(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-white text-sm font-medium ".concat("paid"===e.status?"bg-green-500":"bg-red-500"),children:e.status})})]},e.id||t))})]})})]}),(0,mr.jsxs)("p",{className:"text-xl mb-6",children:[(0,mr.jsx)("strong",{children:"Pending Fees Amount:"})," \u20b9",parseFloat(b.pending_amount||0).toLocaleString()]}),b.payments&&b.payments.length>0&&(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"installment-title",children:"Payment History"}),(0,mr.jsx)("div",{className:"sf-info-box",children:(0,mr.jsx)("div",{className:"sf-payments-list",children:(0,mr.jsxs)("table",{className:"sf-payments-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"#"}),(0,mr.jsx)("th",{children:"Amount Paid"}),(0,mr.jsx)("th",{children:"Payment Date"}),(0,mr.jsx)("th",{children:"Payment Mode"})]})}),(0,mr.jsx)("tbody",{children:b.payments.map((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:t+1}),(0,mr.jsxs)("td",{children:["\u20b9",parseFloat(e.amount_paid||0).toLocaleString()]}),(0,mr.jsx)("td",{children:new Date(e.payment_date).toLocaleDateString()}),(0,mr.jsx)("td",{children:e.payment_mode||"N/A"})]},e.id||t))})]})})})]})]})]})}),M&&I&&(0,mr.jsx)("div",{className:"sf-modal-backdrop",children:(0,mr.jsxs)("div",{className:"sf-modal sf-delete-modal",children:[(0,mr.jsxs)("div",{className:"sf-modal-header",children:[(0,mr.jsx)("h3",{children:"Want to Delete this Fee Record ?"}),(0,mr.jsx)("button",{onClick:Ie,className:"sf-modal-close",children:(0,mr.jsx)("i",{className:"fas fa-times"})})]}),(0,mr.jsx)("div",{className:"sf-delete-content",children:(0,mr.jsx)("div",{className:"sf-delete-text",children:(0,mr.jsxs)("div",{className:"sf-delete-details",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Student:"})," ",Le(I.student_id)]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Course:"})," ",Me(I.course_id)]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Total Fee:"})," \u20b9",parseFloat(I.total_fee||0).toLocaleString()]})]})})}),(0,mr.jsxs)("div",{className:"sf-modal-actions",children:[(0,mr.jsx)("button",{onClick:Ie,className:"sf-cancel-btn",children:"Cancel"}),(0,mr.jsx)("button",{onClick:()=>{I&&(async e=>{try{const t=localStorage.getItem("token");await Ua.delete("/studentfee/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),n(t=>t.filter(t=>t.id!==e)),oe(t=>t.filter(t=>t.id!==e)),pi.success("Fee record deleted successfully!"),F(!1),D(null)}catch(t){console.error("Error deleting student fee:",t),pi.error("Error deleting fee record. Please try again.")}})(I.id)},className:"sf-delete-btn",children:"Delete"})]})]})}),m&&(0,mr.jsx)("div",{className:"sf-modal-backdrop",children:(0,mr.jsxs)("div",{className:"sf-modal",children:[(0,mr.jsxs)("div",{className:"sf-modal-header",children:[(0,mr.jsx)("h3",{children:"Record Payment"}),(0,mr.jsx)("button",{onClick:De,className:"sf-modal-close",children:(0,mr.jsx)("i",{className:"fas fa-times"})})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t={paid_amount:parseFloat(v)},r=await Ua.put("/studentfee/update/".concat(g),t,{headers:{Authorization:"Bearer ".concat(e)}});n(e=>e.map(e=>e.id===g?r.data:e)),oe(e=>e.map(e=>e.id===g?r.data:e)),De()}catch(t){console.error("Error updating payment:",t),pi.warning("Error recording payment. Please try again.")}},className:"sf-modal-form",children:[(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Payment Amount"}),(0,mr.jsx)("input",{type:"number",value:v,onChange:e=>w(e.target.value),min:"0",step:"0.01",required:!0})]}),(0,mr.jsxs)("div",{className:"sf-modal-actions",children:[(0,mr.jsx)("button",{type:"button",onClick:De,className:"sf-cancel-btn",children:"Cancel"}),(0,mr.jsxs)("button",{type:"submit",className:"sf-save-btn",children:[(0,mr.jsx)("i",{className:"fas fa-money-bill"}),"Record Payment"]})]})]})]})})]})};n(557);const Q_=()=>{var e,n;const[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(""),[j,_]=(0,t.useState)(null),[C,S]=(0,t.useState)([]),[k,B]=(0,t.useState)(!0),[E,L]=(0,t.useState)([]),[M,F]=(0,t.useState)(""),[I,D]=(0,t.useState)("name"),[T,O]=(0,t.useState)("asc"),[P,U]=(0,t.useState)("all"),[R,Q]=(0,t.useState)({total_fee:"",due_date:"",paid_amount:"",discount:"",penalty:""}),[z,H]=(0,t.useState)({payment_date:(new Date).toISOString().split("T")[0],payment_mode:"cash",amount_paid:"",note:""}),K=async()=>{try{const e=localStorage.getItem("token"),[t,n,r,s]=await Promise.all([Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(e)}}),Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}}),Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}}),Ua.get("/fee-structures",{headers:{Authorization:"Bearer ".concat(e)}})]);if(d(t.data||[]),h(n.data||[]),f(r.data||[]),L(s.data||[]),j){const e=t.data.find(e=>e.id===j.id);e&&(_(e),S(e.payments||[]))}}catch(e){console.error("Error fetching data:",e)}};(0,t.useEffect)(()=>{K()},[]),(0,t.useEffect)(()=>{(async()=>{if(b)try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/".concat(b,"/show"),{headers:{Authorization:"Bearer ".concat(e)}});p(t.data.students||[])}catch(e){console.error("Error fetching students:",e),p([])}else p([])})()},[b]),(0,t.useEffect)(()=>{r||(Q({total_fee:"",due_date:"",paid_amount:"",discount:"",penalty:""}),x(""),y(""),w(""))},[r]),(0,t.useEffect)(()=>{a||H({payment_date:(new Date).toISOString().split("T")[0],payment_mode:"cash",amount_paid:"",note:""})},[a]);const W=(e,t)=>{var n;const r=new g_.default("p","mm","a4"),s=r.internal.pageSize.getWidth(),a=10,i=n=>{var i,o,l;let c=n;var d;r.line(0,c,s,c),c+=10,c+=3,r.setFont("helvetica","bold"),r.setFontSize(20),r.text("FEE RECEIPT",a,c),r.setFont("helvetica","normal"),r.setFontSize(12),r.text("Admission No.: ".concat((null===t||void 0===t||null===(i=t.student)||void 0===i?void 0:i.admission_number)||""),s-90,c),c+=8,r.text("Date: ".concat((d=null===e||void 0===e?void 0:e.payment_date)?new Date(d).toLocaleDateString():""),s-90,c),c+=10,r.line(a,c,s-a,c),c+=12;const u=s/2;var h;r.line(u,c-40,u,c-12),r.setFont("helvetica","bold"),r.text("Name of Student :",a,c),r.setFont("helvetica","normal"),r.text("".concat((null===t||void 0===t||null===(o=t.student)||void 0===o?void 0:o.full_name)||""),50,c),c+=7,r.setFont("helvetica","bold"),r.text("Guardian Name :",a,c),r.setFont("helvetica","normal"),r.text("".concat((null===t||void 0===t||null===(l=t.student)||void 0===l?void 0:l.guardian_name)||""),50,c),c+=7,r.setFont("helvetica","bold"),r.text("Name of Course :",a,c),r.setFont("helvetica","normal"),r.text("".concat((e=>{if(!e)return"N/A";if(Array.isArray(e.courses)&&e.courses.length>0)return e.courses.map(e=>e.course_name).join(", ");if(Array.isArray(e.course_ids)&&e.course_ids.length>0)return e.course_ids.map(e=>{const t=A.find(t=>t.id===Number(e));return t?t.course_name:null}).filter(Boolean).join(", ");if(e.course_id){const t=A.find(t=>t.id===Number(e.course_id));return t?t.course_name:"N/A"}return"N/A"})(t)),50,c),c+=7,r.line(a,c,s-a,c),c+=14,r.setFont("helvetica","bold"),r.text("Paid Amount :",a,c),r.setFont("helvetica","italic"),r.text((e=>{if(0===e)return"Zero";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=e=>e<20?t[e]:e<100?n[Math.floor(e/10)]+(e%10?" "+t[e%10]:""):e<1e3?t[Math.floor(e/100)]+" Hundred"+(e%100?" "+r(e%100):""):e<1e5?r(Math.floor(e/1e3))+" Thousand"+(e%1e3?" "+r(e%1e3):""):e<1e7?r(Math.floor(e/1e5))+" Lakh"+(e%1e5?" "+r(e%1e5):""):r(Math.floor(e/1e7))+" Crore"+(e%1e7?" "+r(e%1e7):"");return r(e)+" Rupees Only"})(Number((null===e||void 0===e?void 0:e.amount_paid)||0)),45,c),r.rect(s-70,c-6,60,16,"S"),r.setFont("helvetica","bold"),r.setFontSize(16),r.text("Rs. ".concat((h=null===e||void 0===e?void 0:e.amount_paid,Number(h||0).toString())),s-65,c+3),c+=18,r.line(a,c,s-a,c),c+=14,r.setFont("helvetica","normal"),r.setFontSize(12),r.text("Student Sign :  ".concat((null===e||void 0===e?void 0:e.received_by)||""),a,c),r.text("Payment Mode :  ".concat((null===e||void 0===e?void 0:e.payment_mode)||""),s-120,c),r.rect(s-60,c-8,50,20),r.setFont("helvetica","bold"),r.text("Sign & Seal",s-55,c+1),c+=22;const f=n+148-24;r.setFillColor(0,0,0),r.rect(0,f,s,24,"F"),r.addImage("https://i.postimg.cc/c4S3VP48/sinfode-seal.png","PNG",a,f+3,18,18),r.setTextColor(255,255,255),r.setFontSize(14),r.text("SINFODE PRIVATE LIMITED",s/2,f+8,{align:"center"}),r.setFontSize(8),r.text("www.sinfode.com | info@sinfode.com | +91-9676306970",s/2,f+14,{align:"center"}),r.text("Opp. Sanskrit College, Near Kalyan Circle, Sikar - 332001 (Raj.)",s/2,f+20,{align:"center"}),r.setTextColor(0,0,0)};i(0),i(148);const o=((null===t||void 0===t||null===(n=t.student)||void 0===n?void 0:n.full_name)||"student").replace(/\s+/g,"_");r.save("Fee_Receipt_".concat(o,"_").concat(null===e||void 0===e?void 0:e.id,".pdf"))},V=m.filter(e=>{var t;return!g||(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===g}),q=()=>{s(!1)},G=()=>{i(!1),_(null)},Y=()=>{l(!1),_(null),S([])},J=e=>{const{name:t,value:n}=e.target;Q(N(N({},R),{},{[t]:n}))},X=e=>{const{name:t,value:n}=e.target;H(N(N({},z),{},{[t]:n}))},Z=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-IN")},$=e=>(e||(e=0),new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(e)),ee=(()=>{let e=c.filter(e=>{var t,n,r,s;const a=(null===(t=e.student)||void 0===t||null===(n=t.full_name)||void 0===n?void 0:n.toLowerCase().includes(M.toLowerCase()))||(null===(r=e.student)||void 0===r||null===(s=r.admission_number)||void 0===s?void 0:s.toLowerCase().includes(M.toLowerCase())),i="all"===P||"paid"===P&&0===e.pending_amount||"pending"===P&&e.pending_amount>0||"advance"===P&&e.pending_amount<0;return a&&i});return e.sort((e,t)=>{var n,r,s,a,i,o,l,c;let d,u;switch(I){case"name":d=(null===(n=e.student)||void 0===n||null===(r=n.full_name)||void 0===r?void 0:r.toLowerCase())||"",u=(null===(s=t.student)||void 0===s||null===(a=s.full_name)||void 0===a?void 0:a.toLowerCase())||"";break;case"total_fee":d=parseFloat(e.total_fee),u=parseFloat(t.total_fee);break;case"paid_amount":d=parseFloat(e.paid_amount),u=parseFloat(t.paid_amount);break;case"pending_amount":d=parseFloat(e.pending_amount),u=parseFloat(t.pending_amount);break;case"due_date":d=new Date(e.due_date),u=new Date(t.due_date);break;default:d=(null===(i=e.student)||void 0===i||null===(o=i.full_name)||void 0===o?void 0:o.toLowerCase())||"",u=(null===(l=t.student)||void 0===l||null===(c=l.full_name)||void 0===c?void 0:c.toLowerCase())||""}return"asc"===T?d<u?-1:d>u?1:0:d>u?-1:d<u?1:0}),e})();return(0,mr.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,mr.jsx)("div",{className:"mb-8",children:(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Fee Collection Management"})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center hover:shadow-md transition-shadow duration-300",children:[(0,mr.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-purple-600 rounded-lg flex items-center justify-center mr-4",children:(0,mr.jsx)("i",{className:"fas fa-receipt text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:c.length}),(0,mr.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Total Fee Records"})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center hover:shadow-md transition-shadow duration-300",children:[(0,mr.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-green-500 to-green-600 rounded-lg flex items-center justify-center mr-4",children:(0,mr.jsx)("i",{className:"fas fa-check-circle text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:c.filter(e=>0===e.pending_amount).length}),(0,mr.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Fully Paid"})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center hover:shadow-md transition-shadow duration-300",children:[(0,mr.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-yellow-500 to-yellow-600 rounded-lg flex items-center justify-center mr-4",children:(0,mr.jsx)("i",{className:"fas fa-clock text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:c.filter(e=>e.pending_amount>0).length}),(0,mr.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Pending Payments"})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-6 flex items-center hover:shadow-md transition-shadow duration-300",children:[(0,mr.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-500 to-blue-600 rounded-lg flex items-center justify-center mr-4",children:(0,mr.jsx)("i",{className:"fas fa-plus-circle text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-900",children:c.filter(e=>e.pending_amount<0).length}),(0,mr.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Advance Payments"})]})]})]}),(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 mb-6",children:(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-center justify-between",children:[(0,mr.jsxs)("div",{className:"relative flex-1 max-w-md",children:[(0,mr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,mr.jsx)("i",{className:"fas fa-search text-gray-400"})}),(0,mr.jsx)("input",{type:"text",placeholder:"Search by student name or admission number...",value:M,onChange:e=>F(e.target.value),className:"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,mr.jsxs)("select",{value:P,onChange:e=>U(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",children:[(0,mr.jsx)("option",{value:"all",children:"All Status"}),(0,mr.jsx)("option",{value:"paid",children:"Paid"}),(0,mr.jsx)("option",{value:"pending",children:"Pending"}),(0,mr.jsx)("option",{value:"advance",children:"Advance"})]}),(0,mr.jsxs)("select",{value:I,onChange:e=>D(e.target.value),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",children:[(0,mr.jsx)("option",{value:"name",children:"Sort by Name"}),(0,mr.jsx)("option",{value:"total_fee",children:"Sort by Total Fee"}),(0,mr.jsx)("option",{value:"paid_amount",children:"Sort by Paid Amount"}),(0,mr.jsx)("option",{value:"pending_amount",children:"Sort by Pending Amount"}),(0,mr.jsx)("option",{value:"due_date",children:"Sort by Due Date"})]}),(0,mr.jsx)("button",{onClick:()=>O("asc"===T?"desc":"asc"),className:"px-4 py-2 border border-blue-500 text-blue-500 rounded-lg hover:bg-blue-500 hover:text-white transition-colors duration-200 font-semibold",children:"asc"===T?"\u2191 Asc":"\u2193 Desc"})]})]})}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm overflow-hidden",children:[(0,mr.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,mr.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:["Fee Records (",ee.length,")"]})}),(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student Name"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total Fee"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid Amount"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Pending Amount"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===ee.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"6",className:"px-6 py-12 text-center",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center text-gray-500",children:[(0,mr.jsx)("i",{className:"fas fa-search text-4xl mb-4 opacity-50"}),(0,mr.jsx)("p",{className:"text-lg",children:"No fee records found matching your criteria"})]})})}):ee.map(e=>{var t,n;return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-200",children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:null===(t=e.student)||void 0===t?void 0:t.full_name})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$(e.total_fee)}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$(e.paid_amount)}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:$(e.pending_amount)}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(n=e.pending_amount,0===n?(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-green-100 text-green-800",children:"Paid"}):n>0?(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-yellow-100 text-yellow-800",children:"Pending"}):(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800",children:"Advance"}))}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)("button",{onClick:()=>(_(e),H({payment_date:(new Date).toISOString().split("T")[0],payment_mode:"cash",amount_paid:"",note:""}),void i(!0)),className:"px-3 py-1 rounded text-xs font-semibold transition-colors duration-200 ".concat(0===e.pending_amount?"bg-gray-300 text-gray-600 cursor-not-allowed":"bg-blue-500 text-white hover:bg-blue-600"),disabled:0===e.pending_amount,children:0===e.pending_amount?"Paid":"Pay"}),e.payments&&e.payments.length>0&&(0,mr.jsx)("button",{onClick:()=>(async e=>{try{_(e),S(e.payments||[]),l(!0);const t=localStorage.getItem("token"),n=(await Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(t)}})).data.find(t=>t.id===e.id);n&&(_(n),S(n.payments||[]))}catch(t){console.error("Error refreshing payment history:",t),_(e),S(e.payments||[]),l(!0)}})(e),className:"px-3 py-1 bg-teal-500 text-white rounded text-xs font-semibold hover:bg-teal-600 transition-colors duration-200",title:"View Payment History",children:(0,mr.jsx)("i",{className:"fas fa-history"})})]})})]},e.id)})})]})})]}),r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-900",children:"Add Fee Collection"}),(0,mr.jsx)("button",{onClick:q,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v)try{const e=localStorage.getItem("token"),t={student_id:v,course_name:b,total_fee:R.total_fee,due_date:R.due_date,paid_amount:R.paid_amount,discount:R.discount,penalty:R.penalty};await Ua.post("/studentfee",t,{headers:{Authorization:"Bearer ".concat(e)}}),await K(),pi.success("Fee record saved successfully!"),q()}catch(t){console.error("Error saving fee data:",t),pi.error("Error saving fee data. Please try again.")}else pi.error("Please select a student")},className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),(0,mr.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),u.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),(0,mr.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",children:[(0,mr.jsx)("option",{value:"",children:"Select Course"}),A.filter(e=>{var t;return!g||(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===g}).map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.course_name," (",e.course_code,")"]},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student"}),(0,mr.jsxs)("select",{value:v,onChange:e=>w(e.target.value),required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",children:[(0,mr.jsx)("option",{value:"",children:"Select Student"}),V.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.name," - ",e.email]},e.id))]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Fee (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"total_fee",value:R.total_fee,onChange:J,step:"0.01",min:"0",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Due Date"}),(0,mr.jsx)("input",{type:"date",name:"due_date",value:R.due_date,onChange:J,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paid Amount (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"paid_amount",value:R.paid_amount,onChange:J,step:"0.01",min:"0",required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"discount",value:R.discount,onChange:J,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Penalty (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"penalty",value:R.penalty,onChange:J,step:"0.01",min:"0",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]})]}),(0,mr.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{type:"button",onClick:q,className:"px-6 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium",children:"Save Fee Collection"})]})]})]})}),a&&j&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,mr.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Add Payment for ",null===(e=j.student)||void 0===e?void 0:e.full_name]}),(0,mr.jsx)("button",{onClick:G,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!j)return void pi.error("No fee record selected");const t=parseFloat(z.amount_paid);if(t<=0)pi.error("Please enter a valid payment amount");else if(t>j.pending_amount)pi.error("Payment amount cannot exceed pending amount of ".concat($(j.pending_amount)));else try{const e=localStorage.getItem("token"),t={student_fee_id:j.id,payment_date:z.payment_date,payment_mode:z.payment_mode,amount_paid:z.amount_paid,note:z.note};await Ua.post("/student-fee-payments",t,{headers:{Authorization:"Bearer ".concat(e)}});await K(),pi.success("Payment recorded successfully!"),G()}catch(h){var n,r,s,a,i,o,l;console.error("Error saving payment:",h);if((null===(n=h.response)||void 0===n||null===(r=n.data)||void 0===r||null===(s=r.message)||void 0===s?void 0:s.includes("status"))||(null===(a=h.message)||void 0===a?void 0:a.includes("status"))||(null===(i=h.response)||void 0===i||null===(o=i.data)||void 0===o||null===(l=o.message)||void 0===l?void 0:l.includes("truncated"))){await K();const e=c.find(e=>e.id===j.id);if(e){const n=parseFloat(j.pending_amount)-parseFloat(e.pending_amount);if(Math.abs(n-t)<1)return pi.success("Payment recorded successfully! (System updated)"),void G()}pi.warn("Payment has been recorded.")}else{var d,u;pi.error("Error saving payment: ".concat((null===(d=h.response)||void 0===d||null===(u=d.data)||void 0===u?void 0:u.message)||h.message||"Please try again."))}}},className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Date"}),(0,mr.jsx)("input",{type:"date",name:"payment_date",value:z.payment_date,onChange:X,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Mode"}),(0,mr.jsxs)("select",{name:"payment_mode",value:z.payment_mode,onChange:X,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",children:[(0,mr.jsx)("option",{value:"cash",children:"Cash"}),(0,mr.jsx)("option",{value:"online",children:"Online"}),(0,mr.jsx)("option",{value:"cheque",children:"Cheque"}),(0,mr.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount Paid (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"amount_paid",value:z.amount_paid,onChange:X,step:"0.01",min:"0",max:j.pending_amount,required:!0,className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"}),(0,mr.jsxs)("small",{className:"text-gray-500 text-sm",children:["Maximum: ",$(j.pending_amount)]})]}),(0,mr.jsxs)("div",{className:"mb-6",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),(0,mr.jsx)("textarea",{name:"note",value:z.note,onChange:X,rows:"3",className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200"})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg mb-6",children:[(0,mr.jsxs)("p",{className:"text-sm mb-2",children:[(0,mr.jsx)("strong",{children:"Total Fee:"})," ",$(j.total_fee)]}),(0,mr.jsxs)("p",{className:"text-sm mb-2",children:[(0,mr.jsx)("strong",{children:"Already Paid:"})," ",$(j.paid_amount)]}),(0,mr.jsxs)("p",{className:"text-sm",children:[(0,mr.jsx)("strong",{children:"Pending Amount:"})," ",$(j.pending_amount)]})]}),(0,mr.jsxs)("div",{className:"flex gap-3 justify-end pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{type:"button",onClick:G,className:"px-6 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"px-6 py-2 bg-blue-500 text-white rounded-lg hover:bg-blue-600 transition-colors duration-200 font-medium",children:"Record Payment"})]})]})]})}),o&&j&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,mr.jsxs)("h3",{className:"text-xl font-semibold text-gray-900",children:["Payment History for ",null===(n=j.student)||void 0===n?void 0:n.full_name]}),(0,mr.jsx)("button",{onClick:Y,className:"text-gray-400 hover:text-gray-600 text-2xl",children:"\xd7"})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Fee Summary"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-600 mb-1 font-medium",children:"Total Fee"}),(0,mr.jsx)("div",{className:"text-lg font-bold text-gray-900",children:$(j.total_fee)})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-600 mb-1 font-medium",children:"Paid Amount"}),(0,mr.jsx)("div",{className:"text-lg font-bold text-gray-900",children:$(j.paid_amount)})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg text-center",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-600 mb-1 font-medium",children:"Pending Amount"}),(0,mr.jsx)("div",{className:"text-lg font-bold text-gray-900",children:$(j.pending_amount)})]})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Payment Transactions"}),0===C.length?(0,mr.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No payments recorded yet."}):(0,mr.jsx)("div",{className:"border border-gray-200 rounded-lg overflow-hidden",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Date"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Amount"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Mode"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"divide-y divide-gray-200",children:C.map(e=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:Z(e.payment_date)}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:$(e.amount_paid)}),(0,mr.jsx)("td",{className:"px-4 py-3",children:(0,mr.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat("cash"===e.payment_mode?"bg-green-100 text-green-800":"online"===e.payment_mode?"bg-blue-100 text-blue-800":"cheque"===e.payment_mode?"bg-yellow-100 text-yellow-800":"bg-gray-100 text-gray-800"),children:e.payment_mode})}),(0,mr.jsx)("td",{className:"px-4 py-3",children:(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)("button",{onClick:()=>W(e,j),className:"px-3 py-1 bg-green-500 text-white rounded text-xs font-semibold hover:bg-green-600 transition-colors duration-200",title:"Download Receipt",children:(0,mr.jsx)("i",{className:"fas fa-download"})}),(0,mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this payment? This action cannot be undone."))try{const t=localStorage.getItem("token"),n=C.find(t=>t.id===e),r=C.filter(t=>t.id!==e);S(r);const s=parseFloat(n.amount_paid),a=parseFloat(j.paid_amount)-s,i=parseFloat(j.pending_amount)+s,o=N(N({},j),{},{paid_amount:a,pending_amount:i,payments:r});_(o),d(e=>e.map(e=>e.id===j.id?o:e)),await Ua.delete("/student-fee-payments/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Payment deleted successfully!")}catch(t){if(console.error("Error deleting payment:",t),await K(),j){const e=localStorage.getItem("token"),t=(await Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(e)}})).data.find(e=>e.id===j.id);t&&(_(t),S(t.payments||[]))}pi.error("Error deleting payment. Please try again.")}})(e.id),className:"px-3 py-1 bg-red-500 text-white rounded text-xs font-semibold hover:bg-red-600 transition-colors duration-200",title:"Delete Payment",children:(0,mr.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id))})]})})]})]}),(0,mr.jsx)("div",{className:"flex justify-end p-6 border-t border-gray-200",children:(0,mr.jsx)("button",{onClick:Y,className:"px-6 py-2 text-gray-700 bg-gray-200 rounded-lg hover:bg-gray-300 transition-colors duration-200 font-medium",children:"Close"})})]})})]})})},z_=()=>{const[e,n]=(0,t.useState)("overdue"),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{d(!0);try{const t=localStorage.getItem("token"),n=await Ua.get("/fee-reminders?type=".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});"overdue"===e?s(n.data.data||[]):"today"===e?i(n.data.data||[]):"upcoming"===e&&l(n.data.data||[])}catch(t){console.error("Error fetching ".concat(e," data:"),t)}finally{d(!1)}})()},[e]);const A=()=>"overdue"===e?r:"today"===e?a:o;return(0,mr.jsxs)("div",{className:"p-4 mx-4",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-blue-800",children:"Fee Reminder"}),(0,mr.jsx)("div",{className:"flex justify-center mb-8",children:(0,mr.jsx)("div",{className:"flex gap-2 bg-gray-200 p-1 rounded-full",children:["overdue","today","upcoming"].map(t=>(0,mr.jsx)("button",{onClick:()=>n(t),className:"px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(e===t?"bg-[#3F8CFF] text-white":"bg-transparent text-gray-600 hover:bg-gray-300"),children:"overdue"===t?"Overdue":"today"===t?"Today":"Upcoming (7 Days)"},t))})}),(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow",children:c?(0,mr.jsxs)("div",{className:"p-8 text-center",children:[(0,mr.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),(0,mr.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading data..."})]}):(0,mr.jsx)(mr.Fragment,{children:A().length>0?(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full max-w-full divide-y divide-gray-200",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Installment"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:A().map(t=>{return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("div",{className:"flex items-center",children:(0,mr.jsx)("div",{className:"ml-4",children:(0,mr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.fee_structure.student.full_name})})})}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Installment #",t.installment_number]}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(r=t.amount,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(r))}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(n=t.due_date,new Date(n).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full \n                            ".concat("overdue"===e?"bg-red-100 text-red-800":"today"===e?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:"overdue"===e?"Overdue":"today"===e?"Due Today":"Upcoming"})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("button",{onClick:()=>(async e=>{try{h(e);const t=localStorage.getItem("token"),n=await Ua.post("/send-manual-reminder",{installment_id:e},{headers:{Authorization:"Bearer ".concat(t)}});pi.success(n.data.message||"Reminder sent successfully!")}catch(r){var t,n;console.error("Error sending reminder:",r),pi.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to send reminder")}finally{h(null)}})(t.id),disabled:u===t.id,className:"px-3 py-1 rounded-md text-white text-sm font-medium ".concat(u===t.id?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"),children:u===t.id?"Sending...":"Send Reminder"})})]},t.id);var n,r})})]})}):(0,mr.jsx)("div",{className:"p-8 text-center",children:(0,mr.jsxs)("p",{className:"text-gray-500",children:["No ",e," fees found."]})})})}),(0,mr.jsx)(Ci,{position:"top-center",autoClose:3e3})]})};function H_(){const[e,n]=(0,t.useState)("fees"),[r,s]=(0,t.useState)(!1),a="64px";return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row bg-gray-50 min-h-screen",children:[(0,mr.jsx)("button",{onClick:()=>s(!r),className:"md:hidden fixed top-[72px] left-4 z-50 bg-white shadow-lg p-2 rounded-md text-gray-700 hover:bg-gray-100 transition","aria-label":"Toggle Sidebar",children:r?"\u274c":"\u2630"}),(0,mr.jsx)("div",{className:"\n            bg-white shadow-lg md:shadow-none rounded-r-xl md:rounded-none\n            transform transition-transform duration-300 ease-in-out\n            md:translate-x-0 fixed md:static\n            ".concat(r?"translate-x-0":"-translate-x-full","\n          "),style:{top:a,height:"calc(100vh - ".concat(a,")"),width:"16rem",zIndex:30},children:(0,mr.jsxs)("div",{className:"p-4 space-y-3 overflow-y-auto h-full border-r border-gray-200",children:[(0,mr.jsx)("button",{onClick:()=>n("fees"),className:"block w-full text-left px-4 py-3 rounded-lg font-medium transition ".concat("fees"===e?"bg-blue-100 text-blue-800":"hover:bg-blue-50 text-gray-700"),children:"\ud83d\udcb0 Fees Structure"}),(0,mr.jsx)("button",{onClick:()=>n("collection"),className:"block w-full text-left px-4 py-3 rounded-lg font-medium transition ".concat("collection"===e?"bg-blue-100 text-blue-800":"hover:bg-blue-50 text-gray-700"),children:"\ud83d\udcb3 Fees Collection"}),(0,mr.jsx)("button",{onClick:()=>n("reminder"),className:"block w-full text-left px-4 py-3 rounded-lg font-medium transition ".concat("reminder"===e?"bg-blue-100 text-blue-800":"hover:bg-blue-50 text-gray-700"),children:"\u23f0 Fee Reminder"})]})}),r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 z-20 md:hidden",onClick:()=>s(!1)}),(0,mr.jsx)("main",{className:"flex-1 p-4 overflow-y-auto",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:["fees"===e&&(0,mr.jsx)(R_,{}),"collection"===e&&(0,mr.jsx)(Q_,{}),"reminder"===e&&(0,mr.jsx)(z_,{})]})})]})})}const K_=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)((new Date).toISOString().slice(0,7)),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[A,f]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})()},[]);const m=()=>{h(null),f(null)},p=o.reduce((e,t)=>{const n=t.student_id;return e[n]||(e[n]={student:t.student,records:[]}),e[n].records.push(t),e},{}),g=(()=>{if(!a||!A)return[];const[e,t]=a.split("-").map(Number),n=new Date(e,t-1,1),r=new Date(e,t,0).getDate(),s=n.getDay(),i=[];for(let a=0;a<s;a++)i.push({date:null,status:null});for(let a=1;a<=r;a++){const n="".concat(e,"-").concat(t.toString().padStart(2,"0"),"-").concat(a.toString().padStart(2,"0")),r=A.find(e=>e.date.startsWith(n));i.push({date:n,status:r?r.status:null,isWeekend:0===new Date(e,t-1,a).getDay()||6===new Date(e,t-1,a).getDay()})}return i})(),x=(()=>{if(!A)return{present:0,absent:0,percentage:0};const e=A.filter(e=>"Present"===e.status).length,t=A.filter(e=>"Absent"===e.status).length,n=e+t;return{present:e,absent:t,percentage:n>0?Math.round(e/n*100):0}})();return(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"\ud83d\udcca Monthly Attendance Report"}),(0,mr.jsxs)("div",{className:"flex gap-6 bg-white shadow-md rounded-xl p-6 mb-6",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Month"}),(0,mr.jsx)("input",{type:"month",className:"border rounded-lg p-2 w-full",value:a,onChange:e=>i(e.target.value)})]}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Branch"}),(0,mr.jsxs)("select",{className:"border rounded-lg p-2 w-full",value:r,onChange:e=>s(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"-- Select Branch --"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsx)("div",{className:"flex items-end",children:(0,mr.jsx)("button",{onClick:async()=>{if(!r||!a)return alert("Select month & branch first");d(!0);try{const e=localStorage.getItem("token"),t=await Ua.get("/attendance/monthly",{headers:{Authorization:"Bearer ".concat(e)},params:{month:a,branch_id:parseInt(r)}});l(t.data||[])}catch(e){console.error("Error fetching attendance:",e),alert("\u274c Failed to fetch attendance")}finally{d(!1)}},className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"\ud83d\udd0d View Report"})})]}),c&&(0,mr.jsx)("p",{className:"text-gray-500",children:"\u23f3 Fetching attendance..."}),Object.values(p).length>0?(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,mr.jsxs)("table",{className:"w-full border-collapse",children:[(0,mr.jsx)("thead",{className:"bg-indigo-600 text-white",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"p-3 text-left",children:"Student Name"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Total Present"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Total Absent"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Action"})]})}),(0,mr.jsx)("tbody",{children:Object.values(p).map(e=>{let{student:t,records:n}=e;const s=n.filter(e=>"Present"===e.status).length,i=n.filter(e=>"Absent"===e.status).length;return(0,mr.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"p-3 font-medium",children:t.full_name}),(0,mr.jsx)("td",{className:"p-3 text-green-600 font-semibold",children:s}),(0,mr.jsx)("td",{className:"p-3 text-red-500 font-semibold",children:i}),(0,mr.jsx)("td",{className:"p-3",children:(0,mr.jsx)("button",{onClick:()=>(async e=>{h(e);try{const t=localStorage.getItem("token"),n=await Ua.get("/attendance/student/".concat(e.id),{headers:{Authorization:"Bearer ".concat(t)},params:{month:a,branch_id:parseInt(r)}});f(n.data||[])}catch(t){console.error("Error fetching student details:",t);const n=o.filter(t=>t.student_id===e.id);f(n)}})(t),className:"px-3 py-1 text-sm bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200",children:"View Details"})})]},t.id)})})]})}):!c&&(0,mr.jsx)("p",{className:"text-center text-gray-500 mt-6",children:"\ud83d\udeab No attendance data found for this month & branch"}),u&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[(0,mr.jsxs)("h3",{className:"text-xl font-semibold",children:["\ud83d\udcc5 Attendance Details for ",u.full_name]}),(0,mr.jsx)("button",{onClick:m,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-blue-600",children:"Admission No"}),(0,mr.jsx)("p",{className:"font-semibold",children:u.admission_number})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-green-600",children:"Month"}),(0,mr.jsx)("p",{className:"font-semibold",children:new Date(a+"-01").toLocaleString("default",{month:"long",year:"numeric"})})]}),(0,mr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-purple-600",children:"Attendance Percentage"}),(0,mr.jsxs)("p",{className:"font-semibold",children:[x.percentage,"%"]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-around mb-6 bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:x.present}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Days Present"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:x.absent}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Days Absent"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:x.present+x.absent}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Days"})]})]}),(0,mr.jsx)("h4",{className:"text-lg font-medium mb-4",children:"Daily Attendance"}),(0,mr.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,mr.jsx)("div",{className:"text-center font-medium text-gray-600 py-2",children:e},e))}),(0,mr.jsx)("div",{className:"grid grid-cols-7 gap-2",children:g.map((e,t)=>(0,mr.jsx)("div",{className:"min-h-12 rounded-lg flex flex-col items-center justify-center p-1\n                      ".concat(e.isWeekend?"bg-gray-100":"bg-white"," \n                      ").concat("Present"===e.status?"bg-green-700 text-green-700 font-bold border border-green-300":"","\n                      ").concat("Absent"===e.status?"bg-red-700 text-red-700 font-bold border border-red-300":"","\n                      ").concat(e.date?"border":"invisible"),children:e.date&&(0,mr.jsx)(mr.Fragment,{children:(0,mr.jsx)("span",{className:"text-xs font-medium",children:new Date(e.date).getDate()})})},t))}),(0,mr.jsxs)("div",{className:"flex justify-center mt-6 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-green-700 border border-green-300 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Present"})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-red-700 border border-red-300 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Absent"})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-gray-100 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Weekend/Holiday"})]})]})]}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-white border-t p-4 flex justify-end",children:(0,mr.jsx)("button",{onClick:m,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]})};const W_=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)({}),[c,d]=(0,t.useState)((new Date).toISOString().split("T")[0]);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){console.error("Error fetching branches:",e),pi.error("Error fetching branches")}})()},[]),(0,t.useEffect)(()=>{if(!a)return;(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}});s(t.data.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===a}))}catch(e){console.error("Error fetching staff:",e),pi.error("Error fetching staff")}})()},[a]);const u=(e,t)=>{l(n=>N(N({},n),{},{[e]:t}))};return(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-cyan-500 text-white flex items-center justify-between shadow-lg border-b-4 border-indigo-600 mb-6 rounded-xl px-6 py-4",children:[(0,mr.jsx)("h1",{className:"text-[30px] mb-2 font-nunito",children:"Staff Attendance"}),(0,mr.jsxs)("p",{className:"text-white text-lg",children:["Today: ",c]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-md rounded-xl p-6 mb-6 flex gap-6",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Branch"}),(0,mr.jsxs)("select",{className:"border rounded-lg p-2 w-full",value:a,onChange:e=>i(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"-- Select Branch --"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Date"}),(0,mr.jsx)("input",{type:"date",className:"border rounded-lg p-2 w-full",value:c,onChange:e=>d(e.target.value)})]})]}),r.length>0?(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,mr.jsxs)("div",{className:"p-6 space-y-4",children:[r.map(e=>{var t;return(0,mr.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:null===(t=e.employee_name)||void 0===t?void 0:t.split(" ").map(e=>e[0]).join("")}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-800",children:e.employee_name}),(0,mr.jsxs)("p",{className:"text-xs text-gray-500",children:["Role:"," ",e.designation]})]})]}),(0,mr.jsxs)("div",{className:"flex space-x-2",children:[(0,mr.jsx)("button",{onClick:()=>u(e.id,"Present"),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 ".concat("Present"===o[e.id]?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-green-100"),children:"\u2705 Present"}),(0,mr.jsx)("button",{onClick:()=>u(e.id,"Absent"),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 ".concat("Absent"===o[e.id]?"bg-red-500 text-white":"bg-gray-100 text-gray-700 hover:bg-red-100"),children:"\u274c Absent"}),(0,mr.jsx)("button",{onClick:()=>u(e.id,"Halfday"),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 ".concat("Halfday"===o[e.id]?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-red-100"),children:"Halfday"})]})]},e.id)}),(0,mr.jsxs)("div",{className:"mt-6 flex justify-end space-x-4",children:[(0,mr.jsx)("button",{onClick:()=>{const e={};r.forEach(t=>{e[t.id]="Present"}),l(e),pi.success("All staff marked as present")},className:"px-6 py-2 bg-green-400 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Mark All Present"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t={branch_id:parseInt(a),date:c,attendances:Object.entries(o).map(e=>{let[t,n]=e;return{staff_id:parseInt(t),status:n,reason:null}})};await Ua.post("/staff/attendance",t,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("\u2705 Staff Attendance saved successfully!"),l({})}catch(e){console.error(e),pi.error("\u274c Error saving attendance")}},className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Save Attendance"})]})]})}):a&&(0,mr.jsx)("p",{className:"text-center text-gray-500 mt-6",children:"\ud83d\udeab No staff found for this branch"})]})};const V_=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)((new Date).toISOString().slice(0,7)),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(null),[g,x]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(a)try{const e=localStorage.getItem("token"),t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)},params:{branch_id:parseInt(a)}});s(t.data||[])}catch(e){console.error("Error fetching staff:",e)}})()},[a]);const b=()=>{p(null),x(null)},y=Array.isArray(u)&&u.length>0?u.reduce((e,t)=>{const n=t.staff_id;return e[n]||(e[n]={staff:t.staff,records:[]}),e[n].records.push(t),e},{}):{},v=(()=>{if(!c||!g||!Array.isArray(g))return[];const[e,t]=c.split("-").map(Number),n=new Date(e,t-1,1),r=new Date(e,t,0).getDate(),s=n.getDay(),a=[];for(let i=0;i<s;i++)a.push({date:null,status:null});for(let i=1;i<=r;i++){const n="".concat(e,"-").concat(t.toString().padStart(2,"0"),"-").concat(i.toString().padStart(2,"0")),r=g.find(e=>e.attendance_date&&e.attendance_date.startsWith(n));a.push({date:n,status:r?r.status:null,isWeekend:0===new Date(e,t-1,i).getDay()||6===new Date(e,t-1,i).getDay()})}return a})(),w=(()=>{if(!g||!Array.isArray(g))return{present:0,absent:0,percentage:0};const e=g.filter(e=>"Present"===e.status).length,t=g.filter(e=>"Absent"===e.status).length,n=e+t;return{present:e,absent:t,percentage:n>0?Math.round(e/n*100):0}})();return(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"\ud83d\udcca Staff Attendance Report"}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-4 bg-white shadow-md rounded-xl p-6 mb-6",children:[(0,mr.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Month"}),(0,mr.jsx)("input",{type:"month",className:"border rounded-lg p-2 w-full",value:c,onChange:e=>d(e.target.value)})]}),(0,mr.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Branch"}),(0,mr.jsxs)("select",{className:"border rounded-lg p-2 w-full",value:a,onChange:e=>i(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"-- Select Branch --"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Staff"}),(0,mr.jsxs)("select",{className:"border rounded-lg p-2 w-full",value:o,onChange:e=>l(e.target.value),disabled:!a,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Staff --"}),r.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.employee_name},e.id))]})]}),(0,mr.jsx)("div",{className:"flex items-end",children:(0,mr.jsx)("button",{onClick:async()=>{if(!a||!o||!c)return alert("Select month, branch and staff member first");f(!0);try{const e=localStorage.getItem("token"),[t,n]=c.split("-"),r=await Ua.get("/staff/attendance/history",{headers:{Authorization:"Bearer ".concat(e)},params:{branch_id:parseInt(a),staff_id:parseInt(o),month:parseInt(n),year:parseInt(t)}}),s=r.data&&r.data.data?r.data.data:[];h(Array.isArray(s)?s:[])}catch(e){console.error("Error fetching attendance:",e),alert("\u274c Failed to fetch attendance"),h([])}finally{f(!1)}},className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors disabled:bg-gray-400 disabled:cursor-not-allowed",children:"\ud83d\udd0d View Report"})})]}),A&&(0,mr.jsx)("p",{className:"text-gray-500",children:"\u23f3 Fetching attendance..."}),Array.isArray(u)&&u.length>0?(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,mr.jsxs)("table",{className:"w-full border-collapse",children:[(0,mr.jsx)("thead",{className:"bg-indigo-600 text-white",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"p-3 text-left",children:"Staff ID"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Staff Name"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Total Present"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Total Absent"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Action"})]})}),(0,mr.jsx)("tbody",{children:Object.values(y).map(e=>{let{staff:t,records:n}=e;const r=n.filter(e=>"Present"===e.status).length,s=n.filter(e=>"Absent"===e.status).length;return(0,mr.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"p-3",children:t.id}),(0,mr.jsx)("td",{className:"p-3 font-medium",children:t.employee_name}),(0,mr.jsx)("td",{className:"p-3 text-green-600 font-semibold",children:r}),(0,mr.jsx)("td",{className:"p-3 text-red-500 font-semibold",children:s}),(0,mr.jsx)("td",{className:"p-3",children:(0,mr.jsx)("button",{onClick:()=>(async e=>{p(e);try{const t=localStorage.getItem("token"),[n,r]=c.split("-"),s=await Ua.get("/staff/attendance/history",{headers:{Authorization:"Bearer ".concat(t)},params:{branch_id:parseInt(a),staff_id:e.id,month:parseInt(r),year:parseInt(n)}}),i=s.data&&s.data.data?s.data.data:[];x(Array.isArray(i)?i:[])}catch(t){console.error("Error fetching staff details:",t);const n=Array.isArray(u)?u.filter(t=>t.staff_id===e.id):[];x(n)}})(t),className:"px-3 py-1 text-sm bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200",children:"View Details"})})]},t.id)})})]})}):!A&&(0,mr.jsx)("p",{className:"text-center text-gray-500 mt-6",children:a&&o?"\ud83d\udeab No attendance data found for this month & staff member":"\ud83d\udc49 Select a branch and staff member to view attendance"}),m&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[(0,mr.jsxs)("h3",{className:"text-xl font-semibold",children:["\ud83d\udcc5 Attendance Details for ",m.employee_name]}),(0,mr.jsx)("button",{onClick:b,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-blue-600",children:"Staff ID"}),(0,mr.jsx)("p",{className:"font-semibold",children:m.id})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-green-600",children:"Month"}),(0,mr.jsx)("p",{className:"font-semibold",children:new Date(c+"-01").toLocaleString("default",{month:"long",year:"numeric"})})]}),(0,mr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-purple-600",children:"Attendance Percentage"}),(0,mr.jsxs)("p",{className:"font-semibold",children:[w.percentage,"%"]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-around mb-6 bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:w.present}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Days Present"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:w.absent}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Days Absent"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:w.present+w.absent}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Days"})]})]}),(0,mr.jsx)("h4",{className:"text-lg font-medium mb-4",children:"Daily Attendance"}),(0,mr.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,mr.jsx)("div",{className:"text-center font-medium text-gray-600 py-2",children:e},e))}),(0,mr.jsx)("div",{className:"grid grid-cols-7 gap-2",children:v.map((e,t)=>(0,mr.jsx)("div",{className:"min-h-12 rounded-lg flex flex-col items-center justify-center p-1\n                      ".concat(e.isWeekend?"bg-gray-100":"bg-white"," \n                      ").concat("Present"===e.status?"bg-green-700 text-green-700 border border-green-300":"","\n                      ").concat("Absent"===e.status?"bg-red-700 text-red-700 border border-red-300":"","\n                      ").concat(e.date?"border":"invisible"),children:e.date&&(0,mr.jsx)(mr.Fragment,{children:(0,mr.jsx)("span",{className:"text-xs font-medium",children:new Date(e.date).getDate()})})},t))}),(0,mr.jsxs)("div",{className:"flex justify-center mt-6 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-green-700 border border-green-300 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Present"})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-red-700 border border-red-300 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Absent"})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-gray-100 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Weekend/Holiday"})]})]})]}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-white border-t p-4 flex justify-end",children:(0,mr.jsx)("button",{onClick:b,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]})};function q_(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)({}),[A,f]=(0,t.useState)((new Date).toISOString().split("T")[0]),[m,p]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(!o)return s([]),d(""),void i([]);try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===o});s(t||[])}catch(e){console.error("Error fetching courses:",e),s([])}})()},[o]),(0,t.useEffect)(()=>{(async()=>{if(c&&o){p(!0);try{const e=localStorage.getItem("token"),t=(await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>{var t,n;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===o&&(null===(n=e.courses)||void 0===n?void 0:n.some(e=>e.id.toString()===c))});i(t||[])}catch(e){console.error("Error fetching students:",e),i([])}finally{p(!1)}}else i([])})()},[c,o]);const g=(e,t)=>{h(n=>N(N({},n),{},{[e]:t}))},x=Object.values(u).filter(e=>"Present"===e).length,b=Object.values(u).filter(e=>"Absent"===e).length;return(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-cyan-500 text-white flex items-center justify-between shadow-lg border-b-4 border-indigo-600 mb-6 rounded-xl px-6 py-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-[30px] mb-2 font-nunito",children:"Student Attendance"}),(0,mr.jsxs)("p",{className:"text-white text-lg",children:["Today: ",new Date(A).toLocaleDateString("en-IN")]})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsxs)("div",{className:"text-sm opacity-90",children:["Marked: ",x+b," / ",a.length]}),(0,mr.jsxs)("div",{className:"text-sm opacity-90",children:["Present: ",x," | Absent: ",b]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-md rounded-xl p-6 mb-6 grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Select Branch *"}),(0,mr.jsxs)("select",{className:"border border-gray-300 rounded-lg p-3 w-full focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:o,onChange:e=>{l(e.target.value),d(""),h({})},children:[(0,mr.jsx)("option",{value:"",children:"-- Select Branch --"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Select Course *"}),(0,mr.jsxs)("select",{className:"border border-gray-300 rounded-lg p-3 w-full focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:c,onChange:e=>{d(e.target.value),h({})},disabled:!o,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Course --"}),r.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.course_name," (",e.course_code,")"]},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Select Date"}),(0,mr.jsx)("input",{type:"date",className:"border border-gray-300 rounded-lg p-3 w-full focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:A,onChange:e=>f(e.target.value)})]})]}),c&&o&&(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:a.length}),(0,mr.jsx)("div",{className:"text-sm text-blue-800",children:"Total Students"})]}),(0,mr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:a.length-(x+b)}),(0,mr.jsx)("div",{className:"text-sm text-purple-800",children:"Pending"})]})]})}),a.length>0&&(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3 justify-center",children:[(0,mr.jsx)("button",{onClick:()=>{const e={};a.forEach(t=>{e[t.id]="Present"}),h(e)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium flex items-center gap-2",children:"\u2705 Mark All Present"}),(0,mr.jsx)("button",{onClick:()=>{const e={};a.forEach(t=>{e[t.id]="Absent"}),h(e)},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium flex items-center gap-2",children:"\u274c Mark All Absent"}),(0,mr.jsx)("button",{onClick:()=>{h({})},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium flex items-center gap-2",children:"\ud83d\uddd1\ufe0f Clear All"}),(0,mr.jsx)("button",{onClick:async()=>{if(0!==Object.keys(u).length)try{const e=localStorage.getItem("token");p(!0);for(const[t,n]of Object.entries(u))await Ua.post("/attendance/store",{attendance:{student_id:parseInt(t),date:A,status:n,reason:null}},{headers:{Authorization:"Bearer ".concat(e)}});pi.success(" Attendance saved successfully!"),h({})}catch(e){console.error(e),pi.error(" Error saving attendance")}finally{p(!1)}else pi.warn("\u26a0\ufe0f Please mark attendance for at least one student")},disabled:m||0===Object.keys(u).length,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium flex items-center gap-2",children:m?"\u23f3 Saving...":"\ud83d\udcbe Save Attendance"})]})}),m?(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading students..."})]}):a.length>0?(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,mr.jsx)("div",{className:"p-6 space-y-4",children:a.map(e=>{var t,n,r,s;return(0,mr.jsxs)("div",{className:"flex items-center justify-between p-4 border-2 rounded-lg transition-all ".concat("Present"===u[e.id]?"border-green-200 bg-green-50":"Absent"===u[e.id]?"border-red-200 bg-red-50":"border-gray-200 hover:bg-gray-50"),children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,mr.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:null===(t=e.full_name)||void 0===t?void 0:t.split(" ").map(e=>e[0]).join("").toUpperCase()}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-800 text-lg",children:e.full_name}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mt-1",children:[(0,mr.jsxs)("span",{children:["Admission: #",e.admission_number]}),(0,mr.jsxs)("span",{children:["Branch: ",null===(n=e.branch)||void 0===n?void 0:n.branch_name]}),(0,mr.jsxs)("span",{children:["Contact: ",e.contact_number]}),(0,mr.jsxs)("span",{children:["Course: ",null===(r=e.courses)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.course_name]})]})]})]}),(0,mr.jsxs)("div",{className:"flex space-x-2",children:[(0,mr.jsx)("button",{onClick:()=>g(e.id,"Present"),className:"px-5 py-3 rounded-lg font-medium transition-all duration-200 min-w-[100px] ".concat("Present"===u[e.id]?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-green-100 hover:text-green-700 border-2 border-green-200"),children:"\u2705 Present"}),(0,mr.jsx)("button",{onClick:()=>g(e.id,"Absent"),className:"px-5 py-3 rounded-lg font-medium transition-all duration-200 min-w-[100px] ".concat("Absent"===u[e.id]?"bg-red-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-red-100 hover:text-red-700 border-2 border-red-200"),children:"\u274c Absent"})]})]},e.id)})})}):o&&c?(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,mr.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdd"}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No students found"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"No students are enrolled in this course for the selected branch"})]}):(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,mr.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc68\u200d\ud83c\udf93"}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:o?"Select a Course to View Students":"Select a Branch to Continue"}),(0,mr.jsx)("p",{className:"text-gray-500",children:o?"Choose a course from the dropdown to view students":"Choose a branch from the dropdown above to start marking attendance"})]})]})}function G_(){const[e,n]=(0,t.useState)("addAttendance");return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row h-full gap-6",children:[(0,mr.jsx)("div",{className:"lg:w-80 bg-white rounded-xl shadow-md p-4 space-y-3",children:[{id:"addAttendance",label:"\u2795 Add Student Attendance"},{id:"attendanceList",label:"\ud83d\udccb View Student Attendance"},{id:"staffAttendance",label:"\u2795 Staff Attendance"},{id:"viewStaffAttendance",label:"\ud83d\udccb View Staff Attendance"}].map(t=>(0,mr.jsxs)("button",{onClick:()=>n(t.id),className:"w-full text-left px-4 py-4 rounded-lg transition-all duration-200 flex items-center gap-3 ".concat(e===t.id?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"hover:bg-blue-50 text-gray-700 border border-gray-200"),children:[(0,mr.jsx)("span",{className:"text-lg",children:t.icon}),(0,mr.jsx)("span",{className:"font-medium",children:t.label})]},t.id))}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-4 lg:p-6 overflow-y-auto bg-gray-50",children:["addAttendance"===e&&(0,mr.jsx)(q_,{}),"attendanceList"===e&&(0,mr.jsx)(K_,{}),"staffAttendance"===e&&(0,mr.jsx)(W_,{}),"viewStaffAttendance"===e&&(0,mr.jsx)(V_,{})]})]})})}function Y_(){var e,n,r,s,a,i;const[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)("leads"),[u,h]=(0,t.useState)(""),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)([]),[b,y]=(0,t.useState)([]),[v,w]=(0,t.useState)(!1),[j,_]=(0,t.useState)("all"),[C,S]=(0,t.useState)(null),[k,B]=(0,t.useState)(!1),[E,L]=(0,t.useState)(null),[M,F]=(0,t.useState)(!1),[I,D]=(0,t.useState)({branch_id:"",full_name:"",contact_number_primary:"",contact_number_alternate:"",email_address:"",lead_source:"",lead_status:"New",priority:"Medium",notes:"",follow_up_datetime:"",assigned_to:"",course_id:"",budget_range:""});(0,t.useEffect)(()=>{T(),O(),P(),U()},[]);const T=async()=>{try{w(!0);const e=localStorage.getItem("token"),t=await Ua.get("/leads/index",{headers:{Authorization:"Bearer ".concat(e)}});l(t.data)}catch(e){console.error("Error fetching leads:",e),pi.error("Failed to load leads")}finally{w(!1)}},O=async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name,branch_code:e.branch_code||"BR-"+e.id,city:e.city,state:e.state,contact:e.contact_number,email:e.email,status:e.status,opening_date:e.opening_date,pin_code:e.pin_code||"",address:e.address||"",branch_type:e.branch_type||"Main"}));p(t)}catch(e){console.error("Error fetching branches:",e)}},P=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}});x(t.data||[])}catch(e){console.error("Error fetching staff:",e)}},U=async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];y(t)}catch(e){console.error("Error fetching courses:",e)}},R=e=>{const{id:t,value:n}=e.target;if("contact_number_primary"===t||"contact_number_alternate"===t){const e=n.replace(/\D/g,"").slice(0,10);D(n=>N(N({},n),{},{[t]:e}))}else D(e=>N(N({},e),{},{[t]:n}))},Q=e=>{var t;const n={branch_id:e.branch_id,full_name:e.full_name,contact_number_primary:e.contact_number_primary,contact_number_alternate:e.contact_number_alternate||"",email_address:e.email_address,lead_source:e.lead_source,lead_status:e.lead_status,priority:e.priority,notes:e.notes||"",follow_up_datetime:e.follow_up_datetime?e.follow_up_datetime.replace(" ","T").slice(0,16):"",assigned_to:(null===(t=e.assigned_to)||void 0===t?void 0:t.id)||e.assigned_to,course_id:e.course_id,budget_range:e.budget_range||""};D(n),d("new-lead")},z=e=>({New:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"New"}),Contacted:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Contacted"}),"Follow-up":(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Follow-up"}),"Demo Scheduled":(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Demo Scheduled"}),Converted:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Converted"}),Lost:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Lost"})}[e]||(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"})),H=e=>({High:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"High"}),Medium:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Medium"}),Low:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Low"})}[e]||(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"})),K=e=>{S(e),(async e=>{try{F(!0);const t=localStorage.getItem("token"),n=await Ua.get("/leads/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});L(n.data),B(!0)}catch(t){console.error("Error fetching lead details:",t),pi.error("Failed to load lead details")}finally{F(!1)}})(e.id)},W=()=>{B(!1),L(null),S(null)},V=e=>{switch(_(e),d("leads"),e){case"converted":f("Converted");break;case"in-progress":f("in-progress");break;case"lost":f("Lost");break;default:f("")}},q=o.filter(e=>{const t=""===u||e.full_name.toLowerCase().includes(u.toLowerCase())||e.email_address.toLowerCase().includes(u.toLowerCase())||e.contact_number_primary.includes(u);let n=""===A||e.lead_status===A;return"in-progress"===A&&(n=["Contacted","Follow-up","Demo Scheduled"].includes(e.lead_status)),t&&n}),G=o.length,Y=o.filter(e=>"Converted"===e.lead_status).length,J=o.filter(e=>["Contacted","Follow-up","Demo Scheduled"].includes(e.lead_status)).length,X=o.filter(e=>"Lost"===e.lead_status).length,Z=(e,t)=>{const n=e.map(e=>{var t,n,r;return{"Lead Code":e.lead_code||"","Full Name":e.full_name||"",Email:e.email_address||"","Primary Contact":e.contact_number_primary||"","Alternate Contact":e.contact_number_alternate||"",Status:e.lead_status||"",Priority:e.priority||"",Source:e.lead_source||"","Assigned To":(null===(t=e.assigned_to)||void 0===t?void 0:t.employee_name)||"Unassigned",Course:e.course_id&&(null===(n=b.find(t=>t.id===e.course_id))||void 0===n?void 0:n.course_name)||"","Budget Range":e.budget_range||"",Branch:e.branch_id&&(null===(r=m.find(t=>t.id===e.branch_id))||void 0===r?void 0:r.branchName)||"",Notes:e.notes||"","Follow-up Date":e.follow_up_datetime||"","Created At":e.created_at||""}}),r=r_.json_to_sheet(n),s=r_.book_new();r_.book_append_sheet(s,r,"Leads"),WN(s,"".concat(t,".xlsx"))};return(0,mr.jsxs)(wl,{children:[(0,mr.jsxs)("div",{className:"min-h-screen",children:[(0,mr.jsx)("header",{className:"bg-white border-b border-sf-border sf-shadow",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mr.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("div",{className:"w-8 h-8 bg-sf-blue rounded flex items-center justify-center",children:(0,mr.jsx)("i",{className:"fas fa-cloud text-white text-lg"})})}),(0,mr.jsx)("div",{className:"ml-4",children:(0,mr.jsx)("h1",{className:"text-xl font-semibold text-sf-text",children:"Lead Management"})})]})})})}),(0,mr.jsxs)("div",{className:"max-w-full mx-auto sm:px-6 lg:px-8 py-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-lg sf-shadow mb-6",children:(0,mr.jsx)("div",{className:"border-b border-sf-border",children:(0,mr.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,mr.jsxs)("button",{onClick:()=>{d("leads"),_("all"),f("")},className:"py-4 px-1 border-b-2 ".concat("leads"===c?"border-sf-blue text-sf-blue":"border-transparent text-sf-text-light hover:text-sf-text"," font-medium text-sm"),children:[(0,mr.jsx)("i",{className:"fas fa-users mr-2"}),"Leads"]}),(0,mr.jsxs)("button",{onClick:()=>d("new-lead"),className:"py-4 px-1 border-b-2 ".concat("new-lead"===c?"border-sf-blue text-sf-blue":"border-transparent text-sf-text-light hover:text-sf-text"," font-medium text-sm"),children:[(0,mr.jsx)("i",{className:"fas fa-plus mr-2"}),"New Lead"]}),(0,mr.jsxs)("button",{onClick:()=>d("reports"),className:"py-4 px-1 border-b-2 ".concat("reports"===c?"border-sf-blue text-sf-blue":"border-transparent text-sf-text-light hover:text-sf-text"," font-medium text-sm"),children:[(0,mr.jsx)("i",{className:"fas fa-chart-bar mr-2"}),"Reports"]})]})})}),"leads"===c&&(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsx)("div",{className:"bg-white rounded-lg sf-shadow p-6",children:(0,mr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsxs)("h2",{className:"text-2xl font-semibold text-sf-text",children:["Leads","all"!==j&&(0,mr.jsxs)("span",{className:"ml-2 text-sm font-normal text-sf-text-light capitalize",children:["(",j.replace("-"," "),")"]})]}),(0,mr.jsxs)("span",{className:"bg-sf-blue-light text-sf-blue px-3 py-1 rounded-full text-sm font-medium",children:[q.length," item",1!==q.length?"s":""]})]}),(0,mr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search leads...",className:"pl-10 pr-4 py-2 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent w-64",value:u,onChange:e=>h(e.target.value)}),(0,mr.jsx)("i",{className:"fas fa-search absolute left-3 top-3 text-sf-text-light"})]}),(0,mr.jsxs)("select",{className:"px-4 py-2 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",value:A,onChange:e=>f(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"All Status"}),(0,mr.jsx)("option",{value:"New",children:"New"}),(0,mr.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,mr.jsx)("option",{value:"Follow-up",children:"Follow-up"}),(0,mr.jsx)("option",{value:"Demo Scheduled",children:"Demo Scheduled"}),(0,mr.jsx)("option",{value:"Converted",children:"Converted"}),(0,mr.jsx)("option",{value:"Lost",children:"Lost"}),(0,mr.jsx)("option",{value:"in-progress",children:"In Progress"})]}),(0,mr.jsxs)("button",{onClick:()=>{let e="All_Leads",t=q;"Converted"===A?e="Converted_Leads":"in-progress"===A?(e="In_Progress_Leads",t=o.filter(e=>["Contacted","Follow-up","Demo Scheduled"].includes(e.lead_status))):"Lost"===A&&(e="Lost_Leads"),Z(t,e)},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-file-excel mr-2"}),"Export Excel"]}),(0,mr.jsxs)("button",{onClick:()=>d("new-lead"),className:"bg-sf-blue hover:bg-sf-blue-dark text-white px-6 py-2 rounded-lg font-medium transition-colors",children:[(0,mr.jsx)("i",{className:"fas fa-plus mr-2"}),"New Lead"]})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-lg sf-shadow overflow-hidden",children:v?(0,mr.jsxs)("div",{className:"p-8 text-center",children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin text-2xl text-sf-blue"}),(0,mr.jsx)("p",{className:"mt-2",children:"Loading leads..."})]}):(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full divide-y divide-sf-border",children:[(0,mr.jsx)("thead",{className:"bg-sf-gray",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Lead"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Contact"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Priority"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Owner"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Source"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-sf-border",children:0===q.length?(0,mr.jsx)("tr",{children:(0,mr.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center text-sf-text-light",children:[(0,mr.jsx)("i",{className:"fas fa-users text-4xl mb-4"}),(0,mr.jsx)("p",{className:"text-lg",children:"No leads found"}),(0,mr.jsx)("p",{className:"text-sm",children:A?'No leads with status "'.concat(A,'"'):"Create your first lead to get started"})]})}):q.map(e=>{var t;return(0,mr.jsxs)("tr",{className:"hover:bg-sf-gray cursor-pointer",onClick:()=>K(e),children:[(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,mr.jsx)("div",{className:"h-10 w-10 rounded-full bg-sf-blue flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-sm font-medium text-white",children:e.full_name.charAt(0)})})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("div",{className:"text-sm font-medium text-sf-text",children:e.full_name}),(0,mr.jsx)("div",{className:"text-sm text-sf-text-light",children:e.lead_code})]})]})}),(0,mr.jsxs)("td",{className:"px-6 py-4",children:[(0,mr.jsx)("div",{className:"text-sm text-sf-text",children:e.email_address}),(0,mr.jsx)("div",{className:"text-sm text-sf-text-light",children:e.contact_number_primary})]}),(0,mr.jsx)("td",{className:"px-6 py-4",children:z(e.lead_status)}),(0,mr.jsx)("td",{className:"px-6 py-4",children:H(e.priority)}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-sf-text",children:(null===(t=e.assigned_to)||void 0===t?void 0:t.employee_name)||"Unassigned"}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-sf-text",children:e.lead_source}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:(0,mr.jsxs)("div",{className:"flex space-x-2",onClick:e=>e.stopPropagation(),children:[(0,mr.jsx)("button",{onClick:()=>Q(e),className:"text-green-600 hover:text-green-800",children:(0,mr.jsx)("i",{className:"fas fa-edit"})}),(0,mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this lead?"))try{const t=localStorage.getItem("token");(await Ua.delete("/leads/destroy/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data.success&&(pi.success("Lead deleted successfully!"),T())}catch(t){console.error("Error deleting lead:",t),pi.error("Failed to delete lead")}})(e.id),className:"text-red-600 hover:text-red-800",children:(0,mr.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id)})})]})})})]}),"new-lead"===c&&(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg sf-shadow",children:[(0,mr.jsx)("div",{className:"px-6 py-4 border-b border-sf-border",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold text-sf-text",children:"New Lead"}),(0,mr.jsx)("button",{onClick:()=>d("leads"),className:"text-sf-text-light hover:text-sf-text",children:(0,mr.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{w(!0);const e=localStorage.getItem("token"),t=N(N({},I),{},{follow_up_datetime:I.follow_up_datetime?"".concat(I.follow_up_datetime.replace("T"," "),":00"):null});(await Ua.post("/leads/store",t,{headers:{Authorization:"Bearer ".concat(e)}})).data.success&&(pi.success("Lead created successfully!"),D({branch_id:"",full_name:"",contact_number_primary:"",contact_number_alternate:"",email_address:"",lead_source:"",lead_status:"New",priority:"Medium",notes:"",follow_up_datetime:"",assigned_to:"",course_id:"",budget_range:""}),T(),d("leads"))}catch(t){console.error("Error creating lead:",t),pi.error("Failed to create lead")}finally{w(!1)}},className:"p-6",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Lead Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Branch ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"branch_id",value:I.branch_id,onChange:R,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),m.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branchName},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Full Name ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsx)("input",{type:"text",id:"full_name",value:I.full_name,onChange:R,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Primary Contact ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsx)("input",{type:"tel",id:"contact_number_primary",value:I.contact_number_primary,onChange:R,required:!0,inputMode:"numeric",pattern:"[0-9]*",maxLength:"10",className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Alternate Contact"}),(0,mr.jsx)("input",{type:"tel",id:"contact_number_alternate",value:I.contact_number_alternate,onChange:R,inputMode:"numeric",pattern:"[0-9]*",maxLength:"10",className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Email Address ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsx)("input",{type:"email",id:"email_address",value:I.email_address,onChange:R,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]})]})]}),(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Lead Details"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Lead Source ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"lead_source",value:I.lead_source,onChange:R,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"",children:"--None--"}),(0,mr.jsx)("option",{value:"instagram",children:"Instagram"}),(0,mr.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,mr.jsx)("option",{value:"walk-in",children:"Walk-in"}),(0,mr.jsx)("option",{value:"offline",children:"Offline"}),(0,mr.jsx)("option",{value:"facebook",children:"Facebook"}),(0,mr.jsx)("option",{value:"website",children:"Website"}),(0,mr.jsx)("option",{value:"googleAds",children:"Google Ads"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Lead Status ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"lead_status",value:I.lead_status,onChange:R,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"New",children:"New"}),(0,mr.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,mr.jsx)("option",{value:"Follow-up",children:"Follow-up"}),(0,mr.jsx)("option",{value:"Demo Scheduled",children:"Demo Scheduled"}),(0,mr.jsx)("option",{value:"Converted",children:"Converted"}),(0,mr.jsx)("option",{value:"Lost",children:"Lost"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Interested Course"}),(0,mr.jsxs)("select",{id:"course_id",value:I.course_id,onChange:R,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"",children:"--None--"}),b.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Assigned To ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"assigned_to",value:I.assigned_to,onChange:R,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"",children:"--None--"}),g.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.employee_name," - ",e.designation]},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Priority ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"priority",value:I.priority,onChange:R,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"Medium",children:"Medium"}),(0,mr.jsx)("option",{value:"High",children:"High"}),(0,mr.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Budget Range"}),(0,mr.jsx)("input",{type:"number",id:"budget_range",value:I.budget_range,onChange:R,placeholder:"e.g., Rs. 1,000 - Rs. 5,000",className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]})]})]}),(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Follow-up & Additional Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Follow-up Date & Time"}),(0,mr.jsx)("input",{type:"datetime-local",id:"follow_up_datetime",value:I.follow_up_datetime,onChange:R,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Notes/Remarks"}),(0,mr.jsx)("textarea",{id:"notes",value:I.notes,onChange:R,rows:"4",className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",placeholder:"Enter any additional notes or remarks..."})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-sf-border",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>d("leads"),className:"px-6 py-3 border border-sf-border text-sf-text rounded-lg hover:bg-sf-gray transition-colors",children:"Cancel"}),(0,mr.jsx)("button",{type:"button",onClick:()=>{D({branch_id:"",full_name:"",contact_number_primary:"",contact_number_alternate:"",email_address:"",lead_source:"",lead_status:"New",priority:"Medium",notes:"",follow_up_datetime:"",assigned_to:"",course_id:"",budget_range:""})},className:"px-6 py-3 border border-sf-border text-sf-text rounded-lg hover:bg-sf-gray transition-colors",children:"Clear"}),(0,mr.jsx)("button",{type:"submit",disabled:v,className:"px-8 py-3 bg-sf-blue hover:bg-sf-blue-dark text-white rounded-lg transition-colors font-medium disabled:opacity-50",children:v?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Saving..."]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("i",{className:"fas fa-save mr-2"}),"Save Lead"]})})]})]})]})}),"reports"===c&&(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg sf-shadow p-6",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold text-sf-text",children:"Lead Reports"}),(0,mr.jsxs)("button",{onClick:()=>{Z(o,"All_Leads")},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg font-medium transition-colors flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-file-excel mr-2"}),"Export All Leads"]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,mr.jsx)("div",{className:"bg-sf-blue-light p-6 rounded-lg cursor-pointer transition-all hover:scale-105 hover:shadow-lg",onClick:()=>V("all"),children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-users text-sf-blue text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"Total Leads"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:G})]})]}),(0,mr.jsx)("i",{className:"fas fa-chevron-right text-sf-text-light"})]})}),(0,mr.jsx)("div",{className:"bg-green-50 p-6 rounded-lg cursor-pointer transition-all hover:scale-105 hover:shadow-lg",onClick:()=>V("converted"),children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-check-circle text-green-600 text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"Converted"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:Y})]})]}),(0,mr.jsx)("i",{className:"fas fa-chevron-right text-sf-text-light"})]})}),(0,mr.jsx)("div",{className:"bg-yellow-50 p-6 rounded-lg cursor-pointer transition-all hover:scale-105 hover:shadow-lg",onClick:()=>V("in-progress"),children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-clock text-yellow-600 text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"In Progress"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:J})]})]}),(0,mr.jsx)("i",{className:"fas fa-chevron-right text-sf-text-light"})]})}),(0,mr.jsx)("div",{className:"bg-red-50 p-6 rounded-lg cursor-pointer transition-all hover:scale-105 hover:shadow-lg",onClick:()=>V("lost"),children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-times-circle text-red-600 text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"Lost"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:X})]})]}),(0,mr.jsx)("i",{className:"fas fa-chevron-right text-sf-text-light"})]})})]})]})})]})]}),k&&(0,mr.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,mr.jsxs)("div",{className:"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0",children:[(0,mr.jsx)("div",{className:"fixed inset-0 transition-opacity bg-gray-500 bg-opacity-75",onClick:W}),(0,mr.jsx)("div",{className:"relative inline-block w-full max-w-4xl px-4 pt-5 pb-4 overflow-hidden text-left align-bottom transition-all transform bg-white rounded-lg shadow-xl sm:my-8 sm:align-middle sm:p-6",children:M?(0,mr.jsxs)("div",{className:"flex items-center justify-center py-12",children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin text-3xl text-sf-blue mr-3"}),(0,mr.jsx)("span",{className:"text-lg",children:"Loading lead details..."})]}):E?(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between pb-4 mb-6 border-b border-sf-border",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("div",{className:"w-12 h-12 rounded-full bg-sf-blue flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-lg font-medium text-white",children:(null===(e=E.full_name)||void 0===e?void 0:e.charAt(0))||"L"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-sf-text",children:E.full_name}),(0,mr.jsxs)("p",{className:"text-sf-text-light",children:[E.lead_code," \u2022 ",E.email_address]})]})]}),(0,mr.jsx)("button",{onClick:W,className:"p-2 text-sf-text-light hover:text-sf-text hover:bg-sf-gray rounded-lg transition-colors",children:(0,mr.jsx)("i",{className:"fas fa-times text-xl"})})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"text-lg font-semibold text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Basic Information"}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Lead Code:"}),(0,mr.jsx)("span",{className:"font-medium",children:E.lead_code})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Primary Contact:"}),(0,mr.jsx)("span",{className:"font-medium",children:E.contact_number_primary})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Alternate Contact:"}),(0,mr.jsx)("span",{className:"font-medium",children:E.contact_number_alternate||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Email:"}),(0,mr.jsx)("span",{className:"font-medium",children:E.email_address})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Lead Source:"}),(0,mr.jsx)("span",{className:"font-medium capitalize",children:E.lead_source})]})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"text-lg font-semibold text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Status & Priority"}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Status:"}),z(E.lead_status)]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Priority:"}),H(E.priority)]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Budget Range:"}),(0,mr.jsx)("span",{className:"font-medium",children:E.budget_range?"Rs. ".concat(E.budget_range):"N/A"})]})]})]})]}),(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"text-lg font-semibold text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Assignment & Course"}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Assigned To:"}),(0,mr.jsx)("span",{className:"font-medium",children:(null===(n=E.assigned_to)||void 0===n?void 0:n.employee_name)||"Unassigned"})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Designation:"}),(0,mr.jsx)("span",{className:"font-medium",children:(null===(r=E.assigned_to)||void 0===r?void 0:r.designation)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Interested Course:"}),(0,mr.jsx)("span",{className:"font-medium text-right",children:(null===(s=E.course)||void 0===s?void 0:s.course_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Course Mode:"}),(0,mr.jsx)("span",{className:"font-medium",children:(null===(a=E.course)||void 0===a?void 0:a.mode)||"N/A"})]})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"text-lg font-semibold text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Branch & Timeline"}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Branch:"}),(0,mr.jsx)("span",{className:"font-medium text-right",children:(null===(i=E.branch)||void 0===i?void 0:i.branch_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Follow-up Date:"}),(0,mr.jsx)("span",{className:"font-medium",children:E.follow_up_datetime?new Date(E.follow_up_datetime).toLocaleString():"Not scheduled"})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sf-text-light",children:"Created On:"}),(0,mr.jsx)("span",{className:"font-medium",children:new Date(E.created_at).toLocaleDateString()})]})]})]})]})]}),E.notes&&(0,mr.jsxs)("div",{className:"mt-8 pt-6 border-t border-sf-border",children:[(0,mr.jsx)("h4",{className:"text-lg font-semibold text-sf-text mb-3",children:"Notes & Remarks"}),(0,mr.jsx)("div",{className:"bg-sf-gray rounded-lg p-4",children:(0,mr.jsx)("p",{className:"text-sf-text whitespace-pre-wrap",children:E.notes})})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 pt-6 mt-6 border-t border-sf-border",children:[(0,mr.jsxs)("button",{onClick:()=>{Q(E),W()},className:"px-6 py-2 bg-green-600 hover:bg-green-700 text-white rounded-lg font-medium transition-colors flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-edit mr-2"}),"Edit Lead"]}),(0,mr.jsx)("button",{onClick:W,className:"px-6 py-2 border border-sf-border text-sf-text rounded-lg hover:bg-sf-gray transition-colors",children:"Close"})]})]}):(0,mr.jsxs)("div",{className:"text-center py-8",children:[(0,mr.jsx)("i",{className:"fas fa-exclamation-triangle text-3xl text-yellow-500 mb-4"}),(0,mr.jsx)("p",{className:"text-lg text-sf-text",children:"Failed to load lead details"}),(0,mr.jsx)("button",{onClick:W,className:"mt-4 px-6 py-2 border border-sf-border text-sf-text rounded-lg hover:bg-sf-gray transition-colors",children:"Close"})]})})]})}),(0,mr.jsx)("style",{jsx:!0,children:"\n        .bg-sf-blue {\n          background-color: #0176d3;\n        }\n        .bg-sf-blue-dark {\n          background-color: #014486;\n        }\n        .bg-sf-blue-light {\n          background-color: #e3f3ff;\n        }\n        .bg-sf-gray {\n          background-color: #f3f2f2;\n        }\n        .border-sf-border {\n          border-color: #dddbda;\n        }\n        .text-sf-text {\n          color: #080707;\n        }\n        .text-sf-text-light {\n          color: #706e6b;\n        }\n        .sf-shadow {\n          box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n        }\n        .sf-shadow-lg {\n          box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.12);\n        }\n      "})]})}const J_=function(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)("");return(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});i(t.data)}catch(e){console.error("Error fetching branches:",e),pi.error("Failed to load branches")}})()},[]),(0,mr.jsxs)("div",{className:"items-center flex justify-center mt-10",children:[(0,mr.jsx)(Ci,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),"      ",(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-lg",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create Category"}),(0,mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=localStorage.getItem("token");if(!t)return void pi.error("No token found! Please login again.");const a={name:e,branch_id:Number(r)},i=await Ua.post("/categories",a,{headers:{Authorization:"Bearer ".concat(t)}});l("\u2705 Category Created: ".concat(i.data.name)),n(""),s("")}catch(a){console.error(a),l("\u274c Error creating category")}},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Category Name"}),(0,mr.jsx)("input",{type:"text",placeholder:"Enter category name",value:e,onChange:e=>n(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-400",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Select Branch"}),(0,mr.jsxs)("select",{value:r,onChange:e=>s(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-400",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Branch --"}),a.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition",children:"Create Category"})]}),o&&(0,mr.jsx)("p",{className:"mt-4 text-center text-sm font-medium text-green-600",children:o})]})]})};const X_=function(){var e;const[n,r]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)("all"),[h,A]=(0,t.useState)([]),[f,m]=(0,t.useState)({isOpen:!1,category:null}),[p,g]=(0,t.useState)({isOpen:!1,category:null}),[x,b]=(0,t.useState)({name:"",branch_id:""});return(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const[t,n]=await Promise.all([Ua.get("/categories",{headers:{Authorization:"Bearer ".concat(e)}}),Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})]);r(t.data),a(t.data),A(n.data)}catch(e){console.error("Error fetching data:",e),pi.error("Failed to load data")}finally{o(!1)}})()},[]),(0,t.useEffect)(()=>{let e=n;l&&(e=e.filter(e=>e.name.toLowerCase().includes(l.toLowerCase())||e.branch&&e.branch.branch_name.toLowerCase().includes(l.toLowerCase()))),"all"!==d&&(e=e.filter(e=>e.branch_id==d)),a(e)},[l,d,n]),(0,t.useEffect)(()=>(f.isOpen||p.isOpen?document.body.style.overflow="hidden":document.body.style.overflow="unset",()=>{document.body.style.overflow="unset"}),[f.isOpen,p.isOpen]),(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 md:p-6",children:[(0,mr.jsx)(Ci,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,mr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,mr.jsxs)("div",{className:"bg-white shadow-xl rounded-2xl",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white",children:[(0,mr.jsx)("h2",{className:"text-2xl md:text-3xl font-bold mb-2",children:"All Categories"}),(0,mr.jsx)("p",{className:"text-blue-100",children:"Manage and organize your product categories"})]}),(0,mr.jsx)("div",{className:"p-4 md:p-6 border-b border-gray-200",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,mr.jsxs)("div",{className:"relative flex-1",children:[(0,mr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,mr.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,mr.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),(0,mr.jsx)("input",{type:"text",placeholder:"Search categories...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:l,onChange:e=>c(e.target.value)})]}),(0,mr.jsx)("div",{className:"w-full md:w-48",children:(0,mr.jsxs)("select",{className:"w-full px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:d,onChange:e=>u(e.target.value),children:[(0,mr.jsx)("option",{value:"all",children:"All Branches"}),h.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})})]})}),(0,mr.jsx)("div",{className:"p-4 md:p-6",children:i?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):0===s.length?(0,mr.jsxs)("div",{className:"text-center py-12",children:[(0,mr.jsx)("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,mr.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No categories found"}),(0,mr.jsx)("p",{className:"mt-1 text-gray-500",children:"Try adjusting your search or filter to find what you're looking for."})]}):(0,mr.jsx)("div",{className:"overflow-x-auto rounded-lg",children:(0,mr.jsxs)("table",{className:"min-w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Branch"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase",children:"Created At"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-right text-xs font-medium text-gray-500 uppercase",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:s.map(e=>{var t;return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-4 py-4 text-sm font-semibold text-gray-900",children:e.name}),(0,mr.jsx)("td",{className:"px-4 py-4 text-sm text-gray-700",children:null===(t=e.branch)||void 0===t?void 0:t.branch_name}),(0,mr.jsx)("td",{className:"px-4 py-4 text-sm text-gray-700",children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}),(0,mr.jsx)("td",{className:"px-4 py-4 text-sm font-medium text-right",children:(0,mr.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,mr.jsx)("button",{onClick:()=>{return m({isOpen:!0,category:t=e}),void b({name:t.name,branch_id:t.branch_id});var t},className:"px-3 py-1 bg-blue-500 text-white rounded hover:bg-blue-600 transition-colors",children:"Edit"}),(0,mr.jsx)("button",{onClick:()=>{g({isOpen:!0,category:e})},className:"px-3 py-1 bg-red-500 text-white rounded hover:bg-red-600 transition-colors",children:"Delete"})]})})]},e.id)})})]})})})]})}),f.isOpen&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:(0,mr.jsx)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-auto",children:(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Edit Category"}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),{id:t}=f.category;await Ua.put("/categories/".concat(t),{name:x.name},{headers:{Authorization:"Bearer ".concat(e)}});r(n.map(e=>e.id===t?N(N({},e),{},{name:x.name}):e)),m({isOpen:!1,category:null}),pi.success("Category updated successfully!")}catch(t){console.error("Error updating category:",t),pi.error("Failed to update category")}},children:[(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"name",children:"Category Name"}),(0,mr.jsx)("input",{type:"text",id:"name",value:x.name,onChange:e=>b(N(N({},x),{},{name:e.target.value})),className:"shadow appearance-none border rounded w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:shadow-outline",required:!0,autoFocus:!0})]}),(0,mr.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>m({isOpen:!1,category:null}),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-md transition-colors",children:"Save Changes"})]})]})]})})}),p.isOpen&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4",children:(0,mr.jsx)("div",{className:"relative bg-white rounded-lg shadow-xl max-w-md w-full mx-auto",children:(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-4",children:"Delete Category"}),(0,mr.jsxs)("p",{className:"text-gray-600 mb-6",children:['Are you sure you want to delete the category "',null===(e=p.category)||void 0===e?void 0:e.name,'"? This action cannot be undone.']}),(0,mr.jsxs)("div",{className:"flex items-center justify-end gap-3 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>g({isOpen:!1,category:null}),className:"px-4 py-2 text-sm font-medium text-gray-700 bg-gray-200 hover:bg-gray-300 rounded-md transition-colors",children:"Cancel"}),(0,mr.jsx)("button",{type:"button",onClick:async()=>{try{const e=localStorage.getItem("token"),{id:t}=p.category;await Ua.delete("/categories/".concat(t),{headers:{Authorization:"Bearer ".concat(e)}}),r(n.filter(e=>e.id!==t)),g({isOpen:!1,category:null}),pi.success("Category deleted successfully!")}catch(e){console.error("Error deleting category:",e),pi.error("Failed to delete category")}},className:"px-4 py-2 text-sm font-medium text-white bg-red-600 hover:bg-red-700 rounded-md transition-colors",children:"Delete"})]})]})})})]})};const Z_=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(!1);return(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(e){console.error("Error fetching branches:",e),pi.error("Failed to load branches")}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const t=await Ua.get("/categories",{headers:{Authorization:"Bearer ".concat(e)}});s(t.data)}catch(e){console.error("Error fetching categories:",e),pi.error("Failed to load categories")}})()},[]),(0,mr.jsx)("div",{className:"items-center flex justify-center mt-10",children:(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-2xl",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create Expense"}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),y(!0);try{const e=localStorage.getItem("token");if(!e)return pi.error("No token found! Please login again."),void y(!1);const t={branch_id:Number(a),category_id:Number(o),payment_to:c,expense_date:u,description:A,amount:Number(m),payment_mode:g};await Ua.post("/expenses",t,{headers:{Authorization:"Bearer ".concat(e)}});pi.success(" Expense Created Successfully!"),i(""),l(""),d(""),h(""),f(""),p(""),x("")}catch(v){var t,n,r,s,b;console.error(v),null!==(t=v.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.message?pi.error("\u274c Error: ".concat(v.response.data.message)):400===(null===(r=v.response)||void 0===r?void 0:r.status)?pi.error("\u274c Bad Request: Please check your input data"):401===(null===(s=v.response)||void 0===s?void 0:s.status)?pi.error("\u274c Unauthorized: Please login again"):500===(null===(b=v.response)||void 0===b?void 0:b.status)?pi.error("\u274c Server Error: Please try again later"):pi.error("\u274c Error creating expense")}finally{y(!1)}},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Select Branch"}),(0,mr.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Branch --"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Select Category"}),(0,mr.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Category --"}),r.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Payment To"}),(0,mr.jsx)("input",{type:"text",placeholder:"Vendor / Person",value:c,onChange:e=>d(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Expense Date"}),(0,mr.jsx)("input",{type:"date",value:u,onChange:e=>h(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Description"}),(0,mr.jsx)("textarea",{placeholder:"Enter description",value:A,onChange:e=>f(e.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Amount"}),(0,mr.jsx)("input",{type:"number",placeholder:"Enter amount",value:m,onChange:e=>p(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Payment Mode"}),(0,mr.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Mode --"}),(0,mr.jsx)("option",{value:"Cash",children:"Cash"}),(0,mr.jsx)("option",{value:"Card",children:"Card"}),(0,mr.jsx)("option",{value:"UPI",children:"UPI"}),(0,mr.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"})]})]}),(0,mr.jsx)("button",{type:"submit",disabled:b,className:"w-full py-2 rounded-lg transition ".concat(b?"bg-gray-400 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 text-white"),children:b?"Creating Expense...":"Save Expense"})]}),(0,mr.jsx)(Ci,{position:"top-center",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"})]})})};const $_=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)("all"),[o,l]=(0,t.useState)(!0),[c,d]=(0,t.useState)({isOpen:!1,expense:null}),[u,h]=(0,t.useState)({payment_to:"",amount:"",payment_mode:"",expense_date:"",description:""}),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(""),[g,x]=(0,t.useState)("all"),[b,y]=(0,t.useState)("all"),[v,w]=(0,t.useState)({start:"",end:""}),j=(0,t.useRef)({});(0,t.useEffect)(()=>{const e=e=>{let t=!0;Object.values(j.current).forEach(n=>{n&&n.contains(e.target)&&(t=!1)}),t&&f(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const[t,r]=await Promise.all([Ua.get("/expenses",{headers:{Authorization:"Bearer ".concat(e)}}),Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})]);t.data.status?n(t.data.data):pi.error("Failed to fetch expenses"),s(r.data||[])}catch(e){console.error("Error fetching data:",e),pi.error("Something went wrong while fetching data")}finally{l(!1)}})()},[]);const _=[...new Set(e.map(e=>e.category))],C=[...new Set(e.map(e=>e.payment_mode))],S=e.filter(e=>{var t;const n="all"===a||(()=>{const t=r.find(t=>t.branch_name===e.branch_name);return t&&t.id.toString()===a})(),s="all"===g||e.category===g,i="all"===b||e.payment_mode===b,o=""===m||e.payment_to.toLowerCase().includes(m.toLowerCase())||(null===(t=e.description)||void 0===t?void 0:t.toLowerCase().includes(m.toLowerCase()));let l=!0;if(v.start&&v.end){const t=new Date(e.expense_date),n=new Date(v.start),r=new Date(v.end);l=t>=n&&t<=r}return n&&s&&i&&o&&l}),k=(e,t)=>{t.stopPropagation(),((e,t)=>{t&&t.stopPropagation(),f(A===e?null:e)})(e,t)},B=(e,t)=>{t.stopPropagation(),(e=>{d({isOpen:!0,expense:e}),h({payment_to:e.payment_to,amount:e.amount,payment_mode:e.payment_mode,expense_date:e.expense_date,description:e.description||""}),f(null)})(e)},E=(t,r)=>{r.stopPropagation(),(async t=>{if(window.confirm("Are you sure you want to delete this expense?"))try{const r=localStorage.getItem("token");await Ua.delete("/expenses/".concat(t),{headers:{Authorization:"Bearer ".concat(r)}}),n(e.filter(e=>e.id!==t)),f(null),pi.success("Expense deleted successfully!")}catch(r){console.error("Error deleting expense:",r),pi.error("Failed to delete expense")}})(t)},L=S.reduce((e,t)=>e+parseFloat(t.amount),0),M=()=>{i("all"),p(""),x("all"),y("all"),w({start:"",end:""})};return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0,newestOnTop:!0,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-purple-600 via-indigo-600 to-blue-600 p-8 rounded-3xl text-white mb-8 shadow-2xl transform transition-all duration-300 hover:shadow-3xl",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-4xl font-bold mb-3 bg-clip-text text-transparent bg-gradient-to-r from-white to-purple-100",children:"Expense Management"}),(0,mr.jsx)("p",{className:"text-purple-100 text-lg opacity-90",children:"Track and manage all business expenses efficiently"})]}),(0,mr.jsx)("div",{className:"mt-4 md:mt-0",children:(0,mr.jsx)("button",{onClick:M,className:"bg-white/20 hover:bg-white/30 backdrop-blur-sm px-6 py-3 rounded-2xl font-semibold transition-all duration-300 transform hover:scale-105 border border-white/30",children:"Clear All Filters"})})]})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-3xl shadow-xl p-6 transform transition-all duration-300 hover:scale-105 hover:shadow-2xl border border-gray-100",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"rounded-2xl bg-gradient-to-br from-purple-500 to-indigo-600 p-4 mr-5 shadow-lg",children:(0,mr.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Expenses"}),(0,mr.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["\u20b9",L.toFixed(2)]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:[S.length," transactions"]})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-3xl shadow-xl p-6 transform transition-all duration-300 hover:scale-105 hover:shadow-2xl border border-gray-100",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"rounded-2xl bg-gradient-to-br from-blue-500 to-cyan-600 p-4 mr-5 shadow-lg",children:(0,mr.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Total Branches"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:r.length}),(0,mr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Active locations"})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-3xl shadow-xl p-6 transform transition-all duration-300 hover:scale-105 hover:shadow-2xl border border-gray-100",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"rounded-2xl bg-gradient-to-br from-green-500 to-emerald-600 p-4 mr-5 shadow-lg",children:(0,mr.jsx)("svg",{className:"w-8 h-8 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-500",children:"Filtered Expenses"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:S.length}),(0,mr.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Matching your criteria"})]})]})})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-3xl shadow-xl p-6 mb-8 border border-gray-100",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6 mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("h2",{className:"text-2xl font-bold text-gray-800",children:["All Expenses ",(0,mr.jsxs)("span",{className:"text-purple-600",children:["(",S.length,")"]})]}),(0,mr.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"Manage and track your expenses efficiently"})]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-4 w-full lg:w-auto",children:[(0,mr.jsxs)("div",{className:"relative w-full lg:w-64",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search expenses...",value:m,onChange:e=>p(e.target.value),className:"w-full rounded-2xl border border-gray-200 px-4 py-3 pl-11 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50"}),(0,mr.jsx)("svg",{className:"absolute left-4 top-3.5 h-5 w-5 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]}),(0,mr.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"rounded-2xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50 w-full lg:w-48",children:[(0,mr.jsx)("option",{value:"all",children:"All Branches"}),r.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-gray-50 rounded-2xl",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,mr.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-white",children:[(0,mr.jsx)("option",{value:"all",children:"All Categories"}),_.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Mode"}),(0,mr.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-white",children:[(0,mr.jsx)("option",{value:"all",children:"All Payment Modes"}),C.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,mr.jsx)("input",{type:"date",value:v.start,onChange:e=>w(N(N({},v),{},{start:e.target.value})),className:"w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-white"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,mr.jsx)("input",{type:"date",value:v.end,onChange:e=>w(N(N({},v),{},{end:e.target.value})),className:"w-full rounded-2xl border border-gray-200 px-4 py-2.5 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-white"})]})]})]})]}),(0,mr.jsx)("div",{className:"bg-white rounded-3xl shadow-xl p-6 border border-gray-100",children:o?(0,mr.jsx)("div",{className:"flex justify-center items-center py-20",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-purple-600 mb-4"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"Loading expenses..."})]})}):0===S.length?(0,mr.jsxs)("div",{className:"text-center py-16",children:[(0,mr.jsx)("div",{className:"w-24 h-24 mx-auto mb-6 bg-gradient-to-br from-purple-100 to-indigo-100 rounded-full flex items-center justify-center",children:(0,mr.jsx)("svg",{className:"h-12 w-12 text-purple-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-900 mb-2",children:"No expenses found"}),(0,mr.jsx)("p",{className:"text-gray-500 max-w-md mx-auto mb-6",children:"Try adjusting your filters or search terms to find what you're looking for."}),(0,mr.jsx)("button",{onClick:M,className:"bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-6 py-3 rounded-2xl font-medium hover:shadow-lg transform transition-all duration-300 hover:scale-105",children:"Clear All Filters"})]}):(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-6",children:S.map((e,t)=>{return(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-white to-gray-50 shadow-lg hover:shadow-2xl transition-all duration-500 rounded-3xl p-6 relative border border-gray-200 transform hover:-translate-y-2 animate-fade-in",style:{animationDelay:"".concat(.1*t,"s")},children:[(0,mr.jsxs)("div",{className:"absolute top-4 right-4",ref:t=>((e,t)=>{j.current[e]=t})(e.id,t),children:[(0,mr.jsx)("button",{onClick:t=>k(e.id,t),className:"inline-flex items-center p-2 border border-transparent rounded-2xl shadow-md text-white bg-gradient-to-r from-purple-500 to-indigo-500 hover:from-purple-600 hover:to-indigo-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-purple-500 transition-all duration-300 transform hover:scale-110",children:(0,mr.jsx)("svg",{className:"h-5 w-5",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",children:(0,mr.jsx)("path",{d:"M6 10a2 2 0 11-4 0 2 2 0 014 0zM12 10a2 2 0 11-4 0 2 2 0 014 0zM16 12a2 2 0 100-4 2 2 0 000 4z"})})}),A===e.id&&(0,mr.jsx)("div",{className:"origin-top-right absolute right-0 mt-2 w-56 rounded-2xl shadow-2xl bg-white ring-1 ring-black ring-opacity-5 z-10 animate-dropdown",children:(0,mr.jsxs)("div",{className:"py-2",role:"menu","aria-orientation":"vertical",children:[(0,mr.jsxs)("button",{onClick:t=>B(e,t),className:"flex items-center w-full px-4 py-3 text-sm text-gray-700 hover:bg-purple-50 transition-colors duration-200 rounded-t-2xl",role:"menuitem",children:[(0,mr.jsx)("svg",{className:"h-4 w-4 mr-3 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit Expense"]}),(0,mr.jsx)("div",{className:"border-t border-gray-100 my-1"}),(0,mr.jsxs)("button",{onClick:t=>E(e.id,t),className:"flex items-center w-full px-4 py-3 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200 rounded-b-2xl",role:"menuitem",children:[(0,mr.jsx)("svg",{className:"h-4 w-4 mr-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Expense"]})]})})]}),(0,mr.jsx)("div",{className:"mb-5",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("span",{className:"text-xs font-semibold px-3 py-1.5 rounded-full ".concat((n=e.category,{"Office Supplies":"bg-blue-100 text-blue-800",Utilities:"bg-green-100 text-green-800",Maintenance:"bg-yellow-100 text-yellow-800",Travel:"bg-purple-100 text-purple-800",Food:"bg-pink-100 text-pink-800",Other:"bg-gray-100 text-gray-800"}[n]||"bg-gray-100 text-gray-800")),children:e.category}),(0,mr.jsxs)("div",{className:"",children:[(0,mr.jsxs)("p",{className:"text-2xl mr-16 font-bold text-transparent bg-clip-text bg-gradient-to-r from-purple-600 to-indigo-600",children:["\u20b9",parseFloat(e.amount).toLocaleString()]}),(0,mr.jsx)("p",{className:"text-xs text-gray-500 mt-1 ml-4",children:e.payment_mode})]})]})}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-2xl p-3",children:[(0,mr.jsx)("div",{className:"rounded-xl bg-blue-100 p-2 mr-3",children:(0,mr.jsx)("svg",{className:"h-4 w-4 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-4m-8 0H3m2 0h4M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Branch"}),(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.branch_name})]})]}),(0,mr.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-2xl p-3",children:[(0,mr.jsx)("div",{className:"rounded-xl bg-green-100 p-2 mr-3",children:(0,mr.jsx)("svg",{className:"h-4 w-4 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Payment To"}),(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:e.payment_to})]})]}),(0,mr.jsxs)("div",{className:"flex items-center bg-gray-50 rounded-2xl p-3",children:[(0,mr.jsx)("div",{className:"rounded-xl bg-purple-100 p-2 mr-3",children:(0,mr.jsx)("svg",{className:"h-4 w-4 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-xs font-medium text-gray-500",children:"Date"}),(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-800",children:new Date(e.date).toLocaleDateString("en-IN")})]})]}),e.description&&(0,mr.jsxs)("div",{className:"pt-3 border-t border-gray-200",children:[(0,mr.jsx)("span",{className:"text-xs font-medium text-gray-500 block mb-2",children:"Description"}),(0,mr.jsx)("p",{className:"text-sm text-gray-700 bg-blue-50 rounded-2xl p-3",children:e.description})]})]})]},e.id);var n})})})]}),c.isOpen&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 overflow-y-auto h-full w-full z-50 flex items-center justify-center p-4 animate-fade-in",children:(0,mr.jsx)("div",{className:"relative bg-white rounded-3xl shadow-2xl w-full max-w-md transform animate-scale-in",children:(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-900",children:"Edit Expense"}),(0,mr.jsx)("button",{onClick:()=>d({isOpen:!1,expense:null}),className:"text-gray-400 hover:text-gray-600 transition-colors duration-200",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault();try{const t=localStorage.getItem("token"),{id:r}=c.expense;await Ua.put("/expenses/".concat(r),u,{headers:{Authorization:"Bearer ".concat(t)}});n(e.map(e=>e.id===r?N(N({},e),u):e)),d({isOpen:!1,expense:null}),pi.success("Expense updated successfully!")}catch(r){console.error("Error updating expense:",r),pi.error("Failed to update expense")}},children:[(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"payment_to",children:"Payment To"}),(0,mr.jsx)("input",{type:"text",id:"payment_to",value:u.payment_to,onChange:e=>h(N(N({},u),{},{payment_to:e.target.value})),className:"w-full rounded-2xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"amount",children:"Amount"}),(0,mr.jsx)("input",{type:"number",id:"amount",value:u.amount,onChange:e=>h(N(N({},u),{},{amount:e.target.value})),className:"w-full rounded-2xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"payment_mode",children:"Payment Mode"}),(0,mr.jsxs)("select",{id:"payment_mode",value:u.payment_mode,onChange:e=>h(N(N({},u),{},{payment_mode:e.target.value})),className:"w-full rounded-2xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Payment Mode"}),(0,mr.jsx)("option",{value:"Cash",children:"Cash"}),(0,mr.jsx)("option",{value:"UPI",children:"UPI"}),(0,mr.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"}),(0,mr.jsx)("option",{value:"Card",children:"Card"}),(0,mr.jsx)("option",{value:"Cheque",children:"Cheque"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"expense_date",children:"Date"}),(0,mr.jsx)("input",{type:"date",id:"expense_date",value:u.expense_date,onChange:e=>h(N(N({},u),{},{expense_date:e.target.value})),className:"w-full rounded-2xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",htmlFor:"description",children:"Description"}),(0,mr.jsx)("textarea",{id:"description",value:u.description,onChange:e=>h(N(N({},u),{},{description:e.target.value})),className:"w-full rounded-2xl border border-gray-200 px-4 py-3 focus:outline-none focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-300 bg-gray-50",rows:"3"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center justify-between mt-8",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>d({isOpen:!1,expense:null}),className:"bg-gray-100 hover:bg-gray-200 text-gray-800 font-medium py-3 px-6 rounded-2xl focus:outline-none focus:shadow-outline transition-all duration-300 transform hover:scale-105",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white font-medium py-3 px-6 rounded-2xl focus:outline-none focus:shadow-outline transition-all duration-300 transform hover:scale-105 shadow-lg",children:"Save Changes"})]})]})]})})})]})};function eC(){const[e,n]=(0,t.useState)("createcategory");return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsxs)("div",{className:"w-60 bg-white rounded-xl shadow-md p-4 space-y-3",children:[(0,mr.jsx)("button",{onClick:()=>n("createcategory"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("createcategory"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb Create Exp. Category"}),(0,mr.jsx)("button",{onClick:()=>n("allcategory"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("allcategory"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcca All Categories"}),(0,mr.jsx)("button",{onClick:()=>n("createexpense"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("createexpense"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcb0 Create Expense"}),(0,mr.jsx)("button",{onClick:()=>n("allexpense"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("allexpense"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcca All Expenses"})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto",children:["createcategory"===e&&(0,mr.jsx)(J_,{}),"allcategory"===e&&(0,mr.jsx)(X_,{}),"createexpense"===e&&(0,mr.jsx)(Z_,{}),"allexpense"===e&&(0,mr.jsx)($_,{})]})]})})}const tC=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)((new Date).toISOString().slice(0,7)),[g,x]=(0,t.useState)({amount:"",type:""}),[b,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(!1),[j,_]=(0,t.useState)(""),[C,S]=(0,t.useState)(!1);(0,t.useEffect)(()=>{if(r&&a.length>0){const e=a.filter(e=>e.branch_id==r);l(e),d("")}},[r,a]);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branch_name:e.branch_name}));n(t),t.length>0&&s(t[0].id)}catch(e){console.error("Error fetching branches:",e),_("Error fetching branches")}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}});i(t.data||[])}catch(e){console.error("Error fetching staff:",e),_("Error fetching staff")}})()},[]),(0,t.useEffect)(()=>{c&&((async()=>{if(c)try{const e=localStorage.getItem("token"),t=await Ua.get("/staffs/".concat(c,"/allowances"),{headers:{Authorization:"Bearer ".concat(e)}});h(t.data.allowances||[])}catch(e){console.error("Error fetching allowances:",e),_("Error fetching allowances")}})(),f(null))},[c]);const k=()=>{if(!c)return"";const e=a.find(e=>e.id==c);return e?e.employee_name:""},B=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long"});return(0,mr.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,mr.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Staff Salary Management"}),(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Select Branch & Staff"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,mr.jsx)("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:r,onChange:e=>s(e.target.value),children:e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member"}),(0,mr.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:c,onChange:e=>d(e.target.value),disabled:!r,children:[(0,mr.jsx)("option",{value:"",children:"Select a staff member"}),o.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.employee_name},e.id))]})]})]})]}),c&&(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,mr.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Manage Allowances for ",k()]}),(0,mr.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-md",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium mb-3",children:b?"Edit Allowance":"Add New Allowance"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,mr.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"e.g., Travel Allowance",value:b?b.type:g.type,onChange:e=>b?y(N(N({},b),{},{type:e.target.value})):x(N(N({},g),{},{type:e.target.value}))})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),(0,mr.jsx)("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Amount",value:b?b.amount:g.amount,onChange:e=>b?y(N(N({},b),{},{amount:e.target.value})):x(N(N({},g),{},{amount:e.target.value}))})]})]}),(0,mr.jsx)("div",{className:"flex space-x-2",children:b?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",onClick:async()=>{if(b&&b.amount&&b.type)try{const e=localStorage.getItem("token"),t=await Ua.put("/staffs/allowances/".concat(b.id),{amount:parseFloat(b.amount),type:b.type},{headers:{Authorization:"Bearer ".concat(e)}});h(u.map(e=>e.id===b.id?t.data.data:e)),y(null),_("Allowance updated successfully!")}catch(e){console.error("Error updating allowance:",e),_("Error updating allowance")}else _("Please fill all allowance fields")},children:"Update Allowance"}),(0,mr.jsx)("button",{className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",onClick:()=>y(null),children:"Cancel"})]}):(0,mr.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",onClick:async()=>{if(c&&g.amount&&g.type)try{const e=localStorage.getItem("token"),t=await Ua.post("/staffs/allowances",{staff_id:c,amount:parseFloat(g.amount),type:g.type},{headers:{Authorization:"Bearer ".concat(e)}});h([...u,t.data.data]),x({amount:"",type:""}),_("Allowance added successfully!")}catch(e){console.error("Error adding allowance:",e),_("Error adding allowance")}else _("Please fill all allowance fields")},children:"Add Allowance"})})]}),(0,mr.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Current Allowances"}),0===u.length?(0,mr.jsx)("p",{className:"text-gray-500",children:"No allowances added yet."}):(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(e=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.type}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["\u20b9",parseFloat(e.amount).toLocaleString()]}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,mr.jsx)("button",{className:"text-blue-600 hover:text-blue-900 mr-3",onClick:()=>y(e),children:"Edit"}),(0,mr.jsx)("button",{className:"text-red-600 hover:text-red-900",onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await Ua.delete("/staffs/allowances/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),h(u.filter(t=>t.id!==e)),_("Allowance deleted successfully!")}catch(t){console.error("Error deleting allowance:",t),_("Error deleting allowance")}})(e.id),children:"Delete"})]})]},e.id))})]})})]}),c&&(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,mr.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Salary Calculation for ",k()]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),(0,mr.jsx)("input",{type:"month",className:"w-full p-2 border border-gray-300 rounded-md",value:m,onChange:e=>p(e.target.value)})]}),(0,mr.jsxs)("div",{className:"flex items-end space-x-3",children:[(0,mr.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",onClick:async()=>{if(c&&m){w(!0);try{const e=localStorage.getItem("token"),t=await Ua.post("/staffs/salary/calculate",{staff_id:c,month:m},{headers:{Authorization:"Bearer ".concat(e)}});f(t.data.data||t.data),_("Salary calculated successfully!")}catch(e){console.error("Error calculating salary:",e),_("Error calculating salary")}finally{w(!1)}}else _("Please select a staff and month")},disabled:v,children:v?"Calculating...":"Calculate Salary"}),(0,mr.jsx)("button",{className:"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700 disabled:bg-green-300",onClick:async()=>{if(c&&m){w(!0);try{const e=localStorage.getItem("token"),t=await Ua.get("/staffs/salary/get",{params:{staff_id:c,month:m},headers:{Authorization:"Bearer ".concat(e)}});f(t.data.data||t.data),_("Salary data retrieved successfully!")}catch(e){console.error("Error getting salary:",e),_("Error getting salary data")}finally{w(!1)}}else _("Please select a staff and month")},disabled:v,children:v?"Loading...":"Get Salary"})]})]}),A&&(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[(0,mr.jsxs)("h3",{className:"text-lg font-medium mb-4",children:["Salary Details for ",A.month]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Staff Information"}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Name:"})," ",A.employee_name||A.staff_name]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Employee Code:"})," ",A.employee_code]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Designation:"})," ",A.designation]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Branch:"})," ",r]})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Attendance Summary"}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Present Days:"})," ",A.present_days]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Half Days:"})," ",A.half_days]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Absent Days:"})," ",A.absent_days]})]})]})]}),(0,mr.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Salary Breakdown"}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between mt-6",children:[(0,mr.jsx)("span",{children:"Monthly Salary:"}),(0,mr.jsxs)("span",{children:["\u20b9",parseFloat(A.monthly_salary).toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"flex mt-4 justify-between",children:[(0,mr.jsx)("span",{children:"Per Day Rate:"}),(0,mr.jsxs)("span",{children:["\u20b9",parseFloat(A.per_day_salary).toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{children:"Base Salary (Based on attendance):"}),(0,mr.jsxs)("span",{children:["\u20b9",parseFloat(A.base_salary).toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"flex justify-between font-medium mt-3 pt-2 border-t border-gray-200",children:[(0,mr.jsx)("span",{children:"Total Allowances:"}),(0,mr.jsxs)("span",{children:["\u20b9",parseFloat(A.total_allowances||0).toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"flex justify-between font-bold text-lg mt-3 pt-2 border-t border-gray-200",children:[(0,mr.jsx)("span",{children:"Final Salary:"}),(0,mr.jsxs)("span",{className:"text-green-700",children:["\u20b9",parseFloat(A.final_salary).toLocaleString()]})]})]})]})]}),(0,mr.jsx)("div",{className:"flex justify-end",children:(0,mr.jsx)("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300 flex items-center",onClick:()=>{if(A){S(!0),_("Generating salary slip...");try{const t=new g_.default;t.setFontSize(20),t.setFont(void 0,"bold"),t.text("SINFODE ACADEMY",105,15,{align:"center"}),t.setFontSize(12),t.setFont(void 0,"normal"),t.text("Company Address Line 1",105,22,{align:"center"}),t.text("Company Address Line 2",105,28,{align:"center"}),t.text("Phone: +91 XXXXX XXXXX | Email: hr@example.com",105,34,{align:"center"}),t.setFontSize(16),t.setFont(void 0,"bold"),t.text("SALARY SLIP",105,45,{align:"center"}),t.setFontSize(12),t.setFont(void 0,"normal"),t.text("For the month of ".concat(B(A.month)),105,52,{align:"center"}),t.setFont(void 0,"bold"),t.text("Employee Details:",14,65),t.setFont(void 0,"normal"),t.text("Name: ".concat(A.employee_name||A.staff_name),14,72),t.text("Employee ID: ".concat(A.employee_code),14,79),t.text("Designation: ".concat(A.designation),14,86);const n=e.find(e=>e.id==r);t.text("Branch: ".concat(n?n.branch_name:r),110,72),t.text("Payment Date: ".concat((new Date).toLocaleDateString()),110,79),t.text("Days Worked: ".concat(A.present_days," (Present) + ").concat(A.half_days," (Half)"),110,86);const s=["Earnings","Amount (\u20b9)","Deductions","Amount (\u20b9)"],a=[];a.push(["Basic Salary",parseFloat(A.base_salary).toLocaleString(),"Professional Tax","0.00"]),A.allowances&&A.allowances.length>0&&A.allowances.forEach(e=>{a.push([e.type,parseFloat(e.amount).toLocaleString(),"",""])}),a.push(["Total Earnings",parseFloat(A.final_salary).toLocaleString(),"Total Deductions","0.00"]),t.autoTable({startY:95,head:[s],body:a,theme:"grid",styles:{fontSize:10},headStyles:{fillColor:[220,220,220],textColor:[0,0,0],fontStyle:"bold"},footStyles:{fillColor:[220,220,220],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}});const i=t.lastAutoTable.finalY+10;t.setFillColor(240,240,240),t.rect(14,i,182,10,"F"),t.setFont(void 0,"bold"),t.setFontSize(12),t.text("Net Salary Payable:",20,i+7),t.text("\u20b9 ".concat(parseFloat(A.final_salary).toLocaleString()),160,i+7),t.setFontSize(10),t.setFont(void 0,"normal"),t.line(30,i+25,80,i+25),t.text("Employee Signature",30,i+30),t.line(130,i+25,180,i+25),t.text("Authorized Signature",130,i+30),t.setFontSize(8),t.text("This is a system generated document and does not require a physical signature.",105,i+40,{align:"center"});const o="Salary_Slip_".concat(A.employee_name,"_").concat(A.month,".pdf");t.save(o),S(!1),_("Salary slip downloaded successfully!")}catch(t){console.error("Error generating PDF:",t),_("Error generating salary slip"),S(!1)}}else _("Please calculate or get salary data first")},disabled:C||!A,children:C?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,mr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,mr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Salary Slip"]})})})]})]})]})})};function nC(){return(0,mr.jsx)("div",{children:(0,mr.jsx)("div",{className:"shadow-lg rounded-2xl p-8 w-full max-w-lg"})})}function rC(){const[e,n]=(0,t.useState)("generatesalary");return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsx)("div",{className:"w-60 bg-white rounded-xl shadow-md p-4 space-y-3",children:(0,mr.jsx)("button",{onClick:()=>n("generatesalary"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("generatesalary"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb Generate Salary"})}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto",children:["overview"===e&&(0,mr.jsx)(nC,{}),"generatesalary"===e&&(0,mr.jsx)(tC,{})]})]})})}const sC=function(){const e=[{id:"SIN-2024-001",student:"John Smith",institute:"Engineering Institute",course:"Computer Science",feeType:"Tuition Fee",amount:2500,status:"paid",dueDate:"2024-01-15",issueDate:"2024-01-01",semester:"Spring 2024",studentId:"ENG-2024-001"},{id:"SIN-2024-002",student:"Emma Johnson",institute:"Business School",course:"MBA",feeType:"Semester Fee",amount:3200,status:"pending",dueDate:"2024-02-01",issueDate:"2024-01-15",semester:"Spring 2024",studentId:"BUS-2024-002"},{id:"SIN-2024-003",student:"Michael Brown",institute:"Medical College",course:"Medicine",feeType:"Lab Fee",amount:1800,status:"paid",dueDate:"2024-01-20",issueDate:"2024-01-05",semester:"Spring 2024",studentId:"MED-2024-003"},{id:"SIN-2024-004",student:"Sarah Davis",institute:"Arts & Design",course:"Graphic Design",feeType:"Material Fee",amount:950,status:"overdue",dueDate:"2024-01-10",issueDate:"2023-12-25",semester:"Spring 2024",studentId:"ART-2024-004"},{id:"SIN-2024-005",student:"David Wilson",institute:"Engineering Institute",course:"Mechanical Engineering",feeType:"Workshop Fee",amount:1200,status:"pending",dueDate:"2024-02-05",issueDate:"2024-01-20",semester:"Spring 2024",studentId:"ENG-2024-005"}],[n,r]=(0,t.useState)(e),[s,a]=(0,t.useState)(e),[i,o]=(0,t.useState)("all"),[l,c]=(0,t.useState)(""),[d,u]=(0,t.useState)(null),[h,A]=(0,t.useState)(!1),[f,m]=(0,t.useState)("");(0,t.useEffect)(()=>{p()},[i,l,n]);const p=()=>{let e=[...n];if(l){const t=l.toLowerCase();e=e.filter(e=>e.student.toLowerCase().includes(t)||e.institute.toLowerCase().includes(t)||e.course.toLowerCase().includes(t)||e.id.toLowerCase().includes(t)||e.studentId.toLowerCase().includes(t))}"all"!==i&&(e=e.filter(e=>e.status===i)),a(e)},g={totalInvoices:n.length,paidCount:n.filter(e=>"paid"===e.status).length,pendingCount:n.filter(e=>"pending"===e.status).length,overdueCount:n.filter(e=>"overdue"===e.status).length,totalRevenue:n.filter(e=>"paid"===e.status).reduce((e,t)=>e+t.amount,0)},x=()=>{A(!1),u(null)},b=e=>{m(e),setTimeout(()=>{m("")},4e3)},y={paid:{color:"bg-green-100 text-green-800 border-green-200",icon:"\u2705",dot:"bg-green-500"},pending:{color:"bg-yellow-100 text-yellow-800 border-yellow-200",icon:"\u23f3",dot:"bg-yellow-500"},overdue:{color:"bg-red-100 text-red-800 border-red-200",icon:"\u26a0\ufe0f",dot:"bg-red-500"},draft:{color:"bg-gray-100 text-gray-800 border-gray-200",icon:"\ud83d\udcdd",dot:"bg-gray-500"}};return(0,mr.jsxs)(wl,{children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 via-blue-50 to-indigo-50 min-h-screen",children:[(0,mr.jsx)("div",{className:"gradient-bg text-white py-6 shadow-xl",children:(0,mr.jsx)("div",{className:"container mx-auto px-6",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"bg-white bg-opacity-20 p-3 rounded-xl",children:(0,mr.jsx)("svg",{className:"w-8 h-8",fill:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-5 14H7v-2h7v2zm3-4H7v-2h10v2zm0-4H7V7h10v2z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold",children:"Sinfode Multi-Institute CRM"}),(0,mr.jsx)("p",{className:"text-blue-100",children:"Invoice Management System"})]})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsx)("p",{className:"text-blue-100 text-sm",children:"Welcome back, Admin"}),(0,mr.jsx)("p",{className:"font-semibold",children:(new Date).toLocaleDateString()})]})]})})}),(0,mr.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6 mb-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Invoices"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-gray-900",children:g.totalInvoices}),(0,mr.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"\u2197 +12% this month"})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-3 rounded-xl",children:(0,mr.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Paid"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-green-600",children:g.paidCount}),(0,mr.jsx)("p",{className:"text-xs text-green-600 mt-1",children:"75% completion rate"})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-r from-green-500 to-emerald-600 p-3 rounded-xl",children:(0,mr.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Pending"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-yellow-600",children:g.pendingCount}),(0,mr.jsx)("p",{className:"text-xs text-yellow-600 mt-1 pulse-dot",children:"Awaiting payment"})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 p-3 rounded-xl",children:(0,mr.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Overdue"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-red-600",children:g.overdueCount}),(0,mr.jsx)("p",{className:"text-xs text-red-600 mt-1",children:"Requires attention"})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-pink-600 p-3 rounded-xl",children:(0,mr.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl p-6 shadow-lg border border-gray-100 hover:shadow-xl transition-shadow",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Revenue"}),(0,mr.jsxs)("p",{className:"text-3xl font-bold text-purple-600",children:["$",g.totalRevenue.toLocaleString()]}),(0,mr.jsx)("p",{className:"text-xs text-purple-600 mt-1",children:"This semester"})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-r from-purple-500 to-indigo-600 p-3 rounded-xl",children:(0,mr.jsx)("svg",{className:"w-6 h-6 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1"})})})]})})]}),(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6 mb-8",children:[(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,mr.jsx)("button",{onClick:()=>o("all"),className:"filter-btn ".concat("all"===i?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white text-gray-700"," px-6 py-3 rounded-xl font-medium transition-all shadow-lg border border-gray-200"),children:"All Invoices"}),(0,mr.jsx)("button",{onClick:()=>o("paid"),className:"filter-btn ".concat("paid"===i?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white text-gray-700"," px-6 py-3 rounded-xl font-medium transition-all shadow-md border border-gray-200"),children:"Paid"}),(0,mr.jsx)("button",{onClick:()=>o("pending"),className:"filter-btn ".concat("pending"===i?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white text-gray-700"," px-6 py-3 rounded-xl font-medium transition-all shadow-md border border-gray-200"),children:"Pending"}),(0,mr.jsx)("button",{onClick:()=>o("overdue"),className:"filter-btn ".concat("overdue"===i?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-white text-gray-700"," px-6 py-3 rounded-xl font-medium transition-all shadow-md border border-gray-200"),children:"Overdue"})]}),(0,mr.jsxs)("div",{className:"flex gap-3",children:[(0,mr.jsx)("button",{onClick:()=>{const e=[];for(let t=0;t<5;t++){const r=["Alex Thompson","Maria Garcia","James Wilson","Lisa Chen","Robert Taylor"],s=["Engineering Institute","Business School","Medical College","Arts & Design","Science Faculty"],a=["Computer Science","MBA","Medicine","Graphic Design","Physics","Chemistry","Mathematics"],i=["Tuition Fee","Lab Fee","Library Fee","Exam Fee","Material Fee","Workshop Fee"],o=s[Math.floor(Math.random()*s.length)],l=r[Math.floor(Math.random()*r.length)],c={id:"SIN-2024-".concat(String(n.length+t+1).padStart(3,"0")),student:l,institute:o,course:a[Math.floor(Math.random()*a.length)],feeType:i[Math.floor(Math.random()*i.length)],amount:Math.floor(3e3*Math.random())+500,status:"pending",dueDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],issueDate:(new Date).toISOString().split("T")[0],semester:"Spring 2024",studentId:"".concat(o.substring(0,3).toUpperCase(),"-2024-").concat(String(Math.floor(999*Math.random())+1).padStart(3,"0"))};e.push(c)}r([...e,...n]),b("".concat(5," invoices generated successfully!"))},className:"bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-xl font-medium hover:from-emerald-700 hover:to-teal-700 transition-all transform hover:scale-105 shadow-lg",children:"\ud83d\udcca Bulk Generate"}),(0,mr.jsx)("button",{onClick:()=>{const e=["Alex Thompson","Maria Garcia","James Wilson","Lisa Chen","Robert Taylor"],t=["Engineering Institute","Business School","Medical College","Arts & Design","Science Faculty"],s=["Computer Science","MBA","Medicine","Graphic Design","Physics","Chemistry","Mathematics"],a=["Tuition Fee","Lab Fee","Library Fee","Exam Fee","Material Fee","Workshop Fee"],i=t[Math.floor(Math.random()*t.length)],o=e[Math.floor(Math.random()*e.length)],l={id:"SIN-2024-".concat(String(n.length+1).padStart(3,"0")),student:o,institute:i,course:s[Math.floor(Math.random()*s.length)],feeType:a[Math.floor(Math.random()*a.length)],amount:Math.floor(3e3*Math.random())+500,status:"pending",dueDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],issueDate:(new Date).toISOString().split("T")[0],semester:"Spring 2024",studentId:"".concat(i.substring(0,3).toUpperCase(),"-2024-").concat(String(Math.floor(999*Math.random())+1).padStart(3,"0"))};r([l,...n]),b("Invoice ".concat(l.id," generated for ").concat(l.student,"!"))},className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl font-medium hover:from-indigo-700 hover:to-purple-700 transition-all transform hover:scale-105 shadow-lg",children:"\u2728 Generate Invoice"})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,mr.jsx)("div",{className:"px-8 py-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Invoice Management"}),(0,mr.jsx)("div",{className:"flex items-center space-x-4",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search invoices...",className:"pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent",value:l,onChange:e=>c(e.target.value)}),(0,mr.jsx)("svg",{className:"w-5 h-5 text-gray-400 absolute left-3 top-2.5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})]})})]})}),(0,mr.jsx)("div",{className:"divide-y divide-gray-100",children:0===s.length?(0,mr.jsxs)("div",{className:"p-12 text-center",children:[(0,mr.jsx)("svg",{className:"w-16 h-16 text-gray-300 mx-auto mb-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,mr.jsx)("p",{className:"text-gray-500 text-lg",children:"No invoices found"})]}):s.map(e=>{const t=y[e.status];return(0,mr.jsx)("div",{className:"invoice-card status-".concat(e.status," p-6 hover:bg-gray-50 cursor-pointer fade-in"),onClick:()=>(e=>{u(e),A(!0)})(e),children:(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row lg:items-center justify-between gap-4",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,mr.jsx)("h3",{className:"font-bold text-lg text-gray-900",children:e.id}),(0,mr.jsxs)("span",{className:"px-3 py-1 rounded-full text-sm font-medium border ".concat(t.color),children:[t.icon," ",e.status.charAt(0).toUpperCase()+e.status.slice(1)]}),(0,mr.jsx)("span",{className:"institute-badge text-white px-3 py-1 rounded-full text-xs font-medium",children:e.institute})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 text-sm",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Student"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-900",children:e.student}),(0,mr.jsx)("p",{className:"text-gray-600",children:e.studentId})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Course & Fee Type"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-900",children:e.course}),(0,mr.jsx)("p",{className:"text-gray-600",children:e.feeType})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Semester"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-900",children:e.semester})]})]})]}),(0,mr.jsxs)("div",{className:"flex flex-col lg:items-end gap-2 lg:text-right",children:[(0,mr.jsxs)("p",{className:"text-2xl font-bold text-gray-900",children:["$",e.amount.toLocaleString()]}),(0,mr.jsxs)("p",{className:"text-sm text-gray-500",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]}),(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)("div",{className:"w-2 h-2 rounded-full ".concat(t.dot)}),(0,mr.jsx)("span",{className:"text-xs text-gray-500",children:"overdue"===e.status?"Payment overdue":"pending"===e.status?"Awaiting payment":"Payment received"})]})]})]})},e.id)})})]}),h&&d&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",onClick:x,children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl max-w-4xl w-full max-h-[90vh] overflow-y-auto shadow-2xl",onClick:e=>e.stopPropagation(),children:[(0,mr.jsx)("div",{className:"p-8 border-b border-gray-200 bg-gradient-to-r from-blue-50 to-indigo-50",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("h3",{className:"text-2xl font-bold text-gray-800",children:["Invoice ",d.id]}),(0,mr.jsx)("p",{className:"text-gray-600 mt-1",children:"Sinfode Multi-Institute CRM"})]}),(0,mr.jsx)("button",{onClick:x,className:"text-gray-400 hover:text-gray-600 transition-colors p-2 hover:bg-gray-100 rounded-lg",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,mr.jsx)("div",{className:"p-8",children:(0,mr.jsxs)("div",{className:"space-y-8",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl p-6",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"text-xl font-bold text-gray-900",children:d.student}),(0,mr.jsx)("p",{className:"text-gray-600",children:d.studentId}),(0,mr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:d.institute})]}),(0,mr.jsxs)("span",{className:"px-4 py-2 rounded-full text-sm font-medium border ".concat(y[d.status].color),children:[y[d.status].icon," ",d.status.charAt(0).toUpperCase()+d.status.slice(1)]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Course"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-900",children:d.course})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Fee Type"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-900",children:d.feeType})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Semester"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-900",children:d.semester})]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,mr.jsx)("h5",{className:"font-semibold text-gray-900 mb-4",children:"Invoice Information"}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Invoice ID:"}),(0,mr.jsx)("span",{className:"font-medium",children:d.id})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Issue Date:"}),(0,mr.jsx)("span",{className:"font-medium",children:new Date(d.issueDate).toLocaleDateString()})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Due Date:"}),(0,mr.jsx)("span",{className:"font-medium",children:new Date(d.dueDate).toLocaleDateString()})]})]})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,mr.jsx)("h5",{className:"font-semibold text-gray-900 mb-4",children:"Payment Details"}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Fee Amount:"}),(0,mr.jsxs)("span",{className:"font-medium",children:["$",d.amount.toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Tax (0%):"}),(0,mr.jsx)("span",{className:"font-medium",children:"$0.00"})]}),(0,mr.jsx)("div",{className:"border-t border-gray-200 pt-3",children:(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"font-semibold text-gray-900",children:"Total Amount:"}),(0,mr.jsxs)("span",{className:"font-bold text-xl text-gray-900",children:["$",d.amount.toLocaleString()]})]})})]})]})]}),(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-purple-50 to-pink-50 rounded-xl p-6",children:[(0,mr.jsx)("h5",{className:"font-semibold text-gray-900 mb-4",children:"Fee Breakdown"}),(0,mr.jsx)("div",{className:"space-y-3",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"font-medium text-gray-900",children:d.feeType}),(0,mr.jsxs)("p",{className:"text-sm text-gray-600",children:[d.course," - ",d.semester]})]}),(0,mr.jsxs)("p",{className:"font-bold text-lg text-gray-900",children:["$",d.amount.toLocaleString()]})]})})]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3 pt-4 border-t border-gray-200",children:[("pending"===d.status||"overdue"===d.status)&&(0,mr.jsx)("button",{onClick:()=>(e=>{const t=n.map(t=>t.id===e?N(N({},t),{},{status:"paid"}):t);r(t),x(),b("Invoice ".concat(e," marked as paid! \ud83d\udcb0"))})(d.id),className:"bg-gradient-to-r from-green-600 to-emerald-600 text-white px-6 py-3 rounded-xl hover:from-green-700 hover:to-emerald-700 transition-all font-medium",children:"\ud83d\udcb3 Mark as Paid"}),(0,mr.jsx)("button",{onClick:()=>{return e=d.id,void b("Downloading invoice ".concat(e,"... \ud83d\udcc4"));var e},className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-xl hover:from-blue-700 hover:to-indigo-700 transition-all font-medium",children:"\ud83d\udcc4 Download PDF"}),(0,mr.jsx)("button",{onClick:()=>(e=>{const t=n.find(t=>t.id===e);t&&b("Payment reminder sent to ".concat(t.student," \ud83d\udce7"))})(d.id),className:"bg-gradient-to-r from-orange-600 to-red-600 text-white px-6 py-3 rounded-xl hover:from-orange-700 hover:to-red-700 transition-all font-medium",children:"\ud83d\udce7 Send Reminder"})]})]})})]})}),f&&(0,mr.jsx)("div",{className:"fixed top-4 right-4 bg-gradient-to-r from-green-500 to-emerald-600 text-white px-6 py-4 rounded-xl shadow-2xl z-50 fade-in max-w-sm",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,mr.jsx)("span",{className:"font-medium",children:f})]})})]})]}),(0,mr.jsx)("style",{jsx:!0,children:"\n        .invoice-card {\n          transition: all 0.3s ease;\n          border-left: 4px solid transparent;\n        }\n        \n        .invoice-card:hover {\n          transform: translateY(-2px);\n          box-shadow: 0 15px 35px rgba(0,0,0,0.1);\n        }\n        \n        .status-paid { border-left-color: #10b981; }\n        .status-pending { border-left-color: #f59e0b; }\n        .status-overdue { border-left-color: #ef4444; }\n        .status-draft { border-left-color: #6b7280; }\n        \n        .fade-in {\n          animation: fadeIn 0.6s ease-in;\n        }\n        \n        @keyframes fadeIn {\n          from { opacity: 0; transform: translateY(30px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        \n        .pulse-dot {\n          animation: pulse 2s infinite;\n        }\n        \n        @keyframes pulse {\n          0%, 100% { opacity: 1; }\n          50% { opacity: 0.5; }\n        }\n\n        .gradient-bg {\n          background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);\n        }\n\n        .institute-badge {\n          background: linear-gradient(45deg, #4f46e5, #7c3aed);\n        }\n      "})]})},aC=()=>{const[e,n]=(0,t.useState)("admin"),[r,s]=(0,t.useState)([{id:1,name:"Sarah Johnson",role:"admin",email:"sarah.johnson@company.com",branch:"All Branches",status:"active",initials:"SJ"},{id:2,name:"Michael Chen",role:"brand-manager",email:"michael.chen@company.com",branch:"North Region",status:"active",initials:"MC"},{id:3,name:"Lisa Rodriguez",role:"branch-manager",email:"lisa.rodriguez@company.com",branch:"Downtown Store",status:"active",initials:"LR"},{id:4,name:"David Kim",role:"branch-manager",email:"david.kim@company.com",branch:"Mall Location",status:"inactive",initials:"DK"}]),a={admin:{title:"System Administrator",description:"Complete system access and control",icon:"\u26a1",iconClass:"slds-icon--admin",badgeClass:"slds-badge--brand",permissions:[{name:"Full System Access",granted:!0},{name:"User Management",granted:!0},{name:"All Branch Control",granted:!0},{name:"System Configuration",granted:!0},{name:"Security Settings",granted:!0},{name:"Global Reports & Analytics",granted:!0},{name:"Data Export/Import",granted:!0},{name:"API Access",granted:!0}]},"brand-manager":{title:"Brand Manager",description:"Regional oversight and brand compliance",icon:"\ud83c\udfe2",iconClass:"slds-icon--brand",badgeClass:"slds-badge--brand",permissions:[{name:"Full System Access",granted:!1},{name:"User Management",granted:!1},{name:"Limited Branch Control",granted:!0},{name:"Regional Oversight",granted:!0},{name:"Brand Compliance",granted:!0},{name:"Performance Monitoring",granted:!0},{name:"Regional Reports",granted:!0},{name:"Staff Coordination",granted:!0}]},"branch-manager":{title:"Branch Manager",description:"Single branch operations and management",icon:"\ud83c\udfea",iconClass:"slds-icon--branch",badgeClass:"slds-badge--success",permissions:[{name:"Full System Access",granted:!1},{name:"User Management",granted:!1},{name:"Own Branch Only",granted:!0},{name:"Staff Management",granted:!0},{name:"Daily Operations",granted:!0},{name:"Local Inventory",granted:!0},{name:"Customer Service",granted:!0},{name:"Branch Reports",granted:!0}]}};return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("style",{jsx:!0,children:"\n          @import url('https://fonts.googleapis.com/css2?family=Salesforce+Sans:wght@300;400;500;600;700&display=swap');\n          \n          .slds-container {\n            max-width: 1280px;\n            margin: 0 auto;\n            padding: 1rem;\n          }\n          \n          .slds-page-header {\n            background: #ffffff;\n            border-radius: 0.25rem;\n            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.1);\n            margin-bottom: 1rem;\n            padding: 1.5rem;\n          }\n          \n          .slds-page-header__title {\n            font-size: 1.75rem;\n            font-weight: 700;\n            color: #080707;\n            margin: 0 0 0.5rem 0;\n          }\n          \n          .slds-page-header__meta {\n            color: #706e6b;\n            font-size: 0.875rem;\n          }\n          \n          .slds-grid {\n            display: flex;\n            gap: 1rem;\n          }\n          \n          .slds-col {\n            flex: 1;\n          }\n          \n          .slds-col--padded {\n            padding: 0 0.5rem;\n          }\n          \n          .slds-card {\n            background: #ffffff;\n            border: 1px solid #dddbda;\n            border-radius: 0.25rem;\n            box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.1);\n            margin-bottom: 1rem;\n          }\n          \n          .slds-card__header {\n            padding: 1rem 1rem 0;\n            border-bottom: 1px solid #dddbda;\n            margin-bottom: 1rem;\n          }\n          \n          .slds-card__header-title {\n            font-size: 1.125rem;\n            font-weight: 600;\n            color: #080707;\n            margin: 0 0 1rem 0;\n          }\n          \n          .slds-card__body {\n            padding: 0 1rem 1rem;\n          }\n          \n          .slds-tile {\n            border: 1px solid #dddbda;\n            border-radius: 0.25rem;\n            padding: 1rem;\n            margin-bottom: 0.75rem;\n            cursor: pointer;\n            transition: all 0.15s ease-in-out;\n            background: #ffffff;\n          }\n          \n          .slds-tile:hover {\n            box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n            border-color: #0176d3;\n          }\n          \n          .slds-tile--selected {\n            border-color: #0176d3;\n            box-shadow: 0 0 0 1px #0176d3;\n            background: #f3f9ff;\n          }\n          \n          .slds-tile__title {\n            font-size: 1rem;\n            font-weight: 600;\n            color: #080707;\n            margin: 0 0 0.5rem 0;\n            display: flex;\n            align-items: center;\n          }\n          \n          .slds-icon {\n            width: 1.5rem;\n            height: 1.5rem;\n            margin-right: 0.5rem;\n            border-radius: 0.25rem;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-size: 1rem;\n          }\n          \n          .slds-icon--admin {\n            background: #8b5cf6;\n            color: white;\n          }\n          \n          .slds-icon--brand {\n            background: #0176d3;\n            color: white;\n          }\n          \n          .slds-icon--branch {\n            background: #04844b;\n            color: white;\n          }\n          \n          .slds-badge {\n            display: inline-block;\n            padding: 0.25rem 0.5rem;\n            font-size: 0.75rem;\n            font-weight: 600;\n            border-radius: 0.25rem;\n            text-transform: uppercase;\n            letter-spacing: 0.0625rem;\n          }\n          \n          .slds-badge--brand {\n            background: #0176d3;\n            color: white;\n          }\n          \n          .slds-badge--success {\n            background: #04844b;\n            color: white;\n          }\n          \n          .slds-badge--warning {\n            background: #fe9339;\n            color: white;\n          }\n          \n          .slds-list {\n            list-style: none;\n            padding: 0;\n            margin: 0;\n          }\n          \n          .slds-list__item {\n            padding: 0.5rem 0;\n            border-bottom: 1px solid #f3f2f2;\n            display: flex;\n            align-items: center;\n          }\n          \n          .slds-list__item:last-child {\n            border-bottom: none;\n          }\n          \n          .slds-checkbox {\n            width: 1rem;\n            height: 1rem;\n            margin-right: 0.75rem;\n            accent-color: #0176d3;\n          }\n          \n          .slds-button {\n            padding: 0.5rem 1rem;\n            border: 1px solid #dddbda;\n            border-radius: 0.25rem;\n            background: #ffffff;\n            color: #0176d3;\n            font-weight: 600;\n            cursor: pointer;\n            transition: all 0.15s ease-in-out;\n            font-size: 0.875rem;\n          }\n          \n          .slds-button:hover {\n            background: #f3f2f2;\n            border-color: #0176d3;\n          }\n          \n          .slds-button--brand {\n            background: #0176d3;\n            color: white;\n            border-color: #0176d3;\n          }\n          \n          .slds-button--brand:hover {\n            background: #014486;\n            border-color: #014486;\n          }\n          \n          .slds-button--destructive {\n            background: #ba0517;\n            color: white;\n            border-color: #ba0517;\n          }\n          \n          .slds-button--destructive:hover {\n            background: #8e030f;\n            border-color: #8e030f;\n          }\n          \n          .slds-form-element {\n            margin-bottom: 1rem;\n          }\n          \n          .slds-form-element__label {\n            display: block;\n            font-size: 0.75rem;\n            font-weight: 600;\n            color: #3e3e3c;\n            margin-bottom: 0.25rem;\n            text-transform: uppercase;\n            letter-spacing: 0.0625rem;\n          }\n          \n          .slds-select {\n            width: 100%;\n            padding: 0.5rem 0.75rem;\n            border: 1px solid #dddbda;\n            border-radius: 0.25rem;\n            background: #ffffff;\n            font-size: 0.875rem;\n          }\n          \n          .slds-select:focus {\n            outline: none;\n            border-color: #0176d3;\n            box-shadow: 0 0 0 1px #0176d3;\n          }\n          \n          .slds-media {\n            display: flex;\n            align-items: flex-start;\n          }\n          \n          .slds-media__figure {\n            margin-right: 0.75rem;\n          }\n          \n          .slds-media__body {\n            flex: 1;\n          }\n          \n          .slds-avatar {\n            width: 2.5rem;\n            height: 2.5rem;\n            border-radius: 50%;\n            background: #0176d3;\n            color: white;\n            display: flex;\n            align-items: center;\n            justify-content: center;\n            font-weight: 600;\n            font-size: 1rem;\n          }\n          \n          .slds-text-heading--small {\n            font-size: 0.875rem;\n            font-weight: 600;\n            color: #080707;\n            margin: 0 0 0.25rem 0;\n          }\n          \n          .slds-text-body--small {\n            font-size: 0.75rem;\n            color: #706e6b;\n            margin: 0;\n          }\n          \n          .slds-text-color--success {\n            color: #04844b;\n          }\n          \n          .slds-text-color--error {\n            color: #ba0517;\n          }\n          \n          .slds-m-top--medium {\n            margin-top: 1rem;\n          }\n          \n          .slds-m-bottom--medium {\n            margin-bottom: 1rem;\n          }\n          \n          .slds-p-around--medium {\n            padding: 1rem;\n          }\n          \n          @media (max-width: 768px) {\n            .slds-grid {\n              flex-direction: column;\n            }\n            \n            .slds-container {\n              padding: 0.5rem;\n            }\n          }\n        "}),(0,mr.jsxs)("div",{className:"slds-container",children:[(0,mr.jsxs)("div",{className:"slds-page-header",children:[(0,mr.jsx)("h1",{className:"slds-page-header__title",children:"Access Management"}),(0,mr.jsxs)("p",{className:"slds-page-header__meta",children:["Manage user roles and permissions \u2022 ",r.length," total users \u2022 ",r.filter(e=>"active"===e.status).length," active"]})]}),(0,mr.jsxs)("div",{className:"slds-grid",children:[(0,mr.jsx)("div",{className:"slds-col",style:{flex:"0 0 300px"},children:(0,mr.jsxs)("div",{className:"slds-card",children:[(0,mr.jsx)("div",{className:"slds-card__header",children:(0,mr.jsx)("h2",{className:"slds-card__header-title",children:"Permission Profiles"})}),(0,mr.jsx)("div",{className:"slds-card__body",children:Object.entries(a).map(t=>{let[s,a]=t;return(0,mr.jsxs)("div",{className:"slds-tile ".concat(e===s?"slds-tile--selected":""),onClick:()=>n(s),children:[(0,mr.jsxs)("h3",{className:"slds-tile__title",children:[(0,mr.jsx)("span",{className:"slds-icon ".concat(a.iconClass),children:a.icon}),a.title]}),(0,mr.jsx)("p",{className:"slds-text-body--small",style:{margin:"0 0 0.5rem 0",color:"#706e6b"},children:a.description}),(0,mr.jsxs)("span",{className:"slds-badge ".concat(a.badgeClass),children:[r.filter(e=>e.role===s).length," Users"]})]},s)})})]})}),(0,mr.jsxs)("div",{className:"slds-col",children:[(0,mr.jsxs)("div",{className:"slds-card",children:[(0,mr.jsx)("div",{className:"slds-card__header",children:(0,mr.jsxs)("h2",{className:"slds-card__header-title",children:[a[e].title," Permissions"]})}),(0,mr.jsx)("div",{className:"slds-card__body",children:(0,mr.jsx)("ul",{className:"slds-list",children:a[e].permissions.map((e,t)=>(0,mr.jsxs)("li",{className:"slds-list__item",children:[(0,mr.jsx)("input",{type:"checkbox",className:"slds-checkbox",checked:e.granted,readOnly:!0}),(0,mr.jsx)("span",{style:{color:e.granted?"#04844b":"#706e6b",textDecoration:e.granted?"none":"line-through"},children:e.name})]},t))})})]}),(0,mr.jsxs)("div",{className:"slds-card slds-m-top--medium",children:[(0,mr.jsx)("div",{className:"slds-card__header",children:(0,mr.jsx)("h2",{className:"slds-card__header-title",children:"User Management"})}),(0,mr.jsxs)("div",{className:"slds-card__body",children:[r.map(e=>(0,mr.jsxs)("div",{className:"slds-media slds-m-bottom--medium",style:{padding:"1rem",border:"1px solid #dddbda",borderRadius:"0.25rem",background:"active"===e.status?"#ffffff":"#f3f2f2"},children:[(0,mr.jsx)("div",{className:"slds-media__figure",children:(0,mr.jsx)("div",{className:"slds-avatar",style:{background:"active"===e.status?"#0176d3":"#706e6b"},children:e.initials})}),(0,mr.jsxs)("div",{className:"slds-media__body",children:[(0,mr.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"slds-text-heading--small",children:e.name}),(0,mr.jsx)("p",{className:"slds-text-body--small",children:e.email}),(0,mr.jsx)("p",{className:"slds-text-body--small",children:e.branch})]}),(0,mr.jsx)("span",{className:"slds-badge ".concat("active"===e.status?"slds-badge--success":"slds-badge--warning"),children:e.status})]}),(0,mr.jsxs)("div",{style:{display:"flex",gap:"0.5rem",marginTop:"0.75rem",alignItems:"center"},children:[(0,mr.jsxs)("div",{className:"slds-form-element",style:{margin:0,flex:1},children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Role"}),(0,mr.jsx)("select",{className:"slds-select",value:e.role,onChange:t=>{return n=e.id,a=t.target.value,void s(r.map(e=>e.id===n?N(N({},e),{},{role:a}):e));var n,a},children:Object.entries(a).map(e=>{let[t,n]=e;return(0,mr.jsx)("option",{value:t,children:n.title},t)})})]}),(0,mr.jsx)("button",{className:"slds-button ".concat("active"===e.status?"slds-button--destructive":"slds-button--brand"),onClick:()=>{return t=e.id,void s(r.map(e=>e.id===t?N(N({},e),{},{status:"active"===e.status?"inactive":"active"}):e));var t},style:{marginTop:"1.25rem"},children:"active"===e.status?"Deactivate":"Activate"})]})]})]},e.id)),(0,mr.jsx)("button",{className:"slds-button slds-button--brand",style:{width:"100%",marginTop:"1rem"},children:"+ Add New User"})]})]})]})]})]})]})})};const iC=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[a,i]=(0,t.useState)(null),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[A,f]=(0,t.useState)({code:"",discount_value:"",start_date:"",expiry_date:""});(0,t.useEffect)(()=>{m()},[]);const m=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/coupons",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){console.error("Error fetching coupons:",e)}finally{s(!1)}};return r?(0,mr.jsx)("p",{className:"text-gray-600",children:"Loading coupons..."}):(0,mr.jsxs)("div",{className:"container mx-auto px-4 py-8",children:[(0,mr.jsxs)("h1",{className:"text-3xl font-bold mb-8 text-indigo-700 flex items-center",children:[(0,mr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-8 w-8 mr-2",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 5v2m0 4v2m0 4v2M5 5a2 2 0 00-2 2v3a2 2 0 110 4v3a2 2 0 002 2h14a2 2 0 002-2v-3a2 2 0 110-4V7a2 2 0 00-2-2H5z"})}),"All Coupons"]}),0===e.length?(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[(0,mr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-16 w-16 mx-auto text-gray-400 mb-4",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,mr.jsx)("p",{className:"text-gray-500 text-lg",children:"No coupons available."})]}):(0,mr.jsx)("div",{className:"grid md:grid-cols-1 lg:grid-cols-2 gap-6",children:e.map(e=>{var t;return(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden hover:shadow-xl transition-all duration-300 border border-gray-100",children:[(0,mr.jsx)("div",{className:"p-1 text-center text-white text-sm font-semibold ".concat(e.is_active?"bg-green-500":"bg-red-500"),children:e.is_active?"ACTIVE":"INACTIVE"}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-indigo-600 bg-indigo-50 px-3 py-1 rounded-lg",children:e.code}),(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("percentage"===e.discount_type?"bg-yellow-100 text-yellow-800":"bg-purple-100 text-purple-800"),children:e.discount_type})]}),(0,mr.jsxs)("div",{className:"mb-4 p-3 bg-gray-50 rounded-lg",children:[(0,mr.jsxs)("p",{className:"text-sm text-gray-600 mb-1",children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Course:"})," ",(null===(t=e.course)||void 0===t?void 0:t.course_name)||"N/A"]}),(0,mr.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Discount:"})," ","percentage"===e.discount_type?"".concat(e.discount_value,"% OFF"):"\u20b9".concat(e.discount_value," OFF")]})]}),(0,mr.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"font-semibold",children:"Valid From:"}),(0,mr.jsx)("p",{children:new Date(e.start_date).toLocaleDateString()})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsx)("p",{className:"font-semibold",children:"Expires:"}),(0,mr.jsx)("p",{children:e.expiry_date?new Date(e.expiry_date).toLocaleDateString():"N/A"})]})]}),(0,mr.jsxs)("div",{className:"flex justify-between space-x-2",children:[(0,mr.jsxs)("button",{onClick:()=>(e=>{i(e),f({code:e.code,discount_value:e.discount_value,start_date:e.start_date,expiry_date:e.expiry_date||""}),l(!0)})(e),className:"flex-1 bg-indigo-500 hover:bg-indigo-600 text-white py-2 px-4 rounded-lg flex items-center justify-center transition-colors",children:[(0,mr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M11 5H6a2 2 0 00-2 2v11a2 2 0 002 2h11a2 2 0 002-2v-5m-1.414-9.414a2 2 0 112.828 2.828L11.828 15H9v-2.828l8.586-8.586z"})}),"Edit"]}),(0,mr.jsxs)("button",{onClick:()=>(e=>{h(e),d(!0)})(e),className:"flex-1 bg-red-500 hover:bg-red-600 text-white py-2 px-4 rounded-lg flex items-center justify-center transition-colors",children:[(0,mr.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-4 w-4 mr-1",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete"]})]})]})]},e.id)})}),o&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-indigo-700 mb-6",children:"Edit Coupon"}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token");await Ua.put("/coupons/".concat(a.id,"/update"),A,{headers:{Authorization:"Bearer ".concat(e)}}),l(!1),m()}catch(t){console.error("Error updating coupon:",t)}},children:[(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"code",children:"Coupon Code"}),(0,mr.jsx)("input",{type:"text",id:"code",value:A.code,onChange:e=>f(N(N({},A),{},{code:e.target.value})),className:"shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"discount_value",children:"Discount Value"}),(0,mr.jsx)("input",{type:"number",step:"0.01",id:"discount_value",value:A.discount_value,onChange:e=>f(N(N({},A),{},{discount_value:e.target.value})),className:"shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"start_date",children:"Start Date"}),(0,mr.jsx)("input",{type:"date",id:"start_date",value:A.start_date,onChange:e=>f(N(N({},A),{},{start_date:e.target.value})),className:"shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0})]}),(0,mr.jsxs)("div",{className:"mb-6",children:[(0,mr.jsx)("label",{className:"block text-gray-700 text-sm font-bold mb-2",htmlFor:"expiry_date",children:"Expiry Date"}),(0,mr.jsx)("input",{type:"date",id:"expiry_date",value:A.expiry_date,onChange:e=>f(N(N({},A),{},{expiry_date:e.target.value})),className:"shadow appearance-none border rounded w-full py-3 px-4 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500"})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>l(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Update Coupon"})]})]})]})}),c&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-md w-full p-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-red-600 mb-4",children:"Confirm Deletion"}),(0,mr.jsxs)("p",{className:"text-gray-700 mb-6",children:["Are you sure you want to delete coupon ",(0,mr.jsxs)("span",{className:"font-semibold",children:['"',null===u||void 0===u?void 0:u.code,'"']}),"? This action cannot be undone."]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-4",children:[(0,mr.jsx)("button",{onClick:()=>d(!1),className:"bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2 px-4 rounded-lg transition-colors",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");await Ua.delete("/coupons/".concat(u.id,"/destroy"),{headers:{Authorization:"Bearer ".concat(e)}}),d(!1),m()}catch(e){console.error("Error deleting coupon:",e)}},className:"bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded-lg transition-colors",children:"Delete"})]})]})})]})};function oC(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)("percentage"),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];h(t)}catch(e){console.error("Error fetching courses:",e)}})()},[]);return(0,mr.jsxs)("div",{className:"items-center",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-lg",children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6 border-b pb-2",children:"Create New Coupon"}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Select Course"}),(0,mr.jsxs)("select",{value:A,onChange:e=>f(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[(0,mr.jsx)("option",{value:"",children:"-- Select Course --"}),u.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Coupon Code"}),(0,mr.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),placeholder:"DISCOUNT2024",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Discount Type"}),(0,mr.jsxs)("select",{value:r,onChange:e=>s(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none",children:[(0,mr.jsx)("option",{value:"percentage",children:"Percentage"}),(0,mr.jsx)("option",{value:"fixed",children:"Fixed Amount"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Discount Value"}),(0,mr.jsx)("input",{type:"number",value:a,onChange:e=>i(e.target.value),placeholder:"10",className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Valid From"}),(0,mr.jsx)("input",{type:"date",value:o,onChange:e=>l(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Valid Until"}),(0,mr.jsx)("input",{type:"date",value:c,onChange:e=>d(e.target.value),className:"w-full px-4 py-2 border rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500 outline-none"})]})]}),(0,mr.jsx)("button",{onClick:async()=>{if(A)try{const t=localStorage.getItem("token");await Ua.post("/coupons/store",{course_id:A,code:e,discount_type:r,discount_value:a,start_date:o,expiry_date:c},{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Coupon created successfully!"),n(""),i(""),l(""),d(""),f("")}catch(h){var t,s,u;console.error("Error creating coupon:",(null===(t=h.response)||void 0===t?void 0:t.data)||h),pi.error((null===(s=h.response)||void 0===s||null===(u=s.data)||void 0===u?void 0:u.message)||"Failed to create coupon!")}else pi.warning("Please select a course")},className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg shadow hover:bg-blue-700 transition duration-200",children:"Create Coupon"})]})]})}function lC(){const[e,n]=(0,t.useState)("addCoupan");return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsxs)("div",{className:"w-70 bg-white rounded-xl shadow-md p-4 space-y-3",children:[(0,mr.jsx)("button",{onClick:()=>n("addCoupan"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("addCoupan"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\u2795 Add Coupon"}),(0,mr.jsx)("button",{onClick:()=>n("coupanList"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("coupanList"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb All Coupons"})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto",children:["addCoupan"===e&&(0,mr.jsx)(oC,{}),"coupanList"===e&&(0,mr.jsx)(iC,{})]})]})})}const cC=()=>{var e,n,r,s,a;const[i,o]=(0,t.useState)("all"),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,A]=(0,t.useState)([]),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)(!0),[x,b]=(0,t.useState)(null),[y,v]=(0,t.useState)({branch_id:"",title:"",description:"",type:"Internal",priority:"Medium",amount:"",date:""}),w=async()=>{try{g(!0);const e=localStorage.getItem("token");if(!e)return b("No token found! Please login again."),void g(!1);const t=await Ua.get("/communications/index",{headers:{Authorization:"Bearer ".concat(e)}});t.data.success&&A(t.data.data)}catch(x){console.error("Error fetching communications:",x),b("Failed to load communications")}finally{g(!1)}},j=async e=>{try{const t=localStorage.getItem("token");if(!t)return void b("No token found! Please login again.");const n=await Ua.get("/communications/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});n.data.success&&c(n.data.data)}catch(x){console.error("Error fetching communication:",x),b("Failed to load communication details")}};(0,t.useEffect)(()=>{w(),(async()=>{try{const e=localStorage.getItem("token");if(!e)return void b("No token found! Please login again.");const t=(await Ua.get("branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branch_name:e.branch_name,branch_code:e.branch_code||"BR-"+e.id,city:e.city,state:e.state,contact:e.contact_number,email:e.email,status:e.status,opening_date:e.opening_date,pin_code:e.pin_code||"",address:e.address||"",branch_type:e.branch_type||"Main"}));m(t)}catch(x){console.error("Error fetching branches:",x),b("Failed to load branches")}})()},[]);const _=e=>{const{name:t,value:n}=e.target;v(N(N({},y),{},{[t]:n}))},C=async e=>{e.preventDefault();const t=await(async e=>{try{const t=localStorage.getItem("token");if(!t)return b("No token found! Please login again."),!1;const n={branch_id:e.branch_id,title:e.title,description:e.description,type:e.type,priority:e.priority,amount:e.amount||0,date:e.date||null};if((await Ua.post("/communications",n,{headers:{Authorization:"Bearer ".concat(t)}})).data.success)return await w(),!0}catch(x){return console.error("Error creating communication:",x),b("Failed to create communication"),!1}})(y);t&&(u(!1),v({branch_id:"",title:"",description:"",type:"Internal",priority:"Medium",amount:"",date:""}))},S=h.filter(e=>"all"===i||e.type.toLowerCase()===i.toLowerCase()),k={internal:{color:"blue",icon:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"})})},announcement:{color:"purple",icon:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"})})},event:{color:"green",icon:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"})})},meeting:{color:"orange",icon:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})})}};return p?(0,mr.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 flex items-center justify-center",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-16 w-16 border-4 border-blue-600 border-t-transparent mx-auto mb-4"}),(0,mr.jsx)("p",{className:"text-gray-700 font-medium",children:"Loading communications..."})]})}):(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,mr.jsx)("header",{className:"bg-gradient-to-r from-blue-600 to-purple-700 shadow-xl",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto py-6 px-6",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"bg-white/20 p-3 rounded-2xl backdrop-blur-sm",children:(0,mr.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-white",children:"Branch Communication Hub"}),(0,mr.jsx)("p",{className:"text-blue-100 mt-1",children:"Manage all branch communications in one place"})]})]}),(0,mr.jsx)("div",{className:"flex items-center space-x-4",children:(0,mr.jsxs)("button",{onClick:()=>u(!0),className:"bg-white text-blue-600 hover:bg-blue-50 px-6 py-3 rounded-xl font-semibold flex items-center gap-3 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"New Communication"]})})]})})}),(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 mb-8 overflow-hidden",children:(0,mr.jsx)("div",{className:"p-8",children:(0,mr.jsx)("div",{className:"flex flex-wrap gap-3 mb-2 bg-gradient-to-r from-gray-50 to-blue-50 p-2 rounded-2xl",children:[{key:"all",label:"All Communications",icon:"\ud83d\udce8"},{key:"internal",label:"Internal Messages",icon:"\ud83d\udcac"},{key:"announcement",label:"Announcements",icon:"\ud83d\udce2"},{key:"event",label:"Event Schedule",icon:"\ud83d\udcc5"},{key:"meeting",label:"Meeting Notes",icon:"\ud83d\udc65"}].map(e=>(0,mr.jsxs)("button",{onClick:()=>o(e.key),className:"px-6 py-3 rounded-xl font-semibold text-sm transition-all duration-300 flex items-center gap-2 ".concat(i===e.key?"bg-gradient-to-r from-blue-500 to-purple-600 text-white shadow-lg transform scale-105":"bg-white text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,mr.jsx)("span",{className:"text-lg",children:e.icon}),e.label]},e.key))})})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-8",children:[(0,mr.jsx)("div",{className:"lg:col-span-2",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 overflow-hidden",children:[(0,mr.jsx)("div",{className:"p-6 border-b border-gray-200 bg-gradient-to-r from-gray-50 to-blue-50",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:"Communications"}),(0,mr.jsxs)("span",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white text-sm px-4 py-2 rounded-full font-semibold shadow-lg",children:[S.length," items"]})]})}),(0,mr.jsx)("div",{className:"overflow-y-auto max-h-[calc(100vh-300px)] p-4",children:0===S.length?(0,mr.jsxs)("div",{className:"text-center py-12",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-br from-gray-100 to-blue-100 p-8 rounded-3xl w-24 h-24 mx-auto mb-6 flex items-center justify-center",children:(0,mr.jsx)("svg",{className:"w-12 h-12 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-3",children:"No Communications Found"}),(0,mr.jsx)("p",{className:"text-gray-600 mb-6",children:"Create your first communication to get started."}),(0,mr.jsxs)("button",{onClick:()=>u(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold flex items-center gap-2 mx-auto transition-all duration-300 transform hover:scale-105",children:[(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Create First Communication"]})]}):S.map(e=>{const t=(e=>({id:e.id,type:e.type.toLowerCase(),title:e.title,description:e.description,branch:e.branch?e.branch.branch_name:"Unknown Branch",department:e.sender?"From: "+e.sender.name:"Unknown Sender",amount:e.amount?"Rs.".concat(parseFloat(e.amount).toLocaleString()):"Rs.0",status:{paid:"paid",pending:"pending",overdue:"overdue",partial:"partial"}[e.status]||"pending",priority:{High:"high",Medium:"medium",Low:"low"}[e.priority]||"medium",author:e.sender?e.sender.name:"Unknown",timestamp:new Date(e.created_at).toLocaleDateString(),content:e.description,EventDate:e.date?new Date(e.date).toLocaleDateString():null}))(e),n=t.type,r=k[n]||k.internal;return(0,mr.jsx)("div",{className:"p-6 mb-4 rounded-2xl cursor-pointer transition-all duration-300 transform hover:scale-[1.02] ".concat((null===l||void 0===l?void 0:l.id)===e.id?"bg-gradient-to-r from-blue-50 to-purple-50 border-2 border-blue-200 shadow-lg":"bg-white border border-gray-200 hover:shadow-xl"),onClick:()=>(e=>{c(e),e.branch&&e.sender||j(e.id)})(e),children:(0,mr.jsx)("div",{className:"flex items-start justify-between",children:(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-3 mb-4",children:[(0,mr.jsx)("div",{className:"p-2 rounded-xl bg-".concat(r.color,"-100 text-").concat(r.color,"-600"),children:r.icon}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-".concat(r.color,"-100 text-").concat(r.color,"-800 border border-").concat(r.color,"-200"),children:t.type.charAt(0).toUpperCase()+t.type.slice(1)}),(0,mr.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("high"===t.priority?"bg-red-100 text-red-800 border border-red-200":"medium"===t.priority?"bg-yellow-100 text-yellow-800 border border-yellow-200":"bg-green-100 text-green-800 border border-green-200"),children:[t.priority.charAt(0).toUpperCase()+t.priority.slice(1)," Priority"]}),(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("paid"===t.status?"bg-green-100 text-green-800 border border-green-200":"pending"===t.status?"bg-yellow-100 text-yellow-800 border border-yellow-200":"overdue"===t.status?"bg-red-100 text-red-800 border border-red-200":"bg-blue-100 text-blue-800 border border-blue-200"),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]})]}),(0,mr.jsx)("h3",{className:"font-bold text-gray-900 text-lg mb-2",children:t.title}),(0,mr.jsx)("p",{className:"text-gray-600 mb-4 line-clamp-2",children:t.description}),(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4 text-sm text-gray-500",children:[(0,mr.jsx)("span",{className:"font-medium",children:t.department}),(0,mr.jsx)("span",{children:"\u2022"}),(0,mr.jsx)("span",{children:t.branch})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsx)("div",{className:"font-bold text-green-600 text-lg",children:t.amount}),(0,mr.jsxs)("div",{className:"text-xs text-gray-500",children:[t.timestamp," \u2022 By ",t.author]})]})]})]})})},e.id)})})]})}),(0,mr.jsx)("div",{className:"lg:col-span-3",children:(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-xl border border-gray-100 h-full overflow-hidden",children:l?(0,mr.jsxs)("div",{className:"p-8",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between mb-8 pb-6 border-b border-gray-200",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"p-4 rounded-2xl bg-gradient-to-r from-".concat((null===(e=k[l.type.toLowerCase()])||void 0===e?void 0:e.color)||"blue","-500 to-").concat((null===(n=k[l.type.toLowerCase()])||void 0===n?void 0:n.color)||"blue","-600 text-white shadow-lg"),children:null===(r=k[l.type.toLowerCase()])||void 0===r?void 0:r.icon}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-900",children:l.title}),(0,mr.jsxs)("p",{className:"text-gray-600 flex items-center gap-2 mt-1",children:[(0,mr.jsx)("span",{className:"font-semibold",children:l.type}),(0,mr.jsx)("span",{children:"\u2022"}),(0,mr.jsxs)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("High"===l.priority?"bg-red-100 text-red-800":"Medium"===l.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:[l.priority," Priority"]})]})]})]}),(0,mr.jsx)("div",{className:"flex space-x-3",children:(0,mr.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token");return t?(await Ua.delete("/communications/delete/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data.success?(await w(),l&&l.id===e&&c(null),!0):(b("Failed to delete communication"),!1):(b("No token found! Please login again."),!1)}catch(x){return console.error("Error deleting communication:",x),b("Failed to delete communication"),!1}})(l.id),className:"bg-red-50 hover:bg-red-100 text-red-600 p-3 rounded-xl transition-colors duration-300",title:"Delete",children:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 p-6 rounded-2xl border border-gray-200",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),"Communication Details"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Category:"}),(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold bg-".concat((null===(s=k[l.type.toLowerCase()])||void 0===s?void 0:s.color)||"blue","-100 text-").concat((null===(a=k[l.type.toLowerCase()])||void 0===a?void 0:a.color)||"blue","-800"),children:l.type})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Priority:"}),(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-semibold ".concat("High"===l.priority?"bg-red-100 text-red-800":"Medium"===l.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:l.priority})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Created:"}),(0,mr.jsx)("span",{className:"text-sm font-medium text-gray-900",children:new Date(l.created_at).toLocaleDateString()})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Branch:"}),(0,mr.jsx)("span",{className:"text-sm font-medium text-gray-900",children:l.branch?l.branch.branch_name:"Unknown"})]}),l.date&&(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Event Date:"}),(0,mr.jsx)("span",{className:"text-sm font-medium text-gray-900",children:new Date(l.date).toLocaleDateString()})]})]})]}),(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-purple-50 p-6 rounded-2xl border border-gray-200",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-900 mb-4 flex items-center gap-2",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Author Information"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Author:"}),(0,mr.jsx)("span",{className:"text-sm font-medium text-gray-900",children:l.sender?l.sender.name:"Unknown"})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-200",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Email:"}),(0,mr.jsx)("span",{className:"text-sm font-medium text-gray-900",children:l.sender?l.sender.email:"Unknown"})]}),l.amount&&(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Amount:"}),(0,mr.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["Rs.",parseFloat(l.amount).toLocaleString()]})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-gray-50 to-blue-50 p-8 rounded-2xl border border-gray-200",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-900 mb-6 flex items-center gap-2",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Communication Content"]}),(0,mr.jsx)("div",{className:"bg-white p-6 rounded-xl border border-gray-200 shadow-sm",children:(0,mr.jsx)("p",{className:"text-gray-800 leading-relaxed",children:l.description})})]})]}):(0,mr.jsx)("div",{className:"p-12 text-center h-full flex items-center justify-center",children:(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{className:"bg-gradient-to-br from-blue-100 to-purple-100 p-8 rounded-3xl w-24 h-24 mx-auto mb-8 flex items-center justify-center",children:(0,mr.jsx)("svg",{className:"w-12 h-12 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Select a Communication"}),(0,mr.jsx)("p",{className:"text-gray-600 mb-8 text-lg max-w-md mx-auto",children:"Choose an item from the list to view detailed information and communication content."}),(0,mr.jsxs)("button",{onClick:()=>u(!0),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-8 py-4 rounded-xl font-semibold flex items-center gap-3 mx-auto transition-all duration-300 transform hover:scale-105 shadow-lg",children:[(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4v16m8-8H4"})}),"Create New Communication"]})]})})})})]})]}),d&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,mr.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsx)("div",{className:"p-8 border-b border-gray-200 bg-gradient-to-r from-blue-600 to-purple-700 text-white",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:"Create New Communication"}),(0,mr.jsx)("p",{className:"text-blue-100 mt-2",children:"Send a new message to your branches"})]}),(0,mr.jsx)("button",{onClick:()=>u(!1),className:"text-white hover:text-blue-200 p-3 rounded-xl transition-colors duration-300",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,mr.jsx)("div",{className:"p-8",children:(0,mr.jsxs)("form",{onSubmit:C,className:"space-y-8",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-lg font-bold text-gray-900 mb-6",children:"Communication Type *"}),(0,mr.jsx)("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[{type:"Internal",icon:"\ud83d\udcac",color:"blue"},{type:"Announcement",icon:"\ud83d\udce2",color:"purple"},{type:"Event",icon:"\ud83d\udcc5",color:"green"},{type:"Meeting",icon:"\ud83d\udc65",color:"orange"}].map(e=>{let{type:t,icon:n,color:r}=e;return(0,mr.jsxs)("label",{className:"cursor-pointer",children:[(0,mr.jsx)("input",{type:"radio",name:"type",value:t,checked:y.type===t,onChange:_,className:"sr-only"}),(0,mr.jsxs)("div",{className:"border-3 rounded-2xl p-6 text-center transition-all duration-300 transform hover:scale-105 ".concat(y.type===t?"border-".concat(r,"-500 bg-").concat(r,"-50 shadow-lg"):"border-gray-200 bg-white hover:border-gray-300"),children:[(0,mr.jsx)("div",{className:"text-3xl mb-3 ".concat(y.type===t?"text-".concat(r,"-600"):"text-gray-400"),children:n}),(0,mr.jsx)("p",{className:"font-semibold ".concat(y.type===t?"text-".concat(r,"-700"):"text-gray-600"),children:t})]})]},t)})})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Branch *"}),(0,mr.jsxs)("select",{name:"branch_id",value:y.branch_id,onChange:_,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),f.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Priority"}),(0,mr.jsxs)("select",{name:"priority",value:y.priority,onChange:_,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300",children:[(0,mr.jsx)("option",{value:"Low",children:"Low Priority"}),(0,mr.jsx)("option",{value:"Medium",children:"Medium Priority"}),(0,mr.jsx)("option",{value:"High",children:"High Priority"})]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:["Event"===y.type&&(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Event Date"}),(0,mr.jsx)("input",{type:"date",name:"date",value:y.date,onChange:_,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300"})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Amount (Optional)"}),(0,mr.jsx)("input",{type:"number",name:"amount",value:y.amount,onChange:_,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300",placeholder:"Enter amount (optional)"})]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Title *"}),(0,mr.jsx)("input",{type:"text",name:"title",value:y.title,onChange:_,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300",placeholder:"Enter communication title",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700",children:"Description *"}),(0,mr.jsx)("textarea",{rows:"6",name:"description",value:y.description,onChange:_,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-300 resize-none",placeholder:"Enter detailed description...",required:!0})]})]})}),(0,mr.jsxs)("div",{className:"p-8 border-t border-gray-200 flex justify-end space-x-4 bg-gray-50 rounded-b-3xl",children:[(0,mr.jsx)("button",{onClick:()=>u(!1),className:"bg-gray-200 hover:bg-gray-300 text-gray-800 px-8 py-3 rounded-xl font-semibold transition-colors duration-300",children:"Cancel"}),(0,mr.jsxs)("button",{onClick:C,className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-8 py-3 rounded-xl font-semibold flex items-center gap-3 transition-all duration-300 transform hover:scale-105 shadow-lg",children:[(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})}),"Create Communication"]})]})]})})]})})},dC={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function uC(e){return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const hC={date:uC({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:uC({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:uC({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},AC={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function fC(e){return(t,n)=>{let r;if("formatting"===(null!==n&&void 0!==n&&n.context?String(n.context):"standalone")&&e.formattingValues){const t=e.defaultFormattingWidth||e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):t;r=e.formattingValues[s]||e.formattingValues[t]}else{const t=e.defaultWidth,s=null!==n&&void 0!==n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[t]}return r[e.argumentCallback?e.argumentCallback(t):t]}}const mC={ordinalNumber:(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:fC({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:fC({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:fC({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:fC({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:fC({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function pC(e){return function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const i=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(o)?function(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n;return}(o,e=>e.test(i)):function(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(o,e=>e.test(i));let c;c=e.valueCallback?e.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;return{value:c,rest:t.slice(i.length)}}}const gC={ordinalNumber:(xC={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=e.match(xC.matchPattern);if(!n)return null;const r=n[0],s=e.match(xC.parsePattern);if(!s)return null;let a=xC.valueCallback?xC.valueCallback(s[0]):s[0];return a=t.valueCallback?t.valueCallback(a):a,{value:a,rest:e.slice(r.length)}}),era:pC({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:pC({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:pC({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:pC({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:pC({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};var xC;const bC={code:"en-US",formatDistance:(e,t,n)=>{let r;const s=dC[e];return r="string"===typeof s?s:1===t?s.one:s.other.replace("{{count}}",t.toString()),null!==n&&void 0!==n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:hC,formatRelative:(e,t,n,r)=>AC[e],localize:mC,match:gC,options:{weekStartsOn:0,firstWeekContainsDate:1}};let yC={};function vC(){return yC}Math.pow(10,8);const wC=6048e5,jC=6e4,NC=36e5,_C=Symbol.for("constructDateFrom");function CC(e,t){return"function"===typeof e?e(t):e&&"object"===typeof e&&_C in e?e[_C](t):e instanceof Date?new e.constructor(t):new Date(t)}function SC(e,t){return CC(t||e,e)}function kC(e){const t=SC(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function BC(e,t){const n=SC(e,null===t||void 0===t?void 0:t.in);return n.setHours(0,0,0,0),n}function EC(e,t,n){const[r,s]=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const s=CC.bind(null,e||n.find(e=>"object"===typeof e));return n.map(s)}(null===n||void 0===n?void 0:n.in,e,t),a=BC(r),i=BC(s),o=+a-kC(a),l=+i-kC(i);return Math.round((o-l)/864e5)}function LC(e,t){const n=SC(e,null===t||void 0===t?void 0:t.in);return n.setFullYear(n.getFullYear(),0,1),n.setHours(0,0,0,0),n}function MC(e,t){const n=SC(e,null===t||void 0===t?void 0:t.in);return EC(n,LC(n))+1}function FC(e,t){var n,r,s,a,i,o;const l=vC(),c=null!==(n=null!==(r=null!==(s=null!==(a=null===t||void 0===t?void 0:t.weekStartsOn)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.weekStartsOn)&&void 0!==s?s:l.weekStartsOn)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==n?n:0,d=SC(e,null===t||void 0===t?void 0:t.in),u=d.getDay(),h=(u<c?7:0)+u-c;return d.setDate(d.getDate()-h),d.setHours(0,0,0,0),d}function IC(e,t){return FC(e,N(N({},t),{},{weekStartsOn:1}))}function DC(e,t){const n=SC(e,null===t||void 0===t?void 0:t.in),r=n.getFullYear(),s=CC(n,0);s.setFullYear(r+1,0,4),s.setHours(0,0,0,0);const a=IC(s),i=CC(n,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=IC(i);return n.getTime()>=a.getTime()?r+1:n.getTime()>=o.getTime()?r:r-1}function TC(e,t){const n=DC(e,t),r=CC((null===t||void 0===t?void 0:t.in)||e,0);return r.setFullYear(n,0,4),r.setHours(0,0,0,0),IC(r)}function OC(e,t){const n=SC(e,null===t||void 0===t?void 0:t.in),r=+IC(n)-+TC(n);return Math.round(r/wC)+1}function PC(e,t){var n,r,s,a,i,o;const l=SC(e,null===t||void 0===t?void 0:t.in),c=l.getFullYear(),d=vC(),u=null!==(n=null!==(r=null!==(s=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==s?s:d.firstWeekContainsDate)&&void 0!==r?r:null===(o=d.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,h=CC((null===t||void 0===t?void 0:t.in)||e,0);h.setFullYear(c+1,0,u),h.setHours(0,0,0,0);const A=FC(h,t),f=CC((null===t||void 0===t?void 0:t.in)||e,0);f.setFullYear(c,0,u),f.setHours(0,0,0,0);const m=FC(f,t);return+l>=+A?c+1:+l>=+m?c:c-1}function UC(e,t){var n,r,s,a,i,o;const l=vC(),c=null!==(n=null!==(r=null!==(s=null!==(a=null===t||void 0===t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null===t||void 0===t||null===(i=t.locale)||void 0===i||null===(i=i.options)||void 0===i?void 0:i.firstWeekContainsDate)&&void 0!==s?s:l.firstWeekContainsDate)&&void 0!==r?r:null===(o=l.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==n?n:1,d=PC(e,t),u=CC((null===t||void 0===t?void 0:t.in)||e,0);u.setFullYear(d,0,c),u.setHours(0,0,0,0);return FC(u,t)}function RC(e,t){const n=SC(e,null===t||void 0===t?void 0:t.in),r=+FC(n,t)-+UC(n,t);return Math.round(r/wC)+1}function QC(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}const zC={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return QC("yy"===t?r%100:r,t.length)},M(e,t){const n=e.getMonth();return"M"===t?String(n+1):QC(n+1,2)},d:(e,t)=>QC(e.getDate(),t.length),a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];default:return"am"===n?"a.m.":"p.m."}},h:(e,t)=>QC(e.getHours()%12||12,t.length),H:(e,t)=>QC(e.getHours(),t.length),m:(e,t)=>QC(e.getMinutes(),t.length),s:(e,t)=>QC(e.getSeconds(),t.length),S(e,t){const n=t.length,r=e.getMilliseconds();return QC(Math.trunc(r*Math.pow(10,n-3)),t.length)}},HC="midnight",KC="noon",WC="morning",VC="afternoon",qC="evening",GC="night",YC={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){const t=e.getFullYear(),r=t>0?t:1-t;return n.ordinalNumber(r,{unit:"year"})}return zC.y(e,t)},Y:function(e,t,n,r){const s=PC(e,r),a=s>0?s:1-s;if("YY"===t){return QC(a%100,2)}return"Yo"===t?n.ordinalNumber(a,{unit:"year"}):QC(a,t.length)},R:function(e,t){return QC(DC(e),t.length)},u:function(e,t){return QC(e.getFullYear(),t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return QC(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return QC(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return zC.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return QC(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=RC(e,r);return"wo"===t?n.ordinalNumber(s,{unit:"week"}):QC(s,t.length)},I:function(e,t,n){const r=OC(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):QC(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):zC.d(e,t)},D:function(e,t,n){const r=MC(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):QC(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return QC(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return QC(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=0===r?7:r;switch(t){case"i":return String(s);case"ii":return QC(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(s=12===r?KC:0===r?HC:r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(s=r>=17?qC:r>=12?VC:r>=4?WC:GC,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){let t=e.getHours()%12;return 0===t&&(t=12),n.ordinalNumber(t,{unit:"hour"})}return zC.h(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):zC.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):QC(r,t.length)},k:function(e,t,n){let r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):QC(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):zC.m(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):zC.s(e,t)},S:function(e,t){return zC.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return XC(r);case"XXXX":case"XX":return ZC(r);default:return ZC(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return XC(r);case"xxxx":case"xx":return ZC(r);default:return ZC(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+JC(r,":");default:return"GMT"+ZC(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+JC(r,":");default:return"GMT"+ZC(r,":")}},t:function(e,t,n){return QC(Math.trunc(+e/1e3),t.length)},T:function(e,t,n){return QC(+e,t.length)}};function JC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return 0===a?n+String(s):n+String(s)+t+QC(a,2)}function XC(e,t){if(e%60===0){return(e>0?"-":"+")+QC(Math.abs(e)/60,2)}return ZC(e,t)}function ZC(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";const n=e>0?"-":"+",r=Math.abs(e);return n+QC(Math.trunc(r/60),2)+t+QC(r%60,2)}const $C=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},eS=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},tS={p:eS,P:(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return $C(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;default:a=t.dateTime({width:"full"})}return a.replace("{{date}}",$C(r,t)).replace("{{time}}",eS(s,t))}},nS=/^D+$/,rS=/^Y+$/,sS=["D","DD","YY","YYYY"];function aS(e){return e instanceof Date||"object"===typeof e&&"[object Date]"===Object.prototype.toString.call(e)}function iS(e){return!(!aS(e)&&"number"!==typeof e||isNaN(+SC(e)))}const oS=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,lS=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,cS=/^'([^]*?)'?$/,dS=/''/g,uS=/[a-zA-Z]/;function hS(e,t,n){var r,s,a,i,o,l,c,d,u,h,A,f,m,p;const g=vC(),x=null!==(r=null!==(s=null===n||void 0===n?void 0:n.locale)&&void 0!==s?s:g.locale)&&void 0!==r?r:bC,b=null!==(a=null!==(i=null!==(o=null!==(l=null===n||void 0===n?void 0:n.firstWeekContainsDate)&&void 0!==l?l:null===n||void 0===n||null===(c=n.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==o?o:g.firstWeekContainsDate)&&void 0!==i?i:null===(d=g.locale)||void 0===d||null===(d=d.options)||void 0===d?void 0:d.firstWeekContainsDate)&&void 0!==a?a:1,y=null!==(u=null!==(h=null!==(A=null!==(f=null===n||void 0===n?void 0:n.weekStartsOn)&&void 0!==f?f:null===n||void 0===n||null===(m=n.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==A?A:g.weekStartsOn)&&void 0!==h?h:null===(p=g.locale)||void 0===p||null===(p=p.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==u?u:0,v=SC(e,null===n||void 0===n?void 0:n.in);if(!iS(v))throw new RangeError("Invalid time value");let w=t.match(lS).map(e=>{const t=e[0];if("p"===t||"P"===t){return(0,tS[t])(e,x.formatLong)}return e}).join("").match(oS).map(e=>{if("''"===e)return{isToken:!1,value:"'"};const t=e[0];if("'"===t)return{isToken:!1,value:AS(e)};if(YC[t])return{isToken:!0,value:e};if(t.match(uS))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}});x.localize.preprocessor&&(w=x.localize.preprocessor(v,w));const j={firstWeekContainsDate:b,weekStartsOn:y,locale:x};return w.map(r=>{if(!r.isToken)return r.value;const s=r.value;(null!==n&&void 0!==n&&n.useAdditionalWeekYearTokens||!function(e){return rS.test(e)}(s))&&(null!==n&&void 0!==n&&n.useAdditionalDayOfYearTokens||!function(e){return nS.test(e)}(s))||function(e,t,n){const r=function(e,t,n){const r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),sS.includes(e))throw new RangeError(r)}(s,t,String(e));return(0,YC[s[0]])(v,s,x.localize,j)}).join("")}function AS(e){const t=e.match(cS);return t?t[1].replace(dS,"'"):e}function fS(e,t){var n;const r=()=>CC(null===t||void 0===t?void 0:t.in,NaN),s=null!==(n=null===t||void 0===t?void 0:t.additionalDigits)&&void 0!==n?n:2,a=function(e){const t={},n=e.split(mS.dateTimeDelimiter);let r;if(n.length>2)return t;/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],mS.timeZoneDelimiter.test(t.date)&&(t.date=e.split(mS.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length)));if(r){const e=mS.timezone.exec(r);e?(t.time=r.replace(e[1],""),t.timezone=e[1]):t.time=r}return t}(e);let i;if(a.date){const e=function(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:null===a?s:100*a,restDateString:e.slice((r[1]||r[2]).length)}}(a.date,s);i=function(e,t){if(null===t)return new Date(NaN);const n=e.match(pS);if(!n)return new Date(NaN);const r=!!n[4],s=bS(n[1]),a=bS(n[2])-1,i=bS(n[3]),o=bS(n[4]),l=bS(n[5])-1;if(r)return function(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}(0,o,l)?function(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,a=7*(t-1)+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}(t,o,l):new Date(NaN);{const e=new Date(0);return function(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(vS[t]||(wS(e)?29:28))}(t,a,i)&&function(e,t){return t>=1&&t<=(wS(e)?366:365)}(t,s)?(e.setUTCFullYear(t,a,Math.max(s,i)),e):new Date(NaN)}}(e.restDateString,e.year)}if(!i||isNaN(+i))return r();const o=+i;let l,c=0;if(a.time&&(c=function(e){const t=e.match(gS);if(!t)return NaN;const n=yS(t[1]),r=yS(t[2]),s=yS(t[3]);if(!function(e,t,n){if(24===e)return 0===t&&0===n;return n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}(n,r,s))return NaN;return n*NC+r*jC+1e3*s}(a.time),isNaN(c)))return r();if(!a.timezone){const e=new Date(o+c),n=SC(0,null===t||void 0===t?void 0:t.in);return n.setFullYear(e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()),n.setHours(e.getUTCHours(),e.getUTCMinutes(),e.getUTCSeconds(),e.getUTCMilliseconds()),n}return l=function(e){if("Z"===e)return 0;const t=e.match(xS);if(!t)return 0;const n="+"===t[1]?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;if(!function(e,t){return t>=0&&t<=59}(0,s))return NaN;return n*(r*NC+s*jC)}(a.timezone),isNaN(l)?r():SC(o+c+l,null===t||void 0===t?void 0:t.in)}const mS={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},pS=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gS=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,xS=/^([+-])(\d{2})(?::?(\d{2}))?$/;function bS(e){return e?parseInt(e):1}function yS(e){return e&&parseFloat(e.replace(",","."))||0}const vS=[31,null,31,30,31,30,31,31,30,31,30,31];function wS(e){return e%400===0||e%4===0&&e%100!==0}const jS=function(){var e,n,r,s,a,i,o,l,c,d,u,h,A,f,m,p,g,x,b,y,v,w,j,_,C,S,k,B,E,L,M,F,I,D,T,O,P,U;const[R,Q]=(0,t.useState)("students"),[z,H]=(0,t.useState)([]),[K,W]=(0,t.useState)([]),[V,q]=(0,t.useState)({course:"",batch:"",status:"",branch:"",search:"",dateRange:{start:"",end:""}}),[G,Y]=(0,t.useState)([]),[J,X]=(0,t.useState)([]),[Z,$]=(0,t.useState)([]),[ee,te]=(0,t.useState)(null),[ne,re]=(0,t.useState)({type:"month",branch_id:"",from:"",to:""}),[se,ae]=(0,t.useState)(!1),[ie,oe]=(0,t.useState)(null),[le,ce]=(0,t.useState)(!1);(0,t.useEffect)(()=>{de(),ue(),he(),Ae()},[]);const de=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}}),n=Array.isArray(t.data)?t.data:t.data.data?t.data.data:t.data.students?t.data.students:[];H(n),W(n)}catch(e){console.error("Error fetching students:",e),ve("Failed to load student data","error")}},ue=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}}),n=Array.isArray(t.data)?t.data:t.data.data?t.data.data:[];Y(n)}catch(e){console.error("Error fetching courses:",e),ve("Failed to load courses","error")}},he=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=[];t.data&&t.data.status&&Array.isArray(t.data.data)?n=t.data.data:Array.isArray(t.data)?n=t.data:t.data&&Array.isArray(t.data.data)&&(n=t.data.data),X(n)}catch(e){console.error("Error fetching batches:",e),ve("Failed to load batches","error")}},Ae=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}}),n=Array.isArray(t.data)?t.data:t.data.data?t.data.data:[];$(n)}catch(e){console.error("Error fetching branches:",e),ve("Failed to load branches","error")}},fe=async()=>{ae(!0);try{const e=localStorage.getItem("token"),t=N(N(N({type:ne.type},ne.branch_id&&{branch_id:ne.branch_id}),"custom"===ne.type&&ne.from&&{from:ne.from}),"custom"===ne.type&&ne.to&&{to:ne.to}),n=await Ua.get("/reports/branch-performance",{headers:{Authorization:"Bearer ".concat(e)},params:t});te(n.data)}catch(e){console.error("Error fetching branch performance:",e),ve("Failed to load branch performance data","error")}finally{ae(!1)}};(0,t.useEffect)(()=>{xe()},[V,z]),(0,t.useEffect)(()=>{"performance"===R&&fe()},[R]);const me=(e,t)=>{q(n=>N(N({},n),{},{[e]:t}))},pe=(e,t)=>{q(n=>N(N({},n),{},{dateRange:N(N({},n.dateRange),{},{[e]:t})}))},ge=(e,t)=>{re(n=>N(N({},n),{},{[e]:t}))},xe=()=>{if(!z.length)return void W([]);const e=z.filter(e=>{var t;const n=e.admission_date?new Date(e.admission_date):null,r=V.dateRange.start?new Date(V.dateRange.start):null,s=V.dateRange.end?new Date(V.dateRange.end):null,a=(!r||n&&n>=r)&&(!s||n&&n<=s),i=!V.course||e.courses&&e.courses.length>0&&e.courses.some(e=>e.course_name===V.course),o=!V.batch||e.courses&&e.courses.length>0&&e.courses.some(e=>e.batch&&e.batch.batch_name===V.batch),l=(null===(t=e.branch)||void 0===t?void 0:t.branch_name)||"",c=!V.branch||l===V.branch,d=!V.status||e.enrollment_status===V.status,u=V.search.toLowerCase(),h=!V.search||e.full_name&&e.full_name.toLowerCase().includes(u)||e.email&&e.email.toLowerCase().includes(u)||e.admission_number&&e.admission_number.toLowerCase().includes(u);return i&&o&&c&&d&&a&&h});W(e)},be=()=>Z.map(e=>({id:e.id||e.branch_id,name:e.branch_name||e.name||e})).filter(e=>e.name),ye=()=>{oe(null),ce(!1)},ve=(e,t)=>{console.log("".concat(t,": ").concat(e))},we=()=>{if(0===K.length)return void ve("No data to export","warning");const e=K.map(e=>{var t;const n=e.courses&&e.courses.length>0?e.courses[0].course_name:"N/A",r=e.courses&&e.courses.length>0&&e.courses[0].batch?e.courses[0].batch.batch_name:"N/A",s=(null===(t=e.branch)||void 0===t?void 0:t.branch_name)||"N/A";return"".concat(e.id||"",",").concat(e.full_name||"",",").concat(e.admission_number||"",",").concat(e.email||"",",").concat(n,",").concat(r,",").concat(s,",").concat(e.enrollment_status||"",",").concat(e.admission_date||"",",").concat(e.contact_number||"")}).join("\n"),t=encodeURI("data:text/csv;charset=utf-8,ID,Name,Admission Number,Email,Course,Batch,Branch,Status,Admission Date,Contact Number\n"+e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","students_report.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n),ve("Student list exported successfully!","success")},je=e=>{switch(e){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},Ne=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(e||0),_e=(e,t)=>t?"".concat((e/t*100).toFixed(1),"%"):"0%";return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-700 text-white p-6 mb-8",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,mr.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Reports & Analytics"}),(0,mr.jsx)("p",{className:"text-blue-100",children:"Comprehensive insights and data management"})]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-4",children:[(0,mr.jsxs)("button",{onClick:we,className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-200",children:[(0,mr.jsx)("i",{className:"fas fa-download mr-2"}),"Export Report"]}),(0,mr.jsxs)("button",{onClick:de,className:"bg-white bg-opacity-20 text-white px-6 py-3 rounded-lg font-semibold hover:bg-opacity-30 transition-all duration-200",children:[(0,mr.jsx)("i",{className:"fas fa-sync-alt mr-2"}),"Refresh"]})]})]})})}),(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-md mb-8",children:(0,mr.jsxs)("div",{className:"flex flex-wrap border-b border-gray-200",children:[(0,mr.jsxs)("button",{onClick:()=>Q("students"),className:"px-6 py-4 font-semibold transition-colors duration-200 flex items-center ".concat("students"===R?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-600 hover:text-gray-900"),children:[(0,mr.jsx)("i",{className:"fas fa-users mr-2"}),"Student List"]}),(0,mr.jsxs)("button",{onClick:()=>Q("performance"),className:"px-6 py-4 font-semibold transition-colors duration-200 flex items-center ".concat("performance"===R?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-600 hover:text-gray-900"),children:[(0,mr.jsx)("i",{className:"fas fa-chart-line mr-2"}),"Branch Performance Report"]})]})}),"students"===R&&(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Advanced Filters"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),(0,mr.jsxs)("select",{value:V.course,onChange:e=>me("course",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"",children:"All Courses"}),G.map(e=>e.course_name).filter(Boolean).map((e,t)=>(0,mr.jsx)("option",{value:e,children:e},t))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),(0,mr.jsxs)("select",{value:V.batch,onChange:e=>me("batch",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"",children:"All Batches"}),J.map(e=>e.batch_name).filter(Boolean).map((e,t)=>(0,mr.jsx)("option",{value:e,children:e},t))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),(0,mr.jsxs)("select",{value:V.branch,onChange:e=>me("branch",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),be().map((e,t)=>(0,mr.jsx)("option",{value:e.name,children:e.name},t))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,mr.jsxs)("select",{value:V.status,onChange:e=>me("status",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"",children:"All Status"}),(()=>{const e=z.map(e=>e.enrollment_status).filter((e,t,n)=>e&&n.indexOf(e)===t);return e.sort()})().map((e,t)=>(0,mr.jsx)("option",{value:e,children:e},t))]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,mr.jsx)("input",{type:"date",value:V.dateRange.start,onChange:e=>pe("start",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,mr.jsx)("input",{type:"date",value:V.dateRange.end,onChange:e=>pe("end",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,mr.jsx)("input",{type:"text",value:V.search,onChange:e=>me("search",e.target.value),placeholder:"Search by name, email, or admission number...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("span",{className:"text-sm text-gray-600",children:["Showing ",K.length," of ",z.length," students"]}),(0,mr.jsx)("button",{onClick:()=>q({course:"",batch:"",status:"",branch:"",search:"",dateRange:{start:"",end:""}}),className:"text-indigo-600 hover:text-indigo-800 font-medium",children:"Clear All Filters"})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,mr.jsxs)("div",{className:"p-6 border-b border-gray-200 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold",children:["Student List ",K.length>0&&"(".concat(K.length," students found)")]}),(0,mr.jsxs)("button",{onClick:we,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:[(0,mr.jsx)("i",{className:"fas fa-file-excel mr-2"}),"Export Excel"]})]}),(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admission No."}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course/Batch"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admission Date"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:K.length>0?K.map(e=>{var t;const n=e.courses&&e.courses.length>0?e.courses[0].course_name:"N/A",r=e.courses&&e.courses.length>0&&e.courses[0].batch?e.courses[0].batch.batch_name:"N/A",s=(null===(t=e.branch)||void 0===t?void 0:t.branch_name)||"N/A";return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 cursor-pointer transition-colors duration-150",onClick:()=>(e=>{oe(e),ce(!0)})(e),children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:e.photo_url?(0,mr.jsx)("img",{src:e.photo_url,alt:e.full_name,className:"h-10 w-10 rounded-full object-cover"}):(0,mr.jsx)("span",{className:"text-indigo-600 font-semibold",children:e.full_name?e.full_name.charAt(0).toUpperCase():"S"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.full_name||"No Name"}),(0,mr.jsx)("div",{className:"text-sm text-gray-500",children:e.email||"No Email"})]})]})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.admission_number||"N/A"}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(0,mr.jsx)("div",{className:"font-medium",children:n}),(0,mr.jsx)("div",{className:"text-xs text-gray-500",children:r})]}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:s}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(je(e.enrollment_status)),children:e.enrollment_status||"Unknown"})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.admission_date?hS(fS(e.admission_date),"MMM dd, yyyy"):"N/A"})]},e.id)}):(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"6",className:"px-6 py-4 text-center text-sm text-gray-500",children:0===z.length?"No students found":"No students matching your filters"})})})]})})]})]}),le&&ie&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl max-w-2xl w-full max-h-[90vh] overflow-y-auto",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-6 rounded-t-xl",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"h-16 w-16 rounded-full bg-white bg-opacity-20 flex items-center justify-center",children:ie.photo_url?(0,mr.jsx)("img",{src:ie.photo_url,alt:ie.full_name,className:"h-16 w-16 rounded-full object-cover border-2 border-white"}):(0,mr.jsx)("span",{className:"text-2xl font-bold text-white",children:ie.full_name?ie.full_name.charAt(0).toUpperCase():"S"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:ie.full_name}),(0,mr.jsx)("p",{className:"text-blue-100 opacity-90",children:ie.email}),(0,mr.jsx)("span",{className:"mt-2 px-3 py-1 text-sm font-semibold rounded-full ".concat(je(ie.enrollment_status)),children:ie.enrollment_status||"Unknown"})]})]}),(0,mr.jsx)("button",{onClick:ye,className:"text-white hover:text-gray-200 transition-colors duration-200",children:(0,mr.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,mr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-user-circle text-blue-500 mr-2"}),"Personal Information"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Date of Birth"}),(0,mr.jsx)("p",{className:"text-gray-900",children:ie.dob||"N/A"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Gender"}),(0,mr.jsx)("p",{className:"text-gray-900",children:ie.gender||"N/A"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Contact Number"}),(0,mr.jsx)("p",{className:"text-gray-900",children:ie.contact_number||"N/A"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Admission Number"}),(0,mr.jsx)("p",{className:"text-gray-900 font-mono",children:ie.admission_number||"N/A"})]})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-users text-green-500 mr-2"}),"Guardian Information"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Guardian Name"}),(0,mr.jsx)("p",{className:"text-gray-900",children:ie.guardian_name||"N/A"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Guardian Contact"}),(0,mr.jsx)("p",{className:"text-gray-900",children:ie.guardian_contact||"N/A"})]})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-graduation-cap text-purple-500 mr-2"}),"Academic Information"]}),(0,mr.jsx)("div",{className:"space-y-4",children:ie.courses&&ie.courses.length>0?ie.courses.map((e,t)=>{var n,r,s;return(0,mr.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Course"}),(0,mr.jsx)("p",{className:"text-gray-900 font-semibold",children:e.course_name})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Batch"}),(0,mr.jsx)("p",{className:"text-gray-900",children:(null===(n=e.batch)||void 0===n?void 0:n.batch_name)||"N/A"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Batch Timing"}),(0,mr.jsx)("p",{className:"text-gray-900",children:null!==(r=e.batch)&&void 0!==r&&r.batch_start_time?"".concat(e.batch.batch_start_time.slice(0,5)," - ").concat((null===(s=e.batch.batch_end_time)||void 0===s?void 0:s.slice(0,5))||""):"N/A"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Duration"}),(0,mr.jsx)("p",{className:"text-gray-900",children:e.duration?"".concat(e.duration," months"):"N/A"})]})]})},t)}):(0,mr.jsx)("p",{className:"text-gray-500 text-center py-4",children:"No course information available"})})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-building text-orange-500 mr-2"}),"Branch Information"]}),(0,mr.jsx)("div",{className:"border border-gray-200 rounded-lg p-4 bg-gray-50",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Branch Name"}),(0,mr.jsx)("p",{className:"text-gray-900 font-semibold",children:(null===(e=ie.branch)||void 0===e?void 0:e.branch_name)||"N/A"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Address"}),(0,mr.jsx)("p",{className:"text-gray-900",children:(null===(n=ie.branch)||void 0===n?void 0:n.address)||"N/A"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Contact"}),(0,mr.jsx)("p",{className:"text-gray-900",children:(null===(r=ie.branch)||void 0===r?void 0:r.contact_number)||"N/A"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Email"}),(0,mr.jsx)("p",{className:"text-gray-900",children:(null===(s=ie.branch)||void 0===s?void 0:s.email)||"N/A"})]})]})})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-info-circle text-red-500 mr-2"}),"Additional Information"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Admission Date"}),(0,mr.jsx)("p",{className:"text-gray-900",children:ie.admission_date?hS(fS(ie.admission_date),"MMM dd, yyyy"):"N/A"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"text-sm font-medium text-gray-600",children:"Address"}),(0,mr.jsx)("p",{className:"text-gray-900",children:ie.address||"N/A"})]})]})]})]}),(0,mr.jsx)("div",{className:"bg-gray-50 px-6 py-4 border-t border-gray-200 rounded-b-xl flex justify-end",children:(0,mr.jsx)("button",{onClick:ye,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:"Close"})})]})}),"performance"===R&&(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Branch Performance Filters"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),(0,mr.jsxs)("select",{value:ne.type,onChange:e=>ge("type",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"week",children:"Weekly"}),(0,mr.jsx)("option",{value:"month",children:"Monthly"}),(0,mr.jsx)("option",{value:"custom",children:"Custom Range"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),(0,mr.jsxs)("select",{value:ne.branch_id,onChange:e=>ge("branch_id",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),be().map((e,t)=>(0,mr.jsx)("option",{value:e.id,children:e.name},t))]})]}),"custom"===ne.type&&(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,mr.jsx)("input",{type:"date",value:ne.from,onChange:e=>ge("from",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,mr.jsx)("input",{type:"date",value:ne.to,onChange:e=>ge("to",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),(0,mr.jsx)("div",{className:"flex justify-end mt-4",children:(0,mr.jsx)("button",{onClick:fe,disabled:se,className:"bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors duration-200 disabled:opacity-50 flex items-center",children:se?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Loading..."]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("i",{className:"fas fa-chart-bar mr-2"}),"Generate Report"]})})})]}),ee&&(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white rounded-lg shadow-md p-6",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-xl font-bold mb-2",children:"Performance Overview"}),(0,mr.jsx)("p",{className:"text-blue-100",children:null!==(a=ee.date_range)&&void 0!==a&&a.from&&null!==(i=ee.date_range)&&void 0!==i&&i.to?"Period: ".concat(hS(fS(ee.date_range.from),"MMM dd, yyyy")," - ").concat(hS(fS(ee.date_range.to),"MMM dd, yyyy")):"Current period"})]}),(0,mr.jsx)("div",{className:"mt-4 md:mt-0",children:(0,mr.jsxs)("span",{className:"bg-white bg-opacity-20 px-4 py-2 rounded-full text-sm font-semibold",children:[(null===(o=ne.type)||void 0===o?void 0:o.charAt(0).toUpperCase())+(null===(l=ne.type)||void 0===l?void 0:l.slice(1))," Report"]})})]})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Leads"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(null===(c=ee.leads)||void 0===c?void 0:c.total)||0}),(0,mr.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Converted: ",(null===(d=ee.leads)||void 0===d?void 0:d.converted)||0]})]}),(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-full",children:(0,mr.jsx)("i",{className:"fas fa-bullhorn text-blue-600 text-xl"})})]}),(0,mr.jsxs)("div",{className:"mt-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,mr.jsx)("span",{children:"Conversion Rate"}),(0,mr.jsx)("span",{children:(null===(u=ee.leads)||void 0===u?void 0:u.conversion_ratio)||"0%"})]}),(0,mr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,mr.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:(null===(h=ee.leads)||void 0===h?void 0:h.conversion_ratio)||"0%"}})})]})]}),(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"New Admissions"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:ee.new_admissions||0}),(0,mr.jsxs)("p",{className:"text-sm text-green-600 font-semibold mt-2",children:["+",_e(ee.new_admissions||0,(null===(A=ee.leads)||void 0===A?void 0:A.total)||1)," from leads"]})]}),(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-full",children:(0,mr.jsx)("i",{className:"fas fa-user-graduate text-green-600 text-xl"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Staff Attendance"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:(null===(f=ee.staff_attendance)||void 0===f?void 0:f.Present)||0}),(0,mr.jsxs)("p",{className:"text-sm text-gray-500 mt-2",children:["Present: ",(null===(m=ee.staff_attendance)||void 0===m?void 0:m.Present)||0," / Total: ",((null===(p=ee.staff_attendance)||void 0===p?void 0:p.Present)||0)+((null===(g=ee.staff_attendance)||void 0===g?void 0:g.Absent)||0)+((null===(x=ee.staff_attendance)||void 0===x?void 0:x.Halfday)||0)]})]}),(0,mr.jsx)("div",{className:"bg-purple-100 p-3 rounded-full",children:(0,mr.jsx)("i",{className:"fas fa-users text-purple-600 text-xl"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-orange-500",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Expenses"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-1",children:Ne(ee.total_expense)}),(0,mr.jsxs)("div",{className:"text-xs text-gray-500 mt-2 space-y-1",children:[(0,mr.jsxs)("div",{children:["Salary: ",Ne(ee.staff_salary)]}),(0,mr.jsxs)("div",{children:["Other: ",Ne(ee.other_expenses)]})]})]}),(0,mr.jsx)("div",{className:"bg-orange-100 p-3 rounded-full",children:(0,mr.jsx)("i",{className:"fas fa-money-bill-wave text-orange-600 text-xl"})})]})})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,mr.jsxs)("h4",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-list-alt text-blue-600 mr-2"}),"Leads Details (",(null===(b=ee.leads)||void 0===b||null===(y=b.details)||void 0===y?void 0:y.length)||0,")"]}),(0,mr.jsxs)("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:[null===(v=ee.leads)||void 0===v||null===(w=v.details)||void 0===w?void 0:w.map((e,t)=>(0,mr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h5",{className:"font-semibold text-gray-900",children:e.full_name}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:e.email_address}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:e.contact_number_primary})]}),(0,mr.jsx)("span",{className:"px-2 py-1 text-xs rounded-full ".concat("Converted"===e.lead_status?"bg-green-100 text-green-800":"New"===e.lead_status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.lead_status})]}),(0,mr.jsxs)("div",{className:"mt-2 text-xs text-gray-500",children:[(0,mr.jsx)("span",{className:"capitalize",children:e.lead_source})," \u2022 ",e.lead_code]})]},e.id)),(!(null!==(j=ee.leads)&&void 0!==j&&j.details)||0===ee.leads.details.length)&&(0,mr.jsx)("p",{className:"text-center text-gray-500 py-4",children:"No leads data available"})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,mr.jsxs)("h4",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-calendar-check text-purple-600 mr-2"}),"Staff Attendance Summary"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Present"}),(0,mr.jsx)("span",{className:"bg-green-100 text-green-800 px-3 py-1 rounded-full font-semibold",children:(null===(_=ee.staff_attendance)||void 0===_?void 0:_.Present)||0})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Absent"}),(0,mr.jsx)("span",{className:"bg-red-100 text-red-800 px-3 py-1 rounded-full font-semibold",children:(null===(C=ee.staff_attendance)||void 0===C?void 0:C.Absent)||0})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Half Day"}),(0,mr.jsx)("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full font-semibold",children:(null===(S=ee.staff_attendance)||void 0===S?void 0:S.Halfday)||0})]}),(0,mr.jsxs)("div",{className:"mt-6",children:[(0,mr.jsx)("div",{className:"flex justify-between text-sm text-gray-600 mb-2",children:(0,mr.jsx)("span",{children:"Attendance Distribution"})}),(0,mr.jsxs)("div",{className:"flex h-4 rounded-full overflow-hidden",children:[(0,mr.jsx)("div",{className:"bg-green-500 transition-all duration-500",style:{width:_e((null===(k=ee.staff_attendance)||void 0===k?void 0:k.Present)||0,((null===(B=ee.staff_attendance)||void 0===B?void 0:B.Present)||0)+((null===(E=ee.staff_attendance)||void 0===E?void 0:E.Absent)||0)+((null===(L=ee.staff_attendance)||void 0===L?void 0:L.Halfday)||0))}}),(0,mr.jsx)("div",{className:"bg-yellow-500 transition-all duration-500",style:{width:_e((null===(M=ee.staff_attendance)||void 0===M?void 0:M.Halfday)||0,((null===(F=ee.staff_attendance)||void 0===F?void 0:F.Present)||0)+((null===(I=ee.staff_attendance)||void 0===I?void 0:I.Absent)||0)+((null===(D=ee.staff_attendance)||void 0===D?void 0:D.Halfday)||0))}}),(0,mr.jsx)("div",{className:"bg-red-500 transition-all duration-500",style:{width:_e((null===(T=ee.staff_attendance)||void 0===T?void 0:T.Absent)||0,((null===(O=ee.staff_attendance)||void 0===O?void 0:O.Present)||0)+((null===(P=ee.staff_attendance)||void 0===P?void 0:P.Absent)||0)+((null===(U=ee.staff_attendance)||void 0===U?void 0:U.Halfday)||0))}})]}),(0,mr.jsxs)("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[(0,mr.jsx)("span",{children:"Present"}),(0,mr.jsx)("span",{children:"Half Day"}),(0,mr.jsx)("span",{children:"Absent"})]})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,mr.jsxs)("h4",{className:"text-lg font-semibold mb-4 flex items-center",children:[(0,mr.jsx)("i",{className:"fas fa-chart-pie text-orange-600 mr-2"}),"Financial Breakdown"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,mr.jsxs)("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Staff Salary"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:Ne(ee.staff_salary)})]}),(0,mr.jsxs)("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Other Expenses"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:Ne(ee.other_expenses)})]}),(0,mr.jsxs)("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Total Expenses"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-900 mt-2",children:Ne(ee.total_expense)})]})]})]})]}),!ee&&!se&&(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-12 text-center",children:[(0,mr.jsx)("i",{className:"fas fa-chart-bar text-4xl text-gray-300 mb-4"}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"No Report Generated"}),(0,mr.jsx)("p",{className:"text-gray-500 mb-6",children:"Select filters and generate a branch performance report to view analytics"}),(0,mr.jsxs)("button",{onClick:fe,className:"bg-indigo-600 text-white px-6 py-3 rounded-lg font-semibold hover:bg-indigo-700 transition-colors duration-200",children:[(0,mr.jsx)("i",{className:"fas fa-chart-bar mr-2"}),"Generate First Report"]})]})]})]})]})})};function NS(){const[e,n]=(0,t.useState)("branding"),[r,s]=(0,t.useState)({branding:{logo:null,primaryColor:"#0176d3",secondaryColor:"#04844b",accentColor:"#fe9339",companyName:"Sinfode Academy",tagline:"Excellence in Education"},userRoles:[{id:1,name:"Super Admin",permissions:["all"],users:2,status:"active"},{id:2,name:"Academic Director",permissions:["courses","students","reports"],users:5,status:"active"},{id:3,name:"Instructor",permissions:["courses","students"],users:25,status:"active"},{id:4,name:"Student Advisor",permissions:["students","communications"],users:8,status:"active"}],approvals:{discountThresholds:[{range:"0% - 10%",approver:"Instructor",amount:"$0 - $500"},{range:"11% - 25%",approver:"Academic Director",amount:"$501 - $2,000"},{range:"26% - 50%",approver:"Super Admin",amount:"$2,001+"}],expenseThresholds:[{range:"$0 - $100",approver:"Auto-approved",status:"success"},{range:"$101 - $500",approver:"Department Head",status:"warning"},{range:"$501+",approver:"Finance Director",status:"info"}]},reminders:{paymentReminders:"weekly",courseReminders:"daily",assignmentReminders:"daily",eventReminders:"weekly"}}),a=(e,t,n)=>{s(r=>N(N({},r),{},{[e]:N(N({},r[e]),{},{[t]:n})}))};return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"slds-container",children:[(0,mr.jsxs)("div",{className:"slds-page-header",children:[(0,mr.jsx)("h1",{className:"slds-page-header__title",children:"Settings"}),(0,mr.jsx)("p",{className:"slds-page-header__meta",children:"Configure your Sinfode Academy CRM system settings and preferences"})]}),(0,mr.jsxs)("div",{className:"slds-tabs",children:[(0,mr.jsx)("div",{className:"slds-tabs__nav",children:[{id:"branding",label:"Institute Branding",icon:"\ud83c\udfa8"},{id:"roles",label:"User Roles",icon:"\ud83d\udc65"},{id:"approvals",label:"Approval Settings",icon:"\u2705"},{id:"reminders",label:"Reminder Settings",icon:"\ud83d\udd14"}].map(t=>(0,mr.jsx)("div",{className:"slds-tabs__item",children:(0,mr.jsxs)("a",{className:"slds-tabs__link ".concat(e===t.id?"slds-tabs__link--active":""),onClick:()=>n(t.id),children:[(0,mr.jsx)("span",{style:{marginRight:"0.5rem"},children:t.icon}),t.label]})},t.id))}),(0,mr.jsxs)("div",{className:"slds-tabs__content",children:["branding"===e&&(0,mr.jsxs)("div",{className:"slds-grid slds-grid--2-col",children:[(0,mr.jsxs)("div",{className:"slds-card",children:[(0,mr.jsx)("div",{className:"slds-card__header",children:(0,mr.jsx)("h2",{className:"slds-card__header-title",children:"\ud83c\udfa8 Logo & Visual Identity"})}),(0,mr.jsxs)("div",{className:"slds-card__body",children:[(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Company Logo"}),(0,mr.jsxs)("div",{className:"slds-file-upload",onClick:()=>document.getElementById("logo-upload").click(),children:[(0,mr.jsx)("div",{className:"slds-file-upload__icon",children:"\ud83d\udcc1"}),(0,mr.jsx)("p",{children:"Click to upload logo"}),(0,mr.jsx)("p",{style:{fontSize:"0.75rem",color:"#706e6b"},children:"PNG, JPG up to 2MB"})]}),(0,mr.jsx)("input",{id:"logo-upload",type:"file",accept:"image/*",style:{display:"none"},onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onload=e=>{a("branding","logo",e.target.result)},e.readAsDataURL(t)}}}),r.branding.logo&&(0,mr.jsx)("div",{style:{marginTop:"1rem"},children:(0,mr.jsx)("img",{src:r.branding.logo,alt:"Logo Preview",className:"slds-logo-preview"})})]}),(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Company Name"}),(0,mr.jsx)("input",{type:"text",className:"slds-input",value:r.branding.companyName,onChange:e=>a("branding","companyName",e.target.value)})]}),(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Tagline"}),(0,mr.jsx)("input",{type:"text",className:"slds-input",value:r.branding.tagline,onChange:e=>a("branding","tagline",e.target.value)})]})]})]}),(0,mr.jsxs)("div",{className:"slds-card",children:[(0,mr.jsx)("div",{className:"slds-card__header",children:(0,mr.jsx)("h2",{className:"slds-card__header-title",children:"\ud83c\udfa8 Color Scheme"})}),(0,mr.jsxs)("div",{className:"slds-card__body",children:[(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Primary Color"}),(0,mr.jsxs)("div",{className:"slds-color-picker",children:[(0,mr.jsx)("div",{className:"slds-color-preview",style:{backgroundColor:r.branding.primaryColor},onClick:()=>document.getElementById("primary-color").click()}),(0,mr.jsx)("input",{id:"primary-color",type:"color",value:r.branding.primaryColor,onChange:e=>a("branding","primaryColor",e.target.value),style:{opacity:0,width:0}}),(0,mr.jsx)("input",{type:"text",className:"slds-input",value:r.branding.primaryColor,onChange:e=>a("branding","primaryColor",e.target.value)})]})]}),(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Secondary Color"}),(0,mr.jsxs)("div",{className:"slds-color-picker",children:[(0,mr.jsx)("div",{className:"slds-color-preview",style:{backgroundColor:r.branding.secondaryColor},onClick:()=>document.getElementById("secondary-color").click()}),(0,mr.jsx)("input",{id:"secondary-color",type:"color",value:r.branding.secondaryColor,onChange:e=>a("branding","secondaryColor",e.target.value),style:{opacity:0,width:0}}),(0,mr.jsx)("input",{type:"text",className:"slds-input",value:r.branding.secondaryColor,onChange:e=>a("branding","secondaryColor",e.target.value)})]})]}),(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Accent Color"}),(0,mr.jsxs)("div",{className:"slds-color-picker",children:[(0,mr.jsx)("div",{className:"slds-color-preview",style:{backgroundColor:r.branding.accentColor},onClick:()=>document.getElementById("accent-color").click()}),(0,mr.jsx)("input",{id:"accent-color",type:"color",value:r.branding.accentColor,onChange:e=>a("branding","accentColor",e.target.value),style:{opacity:0,width:0}}),(0,mr.jsx)("input",{type:"text",className:"slds-input",value:r.branding.accentColor,onChange:e=>a("branding","accentColor",e.target.value)})]})]}),(0,mr.jsx)("button",{className:"slds-button slds-button--brand",style:{width:"100%",marginTop:"1rem"},children:"\ud83d\udcbe Save Branding Settings"})]})]})]}),"roles"===e&&(0,mr.jsxs)("div",{className:"slds-card",children:[(0,mr.jsx)("div",{className:"slds-card__header",children:(0,mr.jsx)("h2",{className:"slds-card__header-title",children:"\ud83d\udc65 User Role Configuration"})}),(0,mr.jsxs)("div",{className:"slds-card__body",children:[(0,mr.jsx)("div",{className:"slds-approval-matrix",children:(0,mr.jsxs)("table",{className:"slds-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"Role Name"}),(0,mr.jsx)("th",{children:"Permissions"}),(0,mr.jsx)("th",{children:"Active Users"}),(0,mr.jsx)("th",{children:"Status"}),(0,mr.jsx)("th",{children:"Actions"})]})}),(0,mr.jsx)("tbody",{children:r.userRoles.map(e=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:(0,mr.jsx)("strong",{children:e.name})}),(0,mr.jsx)("td",{children:e.permissions.join(", ")}),(0,mr.jsx)("td",{children:(0,mr.jsxs)("span",{className:"slds-badge slds-badge--info",children:[e.users," users"]})}),(0,mr.jsx)("td",{children:(0,mr.jsx)("span",{className:"slds-badge ".concat("active"===e.status?"slds-badge--success":"slds-badge--warning"),children:e.status})}),(0,mr.jsxs)("td",{children:[(0,mr.jsx)("button",{className:"slds-button",style:{marginRight:"0.5rem"},children:"\u270f\ufe0f Edit"}),(0,mr.jsx)("button",{className:"slds-button",children:"\ud83d\udc65 Manage Users"})]})]},e.id))})]})}),(0,mr.jsx)("button",{className:"slds-button slds-button--brand",style:{marginTop:"1.5rem"},children:"\u2795 Add New Role"})]})]}),"approvals"===e&&(0,mr.jsxs)("div",{className:"slds-grid slds-grid--2-col",children:[(0,mr.jsxs)("div",{className:"slds-card",children:[(0,mr.jsx)("div",{className:"slds-card__header",children:(0,mr.jsx)("h2",{className:"slds-card__header-title",children:"\ud83d\udcb0 Discount Approval Matrix"})}),(0,mr.jsx)("div",{className:"slds-card__body",children:(0,mr.jsx)("div",{className:"slds-approval-matrix",children:(0,mr.jsxs)("table",{className:"slds-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"Discount Range"}),(0,mr.jsx)("th",{children:"Amount Range"}),(0,mr.jsx)("th",{children:"Required Approver"})]})}),(0,mr.jsx)("tbody",{children:r.approvals.discountThresholds.map((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:(0,mr.jsx)("strong",{children:e.range})}),(0,mr.jsx)("td",{children:e.amount}),(0,mr.jsx)("td",{children:(0,mr.jsx)("span",{className:"slds-badge slds-badge--info",children:e.approver})})]},t))})]})})})]}),(0,mr.jsxs)("div",{className:"slds-card",children:[(0,mr.jsx)("div",{className:"slds-card__header",children:(0,mr.jsx)("h2",{className:"slds-card__header-title",children:"\ud83d\udcb3 Expense Approval Matrix"})}),(0,mr.jsxs)("div",{className:"slds-card__body",children:[(0,mr.jsx)("div",{className:"slds-approval-matrix",children:(0,mr.jsxs)("table",{className:"slds-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"Amount Range"}),(0,mr.jsx)("th",{children:"Required Approver"}),(0,mr.jsx)("th",{children:"Status"})]})}),(0,mr.jsx)("tbody",{children:r.approvals.expenseThresholds.map((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:(0,mr.jsx)("strong",{children:e.range})}),(0,mr.jsx)("td",{children:e.approver}),(0,mr.jsx)("td",{children:(0,mr.jsx)("span",{className:"slds-badge slds-badge--".concat(e.status),children:"success"===e.status?"Automatic":"warning"===e.status?"Manual":"Executive"})})]},t))})]})}),(0,mr.jsxs)("div",{style:{marginTop:"1.5rem",padding:"1rem",background:"#f8f9fa",borderRadius:"0.375rem"},children:[(0,mr.jsx)("h4",{style:{margin:"0 0 1rem 0",color:"#3e3e3c"},children:"Approval Workflow Settings"}),(0,mr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,mr.jsx)("span",{children:"Auto-approve recurring expenses"}),(0,mr.jsxs)("label",{className:"slds-toggle",children:[(0,mr.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,mr.jsx)("span",{className:"slds-toggle__slider"})]})]}),(0,mr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,mr.jsx)("span",{children:"Email notifications for approvals"}),(0,mr.jsxs)("label",{className:"slds-toggle",children:[(0,mr.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,mr.jsx)("span",{className:"slds-toggle__slider"})]})]})]})]})]})]}),"reminders"===e&&(0,mr.jsxs)("div",{className:"slds-grid slds-grid--2-col",children:[(0,mr.jsxs)("div",{className:"slds-card",children:[(0,mr.jsx)("div",{className:"slds-card__header",children:(0,mr.jsx)("h2",{className:"slds-card__header-title",children:"\ud83d\udd14 Reminder Frequency Settings"})}),(0,mr.jsxs)("div",{className:"slds-card__body",children:[(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Payment Reminders"}),(0,mr.jsxs)("select",{className:"slds-select",value:r.reminders.paymentReminders,onChange:e=>a("reminders","paymentReminders",e.target.value),children:[(0,mr.jsx)("option",{value:"daily",children:"Daily"}),(0,mr.jsx)("option",{value:"weekly",children:"Weekly"}),(0,mr.jsx)("option",{value:"monthly",children:"Monthly"}),(0,mr.jsx)("option",{value:"disabled",children:"Disabled"})]})]}),(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Course Reminders"}),(0,mr.jsxs)("select",{className:"slds-select",value:r.reminders.courseReminders,onChange:e=>a("reminders","courseReminders",e.target.value),children:[(0,mr.jsx)("option",{value:"daily",children:"Daily"}),(0,mr.jsx)("option",{value:"weekly",children:"Weekly"}),(0,mr.jsx)("option",{value:"monthly",children:"Monthly"}),(0,mr.jsx)("option",{value:"disabled",children:"Disabled"})]})]}),(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Assignment Reminders"}),(0,mr.jsxs)("select",{className:"slds-select",value:r.reminders.assignmentReminders,onChange:e=>a("reminders","assignmentReminders",e.target.value),children:[(0,mr.jsx)("option",{value:"daily",children:"Daily"}),(0,mr.jsx)("option",{value:"weekly",children:"Weekly"}),(0,mr.jsx)("option",{value:"monthly",children:"Monthly"}),(0,mr.jsx)("option",{value:"disabled",children:"Disabled"})]})]}),(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Event Reminders"}),(0,mr.jsxs)("select",{className:"slds-select",value:r.reminders.eventReminders,onChange:e=>a("reminders","eventReminders",e.target.value),children:[(0,mr.jsx)("option",{value:"daily",children:"Daily"}),(0,mr.jsx)("option",{value:"weekly",children:"Weekly"}),(0,mr.jsx)("option",{value:"monthly",children:"Monthly"}),(0,mr.jsx)("option",{value:"disabled",children:"Disabled"})]})]})]})]}),(0,mr.jsxs)("div",{className:"slds-card",children:[(0,mr.jsx)("div",{className:"slds-card__header",children:(0,mr.jsx)("h2",{className:"slds-card__header-title",children:"\u2699\ufe0f Advanced Reminder Settings"})}),(0,mr.jsxs)("div",{className:"slds-card__body",children:[(0,mr.jsxs)("div",{style:{padding:"1rem",background:"#f8f9fa",borderRadius:"0.375rem",marginBottom:"1.5rem"},children:[(0,mr.jsx)("h4",{style:{margin:"0 0 1rem 0",color:"#3e3e3c"},children:"Notification Preferences"}),(0,mr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,mr.jsx)("span",{children:"Email Notifications"}),(0,mr.jsxs)("label",{className:"slds-toggle",children:[(0,mr.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,mr.jsx)("span",{className:"slds-toggle__slider"})]})]}),(0,mr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"1rem"},children:[(0,mr.jsx)("span",{children:"SMS Notifications"}),(0,mr.jsxs)("label",{className:"slds-toggle",children:[(0,mr.jsx)("input",{type:"checkbox"}),(0,mr.jsx)("span",{className:"slds-toggle__slider"})]})]}),(0,mr.jsxs)("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[(0,mr.jsx)("span",{children:"Push Notifications"}),(0,mr.jsxs)("label",{className:"slds-toggle",children:[(0,mr.jsx)("input",{type:"checkbox",defaultChecked:!0}),(0,mr.jsx)("span",{className:"slds-toggle__slider"})]})]})]}),(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Reminder Time"}),(0,mr.jsxs)("select",{className:"slds-select",children:[(0,mr.jsx)("option",{value:"09:00",children:"9:00 AM"}),(0,mr.jsx)("option",{value:"12:00",children:"12:00 PM"}),(0,mr.jsx)("option",{value:"15:00",children:"3:00 PM"}),(0,mr.jsx)("option",{value:"18:00",children:"6:00 PM"})]})]}),(0,mr.jsxs)("div",{className:"slds-form-element",children:[(0,mr.jsx)("label",{className:"slds-form-element__label",children:"Time Zone"}),(0,mr.jsxs)("select",{className:"slds-select",children:[(0,mr.jsx)("option",{value:"UTC",children:"UTC"}),(0,mr.jsx)("option",{value:"EST",children:"Eastern Time"}),(0,mr.jsx)("option",{value:"PST",children:"Pacific Time"}),(0,mr.jsx)("option",{value:"CST",children:"Central Time"})]})]})]})]})]})]})]}),(0,mr.jsx)("div",{style:{textAlign:"center",marginTop:"2rem"},children:(0,mr.jsx)("button",{className:"slds-button slds-button--success",style:{padding:"1rem 2rem",fontSize:"1rem"},children:"\ud83d\udcbe Save All Settings"})})]})})}const _S=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(null),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(""),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)({asset_name:"",asset_code:"",purchase_date:"",current_status:"",quantity_available:"",assigned_staff_id:"",branch_id:""}),b=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/assets",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(e){console.error("Error fetching assets:",e),pi.error("Failed to load assets")}};(0,t.useEffect)(()=>{b(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name}));l(t)}catch(e){console.error("Error fetching branches:",e),pi.error("Failed to load branches")}})(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,name:e.employee_name}));d(t)}catch(e){console.error("Error fetching staff:",e),pi.error("Failed to load staff data")}})()},[]);const y=e.filter(e=>{const t=!u||e.branch_id==u,n=!A||e.current_status===A;return t&&n}),v=e=>{switch(e){case"in_use":return"bg-green-100 text-green-800";case"available":return"bg-blue-100 text-blue-800";case"maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return(0,mr.jsxs)("div",{className:"p-6 bg-gray-50 min-h-screen",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,theme:"light"}),(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-4 md:mb-0",children:"All Assets"}),(0,mr.jsx)("div",{className:"flex flex-wrap gap-3",children:(0,mr.jsxs)("button",{onClick:()=>{const t=r_.json_to_sheet(e.map(e=>({"Asset Name":e.asset_name,"Asset Code":e.asset_code,"Purchase Date":e.purchase_date,Status:e.current_status,Quantity:e.quantity_available,Branch:e.branch?e.branch.branch_name:"N/A","Assigned Staff":e.staff?e.staff.employee_name:"N/A"}))),n=r_.book_new();r_.book_append_sheet(n,t,"Assets"),WN(n,"assets.xlsx"),pi.success("Assets exported successfully!")},className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,mr.jsx)(So,{})," Export to Excel"]})})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-xl shadow-md mb-6",children:[(0,mr.jsxs)("h2",{className:"text-lg font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,mr.jsx)(Oo,{})," Filter Assets"]}),(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,mr.jsxs)("div",{className:"w-full md:w-1/3",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,mr.jsxs)("select",{value:u,onChange:e=>h(e.target.value),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),o.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branchName},e.id))]})]}),(0,mr.jsxs)("div",{className:"w-full md:w-1/3",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,mr.jsxs)("select",{value:A,onChange:e=>f(e.target.value),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[(0,mr.jsx)("option",{value:"",children:"All Statuses"}),(0,mr.jsx)("option",{value:"in_use",children:"In Use"}),(0,mr.jsx)("option",{value:"available",children:"Available"}),(0,mr.jsx)("option",{value:"maintenance",children:"Maintenance"})]})]}),(0,mr.jsx)("div",{className:"w-full md:w-1/3 flex items-end",children:(0,mr.jsx)("button",{onClick:()=>{h(""),f("")},className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-3xl flex items-center gap-2",children:"Clear Filters"})})]})]}),0===y.length?(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-md p-8 text-center",children:[(0,mr.jsx)("p",{className:"text-gray-500 text-lg",children:"No assets found."}),(u||A)&&(0,mr.jsx)("button",{onClick:()=>{h(""),f("")},className:"mt-4 text-blue-600 hover:text-blue-800",children:"Clear filters to see all assets"})]}):(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:y.map(e=>(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6 border border-gray-100 hover:shadow-xl transition-all duration-300 relative overflow-hidden",children:[(0,mr.jsx)("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-blue-400 to-purple-500"}),(0,mr.jsxs)("div",{className:"absolute top-4 right-4 flex space-x-3",children:[(0,mr.jsx)(ko,{className:"text-blue-600 cursor-pointer hover:scale-110 transition-transform",onClick:()=>(e=>{s(e),x({asset_name:e.asset_name,asset_code:e.asset_code,purchase_date:e.purchase_date,current_status:e.current_status,quantity_available:e.quantity_available,assigned_staff_id:e.assigned_staff_id||"",branch_id:e.branch_id||""}),i(!0)})(e),title:"Edit Asset"}),(0,mr.jsx)(hl,{className:"text-red-600 cursor-pointer hover:scale-110 transition-transform ".concat(m?"opacity-50 cursor-not-allowed":""),onClick:()=>!m&&(async e=>{if(window.confirm("Are you sure you want to delete this asset?")){p(!0);try{const t=localStorage.getItem("token");await Ua.delete("/assets/".concat(e,"/delete"),{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Asset deleted successfully!"),b()}catch(i){var t,n,r,s,a;console.error("Error deleting asset:",i),null!==(t=i.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&null!==(r=n.message)&&void 0!==r&&r.includes("Integrity constraint violation")?pi.error("Cannot delete this asset \u2014because it is in transfer history record."):pi.error((null===(s=i.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message)||"Failed to delete asset. Please try again.")}finally{p(!1)}}})(e.id),title:"Delete Asset"})]}),(0,mr.jsxs)("div",{className:"flex items-start mb-4",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg mr-4",children:(0,mr.jsx)("svg",{className:"w-8 h-8 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.286 6.857L21 12l-5.714 2.143L13 21l-2.286-6.857L5 12l5.714-2.143L13 3z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:e.asset_name}),(0,mr.jsxs)("p",{className:"text-gray-500 text-sm",children:["Code: ",e.asset_code]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500 text-sm",children:"Purchase Date"}),(0,mr.jsx)("p",{className:"text-gray-800 font-medium",children:e.purchase_date})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500 text-sm",children:"Quantity"}),(0,mr.jsx)("p",{className:"text-gray-800 font-medium",children:e.quantity_available})]})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("p",{className:"text-gray-500 text-sm",children:"Status"}),(0,mr.jsx)("span",{className:"inline-block px-3 py-1 rounded-full text-xs font-semibold ".concat(v(e.current_status)),children:e.current_status.replace("_"," ").toUpperCase()})]}),e.branch&&(0,mr.jsxs)("div",{className:"mb-3 p-3 bg-gray-50 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Branch"}),(0,mr.jsx)("p",{className:"text-gray-800 font-medium",children:e.branch.branch_name}),(0,mr.jsxs)("p",{className:"text-gray-600 text-sm",children:[e.branch.city,", ",e.branch.state]})]}),e.staff&&(0,mr.jsxs)("div",{className:"p-3 bg-blue-50 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-gray-500 text-sm mb-1",children:"Assigned To"}),(0,mr.jsx)("p",{className:"text-gray-800 font-medium",children:e.staff.employee_name}),(0,mr.jsx)("p",{className:"text-gray-600 text-sm",children:e.staff.designation})]})]},e.id))}),a&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:"Update Asset"}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Name"}),(0,mr.jsx)("input",{type:"text",value:g.asset_name,placeholder:"Asset Name",onChange:e=>x(N(N({},g),{},{asset_name:e.target.value})),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset Code"}),(0,mr.jsx)("input",{type:"text",value:g.asset_code,placeholder:"Asset Code",onChange:e=>x(N(N({},g),{},{asset_code:e.target.value})),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Purchase Date"}),(0,mr.jsx)("input",{type:"date",value:g.purchase_date,onChange:e=>x(N(N({},g),{},{purchase_date:e.target.value})),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,mr.jsxs)("select",{value:g.current_status,onChange:e=>x(N(N({},g),{},{current_status:e.target.value})),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[(0,mr.jsx)("option",{value:"",children:"Select Status"}),(0,mr.jsx)("option",{value:"in_use",children:"In Use"}),(0,mr.jsx)("option",{value:"available",children:"Available"}),(0,mr.jsx)("option",{value:"maintenance",children:"Maintenance"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Quantity"}),(0,mr.jsx)("input",{type:"number",value:g.quantity_available,placeholder:"Quantity",onChange:e=>x(N(N({},g),{},{quantity_available:e.target.value})),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Branch"}),(0,mr.jsxs)("select",{value:g.branch_id,onChange:e=>x(N(N({},g),{},{branch_id:e.target.value})),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),o.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branchName},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Assigned Staff"}),(0,mr.jsxs)("select",{value:g.assigned_staff_id,onChange:e=>x(N(N({},g),{},{assigned_staff_id:e.target.value})),className:"w-full border border-gray-300 p-3 rounded-lg focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[(0,mr.jsx)("option",{value:"",children:"Select Staff"}),c.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"mt-6 flex justify-end gap-3",children:[(0,mr.jsx)("button",{onClick:()=>i(!1),className:"px-4 py-2 bg-gray-200 hover:bg-gray-300 rounded-lg",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");await Ua.put("/assets/".concat(r.id,"/update"),g,{headers:{Authorization:"Bearer ".concat(e)}}),i(!1),pi.success("Asset updated successfully!"),b()}catch(e){console.error("Error updating asset:",e),pi.error("Failed to update asset")}},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg",children:"Update"})]})]})})]})};const CS=function(){var e;const[n,r]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(null),[l,c]=(0,t.useState)({asset_id:"",from_branch_id:"",to_branch_id:"",quantity:"",transfer_date:""}),d=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/assets",{headers:{Authorization:"Bearer ".concat(e)}});r(t.data)}catch(e){console.error("Error fetching assets:",e),pi.error("Failed to load assets")}};return(0,t.useEffect)(()=>{d(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name}));a(t)}catch(e){console.error("Error fetching branches:",e),pi.error("Failed to load branches")}})()},[]),(0,t.useEffect)(()=>{if(l.asset_id){const e=n.find(e=>e.id==l.asset_id);o(e)}else o(null)},[l.asset_id,n]),(0,mr.jsxs)("div",{className:"p-6 max-w-xl mx-auto",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,mr.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Transfer Assets"}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),i&&l.quantity>i.quantity_available)pi.error("Cannot transfer more than available quantity (".concat(i.quantity_available,")"));else if(l.from_branch_id!==l.to_branch_id)try{const e=localStorage.getItem("token");await Ua.put("/assets/transfer",l,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Asset transferred successfully!"),c({asset_id:"",from_branch_id:"",to_branch_id:"",quantity:"",transfer_date:""}),o(null),d()}catch(r){var t,n;console.error("Error transferring asset:",r),null!==(t=r.response)&&void 0!==t&&null!==(n=t.data)&&void 0!==n&&n.message?pi.error(r.response.data.message):pi.error("Failed to transfer asset")}else pi.error("Cannot transfer to the same branch")},className:"bg-white shadow-md rounded-xl p-6 border border-gray-100",children:[i&&(0,mr.jsxs)("div",{className:"mb-4 p-3 bg-blue-50 rounded-lg",children:[(0,mr.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,mr.jsx)("strong",{children:"Available Quantity:"})," ",i.quantity_available]}),(0,mr.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,mr.jsx)("strong",{children:"Current Branch:"})," ",(null===(e=i.branch)||void 0===e?void 0:e.branch_name)||"Not assigned"]})]}),(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Select Asset"}),(0,mr.jsxs)("select",{value:l.asset_id,onChange:e=>c(N(N({},l),{},{asset_id:e.target.value})),required:!0,className:"w-full border p-2 rounded mb-4",children:[(0,mr.jsx)("option",{value:"",children:"-- Select Asset --"}),n.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.asset_name},e.id))]}),(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"From Branch"}),(0,mr.jsxs)("select",{value:l.from_branch_id,onChange:e=>c(N(N({},l),{},{from_branch_id:e.target.value})),required:!0,className:"w-full border p-2 rounded mb-4",children:[(0,mr.jsx)("option",{value:"",children:"-- Select From Branch --"}),s.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branchName},e.id))]}),(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"To Branch"}),(0,mr.jsxs)("select",{value:l.to_branch_id,onChange:e=>c(N(N({},l),{},{to_branch_id:e.target.value})),required:!0,className:"w-full border p-2 rounded mb-4",children:[(0,mr.jsx)("option",{value:"",children:"-- Select To Branch --"}),s.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branchName},e.id))]}),(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Quantity"}),(0,mr.jsx)("input",{type:"number",value:l.quantity,onChange:e=>c(N(N({},l),{},{quantity:e.target.value})),placeholder:"Enter Quantity",required:!0,min:"1",max:i?i.quantity_available:"",className:"w-full border p-2 rounded mb-4"}),(0,mr.jsx)("label",{className:"block text-sm font-medium mb-1",children:"Transfer Date"}),(0,mr.jsx)("input",{type:"date",value:l.transfer_date,onChange:e=>c(N(N({},l),{},{transfer_date:e.target.value})),required:!0,className:"w-full border p-2 rounded mb-6"}),i&&l.quantity>i.quantity_available&&(0,mr.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 rounded-lg",children:(0,mr.jsxs)("p",{className:"text-red-700 text-sm",children:["\u274c Cannot transfer more than available quantity (",i.quantity_available,")"]})}),l.from_branch_id&&l.from_branch_id===l.to_branch_id&&(0,mr.jsx)("div",{className:"mb-4 p-3 bg-red-100 border border-red-300 rounded-lg",children:(0,mr.jsx)("p",{className:"text-red-700 text-sm",children:"\u274c Cannot transfer to the same branch"})}),(0,mr.jsx)("button",{type:"submit",className:"w-full py-2 bg-blue-600 text-white font-semibold rounded-lg hover:bg-blue-700 transition disabled:bg-gray-400 disabled:cursor-not-allowed",disabled:i&&l.quantity>i.quantity_available||l.from_branch_id===l.to_branch_id,children:"Transfer Asset"})]})]})};const SS=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)({asset:"",fromBranch:"",toBranch:"",dateFrom:"",dateTo:""});(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/assets",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(e){console.error("Error fetching assets:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name}));s(t)}catch(e){console.error("Error fetching branches:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/assets/transfers",{headers:{Authorization:"Bearer ".concat(e)}});i(t.data),l(t.data)}catch(e){console.error("Error fetching transfer history:",e)}})()},[]),(0,t.useEffect)(()=>{let e=a;if(c.asset&&(e=e.filter(e=>e.asset_id.toString()===c.asset)),c.fromBranch&&(e=e.filter(e=>e.from_branch_id.toString()===c.fromBranch)),c.toBranch&&(e=e.filter(e=>e.to_branch_id.toString()===c.toBranch)),c.dateFrom&&(e=e.filter(e=>new Date(e.transfer_date)>=new Date(c.dateFrom))),c.dateTo){const t=new Date(c.dateTo);t.setDate(t.getDate()+1),e=e.filter(e=>new Date(e.transfer_date)<t)}l(e)},[c,a]);const u=()=>{d({asset:"",fromBranch:"",toBranch:"",dateFrom:"",dateTo:""})};return(0,mr.jsxs)("div",{className:"p-6 max-w-6xl mx-auto bg-gray-50 min-h-screen",children:[(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[(0,mr.jsxs)("div",{className:"flex items-center mb-4 md:mb-0",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg mr-4",children:(0,mr.jsx)(Eo,{className:"text-blue-600 text-2xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Asset Transfer History"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Track all asset movements between branches"})]})]}),(0,mr.jsxs)("button",{onClick:()=>{const e=r_.json_to_sheet(o.map(e=>{var t,n,r;return{"Asset Name":(null===(t=e.asset)||void 0===t?void 0:t.asset_name)||"N/A","Asset Code":e.asset_code,"From Branch":(null===(n=e.from_branch)||void 0===n?void 0:n.branch_name)||"N/A","To Branch":(null===(r=e.to_branch)||void 0===r?void 0:r.branch_name)||"N/A",Quantity:e.quantity,"Transfer Date":e.transfer_date}})),t=r_.book_new();r_.book_append_sheet(t,e,"Asset Transfers"),WN(t,"asset_transfers.xlsx")},className:"flex items-center gap-2 bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg transition-colors",children:[(0,mr.jsx)(So,{})," Export to Excel"]})]}),o.length>0&&(0,mr.jsxs)("div",{className:"mt-6 grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,mr.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Total Transfers"}),(0,mr.jsx)("div",{className:"mt-1 text-2xl font-semibold text-gray-900",children:o.length})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow-md",children:[(0,mr.jsx)("div",{className:"text-sm font-medium text-gray-500",children:"Total Items Transferred"}),(0,mr.jsx)("div",{className:"mt-1 text-2xl font-semibold text-gray-900",children:o.reduce((e,t)=>e+parseInt(t.quantity),0)})]})]}),(0,mr.jsxs)("div",{className:"bg-white p-5 rounded-xl shadow-md mb-6",children:[(0,mr.jsxs)("h2",{className:"text-lg font-semibold text-gray-700 mb-4 flex items-center gap-2",children:[(0,mr.jsx)(Oo,{})," Filter Transfers"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Asset"}),(0,mr.jsxs)("select",{value:c.asset,onChange:e=>d(N(N({},c),{},{asset:e.target.value})),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none",children:[(0,mr.jsx)("option",{value:"",children:"All Assets"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.asset_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"From Date"}),(0,mr.jsx)("div",{className:"relative",children:(0,mr.jsx)("input",{type:"date",value:c.dateFrom,onChange:e=>d(N(N({},c),{},{dateFrom:e.target.value})),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"To Date"}),(0,mr.jsx)("div",{className:"relative",children:(0,mr.jsx)("input",{type:"date",value:c.dateTo,onChange:e=>d(N(N({},c),{},{dateTo:e.target.value})),className:"w-full border border-gray-300 rounded-lg p-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"})})]}),(0,mr.jsx)("div",{className:"flex mt-4",children:(0,mr.jsx)("button",{onClick:u,className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-2 rounded-3xl flex items-center gap-2",children:"Clear Filters"})})]})]}),(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden",children:o.length>0?(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-100",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Asset"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"From Branch"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"To Branch"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Quantity"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Transfers Date"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map(e=>{var t,n,r,s,a;return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:(null===(t=e.asset)||void 0===t?void 0:t.asset_name)||"N/A"}),(0,mr.jsx)("div",{className:"text-sm text-gray-500",children:e.asset_code})]})}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-900",children:(null===(n=e.from_branch)||void 0===n?void 0:n.branch_name)||"N/A"}),(0,mr.jsx)("div",{className:"text-sm text-gray-500",children:(null===(r=e.from_branch)||void 0===r?void 0:r.city)||""})]}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-900",children:(null===(s=e.to_branch)||void 0===s?void 0:s.branch_name)||"N/A"}),(0,mr.jsx)("div",{className:"text-sm text-gray-500",children:(null===(a=e.to_branch)||void 0===a?void 0:a.city)||""})]}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("span",{className:"px-3 py-1 inline-flex text-sm leading-5 font-semibold rounded-full bg-blue-100 text-blue-800",children:e.quantity})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.transfer_date).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]},e.id)})})]})}):(0,mr.jsxs)("div",{className:"p-8 text-center",children:[(0,mr.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-gray-100",children:(0,mr.jsx)(Eo,{className:"h-6 w-6 text-gray-400"})}),(0,mr.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No transfer history"}),(0,mr.jsx)("p",{className:"mt-1 text-gray-500",children:"No asset transfers match your current filters."}),Object.values(c).some(e=>""!==e)&&(0,mr.jsx)("button",{onClick:u,className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-3xl flex items-center gap-2",children:"Clear Filters"})]})})]})};function kS(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)({asset_name:"",asset_code:"",purchase_date:"",current_status:"in_use",quantity_available:"",branch_id:"",assigned_staff_id:""});(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branchName:e.branch_name}));n(t)}catch(e){console.error("Error fetching branches:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,name:e.employee_name}));s(t)}catch(e){console.error("Error fetching staff:",e)}})()},[]);const o=e=>{const{name:t,value:n}=e.target;i(e=>N(N({},e),{},{[t]:n}))};return(0,mr.jsxs)("div",{className:"flex justify-center",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0,theme:"light"}),(0,mr.jsxs)("div",{className:"bg-white mt-6 shadow-lg rounded-2xl p-6 w-full max-w-lg",children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-800 mb-6 border-b pb-2",children:"Create New Asset"}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token");await Ua.post("/assets/create",a,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("\u2705 Asset created successfully!"),i({asset_name:"",asset_code:"",purchase_date:"",current_status:"in_use",quantity_available:"",branch_id:"",assigned_staff_id:""})}catch(r){var t,n;pi.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to create asset!")}},className:"space-y-5",children:[(0,mr.jsx)("input",{type:"text",name:"asset_name",placeholder:"Asset Name",value:a.asset_name,onChange:o,className:"w-full border rounded-lg p-3",required:!0}),(0,mr.jsx)("input",{type:"text",name:"asset_code",placeholder:"Asset Code (max 6 chars)",value:a.asset_code,onChange:o,maxLength:6,className:"w-full border rounded-lg p-3",required:!0}),(0,mr.jsx)("input",{type:"date",name:"purchase_date",value:a.purchase_date,onChange:o,className:"w-full border rounded-lg p-3",required:!0}),(0,mr.jsxs)("select",{name:"current_status",value:a.current_status,onChange:o,className:"w-full border rounded-lg p-3",required:!0,children:[(0,mr.jsx)("option",{value:"in_use",children:"In Use"}),(0,mr.jsx)("option",{value:"available",children:"Available"}),(0,mr.jsx)("option",{value:"under_maintenance",children:"Under Repair"})]}),(0,mr.jsx)("input",{type:"number",name:"quantity_available",placeholder:"Quantity Available",value:a.quantity_available,onChange:o,className:"w-full border rounded-lg p-3",required:!0}),(0,mr.jsxs)("select",{name:"branch_id",value:a.branch_id,onChange:o,className:"w-full border rounded-lg p-3",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branchName},e.id))]}),(0,mr.jsxs)("select",{name:"assigned_staff_id",value:a.assigned_staff_id,onChange:o,className:"w-full border rounded-lg p-3",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Assign to Staff"}),r.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,mr.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white font-semibold py-3 rounded-lg shadow hover:bg-blue-700 transition duration-200",children:"Create Asset"})]})]})]})}function BS(){const[e,n]=(0,t.useState)("addAssets"),[r,s]=(0,t.useState)(!1);return(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"flex h-full relative",children:[(0,mr.jsx)("button",{onClick:()=>s(!r),className:"p-3 fixed top-18 left-4 z-30 rounded-md bg-white shadow-md md:hidden","aria-label":"Toggle sidebar",children:(0,mr.jsxs)("div",{className:"space-y-1.5",children:[(0,mr.jsx)("span",{className:"block h-0.5 w-4 bg-gray-800 transform transition duration-300 ".concat(r?"rotate-45 translate-y-2":"")}),(0,mr.jsx)("span",{className:"block h-0.5 w-4 bg-gray-800 transition duration-300 ".concat(r?"opacity-0":"")}),(0,mr.jsx)("span",{className:"block h-0.5 w-4 bg-gray-800 transform transition duration-300 ".concat(r?"-rotate-45 -translate-y-2":"")})]})}),(0,mr.jsxs)("div",{className:"fixed top-0 left-0 h-full w-60 bg-white rounded-r-xl shadow-lg p-4 space-y-3 z-20 transform transition-transform duration-300 md:relative md:translate-x-0 md:flex flex-col ".concat(r?"translate-x-0":"-translate-x-full"),children:[(0,mr.jsx)("div",{className:"mt-[140px] md:mt-4"}),(0,mr.jsx)("button",{onClick:()=>{n("addAssets"),s(!1)},className:"block w-full text-left px-4 py-5 rounded-lg transition-colors ".concat("addAssets"===e?"bg-blue-100 text-black font-semibold":"hover:bg-blue-100 text-black"),children:"\u2795 Add Assets"}),(0,mr.jsx)("button",{onClick:()=>{n("assetsList"),s(!1)},className:"block w-full text-left px-4 py-5 rounded-lg transition-colors ".concat("assetsList"===e?"bg-blue-100 text-black font-semibold":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb All Assets"}),(0,mr.jsx)("button",{onClick:()=>{n("transferAssets"),s(!1)},className:"block w-full text-left px-4 py-5 rounded-lg transition-colors ".concat("transferAssets"===e?"bg-blue-100 text-black font-semibold":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb Transfer Assets"}),(0,mr.jsx)("button",{onClick:()=>{n("transferhistory"),s(!1)},className:"block w-full text-left px-4 py-5 rounded-lg transition-colors ".concat("transferhistory"===e?"bg-blue-100 text-black font-semibold":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb Transfer History"})]}),r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black opacity-50 z-10 md:hidden",onClick:()=>s(!1)}),(0,mr.jsxs)("main",{className:"flex-1 p-6 overflow-auto transition-margin duration-300 ".concat(r?"md:ml-60":""," max-w-full"),children:["addAssets"===e&&(0,mr.jsx)(kS,{}),"assetsList"===e&&(0,mr.jsx)(_S,{}),"transferAssets"===e&&(0,mr.jsx)(CS,{}),"transferhistory"===e&&(0,mr.jsx)(SS,{})]})]})})}const ES=()=>{const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)("percentage"),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(!1),[A,f]=(0,t.useState)(!1),m=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/discount-requests",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(e){i("Failed to load discount requests")}finally{s(!1)}};(0,t.useEffect)(()=>{m()},[]);const p=async(e,t)=>{try{const n=localStorage.getItem("token");await Ua.put("/discount-requests/".concat(e),{status:t},{headers:{Authorization:"Bearer ".concat(n)}}),pi.success("Request ".concat(t," successfully!")),m()}catch(n){i("Failed to update request status")}},g=e=>{const t="px-3 py-1 rounded-full text-white text-xs font-medium";switch(e){case"approved":return(0,mr.jsx)("span",{className:"".concat(t," bg-green-500"),children:"\u2705 Approved"});case"rejected":return(0,mr.jsx)("span",{className:"".concat(t," bg-red-500"),children:"\u274c Rejected"});default:return(0,mr.jsx)("span",{className:"".concat(t," bg-yellow-500"),children:"\u23f3 Pending"})}};return r?(0,mr.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,mr.jsx)("div",{className:"text-gray-700 text-lg",children:"Loading discount requests..."})}):(0,mr.jsx)(wl,{children:(0,mr.jsxs)("div",{className:"py-6 px-4 min-h-screen bg-gray-50",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,mr.jsx)("div",{className:"space-y-4",children:e.length>0?e.map(e=>{var t,n;return(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm p-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center border-b pb-3 mb-3",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-lg font-semibold text-gray-800",children:(null===(t=e.branch)||void 0===t?void 0:t.branch_name)||"Unknown Branch"}),(0,mr.jsxs)("p",{className:"text-sm text-gray-500",children:["Requested by: ",(null===(n=e.requester)||void 0===n?void 0:n.name)||"Unknown"]})]}),(0,mr.jsx)("div",{children:g(e.status)})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-5 mb-4",children:[(0,mr.jsxs)("div",{className:"bg-gray-50 border rounded-md p-2 text-center",children:[(0,mr.jsx)("h3",{className:"text-xs text-gray-500 mb-1",children:"Previous Discount (%)"}),(0,mr.jsx)("div",{className:"text-lg font-bold text-blue-700",children:null!==e.current_range?"".concat(e.current_range,"%"):"-"})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 border rounded-md p-2 text-center",children:[(0,mr.jsx)("h3",{className:"text-xs text-gray-500 mb-1",children:"Previous Discount (\u20b9)"}),(0,mr.jsx)("div",{className:"text-lg font-bold text-blue-700",children:null!==e.current_amount?"\u20b9".concat(e.current_amount):"-"})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 border rounded-md p-2 text-center",children:[(0,mr.jsx)("h3",{className:"text-xs text-gray-500 mb-1",children:"Requested Discount (%)"}),(0,mr.jsx)("div",{className:"text-lg font-bold text-green-700",children:null!==e.requested_range?"".concat(e.requested_range,"%"):"-"})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 border rounded-md p-2 text-center",children:[(0,mr.jsx)("h3",{className:"text-xs text-gray-500 mb-1",children:"Requested Discount (\u20b9)"}),(0,mr.jsx)("div",{className:"text-lg font-bold text-green-700",children:null!==e.requested_amount?"\u20b9".concat(e.requested_amount):"-"})]})]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-5 justify-between items-center",children:[(0,mr.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,mr.jsx)("span",{children:"Request Date: "}),(0,mr.jsx)("span",{className:"font-medium",children:e.created_at?new Date(e.created_at).toLocaleDateString():"N/A"})]}),"pending"===e.status&&(0,mr.jsxs)("div",{className:"flex gap-2",children:[(0,mr.jsx)("button",{onClick:()=>p(e.id,"rejected"),className:"bg-red-500 hover:bg-red-600 text-white px-4 py-2 rounded text-sm",children:"Reject"}),(0,mr.jsx)("button",{onClick:()=>p(e.id,"approved"),className:"bg-green-500 hover:bg-green-600 text-white px-4 py-2 rounded text-sm",children:"Approve"})]})]})]},e.id)}):(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-sm p-6 text-center text-gray-600",children:(0,mr.jsx)("p",{children:"No discount requests available at this time."})})}),A&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-40 flex items-center justify-center z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl p-6 w-full max-w-md",children:[(0,mr.jsx)("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"New Discount Request"}),(0,mr.jsxs)("div",{className:"mb-2 flex gap-6",children:[(0,mr.jsxs)("label",{className:"flex items-center gap-1",children:[(0,mr.jsx)("input",{type:"radio",checked:"percentage"===o,onChange:()=>l("percentage"),className:"accent-blue-600"})," ",(0,mr.jsx)("span",{className:"text-sm",children:"Percentage (%)"})]}),(0,mr.jsxs)("label",{className:"flex items-center gap-1",children:[(0,mr.jsx)("input",{type:"radio",checked:"amount"===o,onChange:()=>l("amount"),className:"accent-blue-600"})," ",(0,mr.jsx)("span",{className:"text-sm",children:"Amount (\u20b9)"})]})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-sm text-gray-700 mb-1",children:"percentage"===o?"Requested Discount (%)":"Requested Discount Amount (\u20b9)"}),(0,mr.jsx)("input",{type:"number",min:"1",value:c,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"percentage"===o?"e.g. 15":"e.g. 5000"})]}),(0,mr.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,mr.jsx)("button",{onClick:()=>f(!1),className:"px-4 py-2 text-sm text-gray-600 border border-gray-300 rounded hover:bg-gray-100",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{const e=Number(c);if(e&&!isNaN(e))try{h(!0);const t=localStorage.getItem("token"),n=JSON.parse(localStorage.getItem("user")),r="percentage"===o?{requested_range:e}:{requested_amount:e};await Ua.post("/branches/".concat(n.branch_id,"/discount-request"),r,{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Discount request submitted successfully!"),f(!1),d(""),m()}catch(t){i("Failed to submit discount request")}finally{h(!1)}else i("Please enter a valid value")},disabled:u,className:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50",children:u?"Submitting...":"Submit"})]}),a&&(0,mr.jsx)("div",{className:"text-red-500 mt-2",children:a})]})})]})]})})},LS=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(!1);if((0,t.useEffect)(()=>{const e=localStorage.getItem("user");e&&n(JSON.parse(e))},[]),!e)return(0,mr.jsx)(wl,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gray-50 flex items-center justify-center",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,mr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})});const a=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return(0,mr.jsx)(wl,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:(0,mr.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,mr.jsxs)("div",{className:"text-center mb-8",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Profile"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your account information"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 text-white",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,mr.jsx)("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center mb-4 md:mb-0 md:mr-6",children:(0,mr.jsx)("span",{className:"text-3xl font-bold",children:e.name.charAt(0)})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:e.name}),(0,mr.jsx)("p",{className:"text-blue-100",children:e.role.charAt(0).toUpperCase()+e.role.slice(1)})]})]})}),(0,mr.jsx)("div",{className:"p-6",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Personal Information"}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Full Name"}),(0,mr.jsx)("p",{className:"font-medium",children:e.name})]})]}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Email Address"}),(0,mr.jsx)("p",{className:"font-medium",children:e.email})]})]}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Role"}),(0,mr.jsx)("p",{className:"font-medium capitalize",children:e.role})]})]})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Account Information"}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-yellow-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,mr.jsxs)("div",{className:"flex flex-col w-full",children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Password"}),(0,mr.jsxs)("div",{className:"flex items-center bg-gray-100 px-2 py-1 rounded w-fit",children:[(0,mr.jsx)("p",{className:"font-mono",children:r?e.plain_password:"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,mr.jsx)("button",{onClick:()=>s(!r),className:"ml-2 text-gray-500 hover:text-gray-700 transition",children:r?(0,mr.jsxs)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}):(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M13.875 18.825A10.05 10.05 0 0112 19c-4.478 0-8.268-2.943-9.542-7a9.956 9.956 0 013.093-4.567M9.88 9.88a3 3 0 104.24 4.24M3 3l18 18"})})})]})]})]}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-red-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Member Since"}),(0,mr.jsx)("p",{className:"font-medium",children:a(e.created_at)})]})]}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-indigo-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Last Updated"}),(0,mr.jsx)("p",{className:"font-medium",children:a(e.updated_at)})]})]}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Account Status"}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"h-2 w-2 bg-green-500 rounded-full mr-2"}),(0,mr.jsx)("p",{className:"font-medium text-green-600",children:"Active"})]})]})]})]})]})})]})]})})})},MS=()=>(0,mr.jsxs)(Cn,{children:[(0,mr.jsx)(Nn,{path:"/sinfodeadmin/dashboard",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(pp,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/profile",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(LS,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/branch",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(s_,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/inventory",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(BS,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/staff",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(l_,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/staff/:id",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(c_,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/accountant/:id",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(d_,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/students",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(__,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/courses",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(T_,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/batch",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(U_,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/fees",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(H_,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/attendance",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(G_,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/leads",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(Y_,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/expenses",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(eC,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/salary",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(rC,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/invoice",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(sC,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/access",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(aC,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/campaign",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(lC,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/communication",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(cC,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/reports",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(jS,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/settings",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(NS,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodeadmin/discount",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(ES,{})})})]}),FS=e=>{let{toggleSidebar:n}=e;const[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(0),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!1),A=(0,t.useRef)(null),f=(0,t.useRef)(null),m=(y(e=>e.branch.selectedBranch),sn()),p="lastSeenNotificationCount",g=async()=>{try{const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));if(!t||!t.branch_id)return;const n=await Ua.get("/notifications",{headers:{Authorization:"Bearer ".concat(e)}});if(n.data.success){const e=n.data.unread_communication.filter(e=>Number(e.branch_id)===Number(t.branch_id)&&0===e.is_read);d(e);const r=localStorage.getItem(p),s=r?Number(r):0,a=e.length>s?e.length-s:0;i(a)}}catch(e){console.error("Error fetching notifications:",e)}};(0,t.useEffect)(()=>{g();const e=setInterval(g,3e4);return()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{const e=localStorage.getItem("user");e&&l(JSON.parse(e))},[]);const x=e=>{A.current&&!A.current.contains(e.target)&&s(!1),u&&f.current&&!f.current.contains(e.target)&&!e.target.closest("#notification-modal")&&h(!1)};(0,t.useEffect)(()=>(r||u?document.addEventListener("mousedown",x):document.removeEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)),[r,u]);const b=()=>{h(e=>{const t=!e;return t&&(localStorage.setItem(p,c.length.toString()),i(0)),t})};return(0,mr.jsx)("header",{className:"bg-[#f9fafb] flex items-center justify-between relative z-50 px-6 py-3 shadow-sm border-b border-gray-200",children:(0,mr.jsxs)("nav",{className:"max-w-7xl mx-auto w-full flex items-center justify-between",children:[(0,mr.jsx)("div",{}),(0,mr.jsxs)("div",{className:"flex items-center space-x-8 text-gray-800 text-lg font-semibold",children:[(0,mr.jsxs)("div",{className:"relative cursor-pointer text-gray-700 hover:text-gray-900 transition-colors",onClick:b,ref:f,"aria-label":"Notifications",role:"button",tabIndex:0,onKeyDown:e=>"Enter"===e.key&&b(),children:[(0,mr.jsx)(Ki,{className:"w-7 h-7"}),a>0&&(0,mr.jsx)("span",{className:"absolute -top-1 -right-2 bg-red-600 text-white text-xs rounded-full px-1.5 py-0.5 font-bold select-none",children:a}),u&&(0,mr.jsx)("div",{id:"notification-modal",className:"absolute right-0 mt-2 w-96 max-h-96 bg-white rounded-lg shadow-lg overflow-y-auto border border-gray-300 z-50 ring-1 ring-black ring-opacity-5",style:{top:"calc(100% + 6px)"},children:(0,mr.jsxs)("div",{className:"p-5",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Notifications"}),(0,mr.jsx)("span",{className:"text-sm",children:"Latest Notification"}),0===c.length?(0,mr.jsx)("p",{className:"text-gray-500 italic",children:"No unread notifications."}):(0,mr.jsx)("ul",{className:"divide-y divide-gray-200",children:(0,mr.jsx)("div",{onClick:()=>{h(!1),m("/sinfodemanager/communication")},children:c.slice(0,2).map(e=>(0,mr.jsxs)("li",{className:"py-3",children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-900",children:e.title}),(0,mr.jsx)("p",{className:"text-sm text-gray-700",children:e.description}),(0,mr.jsxs)("p",{className:"text-xs text-gray-400 mt-1",children:["Priority: ",(0,mr.jsx)("span",{className:"font-medium",children:e.priority})," ","| Type: ",(0,mr.jsx)("span",{className:"font-medium",children:e.type})]})]},e.id))})}),(0,mr.jsx)("div",{className:"flex justify-end mt-6 space-x-3",children:(0,mr.jsx)("button",{className:"px-3 py-1.5 text-sm font-medium bg-blue-600 rounded text-white hover:bg-blue-700 transition",onClick:()=>{h(!1),m("/sinfodemanager/communication")},children:"View All"})})]})})]}),(0,mr.jsxs)("div",{ref:A,className:"relative",children:[(0,mr.jsxs)("div",{onClick:()=>s(!r),className:"flex bg-white items-center gap-3 px-4 py-2 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",role:"button",tabIndex:0,onKeyDown:e=>"Enter"===e.key&&s(!r),"aria-haspopup":"true","aria-expanded":r,children:[(0,mr.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-gray-300",children:(0,mr.jsx)("img",{src:"https://sipl.ind.in/wp-content/uploads/2022/07/dummy-user.png",alt:"User",className:"w-full h-full object-cover"})}),(0,mr.jsxs)("div",{className:"hidden sm:flex flex-col text-left",children:[(0,mr.jsx)("span",{className:"text-gray-700 font-medium",children:(null===o||void 0===o?void 0:o.name)||"Admin"}),(0,mr.jsx)("span",{className:"text-xs text-gray-500",children:(null===o||void 0===o?void 0:o.role)||"Role"})]})]}),r&&(0,mr.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white text-black rounded shadow-lg overflow-hidden animate-fadeIn ring-1 ring-black ring-opacity-5",children:[(0,mr.jsx)(or,{to:"/sinfodemanager/profile",children:(0,mr.jsx)("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100",children:"Profile"})}),(0,mr.jsx)("button",{className:"w-full text-left px-4 py-2 text-red-600 hover:bg-gray-100",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},children:"Logout"})]})]})]})]})})},IS=e=>{let{isSidebarOpen:n,toggleSidebar:r}=e;const[s,a]=(0,t.useState)(null),i=y(e=>e.branch.selectedBranch),o=(e,t)=>{if(!e||"/"===e)return t.preventDefault(),void alert("This page is under construction and will be available soon!");r()},l=[{name:"Dashboard",icon:(0,mr.jsx)(al,{}),link:i?"/sinfodemanager/dashboard?branchId=".concat(i):"/sinfodemanager/dashboard"},{name:"Branch",icon:(0,mr.jsx)(Ro,{}),link:i?"/sinfodemanager/branch?branchId=".concat(i):"/sinfodemanager/branch"},{name:"Employees",icon:(0,mr.jsx)(xl,{}),link:i?"/sinfodemanager/staff?branchId=".concat(i):"/sinfodemanager/staff"},{name:"Courses",icon:(0,mr.jsx)(oo,{}),link:"/sinfodemanager/courses"},{name:"Students",icon:(0,mr.jsx)(fl,{}),link:"/sinfodemanager/students"},{name:"Fees",icon:(0,mr.jsx)(Yo,{}),link:"/sinfodemanager/fees"},{name:"Attendance",icon:(0,mr.jsx)(wo,{}),link:"/sinfodemanager/attendance"},{name:"Lead",icon:(0,mr.jsx)(Al,{}),link:"/sinfodemanager/leads"},{name:"Expense",icon:(0,mr.jsx)(qo,{}),link:"/sinfodemanager/expenses"},{name:"Salary",icon:(0,mr.jsx)(yl,{}),link:"/sinfodemanager/salary"},{name:"Coupons",icon:(0,mr.jsx)(ol,{}),link:"/sinfodemanager/campaign"},{name:"Communication",icon:(0,mr.jsx)(No,{}),link:"/sinfodemanager/communication"},{name:"Reports",icon:(0,mr.jsx)(fo,{}),link:"/sinfodemanager/reports"}];return(0,mr.jsxs)("aside",{className:"bg-white rounded-[24px] ml-3 inset-y-0 left-0 transform ".concat(n?"translate-x-0":"-translate-x-full"," md:translate-x-0 transition-transform duration-300 ease-in-out w-[220px] p-4 z-30 shadow-lg md:relative overflow-y-auto max-h-screen"),children:[(0,mr.jsx)("div",{className:"flex-1 flex justify-center md:justify-start",children:(0,mr.jsx)("img",{src:"https://www.sinfode.com/wp-content/uploads/2022/12/digital-marketing-institute-in-sikar.webp",alt:"logo",className:"w-34 h-10"})}),(0,mr.jsx)("nav",{children:(0,mr.jsx)("ul",{className:"space-y-4 mt-4",children:l.map((e,t)=>(0,mr.jsx)("li",{children:e.subMenu?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("div",{className:"flex items-center text-gray-500 justify-between py-3 px-4 text-[15px] cursor-pointer rounded-4xl transition-all duration-200 ease-in-out",onClick:()=>{return t=e.name,void a(s===t?null:t);var t},children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[e.icon,(0,mr.jsx)("span",{className:"text-[15px]",children:e.name})]}),s===e.name?(0,mr.jsx)(vo,{}):(0,mr.jsx)(xo,{})]}),s===e.name&&(0,mr.jsx)("ul",{className:"pl-8 space-y-2",children:e.subMenu.map((e,t)=>(0,mr.jsx)("li",{children:(0,mr.jsx)(lr,{to:e.link||"#",className:t=>{let{isActive:n}=t;return"flex items-center mt-3 gap-4 py-2 px-4 rounded-lg transition-all duration-200 ease-in-out text-[15px] ".concat(n?"bg-sky-100 text-blue-600 shadow-lg":e.link&&"/"!==e.link?"bg-white text-gray-500":"opacity-50 cursor-not-allowed")},onClick:t=>o(e.link,t),children:(0,mr.jsx)("span",{className:"text-[15px]",children:e.name})})},t))})]}):(0,mr.jsxs)(lr,{to:e.link||"#",className:t=>{let{isActive:n}=t;return"flex items-center gap-4 py-3 px-4 text-[15px] rounded-lg transition-all duration-200 ease-in-out ".concat(n?"bg-sky-100 text-blue-600 border-1 border-white":e.link&&"/"!==e.link?"text-gray-500":"opacity-50 cursor-not-allowed")},onClick:t=>o(e.link,t),children:[e.icon,(0,mr.jsx)("span",{className:"text-[15px]",children:e.name}),(!e.link||"/"===e.link)&&(0,mr.jsx)("span",{className:"text-xs ml-auto bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Coming Soon"})]})},t))})})]})},DS=e=>{let{children:n}=e;const[r,s]=(0,t.useState)(!1),a=()=>{s(!r)};return(0,mr.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,mr.jsx)(FS,{toggleSidebar:a}),(0,mr.jsxs)("div",{className:"flex  flex-1 overflow-hidden",children:[(0,mr.jsx)(IS,{isSidebarOpen:r,toggleSidebar:a}),(0,mr.jsx)("main",{className:"flex-1 bg-[#F4F9FD] overflow-auto p-4",children:n})]}),r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:a})]})};function TS(){var e,n;const[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)((new Date).getFullYear()),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(0),[A,f]=(0,t.useState)({totalLeads:0,convertedLeads:0}),m=JSON.parse(localStorage.getItem("user")||"{}"),p=m.branch_id,g=m.branch_name||"Your Branch";(0,t.useEffect)(()=>{p&&((async()=>{if(p){d(!0);try{var e;const t=localStorage.getItem("token"),n=(await Ua.get("/monthly-revenue",{headers:{Authorization:"Bearer ".concat(t)},params:{year:a,branch_id:p}})).data.branches.find(e=>e.branch_id===p);l(n);const r=(null===n||void 0===n||null===(e=n.monthly_revenue)||void 0===e?void 0:e.reduce((e,t)=>e+parseFloat(t.student_fee||0),0))||0;h(r)}catch(t){console.error("Error fetching revenue data:",t),alert("Failed to load revenue data")}finally{d(!1)}}})(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/leads/index",{headers:{Authorization:"Bearer ".concat(e)},params:{branch_id:p}})).data||[],n=t.filter(e=>"Converted"===e.lead_status).length;f({totalLeads:t.length,convertedLeads:n})}catch(e){console.error("Error fetching leads data:",e)}})())},[p,a]);const x=(new Date).getFullYear(),b=[];for(let t=x-1;t<=x+7;t++)b.push(t);const y={labels:(null===o||void 0===o||null===(e=o.monthly_revenue)||void 0===e?void 0:e.map(e=>e.month.substring(0,3)))||[],datasets:[{label:"Monthly Revenue (\u20b9)",data:(null===o||void 0===o||null===(n=o.monthly_revenue)||void 0===n?void 0:n.map(e=>e.student_fee))||[],backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)","rgba(199, 199, 199, 0.8)","rgba(83, 102, 255, 0.8)","rgba(40, 159, 64, 0.8)","rgba(210, 99, 132, 0.8)","rgba(130, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(199, 199, 199, 1)","rgba(83, 102, 255, 1)","rgba(40, 159, 64, 1)","rgba(210, 99, 132, 1)","rgba(130, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1,borderRadius:6,hoverBackgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(199, 199, 199, 1)","rgba(83, 102, 255, 1)","rgba(40, 159, 64, 1)","rgba(210, 99, 132, 1)","rgba(130, 162, 235, 1)","rgba(255, 206, 86, 1)"]}]},v={responsive:!0,plugins:{legend:{position:"top",labels:{color:"#4B5563",font:{size:12,family:"Nunito, sans-serif"}}},title:{display:!0,text:"Monthly Revenue Analysis of Year - ".concat(a),color:"#374151",font:{size:16,weight:"bold",family:"Nunito, sans-serif"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#1F2937",bodyColor:"#1F2937",borderColor:"#E5E7EB",borderWidth:1,padding:10,boxPadding:6,usePointStyle:!0,callbacks:{label:function(e){return"Revenue: \u20b9".concat(e.raw.toLocaleString("en-IN"))}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:"#4B5563",callback:function(e){return"\u20b9"+e.toLocaleString("en-IN")}},title:{display:!0,text:"Revenue (\u20b9)",color:"#4B5563",font:{family:"Nunito, sans-serif"}}},x:{grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:"#4B5563",font:{family:"Nunito, sans-serif"}}}},maintainAspectRatio:!1};return(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"p-4 bg-[#F4F9FD] min-h-screen",children:[(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[(0,mr.jsx)("div",{children:(0,mr.jsxs)("p",{className:"text-gray-500",children:["Welcome Back, ",(0,mr.jsx)("span",{className:"font-bold",children:"Branch Manager"})]})}),(0,mr.jsxs)("div",{className:"flex items-center bg-gray-100 rounded-lg px-3 py-2 mt-4 md:mt-0",children:[(0,mr.jsx)(Oo,{className:"text-gray-500 mr-2"}),(0,mr.jsx)("select",{className:"bg-transparent border-none text-sm focus:ring-0",value:a,onChange:e=>i(parseInt(e.target.value)),children:b.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,mr.jsxs)("a",{href:"/sinfodemanager/students",className:"bg-white rounded-xl shadow p-4 flex items-center hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg mr-4",children:(0,mr.jsx)(ml,{className:"text-blue-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold",children:"Add Student"}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Register a new student"})]})]}),(0,mr.jsxs)("a",{href:"/sinfodemanager/leads",className:"bg-white rounded-xl shadow p-4 flex items-center hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-lg mr-4",children:(0,mr.jsx)(pl,{className:"text-green-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold",children:"Add Lead"}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Create a new lead"})]})]}),(0,mr.jsxs)("a",{href:"/sinfodemanager/expenses",className:"bg-white rounded-xl shadow p-4 flex items-center hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsx)("div",{className:"bg-red-100 p-3 rounded-lg mr-4",children:(0,mr.jsx)(Go,{className:"text-red-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold",children:"Record Expense"}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Add a new expense"})]})]})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg p-4 mb-6 text-white",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold font-nunito",children:"Revenue Summary"}),(0,mr.jsxs)("p",{className:"text-sm opacity-90",children:["Total revenue for ",a]})]}),(0,mr.jsx)("div",{className:"text-right",children:(0,mr.jsxs)("p",{className:"text-3xl font-bold flex items-center justify-end",children:[(0,mr.jsx)(tl,{className:"mr-1"})," ",u.toLocaleString("en-IN",{maximumFractionDigits:2})]})})]})}),(0,mr.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,mr.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:c?(0,mr.jsx)("div",{className:"flex justify-center items-center h-80",children:(0,mr.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,mr.jsx)("div",{className:"rounded-full bg-gray-200 h-12 w-12 mb-4"}),(0,mr.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"})]})}):o?(0,mr.jsx)("div",{className:"h-80",children:(0,mr.jsx)(mp,{data:y,options:v})}):(0,mr.jsx)("div",{className:"flex justify-center items-center h-80 text-gray-500",children:(0,mr.jsxs)("p",{children:["Loading revenue data for ",g,"..."]})})})})}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsx)("h2",{className:"font-semibold text-xl font-nunito",children:"Leads Overview"}),(0,mr.jsxs)("a",{href:"/sinfodemanager/leads",className:"text-blue-500 text-sm flex items-center",children:["View all leads ",(0,mr.jsx)(ao,{className:"ml-1 rotate-45"})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,mr.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)(pl,{className:"text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Leads"}),(0,mr.jsx)("p",{className:"text-2xl font-bold",children:A.totalLeads})]})]})}),(0,mr.jsx)("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)(ml,{className:"text-green-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Converted Leads"}),(0,mr.jsx)("p",{className:"text-2xl font-bold",children:A.convertedLeads})]})]})}),(0,mr.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)(Oo,{className:"text-purple-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),(0,mr.jsx)("p",{className:"text-2xl font-bold",children:A.totalLeads>0?"".concat((A.convertedLeads/A.totalLeads*100).toFixed(1),"%"):"0%"})]})]})})]})]})]})})}function OS(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(!1),[A,f]=(0,t.useState)(!1),[m,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[b,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(null),[j,_]=(0,t.useState)({type:"percentage",requested_range:"",requested_amount:""}),[C,S]=(0,t.useState)({admission_fee:"",monthly_fee:"",annual_fee:"",other_fees:""});(0,t.useEffect)(()=>{function e(e){null===b||e.target.closest(".menu-container")||e.target.closest(".menu-toggle")||y(null)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[b]);const[k,B]=(0,t.useState)({branch_name:"",address:"",city:"",state:"",pin_code:"",contact_number:"",email:"",opening_date:"",branch_type:"Main",status:"Active",discount_range:"",discount_amount:"",manager_name:"",manager_email:"",manager_password:""}),E=async()=>{try{const e=localStorage.getItem("token"),t=JSON.parse(localStorage.getItem("user"));let r;"admin"===t.role?r=await Ua.get("branches",{headers:{Authorization:"Bearer ".concat(e)}}):"branch_manager"===t.role&&(r=await Ua.get("branches/".concat(t.branch_id),{headers:{Authorization:"Bearer ".concat(e)}}));let s=[];s=r.data.branch?[r.data.branch]:Array.isArray(r.data)?r.data:r.data.data&&Array.isArray(r.data.data)?r.data.data:[r.data],n(s)}catch(e){console.error("Error fetching branches:",e),pi.error("Failed to load branches")}};(0,t.useEffect)(()=>{E()},[]);const L=e.filter(e=>(e.branch_name||"").toLowerCase().includes(r.toLowerCase())||(e.city||"").toLowerCase().includes(r.toLowerCase())||(e.branch_code||"").toLowerCase().includes(r.toLowerCase())),M=e=>{const{name:t,value:n}=e.target;if("type"===t)_(N(N({},j),{},{type:n,requested_range:"",requested_amount:""}));else if("requested_range"===t){const e=n.replace(/[^0-9]/g,"");(""===e||parseInt(e)>=0&&parseInt(e)<=100)&&_(N(N({},j),{},{[t]:e}))}else if("requested_amount"===t){const e=n.replace(/[^0-9]/g,"");_(N(N({},j),{},{[t]:e}))}},F=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"})},I=e=>e?new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:0,maximumFractionDigits:0}).format(e):"N/A",D=e=>e.discount_range&&e.discount_amount?(0,mr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,mr.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Discount: ",e.discount_range,"%"]}),(0,mr.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Amount: ",I(e.discount_amount)]})]}):e.discount_range?(0,mr.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:["Discount: ",e.discount_range,"%"]}):e.discount_amount?(0,mr.jsxs)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:["Discount: ",I(e.discount_amount)]}):null;return(0,mr.jsxs)(DS,{children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("div",{className:"flex justify-between items-center mb-6",children:(0,mr.jsx)("h1",{className:"text-2xl md:text-3xl font-bold text-gray-800",children:"My Branch"})}),(0,mr.jsx)("div",{className:"grid grid-cols-1 gap-5",children:L.length>0?L.map(e=>(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-md overflow-hidden border border-gray-100",children:[(0,mr.jsxs)("div",{className:"p-5 flex flex-col md:flex-row items-start md:items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-start space-x-4",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-lg",children:(0,mr.jsx)(Xi,{className:"h-8 w-8 text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:e.branch_name}),(0,mr.jsxs)("div",{className:"flex items-center mt-1 text-gray-600",children:[(0,mr.jsx)(Gi,{className:"h-4 w-4 mr-1"}),(0,mr.jsxs)("span",{children:[e.city,", ",e.state]})]}),(0,mr.jsxs)("div",{className:"mt-2 flex flex-wrap gap-2",children:[(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:e.branch_code}),(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("Active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status}),(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:e.branch_type}),D(e)]})]})]}),(0,mr.jsxs)("div",{className:"mt-4 md:mt-0 flex items-center space-x-2 self-start",children:[(0,mr.jsxs)("button",{onClick:()=>(e=>{x(e.id);let t="percentage",n=e.discount_range||"",r=e.discount_amount||"";e.discount_amount&&!e.discount_range&&(t="amount"),_({type:t,requested_range:n,requested_amount:r}),l(!0)})(e),className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-3xl flex items-center gap-2",children:[(0,mr.jsx)(Jo,{className:"mr-1"}),"Request Discount Limit"]}),(0,mr.jsx)("button",{onClick:()=>{return t=e.id,void w(v===t?null:t);var t},className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-3xl flex items-center gap-2",children:v===e.id?"Show Less":"View Details"})]})]}),v===e.id&&(0,mr.jsxs)("div",{className:"border-t border-gray-200 px-5 py-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsx)("div",{className:"p-5 rounded-xl bg-white shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 animate-fadeIn",children:(0,mr.jsxs)("div",{className:"space-y-5",children:[(0,mr.jsxs)("div",{className:"flex items-start group hover:translate-x-1 transition-transform duration-300",children:[(0,mr.jsx)(Gi,{className:"h-6 w-6 text-blue-500 mr-3 mt-1 transition-all group-hover:scale-110"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-base font-medium text-gray-700",children:"Address"}),(0,mr.jsxs)("p",{className:"text-base text-gray-600 mt-1",children:[e.address||"N/A"," ",e.pin_code?"- ".concat(e.pin_code):""]})]})]}),(0,mr.jsxs)("div",{className:"flex items-start group hover:translate-x-1 transition-transform duration-300",children:[(0,mr.jsx)(Zi,{className:"h-6 w-6 text-green-500 mr-3 transition-all group-hover:scale-110"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-base font-medium text-gray-700",children:"Contact"}),(0,mr.jsx)("p",{className:"text-base text-gray-600 mt-1",children:e.contact_number||"N/A"})]})]}),(0,mr.jsxs)("div",{className:"flex items-start group hover:translate-x-1 transition-transform duration-300",children:[(0,mr.jsx)(Yi,{className:"h-6 w-6 text-red-500 mr-3 transition-all group-hover:scale-110"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-base font-medium text-gray-700",children:"Email"}),(0,mr.jsx)("p",{className:"text-base text-gray-600 mt-1",children:e.email||"N/A"})]})]})]})}),(0,mr.jsx)("div",{className:"p-5 rounded-xl bg-white shadow-sm hover:shadow-md transition-all duration-300 border border-gray-100 animate-fadeIn delay-150",children:(0,mr.jsxs)("div",{className:"space-y-5",children:[(0,mr.jsxs)("div",{className:"flex items-start group hover:translate-x-1 transition-transform duration-300",children:[(0,mr.jsx)(Wi,{className:"h-6 w-6 text-purple-500 mr-3 transition-all group-hover:scale-110"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-base font-medium text-gray-700",children:"Opening Date"}),(0,mr.jsx)("p",{className:"text-base text-gray-600 mt-1",children:F(e.opening_date)})]})]}),(e.discount_range||e.discount_amount)&&(0,mr.jsxs)("div",{className:"flex items-start group hover:translate-x-1 transition-transform duration-300",children:[(0,mr.jsx)(Jo,{className:"h-6 w-6 text-orange-500 mr-3 transition-all group-hover:scale-110"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-base font-medium text-gray-700",children:"Maximum Discount of this Branch"}),e.discount_range&&(0,mr.jsxs)("p",{className:"text-base text-gray-600 mt-1",children:["Percentage: ",e.discount_range,"%"]}),e.discount_amount&&(0,mr.jsxs)("p",{className:"text-base text-gray-600 mt-1",children:["Amount: ",I(e.discount_amount)]})]})]})]})})]}),(0,mr.jsx)("div",{className:"mt-6 pt-4 border-t border-gray-200 text-center",children:(0,mr.jsxs)("p",{className:"text-sm text-gray-500",children:["Created: ",F(e.created_at)," | Last Updated: ",F(e.updated_at)]})})]})]},e.id)):(0,mr.jsxs)("div",{className:"text-center p-8 bg-white rounded-xl shadow-sm border border-gray-200",children:[(0,mr.jsx)(Xi,{className:"h-12 w-12 text-gray-300 mx-auto"}),(0,mr.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No branches found"}),(0,mr.jsx)("p",{className:"mt-1 text-gray-500",children:r?"Try adjusting your search query":"Get started by creating your first branch"})]})}),o&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Request Maximum Discount"}),(0,mr.jsx)("button",{onClick:()=>{l(!1),x(null),_({type:"percentage",requested_range:"",requested_amount:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,mr.jsx)(cl,{size:20})})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),f(!0);try{const e=localStorage.getItem("token"),t={type:j.type};if("percentage"===j.type){if(!j.requested_range||""===j.requested_range)return pi.error("Please enter discount percentage"),void f(!1);t.requested_range=j.requested_range}else{if(!j.requested_amount||""===j.requested_amount)return pi.error("Please enter discount amount"),void f(!1);t.requested_amount=j.requested_amount}await Ua.post("branches/".concat(g,"/discount-requests"),t,{headers:{Authorization:"Bearer ".concat(e)}});pi.success("Discount increase request sent to admin"),l(!1),x(null),_({type:"percentage",requested_range:"",requested_amount:""}),E()}catch(t){console.error("Error requesting discount:",t),t.response?(console.error("Error response:",t.response.data),pi.error("Failed to request discount: ".concat(t.response.data.message||"Unknown error"))):pi.error("Failed to request discount")}finally{f(!1)}},className:"p-6",children:[(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount Type"}),(0,mr.jsxs)("div",{className:"flex space-x-4",children:[(0,mr.jsxs)("label",{className:"flex items-center",children:[(0,mr.jsx)("input",{type:"radio",name:"type",value:"percentage",checked:"percentage"===j.type,onChange:M,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,mr.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Percentage (%)"})]}),(0,mr.jsxs)("label",{className:"flex items-center",children:[(0,mr.jsx)("input",{type:"radio",name:"type",value:"amount",checked:"amount"===j.type,onChange:M,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"}),(0,mr.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Amount (\u20b9)"})]})]})]}),(0,mr.jsxs)("div",{className:"mb-6",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"percentage"===j.type?"Discount Percentage":"Discount Amount"}),(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{name:"percentage"===j.type?"requested_range":"requested_amount",type:"text",value:"percentage"===j.type?j.requested_range:j.requested_amount,onChange:M,className:"w-full border border-gray-300 rounded-md pl-10 pr-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"percentage"===j.type?"Enter percentage (0-100)":"Enter amount in rupees",maxLength:"percentage"===j.type?"3":"10"}),(0,mr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:"percentage"===j.type?(0,mr.jsx)(Jo,{className:"h-5 w-5 text-gray-400"}):(0,mr.jsx)(qo,{className:"h-5 w-5 text-gray-400"})})]}),(0,mr.jsx)("p",{className:"mt-1 text-xs text-gray-500",children:"percentage"===j.type?"Enter a value between 0 and 100 percent":"Enter the discount amount in Indian Rupees"})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>{l(!1),x(null),_({type:"percentage",requested_range:"",requested_amount:""})},className:"px-4 py-2 border border-gray-300 rounded-md text-sm font-medium text-gray-700 hover:bg-gray-50",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",disabled:A,className:"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-600 hover:bg-yellow-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500 disabled:opacity-75",children:A?"Sending...":"Request Discount"})]})]})]})}),c&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Set Manual Fees"}),(0,mr.jsx)("button",{onClick:()=>{d(!1),x(null),S({admission_fee:"",monthly_fee:"",annual_fee:"",other_fees:""})},className:"text-gray-400 hover:text-gray-600 transition-colors",children:(0,mr.jsx)(cl,{size:20})})]})})})]})]})}function PS(){var e,n,r,s;const[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[g,x]=(0,t.useState)("list"),[b,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(""),[j,_]=(0,t.useState)(null),[C,S]=(0,t.useState)(!1),[k,B]=(0,t.useState)(null),[E,L]=(0,t.useState)(!1),[M,F]=(0,t.useState)(!1),[I,D]=(sn(),(0,t.useState)({gender:"all",enrollment_status:"all",batch:"all",course:"all",dateRange:{start:"",end:""}}));(0,t.useEffect)(()=>{function e(e){null===b||e.target.closest(".menu-container")||e.target.closest(".menu-toggle")||y(null)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[b]),(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user"));e&&(w(e.role),_(e.branch_id),"branch_manager"===e.role&&f(e.branch_id.toString()))},[]);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});i(t.data||[])}catch(e){console.error("Error fetching students:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),[t,n,r]=await Promise.all([Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}}),Ua.get("/batches",{headers:{Authorization:"Bearer ".concat(e)}}),Ua.get("/courses",{headers:{Authorization:"Bearer ".concat(e)}})]);l(t.data||[]),d(n.data||[]),h(r.data||[])}catch(e){console.error("Error fetching master data:",e)}})()},[]);const T=async e=>{try{const t=localStorage.getItem("token"),n=await Ua.get("/students/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});B(n.data),S(!0)}catch(t){console.error("Error fetching student:",t)}},O=(e,t)=>{D(n=>N(N({},n),{},{[e]:t}))},P=(e,t)=>{D(n=>N(N({},n),{},{dateRange:N(N({},n.dateRange),{},{[e]:t})}))},U=[...new Set(a.map(e=>e.gender).filter(Boolean))],R=[...new Set(a.map(e=>e.enrollment_status).filter(Boolean))],Q=[...new Set(a.flatMap(e=>{var t;return(null===(t=e.courses)||void 0===t?void 0:t.map(e=>{var t;return null===(t=e.batch)||void 0===t?void 0:t.batch_name}))||[]}).filter(Boolean))],z=[...new Set(a.flatMap(e=>{var t;return(null===(t=e.courses)||void 0===t?void 0:t.map(e=>e.course_name))||[]}).filter(Boolean))],H=a.filter(e=>{var t,n;const r=""===m||(e.full_name||"").toLowerCase().includes(m.toLowerCase())||(e.email||"").toLowerCase().includes(m.toLowerCase())||(e.admission_number||"").toLowerCase().includes(m.toLowerCase()),s="admin"!==v||(""===A||e.branch_id===parseInt(A)),a="all"===I.gender||e.gender===I.gender,i="all"===I.enrollment_status||e.enrollment_status===I.enrollment_status,o="all"===I.course||(null===(t=e.courses)||void 0===t?void 0:t.some(e=>e.course_name===I.course)),l="all"===I.batch||(null===(n=e.courses)||void 0===n?void 0:n.some(e=>{var t;return(null===(t=e.batch)||void 0===t?void 0:t.batch_name)===I.batch})),c=new Date(e.admission_date),d=I.dateRange.start?new Date(I.dateRange.start):null,u=I.dateRange.end?new Date(I.dateRange.end):null;return r&&s&&a&&i&&o&&l&&((!d||c>=d)&&(!u||c<=u))}),K=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",W=e=>e.courses&&0!==e.courses.length?e.courses.slice(0,2).map((e,t)=>(0,mr.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-medium ".concat(0===t?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-sm":"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-sm"),children:e.course_name},e.id)):[(0,mr.jsx)("span",{className:"bg-gray-100 text-gray-600 px-3 py-1.5 rounded-full text-xs font-medium",children:"No Courses"},"none")],V=a.length,q=a.filter(e=>"Active"===e.enrollment_status).length,G=a.reduce((e,t)=>{var n;return e+((null===(n=t.courses)||void 0===n?void 0:n.length)||0)},0),Y=a.filter(e=>{const t=new Date(e.admission_date),n=new Date;return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}).length;return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-6",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"bg-white p-3 rounded-2xl shadow-lg border border-blue-100",children:(0,mr.jsx)(fl,{className:"text-3xl text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Students Management"}),(0,mr.jsxs)("p",{className:"text-gray-600 mt-2 flex items-center gap-2",children:[(0,mr.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Manage and track all student information in one place"]})]})]}),(0,mr.jsx)("div",{className:"flex flex-wrap gap-3",children:(0,mr.jsxs)("div",{className:"flex bg-white border border-gray-200 p-1 rounded-xl shadow-sm",children:[(0,mr.jsx)("button",{onClick:()=>x("list"),className:"px-6 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 ".concat("list"===g?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-transparent text-gray-600 hover:bg-gray-50"),children:"List View"}),(0,mr.jsx)("button",{onClick:()=>x("grid"),className:"px-6 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 ".concat("grid"===g?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-transparent text-gray-600 hover:bg-gray-50"),children:"Grid View"})]})})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Total Students"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:V}),(0,mr.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,mr.jsx)(mo,{className:"text-green-500 text-sm"}),(0,mr.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"All time"})]})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-2xl",children:(0,mr.jsx)(xl,{className:"text-2xl text-blue-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Active Students"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:q}),(0,mr.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,mr.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,mr.jsxs)("span",{className:"text-xs text-green-600 font-medium",children:[Math.round(q/V*100),"% active"]})]})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-2xl",children:(0,mr.jsx)(gl,{className:"text-2xl text-green-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Total Courses"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:G})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-2xl",children:(0,mr.jsx)(oo,{className:"text-2xl text-purple-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"New This Month"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:Y})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-2xl",children:(0,mr.jsx)(uo,{className:"text-2xl text-orange-600"})})]})})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 mb-8",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,mr.jsx)("div",{className:"flex-1 relative min-w-0",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)(rl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 z-10"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search students by name, email, or admission number...",value:m,onChange:e=>p(e.target.value),className:"w-full pl-12 pr-4 py-3.5 border border-gray-300 rounded-xl focus:ring-3 focus:ring-blue-100 focus:border-blue-500 transition-all duration-300 bg-gray-50 hover:bg-white"})]})}),"admin"===v&&(0,mr.jsx)("div",{className:"w-full lg:w-64",children:(0,mr.jsxs)("select",{value:A,onChange:e=>f(e.target.value),className:"w-full p-3.5 border border-gray-300 rounded-xl focus:ring-3 focus:ring-blue-100 focus:border-blue-500 bg-gray-50 hover:bg-white transition-all duration-300 appearance-none",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),o.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})}),(0,mr.jsxs)("button",{onClick:()=>F(!M),className:"px-6 py-3.5 rounded-xl transition-all duration-300 flex items-center gap-3 font-semibold ".concat(Object.values(I).some(e=>"string"===typeof e?"all"!==e:Object.values(e).some(Boolean))?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5":"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"),children:[(0,mr.jsx)(Oo,{className:"text-sm"}),"Filters",Object.values(I).some(e=>"string"===typeof e?"all"!==e:Object.values(e).some(Boolean))&&(0,mr.jsx)("span",{className:"bg-white text-orange-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"!"})]})]}),M&&(0,mr.jsxs)("div",{className:"mt-6 p-6 bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl shadow-inner border border-gray-200",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mr.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,mr.jsx)(Oo,{className:"text-blue-600 text-lg"})}),"Advanced Filters"]}),(0,mr.jsx)("button",{onClick:()=>{D({gender:"all",enrollment_status:"all",batch:"all",course:"all",dateRange:{start:"",end:""}}),p(""),f("")},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-sm font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5",children:"Reset All"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,mr.jsx)(bl,{className:"text-gray-400"}),"Gender"]}),(0,mr.jsxs)("select",{value:I.gender,onChange:e=>O("gender",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300",children:[(0,mr.jsx)("option",{value:"all",children:"All Genders"}),(0,mr.jsx)("option",{value:"Male",children:"Male"}),(0,mr.jsx)("option",{value:"Female",children:"Female"}),U.filter(e=>!["Male","Female"].includes(e)).map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,mr.jsx)(gl,{className:"text-gray-400"}),"Status"]}),(0,mr.jsxs)("select",{value:I.enrollment_status,onChange:e=>O("enrollment_status",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300",children:[(0,mr.jsx)("option",{value:"all",children:"All Status"}),(0,mr.jsx)("option",{value:"Active",children:"Active"}),(0,mr.jsx)("option",{value:"Inactive",children:"Inactive"}),R.filter(e=>!["Active","Inactive"].includes(e)).map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,mr.jsx)(jo,{className:"text-gray-400"}),"Batch"]}),(0,mr.jsxs)("select",{value:I.batch,onChange:e=>O("batch",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300",children:[(0,mr.jsx)("option",{value:"all",children:"All Batches"}),Q.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-gray-400"}),"Course"]}),(0,mr.jsxs)("select",{value:I.course,onChange:e=>O("course",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300",children:[(0,mr.jsx)("option",{value:"all",children:"All Courses"}),z.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,mr.jsx)(uo,{className:"text-gray-400"}),"Admission Date"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,mr.jsx)("div",{className:"relative",children:(0,mr.jsx)("input",{type:"date",value:I.dateRange.start,onChange:e=>P("start",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300 appearance-none",placeholder:"Start date"})}),(0,mr.jsx)("div",{className:"relative",children:(0,mr.jsx)("input",{type:"date",value:I.dateRange.end,onChange:e=>P("end",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300 appearance-none",placeholder:"End date"})})]})]})]})]})]}),(0,mr.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,mr.jsxs)("div",{className:"text-sm text-gray-600 bg-white px-4 py-2 rounded-xl shadow-sm border border-gray-200",children:["Showing ",(0,mr.jsx)("span",{className:"font-bold text-blue-600",children:H.length})," of"," ",(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:a.length})," students"]})}),"grid"===g?(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-2 gap-6",children:H.map(e=>{var t,n;return(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-200 overflow-hidden group transform hover:-translate-y-2",children:[(0,mr.jsx)("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("img",{src:e.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:e.full_name,className:"w-16 h-16 rounded-2xl object-cover border-4 border-white shadow-lg group-hover:border-blue-100 transition-colors"}),(0,mr.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white ".concat("Active"===e.enrollment_status?"bg-green-500":"bg-red-500")})]}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h3",{className:"text-lg font-bold text-gray-800 truncate group-hover:text-blue-600 transition-colors",children:e.full_name}),(0,mr.jsxs)("p",{className:"text-gray-500 text-sm flex items-center gap-1 mt-1",children:[(0,mr.jsx)(Bo,{className:"text-gray-400 text-xs"}),(0,mr.jsx)("span",{className:"truncate",children:e.email})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,mr.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat("Active"===e.enrollment_status?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-sm":"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-sm"),children:e.enrollment_status}),(0,mr.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat("Male"===e.gender?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-sm":"bg-gradient-to-r from-pink-500 to-pink-600 text-white shadow-sm"),children:e.gender})]})]})]})}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-gray-400"}),"Enrolled Courses (",(null===(t=e.courses)||void 0===t?void 0:t.length)||0,")"]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[W(e),e.courses&&e.courses.length>2&&(0,mr.jsxs)("span",{className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-sm",children:["+",e.courses.length-2," more"]})]})]}),(0,mr.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("span",{children:"Admission No:"}),(0,mr.jsx)("span",{className:"font-semibold text-gray-800",children:e.admission_number})]}),(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("span",{children:"Admission Date:"}),(0,mr.jsx)("span",{className:"font-semibold text-gray-800",children:K(e.admission_date)})]})]})]}),(0,mr.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white border-t border-gray-100",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:null===(n=e.branch)||void 0===n?void 0:n.branch_name}),(0,mr.jsx)("div",{className:"flex items-center gap-2",children:(0,mr.jsxs)("button",{onClick:()=>T(e.id),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center gap-2",children:[(0,mr.jsx)(Mo,{size:12}),"View Details"]})})]})})]},e.id)})}):(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-200",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Student Information"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Courses & Batches"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Admission Details"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"divide-y divide-gray-200",children:H.map(e=>{var t,n;return(0,mr.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors duration-300",children:[(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("img",{src:e.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:e.full_name,className:"w-12 h-12 rounded-xl object-cover border-2 border-white shadow-sm"}),(0,mr.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ".concat("Active"===e.enrollment_status?"bg-green-500":"bg-red-500")})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{className:"font-bold text-gray-900",children:e.full_name}),(0,mr.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,mr.jsx)(Bo,{className:"text-gray-400 text-xs"}),e.email]}),(0,mr.jsxs)("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[(0,mr.jsx)(Xo,{className:"text-gray-400"}),e.contact_number]})]})]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"space-y-2",children:[null===(t=e.courses)||void 0===t?void 0:t.slice(0,2).map(e=>(0,mr.jsx)("div",{className:"text-sm",children:(0,mr.jsx)("div",{className:"font-semibold text-gray-800",children:e.course_name})},e.id)),e.courses&&e.courses.length>2&&(0,mr.jsxs)("div",{className:"text-xs font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded-lg",children:["+",e.courses.length-2," more courses"]})]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"space-y-1",children:[(0,mr.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:K(e.admission_date)}),(0,mr.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["#",e.admission_number]}),(0,mr.jsx)("div",{className:"text-xs text-gray-400",children:null===(n=e.branch)||void 0===n?void 0:n.branch_name})]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,mr.jsx)("span",{className:"inline-flex px-3 py-1.5 text-xs font-bold rounded-full ".concat("Active"===e.enrollment_status?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-sm":"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-sm"),children:e.enrollment_status}),(0,mr.jsx)("span",{className:"inline-flex px-3 py-1.5 text-xs font-bold rounded-full ".concat("Male"===e.gender?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-sm":"bg-gradient-to-r from-pink-500 to-pink-600 text-white shadow-sm"),children:e.gender})]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("button",{onClick:()=>T(e.id),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center gap-2",children:[(0,mr.jsx)(Mo,{size:12}),"View Details"]})})]},e.id)})})]})})}),C&&k&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 flex justify-between items-center bg-gradient-to-r from-gray-50 to-white z-10",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-2xl",children:(0,mr.jsx)(fl,{className:"text-2xl text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Student Details"}),(0,mr.jsxs)("p",{className:"text-gray-600",children:["Complete information about ",k.full_name]})]})]}),(0,mr.jsx)("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 transition-colors p-3 hover:bg-gray-100 rounded-2xl",children:(0,mr.jsx)(cl,{size:24})})]}),(0,mr.jsx)("div",{className:"p-8",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,mr.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border border-blue-200 rounded-2xl p-6 text-center shadow-lg",children:[(0,mr.jsx)("img",{src:k.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:k.full_name,className:"w-32 h-32 rounded-2xl object-cover border-4 border-white shadow-lg mx-auto mb-4"}),(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:k.full_name}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("span",{className:"inline-block px-4 py-2 rounded-full text-sm font-bold ".concat("Active"===k.enrollment_status?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-md":"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-md"),children:k.enrollment_status}),(0,mr.jsx)("span",{className:"inline-block px-4 py-2 rounded-full text-sm font-bold ".concat("Male"===k.gender?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-md":"bg-gradient-to-r from-pink-500 to-pink-600 text-white shadow-md"),children:k.gender})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,mr.jsx)(lo,{className:"text-blue-600"})}),"Branch Details"]}),(0,mr.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Branch:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:null===(e=k.branch)||void 0===e?void 0:e.branch_name})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"City:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:null===(n=k.branch)||void 0===n?void 0:n.city})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Contact:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:null===(r=k.branch)||void 0===r?void 0:r.contact_number})]})]})]})]}),(0,mr.jsx)("div",{className:"lg:col-span-3",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg",children:(0,mr.jsx)(gl,{className:"text-purple-600"})}),"Personal Information"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Admission Number:"}),(0,mr.jsxs)("span",{className:"font-bold text-gray-800 bg-gray-100 px-3 py-1 rounded-lg",children:["#",k.admission_number]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:K(k.dob)})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Contact Number:"}),(0,mr.jsxs)("span",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,mr.jsx)(Xo,{className:"text-green-500"}),k.contact_number]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-start py-2",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Address:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800 text-right max-w-xs",children:k.address||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("div",{className:"text-gray-600 font-medium",children:"Email:"}),k.email]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-green-600"})}),"Guardian Information"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Name:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:k.guardian_name||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Contact:"}),(0,mr.jsxs)("span",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,mr.jsx)(Xo,{className:"text-green-500"}),k.guardian_contact||"N/A"]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-orange-100 p-2 rounded-lg",children:(0,mr.jsx)(uo,{className:"text-orange-600"})}),"Admission Information"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Admission Date:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:K(k.admission_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Total Courses:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800 bg-blue-100 text-blue-800 px-3 py-1 rounded-lg",children:(null===(s=k.courses)||void 0===s?void 0:s.length)||0})]})]})]})]})})]})}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-8 py-6 flex justify-end gap-4 bg-gradient-to-r from-gray-50 to-white",children:(0,mr.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-xl hover:bg-gray-400 transition-colors font-semibold",children:"Close"})})]})})]})}tf.register(km,Mm,bf,gf,Cf,om,Nm,am,lf);const US=function(){var e,n,r,s,a,i,o,l,c,d;const[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)([]),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(""),[j,N]=(0,t.useState)(null),[_,C]=(0,t.useState)(!1),[S,k]=(0,t.useState)(""),[B,E]=(0,t.useState)(!1),[L,M]=(0,t.useState)(!1),F=(0,t.useRef)(null),I=JSON.parse(localStorage.getItem("user")||"{}"),D=I.role;I.branch_id,(0,t.useEffect)(()=>{(async()=>{try{E(!0);const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});p(t.data||[]),x(t.data||[])}catch(e){console.error("Error fetching students:",e)}finally{E(!1)}})(),T(),O()},[]);const T=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});f(t.data||[])}catch(e){console.error("Error fetching courses:",e)}},O=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});h(t.data||[])}catch(e){console.error("Error fetching branches:",e)}};(0,t.useEffect)(()=>{let e=m;v&&(e=e.filter(e=>{var t;return null===(t=e.courses)||void 0===t?void 0:t.some(e=>e.id.toString()===v)})),b&&(e=e.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===b})),S&&(e=e.filter(e=>{var t,n,r;return(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(S.toLowerCase()))||(null===(n=e.admission_number)||void 0===n?void 0:n.toLowerCase().includes(S.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(S.toLowerCase()))})),x(e)},[v,b,S,m]);const P=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",U=()=>{y(""),w(""),k("")};return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:[(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,mr.jsx)("div",{className:"bg-white p-4 rounded-2xl shadow-lg",children:(0,mr.jsx)(Qo,{className:"text-3xl text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Student ID Card Generator"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-2",children:"Generate professional ID cards for your students"})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 mb-8",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Students"}),(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)(rl,{className:"absolute left-3 top-3 text-gray-400"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search by name, admission number, or email...",value:S,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Course"}),(0,mr.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300 appearance-none",children:[(0,mr.jsx)("option",{value:"",children:"All Courses"}),A.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),"admin"===D&&(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Branch"}),(0,mr.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300 appearance-none",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),u.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 flex-1",children:[(0,mr.jsx)("div",{className:"bg-blue-50 rounded-xl p-3 border border-blue-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Total Students"}),(0,mr.jsx)("p",{className:"text-xl font-bold text-gray-800",children:g.length})]}),(0,mr.jsx)(xl,{className:"text-blue-500"})]})}),(0,mr.jsx)("div",{className:"bg-green-50 rounded-xl p-3 border border-green-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Active Students"}),(0,mr.jsx)("p",{className:"text-xl font-bold text-gray-800",children:g.filter(e=>"Active"===e.enrollment_status).length})]}),(0,mr.jsx)(fl,{className:"text-green-500"})]})}),(0,mr.jsx)("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Available Courses"}),(0,mr.jsx)("p",{className:"text-xl font-bold text-gray-800",children:A.length})]}),(0,mr.jsx)(oo,{className:"text-purple-500"})]})})]}),(0,mr.jsx)("div",{className:"flex gap-3",children:(0,mr.jsx)("button",{onClick:U,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors font-medium",children:"Reset Filters"})})]})]}),B?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):g.length>0?(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-2 gap-6",children:g.map((e,t)=>{var n,r;return(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-200 overflow-hidden group transform hover:-translate-y-2 animate-fade-in",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("img",{src:e.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:e.full_name,className:"w-16 h-16 rounded-2xl object-cover border-4 border-white shadow-lg"}),(0,mr.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ".concat("Active"===e.enrollment_status?"bg-green-500":"bg-red-500")})]}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h3",{className:"font-bold text-lg truncate",children:e.full_name}),(0,mr.jsxs)("p",{className:"text-blue-100 text-sm truncate",children:["#",e.admission_number]}),(0,mr.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,mr.jsx)("span",{className:"bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs",children:e.gender}),(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat("Active"===e.enrollment_status?"bg-green-500 text-white":"bg-red-500 text-white"),children:e.enrollment_status})]})]})]})}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,mr.jsx)(Bo,{className:"text-gray-400"}),(0,mr.jsx)("span",{className:"truncate",children:e.email})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,mr.jsx)(Xo,{className:"text-gray-400"}),(0,mr.jsx)("span",{children:e.contact_number})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,mr.jsx)(uo,{className:"text-gray-400"}),(0,mr.jsxs)("span",{children:["Admitted: ",P(e.admission_date)]})]})]}),(0,mr.jsxs)("div",{className:"mt-4",children:[(0,mr.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-gray-400"}),"Enrolled Courses (",(null===(n=e.courses)||void 0===n?void 0:n.length)||0,")"]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[null===(r=e.courses)||void 0===r?void 0:r.slice(0,2).map((e,t)=>(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(0===t?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.course_name},e.id)),e.courses&&e.courses.length>2&&(0,mr.jsxs)("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs",children:["+",e.courses.length-2," more"]})]})]})]}),(0,mr.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:(0,mr.jsxs)("button",{onClick:()=>(e=>{N(e),C(!0)})(e),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[(0,mr.jsx)(Qo,{className:"text-sm"}),"Generate ID Card"]})})]},e.id)})}):(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-12 text-center",children:(0,mr.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,mr.jsx)("div",{className:"bg-blue-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,mr.jsx)(fl,{className:"text-3xl text-blue-600"})}),(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Students Found"}),(0,mr.jsx)("p",{className:"text-gray-600 mb-6",children:S||v||b?"Try adjusting your search criteria or filters":"No students available for ID card generation"}),(S||v||b)&&(0,mr.jsx)("button",{onClick:U,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-colors",children:"Clear Filters"})]})})]}),_&&j&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 transform animate-scale-in",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center bg-gradient-to-r from-gray-50 to-white z-10",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-xl",children:(0,mr.jsx)(Qo,{className:"text-xl text-blue-600"})}),(0,mr.jsx)("div",{children:(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Student ID Card"})})]}),(0,mr.jsx)("button",{onClick:()=>{C(!1),N(null),M(!1)},className:"text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-xl",children:(0,mr.jsx)(cl,{size:20})})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("div",{id:"id-card-to-print",ref:F,className:"id-card-container mx-auto",children:(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 rounded-3xl shadow-2xl overflow-hidden w-96 mx-auto border-8 border-white",children:[(0,mr.jsx)("div",{className:"bg-white bg-opacity-90 backdrop-blur-sm p-4 text-center border-b border-white border-opacity-20",children:(0,mr.jsx)("div",{className:"flex items-center justify-center gap-3 mb-2",children:(0,mr.jsx)("img",{src:"https://www.sinfode.com/wp-content/uploads/2022/12/digital-marketing-institute-in-sikar.webp",alt:"College Logo",className:"w-auto h-auto rounded-lg"})})}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"flex gap-6 items-start",children:[(0,mr.jsxs)("div",{className:"flex-shrink-0",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("img",{src:j.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:j.full_name,className:"w-24 h-28 rounded-2xl object-cover border-4 border-white shadow-lg"}),(0,mr.jsx)("div",{className:"absolute inset-0 border-2 border-white border-opacity-50 rounded-2xl"})]}),(0,mr.jsx)("div",{className:"mt-2 text-center",children:(0,mr.jsx)("div",{className:"bg-white bg-opacity-20 rounded-lg px-2 py-1",children:(0,mr.jsxs)("span",{className:"text-white text-xs font-bold",children:["ID: #",j.admission_number]})})})]}),(0,mr.jsxs)("div",{className:"flex-1 text-white",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold mb-2 leading-tight",children:j.full_name.toUpperCase()}),(0,mr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)(xl,{className:"text-white text-opacity-80"}),(0,mr.jsx)("span",{className:"font-medium",children:"Father:"}),(0,mr.jsx)("span",{children:j.guardian_name})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)(Vo,{className:"text-white text-opacity-80"}),(0,mr.jsx)("span",{className:"font-medium",children:"Branch:"}),(0,mr.jsx)("span",{children:null===(e=j.branch)||void 0===e?void 0:e.branch_name})]}),(null===(n=j.courses)||void 0===n?void 0:n[0])&&(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-white text-opacity-80"}),(0,mr.jsx)("span",{className:"font-medium",children:"Course:"}),(0,mr.jsx)("span",{className:"truncate",children:j.courses[0].course_name.length>17?j.courses[0].course_name.slice(0,17)+"...":j.courses[0].course_name})]}),(null===(r=j.courses)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.batch)&&(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)(uo,{className:"text-white text-opacity-80"}),(0,mr.jsx)("span",{className:"font-medium",children:"Batch:"}),(0,mr.jsx)("span",{children:j.courses[0].batch.batch_name})]})]})]})]}),(0,mr.jsx)("div",{className:"mt-6 pt-4 border-t border-white border-opacity-20",children:(0,mr.jsx)("div",{className:"flex justify-between items-center",children:(0,mr.jsxs)("div",{className:"text-white text-xs",children:[(0,mr.jsxs)("div",{children:["Valid Through: ",P(null===(a=j.courses)||void 0===a||null===(i=a[0])||void 0===i||null===(o=i.batch)||void 0===o?void 0:o.end_date)]}),(0,mr.jsx)("div",{className:"text-white text-opacity-70",children:"Authorized Signature"})]})})})]}),(0,mr.jsxs)("div",{className:"bg-black bg-opacity-30 p-3 text-center",children:[(0,mr.jsx)("p",{className:"text-white text-opacity-80 text-xs",children:(null===(l=j.branch)||void 0===l?void 0:l.address)||"Near Kalyan Circle, Front of Sanskrit College, Sikar (Rajasthan)"}),(0,mr.jsxs)("p",{className:"text-white text-opacity-60 text-xs mt-1",children:["Contact: ",(null===(c=j.branch)||void 0===c?void 0:c.contact_number)||"9376306970"," | Email: ",(null===(d=j.branch)||void 0===d?void 0:d.email)||"info@sinfode.com"]})]})]})}),(0,mr.jsxs)("div",{className:"mt-6 bg-blue-50 rounded-xl p-4 border border-blue-200",children:[(0,mr.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Printing Instructions:"}),(0,mr.jsxs)("ul",{className:"text-sm text-blue-700 list-disc list-inside space-y-1",children:[(0,mr.jsx)("li",{children:"Ensure the ID card is centered on the page"}),(0,mr.jsx)("li",{children:"Use high-quality photo paper for best results"}),(0,mr.jsx)("li",{children:'Check printer settings for correct size (CR80 - 3.375" x 2.125")'})]})]})]}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-gradient-to-r from-gray-50 via-white to-gray-100 border-t border-gray-300 px-6 py-4 flex justify-end",children:L?(0,mr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),(0,mr.jsx)("span",{children:"Downloading..."})]}):(0,mr.jsxs)("div",{className:"flex gap-4",children:[(0,mr.jsxs)("button",{onClick:async()=>{if(F.current){M(!0);try{const e=(await p_()(F.current,{scale:3,useCORS:!0,logging:!1,backgroundColor:null})).toDataURL("image/png",1),t=new g_.default("p","mm",[54,85.6]),n=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight();t.addImage(e,"PNG",0,0,n,r),t.save("ID_Card_".concat(j.admission_number,"_").concat(j.full_name.replace(/\s+/g,"_"),".pdf"))}catch(e){console.error("Error generating PDF:",e),alert("Error downloading PDF. Please try again.")}finally{M(!1)}}},className:"flex items-center gap-3 px-5 py-3 rounded-xl shadow-md bg-gradient-to-r from-red-100 to-red-50 hover:from-red-200 hover:to-red-100 text-gray-800 font-semibold transition-all duration-300 border border-red-200",children:[(0,mr.jsx)(To,{className:"text-red-600 text-xl"}),(0,mr.jsx)("span",{children:"Download PDF"})]}),(0,mr.jsxs)("button",{onClick:async()=>{if(F.current){M(!0);try{const e=await p_()(F.current,{scale:3,useCORS:!0,logging:!1,backgroundColor:null}),t=document.createElement("a");t.download="ID_Card_".concat(j.admission_number,"_").concat(j.full_name.replace(/\s+/g,"_"),".png"),t.href=e.toDataURL("image/png",1),t.click()}catch(e){console.error("Error generating image:",e),alert("Error downloading image. Please try again.")}finally{M(!1)}}},className:"flex items-center gap-3 px-5 py-3 rounded-xl shadow-md bg-gradient-to-r from-blue-100 to-blue-50 hover:from-blue-200 hover:to-blue-100 text-gray-800 font-semibold transition-all duration-300 border border-blue-200",children:[(0,mr.jsx)(zo,{className:"text-blue-600 text-xl"}),(0,mr.jsx)("span",{children:"Download Image"})]})]})})]})}),(0,mr.jsx)("style",{jsx:!0,children:"\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        @keyframes scale-in {\n          from { opacity: 0; transform: scale(0.9); }\n          to { opacity: 1; transform: scale(1); }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.6s ease-out forwards;\n        }\n        .animate-scale-in {\n          animation: scale-in 0.3s ease-out forwards;\n        }\n      "})]})};function RS(){var e,n,r,s,a,i,o,l,c,d,u,h,A,f,m,p,g,x,b,y,v,w,j;const[_,C]=(0,t.useState)([]),[S,k]=(0,t.useState)(!1),[B,E]=(0,t.useState)(!1),[L,M]=(0,t.useState)(!1),[F,I]=(0,t.useState)(!1),[D,T]=(0,t.useState)([]),[O,P]=(0,t.useState)([]),[U,R]=(0,t.useState)([]),[Q,z]=(0,t.useState)([]),[H,K]=(0,t.useState)([]),[W,V]=(0,t.useState)(!0),[q,G]=(0,t.useState)(!1),[Y,J]=(0,t.useState)(null),[X,Z]=(0,t.useState)(null),[$,ee]=(0,t.useState)({}),[te,ne]=(0,t.useState)([]),[re,se]=(0,t.useState)(null),ae=(0,t.useRef)(null),ie=JSON.parse(localStorage.getItem("user")||"{}").branch_id,[oe,le]=(0,t.useState)({title:"",description:"",submit_date:"",staff_id:"",course_id:"",batch_id:"",branch_id:ie||""});(0,t.useEffect)(()=>{const e=e=>{ae.current&&!ae.current.contains(e.target)&&se(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const ce=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/assignments/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=t.data.data||t.data;Array.isArray(n)||(n=[]),ie&&(n=n.filter(e=>e.branch_id==ie)),console.log("Final assignments data:",n),C(n)}catch(e){console.error("Error fetching assignments:",e)}finally{V(!1)}};(0,t.useEffect)(()=>{ce(),(async()=>{try{const e=localStorage.getItem("token");let t=(await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];ie&&(t=t.filter(e=>e.branch_id==ie)),T(t)}catch(e){console.error("Error fetching staff:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});z(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})(),(async()=>{try{const e=localStorage.getItem("token");let t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];ie&&(t=t.filter(e=>e.branch_id==ie)),P(t)}catch(e){console.error("Error fetching courses:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=Array.isArray(t.data)?t.data:t.data.data||[];ie&&(n=n.filter(e=>e.branch_id==ie)),R(n)}catch(e){console.error("Error fetching batches:",e)}})()},[]);const de=e=>{le(N(N({},oe),{},{[e.target.name]:e.target.value}))},ue=async e=>{J(e),E(!0),G(!0);try{await(async e=>{try{const t=localStorage.getItem("token"),n=(await Ua.get("/assignments/".concat(e,"/submissions"),{headers:{Authorization:"Bearer ".concat(t)}})).data;ne(n.submissions||[]);const r={};return(n.submissions||[]).forEach(e=>{let t=e.status||"Pending";"Done"!==t&&(t="Pending"),r[e.student_id]=t}),ee(r),n}catch(t){return console.error("Error fetching assignment submissions:",t),{submissions:[]}}})(e.id)}catch(t){console.error("Error loading review data:",t)}finally{G(!1)}},he=e=>{J(e),I(!0)},Ae=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),fe=e=>e?new Date("2000-01-01T".concat(e)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",me=e=>{if(!e.submissions||0===e.submissions.length)return{text:"No Submissions",color:"bg-gray-100 text-gray-700"};const t=e.submissions.length,n=e.submissions.filter(e=>"Done"===e.status).length;return 0===n?{text:"Pending",color:"bg-yellow-100 text-yellow-700"}:n===t?{text:"Completed",color:"bg-green-100 text-green-700"}:{text:"".concat(n,"/").concat(t," Submitted"),color:"bg-blue-100 text-blue-700"}},pe=e=>{const t=new Date,n=new Date(e)-t,r=Math.ceil(n/864e5);return r<0?{text:"Overdue by ".concat(Math.abs(r)," days"),color:"text-red-600",bg:"bg-red-50"}:0===r?{text:"Due today",color:"text-orange-600",bg:"bg-orange-50"}:1===r?{text:"Due tomorrow",color:"text-orange-600",bg:"bg-orange-50"}:{text:"".concat(r," days remaining"),color:"text-green-600",bg:"bg-green-50"}};return W?(0,mr.jsx)("div",{className:"p-6 flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"text-lg",children:"Loading assignments..."})}):(0,mr.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Assignments"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Manage and review student assignments"})]}),(0,mr.jsxs)("button",{onClick:()=>k(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors duration-200",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Assignment"]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Assignments"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:_.length})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Pending Review"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:_.filter(e=>"Pending"===me(e).text).length})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Completed"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:_.filter(e=>"Completed"===me(e).text).length})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"In Progress"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:_.filter(e=>me(e).text.includes("/")).length})]})]}),(0,mr.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden border border-gray-200",children:(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sr. No."}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submissions"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===_.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,mr.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,mr.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No assignments found"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"Create your first assignment to get started"})]})})}):_.map((e,t)=>{(e=>{var t,n,r,s;(null===(t=e.branch)||void 0===t?void 0:t.branch_name)||"Branch ID: ".concat(e.branch_id||"-"),(null===(n=e.course)||void 0===n?void 0:n.course_name)||"Course ID: ".concat(e.course_id||"-"),(null===(r=e.batch)||void 0===r?void 0:r.batch_name)||"Batch ID: ".concat(e.batch_id||"-"),(null===(s=e.teacher)||void 0===s?void 0:s.employee_name)||"Staff ID: ".concat(e.staff_id||"-")})(e);const n=me(e);return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>he(e),children:[(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:t+1}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"font-semibold text-gray-900",children:e.title.length>20?e.title.slice(0,20)+"...":e.title}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:e.description.length>50?e.description.slice(0,50)+"...":e.description})]})}),(0,mr.jsxs)("td",{className:"px-6 py-4",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-900 font-medium",children:Ae(e.submit_date)}),(0,mr.jsx)("div",{className:"text-xs font-medium ".concat(new Date(e.submit_date)<new Date?"text-red-600":"text-green-600"),children:new Date(e.submit_date)<new Date?"Overdue":"Active"})]}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"text-sm text-gray-900 font-medium",children:[e.submissions?e.submissions.length:0," students"]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(n.color),children:n.text})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex space-x-2 items-center",onClick:e=>e.stopPropagation(),children:[(0,mr.jsx)("button",{className:"text-white bg-blue-700 hover:bg-blue-800 px-3 py-1 rounded-md font-medium text-sm transition-colors duration-200",onClick:t=>{t.stopPropagation(),(async e=>{try{const t=localStorage.getItem("token"),n=[];if(e.submissions&&e.submissions.length>0&&e.submissions.forEach(e=>{"Done"!==e.status&&n.push({student_id:e.student_id,status:"Done"})}),0===n.length)return void pi.info("No pending submissions to update");const r={assignment_id:e.id,updates:n},s=await Ua.put("/assignments/submissions/bulk-update",r,{headers:{Authorization:"Bearer ".concat(t)}});pi.success(s.data.message||"Submissions updated successfully"),ce()}catch(t){console.error("Error updating submissions:",t),pi.warning("Error updating submissions")}})(e)},children:"SUBMIT"}),(0,mr.jsxs)("div",{className:"relative",ref:ae,children:[(0,mr.jsx)("button",{className:"text-gray-500 hover:text-gray-700 p-1 rounded hover:bg-gray-100 transition-colors duration-200",onClick:t=>{var n;t.stopPropagation(),n=e.id,se(re===n?null:n)},children:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),re===e.id&&(0,mr.jsxs)("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:[(0,mr.jsxs)("button",{onClick:t=>{t.stopPropagation(),he(e),se(null)},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 transition-colors duration-200 flex items-center",children:[(0,mr.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Details"]}),(0,mr.jsxs)("button",{onClick:t=>{t.stopPropagation(),ue(e),se(null)},className:"block w-full text-left px-4 py-2 text-sm text-green-600 hover:bg-green-50 transition-colors duration-200 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Review Submissions"]}),(0,mr.jsxs)("button",{onClick:t=>{t.stopPropagation(),(e=>{Z(e),M(!0),se(null)})(e)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Assignment"]})]})]})]})})]},e.id)})})]})})}),S&&(0,mr.jsx)("div",{className:"fixed inset-0 flex mt-9 justify-center items-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Create Assignment"}),(0,mr.jsx)("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t=await Ua.post("/assignments",oe,{headers:{Authorization:"Bearer ".concat(e)}});pi.success(t.data.message||"Assignment created successfully"),k(!1),le({title:"",description:"",submit_date:"",staff_id:"",course_id:"",batch_id:"",branch_id:ie||""}),ce()}catch(t){console.error("Error creating assignment:",t),pi.warning("Error creating assignment")}},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,mr.jsx)("input",{type:"text",name:"title",placeholder:"Assignment title",value:oe.title,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:de,required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,mr.jsx)("textarea",{name:"description",placeholder:"Assignment description",value:oe.description,rows:"3",className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:de,required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),(0,mr.jsx)("input",{type:"date",name:"submit_date",value:oe.submit_date,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:de,required:!0})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),(0,mr.jsxs)("select",{name:"course_id",value:oe.course_id,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:de,required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Course"}),O.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch"}),(0,mr.jsxs)("select",{name:"batch_id",value:oe.batch_id,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:de,required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Batch"}),U.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.batch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff"}),(0,mr.jsxs)("select",{name:"staff_id",value:oe.staff_id,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:de,required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Staff"}),D.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.employee_name},e.id))]})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Create Assignment"})]})]})]})}),F&&Y&&(0,mr.jsx)("div",{className:"fixed inset-0 flex justify-center items-center p-4 z-50 bg-black bg-opacity-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Assignment Details"}),(0,mr.jsx)("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200 p-1 rounded-full hover:bg-gray-100",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-100",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:Y.title}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:Y.description})]}),(0,mr.jsx)("div",{className:"text-right",children:(0,mr.jsx)("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ".concat(pe(Y.submit_date).bg," ").concat(pe(Y.submit_date).color),children:pe(Y.submit_date).text})})]})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Assignment Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Due Date:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:Ae(Y.submit_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Created:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:Ae(Y.created_at)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Last Updated:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:Ae(Y.updated_at)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Submissions:"}),(0,mr.jsxs)("span",{className:"text-gray-900",children:[(null===(e=Y.submissions)||void 0===e?void 0:e.length)||0," students"]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Teacher Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(n=Y.teacher)||void 0===n?void 0:n.employee_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Email:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(r=Y.teacher)||void 0===r?void 0:r.email)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Contact:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(s=Y.teacher)||void 0===s?void 0:s.contact_number)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Department:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(a=Y.teacher)||void 0===a?void 0:a.department)||"N/A"})]})]})]})]}),(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Course Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Course Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(i=Y.course)||void 0===i?void 0:i.course_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Course Code:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(o=Y.course)||void 0===o?void 0:o.course_code)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Duration:"}),(0,mr.jsxs)("span",{className:"text-gray-900",children:[(null===(l=Y.course)||void 0===l?void 0:l.duration)||"N/A"," months"]})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Mode:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(c=Y.course)||void 0===c?void 0:c.mode)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Level:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(d=Y.course)||void 0===d?void 0:d.course_level)||"N/A"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Batch Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Batch Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(u=Y.batch)||void 0===u?void 0:u.batch_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Start Date:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:Ae(null===(h=Y.batch)||void 0===h?void 0:h.start_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"End Date:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:Ae(null===(A=Y.batch)||void 0===A?void 0:A.end_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Batch Time:"}),(0,mr.jsxs)("span",{className:"text-gray-900",children:[fe(null===(f=Y.batch)||void 0===f?void 0:f.batch_start_time)," - ",fe(null===(m=Y.batch)||void 0===m?void 0:m.batch_end_time)]})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Student Limit:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(p=Y.batch)||void 0===p?void 0:p.student_limit)||"N/A"})]})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsxs)("svg",{className:"w-5 h-5 mr-2 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Branch Information"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Branch Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(g=Y.branch)||void 0===g?void 0:g.branch_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Branch Code:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(x=Y.branch)||void 0===x?void 0:x.branch_code)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Address:"}),(0,mr.jsx)("span",{className:"text-gray-900 text-right",children:(null===(b=Y.branch)||void 0===b?void 0:b.address)||"N/A"})]})]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"City:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(y=Y.branch)||void 0===y?void 0:y.city)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"State:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(v=Y.branch)||void 0===v?void 0:v.state)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Contact:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(w=Y.branch)||void 0===w?void 0:w.contact_number)||"N/A"})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Student Submissions",(0,mr.jsx)("span",{className:"ml-2 bg-indigo-100 text-indigo-800 text-sm font-medium px-2.5 py-0.5 rounded-full",children:(null===(j=Y.submissions)||void 0===j?void 0:j.length)||0})]}),Y.submissions&&Y.submissions.length>0?(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:Y.submissions.map(e=>(0,mr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,mr.jsx)("img",{src:e.student.photo_url||"/default-avatar.png",alt:e.student.full_name,className:"w-10 h-10 rounded-full object-cover border border-gray-300"}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.student.full_name}),(0,mr.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:["Admission: ",e.student.admission_number]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("span",{className:"text-xs text-gray-500",children:"Status"}),(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("Done"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,mr.jsxs)("div",{className:"flex flex-col items-end",children:[(0,mr.jsx)("span",{className:"text-xs text-gray-500",children:"Submitted"}),(0,mr.jsx)("span",{className:"text-sm text-gray-900",children:Ae(e.updated_at)})]})]}),(0,mr.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,mr.jsx)("div",{className:"flex justify-between text-xs text-gray-500",children:(0,mr.jsxs)("span",{children:["Contact: ",e.student.contact_number]})})})]},e.id))}):(0,mr.jsxs)("div",{className:"text-center py-8",children:[(0,mr.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,mr.jsx)("p",{className:"mt-2 text-gray-500",children:"No submissions yet"})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{onClick:()=>I(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 font-medium",children:"Close"}),(0,mr.jsxs)("button",{onClick:()=>{I(!1),ue(Y)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium flex items-center",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Review Submissions"]})]})]})]})}),B&&(0,mr.jsx)("div",{className:"fixed inset-0 flex justify-center items-center p-4 z-50 bg-black bg-opacity-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl shadow-xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Review Submissions - ",null===Y||void 0===Y?void 0:Y.title]}),(0,mr.jsx)("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),q?(0,mr.jsx)("div",{className:"py-8 text-center text-gray-500",children:"Loading student data..."}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg border border-blue-100",children:[(0,mr.jsxs)("p",{className:"text-gray-700",children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Due Date:"})," ",Y?Ae(Y.submit_date):""]}),(0,mr.jsxs)("p",{className:"text-gray-700 mt-1",children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Total Submissions:"})," ",te.length," students"]})]}),(0,mr.jsx)("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Student ID"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Student Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Status"})]})}),(0,mr.jsx)("tbody",{children:0===te.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"3",className:"px-4 py-8 text-center text-gray-500",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,mr.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,mr.jsx)("p",{children:"No submissions found for this assignment."})]})})}):te.map(e=>(0,mr.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150",children:[(0,mr.jsx)("td",{className:"px-4 py-3 font-medium text-gray-900",children:e.student.id}),(0,mr.jsx)("td",{className:"px-4 py-3",children:e.student.full_name}),(0,mr.jsx)("td",{className:"px-4 py-3",children:(0,mr.jsxs)("select",{value:$[e.student_id]||"Pending",onChange:t=>{return n=e.student_id,r=t.target.value,void ee(e=>N(N({},e),{},{[n]:r}));var n,r},className:"border border-gray-300 rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",children:[(0,mr.jsx)("option",{value:"Pending",children:"Pending"}),(0,mr.jsx)("option",{value:"Done",children:"Done"})]})})]},e.id))})]})}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{onClick:()=>E(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=Object.keys($).map(e=>({student_id:parseInt(e),status:$[e]})),n={assignment_id:Y.id,updates:t};console.log("Sending bulk update payload:",n);const r=await Ua.put("/assignments/submissions/bulk-update",n,{headers:{Authorization:"Bearer ".concat(e)}});pi.success(r.data.message||"Statuses updated successfully"),E(!1),ce()}catch(e){console.error("Error updating statuses:",e),e.response?(console.error("Backend validation errors:",e.response.data.errors),pi.warning("Error: ".concat(e.response.data.message||"Invalid status value"))):pi.warning("Error updating statuses")}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Update Status"})]})]})]})}),L&&(0,mr.jsx)("div",{className:"fixed inset-0 flex justify-center items-center p-4 z-50 bg-black bg-opacity-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Delete Assignment"}),(0,mr.jsx)("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mr.jsxs)("div",{className:"mb-6",children:[(0,mr.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("svg",{className:"w-6 h-6 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,mr.jsx)("span",{className:"text-red-800 font-medium",children:"Warning: This action cannot be undone"})]})}),(0,mr.jsxs)("p",{className:"text-gray-600",children:["Are you sure you want to delete the assignment ",(0,mr.jsxs)("span",{className:"font-semibold",children:['"',null===X||void 0===X?void 0:X.title,'"']}),"? All associated submissions will also be permanently deleted."]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,mr.jsx)("button",{onClick:()=>M(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,mr.jsxs)("button",{onClick:async()=>{if(X)try{const e=localStorage.getItem("token"),t=await Ua.delete("/assignments/delete/".concat(X.id),{headers:{Authorization:"Bearer ".concat(e)}});pi.error(t.data.message||"Assignment deleted successfully"),M(!1),Z(null),se(null),ce()}catch(e){console.error("Error deleting assignment:",e),pi.warning("Error deleting assignment")}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-200 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Assignment"]})]})]})})]})}const QS=e=>{let{formData:n,setFormData:r,setShowModal:s,refreshData:a}=e;const[i,o]=(0,t.useState)({percentage:0,grade:"-",gradeColor:"text-gray-600"}),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)([]),[h,A]=(0,t.useState)([]),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[x,b]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[w,j]=(0,t.useState)([]),[_,C]=(0,t.useState)([]),[S,k]=(0,t.useState)([]),B=JSON.parse(localStorage.getItem("user")||"{}").branch_id;(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});console.log("Branches API response:",t),u(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];if(console.log("Fetched courses:",t),m(t),B){const e=t.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===B.toString()});console.log("Filtered courses by branch:",e),C(e)}else C(t)}catch(e){console.error("Error fetching courses:",e)}})()},[B]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=[];if(Array.isArray(t.data)?n=t.data:t.data&&Array.isArray(t.data.batches)?n=t.data.batches:t.data&&Array.isArray(t.data.data)?n=t.data.data:(console.warn("Unexpected batches API response structure:",t.data),n=[]),console.log("Fetched batches:",n),A(n),B){const e=n.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===B.toString()});console.log("Filtered batches by branch:",e),k(e)}else k(n)}catch(e){console.error("Error fetching batches:",e),A([])}})()},[B]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=[];Array.isArray(t.data)?n=t.data:t.data&&Array.isArray(t.data.students)?n=t.data.students:t.data&&Array.isArray(t.data.data)?n=t.data.data:(console.warn("Unexpected students API response structure:",t.data),n=[]),console.log("Fetched students:",n),g(n)}catch(e){console.error("Error fetching students:",e),g([])}})()},[]),(0,t.useEffect)(()=>{console.log("Filtering students with:",{userBranchId:B,selectedBatch:x,studentsCount:p.length});let e=p;B&&(e=e.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===B.toString()})),x&&(e=e.filter(e=>{var t;return null===(t=e.courses)||void 0===t?void 0:t.some(e=>{var t,n;return(null===(t=e.pivot)||void 0===t||null===(n=t.batch_id)||void 0===n?void 0:n.toString())===x})})),console.log("Filtered students:",e),j(e)},[B,x,p]),(0,t.useEffect)(()=>{if(x){const e=h.find(e=>e.id.toString()===x);if(e&&e.course_id){const t=f.filter(t=>t.id.toString()===e.course_id.toString());console.log("Filtered courses by batch:",t),C(t),1===t.length&&(v(t[0].id.toString()),r(e=>N(N({},e),{},{course:t[0].id.toString()})))}else{const e=f.filter(e=>{var t;return!B||(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===B.toString()});C(e)}}else{const e=f.filter(e=>{var t;return!B||(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===B.toString()});C(e)}},[x,h,f,B,r]),(0,t.useEffect)(()=>{B&&r(e=>N(N({},e),{},{branch:B.toString()}))},[B,r]),(0,t.useEffect)(()=>{E()},[n.totalMarks,n.obtainedMarks]);const E=()=>{const e=parseFloat(n.totalMarks)||0,t=parseFloat(n.obtainedMarks)||0;if(e>0){const n=t/e*100;let r="F",s="text-red-600";n>=90?(r="A+",s="text-green-600"):n>=80?(r="A",s="text-green-600"):n>=70?(r="B",s="text-blue-600"):n>=60?(r="C",s="text-yellow-600"):n>=50&&(r="D",s="text-orange-600"),o({percentage:n,grade:r,gradeColor:s})}},L=()=>{s(!1),b(""),v(""),r({studentId:"",branch:B?B.toString():"",batch:"",course:"",examDate:"",examName:"",totalMarks:100,obtainedMarks:0})},M=e=>{const{id:t,value:n}=e.target;r(e=>N(N({},e),{},{[t]:n}))},F=e=>{e.target.style.borderColor="#0176d3",e.target.style.boxShadow="0 0 0 2px rgba(1, 118, 211, 0.1)"},I=e=>{e.target.style.borderColor="#dddbda",e.target.style.boxShadow="none"},D=e=>{var t;if(!e.courses||0===e.courses.length)return"No course assigned";const n=e.courses[0];return"".concat(n.course_name," - ").concat((null===(t=n.batch)||void 0===t?void 0:t.batch_name)||"No batch")};return(0,mr.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl mx-4 max-h-screen overflow-y-auto",children:[(0,mr.jsx)("div",{className:"sf-blue text-white px-6 py-4 rounded-t-lg",style:{background:"linear-gradient(135deg, #0176d3 0%, #005fb2 100%)"},children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold",children:"Add Exam Marks"}),(0,mr.jsx)("button",{onClick:L,className:"text-white hover:text-gray-200 transition-colors",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n.obtainedMarks>n.totalMarks)pi.error("Obtained marks cannot be greater than total marks!");else if(n.course)if(n.studentId){c(!0);try{const e=localStorage.getItem("token"),t={student_id:parseInt(n.studentId),batch_id:parseInt(n.batch),branch_id:parseInt(n.branch),course_id:parseInt(n.course),exam_type:n.examName,marks_obtained:parseFloat(n.obtainedMarks),total_marks:parseFloat(n.totalMarks),exam_date:n.examDate};console.log("Submitting exam data:",t);const r=await Ua.post("/exam-marks",t,{headers:{Authorization:"Bearer ".concat(e)}});200!==r.status&&201!==r.status||(pi.success("Exam marks recorded successfully!"),a&&a(),L())}catch(t){console.error("Error submitting exam marks:",t),pi.error("Failed to record exam marks. Please try again.")}finally{c(!1)}}else pi.error("Please select a student!");else pi.error("Please select a course!")},className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h4",{className:"text-lg font-medium text-gray-800 border-b pb-2",children:"Student Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),(0,mr.jsxs)("select",{id:"batch",required:!0,value:x,onChange:e=>{const t=e.target.value;b(t),r(e=>N(N({},e),{},{batch:t,course:""})),v("")},className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,children:[(0,mr.jsx)("option",{value:"",children:"Select Batch"}),S.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.batch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),(0,mr.jsxs)("select",{id:"course",required:!0,value:y,onChange:e=>{const t=e.target.value;v(t),r(e=>N(N({},e),{},{course:t}))},className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,disabled:!x,children:[(0,mr.jsx)("option",{value:"",children:"Select Course"}),_.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]}),x&&0===_.length&&(0,mr.jsx)("p",{className:"text-sm text-yellow-600 mt-1",children:"No courses found for this batch. Please select a batch that has associated courses."})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student"}),(0,mr.jsxs)("select",{id:"student",required:!0,onChange:e=>{const t=e.target.value,n=w.find(e=>e.id.toString()===t);n&&r(e=>N(N({},e),{},{studentId:n.id.toString(),studentName:n.full_name}))},className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,disabled:!x,children:[(0,mr.jsx)("option",{value:"",children:"Select Student"}),0===w.length&&x?(0,mr.jsx)("option",{value:"",disabled:!0,children:"No students found in this batch"}):w.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.full_name,e.courses&&e.courses.length>0&&(0,mr.jsxs)("span",{className:"text-gray-500 text-sm",children:[" ","(",D(e),")"]})]},e.id))]}),x&&0===w.length&&(0,mr.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"No students found in the selected batch. Please check if students are enrolled in courses with this batch."})]})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h4",{className:"text-lg font-medium text-gray-800 border-b pb-2",children:"Exam Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Date"}),(0,mr.jsx)("input",{type:"date",id:"examDate",required:!0,value:n.examDate,onChange:M,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Name/Type"}),(0,mr.jsx)("input",{type:"text",id:"examName",required:!0,value:n.examName,onChange:M,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,placeholder:"e.g., Mid Term, Final Exam"})]})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h4",{className:"text-lg font-medium text-gray-800 border-b pb-2",children:"Marks Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Marks"}),(0,mr.jsx)("input",{type:"number",id:"totalMarks",required:!0,min:"1",value:n.totalMarks,onChange:M,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,placeholder:"Enter total marks"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Obtained Marks"}),(0,mr.jsx)("input",{type:"number",id:"obtainedMarks",required:!0,min:"0",value:n.obtainedMarks,onChange:M,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,placeholder:"Enter obtained marks"})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Calculated Results:"}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm font-medium",children:"Percentage:"}),(0,mr.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:[i.percentage.toFixed(1),"%"]})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm font-medium",children:"Grade:"}),(0,mr.jsx)("span",{className:"text-sm font-bold ".concat(i.gradeColor),children:i.grade})]})]})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t",children:[(0,mr.jsx)("button",{type:"button",onClick:L,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"sf-button text-white px-8 py-3 rounded-lg font-medium flex items-center space-x-2",style:{background:"#0176d3",transition:"all 0.2s ease",opacity:l?.7:1},onMouseOver:l?void 0:e=>{e.target.style.background="#005fb2",e.target.style.transform="translateY(-1px)"},onMouseOut:l?void 0:e=>{e.target.style.background="#0176d3",e.target.style.transform="translateY(0)"},disabled:l,children:l?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,mr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,mr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,mr.jsx)("span",{children:"Processing..."})]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,mr.jsx)("span",{children:"Save Record"})]})})]})]})]})]})},zS=e=>{let{refreshFlag:n}=e;const[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)("all"),[u,h]=(0,t.useState)(!0),A=e=>{const t=o.find(t=>t.id===e);return t?t.branchName:"Branch ".concat(e)};return(0,t.useEffect)(()=>{(async()=>{await(async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const t=await Ua.get("exam-marks",{headers:{Authorization:"Bearer ".concat(e)}}),n=[];t.data.students.forEach(e=>{e.exam_marks.forEach(t=>{n.push({id:t.id,studentId:e.id,studentName:e.full_name,branch:A(e.branch_id),course:t.course?t.course.course_name:"N/A",examDate:t.exam_date,examName:t.exam_type,totalMarks:t.total_marks,obtainedMarks:t.marks_obtained,percentage:t.marks_obtained/t.total_marks*100,startTime:e.batch_start_time,endTime:e.batch_end_time,branchId:e.branch_id})})}),s(n),i(n),h(!1)}catch(e){console.error("Error fetching exam records:",e),pi.error("Failed to load exam records"),h(!1)}})()})()},[n]),(0,t.useEffect)(()=>{(e=>{if("all"===e)i(r);else{const t=r.filter(t=>t.branchId==e);i(t)}})(c)},[c,r]),u?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{className:"mb-6 flex justify-between items-center",children:(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0})}),(0,mr.jsxs)("div",{className:"sf-card rounded-lg overflow-hidden",style:{background:"#ffffff",border:"1px solid #dddbda",boxShadow:"0 2px 4px rgba(0,0,0,0.07)"},children:[(0,mr.jsx)("div",{className:"sf-table-header px-6 py-4",style:{background:"#f3f2f2",borderBottom:"2px solid #dddbda"},children:(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Exam Records"})}),(0,mr.jsx)("div",{children:(0,mr.jsx)("div",{className:"overflow-x-auto w-full",children:(0,mr.jsxs)("table",{className:"w-full border-collapse",children:[(0,mr.jsx)("thead",{className:"bg-gray-100 border-b",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Course"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Exam Date"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Exam Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Total Marks"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Obtained"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Percentage"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:0===a.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"9",className:"px-6 py-16 text-center text-gray-500",children:"No exam records found"})}):a.map(e=>{const t=(n=e.percentage)>=90?{grade:"A+",class:"bg-green-100 text-green-800"}:n>=80?{grade:"A",class:"bg-green-100 text-green-800"}:n>=70?{grade:"B+",class:"bg-blue-100 text-blue-800"}:n>=60?{grade:"B",class:"bg-blue-100 text-blue-800"}:n>=50?{grade:"C",class:"bg-yellow-100 text-yellow-800"}:n>=40?{grade:"D",class:"bg-orange-100 text-orange-800"}:{grade:"F",class:"bg-red-100 text-red-800"};var n;const o=new Date(e.examDate).toLocaleDateString();return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 truncate",children:e.studentName}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 truncate",children:e.course}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:o}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 truncate",children:e.examName}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:e.totalMarks}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:e.obtainedMarks}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center",children:(0,mr.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ".concat(t.class),children:[e.percentage.toFixed(1),"% (",t.grade,")"]})}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center",children:(0,mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this exam record?"))try{const t=localStorage.getItem("token");await Ua.delete("exam-marks/delete/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),s(r.filter(t=>t.id!==e)),i(a.filter(t=>t.id!==e)),pi.success("Exam record deleted successfully!")}catch(t){console.error("Error deleting exam record:",t),pi.error("Failed to delete exam record")}})(e.id),className:"text-red-600 hover:text-red-900 transition-colors p-2 rounded-lg hover:bg-red-50",title:"Delete Record",children:(0,mr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},e.id)})})]})})})]})]})};const HS=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(0),[u,h]=(0,t.useState)({studentId:"",studentName:"",branch:"",course:"",examDate:"",examName:"",startTime:"",endTime:"",totalMarks:100,obtainedMarks:0}),[A,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)([]),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(""),[j,_]=(0,t.useState)([]),[C,S]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});p(t.data||[])}catch(e){console.error("Error fetching courses:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(b)try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/".concat(b,"/show"),{headers:{Authorization:"Bearer ".concat(e)}});x(t.data.students||[])}catch(e){console.error("Error fetching students:",e)}})()},[b]),(0,t.useEffect)(()=>{if(!v||!g.length)return void _(g);const e=g.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===v});_(e)},[v,g]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/exam-marks",{headers:{Authorization:"Bearer ".concat(e)}});if(t.data&&t.data.length>0){const e=t.data.map(e=>({id:e.id,studentId:e.student_id.toString(),studentName:e.student_name||"Unknown",branch:e.branch_id.toString(),course:e.course_id.toString(),examDate:e.exam_date,examName:e.exam_type,startTime:e.start_time||"",endTime:e.end_time||"",totalMarks:e.total_marks,obtainedMarks:e.marks_obtained,percentage:e.marks_obtained/e.total_marks*100}));n(e)}}catch(e){console.error("Error fetching all exam marks:",e)}})()},[]);const k=e.length,B=e.map(e=>e.percentage);return k>0&&B.reduce((e,t)=>e+t,0),k>0&&Math.max(...B),B.filter(e=>e>=50).length,(0,mr.jsxs)("div",{className:"bg-gray-50 min-h-screen",style:{fontFamily:"'Inter', 'Salesforce Sans', sans-serif"},children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsx)("div",{className:"sf-blue text-white py-6 px-6 shadow-lg",style:{background:"linear-gradient(135deg, #0176d3 0%, #005fb2 100%)"},children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-white bg-opacity-20 p-2 rounded-lg",children:(0,mr.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{d:"M12 2L1 7l11 5 9-4.09V17h2V7L12 2zM4 10v5l8 4 8-4v-5l-8 3.64L4 10z"})})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold",children:"Exam Marks Management"}),(0,mr.jsx)("p",{className:"text-blue-100 text-lg",children:"Comprehensive student assessment tracking system"})]}),(0,mr.jsx)("button",{onClick:()=>i(!0),className:"sf-button text-white border border-white ml-[140px] px-6 py-3 rounded-lg font-medium flex items-center space-x-2 shadow-lg",children:(0,mr.jsx)("span",{children:"+ Add Marks"})})]})})}),(0,mr.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,mr.jsx)(zS,{records:e,refreshFlag:c,editRecord:()=>{},deleteRecord:()=>{},getGrade:e=>e>=90?{grade:"A+",class:"status-active"}:e>=80?{grade:"A",class:"status-active"}:e>=70?{grade:"B",class:"status-completed"}:e>=60?{grade:"C",class:"status-completed"}:e>=50?{grade:"D",class:"status-pending"}:{grade:"F",class:"bg-red-100 text-red-800"}})}),a&&(0,mr.jsx)(QS,{formData:u,setFormData:h,editingId:o,refreshData:()=>{d(e=>e+1)},setEditingId:l,setShowModal:i,handleSubmit:()=>{},handleInputChange:e=>{const{id:t,value:n}=e.target;h(e=>N(N({},e),{},{[t]:n}))},handleCourseChange:e=>{y(e.target.value),h(t=>N(N({},t),{},{course:e.target.value}))},handleBranchChange:e=>{w(e.target.value),h(t=>N(N({},t),{},{branch:e.target.value}))},handleStudentSelect:e=>{const t=e.target.value,n=j.find(e=>e.id.toString()===t);n&&h(e=>N(N({},e),{},{studentId:n.id.toString(),studentName:n.name}))},branches:A,courses:m,filteredStudents:j,selectedCourse:b,selectedBranch:v})]})};function KS(){const[e,n]=(0,t.useState)("assignments");return(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen",children:[(0,mr.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,mr.jsx)("div",{className:"flex items-center justify-between",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-white font-bold text-lg",children:"\ud83d\udcda"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Progress"}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Track student performance and submissions"})]})]})})})}),(0,mr.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,mr.jsx)("div",{className:"border-b border-gray-200",children:(0,mr.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"assignments",label:"\ud83d\udccb Assignment Tracking"},{id:"exams",label:"\ud83d\udcca Test/Exam Marks"}].map(t=>(0,mr.jsx)("button",{onClick:()=>n(t.id),className:"py-4 px-2 border-b-2 font-medium transition-colors ".concat(e===t.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"),children:t.label},t.id))})}),(0,mr.jsxs)("div",{className:"p-6",children:["assignments"===e&&(0,mr.jsx)("div",{children:(0,mr.jsx)(RS,{})}),"exams"===e&&(0,mr.jsx)("div",{children:(0,mr.jsx)(HS,{})})]})]})})]})}function WS(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(!1),[j,_]=(0,t.useState)([]),[C,S]=(0,t.useState)({}),[k,B]=(0,t.useState)([]),[E,L]=(0,t.useState)([]),[M,F]=(0,t.useState)(0),[I,D]=(0,t.useState)(0),T=JSON.parse(localStorage.getItem("user")||"{}"),O=(T.role,T.branch_id);(0,t.useEffect)(()=>{const e=localStorage.getItem("token");Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{const t=e.data.filter(e=>e.branch_id==O);B(t||[])}).catch(e=>{console.error("Failed to fetch courses:",e),pi.error("Failed to fetch courses")}),Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}}).then(e=>{const t=(Array.isArray(e.data)?e.data:e.data.data||[]).filter(e=>e.branch_id==O);L(t)}).catch(e=>{console.error("Failed to fetch batches:",e),pi.error("Failed to fetch batches")})},[O]),(0,t.useEffect)(()=>{if(j.length>0){let e=0;j.forEach(t=>{const n=k.find(e=>e.id==t);if(n){const t=parseFloat(n.discounted_price||n.actual_price||0);e+=t}}),F(e),D(e)}else F(0),D(0)},[j,k]);const P=()=>{n(""),s(""),i(""),l(""),d(""),h(""),f(null),p(""),x(""),y(""),_([]),S({}),F(0),D(0)},U=e=>{if(!e)return"";try{return new Date("2000-01-01T".concat(e)).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(t){return e}};return(0,mr.jsxs)("div",{className:"p-6 w-full bg-[#F4F9FD]",children:[(0,mr.jsx)(Ci,{position:"bottom-center",autoClose:3e3}),(0,mr.jsx)("h1",{className:"text-2xl md:text-3xl font-bold mb-6 text-gray-800",children:"Add New Student"}),(0,mr.jsxs)("form",{className:"space-y-6",onSubmit:async t=>{if(t.preventDefault(),w(!0),0===j.length)return pi.error("\u274c Please select at least one course"),void w(!1);if(j.filter(e=>!C[e]).length>0)return pi.error("\u274c Please select batches for all selected courses"),void w(!1);try{const t=localStorage.getItem("token"),n=new FormData;n.append("full_name",e),n.append("dob",r),n.append("gender",a),n.append("contact_number",o),n.append("email",c),n.append("address",u),A&&n.append("photo",A),n.append("guardian_name",m),n.append("guardian_contact",g),n.append("admission_date",b),n.append("branch_id",O),j.forEach(e=>{n.append("course_ids[]",e)}),j.forEach(e=>{n.append("batch_ids[]",C[e])}),n.append("course_fee",M),n.append("final_fee",I),console.log("Submitting student data:",{fullName:e,courses:j,batches:C,totalFee:I});for(let[e,r]of n.entries())console.log("".concat(e,":"),r);const s=await Ua.post("/students/create",n,{headers:{Authorization:"Bearer ".concat(t),"Content-Type":"multipart/form-data"}});console.log("\u2705 Student created successfully:",s.data),pi.success("\u2705 Student created successfully!"),P()}catch(d){var n,s,i,l;console.error("Error creating student:",d),null!==(n=d.response)&&void 0!==n&&null!==(s=n.data)&&void 0!==s&&s.message?pi.error("\u274c ".concat(d.response.data.message)):null!==(i=d.response)&&void 0!==i&&null!==(l=i.data)&&void 0!==l&&l.errors?Object.values(d.response.data.errors).flat().forEach(e=>pi.error("\u274c ".concat(e))):pi.error("\u274c Failed to create student")}finally{w(!1)}},children:[(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"Personal Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Full Name *"}),(0,mr.jsx)("input",{type:"text",value:e,onChange:e=>n(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter student's full name",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Date of Birth *"}),(0,mr.jsx)("input",{type:"date",value:r,onChange:e=>s(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Gender *"}),(0,mr.jsxs)("select",{value:a,onChange:e=>i(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Gender"}),(0,mr.jsx)("option",{value:"Male",children:"Male"}),(0,mr.jsx)("option",{value:"Female",children:"Female"}),(0,mr.jsx)("option",{value:"Other",children:"Other"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Contact Number *"}),(0,mr.jsx)("input",{type:"text",value:o,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);l(t)},className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10-digit mobile number",maxLength:10,required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Email Address *"}),(0,mr.jsx)("input",{type:"email",value:c,onChange:e=>d(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"student@example.com",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Student Photo"}),(0,mr.jsx)("input",{type:"file",onChange:e=>f(e.target.files[0]),className:"w-full border border-gray-300 rounded-lg px-4 py-3 file:mr-4 file:py-2 file:px-4 file:rounded-full file:border-0 file:text-sm file:font-semibold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100",accept:"image/*"})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Address"}),(0,mr.jsx)("textarea",{value:u,onChange:e=>h(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter complete address",rows:3})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"Guardian Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Guardian Name"}),(0,mr.jsx)("input",{type:"text",value:m,onChange:e=>p(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Enter guardian's full name"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Guardian Contact"}),(0,mr.jsx)("input",{type:"text",value:g,onChange:e=>{const t=e.target.value.replace(/\D/g,"").slice(0,10);x(t)},className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"10-digit mobile number",maxLength:10})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-800",children:"Course Enrollment"}),(0,mr.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-3 py-1 rounded-full text-sm font-medium",children:[j.length," course(s) selected"]})]}),(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:k.map(e=>{return(0,mr.jsx)("div",{className:"border-2 rounded-xl p-4 transition-all duration-200 ".concat(j.includes(e.id)?"border-blue-500 bg-blue-50 shadow-md":"border-gray-200 hover:border-gray-300 hover:shadow-sm"),children:(0,mr.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,mr.jsx)("input",{type:"checkbox",id:"course-".concat(e.id),checked:j.includes(e.id),onChange:()=>{return t=e.id,void _(e=>{if(e.includes(t)){const n=N({},C);return delete n[t],S(n),e.filter(e=>e!==t)}return[...e,t]});var t},className:"mt-1 w-5 h-5 text-blue-600 rounded focus:ring-blue-500 border-gray-300"}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("label",{htmlFor:"course-".concat(e.id),className:"font-semibold text-gray-900 cursor-pointer hover:text-blue-600 block text-sm",children:e.course_name}),(0,mr.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Code:"})," ",e.course_code]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Duration:"})," ",e.duration," months"]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Mode:"}),(0,mr.jsx)("span",{className:"ml-1 px-2 py-0.5 rounded text-xs ".concat("Online"===e.mode?"bg-green-100 text-green-800":"Offline"===e.mode?"bg-blue-100 text-blue-800":"bg-purple-100 text-purple-800"),children:e.mode})]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-600",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Level:"})," ",e.course_level]})]}),(0,mr.jsx)("div",{className:"mt-3",children:(0,mr.jsxs)("span",{className:"text-lg font-bold text-green-600",children:["\u20b9",e.discounted_price||e.actual_price||"0"]})}),j.includes(e.id)&&(0,mr.jsxs)("div",{className:"mt-4 pt-3 border-t border-gray-200",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold mb-2 text-gray-700",children:"Select Batch *"}),(0,mr.jsxs)("select",{value:C[e.id]||"",onChange:t=>{return n=e.id,r=t.target.value,void S(e=>N(N({},e),{},{[n]:r}));var n,r},className:"w-full border border-gray-300 rounded-lg px-3 py-2 text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Choose a batch"}),(t=e.id,E.filter(e=>e.course_id==t||e.courses&&e.courses.some(e=>e.id==t))).map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.batch_name,e.batch_start_time&&" (".concat(U(e.batch_start_time),")")]},e.id))]})]})]})]})},e.id);var t})}),j.length>0&&(0,mr.jsxs)("div",{className:"mt-6 p-6 bg-gradient-to-r from-blue-50 to-indigo-50 rounded-xl border border-blue-200",children:[(0,mr.jsx)("h3",{className:"font-bold text-lg mb-4 text-gray-800",children:"Enrollment Summary"}),(0,mr.jsxs)("div",{className:"space-y-3",children:[j.map(e=>{const t=k.find(t=>t.id==e),n=E.find(t=>t.id==C[e]);return t?(0,mr.jsxs)("div",{className:"flex justify-between items-center py-3 px-4 bg-white rounded-lg border border-gray-200",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("div",{className:"font-semibold text-gray-800",children:t.course_name}),n&&(0,mr.jsxs)("div",{className:"text-sm text-gray-600 mt-1",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Batch:"})," ",n.batch_name]})]}),(0,mr.jsx)("div",{className:"text-right",children:(0,mr.jsxs)("div",{className:"font-bold text-green-600",children:["\u20b9",t.discounted_price||t.actual_price||"0"]})})]},e):null}),(0,mr.jsx)("div",{className:"border-t border-blue-200 pt-3 mt-2",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center font-bold text-lg",children:[(0,mr.jsx)("span",{className:"text-gray-800",children:"Total Fee:"}),(0,mr.jsxs)("span",{className:"text-blue-600",children:["\u20b9",I]})]})})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-xl p-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4 text-gray-800 border-b pb-2",children:"Admission Details"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Admission Date *"}),(0,mr.jsx)("input",{type:"date",value:b,onChange:e=>y(e.target.value),className:"w-full border border-gray-300 rounded-lg px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium mb-2 text-gray-700",children:"Total Course Fee"}),(0,mr.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg px-6 py-4",children:[(0,mr.jsxs)("div",{className:"text-2xl font-bold text-green-600 text-center",children:["\u20b9",I]}),(0,mr.jsxs)("div",{className:"text-sm text-gray-600 text-center mt-1",children:["Total for ",j.length," course(s)"]})]})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-4 pt-6",children:[(0,mr.jsx)("button",{type:"button",onClick:P,className:"px-8 py-3 border border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition duration-200 font-medium",disabled:v,children:"Reset Form"}),(0,mr.jsx)("button",{type:"submit",disabled:v||0===j.length,className:"px-8 py-3 bg-blue-600 text-white rounded-xl hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed transition duration-200 font-semibold",children:v?"Creating Student...":"Add Student"})]})]})]})}function VS(){const[e,n]=(0,t.useState)("addStudent"),r=JSON.parse(localStorage.getItem("user")||"{}"),s="branch_manager"===r.role,a=r.branch_id;return(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsxs)("div",{className:"w-64 bg-white rounded-xl shadow-lg p-6 space-y-3",children:[(0,mr.jsx)("div",{className:"mb-6 pb-4 border-b border-gray-200",children:(0,mr.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:"Student Management"})}),(0,mr.jsx)("button",{onClick:()=>n("addStudent"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("addStudent"===e?"bg-blue-100 text-blue-700 border border-blue-200 shadow-sm":"hover:bg-gray-100 text-gray-700 border border-transparent"),children:"\u2795 Add Student"}),(0,mr.jsx)("button",{onClick:()=>n("studentList"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("studentList"===e?"bg-blue-100 text-blue-700 border border-blue-200 shadow-sm":"hover:bg-gray-100 text-gray-700 border border-transparent"),children:"\ud83d\udccb All Students"}),(0,mr.jsx)("button",{onClick:()=>n("idCard"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("idCard"===e?"bg-blue-100 text-blue-700 border border-blue-200 shadow-sm":"hover:bg-gray-100 text-gray-700 border border-transparent"),children:"\ud83d\udccb  ID Cards"}),(0,mr.jsx)("button",{onClick:()=>n("academic"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("academic"===e?"bg-blue-100 text-blue-700 border border-blue-200 shadow-sm":"hover:bg-gray-100 text-gray-700 border border-transparent"),children:"\ud83d\udcca Academic Progress"})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto bg-gray-50",children:["addStudent"===e&&(0,mr.jsx)(WS,{}),"studentList"===e&&(0,mr.jsx)(PS,{isBranchManager:s,branchId:s?a:null}),"idCard"===e&&(0,mr.jsx)(US,{isBranchManager:s,branchId:s?a:null}),"academic"===e&&(0,mr.jsx)(KS,{isBranchManager:s,branchId:s?a:null})]})]})})}function qS(){var e;const{id:n}=an(),[r,s]=(0,t.useState)(null),[a,i]=(0,t.useState)(!0);return(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff/show/".concat(n),{headers:{Authorization:"Bearer ".concat(e)}});s(t.data)}catch(e){console.error("Error fetching staff details:",e),alert("Failed to load staff details")}finally{i(!1)}})()},[n]),a?(0,mr.jsx)(DS,{children:(0,mr.jsx)("div",{className:"p-6",children:"Loading staff details..."})}):r?(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"p-6 space-y-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4 bg-white shadow rounded-xl p-6",children:[(0,mr.jsx)("div",{className:"w-16 h-16 flex items-center justify-center rounded-full bg-gradient-to-r from-purple-500 to-blue-500 text-white text-2xl font-bold",children:(null===(e=r.employee_name)||void 0===e?void 0:e.charAt(0))||"?"}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:r.employee_name}),(0,mr.jsx)("span",{className:"bg-blue-100 text-blue-600 text-sm font-semibold px-3 py-1 rounded-full",children:r.employee_code})]}),(0,mr.jsx)("p",{className:"text-gray-500",children:r.designation}),(0,mr.jsx)("p",{className:"text-sm text-gray-400",children:r.department})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow p-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Contact Information"}),(0,mr.jsxs)("p",{className:"flex items-center gap-2 text-gray-700",children:["\ud83d\udce7 ",r.email]}),(0,mr.jsxs)("p",{className:"flex items-center gap-2 text-gray-700 mt-2",children:["\ud83d\udcde ",r.contact_number]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow p-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Employment Details"}),(0,mr.jsxs)("p",{className:"flex items-center gap-2 text-gray-700",children:["\ud83d\udcc5 ",r.joining_date]})]})]})]})}):(0,mr.jsx)(DS,{children:(0,mr.jsx)("div",{className:"p-6 text-red-500",children:"No staff found"})})}const GS=function(){const[e,n]=(0,t.useState)({batch_name:"",course_id:"",branch_id:"",start_date:"",end_date:"",batch_start_time:"",batch_end_time:"",student_limit:""}),[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)([]),o=JSON.parse(localStorage.getItem("user")||"{}").branch_id;(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=((await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[]).filter(e=>e.branch_id===o);i(t)}catch(e){console.error("Error fetching courses:",e)}})()},[]);const l=t=>{n(N(N({},e),{},{[t.target.name]:t.target.value}))};return(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsx)("h1",{className:"text-[30px] mb-6 font-semibold font-nunito",children:"Batch Management"}),(0,mr.jsx)("div",{className:"max-w-xl w-[500px] bg-white shadow-lg rounded-2xl p-6 border border-gray-200",children:(0,mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0);try{const t=localStorage.getItem("token"),r=N(N({},e),{},{branch_id:o});await Ua.post("/batches/create",r,{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Batch created successfully!"),n({batch_name:"",course_id:"",branch_id:"",start_date:"",end_date:"",batch_start_time:"",batch_end_time:"",student_limit:""})}catch(r){console.error(r),pi.error("Error creating batch")}finally{s(!1)}},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Batch Name"}),(0,mr.jsx)("input",{type:"text",name:"batch_name",value:e.batch_name,onChange:l,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Course"}),0===a.length?(0,mr.jsx)("p",{className:"text-gray-500 text-sm",children:"No courses available for your branch"}):(0,mr.jsxs)("select",{name:"course_id",value:e.course_id,onChange:l,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2",children:[(0,mr.jsx)("option",{value:"",children:"-- Select Course --"}),a.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Start Date"}),(0,mr.jsx)("input",{type:"date",name:"start_date",value:e.start_date,onChange:l,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Start Time"}),(0,mr.jsx)("input",{type:"time",name:"batch_start_time",value:e.batch_start_time,onChange:l,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"End Date"}),(0,mr.jsx)("input",{type:"date",name:"end_date",value:e.end_date,onChange:l,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"End Time"}),(0,mr.jsx)("input",{type:"time",name:"batch_end_time",value:e.batch_end_time,onChange:l,required:!0,className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600",children:"Student Limit"}),(0,mr.jsx)("input",{type:"number",name:"student_limit",value:e.student_limit,onChange:l,required:!0,min:"1",className:"mt-1 block w-full rounded-lg border-gray-300 shadow-sm focus:ring-2 focus:ring-blue-500 p-2"})]}),(0,mr.jsx)("button",{type:"submit",disabled:r,className:"w-full bg-blue-600 text-white py-2 px-4 rounded-xl shadow-md hover:bg-blue-700 transition",children:r?"Creating...":"Create Batch"})]})})]})};const YS=function(){var e,n,r;const[s,a]=(0,t.useState)([]),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),[h,A]=(0,t.useState)(!1),[f,m]=(0,t.useState)(!1),[p,g]=(0,t.useState)({batch_name:"",student_limit:"",start_date:"",end_date:"",batch_start_time:"",batch_end_time:"",course_id:"",branch_id:""}),x=JSON.parse(localStorage.getItem("user")||"{}").branch_id,b=e=>e?e.substring(0,5):"",y=e=>{if(!e)return"N/A";try{let t=e.split(":").slice(0,2).join(":").split(":");if(t.length>=2){let e=parseInt(t[0]),n=t[1];const r=e>=12?"PM":"AM";return e=e%12||12,"".concat(e,":").concat(n," ").concat(r)}return e}catch(t){return console.error("Error formatting time:",t),e}},v=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}}),n=Array.isArray(t.data)?t.data:t.data.data||[];a(n);const r=n.filter(e=>e.branch_id===x);o(r)}catch(e){console.error("Error fetching batches:",e)}finally{c(!1)}};(0,t.useEffect)(()=>{v()},[]);const w=async e=>{try{var t;const n=localStorage.getItem("token"),r=await Ua.get("/batches/show/".concat(e),{headers:{Authorization:"Bearer ".concat(n)}}),s=r.data.data?r.data.data:r.data;u(s),g({batch_name:s.batch_name||"",student_limit:s.student_limit||"",start_date:s.start_date||"",end_date:s.end_date||"",batch_start_time:b(s.batch_start_time),batch_end_time:b(s.batch_end_time),course_id:s.course_id||"",branch_id:s.branch_id||"",course_name:(null===(t=s.course)||void 0===t?void 0:t.course_name)||""}),m(!0)}catch(n){console.error("Error loading batch for edit:",n)}};return(0,mr.jsxs)("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2 font-nunito",children:"Batch Management"}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage and monitor all your course batches"})]}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-xl",children:(0,mr.jsx)(xl,{className:"text-blue-600 text-2xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:i.length}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Total Batches"})]})]}),(0,mr.jsx)("div",{className:"flex-1 max-w-md",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search batches...",className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 pl-12 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),(0,mr.jsx)(xl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]})})]})}),l?(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700",children:"Loading batches..."})]}):0===i.length?(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,mr.jsx)(xl,{className:"text-6xl text-gray-300 mx-auto mb-4"}),(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-600 mb-2",children:"No Batches Found"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"Get started by creating your first batch"})]}):(0,mr.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-8",children:i.map(e=>{var t,n;return(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 border border-gray-100",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,mr.jsx)("div",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-semibold",children:"Active"}),(0,mr.jsxs)("div",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-semibold",children:[e.student_limit," Students"]})]}),(0,mr.jsx)("h3",{className:"text-xl font-bold mb-2 line-clamp-2",children:e.batch_name}),(0,mr.jsxs)("p",{className:"text-blue-100 opacity-90 flex items-center gap-2",children:[(0,mr.jsx)(Uo,{}),null===(t=e.course)||void 0===t?void 0:t.course_name]})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(lo,{className:"text-green-500"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Branch"}),(0,mr.jsx)("p",{className:"font-semibold",children:null===(n=e.branch)||void 0===n?void 0:n.branch_name})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(uo,{className:"text-blue-500"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Duration"}),(0,mr.jsxs)("p",{className:"font-semibold",children:[e.start_date," to ",e.end_date]})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(jo,{className:"text-purple-500"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Timing"}),(0,mr.jsxs)("p",{className:"font-semibold",children:[y(e.batch_start_time)," - ",y(e.batch_end_time)]})]})]})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,mr.jsx)("span",{children:"Enrollment"}),(0,mr.jsxs)("span",{children:["0 / ",e.student_limit]})]}),(0,mr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,mr.jsx)("div",{className:"bg-green-500 h-2 rounded-full",style:{width:"0%"}})})]})]}),(0,mr.jsx)("div",{className:"border-t border-gray-100 p-4 bg-gray-50",children:(0,mr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,mr.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await Ua.get("/batches/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),r=n.data.data?n.data.data:n.data;u(r),A(!0)}catch(t){console.error("Error fetching batch:",t)}})(e.id),className:"bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-md",title:"View Details",children:(0,mr.jsx)(Mo,{size:16})}),(0,mr.jsx)("button",{onClick:()=>w(e.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-md",title:"Edit Batch",children:(0,mr.jsx)(ko,{size:16})}),(0,mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this batch?"))try{const t=localStorage.getItem("token");await Ua.delete("/batches/destroy/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Batch deleted successfully!"),a(s.filter(t=>t.id!==e)),v()}catch(t){console.error("Error deleting batch:",t)}})(e.id),className:"bg-red-500 hover:bg-red-600 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-md",title:"Delete Batch",children:(0,mr.jsx)(hl,{size:16})})]})})]},e.id)})}),h&&d&&(0,mr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-8 rounded-t-3xl",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold mb-2",children:d.batch_name}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,mr.jsx)("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:null===(e=d.course)||void 0===e?void 0:e.course_name}),(0,mr.jsxs)("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:[d.student_limit," Students"]})]})]}),(0,mr.jsx)("button",{onClick:()=>A(!1),className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-xl transition-all duration-200",children:"\u2715"})]})}),(0,mr.jsxs)("div",{className:"p-8 space-y-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsx)("div",{className:"bg-blue-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-blue-500 p-2 rounded-lg",children:(0,mr.jsx)(Uo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Course"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:null===(n=d.course)||void 0===n?void 0:n.course_name})]})]})}),(0,mr.jsx)("div",{className:"bg-green-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-green-500 p-2 rounded-lg",children:(0,mr.jsx)(lo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Branch"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:null===(r=d.branch)||void 0===r?void 0:r.branch_name})]})]})}),(0,mr.jsx)("div",{className:"bg-purple-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-purple-500 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Student Limit"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:d.student_limit})]})]})}),(0,mr.jsx)("div",{className:"bg-orange-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-orange-500 p-2 rounded-lg",children:(0,mr.jsx)(uo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Duration"}),(0,mr.jsxs)("p",{className:"font-semibold text-gray-800",children:[d.start_date," to ",d.end_date]})]})]})}),(0,mr.jsx)("div",{className:"bg-teal-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-teal-500 p-2 rounded-lg",children:(0,mr.jsx)(jo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Start Time"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:y(d.batch_start_time)})]})]})}),(0,mr.jsx)("div",{className:"bg-pink-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-pink-500 p-2 rounded-lg",children:(0,mr.jsx)(jo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"End Time"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:y(d.batch_end_time)})]})]})})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,mr.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,mr.jsx)(xl,{className:"text-green-500"}),"Enrollment Status"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Current Enrollment"}),(0,mr.jsx)("span",{className:"font-semibold",children:"0 students"})]}),(0,mr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,mr.jsx)("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-500",style:{width:"0%"}})}),(0,mr.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,mr.jsx)("span",{children:"0 enrolled"}),(0,mr.jsxs)("span",{children:["Capacity: ",d.student_limit]})]})]})]})]}),(0,mr.jsx)("div",{className:"border-t p-6 bg-gray-50 rounded-b-3xl",children:(0,mr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,mr.jsxs)("button",{onClick:()=>w(d.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2",children:[(0,mr.jsx)(ko,{}),"Edit Batch"]}),(0,mr.jsx)("button",{onClick:()=>A(!1),className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200",children:"Close"})]})})]})}),f&&d&&(0,mr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white p-8 rounded-t-3xl",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Edit Batch"}),(0,mr.jsx)("p",{className:"text-yellow-100",children:"Update batch information"})]}),(0,mr.jsx)("button",{onClick:()=>m(!1),className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-xl transition-all duration-200",children:"\u2715"})]})}),(0,mr.jsx)("div",{className:"p-8",children:(0,mr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async e=>{try{if(!p.batch_name||!p.course_id||!p.start_date||!p.end_date||!p.student_limit||!p.batch_start_time||!p.batch_end_time)return void pi.error("Please fill in all fields");const t=localStorage.getItem("token"),n={batch_name:p.batch_name.trim(),course_id:p.course_id,start_date:p.start_date,end_date:p.end_date,batch_start_time:p.batch_start_time,batch_end_time:p.batch_end_time,student_limit:parseInt(p.student_limit),branch_id:p.branch_id},r=await Ua.put("/batches/update/".concat(e),n,{headers:{Authorization:"Bearer ".concat(t)}});console.log("Update response:",r.data),pi.success("Batch updated successfully!"),m(!1),v()}catch(t){console.error("Error updating batch:",t),t.response&&(console.error("Response data:",t.response.data),pi.error("Error: ".concat(t.response.data.message||"Update failed")))}})(d.id)},className:"space-y-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Batch Name *"}),(0,mr.jsx)("input",{type:"text",placeholder:"Enter batch name",value:p.batch_name,onChange:e=>g(N(N({},p),{},{batch_name:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Student Limit *"}),(0,mr.jsx)("input",{type:"number",placeholder:"Maximum students",value:p.student_limit,onChange:e=>g(N(N({},p),{},{student_limit:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0,min:"1"})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date *"}),(0,mr.jsx)("input",{type:"date",value:p.start_date,onChange:e=>g(N(N({},p),{},{start_date:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date *"}),(0,mr.jsx)("input",{type:"date",value:p.end_date,onChange:e=>g(N(N({},p),{},{end_date:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Time *"}),(0,mr.jsx)("input",{type:"time",value:p.batch_start_time,onChange:e=>g(N(N({},p),{},{batch_start_time:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Time *"}),(0,mr.jsx)("input",{type:"time",value:p.batch_end_time,onChange:e=>g(N(N({},p),{},{batch_end_time:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0})]})]}),(0,mr.jsx)("div",{className:"bg-gray-50 rounded-xl p-4",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)(Uo,{className:"text-blue-500 text-xl"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Course"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:p.course_name})]})]})}),(0,mr.jsx)("input",{type:"hidden",value:p.course_id}),(0,mr.jsx)("input",{type:"hidden",value:p.branch_id}),(0,mr.jsxs)("div",{className:"flex justify-end gap-4 pt-6",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>m(!1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),(0,mr.jsxs)("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-200 flex items-center gap-2",children:[(0,mr.jsx)(ko,{}),"Update Batch"]})]})]})})]})})]})};function JS(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(null),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)({}),[u,h]=(0,t.useState)(""),A=JSON.parse(localStorage.getItem("user")||"{}").branch_id,f=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}}),r=(t.data||[]).filter(e=>e.branch_id===A);n(r),i(r)}catch(e){console.error("Error fetching courses:",e)}};return(0,t.useEffect)(()=>{f()},[]),(0,t.useEffect)(()=>{const t=e.filter(e=>{var t,n;return(null===(t=e.course_name)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(n=e.course_category)||void 0===n?void 0:n.toLowerCase().includes(u.toLowerCase()))});i(t)},[u,e]),(0,mr.jsxs)("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2 font-nunito",children:"Course Management"}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage and monitor all your courses in one place"})]}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-center gap-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-xl",children:(0,mr.jsx)(oo,{className:"text-blue-600 text-2xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:a.length}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Total Courses"})]})]}),(0,mr.jsx)("div",{className:"flex-1 max-w-md",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search courses...",value:u,onChange:e=>h(e.target.value),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 pl-12 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),(0,mr.jsx)(Wo,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]})})]})}),0===a.length?(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,mr.jsx)(oo,{className:"text-6xl text-gray-300 mx-auto mb-4"}),(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-600 mb-2",children:"No Courses Found"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"Get started by creating your first course"})]}):(0,mr.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-8",children:a.map(e=>(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 border border-gray-100",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,mr.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-semibold ".concat("Beginner"===e.course_level?"bg-green-500":"Intermediate"===e.course_level?"bg-yellow-500":"bg-red-500"),children:e.course_level}),(0,mr.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-semibold bg-white ".concat("Online"===e.mode?"text-blue-600":"Offline"===e.mode?"text-purple-600":"text-teal-600"),children:e.mode})]}),(0,mr.jsx)("h3",{className:"text-xl font-bold mb-2 line-clamp-2",children:e.course_name}),(0,mr.jsxs)("p",{className:"text-blue-100 opacity-90 flex items-center gap-2",children:[(0,mr.jsx)(Ko,{}),e.course_category]})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"space-y-3 mb-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(jo,{className:"text-blue-500"}),(0,mr.jsxs)("span",{children:[e.duration," months"]})]}),e.branch&&(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(xl,{className:"text-green-500"}),(0,mr.jsxs)("span",{children:[e.branch.branch_name," (",e.branch.city,")"]})]})]}),(0,mr.jsx)("div",{className:"border-t pt-4",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["\u20b9",e.discounted_price||e.actual_price]}),e.discounted_price&&e.actual_price&&(0,mr.jsxs)("span",{className:"text-sm text-gray-500 line-through ml-2",children:["\u20b9",e.actual_price]})]}),e.discounted_price&&e.actual_price&&(0,mr.jsxs)("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded-full text-sm font-semibold",children:["Save \u20b9",e.actual_price-e.discounted_price]})]})})]}),(0,mr.jsx)("div",{className:"border-t border-gray-100 p-4 bg-gray-50",children:(0,mr.jsx)("div",{className:"flex justify-end gap-3",children:(0,mr.jsx)("button",{onClick:()=>(async(e,t)=>{try{const n=localStorage.getItem("token"),r=await Ua.get("/courses/".concat(e,"/show"),{headers:{Authorization:"Bearer ".concat(n)}});s(r.data),d(r.data),l(t)}catch(n){console.error("Error fetching course:",n)}})(e.id,"view"),className:"bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105",title:"View Details",children:(0,mr.jsx)(Mo,{size:16})})})})]},e.id))}),"view"===o&&r&&(0,mr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-8 rounded-t-3xl",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold mb-2",children:r.course_name}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,mr.jsx)("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:r.course_code}),(0,mr.jsx)("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:r.course_category})]})]}),(0,mr.jsx)("button",{onClick:()=>l(""),className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-xl transition-all duration-200",children:"\u2715"})]})}),(0,mr.jsxs)("div",{className:"p-8 space-y-8",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,mr.jsx)("div",{className:"bg-blue-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-blue-500 p-2 rounded-lg",children:(0,mr.jsx)(Ko,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Level"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:r.course_level})]})]})}),(0,mr.jsx)("div",{className:"bg-green-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-green-500 p-2 rounded-lg",children:(0,mr.jsx)(jo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Duration"}),(0,mr.jsxs)("p",{className:"font-semibold text-gray-800",children:[r.duration," months"]})]})]})}),(0,mr.jsx)("div",{className:"bg-purple-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-purple-500 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Mode"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:r.mode})]})]})}),(0,mr.jsx)("div",{className:"bg-orange-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-orange-500 p-2 rounded-lg",children:(0,mr.jsx)(tl,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Price"}),(0,mr.jsxs)("p",{className:"font-semibold text-gray-800",children:["\u20b9",r.discounted_price||r.actual_price]})]})]})}),r.branch&&(0,mr.jsx)("div",{className:"bg-teal-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-teal-500 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Branch"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:r.branch.branch_name})]})]})}),r.trainer&&(0,mr.jsx)("div",{className:"bg-pink-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-pink-500 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Trainer"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:r.trainer.employee_name})]})]})})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,mr.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-blue-500"}),"Course Description"]}),(0,mr.jsx)("div",{className:"prose max-w-none text-gray-700",dangerouslySetInnerHTML:{__html:r.course_description||"<p class='text-gray-500'>No description provided.</p>"}})]}),r.students&&r.students.length>0&&(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,mr.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,mr.jsx)(xl,{className:"text-green-500"}),"Enrolled Students (",r.students.length,")"]}),(0,mr.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.students.map(e=>(0,mr.jsx)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-blue-300 transition-all duration-200",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)("img",{src:e.photo_url||"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:e.full_name,className:"w-12 h-12 rounded-full object-cover border-2 border-blue-200"}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h4",{className:"font-semibold text-gray-800 truncate",children:e.full_name}),(0,mr.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.email}),(0,mr.jsx)("p",{className:"text-xs text-gray-400",children:e.contact_number})]})]})},e.id))})]})]}),(0,mr.jsx)("div",{className:"border-t p-6 bg-gray-50 rounded-b-3xl",children:(0,mr.jsx)("div",{className:"flex justify-end",children:(0,mr.jsx)("button",{onClick:()=>l(""),className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-8 py-3 rounded-xl font-semibold transition-all duration-200",children:"Close"})})})]})}),"edit"===o&&r&&(0,mr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white p-6 rounded-t-2xl",children:(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:"Edit Course"})}),(0,mr.jsxs)("div",{className:"p-6 space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Name"}),(0,mr.jsx)("input",{type:"text",value:c.course_name||"",onChange:e=>d(N(N({},c),{},{course_name:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Discounted Price (\u20b9)"}),(0,mr.jsx)("input",{type:"number",value:c.discounted_price||"",onChange:e=>d(N(N({},c),{},{discounted_price:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Actual Price (\u20b9)"}),(0,mr.jsx)("input",{type:"number",value:c.actual_price||"",onChange:e=>d(N(N({},c),{},{actual_price:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200"})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t",children:[(0,mr.jsx)("button",{onClick:()=>l(""),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t={course_name:c.course_name,discounted_price:c.discounted_price,actual_price:c.actual_price};await Ua.put("/courses/".concat(r.id,"/update"),t,{headers:{Authorization:"Bearer ".concat(e)}}),alert("\u2705 Course updated successfully!"),l(""),f()}catch(t){var e;console.error("Update failed:",(null===(e=t.response)||void 0===e?void 0:e.data)||t),alert("\u274c Update failed!")}},className:"px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-200",children:"Update Course"})]})]})}),"delete"===o&&r&&(0,mr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-2xl w-full max-w-md",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-red-500 to-pink-500 text-white p-6 rounded-t-2xl",children:(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:"Confirm Delete"})}),(0,mr.jsx)("div",{className:"p-6",children:(0,mr.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,mr.jsx)("div",{className:"bg-red-100 p-3 rounded-xl",children:(0,mr.jsx)(hl,{className:"text-red-500 text-2xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-700 font-semibold",children:"Are you sure you want to delete this course?"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-1",children:"This action cannot be undone."})]})]})}),(0,mr.jsxs)("div",{className:"flex justify-end gap-3 p-6 border-t",children:[(0,mr.jsx)("button",{onClick:()=>l(""),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-200",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token");await Ua.delete("/courses/".concat(r.id,"/destroy"),{headers:{Authorization:"Bearer ".concat(e)}}),alert("Course deleted successfully!"),l(""),f()}catch(e){console.error("Delete failed:",e),alert("Delete failed!")}},className:"px-6 py-3 bg-gradient-to-r from-red-500 to-pink-500 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-200",children:"Delete Course"})]})]})})]})}function XS(){const[e,n]=(0,t.useState)("courseList");return(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"flex h-full bg-gradient-to-br from-gray-50 to-blue-50",children:[(0,mr.jsxs)("div",{className:"w-80 bg-white rounded-2xl shadow-xl m-4 p-6 space-y-4",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2",children:"Course Center"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Manage your learning programs"})]}),(0,mr.jsxs)("button",{onClick:()=>n("courseList"),className:"w-full text-left p-4 rounded-2xl transition-all duration-200 flex items-center gap-4 ".concat("courseList"===e?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg transform -translate-y-1":"bg-white text-gray-700 hover:bg-blue-50 hover:shadow-md"),children:[(0,mr.jsx)("div",{className:"p-3 rounded-xl ".concat("courseList"===e?"bg-white/20":"bg-blue-100 text-blue-600"),children:(0,mr.jsx)(Wo,{className:"text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{className:"font-semibold",children:"All Courses"}),(0,mr.jsx)("div",{className:"text-sm opacity-80",children:"Browse all courses"})]})]}),(0,mr.jsxs)("button",{onClick:()=>n("batchManagement"),className:"w-full text-left p-4 rounded-2xl transition-all duration-200 flex items-center gap-4 ".concat("batchManagement"===e?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg transform -translate-y-1":"bg-white text-gray-700 hover:bg-blue-50 hover:shadow-md"),children:[(0,mr.jsx)("div",{className:"p-3 rounded-xl ".concat("batchManagement"===e?"bg-white/20":"bg-green-100 text-green-600"),children:(0,mr.jsx)(Zo,{className:"text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{className:"font-semibold",children:"Add Batches"}),(0,mr.jsx)("div",{className:"text-sm opacity-80",children:"Create new batches"})]})]}),(0,mr.jsxs)("button",{onClick:()=>n("allBatches"),className:"w-full text-left p-4 rounded-2xl transition-all duration-200 flex items-center gap-4 ".concat("allBatches"===e?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg transform -translate-y-1":"bg-white text-gray-700 hover:bg-blue-50 hover:shadow-md"),children:[(0,mr.jsx)("div",{className:"p-3 rounded-xl ".concat("allBatches"===e?"bg-white/20":"bg-purple-100 text-purple-600"),children:(0,mr.jsx)(xl,{className:"text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{className:"font-semibold",children:"All Batches"}),(0,mr.jsx)("div",{className:"text-sm opacity-80",children:"Manage all batches"})]})]})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-2xl m-4",children:["courseList"===e&&(0,mr.jsx)(JS,{}),"batchManagement"===e&&(0,mr.jsx)(GS,{}),"allBatches"===e&&(0,mr.jsx)(YS,{})]})]})})}tf.register(...ap);const ZS=()=>{var e,n,r;const s=JSON.parse(localStorage.getItem("user")||"{}").branch_id,[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)([]),[m,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)(!1),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(null),[j,_]=(0,t.useState)(null),[C,S]=(0,t.useState)(""),[k,B]=(0,t.useState)({student_id:"",fee_type:"Tuition",payment_mode:"one-time",number_of_installments:"",coupon_id:"",branch_discount_percent:"",branch_discount_amount:"",branch_id:""}),[E,L]=(0,t.useState)(null),[M,F]=(0,t.useState)(0),[I,D]=(0,t.useState)(""),[T,O]=(0,t.useState)([]),[P,U]=(0,t.useState)(null),[R,Q]=(0,t.useState)(!1),[z,H]=(0,t.useState)(null),[K,W]=(0,t.useState)(0),[V,q]=(0,t.useState)(""),[G,Y]=(0,t.useState)([]),[J,X]=(0,t.useState)(!1),[Z,$]=(0,t.useState)({studentName:"",status:"",dateFrom:"",dateTo:"",course:""}),[ee,te]=(0,t.useState)({key:"created_at",direction:"desc"}),[ne,re]=(0,t.useState)("all"),se=async()=>{try{const t=localStorage.getItem("token"),n=await Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(t)}}),r=(e=n.data||[],s?e.filter(e=>!(!e.student||!e.student.branch_id)&&e.student.branch_id===s):e).sort((e,t)=>new Date(t.created_at)-new Date(e.created_at));i(r)}catch(t){console.error("Error fetching student fees:",t),pi.error("Failed to fetch student fees")}var e},ae=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});l(t.data||[])}catch(e){console.error("Error fetching courses:",e)}},ie=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}}),n=s?(t.data||[]).filter(e=>e.branch_id===s):t.data||[];d(n),Y(n)}catch(e){console.error("Error fetching students:",e)}},oe=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/fee-structures",{headers:{Authorization:"Bearer ".concat(e)}});h(t.data||[])}catch(e){console.error("Error fetching fee structures:",e)}},le=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/coupons",{headers:{Authorization:"Bearer ".concat(e)}});f(t.data||[])}catch(e){console.error("Error fetching coupons:",e)}},ce=async()=>{Q(!0);try{await Promise.all([se(),ae(),ie(),oe(),le()])}catch(e){console.error("Error refreshing data:",e)}finally{Q(!1)}};(0,t.useEffect)(()=>{ce();const e=setInterval(ce,5e3);return()=>clearInterval(e)},[]),(0,t.useEffect)(()=>{if(V){const e=c.filter(e=>e.full_name.toLowerCase().includes(V.toLowerCase())||e.admission_number.toLowerCase().includes(V.toLowerCase()));Y(e),X(!0)}else Y(c),X(!1)},[V,c]),(0,t.useEffect)(()=>{if(k.student_id){const e=c.find(e=>e.id===parseInt(k.student_id));if(L(e),e)if((async e=>{try{const t=localStorage.getItem("token"),n=await Ua.get("/branches/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});H(n.data)}catch(t){console.error("Error fetching branch details:",t)}})(e.branch_id),e.courses&&e.courses.length>0){const t=e.courses.reduce((e,t)=>e+parseFloat(t.discounted_price||0),0);W(t),F(t)}else W(0),F(0)}else L(null),W(0),F(0),H(null)},[k.student_id,c]),(0,t.useEffect)(()=>{if(K>0){let e=K;if(I){const t=A.find(e=>e.id==I);t&&("percentage"===t.discount_type?e-=e*parseFloat(t.discount_value)/100:"fixed"===t.discount_type&&(e-=parseFloat(t.discount_value)))}k.branch_discount_percent&&(e-=e*parseFloat(k.branch_discount_percent)/100),k.branch_discount_amount&&(e-=parseFloat(k.branch_discount_amount)),e<0&&(e=0),F(e)}},[K,I,k.branch_discount_percent,k.branch_discount_amount,A]);const de=e=>{ne===e?(re("all"),$(e=>N(N({},e),{},{status:""}))):(re(e),"paid"===e?$(e=>N(N({},e),{},{status:"paid"})):"pending"===e&&$(e=>N(N({},e),{},{status:""})))},ue=(e,t)=>{$(n=>N(N({},n),{},{[e]:t}))},he=()=>{$({studentName:"",status:"",dateFrom:"",dateTo:"",course:""}),re("all")};(0,t.useEffect)(()=>{k.branch_discount_percent&&k.branch_discount_amount&&pi.warning("Only one discount type can be applied at a time. Percentage discount will be used.")},[k.branch_discount_percent,k.branch_discount_amount]);const Ae=e=>{const t=c.find(t=>t.id===e);return t?t.full_name:"Student ID: ".concat(e)},fe=e=>{switch(e){case"paid":return"sf-badge-green";case"partial":return"sf-badge-orange";case"unpaid":return"sf-badge-red";default:return"sf-badge-gray"}},me=(()=>{let e=a;if(Z.studentName&&(e=e.filter(e=>Ae(e.student_id).toLowerCase().includes(Z.studentName.toLowerCase()))),Z.status&&(e=e.filter(e=>e.status===Z.status)),Z.course&&(e=e.filter(e=>e.course_id==Z.course)),Z.dateFrom&&(e=e.filter(e=>new Date(e.created_at)>=new Date(Z.dateFrom))),Z.dateTo){const t=new Date(Z.dateTo);t.setHours(23,59,59,999),e=e.filter(e=>new Date(e.created_at)<=t)}return"paid"===ne?e=e.filter(e=>"paid"===e.status):"pending"===ne&&(e=e.filter(e=>"partial"===e.status||"unpaid"===e.status)),ee.key&&e.sort((e,t)=>{let n=e[ee.key],r=t[ee.key];return"created_at"===ee.key?(n=new Date(n),r=new Date(r)):ee.key.includes("amount")&&(n=parseFloat(n||0),r=parseFloat(r||0)),n<r?"asc"===ee.direction?-1:1:n>r?"asc"===ee.direction?1:-1:0}),e})(),pe=a.reduce((e,t)=>e+parseFloat(t.total_fee||0),0),ge=a.reduce((e,t)=>e+parseFloat(t.paid_amount||0),0),xe=a.reduce((e,t)=>e+parseFloat(t.pending_amount||0),0),be=()=>{p(!1),w(null),q(""),L(null),W(0),F(0),D(""),H(null)},ye=e=>{const{name:t,value:n}=e.target;B(N(N({},k),{},{[t]:n}))};return(0,mr.jsxs)("div",{className:"student-fees-container",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3}),(0,mr.jsx)("header",{className:"sf-header",children:(0,mr.jsxs)("div",{className:"sf-header-content",children:[(0,mr.jsxs)("div",{className:"sf-header-left",children:[(0,mr.jsx)("div",{className:"sf-logo",children:(0,mr.jsx)("i",{className:"fas fa-money-bill-wave"})}),(0,mr.jsxs)("div",{className:"sf-header-text",children:[(0,mr.jsx)("h1",{children:"Student Fee Management"}),(0,mr.jsx)("p",{children:"Manage student fees and payments"})]})]}),(0,mr.jsx)("div",{className:"sf-header-right",children:(0,mr.jsxs)("button",{onClick:()=>{B({student_id:"",fee_type:"Tuition",payment_mode:"one-time",number_of_installments:"",coupon_id:"",branch_discount_percent:"",branch_discount_amount:""}),q(""),L(null),W(0),F(0),D(""),H(null),p(!0)},className:"bg-blue-600 border border-x-white text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2",children:[(0,mr.jsx)("i",{className:"fas fa-plus"}),"Generate Fee"]})})]})}),(0,mr.jsxs)("main",{className:"sf-main",children:[(0,mr.jsxs)("div",{className:"sf-stats-grid",children:[(0,mr.jsx)("div",{className:"sf-stat-card ".concat("all"===ne?"sf-stat-card-active":""),onClick:()=>de("all"),style:{cursor:"pointer"},children:(0,mr.jsxs)("div",{className:"sf-stat-content",children:[(0,mr.jsx)("div",{className:"sf-stat-icon bg-blue",children:(0,mr.jsx)("i",{className:"fas fa-money-bill"})}),(0,mr.jsxs)("div",{className:"sf-stat-text",children:[(0,mr.jsx)("p",{children:"Total Fees"}),(0,mr.jsxs)("h3",{children:["\u20b9",pe.toLocaleString()]}),(0,mr.jsxs)("span",{className:"sf-stat-subtitle",children:[a.length," records"]})]}),"all"===ne&&(0,mr.jsx)("div",{className:"sf-stat-active-indicator",children:(0,mr.jsx)("i",{className:"fas fa-filter"})})]})}),(0,mr.jsx)("div",{className:"sf-stat-card ".concat("paid"===ne?"sf-stat-card-active":""),onClick:()=>de("paid"),style:{cursor:"pointer"},children:(0,mr.jsxs)("div",{className:"sf-stat-content",children:[(0,mr.jsx)("div",{className:"sf-stat-icon bg-green",children:(0,mr.jsx)("i",{className:"fas fa-check-circle"})}),(0,mr.jsxs)("div",{className:"sf-stat-text",children:[(0,mr.jsx)("p",{children:"Paid Amount"}),(0,mr.jsxs)("h3",{children:["\u20b9",ge.toLocaleString()]}),(0,mr.jsxs)("span",{className:"sf-stat-subtitle",children:[pe>0?Math.round(ge/pe*100):0,"% collected"]})]}),"paid"===ne&&(0,mr.jsx)("div",{className:"sf-stat-active-indicator",children:(0,mr.jsx)("i",{className:"fas fa-filter"})})]})}),(0,mr.jsx)("div",{className:"sf-stat-card ".concat("pending"===ne?"sf-stat-card-active":""),onClick:()=>de("pending"),style:{cursor:"pointer"},children:(0,mr.jsxs)("div",{className:"sf-stat-content",children:[(0,mr.jsx)("div",{className:"sf-stat-icon bg-red",children:(0,mr.jsx)("i",{className:"fas fa-exclamation-circle"})}),(0,mr.jsxs)("div",{className:"sf-stat-text",children:[(0,mr.jsx)("p",{children:"Pending Amount"}),(0,mr.jsxs)("h3",{children:["\u20b9",xe.toLocaleString()]}),(0,mr.jsxs)("span",{className:"sf-stat-subtitle",children:[pe>0?Math.round(xe/pe*100):0,"% pending"]})]}),"pending"===ne&&(0,mr.jsx)("div",{className:"sf-stat-active-indicator",children:(0,mr.jsx)("i",{className:"fas fa-filter"})})]})})]}),"all"!==ne&&(0,mr.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-4",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)("i",{className:"fas fa-filter text-blue-500"}),(0,mr.jsxs)("span",{className:"text-blue-800 font-medium",children:["Showing ","paid"===ne?"Paid":"Pending"," Fees","pending"===ne&&" (Partial + Unpaid)"]}),(0,mr.jsxs)("span",{className:"bg-blue-100 text-blue-800 px-2 py-1 rounded text-sm",children:[me.length," records"]})]}),(0,mr.jsxs)("button",{onClick:he,className:"text-blue-600 hover:text-blue-800 text-sm font-medium flex items-center gap-1",children:[(0,mr.jsx)("i",{className:"fas fa-times"}),"Clear Filter"]})]})}),(0,mr.jsxs)("div",{className:"bg-white shadow-md rounded-lg p-6",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-800",children:"Filters"}),(0,mr.jsxs)("button",{onClick:he,className:"flex items-center gap-2 text-sm text-red-500 hover:text-white hover:bg-red-500 border border-red-500 px-3 py-1 rounded transition-colors",children:[(0,mr.jsx)("i",{className:"fas fa-times"})," Clear All"]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 lg:grid-cols-5 gap-4",children:[(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-gray-600 mb-1 font-medium",children:"Student Name"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search student...",value:Z.studentName,onChange:e=>ue("studentName",e.target.value),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-gray-600 mb-1 font-medium",children:"Status"}),(0,mr.jsxs)("select",{value:Z.status,onChange:e=>ue("status",e.target.value),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[(0,mr.jsx)("option",{value:"",children:"All Status"}),(0,mr.jsx)("option",{value:"paid",children:"Paid"}),(0,mr.jsx)("option",{value:"partial",children:"Partial"}),(0,mr.jsx)("option",{value:"unpaid",children:"Unpaid"})]})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-gray-600 mb-1 font-medium",children:"Course"}),(0,mr.jsxs)("select",{value:Z.course,onChange:e=>ue("course",e.target.value),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400",children:[(0,mr.jsx)("option",{value:"",children:"All Courses"}),o.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-gray-600 mb-1 font-medium",children:"From Date"}),(0,mr.jsx)("input",{type:"date",value:Z.dateFrom,onChange:e=>ue("dateFrom",e.target.value),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]}),(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("label",{className:"text-gray-600 mb-1 font-medium",children:"To Date"}),(0,mr.jsx)("input",{type:"date",value:Z.dateTo,onChange:e=>ue("dateTo",e.target.value),className:"border border-gray-300 rounded px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-400"})]})]})]}),(0,mr.jsxs)("div",{className:"sf-table-container",children:[(0,mr.jsxs)("div",{className:"sf-table-header",children:[(0,mr.jsxs)("h2",{children:["Student Fees (",me.length,")"]}),(0,mr.jsx)("div",{className:"sf-table-actions",children:R&&(0,mr.jsx)("div",{className:"sf-loading-indicator"})})]}),(0,mr.jsxs)("div",{className:"sf-table-wrapper",children:[(0,mr.jsxs)("table",{className:"sf-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"sf-sortable-header",children:(0,mr.jsx)("div",{className:"sf-header-content",children:"Student"})}),(0,mr.jsx)("th",{className:"sf-sortable-header",children:(0,mr.jsx)("div",{className:"sf-header-content",children:"Total Fee"})}),(0,mr.jsx)("th",{className:"sf-sortable-header",children:(0,mr.jsx)("div",{className:"sf-header-content",children:"Paid Amount"})}),(0,mr.jsx)("th",{className:"sf-sortable-header",children:(0,mr.jsx)("div",{className:"sf-header-content",children:"Pending Amount"})}),(0,mr.jsx)("th",{className:"sf-sortable-header",children:(0,mr.jsx)("div",{className:"sf-header-content",children:"Status"})}),(0,mr.jsx)("th",{className:"sf-sortable-header",children:(0,mr.jsx)("div",{className:"sf-header-content",children:"Created Date"})}),(0,mr.jsx)("th",{children:"Actions"})]})}),(0,mr.jsx)("tbody",{children:me.map((e,t)=>{var n;return(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:(0,mr.jsxs)("div",{className:"sf-student-info",children:[(0,mr.jsx)("div",{className:"sf-student-icon",children:t+1}),(0,mr.jsx)("div",{children:(0,mr.jsx)("div",{className:"sf-student-name",children:(null===(n=e.student)||void 0===n?void 0:n.name)||Ae(e.student_id)})})]})}),(0,mr.jsxs)("td",{className:"sf-amount",children:["\u20b9",parseFloat(e.total_fee||0).toLocaleString()]}),(0,mr.jsxs)("td",{className:"sf-amount",children:["\u20b9",parseFloat(e.paid_amount||0).toLocaleString()]}),(0,mr.jsxs)("td",{className:"sf-amount",children:["\u20b9",parseFloat(e.pending_amount||0).toLocaleString()]}),(0,mr.jsx)("td",{children:(0,mr.jsx)("span",{className:"sf-badge ".concat(fe(e.status)),children:e.status})}),(0,mr.jsx)("td",{children:(0,mr.jsxs)("div",{className:"sf-date",children:[new Date(e.created_at).toLocaleDateString(),(0,mr.jsx)("div",{className:"sf-time",children:new Date(e.created_at).toLocaleTimeString()})]})}),(0,mr.jsx)("td",{children:(0,mr.jsx)("div",{className:"sf-actions",children:(0,mr.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=(await Ua.get("/studentfee/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data;_(n),O(n.installments||[]),x(!0)}catch(t){console.error("Error fetching student fee details:",t),pi.error("Failed to fetch fee details")}})(e.id),className:"sf-action-btn text-blue",title:"View Details",children:(0,mr.jsx)("i",{className:"fas fa-eye"})})})})]},e.id)})})]}),0===me.length&&(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center py-10 px-4 text-center  bg-white rounded-xl border border-gray-200 shadow-sm",children:[(0,mr.jsx)("div",{className:"flex items-center justify-center w-14 h-14 rounded-full  bg-blue-100 text-blue-600 mb-4",children:(0,mr.jsx)("i",{className:"fas fa-search text-2xl"})}),(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"No fees found"}),(0,mr.jsx)("p",{className:"text-sm text-gray-500 mt-1",children:"Try adjusting your filters or generate a new fee"})]})]})]})]}),m&&(0,mr.jsx)("div",{className:"sf-modal-backdrop",children:(0,mr.jsxs)("div",{className:"sf-modal",style:{maxWidth:"900px"},children:[(0,mr.jsxs)("div",{className:"sf-modal-header",children:[(0,mr.jsx)("h3",{children:"Generate Student Fee"}),(0,mr.jsx)("button",{onClick:be,className:"sf-modal-close",children:(0,mr.jsx)("i",{className:"fas fa-times"})})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{var t;if(e.preventDefault(),E)if(0!==K)if(k.fee_type)if("installments"!==k.payment_mode||k.number_of_installments&&!(k.number_of_installments<2)){if(k.branch_discount_percent&&k.branch_discount_amount&&pi.warning("Both discount types applied. Using percentage discount only."),t=k.student_id,!u.some(e=>e.student_id===parseInt(t))||window.confirm("This student already has a fee structure. Do you want to proceed anyway?"))try{const e=localStorage.getItem("token"),t={student_id:parseInt(k.student_id),course_id:E.courses&&E.courses.length>0?parseInt(E.courses[0].id):null,fee_type:k.fee_type,amount:M>0?M:K,payment_mode:k.payment_mode,number_of_installments:"installments"===k.payment_mode?parseInt(k.number_of_installments):0,coupon_id:k.coupon_id?parseInt(k.coupon_id):null,branch_id:E.branch_id,branch_discount_percent:k.branch_discount_percent?parseFloat(k.branch_discount_percent):0,branch_discount_amount:k.branch_discount_amount?parseFloat(k.branch_discount_amount):0,total_courses_amount:K,courses_count:E.courses?E.courses.length:0},n=await Ua.post("/fee-structures",t,{headers:{Authorization:"Bearer ".concat(e)}}),r={student_id:parseInt(k.student_id),course_id:E.courses&&E.courses.length>0?parseInt(E.courses[0].id):null,fee_structure_id:n.data.id,total_courses_amount:K,courses_count:E.courses?E.courses.length:0};await Ua.post("/studentfee",r,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Fee generated successfully for all courses!"),be(),ce()}catch(n){console.error("Error creating fee structure and student fee:",n),pi.error("Failed to generate fee")}}else pi.error("Please enter valid number of installments (minimum 2)");else pi.error("Please select fee type");else pi.error("Student is not enrolled in any course or course fee is zero");else pi.error("Please select a student")},className:"sf-modal-form",children:[(0,mr.jsxs)("div",{className:"sf-form-grid",style:{gridTemplateColumns:"1fr 1fr"},children:[(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{className:"sf-required",children:"Student"}),(0,mr.jsxs)("div",{className:"sf-search-container",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search student by name or admission number",value:V,onChange:e=>q(e.target.value),onFocus:()=>X(!0),className:"sf-search-input",required:!0}),J&&(0,mr.jsx)("div",{className:"sf-search-dropdown",children:G.map(e=>(0,mr.jsxs)("div",{className:"sf-search-dropdown-item",onClick:()=>(e=>{B(t=>N(N({},t),{},{student_id:e.id})),q("".concat(e.full_name," .")),X(!1)})(e),children:[(0,mr.jsx)("div",{className:"sf-dropdown-student-name",children:e.full_name}),(0,mr.jsx)("div",{className:"sf-dropdown-courses",children:e.courses&&e.courses.length>0?"".concat(e.courses.length," course(s) enrolled"):"No courses enrolled"})]},e.id))})]})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{className:"sf-required",children:"Fee Type"}),(0,mr.jsxs)("select",{name:"fee_type",value:k.fee_type,onChange:ye,required:!0,children:[(0,mr.jsx)("option",{value:"Tuition",children:"Tuition"}),(0,mr.jsx)("option",{value:"Exam",children:"Exam"}),(0,mr.jsx)("option",{value:"Library",children:"Library"}),(0,mr.jsx)("option",{value:"Miscellaneous",children:"Miscellaneous"})]})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{className:"sf-required",children:"Payment Mode"}),(0,mr.jsxs)("select",{name:"payment_mode",value:k.payment_mode,onChange:ye,required:!0,children:[(0,mr.jsx)("option",{value:"one-time",children:"One-time"}),(0,mr.jsx)("option",{value:"installments",children:"Installments"})]})]}),"installments"===k.payment_mode&&(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{className:"sf-required",children:"Number of Installments"}),(0,mr.jsx)("input",{type:"number",name:"number_of_installments",value:k.number_of_installments,onChange:ye,min:"2",max:"12",required:!0,placeholder:"Enter installments (2-12)"})]}),z&&(0,mr.jsxs)("div",{className:"sf-form-group col-span-2",children:[(0,mr.jsx)("label",{children:"Branch Discount Limits"}),(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 border border-blue-200 rounded-lg p-4",children:(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsxs)("div",{className:"text-2xl font-bold text-blue-600",children:[z.branch.discount_range,"%"]}),(0,mr.jsx)("div",{className:"text-sm text-blue-800 font-medium",children:"Max Percentage Discount"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["\u20b9",parseFloat(z.branch.discount_amount).toLocaleString()]}),(0,mr.jsx)("div",{className:"text-sm text-green-800 font-medium",children:"Max Amount Discount"})]})]})})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Branch Discount %"}),(0,mr.jsx)("input",{type:"number",name:"branch_discount_percent",value:k.branch_discount_percent,onChange:ye,min:"0",max:(null===z||void 0===z||null===(e=z.branch)||void 0===e?void 0:e.discount_range)||100,step:"0.01",placeholder:"Enter discount percentage"}),z&&(0,mr.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Max: ",z.branch.discount_range,"%"]})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Branch Discount Amount (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"branch_discount_amount",value:k.branch_discount_amount,onChange:ye,min:"0",max:(null===z||void 0===z||null===(n=z.branch)||void 0===n?void 0:n.discount_amount)||0,step:"0.01",placeholder:"Enter discount amount"}),z&&(0,mr.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["Max: \u20b9",parseFloat(z.branch.discount_amount).toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"sf-form-group",children:[(0,mr.jsx)("label",{children:"Apply Coupon"}),(0,mr.jsxs)("div",{className:"sf-coupon-section",children:[(0,mr.jsxs)("select",{value:I,onChange:e=>D(e.target.value),className:"sf-coupon-select",disabled:!E,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Coupon --"}),A.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.code," (",e.discount_type," - ",e.discount_value,")"]},e.id))]}),(0,mr.jsx)("button",{type:"button",onClick:()=>{if(!I)return void pi.warning("Please select a coupon first");const e=A.find(e=>e.id==I);if(!e)return void pi.error("Selected coupon not found");let t=K;"percentage"===e.discount_type?t-=t*parseFloat(e.discount_value)/100:"fixed"===e.discount_type&&(t-=parseFloat(e.discount_value)),k.branch_discount_percent&&(t-=t*parseFloat(k.branch_discount_percent)/100),k.branch_discount_amount&&(t-=parseFloat(k.branch_discount_amount)),t<0&&(t=0),F(t),B(e=>N(N({},e),{},{coupon_id:I})),pi.success("Coupon applied! New fee: \u20b9".concat(t.toLocaleString()))},className:"sf-apply-coupon-btn",disabled:!E,children:"Apply"})]})]}),(0,mr.jsxs)("div",{className:"sf-form-group col-span-2",children:[(0,mr.jsx)("label",{children:"Course Information"}),E?E.courses&&E.courses.length>0?(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg shadow-sm overflow-hidden mt-2",children:[(0,mr.jsx)("div",{className:"bg-gray-50 px-4 py-3 border-b border-gray-200",children:(0,mr.jsxs)("h4",{className:"text-lg font-semibold text-gray-800 flex items-center gap-2",children:[(0,mr.jsx)("i",{className:"fas fa-book text-blue-500"}),"Enrolled Courses - Total: \u20b9",K.toLocaleString()]})}),(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course Code"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Duration"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Original Price"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Discounted Price"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:E.courses.map((e,t)=>(0,mr.jsxs)("tr",{className:t%2===0?"bg-white":"bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900",children:e.course_name}),(0,mr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:e.course_code}),(0,mr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:e.duration||"N/A"}),(0,mr.jsx)("td",{className:"px-4 py-3 whitespace-nowrap text-sm text-gray-600",children:e.original_price?"\u20b9".concat(parseFloat(e.original_price).toLocaleString()):"N/A"}),(0,mr.jsxs)("td",{className:"px-4 py-3 whitespace-nowrap text-sm font-semibold text-green-600",children:["\u20b9",parseFloat(e.discounted_price||0).toLocaleString()]})]},e.id))}),(0,mr.jsx)("tfoot",{className:"bg-gray-100",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{colSpan:"3",className:"px-4 py-3 text-sm font-medium text-gray-900 text-right",children:"Total:"}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900",children:null!==(r=E.courses[0])&&void 0!==r&&r.original_price?"\u20b9".concat(parseFloat(E.courses.reduce((e,t)=>e+parseFloat(t.original_price||0),0)).toLocaleString()):"N/A"}),(0,mr.jsxs)("td",{className:"px-4 py-3 text-sm font-medium text-green-700",children:["\u20b9",K.toLocaleString()]})]})})]})})]}):(0,mr.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)("i",{className:"fas fa-exclamation-triangle text-yellow-500 text-lg"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h5",{className:"font-medium text-yellow-800",children:"No Courses Enrolled"}),(0,mr.jsx)("p",{className:"text-sm text-yellow-700",children:"This student is not enrolled in any courses"})]})]})}):(0,mr.jsxs)("div",{className:"bg-gray-50 border border-gray-200 rounded-lg p-4 text-center",children:[(0,mr.jsx)("i",{className:"fas fa-user-graduate text-gray-400 text-2xl mb-2"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Please select a student first"})]})]}),M>0&&K>0&&(0,mr.jsx)("div",{className:"sf-form-group col-span-2",children:(0,mr.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-lg p-4",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("h4",{className:"text-lg font-semibold text-green-800 flex items-center gap-2",children:[(0,mr.jsx)("i",{className:"fas fa-tag"}),"Fee Summary"]}),(0,mr.jsxs)("p",{className:"text-sm text-green-700 mt-1",children:["Original Total: \u20b9",K.toLocaleString()," | Final Fee: \u20b9",M.toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsxs)("div",{className:"text-2xl font-bold text-green-600",children:["\u20b9",M.toLocaleString()]}),(0,mr.jsx)("div",{className:"text-sm text-green-700",children:"After all discounts"})]})]})})})]}),(0,mr.jsxs)("div",{className:"sf-modal-actions",children:[(0,mr.jsx)("button",{type:"button",onClick:be,className:"sf-cancel-btn",children:"Cancel"}),(0,mr.jsxs)("button",{type:"submit",className:"sf-save-btn",disabled:!E||0===K,children:[(0,mr.jsx)("i",{className:"fas fa-save"}),"Generate Single Fee"]})]})]})]})}),g&&j&&(0,mr.jsx)("div",{className:"sf-modal-backdrop",children:(0,mr.jsxs)("div",{className:"sf-modal sf-view-modal",children:[(0,mr.jsxs)("div",{className:"sf-modal-header",children:[(0,mr.jsx)("h3",{children:"Fee Details"}),(0,mr.jsx)("button",{onClick:()=>{x(!1),_(null),U(null),O([])},className:"sf-modal-close",children:(0,mr.jsx)("i",{className:"fas fa-times"})})]}),(0,mr.jsxs)("div",{className:"sf-view-content",children:[(0,mr.jsxs)("div",{className:"sf-view-grid",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{children:"Student Information"}),(0,mr.jsx)("div",{className:"sf-info-box",children:j.student?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("p",{className:"sf-info-title",children:[(0,mr.jsx)("strong",{children:"Name:"})," ",j.student.full_name]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Admission No:"})," ",j.student.admission_number]})]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("p",{className:"sf-info-title",children:[(0,mr.jsx)("strong",{children:"Name:"})," ",Ae(j.student_id)]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Admission No:"})," ",(e=>{const t=c.find(t=>t.id===e);return t?t.admission_number:"N/A"})(j.student_id)]})]})})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{children:"Fee Information"}),(0,mr.jsxs)("div",{className:"sf-info-box",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Total Fee:"})," \u20b9",parseFloat(j.total_fee||0).toLocaleString()]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Paid Amount:"})," \u20b9",parseFloat(j.paid_amount||0).toLocaleString()]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Pending Amount:"})," \u20b9",parseFloat(j.pending_amount||0).toLocaleString()]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Status:"}),(0,mr.jsx)("span",{className:"sf-badge ".concat(fe(j.status)),children:j.status})]})]})]})]}),T.length>0&&(0,mr.jsxs)("div",{className:"installment-section",children:[(0,mr.jsx)("h3",{className:"installment-title",children:"\ud83d\udcc5 Installment Schedule"}),(0,mr.jsx)("div",{className:"installment-box",children:(0,mr.jsxs)("table",{className:"installment-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"Installment #"}),(0,mr.jsx)("th",{children:"Due Date"}),(0,mr.jsx)("th",{children:"Installment Amount"}),(0,mr.jsx)("th",{children:"Adjusted Amount"}),(0,mr.jsx)("th",{children:"Status"})]})}),(0,mr.jsx)("tbody",{children:T.map((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:e.installment_number}),(0,mr.jsx)("td",{children:e.due_date?new Date(e.due_date).toLocaleDateString():"N/A"}),(0,mr.jsxs)("td",{children:["\u20b9",parseFloat(e.amount||0).toLocaleString()]}),(0,mr.jsxs)("td",{children:["\u20b9",parseFloat(e.adjusted_amount||0).toLocaleString()]}),(0,mr.jsx)("td",{children:(0,mr.jsx)("span",{className:"sf-badge ".concat(fe(e.status)),children:e.status})})]},e.id||t))})]})})]}),j.payments&&j.payments.length>0&&(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"installment-title",children:"Payment History"}),(0,mr.jsx)("div",{className:"sf-info-box",children:(0,mr.jsx)("div",{className:"sf-payments-list",children:(0,mr.jsxs)("table",{className:"sf-payments-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"#"}),(0,mr.jsx)("th",{children:"Amount Paid"}),(0,mr.jsx)("th",{children:"Payment Date"}),(0,mr.jsx)("th",{children:"Payment Mode"})]})}),(0,mr.jsx)("tbody",{children:j.payments.map((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:t+1}),(0,mr.jsxs)("td",{children:["\u20b9",parseFloat(e.amount_paid||0).toLocaleString()]}),(0,mr.jsx)("td",{children:new Date(e.payment_date).toLocaleDateString()}),(0,mr.jsx)("td",{children:e.payment_mode||"N/A"})]},e.id||t))})]})})})]})]})]})})]})},$S=()=>{var e,n;const[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)([]),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(""),[j,_]=(0,t.useState)(""),[C,S]=(0,t.useState)(null),[k,B]=(0,t.useState)([]),[E,L]=(0,t.useState)(!0),[M,F]=(0,t.useState)(!1),[I,D]=(0,t.useState)([]),[T,O]=(0,t.useState)([]),[P,U]=(0,t.useState)(null),[R,Q]=(0,t.useState)("before_7_days"),[z,H]=(0,t.useState)({studentName:"",dateFrom:"",dateTo:"",status:"all"}),[K,W]=(0,t.useState)({key:"",direction:"asc"}),[V,q]=(0,t.useState)({total_fee:"",due_date:"",paid_amount:"",discount:"",penalty:""}),[G,Y]=(0,t.useState)({payment_date:(new Date).toISOString().split("T")[0],payment_mode:"cash",amount_paid:"",note:""}),J=JSON.parse(localStorage.getItem("user")||"{}").branch_id;(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/fee-structures",{headers:{Authorization:"Bearer ".concat(e)}});D(t.data||[])}catch(e){console.error("Error fetching fee structures:",e)}})()},[]);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>e.student&&e.student.branch_id===J);d(t||[]),h(t||[]),L(!1)}catch(e){console.error("Error fetching fee records:",e),L(!1)}})()},[J]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>e.branch_id===J);p(t||[])}catch(e){console.error("Error fetching courses:",e)}})()},[J]),(0,t.useEffect)(()=>{(async()=>{if(v)try{const e=localStorage.getItem("token"),t=((await Ua.get("/courses/".concat(v,"/show"),{headers:{Authorization:"Bearer ".concat(e)}})).data.students||[]).filter(e=>e.branch_id===J);x(t)}catch(e){console.error("Error fetching students:",e)}})()},[v,J]),(0,t.useEffect)(()=>{let e=[...c];z.studentName&&(e=e.filter(e=>{var t,n;return null===(t=e.student)||void 0===t||null===(n=t.full_name)||void 0===n?void 0:n.toLowerCase().includes(z.studentName.toLowerCase())})),z.dateFrom&&(e=e.filter(e=>new Date(e.created_at||e.due_date)>=new Date(z.dateFrom))),z.dateTo&&(e=e.filter(e=>{const t=new Date(e.created_at||e.due_date),n=new Date(z.dateTo);return n.setHours(23,59,59,999),t<=n})),"all"!==z.status&&(e=e.filter(e=>"paid"===z.status?0===e.pending_amount:"pending"===z.status?e.pending_amount>0:"advance"!==z.status||e.pending_amount<0)),K.key&&e.sort((e,t)=>{var n,r,s,a;let i,o;switch(K.key){case"student_name":i=(null===(n=e.student)||void 0===n||null===(r=n.full_name)||void 0===r?void 0:r.toLowerCase())||"",o=(null===(s=t.student)||void 0===s||null===(a=s.full_name)||void 0===a?void 0:a.toLowerCase())||"";break;case"total_fee":i=parseFloat(e.total_fee)||0,o=parseFloat(t.total_fee)||0;break;case"paid_amount":i=parseFloat(e.paid_amount)||0,o=parseFloat(t.paid_amount)||0;break;case"pending_amount":i=parseFloat(e.pending_amount)||0,o=parseFloat(t.pending_amount)||0;break;case"due_date":i=new Date(e.due_date||e.created_at),o=new Date(t.due_date||t.created_at);break;default:return 0}return i<o?"asc"===K.direction?-1:1:i>o?"asc"===K.direction?1:-1:0}),h(e)},[z,K,c]);const X=(e,t)=>{H(n=>N(N({},n),{},{[e]:t}))},Z=(e,t)=>{var n;const r=new g_.default("p","mm","a4"),s=r.internal.pageSize.getWidth(),a=10,i=n=>{var i,o,l;let c=n;var d;r.line(0,c,s,c),c+=10,c+=3,r.setFont("helvetica","bold"),r.setFontSize(20),r.text("FEE RECEIPT",a,c),r.setFont("helvetica","normal"),r.setFontSize(12),r.text("Admission No.: ".concat((null===t||void 0===t||null===(i=t.student)||void 0===i?void 0:i.admission_number)||""),s-90,c),c+=8,r.text("Date: ".concat((d=null===e||void 0===e?void 0:e.payment_date)?new Date(d).toLocaleDateString():""),s-90,c),c+=10,r.line(a,c,s-a,c),c+=12;const u=s/2;var h;r.line(u,c-40,u,c-12),r.setFont("helvetica","bold"),r.text("Name of Student :",a,c),r.setFont("helvetica","normal"),r.text("".concat((null===t||void 0===t||null===(o=t.student)||void 0===o?void 0:o.full_name)||""),50,c),c+=7,r.setFont("helvetica","bold"),r.text("Guardian Name :",a,c),r.setFont("helvetica","normal"),r.text("".concat((null===t||void 0===t||null===(l=t.student)||void 0===l?void 0:l.guardian_name)||""),50,c),c+=7,r.setFont("helvetica","bold"),r.text("Name of Course :",a,c),r.setFont("helvetica","normal"),r.text("".concat((e=>{if(!e)return"N/A";if(Array.isArray(e.courses)&&e.courses.length>0)return e.courses.map(e=>e.course_name).join(", ");if(Array.isArray(e.course_ids)&&e.course_ids.length>0)return e.course_ids.map(e=>{const t=m.find(t=>t.id===Number(e));return t?t.course_name:null}).filter(Boolean).join(", ");if(e.course_id){const t=m.find(t=>t.id===Number(e.course_id));return t?t.course_name:"N/A"}return"N/A"})(t)),50,c),c+=7,r.line(a,c,s-a,c),c+=14,r.setFont("helvetica","bold"),r.text("Paid Amount :",a,c),r.setFont("helvetica","italic"),r.text((e=>{if(0===e)return"Zero";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=e=>e<20?t[e]:e<100?n[Math.floor(e/10)]+(e%10?" "+t[e%10]:""):e<1e3?t[Math.floor(e/100)]+" Hundred"+(e%100?" "+r(e%100):""):e<1e5?r(Math.floor(e/1e3))+" Thousand"+(e%1e3?" "+r(e%1e3):""):e<1e7?r(Math.floor(e/1e5))+" Lakh"+(e%1e5?" "+r(e%1e5):""):r(Math.floor(e/1e7))+" Crore"+(e%1e7?" "+r(e%1e7):"");return r(e)+" Rupees Only"})(Number((null===e||void 0===e?void 0:e.amount_paid)||0)),45,c),r.rect(s-70,c-6,60,16,"S"),r.setFont("helvetica","bold"),r.setFontSize(16),r.text("Rs. ".concat((h=null===e||void 0===e?void 0:e.amount_paid,Number(h||0).toString())),s-65,c+3),c+=18,r.line(a,c,s-a,c),c+=14,r.setFont("helvetica","normal"),r.setFontSize(12),r.text("Student Sign :  ".concat((null===e||void 0===e?void 0:e.received_by)||""),a,c),r.text("Payment Mode :  ".concat((null===e||void 0===e?void 0:e.payment_mode)||""),s-120,c),r.rect(s-60,c-8,50,20),r.setFont("helvetica","bold"),r.text("Sign & Seal",s-55,c+1),c+=22;const A=n+148-24;r.setFillColor(0,0,0),r.rect(0,A,s,24,"F"),r.addImage("https://i.postimg.cc/c4S3VP48/sinfode-seal.png","PNG",a,A+3,18,18),r.setTextColor(255,255,255),r.setFontSize(14),r.text("SINFODE PRIVATE LIMITED",s/2,A+8,{align:"center"}),r.setFontSize(8),r.text("www.sinfode.com | info@sinfode.com | +91-9676306970",s/2,A+14,{align:"center"}),r.text("Opp. Sanskrit College, Near Kalyan Circle, Sikar - 332001 (Raj.)",s/2,A+20,{align:"center"}),r.setTextColor(0,0,0)};i(0),i(148);const o=((null===t||void 0===t||null===(n=t.student)||void 0===n?void 0:n.full_name)||"student").replace(/\s+/g,"_");r.save("Fee_Receipt_".concat(o,"_").concat(null===e||void 0===e?void 0:e.id,".pdf"))},$=g.filter(e=>{var t;return!b||(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===b}),ee=()=>{s(!1)},te=()=>{i(!1),S(null)},ne=()=>{l(!1),S(null),B([])},re=e=>{const{name:t,value:n}=e.target;q(N(N({},V),{},{[t]:n}))},se=e=>{const{name:t,value:n}=e.target;Y(N(N({},G),{},{[t]:n}))},ae=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-IN")},ie=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(e);return E?(0,mr.jsx)("div",{className:"loading",children:"Loading fee records..."}):(0,mr.jsxs)("div",{className:"collection-container",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3}),(0,mr.jsx)("div",{className:"collection-header",children:(0,mr.jsx)("h1",{children:"Fee Collection Management"})}),(0,mr.jsxs)("div",{className:"stats-cards",children:[(0,mr.jsxs)("div",{className:"stat-card",children:[(0,mr.jsx)("div",{className:"stat-icon total",children:(0,mr.jsx)("i",{className:"fas fa-receipt"})}),(0,mr.jsxs)("div",{className:"stat-info",children:[(0,mr.jsx)("h3",{children:c.length}),(0,mr.jsx)("p",{children:"Total Fee Records"})]})]}),(0,mr.jsxs)("div",{className:"stat-card",children:[(0,mr.jsx)("div",{className:"stat-icon paid",children:(0,mr.jsx)("i",{className:"fas fa-check-circle"})}),(0,mr.jsxs)("div",{className:"stat-info",children:[(0,mr.jsx)("h3",{children:c.filter(e=>0===e.pending_amount).length}),(0,mr.jsx)("p",{children:"Fully Paid"})]})]}),(0,mr.jsxs)("div",{className:"stat-card",children:[(0,mr.jsx)("div",{className:"stat-icon pending",children:(0,mr.jsx)("i",{className:"fas fa-clock"})}),(0,mr.jsxs)("div",{className:"stat-info",children:[(0,mr.jsx)("h3",{children:c.filter(e=>e.pending_amount>0).length}),(0,mr.jsx)("p",{children:"Pending Payments"})]})]}),(0,mr.jsxs)("div",{className:"stat-card",children:[(0,mr.jsx)("div",{className:"stat-icon advance",children:(0,mr.jsx)("i",{className:"fas fa-plus-circle"})}),(0,mr.jsxs)("div",{className:"stat-info",children:[(0,mr.jsx)("h3",{children:c.filter(e=>e.pending_amount<0).length}),(0,mr.jsx)("p",{children:"Advance Payments"})]})]})]}),(0,mr.jsxs)("div",{className:"filter-section",children:[(0,mr.jsx)("h3",{children:"Filters & Sorting"}),(0,mr.jsxs)("div",{className:"filter-row",children:[(0,mr.jsxs)("div",{className:"filter-group",children:[(0,mr.jsx)("label",{children:"Student Name:"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search by student name...",value:z.studentName,onChange:e=>X("studentName",e.target.value)})]}),(0,mr.jsxs)("div",{className:"filter-group",children:[(0,mr.jsx)("label",{children:"Date From:"}),(0,mr.jsx)("input",{type:"date",value:z.dateFrom,onChange:e=>X("dateFrom",e.target.value)})]}),(0,mr.jsxs)("div",{className:"filter-group",children:[(0,mr.jsx)("label",{children:"Date To:"}),(0,mr.jsx)("input",{type:"date",value:z.dateTo,onChange:e=>X("dateTo",e.target.value)})]}),(0,mr.jsxs)("div",{className:"filter-group",children:[(0,mr.jsx)("label",{children:"Status:"}),(0,mr.jsxs)("select",{value:z.status,onChange:e=>X("status",e.target.value),children:[(0,mr.jsx)("option",{value:"all",children:"All Status"}),(0,mr.jsx)("option",{value:"paid",children:"Paid"}),(0,mr.jsx)("option",{value:"pending",children:"Pending"}),(0,mr.jsx)("option",{value:"advance",children:"Advance"})]})]}),(0,mr.jsx)("button",{className:"bg-blue-600 border border-x-white text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2",onClick:()=>{H({studentName:"",dateFrom:"",dateTo:"",status:"all"}),W({key:"",direction:"asc"})},children:"Clear Filters"})]})]}),(0,mr.jsxs)("div",{className:"table-container",children:[(0,mr.jsxs)("h2",{children:["Fee Records (",u.length," records found)"]}),(0,mr.jsx)("div",{className:"table-responsive",children:(0,mr.jsxs)("table",{className:"fee-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"#"}),(0,mr.jsx)("th",{className:"sortable",children:"Student Name"}),(0,mr.jsx)("th",{className:"sortable",children:"Total Fee                "}),(0,mr.jsx)("th",{className:"sortable",children:"Paid Amount"}),(0,mr.jsx)("th",{className:"sortable",children:"Pending Amount"}),(0,mr.jsx)("th",{children:"Status"}),(0,mr.jsx)("th",{children:"Actions"})]})}),(0,mr.jsx)("tbody",{children:0===u.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"8",className:"no-data",children:"No fee records found"})}):u.map((e,t)=>{var n,r;return(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{className:"serial-number",children:t+1}),(0,mr.jsx)("td",{className:"text-bold",children:null===(n=e.student)||void 0===n?void 0:n.full_name}),(0,mr.jsx)("td",{children:ie(e.total_fee)}),(0,mr.jsx)("td",{children:ie(e.paid_amount)}),(0,mr.jsx)("td",{children:ie(e.pending_amount)}),(0,mr.jsx)("td",{children:(r=e.pending_amount,0===r?(0,mr.jsx)("span",{className:"status-badge paid",children:"Paid"}):r>0?(0,mr.jsx)("span",{className:"status-badge pending",children:"Pending"}):(0,mr.jsx)("span",{className:"status-badge advance",children:"Advance"}))}),(0,mr.jsx)("td",{children:(0,mr.jsxs)("div",{className:"action-buttons",children:[(0,mr.jsx)("button",{onClick:()=>(S(e),Y({payment_date:(new Date).toISOString().split("T")[0],payment_mode:"cash",amount_paid:"",note:""}),void i(!0)),className:"btn btn-sm btn-primary",children:"Pay"}),e.payments&&e.payments.length>0&&(0,mr.jsx)("button",{onClick:()=>{return S(t=e),B(t.payments||[]),void l(!0);var t},className:"btn btn-sm btn-info payment-history-btn",title:"View Payment History",children:(0,mr.jsx)("i",{className:"fas fa-history"})})]})})]},e.id)})})]})})]}),r&&(0,mr.jsx)("div",{className:"modal-backdrop",children:(0,mr.jsxs)("div",{className:"modal",children:[(0,mr.jsxs)("div",{className:"modal-header",children:[(0,mr.jsx)("h3",{children:"Add Fee Collection"}),(0,mr.jsx)("button",{onClick:ee,className:"modal-close",children:"\xd7"})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j)try{const e=localStorage.getItem("token"),t={student_id:j,course_name:v,total_fee:V.total_fee,due_date:V.due_date,paid_amount:V.paid_amount,discount:V.discount,penalty:V.penalty},n=(await Ua.post("/studentfee",t,{headers:{Authorization:"Bearer ".concat(e)}}),(await Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>e.student&&e.student.branch_id===J));d(n||[]),h(n||[]),pi.success("Fee record saved successfully!"),ee()}catch(t){console.error("Error saving fee data:",t),pi.error("Error saving fee data. Please try again.")}else pi.error("Please select a student")},className:"modal-form",children:[(0,mr.jsxs)("div",{className:"form-row",children:[(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Branch"}),(0,mr.jsxs)("select",{value:b,onChange:e=>y(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),A.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Course"}),(0,mr.jsxs)("select",{value:v,onChange:e=>w(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"Select Course"}),m.filter(e=>{var t;return!b||(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===b}).map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.course_name," (",e.course_code,")"]},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Student"}),(0,mr.jsxs)("select",{value:j,onChange:e=>_(e.target.value),required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Student"}),$.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.name," - ",e.email]},e.id))]})]}),(0,mr.jsxs)("div",{className:"form-row",children:[(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Total Fee (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"total_fee",value:V.total_fee,onChange:re,step:"0.01",min:"0",required:!0})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Due Date"}),(0,mr.jsx)("input",{type:"date",name:"due_date",value:V.due_date,onChange:re})]})]}),(0,mr.jsxs)("div",{className:"form-row",children:[(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Paid Amount (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"paid_amount",value:V.paid_amount,onChange:re,step:"0.01",min:"0",required:!0})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Discount (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"discount",value:V.discount,onChange:re,step:"0.01",min:"0"})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Penalty (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"penalty",value:V.penalty,onChange:re,step:"0.01",min:"0"})]})]}),(0,mr.jsxs)("div",{className:"modal-actions",children:[(0,mr.jsx)("button",{type:"button",onClick:ee,className:"btn btn-secondary",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Fee Collection"})]})]})]})}),M&&P&&(0,mr.jsx)("div",{className:"modal-backdrop",children:(0,mr.jsxs)("div",{className:"modal reminder-modal",children:[(0,mr.jsxs)("div",{className:"modal-header",children:[(0,mr.jsxs)("h3",{children:[(0,mr.jsx)("i",{className:"fas fa-bell"}),"Send Fee Reminder to ",P.full_name]}),(0,mr.jsx)("button",{onClick:()=>F(!1),className:"modal-close",children:"\xd7"})]}),(0,mr.jsxs)("div",{className:"reminder-content",children:[(0,mr.jsxs)("div",{className:"timing-selection",children:[(0,mr.jsx)("h4",{children:"Reminder Timing"}),(0,mr.jsxs)("div",{className:"timing-options",children:[(0,mr.jsxs)("label",{className:"timing-option",children:[(0,mr.jsx)("input",{type:"radio",name:"reminderTiming",value:"before_7_days",checked:"before_7_days"===R,onChange:e=>Q(e.target.value)}),(0,mr.jsxs)("span",{className:"timing-label",children:[(0,mr.jsx)("i",{className:"fas fa-calendar-minus"}),"7 Days Before Due Date"]})]}),(0,mr.jsxs)("label",{className:"timing-option",children:[(0,mr.jsx)("input",{type:"radio",name:"reminderTiming",value:"on_due_date",checked:"on_due_date"===R,onChange:e=>Q(e.target.value)}),(0,mr.jsxs)("span",{className:"timing-label",children:[(0,mr.jsx)("i",{className:"fas fa-calendar-day"}),"On Due Date"]})]}),(0,mr.jsxs)("label",{className:"timing-option",children:[(0,mr.jsx)("input",{type:"radio",name:"reminderTiming",value:"after_4_days",checked:"after_4_days"===R,onChange:e=>Q(e.target.value)}),(0,mr.jsxs)("span",{className:"timing-label",children:[(0,mr.jsx)("i",{className:"fas fa-calendar-plus"}),"4 Days After Due Date"]})]})]})]}),(0,mr.jsxs)("div",{className:"pending-installments",children:[(0,mr.jsx)("h4",{children:"Pending Installments"}),0===T.length?(0,mr.jsx)("p",{className:"no-installments",children:"No pending installments found."}):(0,mr.jsx)("div",{className:"installments-list",children:T.map(e=>(0,mr.jsx)("div",{className:"installment-item",children:(0,mr.jsxs)("div",{className:"installment-info",children:[(0,mr.jsxs)("div",{className:"installment-number",children:["Installment #",e.installment_number]}),(0,mr.jsxs)("div",{className:"installment-details",children:[(0,mr.jsx)("span",{className:"amount",children:ie(e.amount)}),(0,mr.jsxs)("span",{className:"due-date",children:["Due: ",ae(e.due_date)]})]})]})},e.id))})]})]}),(0,mr.jsx)("div",{className:"modal-actions",children:(0,mr.jsx)("button",{type:"button",onClick:()=>F(!1),className:"btn btn-secondary",children:"Close"})})]})}),a&&C&&(0,mr.jsx)("div",{className:"modal-backdrop",children:(0,mr.jsxs)("div",{className:"modal",children:[(0,mr.jsxs)("div",{className:"modal-header",children:[(0,mr.jsxs)("h3",{children:["Add Payment for ",null===(e=C.student)||void 0===e?void 0:e.full_name]}),(0,mr.jsx)("button",{onClick:te,className:"modal-close",children:"\xd7"})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),C)try{const e=localStorage.getItem("token"),t={student_fee_id:C.id,payment_date:G.payment_date,payment_mode:G.payment_mode,amount_paid:G.amount_paid,note:G.note};await Ua.post("/student-fee-payments",t,{headers:{Authorization:"Bearer ".concat(e)}});const n=(await Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>e.student&&e.student.branch_id===J);d(n||[]),h(n||[]),pi.success("Payment recorded successfully!"),te()}catch(t){console.error("Error saving payment:",t),pi.error("Error saving payment. Please try again.")}else pi.error("No fee record selected")},className:"modal-form",children:[(0,mr.jsxs)("div",{className:"form-row",children:[(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Payment Date"}),(0,mr.jsx)("input",{type:"date",name:"payment_date",value:G.payment_date,onChange:se,required:!0})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Payment Mode"}),(0,mr.jsxs)("select",{name:"payment_mode",value:G.payment_mode,onChange:se,required:!0,children:[(0,mr.jsx)("option",{value:"cash",children:"Cash"}),(0,mr.jsx)("option",{value:"online",children:"Online"}),(0,mr.jsx)("option",{value:"cheque",children:"Cheque"}),(0,mr.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Amount Paid (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"amount_paid",value:G.amount_paid,onChange:se,step:"0.01",min:"0",required:!0})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Note"}),(0,mr.jsx)("textarea",{name:"note",value:G.note,onChange:se,rows:"3"})]}),(0,mr.jsxs)("div",{className:"payment-summary",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Total Fee:"})," ",ie(C.total_fee)]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Already Paid:"})," ",ie(C.paid_amount)]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Pending Amount:"})," ",ie(C.pending_amount)]})]}),(0,mr.jsxs)("div",{className:"modal-actions",children:[(0,mr.jsx)("button",{type:"button",onClick:te,className:"btn btn-secondary",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Record Payment"})]})]})]})}),o&&C&&(0,mr.jsx)("div",{className:"modal-backdrop",children:(0,mr.jsxs)("div",{className:"modal payment-history-modal",children:[(0,mr.jsxs)("div",{className:"modal-header",children:[(0,mr.jsxs)("h3",{children:["Payment History for ",null===(n=C.student)||void 0===n?void 0:n.full_name]}),(0,mr.jsx)("button",{onClick:ne,className:"modal-close",children:"\xd7"})]}),(0,mr.jsxs)("div",{className:"payment-history-content",children:[(0,mr.jsxs)("div",{className:"fee-summary",children:[(0,mr.jsx)("h4",{children:"Fee Summary"}),(0,mr.jsxs)("div",{className:"summary-grid",children:[(0,mr.jsxs)("div",{className:"summary-item",children:[(0,mr.jsx)("label",{children:"Total Fee:"}),(0,mr.jsx)("span",{children:ie(C.total_fee)})]}),(0,mr.jsxs)("div",{className:"summary-item",children:[(0,mr.jsx)("label",{children:"Paid Amount:"}),(0,mr.jsx)("span",{children:ie(C.paid_amount)})]}),(0,mr.jsxs)("div",{className:"summary-item",children:[(0,mr.jsx)("label",{children:"Pending Amount:"}),(0,mr.jsx)("span",{children:ie(C.pending_amount)})]})]})]}),(0,mr.jsxs)("div",{className:"payment-history-list",children:[(0,mr.jsx)("h4",{children:"Payment Transactions"}),0===k.length?(0,mr.jsx)("p",{className:"no-payments",children:"No payments recorded yet."}):(0,mr.jsx)("div",{className:"payment-table-container",children:(0,mr.jsxs)("table",{className:"payment-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"#"}),(0,mr.jsx)("th",{children:"Date"}),(0,mr.jsx)("th",{children:"Amount"}),(0,mr.jsx)("th",{children:"Mode"}),(0,mr.jsx)("th",{children:"Receipt"})]})}),(0,mr.jsx)("tbody",{children:k.map((e,t)=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{className:"serial-number",children:t+1}),(0,mr.jsx)("td",{children:ae(e.payment_date)}),(0,mr.jsx)("td",{children:ie(e.amount_paid)}),(0,mr.jsx)("td",{children:(0,mr.jsx)("span",{className:"payment-mode ".concat(e.payment_mode),children:e.payment_mode})}),(0,mr.jsx)("td",{children:(0,mr.jsx)("button",{className:"btn-download-receipt",onClick:()=>Z(e,C),title:"Download Receipt",children:(0,mr.jsx)("i",{className:"fas fa-download"})})})]},e.id))})]})})]})]}),(0,mr.jsx)("div",{className:"modal-actions",children:(0,mr.jsx)("button",{type:"button",onClick:ne,className:"btn btn-secondary",children:"Close"})})]})})]})},ek=()=>{const[e,n]=(0,t.useState)("overdue"),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!1),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)({studentName:"",amountRange:"",dueDate:""}),[g,x]=(0,t.useState)({key:"",direction:"asc"}),b=JSON.parse(localStorage.getItem("user")||"{}").branch_id;(0,t.useEffect)(()=>{(async()=>{h(!0);try{const t=localStorage.getItem("token"),n=((await Ua.get("/fee-reminders?type=".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data.data||[]).filter(e=>e.fee_structure.student.branch_id===b);"overdue"===e?s(n):"today"===e?i(n):l(n),d(n)}catch(t){console.error("Error fetching ".concat(e," data:"),t)}finally{h(!1)}})()},[e,b]),(0,t.useEffect)(()=>{let e=y();if(m.studentName&&(e=e.filter(e=>e.fee_structure.student.full_name.toLowerCase().includes(m.studentName.toLowerCase()))),m.amountRange){parseFloat(m.amountRange);e=e.filter(e=>{const t=parseFloat(e.amount);switch(m.amountRange){case"0-1000":return t<=1e3;case"1000-5000":return t>1e3&&t<=5e3;case"5000+":return t>5e3;default:return!0}})}if(m.dueDate){new Date;const t=new Date(m.dueDate);e=e.filter(e=>new Date(e.due_date).toDateString()===t.toDateString())}g.key&&e.sort((e,t)=>{let n,r;switch(g.key){case"student_name":n=e.fee_structure.student.full_name.toLowerCase(),r=t.fee_structure.student.full_name.toLowerCase();break;case"amount":n=parseFloat(e.amount),r=parseFloat(t.amount);break;case"due_date":n=new Date(e.due_date),r=new Date(t.due_date);break;case"installment_number":n=parseInt(e.installment_number),r=parseInt(t.installment_number);break;default:return 0}return n<r?"asc"===g.direction?-1:1:n>r?"asc"===g.direction?1:-1:0}),d(e)},[m,g,r,a,o,e]);const y=()=>"overdue"===e?r:"today"===e?a:o,v=(e,t)=>{p(n=>N(N({},n),{},{[e]:t}))},w=()=>{p({studentName:"",amountRange:"",dueDate:""}),x({key:"",direction:"asc"})};return(0,mr.jsxs)("div",{className:"p-6 max-w-6xl mx-auto",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-blue-800",children:"Fee Reminder"}),(0,mr.jsx)("div",{className:"flex justify-center mb-8",children:(0,mr.jsx)("div",{className:"flex gap-2 bg-gray-200 p-1 rounded-full",children:["overdue","today","upcoming"].map(t=>(0,mr.jsx)("button",{onClick:()=>n(t),className:"px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(e===t?"bg-[#3F8CFF] text-white":"bg-transparent text-gray-600 hover:bg-gray-300"),children:"overdue"===t?"Overdue":"today"===t?"Today":"Upcoming (7 Days)"},t))})}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow p-4 mb-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4 text-gray-700",children:"Filters & Sorting"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Student Name"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search student...",value:m.studentName,onChange:e=>v("studentName",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Amount Range"}),(0,mr.jsxs)("select",{value:m.amountRange,onChange:e=>v("amountRange",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,mr.jsx)("option",{value:"",children:"All Amounts"}),(0,mr.jsx)("option",{value:"0-1000",children:"\u20b90 - \u20b91,000"}),(0,mr.jsx)("option",{value:"1000-5000",children:"\u20b91,000 - \u20b95,000"}),(0,mr.jsx)("option",{value:"5000+",children:"\u20b95,000+"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:"Due Date"}),(0,mr.jsx)("input",{type:"date",value:m.dueDate,onChange:e=>v("dueDate",e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),(0,mr.jsx)("div",{className:"flex items-end",children:(0,mr.jsx)("button",{onClick:w,className:"bg-blue-600 border border-x-white text-white px-4 py-2 rounded-xl hover:bg-blue-700 transition-colors flex items-center gap-2",children:"Clear Filters"})})]})]}),(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:u?(0,mr.jsxs)("div",{className:"p-8 text-center",children:[(0,mr.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),(0,mr.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading data..."})]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-b",children:(0,mr.jsxs)("p",{className:"text-sm text-gray-600",children:["Showing ",c.length," of ",y().length," records",m.studentName||m.amountRange||m.dueDate?" (filtered)":""]})}),c.length>0?(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,mr.jsx)("div",{className:"flex items-center gap-1",children:"Student"})}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,mr.jsx)("div",{className:"flex items-center gap-1",children:"Installment"})}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,mr.jsx)("div",{className:"flex items-center gap-1",children:"Amount"})}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider cursor-pointer hover:bg-gray-100",children:(0,mr.jsx)("div",{className:"flex items-center gap-1",children:"Due Date"})}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Action"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:c.map((t,n)=>{return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("div",{className:"flex items-center",children:(0,mr.jsx)("div",{className:"ml-4",children:(0,mr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.fee_structure.student.full_name})})})}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:["Installment #",t.installment_number]}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:(s=t.amount,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(s))}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(r=t.due_date,new Date(r).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full \n                            ".concat("overdue"===e?"bg-red-100 text-red-800":"today"===e?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:"overdue"===e?"Overdue":"today"===e?"Due Today":"Upcoming"})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("button",{onClick:()=>(async e=>{try{f(e);const t=localStorage.getItem("token"),n=await Ua.post("/send-manual-reminder",{installment_id:e},{headers:{Authorization:"Bearer ".concat(t)}});pi.success(n.data.message||"Reminder sent successfully!")}catch(r){var t,n;console.error("Error sending reminder:",r),pi.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to send reminder")}finally{f(null)}})(t.id),disabled:A===t.id,className:"px-3 py-1 rounded-md text-white text-sm font-medium ".concat(A===t.id?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"),children:A===t.id?"Sending...":"Send Reminder"})})]},t.id);var r,s})})]})}):(0,mr.jsxs)("div",{className:"p-8 text-center",children:[(0,mr.jsx)("p",{className:"text-gray-500",children:0===y().length?"No ".concat(e," fees found for your branch."):"No records match your current filters."}),(m.studentName||m.amountRange||m.dueDate)&&(0,mr.jsx)("button",{onClick:w,className:"mt-2 px-4 py-2 bg-blue-500 text-white rounded-md hover:bg-blue-600 transition-colors",children:"Clear Filters"})]})]})}),(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3})]})};function tk(){const[e,n]=(0,t.useState)("fees");return(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsxs)("div",{className:"w-60 bg-white rounded-xl shadow-md p-4 space-y-3",children:[(0,mr.jsx)("button",{onClick:()=>n("fees"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("fees"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcb0 Fees Structure"}),(0,mr.jsx)("button",{onClick:()=>n("collection"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("collection"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcb0 Fees Collection"}),(0,mr.jsx)("button",{onClick:()=>n("reminder"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("reminder"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\u23f0 Fee Reminder"})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto",children:["fees"===e&&(0,mr.jsx)(ZS,{}),"collection"===e&&(0,mr.jsx)($S,{}),"reminder"===e&&(0,mr.jsx)(ek,{})]})]})})}const nk=function(){const[e,n]=(0,t.useState)((new Date).toISOString().slice(0,7)),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}");h(e.branch_id)},[]);const A=()=>{l(null),d(null)},f=r.reduce((e,t)=>{const n=t.student_id;return e[n]||(e[n]={student:t.student,records:[]}),e[n].records.push(t),e},{}),m=(()=>{if(!e||!c)return[];const[t,n]=e.split("-").map(Number),r=new Date(t,n-1,1),s=new Date(t,n,0).getDate(),a=r.getDay(),i=[];for(let e=0;e<a;e++)i.push({date:null,status:null});for(let e=1;e<=s;e++){const r="".concat(t,"-").concat(n.toString().padStart(2,"0"),"-").concat(e.toString().padStart(2,"0")),s=c.find(e=>e.date.startsWith(r));i.push({date:r,status:s?s.status:null,isWeekend:0===new Date(t,n-1,e).getDay()||6===new Date(t,n-1,e).getDay()})}return i})(),p=(()=>{if(!c)return{present:0,absent:0,percentage:0};const e=c.filter(e=>"Present"===e.status).length,t=c.filter(e=>"Absent"===e.status).length,n=e+t;return{present:e,absent:t,percentage:n>0?Math.round(e/n*100):0}})();return(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"\ud83d\udcca Monthly Attendance Report"}),(0,mr.jsxs)("div",{className:"flex gap-6 bg-white shadow-md rounded-xl p-6 mb-6",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Month"}),(0,mr.jsx)("input",{type:"month",className:"border rounded-lg p-2 w-full",value:e,onChange:e=>n(e.target.value)})]}),(0,mr.jsx)("div",{className:"flex items-end",children:(0,mr.jsx)("button",{onClick:async()=>{if(!u||!e)return alert("Select month first");i(!0);try{const t=localStorage.getItem("token"),n=await Ua.get("/attendance/monthly",{headers:{Authorization:"Bearer ".concat(t)},params:{month:e,branch_id:parseInt(u)}});s(n.data||[])}catch(t){console.error("Error fetching attendance:",t),alert("\u274c Failed to fetch attendance")}finally{i(!1)}},className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",disabled:!u,children:"\ud83d\udd0d View Report"})})]}),a&&(0,mr.jsx)("p",{className:"text-gray-500",children:"\u23f3 Fetching attendance..."}),Object.values(f).length>0?(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,mr.jsxs)("table",{className:"w-full border-collapse",children:[(0,mr.jsx)("thead",{className:"bg-indigo-600 text-white",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"p-3 text-left",children:"Admission No"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Student Name"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Total Present"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Total Absent"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Action"})]})}),(0,mr.jsx)("tbody",{children:Object.values(f).map(t=>{let{student:n,records:s}=t;const a=s.filter(e=>"Present"===e.status).length,i=s.filter(e=>"Absent"===e.status).length;return(0,mr.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"p-3",children:n.admission_number}),(0,mr.jsx)("td",{className:"p-3 font-medium",children:n.full_name}),(0,mr.jsx)("td",{className:"p-3 text-green-600 font-semibold",children:a}),(0,mr.jsx)("td",{className:"p-3 text-red-500 font-semibold",children:i}),(0,mr.jsx)("td",{className:"p-3",children:(0,mr.jsx)("button",{onClick:()=>(async t=>{l(t);try{const n=localStorage.getItem("token"),r=await Ua.get("/attendance/student/".concat(t.id),{headers:{Authorization:"Bearer ".concat(n)},params:{month:e,branch_id:parseInt(u)}});d(r.data||[])}catch(n){console.error("Error fetching student details:",n);const e=r.filter(e=>e.student_id===t.id);d(e)}})(n),className:"px-3 py-1 text-sm bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200",children:"View Details"})})]},n.id)})})]})}):!a&&(0,mr.jsx)("p",{className:"text-center text-gray-500 mt-6",children:"\ud83d\udeab No attendance data found for this month"}),o&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[(0,mr.jsxs)("h3",{className:"text-xl font-semibold",children:["\ud83d\udcc5 Attendance Details for ",o.full_name]}),(0,mr.jsx)("button",{onClick:A,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-blue-600",children:"Admission No"}),(0,mr.jsx)("p",{className:"font-semibold",children:o.admission_number})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-green-600",children:"Month"}),(0,mr.jsx)("p",{className:"font-semibold",children:new Date(e+"-01").toLocaleString("default",{month:"long",year:"numeric"})})]}),(0,mr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-purple-600",children:"Attendance Percentage"}),(0,mr.jsxs)("p",{className:"font-semibold",children:[p.percentage,"%"]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-around mb-6 bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:p.present}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Days Present"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:p.absent}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Days Absent"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:p.present+p.absent}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Days"})]})]}),(0,mr.jsx)("h4",{className:"text-lg font-medium mb-4",children:"Daily Attendance"}),(0,mr.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,mr.jsx)("div",{className:"text-center font-medium text-gray-600 py-2",children:e},e))}),(0,mr.jsx)("div",{className:"grid grid-cols-7 gap-2",children:m.map((e,t)=>(0,mr.jsx)("div",{className:"min-h-12 rounded-lg flex flex-col items-center justify-center p-1\n                      ".concat(e.isWeekend?"bg-gray-100":"bg-white"," \n                      ").concat("Present"===e.status?"bg-green-700 text-green-700 border border-green-300":"","\n                      ").concat("Absent"===e.status?"bg-red-700 text-red-700 border border-red-300":"","\n                      ").concat(e.date?"border":"invisible"),children:e.date&&(0,mr.jsx)(mr.Fragment,{children:(0,mr.jsx)("span",{className:"text-xs font-medium",children:new Date(e.date).getDate()})})},t))}),(0,mr.jsxs)("div",{className:"flex justify-center mt-6 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-green-700 border border-green-300 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Present"})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-red-700 border border-red-300 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Absent"})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-gray-100 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Weekend/Holiday"})]})]})]}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-white border-t p-4 flex justify-end",children:(0,mr.jsx)("button",{onClick:A,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]})};const rk=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)({}),[a,i]=(0,t.useState)((new Date).toISOString().split("T")[0]),[o,l]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}");l(e.branch_id)},[]),(0,t.useEffect)(()=>{if(!o)return;(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===o.toString()}))}catch(e){console.error("Error fetching staff:",e)}})()},[o]);const c=(e,t)=>{s(n=>N(N({},n),{},{[e]:t}))};return(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-cyan-500 text-white flex items-center justify-between shadow-lg border-b-4 border-indigo-600 mb-6 rounded-xl px-6 py-4",children:[(0,mr.jsx)("h1",{className:"text-[30px] mb-2 font-nunito",children:"Staff Attendance"}),(0,mr.jsxs)("p",{className:"text-white text-lg",children:["Today: ",a]})]}),(0,mr.jsx)("div",{className:"bg-white shadow-md rounded-xl p-6 mb-6",children:(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Date"}),(0,mr.jsx)("input",{type:"date",className:"border rounded-lg p-2 w-full",value:a,onChange:e=>i(e.target.value)})]})}),e.length>0?(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,mr.jsxs)("div",{className:"p-6 space-y-4",children:[e.map(e=>{var t;return(0,mr.jsxs)("div",{className:"flex items-center justify-between p-4 border border-gray-200 rounded-lg hover:bg-gray-50 transition-colors",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"w-12 h-12 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold",children:null===(t=e.employee_name)||void 0===t?void 0:t.split(" ").map(e=>e[0]).join("")}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-800",children:e.employee_name}),(0,mr.jsxs)("p",{className:"text-xs text-gray-500",children:["Role:"," ",e.designation]})]})]}),(0,mr.jsxs)("div",{className:"flex space-x-2",children:[(0,mr.jsx)("button",{onClick:()=>c(e.id,"Present"),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 ".concat("Present"===r[e.id]?"bg-green-500 text-white":"bg-gray-100 text-gray-700 hover:bg-green-100"),children:"\u2705 Present"}),(0,mr.jsx)("button",{onClick:()=>c(e.id,"Absent"),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 ".concat("Absent"===r[e.id]?"bg-red-500 text-white":"bg-gray-100 text-gray-700 hover:bg-red-100"),children:"\u274c Absent"}),(0,mr.jsx)("button",{onClick:()=>c(e.id,"Halfday"),className:"px-4 py-2 rounded-lg font-medium transition-all duration-200 ".concat("Halfday"===r[e.id]?"bg-yellow-500 text-white":"bg-gray-100 text-gray-700 hover:bg-red-100"),children:"Halfday"})]})]},e.id)}),(0,mr.jsxs)("div",{className:"mt-6 flex justify-end space-x-4",children:[(0,mr.jsx)("button",{onClick:()=>{const t={};e.forEach(e=>{t[e.id]="Present"}),s(t)},className:"px-6 py-2 bg-green-400 text-white rounded-lg hover:bg-green-600 transition-colors",children:"Mark All Present"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t={branch_id:parseInt(o),date:a,attendances:Object.entries(r).map(e=>{let[t,n]=e;return{staff_id:parseInt(t),status:n,reason:null}})};await Ua.post("/staff/attendance",t,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success(" Staff Attendance saved successfully!"),s({})}catch(e){console.error(e),pi.error(" Error saving attendance")}},className:"px-6 py-3 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors font-medium",children:"Save Attendance"})]})]})}):o&&(0,mr.jsx)("p",{className:"text-center text-gray-500 mt-6",children:"\ud83d\udeab No staff found for your branch"})]})};const sk=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)((new Date).toISOString().slice(0,7)),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[A,f]=(0,t.useState)(null),m=JSON.parse(localStorage.getItem("user")||"{}").branch_id;(0,t.useEffect)(()=>{(async()=>{if(m)try{const e=localStorage.getItem("token"),t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)},params:{branch_id:parseInt(m)}});n(t.data||[])}catch(e){console.error("Error fetching staff:",e)}})()},[m]);const p=()=>{h(null),f(null)},g=Array.isArray(o)&&o.length>0?o.reduce((e,t)=>{const n=t.staff_id;return e[n]||(e[n]={staff:t.staff,records:[]}),e[n].records.push(t),e},{}):{},x=(()=>{if(!a||!A||!Array.isArray(A))return[];const[e,t]=a.split("-").map(Number),n=new Date(e,t-1,1),r=new Date(e,t,0).getDate(),s=n.getDay(),i=[];for(let a=0;a<s;a++)i.push({date:null,status:null});for(let a=1;a<=r;a++){const n="".concat(e,"-").concat(t.toString().padStart(2,"0"),"-").concat(a.toString().padStart(2,"0")),r=A.find(e=>e.attendance_date&&e.attendance_date.startsWith(n));i.push({date:n,status:r?r.status:null,isWeekend:0===new Date(e,t-1,a).getDay()||6===new Date(e,t-1,a).getDay()})}return i})(),b=(()=>{if(!A||!Array.isArray(A))return{present:0,absent:0,percentage:0};const e=A.filter(e=>"Present"===e.status).length,t=A.filter(e=>"Absent"===e.status).length,n=e+t;return{present:e,absent:t,percentage:n>0?Math.round(e/n*100):0}})();return(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"\ud83d\udcca Staff Attendance Report"}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-4 bg-white shadow-md rounded-xl p-6 mb-6",children:[(0,mr.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Month"}),(0,mr.jsx)("input",{type:"month",className:"border rounded-lg p-2 w-full",value:a,onChange:e=>i(e.target.value)})]}),(0,mr.jsxs)("div",{className:"flex-1 min-w-[200px]",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Staff"}),(0,mr.jsxs)("select",{className:"border rounded-lg p-2 w-full",value:r,onChange:e=>s(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"-- Select Staff --"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.employee_name},e.id))]})]}),(0,mr.jsx)("div",{className:"flex items-end",children:(0,mr.jsx)("button",{onClick:async()=>{if(!r||!a)return alert("Select month and staff member first");d(!0);try{const e=localStorage.getItem("token"),[t,n]=a.split("-"),s=await Ua.get("/staff/attendance/history",{headers:{Authorization:"Bearer ".concat(e)},params:{branch_id:parseInt(m),staff_id:parseInt(r),month:parseInt(n),year:parseInt(t)}}),i=s.data&&s.data.data?s.data.data:[];l(Array.isArray(i)?i:[])}catch(e){console.error("Error fetching attendance:",e),alert("\u274c Failed to fetch attendance"),l([])}finally{d(!1)}},disabled:!r,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",children:"View Report"})})]}),c&&(0,mr.jsx)("p",{className:"text-gray-500",children:"\u23f3 Fetching attendance..."}),Array.isArray(o)&&o.length>0?(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,mr.jsxs)("table",{className:"w-full border-collapse",children:[(0,mr.jsx)("thead",{className:"bg-indigo-600 text-white",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"p-3 text-left",children:"Staff ID"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Staff Name"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Total Present"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Total Absent"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Action"})]})}),(0,mr.jsx)("tbody",{children:Object.values(g).map(e=>{let{staff:t,records:n}=e;const r=n.filter(e=>"Present"===e.status).length,s=n.filter(e=>"Absent"===e.status).length;return(0,mr.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"p-3",children:t.id}),(0,mr.jsx)("td",{className:"p-3 font-medium",children:t.employee_name}),(0,mr.jsx)("td",{className:"p-3 text-green-600 font-semibold",children:r}),(0,mr.jsx)("td",{className:"p-3 text-red-500 font-semibold",children:s}),(0,mr.jsx)("td",{className:"p-3",children:(0,mr.jsx)("button",{onClick:()=>(async e=>{h(e);try{const t=localStorage.getItem("token"),[n,r]=a.split("-"),s=await Ua.get("/staff/attendance/history",{headers:{Authorization:"Bearer ".concat(t)},params:{branch_id:parseInt(m),staff_id:e.id,month:parseInt(r),year:parseInt(n)}}),i=s.data&&s.data.data?s.data.data:[];f(Array.isArray(i)?i:[])}catch(t){console.error("Error fetching staff details:",t);const n=Array.isArray(o)?o.filter(t=>t.staff_id===e.id):[];f(n)}})(t),className:"px-3 py-1 text-sm bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200",children:"View Details"})})]},t.id)})})]})}):!c&&(0,mr.jsx)("p",{className:"text-center text-gray-500 mt-6",children:r?"\ud83d\udeab No attendance data found for this month & staff member":"\ud83d\udc49 Select a staff member to view attendance"}),u&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[(0,mr.jsxs)("h3",{className:"text-xl font-semibold",children:["\ud83d\udcc5 Attendance Details for ",u.employee_name]}),(0,mr.jsx)("button",{onClick:p,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-blue-600",children:"Staff ID"}),(0,mr.jsx)("p",{className:"font-semibold",children:u.id})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-green-600",children:"Month"}),(0,mr.jsx)("p",{className:"font-semibold",children:new Date(a+"-01").toLocaleString("default",{month:"long",year:"numeric"})})]}),(0,mr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-purple-600",children:"Attendance Percentage"}),(0,mr.jsxs)("p",{className:"font-semibold",children:[b.percentage,"%"]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-around mb-6 bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:b.present}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Days Present"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:b.absent}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Days Absent"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:b.present+b.absent}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Days"})]})]}),(0,mr.jsx)("h4",{className:"text-lg font-medium mb-4",children:"Daily Attendance"}),(0,mr.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,mr.jsx)("div",{className:"text-center font-medium text-gray-600 py-2",children:e},e))}),(0,mr.jsx)("div",{className:"grid grid-cols-7 gap-2",children:x.map((e,t)=>(0,mr.jsx)("div",{className:"min-h-12 rounded-lg flex flex-col items-center justify-center p-1\n                      ".concat(e.isWeekend?"bg-gray-100":"bg-white"," \n                      ").concat("Present"===e.status?"bg-green-700 text-gray-700 border border-green-300":"","\n                      ").concat("Absent"===e.status?"bg-red-700 text-red-700 border border-red-300":"","\n                      ").concat(e.date?"border":"invisible"),children:e.date&&(0,mr.jsx)(mr.Fragment,{children:(0,mr.jsx)("span",{className:"text-xs font-medium",children:new Date(e.date).getDate()})})},t))}),(0,mr.jsxs)("div",{className:"flex justify-center mt-6 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-green-700 border border-green-300 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Present"})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-red-700 border border-red-300 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Absent"})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-gray-100 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Weekend/Holiday"})]})]})]}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-white border-t p-4 flex justify-end",children:(0,mr.jsx)("button",{onClick:p,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]})};function ak(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)({}),[c,d]=(0,t.useState)((new Date).toISOString().split("T")[0]),[u,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){console.error("Error fetching courses:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(a){h(!0);try{const e=localStorage.getItem("token"),t=(await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>{var t;return null===(t=e.courses)||void 0===t?void 0:t.some(e=>e.id.toString()===a)});s(t||[])}catch(e){console.error("Error fetching students:",e),s([])}finally{h(!1)}}else s([])})()},[a]);const A=(e,t)=>{l(n=>N(N({},n),{},{[e]:t}))},f=Object.values(o).filter(e=>"Present"===e).length,m=Object.values(o).filter(e=>"Absent"===e).length;return(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-cyan-500 text-white flex items-center justify-between shadow-lg border-b-4 border-indigo-600 mb-6 rounded-xl px-6 py-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-[30px] mb-2 font-nunito",children:"Student Attendance"}),(0,mr.jsxs)("p",{className:"text-white text-lg",children:["Today: ",new Date(c).toLocaleDateString("en-IN")]})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsxs)("div",{className:"text-sm opacity-90",children:["Marked: ",f+m," / ",r.length]}),(0,mr.jsxs)("div",{className:"text-sm opacity-90",children:["Present: ",f," | Absent: ",m]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-md rounded-xl p-6 mb-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Select Course *"}),(0,mr.jsxs)("select",{className:"border border-gray-300 rounded-lg p-3 w-full focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:a,onChange:e=>{i(e.target.value),l({})},children:[(0,mr.jsx)("option",{value:"",children:"-- Select Course --"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Select Date"}),(0,mr.jsx)("input",{type:"date",className:"border border-gray-300 rounded-lg p-3 w-full focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:c,onChange:e=>d(e.target.value)})]})]}),a&&(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),(0,mr.jsx)("div",{className:"text-sm text-blue-800",children:"Total Students"})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-green-600",children:f}),(0,mr.jsx)("div",{className:"text-sm text-green-800",children:"Marked Present"})]}),(0,mr.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:m}),(0,mr.jsx)("div",{className:"text-sm text-orange-800",children:"Marked Absent"})]}),(0,mr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:r.length-(f+m)}),(0,mr.jsx)("div",{className:"text-sm text-purple-800",children:"Pending"})]})]})}),r.length>0&&(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3 justify-center",children:[(0,mr.jsx)("button",{onClick:()=>{const e={};r.forEach(t=>{e[t.id]="Present"}),l(e)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium flex items-center gap-2",children:"\u2705 Mark All Present"}),(0,mr.jsx)("button",{onClick:()=>{const e={};r.forEach(t=>{e[t.id]="Absent"}),l(e)},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium flex items-center gap-2",children:"\u274c Mark All Absent"}),(0,mr.jsx)("button",{onClick:()=>{l({})},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium flex items-center gap-2",children:"\ud83d\uddd1\ufe0f Clear All"}),(0,mr.jsx)("button",{onClick:async()=>{if(0!==Object.keys(o).length)try{const e=localStorage.getItem("token");h(!0);for(const[t,n]of Object.entries(o))await Ua.post("/attendance/store",{attendance:{student_id:parseInt(t),date:c,status:n,reason:null}},{headers:{Authorization:"Bearer ".concat(e)}});pi.success("\u2705 Attendance saved successfully!"),l({})}catch(e){console.error(e),pi.error("\u274c Error saving attendance")}finally{h(!1)}else pi.warning("\u26a0\ufe0f Please mark attendance for at least one student")},disabled:u||0===Object.keys(o).length,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium flex items-center gap-2",children:u?"\u23f3 Saving...":"\ud83d\udcbe Save Attendance"})]})}),u?(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading students..."})]}):r.length>0?(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,mr.jsx)("div",{className:"p-6 space-y-4",children:r.map(e=>{var t,n,r;const s=null===(t=e.courses)||void 0===t?void 0:t.find(e=>e.id.toString()===a);return(0,mr.jsxs)("div",{className:"flex items-center justify-between p-4 border-2 rounded-lg transition-all ".concat("Present"===o[e.id]?"border-green-200 bg-green-50":"Absent"===o[e.id]?"border-red-200 bg-red-50":"border-gray-200 hover:bg-gray-50"),children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,mr.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:null===(n=e.full_name)||void 0===n?void 0:n.split(" ").map(e=>e[0]).join("").toUpperCase()}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-800 text-lg",children:e.full_name}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mt-1",children:[(0,mr.jsxs)("span",{children:["Admission: #",e.admission_number]}),(0,mr.jsxs)("span",{children:["Contact: ",e.contact_number]}),(0,mr.jsxs)("span",{children:["Batch: ",(null===s||void 0===s||null===(r=s.batch)||void 0===r?void 0:r.batch_name)||"N/A"]})]})]})]}),(0,mr.jsxs)("div",{className:"flex space-x-2",children:[(0,mr.jsx)("button",{onClick:()=>A(e.id,"Present"),className:"px-5 py-3 rounded-lg font-medium transition-all duration-200 min-w-[100px] ".concat("Present"===o[e.id]?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-green-100 hover:text-green-700 border-2 border-green-200"),children:"\u2705 Present"}),(0,mr.jsx)("button",{onClick:()=>A(e.id,"Absent"),className:"px-5 py-3 rounded-lg font-medium transition-all duration-200 min-w-[100px] ".concat("Absent"===o[e.id]?"bg-red-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-red-100 hover:text-red-700 border-2 border-red-200"),children:"\u274c Absent"})]})]},e.id)})})}):a?(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,mr.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdd"}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No students found"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"No students are enrolled in this course"})]}):(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,mr.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc68\u200d\ud83c\udf93"}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Select a Course to View Students"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"Choose a course from the dropdown above to start marking attendance"})]})]})}function ik(){const[e,n]=(0,t.useState)("addAttendance");return(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row h-full gap-6",children:[(0,mr.jsx)("div",{className:"lg:w-80 bg-white rounded-xl shadow-md p-4 space-y-3",children:[{id:"addAttendance",label:"\u2795 Add Student Attendance"},{id:"attendanceList",label:"\ud83d\udccb View Student Attendance"},{id:"staffAttendance",label:"\u2795 Staff Attendance"},{id:"viewStaffAttendance",label:"\ud83d\udccb View Staff Attendance"}].map(t=>(0,mr.jsxs)("button",{onClick:()=>n(t.id),className:"w-full text-left px-4 py-4 rounded-lg transition-all duration-200 flex items-center gap-3 ".concat(e===t.id?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"hover:bg-blue-50 text-gray-700 border border-gray-200"),children:[(0,mr.jsx)("span",{className:"text-lg",children:t.icon}),(0,mr.jsx)("span",{className:"font-medium",children:t.label})]},t.id))}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-4 lg:p-6 overflow-y-auto bg-gray-50",children:["addAttendance"===e&&(0,mr.jsx)(ak,{}),"attendanceList"===e&&(0,mr.jsx)(nk,{}),"staffAttendance"===e&&(0,mr.jsx)(rk,{}),"viewStaffAttendance"===e&&(0,mr.jsx)(sk,{})]})]})})}function ok(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)("leads"),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)(!1),m=JSON.parse(localStorage.getItem("user")||"{}").branch_id,[p,g]=(0,t.useState)({branch_id:m||"",full_name:"",contact_number_primary:"",contact_number_alternate:"",email_address:"",lead_source:"",lead_status:"New",priority:"Medium",notes:"",follow_up_datetime:"",assigned_to:"",course_id:"",budget_range:""});(0,t.useEffect)(()=>{x(),b(),y()},[]);const x=async()=>{try{f(!0);const e=localStorage.getItem("token"),t=await Ua.get("/leads/index",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(e){console.error("Error fetching leads:",e),pi.error("Failed to load leads")}finally{f(!1)}},b=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}});d(t.data||[])}catch(e){console.error("Error fetching staff:",e)}},y=async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];h(t)}catch(e){console.error("Error fetching courses:",e)}},v=e=>{const{id:t,value:n}=e.target;if("contact_number_primary"===t||"contact_number_alternate"===t){const e=n.replace(/\D/g,"").slice(0,10);g(n=>N(N({},n),{},{[t]:e}))}else g(e=>N(N({},e),{},{[t]:n}))},w=e=>{s("leads"),l(e),i("")},j=e.filter(e=>{const t=""===a||e.full_name.toLowerCase().includes(a.toLowerCase())||e.email_address.toLowerCase().includes(a.toLowerCase())||e.contact_number_primary.includes(a),n=""===o||e.lead_status===o;return t&&n}),_=e.length,C=e.filter(e=>"Converted"===e.lead_status).length,S=e.filter(e=>["Contacted","Follow-up","Demo Scheduled"].includes(e.lead_status)).length,k=e.filter(e=>"Lost"===e.lead_status).length;return(0,mr.jsxs)(DS,{children:[(0,mr.jsxs)("div",{className:"min-h-screen",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3}),(0,mr.jsx)("header",{className:"bg-white border-b border-sf-border sf-shadow",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mr.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("div",{className:"w-8 h-8 bg-sf-blue rounded flex items-center justify-center",children:(0,mr.jsx)("i",{className:"fas fa-cloud text-white text-lg"})})}),(0,mr.jsx)("div",{className:"ml-4",children:(0,mr.jsx)("h1",{className:"text-xl font-semibold text-sf-text",children:"Lead Management"})})]})})})}),(0,mr.jsxs)("div",{className:"max-w-full mx-auto sm:px-6 lg:px-8 py-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-lg sf-shadow mb-6",children:(0,mr.jsx)("div",{className:"border-b border-sf-border",children:(0,mr.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,mr.jsxs)("button",{onClick:()=>{s("leads"),l(""),i("")},className:"py-4 px-1 border-b-2 ".concat("leads"===r?"border-sf-blue text-sf-blue":"border-transparent text-sf-text-light hover:text-sf-text"," font-medium text-sm"),children:[(0,mr.jsx)("i",{className:"fas fa-users mr-2"}),"Leads"]}),(0,mr.jsxs)("button",{onClick:()=>s("new-lead"),className:"py-4 px-1 border-b-2 ".concat("new-lead"===r?"border-sf-blue text-sf-blue":"border-transparent text-sf-text-light hover:text-sf-text"," font-medium text-sm"),children:[(0,mr.jsx)("i",{className:"fas fa-plus mr-2"}),"New Lead"]}),(0,mr.jsxs)("button",{onClick:()=>s("reports"),className:"py-4 px-1 border-b-2 ".concat("reports"===r?"border-sf-blue text-sf-blue":"border-transparent text-sf-text-light hover:text-sf-text"," font-medium text-sm"),children:[(0,mr.jsx)("i",{className:"fas fa-chart-bar mr-2"}),"Reports"]})]})})}),"leads"===r&&(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsx)("div",{className:"bg-white rounded-lg sf-shadow p-6",children:(0,mr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold text-sf-text",children:"Leads"}),(0,mr.jsxs)("span",{className:"bg-sf-blue-light text-sf-blue px-3 py-1 rounded-full text-sm font-medium",children:[j.length," item",1!==j.length?"s":""]}),o&&(0,mr.jsxs)("span",{className:"bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-sm font-medium flex items-center",children:["Showing: ",o,(0,mr.jsx)("button",{onClick:()=>l(""),className:"ml-2 text-yellow-600 hover:text-yellow-800",children:(0,mr.jsx)("i",{className:"fas fa-times"})})]})]}),(0,mr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search leads...",className:"pl-10 pr-4 py-2 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent w-64",value:a,onChange:e=>i(e.target.value)}),(0,mr.jsx)("i",{className:"fas fa-search absolute left-3 top-3 text-sf-text-light"})]}),(0,mr.jsxs)("select",{className:"px-4 py-2 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",value:o,onChange:e=>l(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"All Status"}),(0,mr.jsx)("option",{value:"New",children:"New"}),(0,mr.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,mr.jsx)("option",{value:"Follow-up",children:"Follow-up"}),(0,mr.jsx)("option",{value:"Demo Scheduled",children:"Demo Scheduled"}),(0,mr.jsx)("option",{value:"Converted",children:"Converted"}),(0,mr.jsx)("option",{value:"Lost",children:"Lost"})]}),(0,mr.jsxs)("button",{onClick:()=>s("new-lead"),className:"bg-sf-blue hover:bg-sf-blue-dark text-white px-6 py-2 rounded-lg font-medium transition-colors",children:[(0,mr.jsx)("i",{className:"fas fa-plus mr-2"}),"New Lead"]})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-lg sf-shadow overflow-hidden",children:A?(0,mr.jsxs)("div",{className:"p-8 text-center",children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin text-2xl text-sf-blue"}),(0,mr.jsx)("p",{className:"mt-2",children:"Loading leads..."})]}):(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full divide-y divide-sf-border",children:[(0,mr.jsx)("thead",{className:"bg-sf-gray",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Lead"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Contact"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Priority"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Owner"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Source"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-sf-border",children:0===j.length?(0,mr.jsx)("tr",{children:(0,mr.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center text-sf-text-light",children:[(0,mr.jsx)("i",{className:"fas fa-users text-4xl mb-4"}),(0,mr.jsx)("p",{className:"text-lg",children:"No leads found"}),(0,mr.jsx)("p",{className:"text-sm",children:o?'No leads with status "'.concat(o,'" found'):"Create your first lead to get started"}),o&&(0,mr.jsx)("button",{onClick:()=>l(""),className:"mt-2 text-sf-blue hover:text-sf-blue-dark",children:"Clear filter"})]})}):j.map(e=>{var t,n,r;return(0,mr.jsxs)("tr",{className:"hover:bg-sf-gray cursor-pointer",children:[(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,mr.jsx)("div",{className:"h-10 w-10 rounded-full bg-sf-blue flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-sm font-medium text-white",children:e.full_name.charAt(0)})})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("div",{className:"text-sm font-medium text-sf-text",children:e.full_name}),(0,mr.jsx)("div",{className:"text-sm text-sf-text-light",children:e.lead_code})]})]})}),(0,mr.jsxs)("td",{className:"px-6 py-4",children:[(0,mr.jsx)("div",{className:"text-sm text-sf-text",children:e.email_address}),(0,mr.jsx)("div",{className:"text-sm text-sf-text-light",children:e.contact_number_primary})]}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(r=e.lead_status,{New:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"New"}),Contacted:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Contacted"}),"Follow-up":(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Follow-up"}),"Demo Scheduled":(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Demo Scheduled"}),Converted:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Converted"}),Lost:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Lost"})}[r]||(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"}))}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(n=e.priority,{High:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"High"}),Medium:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Medium"}),Low:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Low"})}[n]||(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"}))}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-sf-text",children:(null===(t=e.assigned_to)||void 0===t?void 0:t.employee_name)||"Unassigned"}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-sf-text",children:e.lead_source}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:(0,mr.jsxs)("div",{className:"flex space-x-2",children:[(0,mr.jsx)("button",{onClick:()=>(e=>{var t;const n={branch_id:e.branch_id,full_name:e.full_name,contact_number_primary:e.contact_number_primary,contact_number_alternate:e.contact_number_alternate||"",email_address:e.email_address,lead_source:e.lead_source,lead_status:e.lead_status,priority:e.priority,notes:e.notes||"",follow_up_datetime:e.follow_up_datetime?e.follow_up_datetime.replace(" ","T").slice(0,16):"",assigned_to:(null===(t=e.assigned_to)||void 0===t?void 0:t.id)||e.assigned_to,course_id:e.course_id,budget_range:e.budget_range||""};g(n),s("new-lead")})(e),className:"text-green-600 hover:text-green-800",children:(0,mr.jsx)("i",{className:"fas fa-edit"})}),(0,mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this lead?"))try{const t=localStorage.getItem("token");(await Ua.delete("/leads/destroy/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data.success&&(pi.success("Lead deleted successfully!"),x())}catch(t){console.error("Error deleting lead:",t),pi.error("Failed to delete lead")}})(e.id),className:"text-red-600 hover:text-red-800",children:(0,mr.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id)})})]})})})]}),"new-lead"===r&&(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg sf-shadow",children:[(0,mr.jsx)("div",{className:"px-6 py-4 border-b border-sf-border",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold text-sf-text",children:"New Lead"}),(0,mr.jsx)("button",{onClick:()=>s("leads"),className:"text-sf-text-light hover:text-sf-text",children:(0,mr.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{f(!0);const e=localStorage.getItem("token"),t=N(N({},p),{},{follow_up_datetime:p.follow_up_datetime?"".concat(p.follow_up_datetime.replace("T"," "),":00"):null});(await Ua.post("/leads/store",t,{headers:{Authorization:"Bearer ".concat(e)}})).data.success&&(pi.success("Lead created successfully!"),g({branch_id:m||"",full_name:"",contact_number_primary:"",contact_number_alternate:"",email_address:"",lead_source:"",lead_status:"New",priority:"Medium",notes:"",follow_up_datetime:"",assigned_to:"",course_id:"",budget_range:""}),x(),s("leads"))}catch(t){console.error("Error creating lead:",t),pi.error("Failed to create lead")}finally{f(!1)}},className:"p-6",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Lead Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Full Name ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsx)("input",{type:"text",id:"full_name",value:p.full_name,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Primary Contact"," ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsx)("input",{type:"tel",id:"contact_number_primary",value:p.contact_number_primary,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Alternate Contact"}),(0,mr.jsx)("input",{type:"tel",id:"contact_number_alternate",value:p.contact_number_alternate,onChange:v,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Email Address ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsx)("input",{type:"email",id:"email_address",value:p.email_address,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]})]})]}),(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Lead Details"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Lead Source ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"lead_source",value:p.lead_source,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"",children:"--None--"}),(0,mr.jsx)("option",{value:"instagram",children:"Instagram"}),(0,mr.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,mr.jsx)("option",{value:"walk-in",children:"Walk-in"}),(0,mr.jsx)("option",{value:"offline",children:"Offline"}),(0,mr.jsx)("option",{value:"facebook",children:"Facebook"}),(0,mr.jsx)("option",{value:"website",children:"Website"}),(0,mr.jsx)("option",{value:"googleAds",children:"Google Ads"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Lead Status ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"lead_status",value:p.lead_status,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"New",children:"New"}),(0,mr.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,mr.jsx)("option",{value:"Follow-up",children:"Follow-up"}),(0,mr.jsx)("option",{value:"Demo Scheduled",children:"Demo Scheduled"}),(0,mr.jsx)("option",{value:"Converted",children:"Converted"}),(0,mr.jsx)("option",{value:"Lost",children:"Lost"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Assigned To ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"assigned_to",value:p.assigned_to,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"",children:"--None--"}),c.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.employee_name," - ",e.designation]},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Priority ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"priority",value:p.priority,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"Medium",children:"Medium"}),(0,mr.jsx)("option",{value:"High",children:"High"}),(0,mr.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Interested Course"}),(0,mr.jsxs)("select",{id:"course_id",value:p.course_id,onChange:v,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"",children:"--None--"}),u.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Budget Range"}),(0,mr.jsx)("input",{type:"number",id:"budget_range",value:p.budget_range,onChange:v,placeholder:"e.g., $1,000 - $5,000",className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]})]})]}),(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Follow-up & Additional Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Follow-up Date & Time"}),(0,mr.jsx)("input",{type:"datetime-local",id:"follow_up_datetime",value:p.follow_up_datetime,onChange:v,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Notes/Remarks"}),(0,mr.jsx)("textarea",{id:"notes",value:p.notes,onChange:v,rows:"4",className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",placeholder:"Enter any additional notes or remarks..."})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-sf-border",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>s("leads"),className:"px-6 py-3 border border-sf-border text-sf-text rounded-lg hover:bg-sf-gray transition-colors",children:"Cancel"}),(0,mr.jsx)("button",{type:"button",onClick:()=>{g({branch_id:m||"",full_name:"",contact_number_primary:"",contact_number_alternate:"",email_address:"",lead_source:"",lead_status:"New",priority:"Medium",notes:"",follow_up_datetime:"",assigned_to:"",course_id:"",budget_range:""})},className:"px-6 py-3 border border-sf-border text-sf-text rounded-lg hover:bg-sf-gray transition-colors",children:"Clear"}),(0,mr.jsx)("button",{type:"submit",disabled:A,className:"px-8 py-3 bg-sf-blue hover:bg-sf-blue-dark text-white rounded-lg transition-colors font-medium disabled:opacity-50",children:A?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Saving..."]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("i",{className:"fas fa-save mr-2"}),"Save Lead"]})})]})]})]})}),"reports"===r&&(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg sf-shadow p-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold text-sf-text mb-6",children:"Lead Reports"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-sf-blue-light p-6 rounded-lg cursor-pointer transition-all hover:shadow-lg hover:scale-105",onClick:()=>w(""),children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-users text-sf-blue text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"Total Leads"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:_})]})]}),(0,mr.jsx)("div",{className:"mt-2 text-xs text-sf-text-light",children:"Click to view all leads"})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-6 rounded-lg cursor-pointer transition-all hover:shadow-lg hover:scale-105",onClick:()=>w("Converted"),children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-check-circle text-green-600 text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"Converted"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:C})]})]}),(0,mr.jsx)("div",{className:"mt-2 text-xs text-sf-text-light",children:"Click to view converted leads"})]}),(0,mr.jsxs)("div",{className:"bg-yellow-50 p-6 rounded-lg cursor-pointer transition-all hover:shadow-lg hover:scale-105",onClick:()=>w("in-progress"),children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-clock text-yellow-600 text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"In Progress"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:S})]})]}),(0,mr.jsx)("div",{className:"mt-2 text-xs text-sf-text-light",children:"Click to view in-progress leads"})]}),(0,mr.jsxs)("div",{className:"bg-red-50 p-6 rounded-lg cursor-pointer transition-all hover:shadow-lg hover:scale-105",onClick:()=>w("Lost"),children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-times-circle text-red-600 text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"Lost"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:k})]})]}),(0,mr.jsx)("div",{className:"mt-2 text-xs text-sf-text-light",children:"Click to view lost leads"})]})]})]})})]})]}),(0,mr.jsx)("style",{jsx:!0,children:"\n        .bg-sf-blue {\n          background-color: #0176d3;\n        }\n        .bg-sf-blue-dark {\n          background-color: #014486;\n        }\n        .bg-sf-blue-light {\n          background-color: #e3f3ff;\n        }\n        .bg-sf-gray {\n          background-color: #f3f2f2;\n        }\n        .border-sf-border {\n          border-color: #dddbda;\n        }\n        .text-sf-text {\n          color: #080707;\n        }\n        .text-sf-text-light {\n          color: #706e6b;\n        }\n        .sf-shadow {\n          box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n        }\n        .sf-shadow-lg {\n          box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.12);\n        }\n      "})]})}const lk=function(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(null);return(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}").branch_id;e?i(e):pi.error("No branch assigned to user! Please contact administrator.")},[]),(0,mr.jsxs)("div",{className:"items-center flex justify-center mt-10",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3}),(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-lg",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create Category"}),(0,mr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),a)try{const t=localStorage.getItem("token");if(!t)return void pi.error("No token found! Please login again.");const r={name:e,branch_id:Number(a)},i=await Ua.post("/categories",r,{headers:{Authorization:"Bearer ".concat(t)}});s(" Category Created: ".concat(i.data.name)),pi.success(" Category Created: ".concat(i.data.name)),n("")}catch(r){console.error(r),s("Error creating category"),pi.error("Error creating category")}else s("\u274c No branch assigned to user")},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Category Name"}),(0,mr.jsx)("input",{type:"text",placeholder:"Enter category name",value:e,onChange:e=>n(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-400",required:!0})]}),(0,mr.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition",children:"Create Category"})]}),r&&(0,mr.jsx)("p",{className:"mt-4 text-center text-sm font-medium text-green-600",children:r})]})]})};const ck=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[A,f]=(0,t.useState)({isOpen:!1,category:null});return(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}").branch_id;d(e);(async()=>{try{const t=localStorage.getItem("token");if(!t)return void alert("No token found! Please login again.");const r=await Ua.get("/categories",{headers:{Authorization:"Bearer ".concat(t)}}),a=e?r.data.filter(t=>t.branch_id==e):r.data;n(a),s(a)}catch(t){console.error("Error fetching data:",t),alert("Failed to load data")}finally{i(!1)}})()},[]),(0,t.useEffect)(()=>{let t=e;o&&(t=t.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())||e.branch&&e.branch.branch_name.toLowerCase().includes(o.toLowerCase()))),s(t)},[o,e]),(0,mr.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,mr.jsxs)("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white",children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold mb-2",children:c?"My Branch Categories":"All Categories"}),(0,mr.jsx)("p",{className:"text-blue-100",children:c?"Viewing categories for your branch only":"Manage and organize your product categories"})]}),(0,mr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,mr.jsx)("div",{className:"flex flex-col md:flex-row gap-4",children:(0,mr.jsxs)("div",{className:"relative flex-1",children:[(0,mr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,mr.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,mr.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),(0,mr.jsx)("input",{type:"text",placeholder:"Search categories...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>l(e.target.value)})]})})}),(0,mr.jsx)("div",{className:"p-6",children:a?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):0===r.length?(0,mr.jsxs)("div",{className:"text-center py-12",children:[(0,mr.jsx)("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,mr.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No categories found"}),(0,mr.jsx)("p",{className:"mt-1 text-gray-500",children:c?"No categories found for your branch. Try creating some first.":"Try adjusting your search to find what you're looking for."})]}):(0,mr.jsx)("div",{className:"overflow-x-auto rounded-lg",children:(0,mr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,mr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 font-semibold",children:e.name}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]},e.id))})]})})})]})})})};const dk=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)("");return(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}"),t=e.branch_id,n=e.branch_name||"Your Branch";t?(s(t),i(n)):pi.error("No branch assigned to user! Please contact administrator.")},[]),(0,t.useEffect)(()=>{if(!r)return;(async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const t=(await Ua.get("/categories",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>e.branch_id==r);n(t)}catch(e){console.error("Error fetching categories:",e),pi.error("Failed to load categories")}})()},[r]),(0,mr.jsxs)("div",{className:"items-center flex justify-center mt-10",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3}),(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-2xl",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create Expense"}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r)try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const t={branch_id:Number(r),category_id:Number(o),payment_to:c,expense_date:u,description:A,amount:Number(m),payment_mode:g},n=await Ua.post("/expenses",t,{headers:{Authorization:"Bearer ".concat(e)}});y("\u2705 Expense Created: ID ".concat(n.data.id)),pi.success("\u2705 Expense Created: ID ".concat(n.data.id)),l(""),d(""),h(""),f(""),p(""),x("")}catch(t){console.error(t),y("\u274c Error creating expense")}else y("\u274c No branch assigned to user")},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Select Category"}),(0,mr.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Category --"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.name},e.id))]}),0===e.length&&r&&(0,mr.jsx)("p",{className:"text-sm text-red-500 mt-1",children:"No categories found for your branch. Please create categories first."})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Payment To"}),(0,mr.jsx)("input",{type:"text",placeholder:"Vendor / Person",value:c,onChange:e=>d(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Expense Date"}),(0,mr.jsx)("input",{type:"date",value:u,onChange:e=>h(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Description"}),(0,mr.jsx)("textarea",{placeholder:"Enter description",value:A,onChange:e=>f(e.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Amount"}),(0,mr.jsx)("input",{type:"number",placeholder:"Enter amount",value:m,onChange:e=>p(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Payment Mode"}),(0,mr.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Mode --"}),(0,mr.jsx)("option",{value:"Cash",children:"Cash"}),(0,mr.jsx)("option",{value:"Card",children:"Card"}),(0,mr.jsx)("option",{value:"UPI",children:"UPI"}),(0,mr.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"})]})]}),(0,mr.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition",disabled:!r||0===e.length,children:0===e.length?"No Categories Available":"Save Expense"})]})]})]})};const uk=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)("all"),[a,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void alert("No token found! Please login again.");const t=await Ua.get("/expenses",{headers:{Authorization:"Bearer ".concat(e)}});t.data.status?n(t.data.data):alert("Failed to fetch expenses")}catch(e){console.error("Error fetching expenses:",e),alert("Something went wrong while fetching expenses")}finally{i(!1)}})()},[]),new Set(e.map(e=>e.branch_name));const o="all"===r?e:e.filter(e=>e.branch_name===r);return(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"shadow-lg rounded-2xl p-8 w-full mx-auto",children:[(0,mr.jsx)("div",{className:"mb-6 flex justify-between items-center",children:(0,mr.jsxs)("h2",{className:"text-2xl font-bold",children:["All Expenses (",o.length,")"]})}),a?(0,mr.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-purple-600"})}):0===o.length?(0,mr.jsx)("p",{className:"text-center text-gray-500",children:"No expenses found."}):(0,mr.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,mr.jsxs)("div",{className:"bg-white shadow-sm hover:shadow-md transition rounded-xl px-5 py-4",children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-800 text-lg mb-2",children:e.category}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Branch:"})," ",e.branch_name]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Payment To:"})," ",e.payment_to]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Mode:"})," ",e.payment_mode]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Date:"})," ",e.date]}),(0,mr.jsxs)("p",{className:"col-span-2",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Description:"})," ",e.description||"-"]})]}),(0,mr.jsx)("div",{className:"mt-3 border-t pt-2",children:(0,mr.jsxs)("p",{className:"text-lg font-bold text-purple-600",children:["\u20b9",e.amount]})})]},e.id))})]})})};function hk(){const[e,n]=(0,t.useState)("createcategory");return(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsxs)("div",{className:"w-60 bg-white rounded-xl shadow-md p-4 space-y-3",children:[(0,mr.jsx)("button",{onClick:()=>n("createcategory"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("createcategory"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb Create Category"}),(0,mr.jsx)("button",{onClick:()=>n("allcategory"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("allcategory"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcca All Categories"}),(0,mr.jsx)("button",{onClick:()=>n("createexpense"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("createexpense"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcb0 Create Expense"}),(0,mr.jsx)("button",{onClick:()=>n("allexpense"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("allexpense"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcca All Expenses"})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto",children:["createcategory"===e&&(0,mr.jsx)(lk,{}),"allcategory"===e&&(0,mr.jsx)(ck,{}),"createexpense"===e&&(0,mr.jsx)(dk,{}),"allexpense"===e&&(0,mr.jsx)(uk,{})]})]})})}const Ak=()=>{var e;const[n,r]=(0,t.useState)([]),[s,a]=(0,t.useState)([]),[i,o]=(0,t.useState)(""),[l,c]=(0,t.useState)([]),[d,u]=(0,t.useState)(null),[h,A]=(0,t.useState)((new Date).toISOString().slice(0,7)),[f,m]=(0,t.useState)({amount:"",type:""}),[p,g]=(0,t.useState)(null),[x,b]=(0,t.useState)(!1),[y,v]=(0,t.useState)(""),[w,j]=(0,t.useState)(!1),_=JSON.parse(localStorage.getItem("user")||"{}").branch_id;(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}})).data.map(e=>({id:e.id,branch_name:e.branch_name}));r(t)}catch(e){console.error("Error fetching branches:",e),v("Error fetching branches")}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff?branch_id=".concat(_),{headers:{Authorization:"Bearer ".concat(e)}});a(t.data||[])}catch(e){console.error("Error fetching staff:",e),v("Error fetching staff")}})()},[]),(0,t.useEffect)(()=>{i&&((async()=>{if(i)try{const e=localStorage.getItem("token"),t=await Ua.get("/staffs/".concat(i,"/allowances"),{headers:{Authorization:"Bearer ".concat(e)}});c(t.data.allowances||[])}catch(e){console.error("Error fetching allowances:",e),v("Error fetching allowances")}})(),u(null))},[i]);const C=()=>{if(!i)return"";const e=s.find(e=>e.id==i);return e?e.name:""},S=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"long"});return(0,mr.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,mr.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800 mb-6",children:"Staff Salary Management"}),(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"Select Staff"}),(0,mr.jsx)("div",{className:"grid grid-cols-1 gap-4",children:(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Member"}),(0,mr.jsxs)("select",{className:"w-full p-2 border border-gray-300 rounded-md",value:i,onChange:e=>o(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"Select a staff member"}),s.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.employee_name},e.id))]})]})})]}),i&&(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md mb-6",children:[(0,mr.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Manage Allowances for ",C()]}),(0,mr.jsxs)("div",{className:"mb-6 p-4 bg-gray-50 rounded-md",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium mb-3",children:p?"Edit Allowance":"Add New Allowance"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-3",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Type"}),(0,mr.jsx)("input",{type:"text",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"e.g., Travel Allowance",value:p?p.type:f.type,onChange:e=>p?g(N(N({},p),{},{type:e.target.value})):m(N(N({},f),{},{type:e.target.value}))})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Amount"}),(0,mr.jsx)("input",{type:"number",className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Amount",value:p?p.amount:f.amount,onChange:e=>p?g(N(N({},p),{},{amount:e.target.value})):m(N(N({},f),{},{amount:e.target.value}))})]})]}),(0,mr.jsx)("div",{className:"flex space-x-2",children:p?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",onClick:async()=>{if(p&&p.amount&&p.type)try{const e=localStorage.getItem("token"),t=await Ua.put("/staffs/allowances/".concat(p.id),{amount:parseFloat(p.amount),type:p.type},{headers:{Authorization:"Bearer ".concat(e)}});c(l.map(e=>e.id===p.id?t.data.data:e)),g(null),v("Allowance updated successfully!")}catch(e){console.error("Error updating allowance:",e),v("Error updating allowance")}else v("Please fill all allowance fields")},children:"Update Allowance"}),(0,mr.jsx)("button",{className:"px-4 py-2 bg-gray-500 text-white rounded-md hover:bg-gray-600",onClick:()=>g(null),children:"Cancel"})]}):(0,mr.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700",onClick:async()=>{if(i&&f.amount&&f.type)try{const e=localStorage.getItem("token"),t=await Ua.post("/staffs/allowances",{staff_id:i,amount:parseFloat(f.amount),type:f.type},{headers:{Authorization:"Bearer ".concat(e)}});c([...l,t.data.data]),m({amount:"",type:""}),v("Allowance added successfully!")}catch(e){console.error("Error adding allowance:",e),v("Error adding allowance")}else v("Please fill all allowance fields")},children:"Add Allowance"})})]}),(0,mr.jsx)("h3",{className:"text-lg font-medium mb-3",children:"Current Allowances"}),0===l.length?(0,mr.jsx)("p",{className:"text-gray-500",children:"No allowances added yet."}):(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Type"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Amount"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:l.map(e=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:e.type}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:["\u20b9",parseFloat(e.amount).toLocaleString()]}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,mr.jsx)("button",{className:"text-blue-600 hover:text-blue-900 mr-3",onClick:()=>g(e),children:"Edit"}),(0,mr.jsx)("button",{className:"text-red-600 hover:text-red-900",onClick:()=>(async e=>{try{const t=localStorage.getItem("token");await Ua.delete("/staffs/allowances/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),c(l.filter(t=>t.id!==e)),v("Allowance deleted successfully!")}catch(t){console.error("Error deleting allowance:",t),v("Error deleting allowance")}})(e.id),children:"Delete"})]})]},e.id))})]})})]}),i&&(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-md",children:[(0,mr.jsxs)("h2",{className:"text-xl font-semibold mb-4",children:["Salary Calculation for ",C()]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Month"}),(0,mr.jsx)("input",{type:"month",className:"w-full p-2 border border-gray-300 rounded-md",value:h,onChange:e=>A(e.target.value)})]}),(0,mr.jsx)("div",{className:"flex items-end space-x-3",children:(0,mr.jsx)("button",{className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:bg-blue-300",onClick:async()=>{if(i&&h){b(!0);try{const e=localStorage.getItem("token"),t=await Ua.post("/staffs/salary/calculate",{staff_id:i,month:h},{headers:{Authorization:"Bearer ".concat(e)}});u(t.data.data||t.data),v("Salary calculated successfully!")}catch(e){console.error("Error calculating salary:",e),v("Error calculating salary")}finally{b(!1)}}else v("Please select a staff and month")},disabled:x,children:x?"Calculating...":"Calculate Salary"})})]}),d&&(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 mb-4",children:[(0,mr.jsxs)("h3",{className:"text-lg font-medium mb-4",children:["Salary Details for ",d.month]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Staff Information"}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Name:"})," ",d.employee_name||d.staff_name]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Employee Code:"})," ",d.employee_code]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Designation:"})," ",d.designation]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Branch:"})," ",(null===(e=n.find(e=>e.id==_))||void 0===e?void 0:e.branch_name)||_]})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Attendance Summary"}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Present Days:"})," ",d.present_days]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Half Days:"})," ",d.half_days]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Absent Days:"})," ",d.absent_days]})]})]})]}),(0,mr.jsxs)("div",{className:"mt-6 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("h4",{className:"font-medium text-gray-700 mb-2",children:"Salary Breakdown"}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{children:"Monthly Salary:"}),(0,mr.jsxs)("span",{children:["\u20b9",parseFloat(d.monthly_salary).toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"flex mt-4 justify-between",children:[(0,mr.jsx)("span",{children:"Per Day Rate:"}),(0,mr.jsxs)("span",{children:["\u20b9",parseFloat(d.per_day_salary).toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{children:"Base Salary (Based on attendance):"}),(0,mr.jsxs)("span",{children:["\u20b9",parseFloat(d.base_salary).toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"flex justify-between font-medium mt-3 pt-2 border-t border-gray-200",children:[(0,mr.jsx)("span",{children:"Total Allowances:"}),(0,mr.jsxs)("span",{children:["\u20b9",parseFloat(d.total_allowances||0).toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"flex justify-between font-bold text-lg mt-3 pt-2 border-t border-gray-200",children:[(0,mr.jsx)("span",{children:"Final Salary:"}),(0,mr.jsxs)("span",{className:"text-green-700",children:["\u20b9",parseFloat(d.final_salary).toLocaleString()]})]})]})]})]}),(0,mr.jsx)("div",{className:"flex justify-end",children:(0,mr.jsx)("button",{className:"px-4 py-2 bg-purple-600 text-white rounded-md hover:bg-purple-700 disabled:bg-purple-300 flex items-center",onClick:()=>{if(d){j(!0),v("Generating salary slip...");try{const e=new g_.default;e.setFontSize(20),e.setFont(void 0,"bold"),e.text("SINFODE ACADEMY",105,15,{align:"center"}),e.setFontSize(12),e.setFont(void 0,"normal"),e.text("Company Address Line 1",105,22,{align:"center"}),e.text("Company Address Line 2",105,28,{align:"center"}),e.text("Phone: +91 XXXXX XXXXX | Email: hr@example.com",105,34,{align:"center"}),e.setFontSize(16),e.setFont(void 0,"bold"),e.text("SALARY SLIP",105,45,{align:"center"}),e.setFontSize(12),e.setFont(void 0,"normal"),e.text("For the month of ".concat(S(d.month)),105,52,{align:"center"}),e.setFont(void 0,"bold"),e.text("Employee Details:",14,65),e.setFont(void 0,"normal"),e.text("Name: ".concat(d.employee_name||d.staff_name),14,72),e.text("Employee ID: ".concat(d.employee_code),14,79),e.text("Designation: ".concat(d.designation),14,86);const t=n.find(e=>e.id==_),r=t?t.branch_name:_;e.text("Branch: ".concat(r),110,72),e.text("Payment Date: ".concat((new Date).toLocaleDateString()),110,79),e.text("Days Worked: ".concat(d.present_days," (Present) + ").concat(d.half_days," (Half)"),110,86);const s=["Earnings","Amount (\u20b9)","Deductions","Amount (\u20b9)"],a=[];a.push(["Basic Salary",parseFloat(d.base_salary).toLocaleString(),"Professional Tax","0.00"]),d.allowances&&d.allowances.length>0&&d.allowances.forEach(e=>{a.push([e.type,parseFloat(e.amount).toLocaleString(),"",""])}),a.push(["Total Earnings",parseFloat(d.final_salary).toLocaleString(),"Total Deductions","0.00"]),e.autoTable({startY:95,head:[s],body:a,theme:"grid",styles:{fontSize:10},headStyles:{fillColor:[220,220,220],textColor:[0,0,0],fontStyle:"bold"},footStyles:{fillColor:[220,220,220],textColor:[0,0,0],fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]}});const i=e.lastAutoTable.finalY+10;e.setFillColor(240,240,240),e.rect(14,i,182,10,"F"),e.setFont(void 0,"bold"),e.setFontSize(12),e.text("Net Salary Payable:",20,i+7),e.text("\u20b9 ".concat(parseFloat(d.final_salary).toLocaleString()),160,i+7),e.setFontSize(10),e.setFont(void 0,"normal"),e.line(30,i+25,80,i+25),e.text("Employee Signature",30,i+30),e.line(130,i+25,180,i+25),e.text("Authorized Signature",130,i+30),e.setFontSize(8),e.text("This is a system generated document and does not require a physical signature.",105,i+40,{align:"center"});const o="Salary_Slip_".concat(d.employee_name,"_").concat(d.month,".pdf");e.save(o),j(!1),v("Salary slip downloaded successfully!")}catch(e){console.error("Error generating PDF:",e),v("Error generating salary slip"),j(!1)}}else v("Please calculate or get salary data first")},disabled:w||!d,children:w?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,mr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,mr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Generating..."]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 10v6m0 0l-3-3m3 3l3-3m2 8H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Download Salary Slip"]})})})]})]})]})})};function fk(){return(0,mr.jsx)("div",{children:(0,mr.jsx)("div",{className:"shadow-lg rounded-2xl p-8 w-full max-w-lg"})})}function mk(){const[e,n]=(0,t.useState)("generatesalary");return(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsx)("div",{className:"w-60 bg-white rounded-xl shadow-md p-4 space-y-3",children:(0,mr.jsx)("button",{onClick:()=>n("generatesalary"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("generatesalary"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb Generate Salary"})}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto",children:["overview"===e&&(0,mr.jsx)(fk,{}),"generatesalary"===e&&(0,mr.jsx)(Ak,{})]})]})})}function pk(){return(0,mr.jsx)(DS,{children:(0,mr.jsx)("div",{className:"p-6",children:(0,mr.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"Invoice"})})})}const gk=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(!0),[a,i]=(0,t.useState)(null);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/coupons",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){console.error("Error fetching coupons:",e)}finally{s(!1)}})()},[]);const o=e=>{const t=new Date;return new Date(e)<t?"Expired":"Active"};return r?(0,mr.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:(0,mr.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:"Loading coupons..."})]})})}):(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2 font-nunito",children:"Coupon Management"}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage and track all your discount coupons"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-xl",children:(0,mr.jsx)(il,{className:"text-blue-600 text-2xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:e.length}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Total Coupons"})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-xl",children:(0,mr.jsx)(Jo,{className:"text-green-600 text-2xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:e.filter(e=>"percentage"===e.discount_type).length}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Percentage Coupons"})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"bg-purple-100 p-3 rounded-xl",children:(0,mr.jsx)(tl,{className:"text-purple-600 text-2xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:e.filter(e=>"fixed"===e.discount_type).length}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Fixed Amount"})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6",children:(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"bg-orange-100 p-3 rounded-xl",children:(0,mr.jsx)(uo,{className:"text-orange-600 text-2xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-800",children:e.filter(e=>new Date(e.expiry_date)>=new Date).length}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Active Coupons"})]})]})})]}),0===e.length?(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,mr.jsx)(il,{className:"text-6xl text-gray-300 mx-auto mb-4"}),(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-600 mb-2",children:"No Coupons Available"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"Create your first coupon to get started"})]}):(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-3 gap-6",children:e.map(e=>{var t,n,r;return(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 border border-gray-100",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r ".concat((r=e.discount_type,"percentage"===r?"from-green-500 to-emerald-600":"from-blue-500 to-purple-600")," p-6 text-white relative"),children:[(0,mr.jsx)("div",{className:"absolute top-4 right-4 px-3 py-1 rounded-full text-xs font-semibold border ".concat((n=e.expiry_date,"Active"===o(n)?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200")),children:o(e.expiry_date)}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-4",children:[(0,mr.jsx)("div",{className:"bg-white/20 p-2 rounded-lg",children:(0,mr.jsx)(il,{className:"text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-lg font-bold",children:"Discount Coupon"}),(0,mr.jsx)("p",{className:"text-white/80 text-sm",children:"percentage"===e.discount_type?"Percentage Off":"Fixed Discount"})]})]}),(0,mr.jsxs)("div",{className:"bg-white/20 rounded-xl p-4 text-center mb-4",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("span",{className:"text-2xl font-bold tracking-wider",children:e.code}),(0,mr.jsx)("button",{onClick:()=>{return t=e.code,navigator.clipboard.writeText(t),i(t),void setTimeout(()=>i(null),2e3);var t},className:"bg-white/30 hover:bg-white/40 p-2 rounded-lg transition-all duration-200",children:a===e.code?(0,mr.jsx)(go,{className:"text-green-400"}):(0,mr.jsx)(_o,{className:"text-white"})})]}),(0,mr.jsx)("p",{className:"text-white/70 text-xs mt-2",children:"Click to copy code"})]})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"text-center mb-6",children:[(0,mr.jsx)("div",{className:"text-3xl font-bold ".concat("percentage"===e.discount_type?"text-green-600":"text-blue-600"),children:"percentage"===e.discount_type?(0,mr.jsxs)("span",{children:[e.discount_value,"% OFF"]}):(0,mr.jsxs)("span",{className:"flex items-center justify-center gap-1",children:[(0,mr.jsx)(tl,{className:"text-lg"}),e.discount_value," OFF"]})}),(0,mr.jsx)("p",{className:"text-gray-500 text-sm mt-1",children:"percentage"===e.discount_type?"Percentage Discount":"Fixed Amount Discount"})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[(0,mr.jsx)(oo,{className:"text-blue-500"}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Course"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800 truncate",children:(null===(t=e.course)||void 0===t?void 0:t.course_name)||"Any Course"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[(0,mr.jsx)(uo,{className:"text-green-500"}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Valid From"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:e.start_date})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 p-3 bg-gray-50 rounded-xl",children:[(0,mr.jsx)(uo,{className:"text-red-500"}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Expires On"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800 text-sm",children:e.expiry_date||"No Expiry"})]})]})]})]})]},e.id)})}),a&&(0,mr.jsxs)("div",{className:"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-xl shadow-lg flex items-center gap-2 animate-bounce",children:[(0,mr.jsx)(go,{className:"text-lg"}),(0,mr.jsx)("span",{children:"Copied to clipboard!"})]})]})};function xk(){const[e,n]=(0,t.useState)("coupanList");return(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsx)("div",{className:"w-70 bg-white rounded-xl shadow-md p-4 space-y-3",children:(0,mr.jsx)("button",{onClick:()=>n("coupanList"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("coupanList"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb All Coupons"})}),(0,mr.jsx)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto",children:"coupanList"===e&&(0,mr.jsx)(gk,{})})]})})}const bk=()=>{var e;const[n,r]=(0,t.useState)("all"),[s,a]=(0,t.useState)(null),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!0),[d,u]=(0,t.useState)(null),h=JSON.parse(localStorage.getItem("user")||"{}").branch_id,A=async()=>{try{c(!0);const e=localStorage.getItem("token");if(!e)return u("No token found! Please login again."),void c(!1);const t=await Ua.get("/communications/index",{headers:{Authorization:"Bearer ".concat(e)}});t.data.success?o(t.data.data):u("Failed to load communications")}catch(d){console.error("Error fetching communications:",d),u("Failed to load communications")}finally{c(!1)}};(0,t.useEffect)(()=>{A()},[]);const f=e=>{a(e),e.branch&&e.sender||(async e=>{try{const t=localStorage.getItem("token");if(!t)return void u("No token found! Please login again.");const n=await Ua.get("/communications/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});n.data.success&&a(n.data.data)}catch(d){console.error("Error fetching communication:",d),u("Failed to load communication details")}})(e.id)},m=i.filter(e=>{var t;if(h&&(e.branch_id!==h&&"Main"!==(null===(t=e.branch)||void 0===t?void 0:t.branch_type)))return!1;return"all"===n||e.type.toLowerCase()===n.toLowerCase()}).filter(e=>"all"===n||e.type.toLowerCase()===n.toLowerCase());return l?(0,mr.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,mr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading communications..."})]})}):d?(0,mr.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"bg-red-100 p-6 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:(0,mr.jsx)("svg",{className:"w-10 h-10 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-2",children:"Error"}),(0,mr.jsx)("p",{className:"text-gray-600 mb-4",children:d}),(0,mr.jsx)("button",{onClick:()=>{u(null),A()},className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md",children:"Try Again"})]})}):(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"min-h-screen",children:[(0,mr.jsx)("header",{className:"text-gray-500 shadow-sm",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto py-4",children:(0,mr.jsx)("div",{className:"flex justify-between",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-white bg-opacity-20 p-2 rounded-lg",children:(0,mr.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{d:"M12 2L2 7v10c0 5.55 3.84 9.74 9 11 5.16-1.26 9-5.45 9-11V7l-10-5z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold",children:"Branch Communication CRM"}),h?(0,mr.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Showing communications for your branch only (Branch ID: ",h,")"]}):(0,mr.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"Showing all communications (No branch assigned to user)"})]})]})})})}),(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-6",children:[(0,mr.jsx)("div",{className:"mb-6",children:(0,mr.jsx)("div",{className:"flex space-x-1 bg-gray-100 p-1 rounded-lg w-fit",children:["all","internal","announcement","event"].map(e=>(0,mr.jsx)("button",{onClick:()=>r(e),className:"px-4 py-2 rounded-md text-sm font-medium transition-all ".concat(n===e?"bg-white text-blue-600 shadow-sm":"text-gray-600 hover:text-gray-900"),children:e.charAt(0).toUpperCase()+e.slice(1)},e))})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-5 gap-6",children:[(0,mr.jsx)("div",{className:"lg:col-span-2",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200",children:[(0,mr.jsxs)("div",{className:"p-4 border-b border-gray-200",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Communications"}),(0,mr.jsxs)("span",{className:"bg-blue-100 text-blue-800 text-sm px-2 py-1 rounded-full font-medium",children:[m.length," items"]})]}),h&&(0,mr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:["Filtered by your branch \u2022 Tab: ",n]})]}),(0,mr.jsx)("div",{className:"overflow-y-auto max-h-[calc(100vh-250px)]",children:0===m.length?(0,mr.jsxs)("div",{className:"p-8 text-center",children:[(0,mr.jsx)("div",{className:"bg-gray-100 p-6 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:(0,mr.jsx)("svg",{className:"w-10 h-10 text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,mr.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:h?"No Communications Found for Your Branch":"No Communications Found"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"all"!==n?"No ".concat(n," communications found"):"No communications available"})]}):m.map(e=>{const t=(e=>({id:e.id,type:e.type.toLowerCase(),title:e.title,description:e.description,branch:e.branch?e.branch.branch_name:"Unknown Branch",department:e.sender?"From: "+e.sender.name:"Unknown Sender",amount:e.amount?"$".concat(parseFloat(e.amount).toLocaleString()):"$0",status:{paid:"paid",pending:"pending",overdue:"overdue",partial:"partial"}[e.status]||"pending",priority:{High:"high",Medium:"medium",Low:"low"}[e.priority]||"medium",author:e.sender?e.sender.name:"Unknown",timestamp:new Date(e.created_at).toLocaleDateString(),content:e.description,EventDate:e.date?new Date(e.date).toLocaleDateString():null}))(e);return(0,mr.jsx)("div",{className:"p-4 border-b border-gray-100 cursor-pointer transition-all hover:bg-gray-50 ".concat((null===s||void 0===s?void 0:s.id)===e.id?"bg-blue-50 border-l-4 border-l-blue-700":"border-l-4 border-l-transparent"),onClick:()=>f(e),children:(0,mr.jsxs)("div",{className:"flex items-start justify-between",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("internal"===t.type?"bg-blue-100 text-blue-800":"announcement"===t.type?"bg-purple-100 text-purple-800":"event"===t.type?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:t.type.charAt(0).toUpperCase()+t.type.slice(1)}),(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("high"===t.priority?"bg-red-100 text-red-800":"medium"===t.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:t.priority.charAt(0).toUpperCase()+t.priority.slice(1)}),(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("paid"===t.status?"bg-green-100 text-green-800":"pending"===t.status?"bg-yellow-100 text-yellow-800":"overdue"===t.status?"bg-red-100 text-red-800":"bg-blue-100 text-blue-800"),children:t.status.charAt(0).toUpperCase()+t.status.slice(1)})]}),(0,mr.jsx)("h3",{className:"font-semibold text-gray-900 mb-1",children:t.title}),(0,mr.jsx)("p",{className:"text-sm text-gray-600 mb-2 line-clamp-2",children:t.description}),(0,mr.jsxs)("div",{className:"flex items-center space-x-4 text-xs text-gray-500",children:[(0,mr.jsx)("span",{children:t.department}),(0,mr.jsx)("span",{children:t.branch}),(0,mr.jsx)("span",{className:"font-medium text-green-600",children:t.amount})]})]}),(0,mr.jsxs)("div",{className:"text-right text-xs text-gray-500",children:[(0,mr.jsx)("p",{children:t.timestamp}),(0,mr.jsxs)("p",{className:"font-medium",children:["By: ",t.author]})]})]})},e.id)})})]})}),(0,mr.jsx)("div",{className:"lg:col-span-3",children:(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-sm border border-gray-200 h-full",children:s?(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"p-3 rounded-lg ".concat("internal"===s.type.toLowerCase()?"bg-blue-600":"announcement"===s.type.toLowerCase()?"bg-purple-600":"event"===s.type.toLowerCase()?"bg-green-600":"bg-orange-600"),children:(0,mr.jsx)("svg",{className:"w-6 h-6 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:"internal"===s.type.toLowerCase()?(0,mr.jsx)("path",{d:"M20 2H4c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h4l4 4 4-4h4c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2z"}):"announcement"===s.type.toLowerCase()?(0,mr.jsx)("path",{d:"M12 2l3.09 6.26L22 9.27l-5 4.87 1.18 6.88L12 17.77l-6.18 3.25L7 14.14 2 9.27l6.91-1.01L12 2z"}):"event"===s.type.toLowerCase()?(0,mr.jsx)("path",{d:"M19 3h-1V1h-2v2H8V1H6v2H5c-1.11 0-1.99.9-1.99 2L3 19c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm0 16H5V8h14v11zM7 10h5v5H7z"}):(0,mr.jsx)("path",{d:"M14 2H6c-1.1 0-1.99.9-1.99 2L4 20c0 1.1.89 2 2 2h8c1.1 0 2-.9 2-2V8l-6-6zm2 16H8v-2h8v2zm0-4H8v-2h8v2zm-3-5V3.5L18.5 9H13z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-900",children:s.title}),(0,mr.jsxs)("p",{className:"text-gray-600",children:[s.type," \u2022 ",s.priority," Priority \u2022 Branch: ",null===(e=s.branch)||void 0===e?void 0:e.branch_name]})]})]})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Communication Details"}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Type:"}),(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("internal"===s.type.toLowerCase()?"bg-blue-100 text-blue-800":"announcement"===s.type.toLowerCase()?"bg-purple-100 text-purple-800":"event"===s.type.toLowerCase()?"bg-green-100 text-green-800":"bg-orange-100 text-orange-800"),children:s.type})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Priority:"}),(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-medium ".concat("High"===s.priority?"bg-red-100 text-red-800":"Medium"===s.priority?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:s.priority})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Created:"}),(0,mr.jsx)("span",{className:"text-sm text-gray-900",children:new Date(s.created_at).toLocaleDateString()})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Branch:"}),(0,mr.jsx)("span",{className:"text-sm text-gray-900",children:s.branch?s.branch.branch_name:"Unknown"})]}),s.date&&(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Event Date:"}),(0,mr.jsx)("span",{className:"text-sm text-gray-900",children:new Date(s.date).toLocaleDateString()})]})]})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsx)("h4",{className:"font-semibold text-gray-900 mb-3",children:"Sender Information"}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Sender:"}),(0,mr.jsx)("span",{className:"text-sm text-gray-900",children:s.sender?s.sender.name:"Unknown"})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Email:"}),(0,mr.jsx)("span",{className:"text-sm text-gray-900",children:s.sender?s.sender.email:"Unknown"})]}),s.amount&&parseFloat(s.amount)>0&&(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Amount:"}),(0,mr.jsxs)("span",{className:"text-sm text-gray-900",children:["$",parseFloat(s.amount).toLocaleString()]})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Branch ID:"}),(0,mr.jsx)("span",{className:"text-sm text-gray-900",children:s.branch_id})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,mr.jsx)("h4",{className:"font-semibold text-gray-900 mb-4",children:"Message Content"}),(0,mr.jsx)("div",{className:"bg-white p-4 rounded-lg whitespace-pre-line",children:(0,mr.jsx)("p",{className:"text-gray-800",children:s.description})})]})]}):(0,mr.jsxs)("div",{className:"p-8 text-center",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-6 rounded-full w-20 h-20 mx-auto mb-6 flex items-center justify-center",children:(0,mr.jsx)("svg",{className:"w-10 h-10 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Select a Communication"}),(0,mr.jsx)("p",{className:"text-gray-600 mb-8",children:"Choose an item from the list to view detailed information and communication content."})]})})})]})]})]})})},yk=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(null),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=localStorage.getItem("user");if(e){const t=JSON.parse(e);n(t),c(t)}},[]);const c=async e=>{try{var t;const n=localStorage.getItem("token");let r;if("admin"===e.role?r=await Ua.get("branches",{headers:{Authorization:"Bearer ".concat(n)}}):"branch_manager"===e.role&&e.branch_id&&(r=await Ua.get("branches/".concat(e.branch_id),{headers:{Authorization:"Bearer ".concat(n)}})),null!==(t=r)&&void 0!==t&&t.data){const e=r.data.branch?r.data.branch:r.data;s(e)}}catch(n){console.error("Error fetching branch:",n)}finally{i(!1)}},d=e=>new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"});return a?(0,mr.jsx)(DS,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gray-50 flex items-center justify-center",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,mr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})}):e?(0,mr.jsx)(DS,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:(0,mr.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,mr.jsxs)("div",{className:"text-center mb-8",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Profile"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your account information"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 text-white",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,mr.jsx)("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center mb-4 md:mb-0 md:mr-6",children:(0,mr.jsx)("span",{className:"text-3xl font-bold",children:e.name.charAt(0)})}),(0,mr.jsxs)("div",{className:"text-center md:text-left",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:e.name}),(0,mr.jsx)("p",{className:"text-blue-100 capitalize",children:e.role}),r&&(0,mr.jsxs)("p",{className:"text-blue-200 text-sm mt-1",children:[r.branch_name," \u2014 ",r.city]})]})]})}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Personal Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Full Name"}),(0,mr.jsx)("p",{className:"font-medium",children:e.name})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Email Address"}),(0,mr.jsx)("p",{className:"font-medium",children:e.email})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Role"}),(0,mr.jsx)("p",{className:"font-medium capitalize",children:e.role})]})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Account Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Password"}),(0,mr.jsxs)("div",{className:"relative w-fit",children:[(0,mr.jsx)("input",{type:o?"text":"password",readOnly:!0,value:e.plain_password,className:"font-mono bg-gray-100 px-2 py-1 rounded border border-gray-300 pr-8"}),(0,mr.jsx)("button",{type:"button",onClick:()=>l(!o),className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-600 hover:text-gray-800",children:o?(0,mr.jsx)(Lo,{}):(0,mr.jsx)(Mo,{})})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Member Since"}),(0,mr.jsx)("p",{className:"font-medium",children:d(e.created_at)})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Last Updated"}),(0,mr.jsx)("p",{className:"font-medium",children:d(e.updated_at)})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Account Status"}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"h-2 w-2 bg-green-500 rounded-full mr-2"}),(0,mr.jsx)("p",{className:"font-medium text-green-600",children:"Active"})]})]})]})]}),r&&(0,mr.jsxs)("div",{className:"mt-10 pt-6 border-t border-gray-200",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-4",children:"Branch Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Branch Name"}),(0,mr.jsx)("p",{className:"font-medium",children:r.branch_name})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Branch Code"}),(0,mr.jsx)("p",{className:"font-medium",children:r.branch_code})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"City"}),(0,mr.jsx)("p",{className:"font-medium capitalize",children:r.city})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Address"}),(0,mr.jsx)("p",{className:"font-medium",children:r.address})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Pin Code"}),(0,mr.jsx)("p",{className:"font-medium",children:r.pin_code})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Branch Type"}),(0,mr.jsx)("p",{className:"font-medium",children:r.branch_type})]})]})]})]})]})]})})}):(0,mr.jsx)(DS,{children:(0,mr.jsx)("div",{className:"py-6 px-4 text-center text-gray-600",children:"No user data found."})})};const vk=function(){var e,n,r,s;const[a,i]=(0,t.useState)("students"),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)({course:"",batch:"",status:"",branch:"",search:"",dateRange:{start:"",end:""}}),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)(null),[b,y]=(0,t.useState)({type:"month",branch_id:"",from:"",to:""}),[v,w]=(0,t.useState)([]),[j,_]=(0,t.useState)(!1),C=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});l(t.data||[]),d(t.data||[])}catch(e){console.error("Error fetching students:",e),E("Failed to load student data","error")}};(0,t.useEffect)(()=>{C(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});w(t.data||[])}catch(e){console.error("Error fetching branches:",e),E("Failed to load branches","error")}})()},[]),(0,t.useEffect)(()=>{B()},[u,o]),(0,t.useEffect)(()=>{"performance"===a&&(async()=>{_(!0);try{const e=localStorage.getItem("token"),t=N(N(N({type:b.type},b.branch_id&&{branch_id:b.branch_id}),"custom"===b.type&&b.from&&{from:b.from}),"custom"===b.type&&b.to&&{to:b.to}),n=await Ua.get("/reports/branch-performance",{headers:{Authorization:"Bearer ".concat(e)},params:t});x(n.data)}catch(e){console.error("Error fetching branch performance:",e),E("Failed to load branch performance data","error")}finally{_(!1)}})()},[a]);const S=(e,t)=>{h(n=>N(N({},n),{},{[e]:t}))},k=(e,t)=>{h(n=>N(N({},n),{},{dateRange:N(N({},n.dateRange),{},{[e]:t})}))},B=()=>{const e=o.filter(e=>{var t,n;const r=e.admission_date?new Date(e.admission_date):null,s=(!u.dateRange.start||r&&r>=new Date(u.dateRange.start))&&(!u.dateRange.end||r&&r<=new Date(u.dateRange.end)),a=!u.course||(null===(t=e.courses)||void 0===t?void 0:t.some(e=>e.course_name===u.course)),i=!u.batch||(null===(n=e.courses)||void 0===n?void 0:n.some(e=>{var t;return(null===(t=e.batch)||void 0===t?void 0:t.batch_name)===u.batch})),o=!u.branch||e.branch&&e.branch.branch_name===u.branch;return a&&i&&o&&(!u.status||e.enrollment_status===u.status)&&s&&(!u.search||e.full_name.toLowerCase().includes(u.search.toLowerCase())||e.email.toLowerCase().includes(u.search.toLowerCase())||e.admission_number.toLowerCase().includes(u.search.toLowerCase()))});d(e)},E=(e,t)=>{console.log("".concat(t,": ").concat(e))},L=()=>{const e="data:text/csv;charset=utf-8,ID,Name,Admission Number,Email,Course,Batch,Branch,Status,Admission Date,Contact Number\n"+c.map(e=>{var t,n;const r=null===(t=e.courses)||void 0===t?void 0:t[0];return"".concat(e.id,",").concat(e.full_name,",").concat(e.admission_number,",").concat(e.email,",").concat((null===r||void 0===r?void 0:r.course_name)||"N/A",",").concat((null===r||void 0===r||null===(n=r.batch)||void 0===n?void 0:n.batch_name)||"N/A",",").concat(e.branch?e.branch.branch_name:"N/A",",").concat(e.enrollment_status,",").concat(e.admission_date,",").concat(e.contact_number)}).join("\n"),t=encodeURI(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","students_report.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n),E("Student list exported successfully!","success")},M=()=>{p(!1),f(null)},F=e=>{switch(e){case"Active":return"bg-gradient-to-r from-green-500 to-green-600 text-white";case"Inactive":return"bg-gradient-to-r from-red-500 to-red-600 text-white";case"Pending":return"bg-gradient-to-r from-yellow-500 to-yellow-600 text-white";default:return"bg-gradient-to-r from-gray-500 to-gray-600 text-white"}},I=e=>{if("course"===e){const e=o.flatMap(e=>{var t;return(null===(t=e.courses)||void 0===t?void 0:t.map(e=>e.course_name))||[]});return[...new Set(e)].filter(Boolean).sort()}if("batch"===e){const e=o.flatMap(e=>{var t;return(null===(t=e.courses)||void 0===t?void 0:t.map(e=>{var t;return null===(t=e.batch)||void 0===t?void 0:t.batch_name}))||[]});return[...new Set(e)].filter(Boolean).sort()}if("branch"===e){const e=o.map(e=>{var t;return null===(t=e.branch)||void 0===t?void 0:t.branch_name}).filter(Boolean);return[...new Set(e)].sort()}if("status"===e){const e=o.map(e=>e.enrollment_status).filter(Boolean);return[...new Set(e)].sort()}return[]},D=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",T=e=>{if(!e)return"";try{return new Date("2000-01-01T".concat(e)).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}catch(t){return e}};return(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 via-purple-600 to-indigo-700 text-white p-6 mb-8 shadow-xl",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,mr.jsx)("div",{className:"mb-4 md:mb-0",children:(0,mr.jsxs)("div",{className:"flex items-center gap-4 mb-3",children:[(0,mr.jsx)("div",{className:"bg-white bg-opacity-20 p-3 rounded-2xl backdrop-blur-sm",children:(0,mr.jsx)(fo,{className:"text-2xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Reports & Analytics"}),(0,mr.jsx)("p",{className:"text-blue-100 text-lg",children:"Comprehensive insights and data management"})]})]})}),(0,mr.jsx)("div",{className:"flex flex-wrap gap-3",children:(0,mr.jsxs)("button",{onClick:()=>{L(),E("All reports exported successfully!","success")},className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center gap-2",children:[(0,mr.jsx)(So,{className:"text-sm"}),"Export All"]})})]})})}),(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg mb-8 border border-gray-200",children:(0,mr.jsx)("div",{className:"flex flex-wrap border-b border-gray-200",children:(0,mr.jsxs)("button",{onClick:()=>i("students"),className:"px-8 py-4 font-semibold transition-all duration-300 flex items-center gap-3 ".concat("students"===a?"border-b-2 border-indigo-600 text-indigo-600 bg-indigo-50":"text-gray-600 hover:text-gray-900 hover:bg-gray-50"),children:[(0,mr.jsx)(xl,{className:"text-lg"}),"Student List"]})})}),"students"===a&&(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 mb-6",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mr.jsxs)("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-xl",children:(0,mr.jsx)(Oo,{className:"text-blue-600"})}),"Advanced Filters"]}),(0,mr.jsxs)("div",{className:"text-sm text-gray-500",children:[c.length," students found"]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course"}),(0,mr.jsxs)("select",{value:u.course,onChange:e=>S("course",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 bg-white",children:[(0,mr.jsx)("option",{value:"",children:"All Courses"}),I("course").map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Batch"}),(0,mr.jsxs)("select",{value:u.batch,onChange:e=>S("batch",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 bg-white",children:[(0,mr.jsx)("option",{value:"",children:"All Batches"}),I("batch").map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date"}),(0,mr.jsx)("input",{type:"date",value:u.dateRange.start,onChange:e=>k("start",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 bg-white"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date"}),(0,mr.jsx)("input",{type:"date",value:u.dateRange.end,onChange:e=>k("end",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 bg-white"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Students"}),(0,mr.jsx)("input",{type:"text",value:u.search,onChange:e=>S("search",e.target.value),placeholder:"Search by name, email, or admission number...",className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all duration-300 bg-white"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200",children:[(0,mr.jsxs)("div",{className:"p-6 border-b border-gray-200 flex flex-col md:flex-row justify-between items-start md:items-center gap-4 bg-gradient-to-r from-gray-50 to-white",children:[(0,mr.jsxs)("h3",{className:"text-xl font-bold text-gray-800 flex items-center gap-3",children:[(0,mr.jsx)(xl,{className:"text-indigo-600"}),"Student List",(0,mr.jsxs)("span",{className:"bg-indigo-100 text-indigo-800 px-3 py-1 rounded-full text-sm font-medium",children:[c.length," students"]})]}),(0,mr.jsxs)("button",{onClick:L,className:"bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center gap-2",children:[(0,mr.jsx)(Io,{className:"text-sm"}),"Export Excel"]})]}),(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-blue-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Student"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Course & Batch"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Branch"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Admission Date"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-sm font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"divide-y divide-gray-200",children:c.length>0?c.map(e=>{var t,n,r;return(0,mr.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors duration-300 group",children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"h-12 w-12 rounded-xl bg-gradient-to-br from-blue-500 to-purple-600 flex items-center justify-center text-white font-bold shadow-lg",children:e.photo_url?(0,mr.jsx)("img",{src:e.photo_url,alt:e.full_name,className:"h-12 w-12 rounded-xl object-cover"}):e.full_name.charAt(0)}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("div",{className:"text-sm font-bold text-gray-900 group-hover:text-blue-600 transition-colors",children:e.full_name}),(0,mr.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,mr.jsx)(Bo,{className:"text-gray-400 text-xs"}),e.email]})]})]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"space-y-1",children:[null===(t=e.courses)||void 0===t?void 0:t.slice(0,2).map((e,t)=>{var n,r;return(0,mr.jsxs)("div",{className:"text-sm",children:[(0,mr.jsx)("div",{className:"font-semibold text-gray-800",children:e.course_name}),(0,mr.jsxs)("div",{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,mr.jsx)(jo,{className:"text-gray-400"}),null===(n=e.batch)||void 0===n?void 0:n.batch_name," \u2022 ",T(null===(r=e.batch)||void 0===r?void 0:r.batch_start_time)]})]},e.id)}),e.courses&&e.courses.length>2&&(0,mr.jsxs)("div",{className:"text-xs font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded-lg",children:["+",e.courses.length-2," more courses"]}),(!e.courses||0===e.courses.length)&&(0,mr.jsx)("span",{className:"text-xs text-gray-500 italic",children:"No courses enrolled"})]})}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-900 font-medium",children:(null===(n=e.branch)||void 0===n?void 0:n.branch_name)||"N/A"}),(0,mr.jsx)("div",{className:"text-xs text-gray-500",children:(null===(r=e.branch)||void 0===r?void 0:r.city)||""})]}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat(F(e.enrollment_status)),children:e.enrollment_status})}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,mr.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:D(e.admission_date)}),(0,mr.jsx)("div",{className:"text-xs text-gray-500",children:e.contact_number})]}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsxs)("button",{onClick:()=>(e=>{f(e),p(!0)})(e),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2 rounded-xl font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center gap-2",children:[(0,mr.jsx)(Mo,{className:"text-xs"}),"View"]})})]},e.id)}):(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"7",className:"px-6 py-8 text-center",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,mr.jsx)("div",{className:"bg-gray-100 w-16 h-16 rounded-full flex items-center justify-center mb-4",children:(0,mr.jsx)(xl,{className:"text-2xl text-gray-400"})}),(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-600 mb-2",children:"No Students Found"}),(0,mr.jsx)("p",{className:"text-gray-500 max-w-md",children:"No students match your current filters. Try adjusting your search criteria."})]})})})})]})})]})]}),"performance"===a&&(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"text-center py-12 bg-white rounded-2xl shadow-lg border border-gray-200",children:[(0,mr.jsx)("div",{className:"bg-blue-100 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,mr.jsx)(mo,{className:"text-3xl text-blue-600"})}),(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Branch Performance Analytics"}),(0,mr.jsx)("p",{className:"text-gray-600 max-w-md mx-auto mb-6",children:"Detailed branch performance reports and analytics will be displayed here with interactive charts and metrics."}),(0,mr.jsx)("button",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-300",children:"Generate Performance Report"})]})})]}),m&&A&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 transform animate-scale-in",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center bg-gradient-to-r from-gray-50 to-white z-10",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-xl",children:(0,mr.jsx)(gl,{className:"text-xl text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Student Details"}),(0,mr.jsxs)("p",{className:"text-gray-600",children:["Complete information about ",A.full_name]})]})]}),(0,mr.jsx)("button",{onClick:M,className:"text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-xl",children:(0,mr.jsx)(cl,{size:24})})]}),(0,mr.jsx)("div",{className:"p-6",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[(0,mr.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border border-blue-200 rounded-2xl p-6 text-center shadow-lg",children:[(0,mr.jsxs)("div",{className:"relative mx-auto w-32 h-32 mb-4",children:[(0,mr.jsx)("img",{src:A.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:A.full_name,className:"w-32 h-32 rounded-2xl object-cover border-4 border-white shadow-lg"}),(0,mr.jsx)("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 rounded-full border-2 border-white ".concat("Active"===A.enrollment_status?"bg-green-500":"bg-red-500")})]}),(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:A.full_name}),(0,mr.jsxs)("p",{className:"text-gray-600 mb-4 flex items-center justify-center gap-2",children:[(0,mr.jsx)(Bo,{className:"text-gray-400"}),A.email]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("span",{className:"inline-block px-4 py-2 rounded-full text-sm font-bold ".concat("Active"===A.enrollment_status?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-md":"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-md"),children:A.enrollment_status}),(0,mr.jsx)("span",{className:"inline-block px-4 py-2 rounded-full text-sm font-bold ".concat("Male"===A.gender?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-md":"bg-gradient-to-r from-pink-500 to-pink-600 text-white shadow-md"),children:A.gender})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-2 rounded-lg",children:(0,mr.jsx)(Qo,{className:"text-green-600"})}),"Quick Information"]}),(0,mr.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Admission No:"}),(0,mr.jsxs)("span",{className:"font-bold text-gray-800 bg-gray-100 px-2 py-1 rounded-lg",children:["#",A.admission_number]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Contact:"}),(0,mr.jsxs)("span",{className:"font-bold text-gray-800 flex items-center gap-1",children:[(0,mr.jsx)(Xo,{className:"text-green-500 text-xs"}),A.contact_number]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Admission Date:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:D(A.admission_date)})]})]})]})]}),(0,mr.jsx)("div",{className:"lg:col-span-3",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg",children:(0,mr.jsx)(gl,{className:"text-purple-600"})}),"Personal Information"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:D(A.dob)})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-start py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Address:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800 text-right max-w-xs",children:A.address||"N/A"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-orange-100 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-orange-600"})}),"Guardian Information"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Name:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:A.guardian_name||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Contact:"}),(0,mr.jsxs)("span",{className:"font-bold text-gray-800 flex items-center gap-1",children:[(0,mr.jsx)(Xo,{className:"text-green-500 text-xs"}),A.guardian_contact||"N/A"]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,mr.jsx)(lo,{className:"text-blue-600"})}),"Branch Information"]}),(0,mr.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Branch:"}),(0,mr.jsx)("p",{className:"font-bold text-gray-800",children:null===(e=A.branch)||void 0===e?void 0:e.branch_name})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Address:"}),(0,mr.jsx)("p",{className:"font-bold text-gray-800",children:null===(n=A.branch)||void 0===n?void 0:n.address})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Contact:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:null===(r=A.branch)||void 0===r?void 0:r.contact_number})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm md:col-span-2",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-indigo-100 p-2 rounded-lg",children:(0,mr.jsx)(oo,{className:"text-indigo-600"})}),"Enrolled Courses & Batches"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4",children:[null===(s=A.courses)||void 0===s?void 0:s.map(e=>(0,mr.jsxs)("div",{className:"border border-gray-200 rounded-2xl p-4 hover:shadow-md transition-shadow bg-gradient-to-br from-gray-50 to-white",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h5",{className:"font-bold text-gray-800 text-lg",children:e.course_name}),(0,mr.jsxs)("p",{className:"text-sm text-gray-600",children:[e.course_code," \u2022 ",e.duration," months"]}),(0,mr.jsxs)("p",{className:"text-xs text-gray-500 mt-1",children:[e.mode," \u2022 ",e.course_level]})]}),(0,mr.jsxs)("span",{className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-3 py-1.5 rounded-full text-sm font-bold shadow-sm",children:["\u20b9",e.discounted_price||e.actual_price||"0"]})]}),e.batch&&(0,mr.jsx)("div",{className:"bg-blue-50 rounded-xl p-3 border border-blue-100",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center text-sm",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("span",{className:"font-bold text-gray-700",children:"Batch:"}),(0,mr.jsx)("span",{className:"ml-2 text-gray-600 font-medium",children:e.batch.batch_name})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsxs)("div",{className:"text-gray-600 font-medium",children:[T(e.batch.batch_start_time)," - ",T(e.batch.batch_end_time)]}),(0,mr.jsxs)("div",{className:"text-xs text-gray-500",children:[D(e.batch.start_date)," to ",D(e.batch.end_date)]})]})]})})]},e.id)),(!A.courses||0===A.courses.length)&&(0,mr.jsxs)("div",{className:"col-span-2 text-center py-8 bg-gray-50 rounded-xl border border-gray-200",children:[(0,mr.jsx)(oo,{className:"text-4xl text-gray-400 mx-auto mb-3"}),(0,mr.jsx)("p",{className:"text-gray-600 font-medium",children:"No courses enrolled"})]})]})]})]})})]})}),(0,mr.jsxs)("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-6 py-4 flex justify-end gap-3 bg-gradient-to-r from-gray-50 to-white",children:[(0,mr.jsx)("button",{onClick:M,className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-xl hover:bg-gray-400 transition-colors font-semibold",children:"Close"}),(0,mr.jsx)("button",{className:"px-6 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl hover:from-blue-700 hover:to-purple-700 transition-all duration-300 font-semibold shadow-lg",children:"Edit Student"})]})]})}),(0,mr.jsx)("style",{jsx:!0,children:"\n          @keyframes scale-in {\n            from { opacity: 0; transform: scale(0.9); }\n            to { opacity: 1; transform: scale(1); }\n          }\n          .animate-scale-in {\n            animation: scale-in 0.3s ease-out forwards;\n          }\n        "})]})})};function wk(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(!1),A=sn(),f=JSON.parse(localStorage.getItem("user")||"{}").branch_id,[m,p]=(0,t.useState)({status:"all",department:"all",designation:"all",dateRange:{start:"",end:""}}),[g,x]=(0,t.useState)({key:null,direction:"ascending"}),[b,y]=(0,t.useState)({employee_name:"",designation:"",joining_date:"",contact_number:"",email:"",department:"",status:"Active",branch_id:f||"",staffcreate_name:"",staffcreate_email:"",staffcreate_password:"",monthly_salary:""}),v=async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){console.error("Error fetching staff:",e),pi.error("Failed to load staff list")}};(0,t.useEffect)(()=>{v()},[]);const w=(e,t)=>{p(n=>N(N({},n),{},{[e]:t}))},j=(e,t)=>{p(n=>N(N({},n),{},{dateRange:N(N({},n.dateRange),{},{[e]:t})}))},_=[...new Set(e.map(e=>e.department).filter(Boolean))],C=[...new Set(e.map(e=>e.designation).filter(Boolean))],S=e.filter(e=>{const t=(e.employee_name||"").toLowerCase().includes(r.toLowerCase())||(e.designation||"").toLowerCase().includes(r.toLowerCase())||(e.employee_code||"").toLowerCase().includes(r.toLowerCase())||(e.email||"").toLowerCase().includes(r.toLowerCase()),n="all"===m.status||e.status===m.status,s="all"===m.department||e.department===m.department,a="all"===m.designation||e.designation===m.designation,i=new Date(e.joining_date),o=m.dateRange.start?new Date(m.dateRange.start):null,l=m.dateRange.end?new Date(m.dateRange.end):null;return t&&n&&s&&a&&((!o||i>=o)&&(!l||i<=l))}).sort((e,t)=>{if(!g.key)return 0;let n=e[g.key],r=t[g.key];return"joining_date"===g.key&&(n=new Date(n),r=new Date(r)),"string"===typeof n&&(n=n.toLowerCase(),r=r.toLowerCase()),n<r?"ascending"===g.direction?-1:1:n>r?"ascending"===g.direction?1:-1:0}),k=e=>{if("contact_number"===e.target.name){const t=e.target.value.replace(/\D/g,"");t.length<=10&&y(N(N({},b),{},{[e.target.name]:t}))}else y(N(N({},b),{},{[e.target.name]:e.target.value}))},B=()=>{y({employee_name:"",employee_code:"",designation:"",joining_date:"",contact_number:"",email:"",department:"",status:"Active",branch_id:f||"",staffcreate_name:"",staffcreate_email:"",staffcreate_password:"",monthly_salary:""})};return(0,mr.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Staff Management"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Manage your staff members efficiently"})]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,mr.jsxs)("button",{onClick:()=>{const e=r_.json_to_sheet(S),t=r_.book_new();r_.book_append_sheet(t,e,"Staff Data"),WN(t,"staff_data.xlsx")},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,mr.jsx)(Io,{})," Export to Excel"]}),(0,mr.jsxs)("button",{onClick:()=>{d(null),B(),i(!0)},className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,mr.jsx)(Zo,{})," Create Staff"]})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,mr.jsxs)("div",{className:"flex-1 relative",children:[(0,mr.jsx)(rl,{className:"absolute left-3 top-3 text-gray-400"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search by name, designation, email, or code...",value:r,onChange:e=>s(e.target.value),className:"border border-gray-300 p-2 pl-10 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mr.jsxs)("button",{onClick:()=>h(!u),className:"px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ".concat("bg-[#3F8CFF] text-white px-4 py-2 rounded-lg"),children:[(0,mr.jsx)(Oo,{})," Filter",Object.values(m).some(e=>"string"===typeof e?"all"!==e:Object.values(e).some(Boolean))&&(0,mr.jsx)("span",{className:"bg-red-500 text-white rounded-full w-2 h-2"})]})]}),u&&(0,mr.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,mr.jsxs)("select",{value:m.status,onChange:e=>w("status",e.target.value),className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mr.jsx)("option",{value:"all",children:"All Status"}),(0,mr.jsx)("option",{value:"Active",children:"Active"}),(0,mr.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,mr.jsxs)("select",{value:m.department,onChange:e=>w("department",e.target.value),className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mr.jsx)("option",{value:"all",children:"All Departments"}),_.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation"}),(0,mr.jsxs)("select",{value:m.designation,onChange:e=>w("designation",e.target.value),className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mr.jsx)("option",{value:"all",children:"All Designations"}),C.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date Range"}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("input",{type:"date",value:m.dateRange.start,onChange:e=>j("start",e.target.value),className:"border border-gray-300 p-2 rounded-lg w-full text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Start Date"}),(0,mr.jsx)("input",{type:"date",value:m.dateRange.end,onChange:e=>j("end",e.target.value),className:"border border-gray-300 p-2 rounded-lg w-full text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"End Date"})]})]})]}),(0,mr.jsx)("div",{className:"mt-4 flex justify-end",children:(0,mr.jsx)("button",{onClick:()=>{p({status:"all",department:"all",designation:"all",dateRange:{start:"",end:""}}),s("")},className:"bg-[#3F8CFF] text-white px-4 py-2 rounded-lg",children:"Reset Filters"})})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,mr.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Staff"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]}),(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-full",children:(0,mr.jsx)(Zo,{className:"text-blue-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Active Staff"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>"Active"===e.status).length})]}),(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-full",children:(0,mr.jsx)(ul,{className:"text-green-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Inactive Staff"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:e.filter(e=>"Inactive"===e.status).length})]}),(0,mr.jsx)("div",{className:"bg-red-100 p-3 rounded-full",children:(0,mr.jsx)(dl,{className:"text-red-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Filtered Results"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:S.length})]}),(0,mr.jsx)("div",{className:"bg-purple-100 p-3 rounded-full",children:(0,mr.jsx)(Oo,{className:"text-purple-600"})})]})})]}),(0,mr.jsx)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left cursor-pointer hover:bg-gray-100 transition-colors",children:(0,mr.jsx)("div",{className:"flex items-center gap-1",children:"Name"})}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left cursor-pointer hover:bg-gray-100 transition-colors",children:(0,mr.jsx)("div",{className:"flex items-center gap-1",children:"Designation"})}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Contact"}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Email"}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left cursor-pointer hover:bg-gray-100 transition-colors",children:(0,mr.jsx)("div",{className:"flex items-center gap-1",children:"Joining Date"})}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Status"}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-center",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"divide-y divide-gray-200",children:S.length>0?S.map((t,r)=>(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700",children:(0,mr.jsx)("div",{children:(0,mr.jsx)("p",{className:"font-medium text-gray-900",children:t.employee_name})})}),(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700",children:t.designation}),(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700",children:t.contact_number}),(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700",children:t.email}),(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700",children:new Date(t.joining_date).toLocaleDateString()}),(0,mr.jsx)("td",{className:"p-3 text-sm",children:(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("Active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:t.status})}),(0,mr.jsx)("td",{className:"p-3 text-sm",children:(0,mr.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,mr.jsx)("button",{onClick:()=>(async(t,r)=>{try{const s=localStorage.getItem("token"),a="Active"===("active"===r.toLowerCase()?"Active":"Inactive")?"Inactive":"Active";await Ua.put("/staff/update/".concat(t),{status:a},{headers:{Authorization:"Bearer ".concat(s)}}),n(e.map(e=>e.id===t?N(N({},e),{},{status:a}):e)),pi.success("Status changed to ".concat(a))}catch(s){console.error("Error updating status:",s),pi.error("Failed to update status")}})(t.id,t.status),className:"p-2 rounded-lg transition-colors ".concat("Active"===t.status?"text-green-600 hover:bg-green-100":"text-red-600 hover:bg-red-100"),title:"Toggle Status",children:"Active"===t.status?(0,mr.jsx)(ul,{size:18}):(0,mr.jsx)(dl,{size:18})}),(0,mr.jsx)("button",{onClick:()=>A("/sinfodemanager/staff/".concat(t.id)),className:"p-2 text-purple-600 hover:bg-purple-100 rounded-lg transition-colors",title:"View Staff",children:(0,mr.jsx)(Mo,{size:16})}),(0,mr.jsx)("button",{onClick:()=>(e=>{d(e.id),y({employee_name:e.employee_name,designation:e.designation,joining_date:e.joining_date,contact_number:e.contact_number,email:e.email,department:e.department,status:e.status,branch_id:e.branch_id,staffcreate_name:e.staffcreate_name,staffcreate_email:e.staffcreate_email,staffcreate_password:"",monthly_salary:e.monthly_salary}),i(!0)})(t),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Staff",children:(0,mr.jsx)(ko,{size:16})}),(0,mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this staff member?"))try{const t=localStorage.getItem("token");await Ua.delete("/staff/delete/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Staff deleted successfully!"),v()}catch(t){console.error("Error deleting staff:",t),pi.error("Failed to delete staff")}})(t.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Staff",children:(0,mr.jsx)(hl,{size:16})})]})})]},t.id)):(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"8",className:"text-center p-8 text-gray-500",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,mr.jsx)(rl,{className:"text-4xl text-gray-300 mb-2"}),(0,mr.jsx)("p",{className:"text-lg",children:"No staff members found"}),(0,mr.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search or filters"})]})})})})]})})}),(0,mr.jsxs)("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-600",children:[(0,mr.jsxs)("div",{children:["Showing ",(0,mr.jsx)("span",{className:"font-medium",children:S.length})," of"," ",(0,mr.jsx)("span",{className:"font-medium",children:e.length})," staff members"]}),(0,mr.jsxs)("div",{className:"text-xs text-gray-500",children:["Sorted by: ",g.key?"".concat(g.key," (").concat(g.direction,")"):"None"]})]}),a&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50",children:(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl relative max-h-[90vh] overflow-y-auto",children:[(0,mr.jsx)("button",{onClick:()=>{i(!1),d(null),B()},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 transition-colors",children:(0,mr.jsx)(cl,{size:20})}),(0,mr.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:c?"Update Staff":"Create Staff"}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),l(!0);try{const e=localStorage.getItem("token"),t=N(N({},b),{},{branch_id:f,status:b.status});c?(await Ua.put("/staff/update/".concat(c),t,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Staff updated successfully!")):(await Ua.post("/staff/create",t,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Staff created successfully!")),v(),i(!1),d(null),B()}catch(t){if(console.error(t),t.response&&t.response.data&&t.response.data.errors){const e=t.response.data.errors;let n="Please fix the following errors:\n";for(const t in e)n+="".concat(t,": ").concat(e[t].join(", "),"\n");pi.error(n)}else pi.error(c?"Error updating staff":"Error creating staff")}finally{l(!1)}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Employee Name *"}),(0,mr.jsx)("input",{name:"employee_name",value:b.employee_name,onChange:k,placeholder:"Enter employee name",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Designation *"}),(0,mr.jsx)("input",{name:"designation",value:b.designation,onChange:k,placeholder:"Enter designation",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date *"}),(0,mr.jsx)("input",{name:"joining_date",value:b.joining_date,onChange:k,type:"date",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Salary *"}),(0,mr.jsx)("input",{name:"monthly_salary",value:b.monthly_salary,onChange:k,placeholder:"Enter monthly salary",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,type:"number"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number *"}),(0,mr.jsx)("input",{name:"contact_number",value:b.contact_number,onChange:k,placeholder:"Enter 10-digit contact number",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",type:"tel",maxLength:"10",pattern:"[0-9]{10}",title:"Please enter exactly 10 digits",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,mr.jsx)("input",{name:"email",value:b.email,onChange:k,placeholder:"Enter email address",type:"email",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),(0,mr.jsx)("input",{name:"department",value:b.department,onChange:k,placeholder:"Enter department",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),(0,mr.jsxs)("select",{name:"status",value:b.status,onChange:k,className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,mr.jsx)("option",{value:"Active",children:"Active"}),(0,mr.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Create Name *"}),(0,mr.jsx)("input",{name:"staffcreate_name",value:b.staffcreate_name,onChange:k,placeholder:"Enter staff create name",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff Create Email *"}),(0,mr.jsx)("input",{name:"staffcreate_email",value:b.staffcreate_email,onChange:k,placeholder:"Enter staff create email",type:"email",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:["Staff Create Password ",!c&&"*"]}),(0,mr.jsx)("input",{name:"staffcreate_password",value:b.staffcreate_password,onChange:k,placeholder:"Enter staff create password",type:"password",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!c}),c&&(0,mr.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Leave blank to keep current password"})]}),(0,mr.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-3 mt-4 pt-4 border-t",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>{i(!1),d(null),B()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",disabled:o,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:o?"Saving...":c?"Update Staff":"Create Staff"})]})]})]})})]})]})}const jk=["acccreate_name","acccreate_email","acccreate_password"];function Nk(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[A,f]=(0,t.useState)(null),[m,p]=(0,t.useState)(!1),[g,x]=(sn(),(0,t.useState)({status:"all",department:"all",attendance_status:"all",salaryRange:{min:"",max:""},dateRange:{start:"",end:""}})),[b,y]=(0,t.useState)({key:null,direction:"ascending"}),[w,j]=(0,t.useState)({accountant_name:"",accountant_code:"",joining_date:"",contact_number:"",email:"",department:"",attendance_status:"Present",branch_id:"",monthly_salary:"",acccreate_name:"",acccreate_email:"",acccreate_password:"",status:"Active"}),_=async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const t=await Ua.get("/accountants",{headers:{Authorization:"Bearer ".concat(e)}});let r=[];Array.isArray(t.data)?r=t.data:t.data&&Array.isArray(t.data.data)&&(r=t.data.data),n(r)}catch(e){console.error("Error fetching accountants:",e),pi.error("Failed to load accountants list")}};(0,t.useEffect)(()=>{_()},[]);const C=(e,t)=>{x(n=>N(N({},n),{},{[e]:t}))},S=(e,t)=>{x(n=>N(N({},n),{},{dateRange:N(N({},n.dateRange),{},{[e]:t})}))},k=[...new Set(e.map(e=>e.department).filter(Boolean))],B=[...new Set(e.map(e=>e.status).filter(Boolean))],E=(new Set(e.map(e=>e.attendance_status).filter(Boolean)),e.filter(e=>{const t=(e.accountant_name||"").toLowerCase().includes(r.toLowerCase())||(e.department||"").toLowerCase().includes(r.toLowerCase())||(e.accountant_code||"").toLowerCase().includes(r.toLowerCase())||(e.email||"").toLowerCase().includes(r.toLowerCase()),n="all"===g.status||e.status===g.status,s="all"===g.department||e.department===g.department,a="all"===g.attendance_status||e.attendance_status===g.attendance_status,i=parseFloat(e.monthly_salary)||0,o=g.salaryRange.min?parseFloat(g.salaryRange.min):0,l=g.salaryRange.max?parseFloat(g.salaryRange.max):1/0,c=i>=o&&i<=l,d=new Date(e.joining_date),u=g.dateRange.start?new Date(g.dateRange.start):null,h=g.dateRange.end?new Date(g.dateRange.end):null;return t&&n&&s&&a&&c&&((!u||d>=u)&&(!h||d<=h))}).sort((e,t)=>{if(!b.key)return 0;let n=e[b.key],r=t[b.key];return"joining_date"===b.key&&(n=new Date(n),r=new Date(r)),"monthly_salary"===b.key&&(n=parseFloat(n)||0,r=parseFloat(r)||0),"string"===typeof n&&(n=n.toLowerCase(),r=r.toLowerCase()),n<r?"ascending"===b.direction?-1:1:n>r?"ascending"===b.direction?1:-1:0})),L=e=>{if("contact_number"===e.target.name){const t=e.target.value.replace(/\D/g,"");t.length<=10&&j(N(N({},w),{},{[e.target.name]:t}))}else j(N(N({},w),{},{[e.target.name]:e.target.value}))},M=()=>{j({accountant_name:"",accountant_code:"",joining_date:"",contact_number:"",email:"",department:"",attendance_status:"Present",branch_id:"",monthly_salary:"",acccreate_name:"",acccreate_email:"",acccreate_password:"",status:"Active"})};return(0,mr.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-6 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Accountants Management"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Manage your accountants efficiently"})]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[(0,mr.jsxs)("button",{onClick:()=>{const e=E.map(e=>({"Accountant Name":e.accountant_name,"Accountant Code":e.accountant_code,Department:e.department,"Joining Date":e.joining_date,"Contact Number":e.contact_number,Email:e.email,"Monthly Salary":e.monthly_salary,"Branch ID":e.branch_id,"Attendance Status":e.attendance_status,Status:e.status})),t=r_.json_to_sheet(e),n=r_.book_new();r_.book_append_sheet(n,t,"Accountants Data"),WN(n,"accountants_data.xlsx")},className:"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,mr.jsx)(Io,{})," Export to Excel"]}),(0,mr.jsxs)("button",{onClick:()=>{h(null),M(),i(!0)},className:"bg-[#3F8CFF] hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center gap-2 transition-colors",children:[(0,mr.jsx)(Zo,{})," Create Accountant"]})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-sm border p-4 mb-6",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4",children:[(0,mr.jsxs)("div",{className:"flex-1 relative",children:[(0,mr.jsx)(rl,{className:"absolute left-3 top-3 text-gray-400"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search by name, department, code, or email...",value:r,onChange:e=>s(e.target.value),className:"border border-gray-300 p-2 pl-10 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mr.jsxs)("button",{onClick:()=>p(!m),className:"px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ".concat("bg-[#3F8CFF] text-white"),children:[(0,mr.jsx)(Oo,{})," Filters",Object.values(g).some(e=>"string"===typeof e?"all"!==e:Object.values(e).some(Boolean))&&(0,mr.jsx)("span",{className:"bg-red-500 text-white rounded-full w-2 h-2"})]})]}),m&&(0,mr.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg border",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status"}),(0,mr.jsxs)("select",{value:g.status,onChange:e=>C("status",e.target.value),className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mr.jsx)("option",{value:"all",children:"All Status"}),B.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department"}),(0,mr.jsxs)("select",{value:g.department,onChange:e=>C("department",e.target.value),className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mr.jsx)("option",{value:"all",children:"All Departments"}),k.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date Range"}),(0,mr.jsxs)("div",{className:"flex gap-2",children:[(0,mr.jsx)("input",{type:"date",value:g.dateRange.start,onChange:e=>S("start",e.target.value),className:"border border-gray-300 p-2 rounded-lg w-full text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Start Date"}),(0,mr.jsx)("input",{type:"date",value:g.dateRange.end,onChange:e=>S("end",e.target.value),className:"border border-gray-300 p-2 rounded-lg w-full text-sm focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"End Date"})]})]})]}),(0,mr.jsx)("div",{className:"mt-4 flex justify-end",children:(0,mr.jsx)("button",{onClick:()=>{x({status:"all",department:"all",attendance_status:"all",salaryRange:{min:"",max:""},dateRange:{start:"",end:""}}),s("")},className:"bg-[#3F8CFF] text-white px-4 py-2 rounded-lg",children:"Reset Filters"})})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-6",children:[(0,mr.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Accountants"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:e.length})]}),(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-full",children:(0,mr.jsx)(Zo,{className:"text-blue-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Active Accountants"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:e.filter(e=>"Active"===e.status).length})]}),(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-full",children:(0,mr.jsx)(ul,{className:"text-green-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white p-4 rounded-lg shadow-sm border",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Filtered Results"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-purple-600",children:E.length})]}),(0,mr.jsx)("div",{className:"bg-purple-100 p-3 rounded-full",children:(0,mr.jsx)(Oo,{className:"text-purple-600"})})]})})]}),(0,mr.jsx)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50 border-b-2 border-gray-200",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Sr. No."}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left cursor-pointer hover:bg-gray-100 transition-colors",children:(0,mr.jsx)("div",{className:"flex items-center gap-1",children:"Name"})}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left cursor-pointer hover:bg-gray-100 transition-colors",children:(0,mr.jsx)("div",{className:"flex items-center gap-1",children:"Department"})}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left cursor-pointer hover:bg-gray-100 transition-colors",children:(0,mr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,mr.jsx)(uo,{className:"text-gray-400"}),"Joining Date"]})}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Contact"}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left cursor-pointer hover:bg-gray-100 transition-colors",children:(0,mr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,mr.jsx)(tl,{className:"text-gray-400"}),"Salary"]})}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-left",children:"Status"}),(0,mr.jsx)("th",{className:"p-3 text-sm font-semibold tracking-wide text-center",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"divide-y divide-gray-200",children:E.length>0?E.map((e,t)=>{return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700",children:t+1}),(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700",children:(0,mr.jsx)("div",{children:(0,mr.jsx)("p",{className:"font-medium text-gray-900",children:e.accountant_name})})}),(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700",children:(0,mr.jsx)("span",{className:"bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded-full",children:e.department})}),(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700",children:new Date(e.joining_date).toLocaleDateString()}),(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700",children:e.contact_number}),(0,mr.jsx)("td",{className:"p-3 text-sm text-gray-700 font-medium",children:(0,mr.jsxs)("div",{className:"flex items-center gap-1",children:[(0,mr.jsx)(tl,{className:"text-gray-400 text-xs"}),(n=e.monthly_salary,n?parseFloat(n).toLocaleString("en-IN",{maximumFractionDigits:2,minimumFractionDigits:2}):"0.00")]})}),(0,mr.jsx)("td",{className:"p-3 text-sm",children:(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat("Active"===e.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:e.status})}),(0,mr.jsx)("td",{className:"p-3 text-sm",children:(0,mr.jsxs)("div",{className:"flex justify-center gap-2",children:[(0,mr.jsx)("button",{onClick:()=>(e=>{var t,n;h(e.id),j({accountant_name:e.accountant_name,accountant_code:e.accountant_code,joining_date:e.joining_date,contact_number:e.contact_number,email:e.email,department:e.department,attendance_status:e.attendance_status,branch_id:e.branch_id,monthly_salary:e.monthly_salary,acccreate_name:(null===(t=e.user)||void 0===t?void 0:t.email)||"",acccreate_email:(null===(n=e.user)||void 0===n?void 0:n.email)||"",acccreate_password:"",status:e.status||"Active"}),i(!0)})(e),className:"p-2 text-blue-600 hover:bg-blue-100 rounded-lg transition-colors",title:"Edit Accountant",children:(0,mr.jsx)(ko,{size:16})}),(0,mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this accountant?"))try{const t=localStorage.getItem("token");await Ua.delete("/accountants/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("Accountant deleted successfully!"),_()}catch(t){console.error("Error deleting accountant:",t),pi.error("Failed to delete accountant")}})(e.id),className:"p-2 text-red-600 hover:bg-red-100 rounded-lg transition-colors",title:"Delete Accountant",children:(0,mr.jsx)(hl,{size:16})})]})})]},e.id);var n}):(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"9",className:"text-center p-8 text-gray-500",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,mr.jsx)(rl,{className:"text-4xl text-gray-300 mb-2"}),(0,mr.jsx)("p",{className:"text-lg",children:"No accountants found"}),(0,mr.jsx)("p",{className:"text-sm text-gray-400 mt-1",children:"Try adjusting your search or filters"})]})})})})]})})}),(0,mr.jsxs)("div",{className:"mt-4 flex justify-between items-center text-sm text-gray-600",children:[(0,mr.jsxs)("div",{children:["Showing ",(0,mr.jsx)("span",{className:"font-medium",children:E.length})," of"," ",(0,mr.jsx)("span",{className:"font-medium",children:e.length})," accountants"]}),(0,mr.jsxs)("div",{className:"text-xs text-gray-500",children:["Sorted by: ",b.key?"".concat(b.key," (").concat(b.direction,")"):"None"]})]}),a&&(0,mr.jsx)("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-50 z-50 p-4",children:(0,mr.jsxs)("div",{className:"bg-white p-6 rounded-lg shadow-xl w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsx)("button",{onClick:()=>{i(!1),h(null),M()},className:"absolute top-4 right-4 text-gray-500 hover:text-gray-800 transition-colors",children:(0,mr.jsx)(cl,{size:20})}),(0,mr.jsx)("h2",{className:"text-xl font-bold mb-4 text-gray-800",children:u?"Update Accountant":"Create Accountant"}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),d(!0);try{const e=localStorage.getItem("token");if(u){const{acccreate_name:t,acccreate_email:n,acccreate_password:r}=w,s=v(w,jk);await Ua.put("/accountants/".concat(u),s,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Accountant updated successfully!")}else await Ua.post("/accountants",w,{headers:{Authorization:"Bearer ".concat(e)}}),pi.success("Accountant created successfully!");_(),i(!1),h(null),M()}catch(t){console.error(t),pi.error(u?"Error updating accountant":"Error creating accountant")}finally{d(!1)}},className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accountant Name *"}),(0,mr.jsx)("input",{name:"accountant_name",value:w.accountant_name,onChange:L,placeholder:"Accountant Name",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Accountant Code"}),(0,mr.jsx)("input",{name:"accountant_code",value:w.accountant_code,onChange:L,placeholder:"Accountant Code",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Joining Date *"}),(0,mr.jsx)("input",{name:"joining_date",value:w.joining_date,onChange:L,type:"date",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Contact Number *"}),(0,mr.jsx)("input",{name:"contact_number",value:w.contact_number,onChange:L,placeholder:"Contact Number",type:"tel",maxLength:"10",pattern:"[0-9]{10}",title:"Please enter exactly 10 digits",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email *"}),(0,mr.jsx)("input",{name:"email",value:w.email,onChange:L,placeholder:"Email",type:"email",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Department *"}),(0,mr.jsx)("input",{name:"department",value:w.department,onChange:L,placeholder:"Department",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Monthly Salary *"}),(0,mr.jsx)("input",{name:"monthly_salary",value:w.monthly_salary,onChange:L,placeholder:"Monthly Salary",type:"number",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Status *"}),(0,mr.jsxs)("select",{name:"status",value:w.status,onChange:L,className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0,children:[(0,mr.jsx)("option",{value:"Active",children:"Active"}),(0,mr.jsx)("option",{value:"Inactive",children:"Inactive"})]})]}),!u&&(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Login Username *"}),(0,mr.jsx)("input",{name:"acccreate_name",value:w.acccreate_name,onChange:L,placeholder:"Login Username",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Login Email *"}),(0,mr.jsx)("input",{name:"acccreate_email",value:w.acccreate_email,onChange:L,placeholder:"Login Email",type:"email",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Login Password *"}),(0,mr.jsx)("input",{name:"acccreate_password",value:w.acccreate_password,onChange:L,placeholder:"Login Password",type:"password",className:"border border-gray-300 p-2 rounded-lg w-full focus:ring-2 focus:ring-blue-500 focus:border-transparent",required:!0})]})]}),(0,mr.jsxs)("div",{className:"md:col-span-2 flex justify-end gap-3 mt-4 pt-4 border-t",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>{i(!1),h(null),M()},className:"px-6 py-2 border border-gray-300 text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",disabled:c,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:c?"Saving...":u?"Update Accountant":"Create Accountant"})]})]})]})})]})]})}function _k(){const[e,n]=(0,t.useState)("staff");return(0,mr.jsx)(DS,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsxs)("div",{className:"w-60 bg-white rounded-xl shadow-md p-4 space-y-3",children:[(0,mr.jsx)("button",{onClick:()=>n("staff"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("staff"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"Staff"}),(0,mr.jsx)("button",{onClick:()=>n("accountant"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("accountant"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"Accountant"})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto",children:["staff"===e&&(0,mr.jsx)(wk,{}),"accountant"===e&&(0,mr.jsx)(Nk,{})]})]})})}const Ck=()=>(0,mr.jsxs)(Cn,{children:[(0,mr.jsx)(Nn,{path:"/sinfodemanager/dashboard",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(TS,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/profile",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(yk,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/branch",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(OS,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/students",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(VS,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/staff",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(_k,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/staff/:id",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(qS,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/courses",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(XS,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/fees",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(tk,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/attendance",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(ik,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/leads",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(ok,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/expenses",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(hk,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/salary",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(mk,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/invoice",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(pk,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/campaign",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(xk,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/communication",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(bk,{})})}),(0,mr.jsx)(Nn,{path:"/sinfodemanager/reports",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(vk,{})})})]});function Sk(){var e,n;const[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)((new Date).getFullYear()),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(0),[A,f]=(0,t.useState)({totalLeads:0,convertedLeads:0}),[m,p]=(0,t.useState)(!1),g=JSON.parse(localStorage.getItem("user")||"{}"),x=g.branch_id,b=g.branch_name||"Your Branch",y=(new Date).getFullYear(),v=[];for(let t=2e3;t<=y+10;t++)v.push(t);(0,t.useEffect)(()=>{x&&((async()=>{if(x){d(!0);try{var e;const t=localStorage.getItem("token"),n=(await Ua.get("/monthly-revenue",{headers:{Authorization:"Bearer ".concat(t)},params:{year:a,branch_id:x}})).data.branches.find(e=>e.branch_id===x);l(n);const r=(null===n||void 0===n||null===(e=n.monthly_revenue)||void 0===e?void 0:e.reduce((e,t)=>e+parseFloat(t.student_fee||0),0))||0;h(r)}catch(t){console.error("Error fetching revenue data:",t),alert("Failed to load revenue data")}finally{d(!1)}}})(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/leads/index",{headers:{Authorization:"Bearer ".concat(e)},params:{branch_id:x}})).data||[],n=t.filter(e=>"Converted"===e.lead_status).length;f({totalLeads:t.length,convertedLeads:n})}catch(e){console.error("Error fetching leads data:",e)}})())},[x,a]),(0,t.useEffect)(()=>{const e=e=>{e.target.closest(".year-dropdown-container")||p(!1)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const w={labels:(null===o||void 0===o||null===(e=o.monthly_revenue)||void 0===e?void 0:e.map(e=>e.month.substring(0,3)))||[],datasets:[{label:"Monthly Revenue (\u20b9)",data:(null===o||void 0===o||null===(n=o.monthly_revenue)||void 0===n?void 0:n.map(e=>e.student_fee))||[],backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)","rgba(199, 199, 199, 0.8)","rgba(83, 102, 255, 0.8)","rgba(40, 159, 64, 0.8)","rgba(210, 99, 132, 0.8)","rgba(130, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)"],borderColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(199, 199, 199, 1)","rgba(83, 102, 255, 1)","rgba(40, 159, 64, 1)","rgba(210, 99, 132, 1)","rgba(130, 162, 235, 1)","rgba(255, 206, 86, 1)"],borderWidth:1,borderRadius:6,hoverBackgroundColor:["rgba(255, 99, 132, 1)","rgba(54, 162, 235, 1)","rgba(255, 206, 86, 1)","rgba(75, 192, 192, 1)","rgba(153, 102, 255, 1)","rgba(255, 159, 64, 1)","rgba(199, 199, 199, 1)","rgba(83, 102, 255, 1)","rgba(40, 159, 64, 1)","rgba(210, 99, 132, 1)","rgba(130, 162, 235, 1)","rgba(255, 206, 86, 1)"]}]},j={responsive:!0,plugins:{legend:{position:"top",labels:{color:"#4B5563",font:{size:12,family:"Nunito, sans-serif"}}},title:{display:!0,text:"Monthly Revenue Analysis - ".concat(a),color:"#374151",font:{size:16,weight:"bold",family:"Nunito, sans-serif"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#1F2937",bodyColor:"#1F2937",borderColor:"#E5E7EB",borderWidth:1,padding:10,boxPadding:6,usePointStyle:!0,callbacks:{label:function(e){return"Revenue: \u20b9".concat(e.raw.toLocaleString("en-IN"))}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:"#4B5563",callback:function(e){return"\u20b9"+e.toLocaleString("en-IN")}},title:{display:!0,text:"Revenue (\u20b9)",color:"#4B5563",font:{family:"Nunito, sans-serif"}}},x:{grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:"#4B5563",font:{family:"Nunito, sans-serif"}}}},maintainAspectRatio:!1};return(0,mr.jsxs)(A_,{children:[(0,mr.jsxs)("div",{className:"p-6 bg-[#F4F9FD] min-h-screen",children:[(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Welcome Back,"}),(0,mr.jsx)("h1",{className:"text-[30px] mb-2 font-nunito",children:"Dashboard"})]}),(0,mr.jsxs)("div",{className:"year-dropdown-container relative mt-4 md:mt-0",children:[(0,mr.jsxs)("button",{onClick:()=>p(!m),className:"flex items-center justify-between bg-white rounded-xl shadow border border-gray-200 px-4 py-3 w-48 hover:shadow-md transition-all duration-200 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)(uo,{className:"text-gray-500 mr-3"}),(0,mr.jsx)("span",{className:"text-gray-700 font-medium",children:a})]}),(0,mr.jsx)(xo,{className:"text-gray-400 transition-transform duration-200 ".concat(m?"rotate-180":""),size:12})]}),m&&(0,mr.jsxs)("div",{className:"absolute top-full left-0 mt-2 w-48 bg-white rounded-xl shadow-lg border border-gray-200 z-50 max-h-80 overflow-hidden",children:[(0,mr.jsx)("div",{className:"p-3 border-b border-gray-100",children:(0,mr.jsx)("input",{type:"text",placeholder:"Search year...",className:"w-full px-3 py-2 border border-gray-300 rounded-lg text-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",onChange:e=>{}})}),(0,mr.jsx)("div",{className:"max-h-60 overflow-y-auto custom-scrollbar",children:v.map(e=>(0,mr.jsxs)("button",{onClick:()=>{i(e),p(!1)},className:"w-full px-4 py-3 text-left hover:bg-blue-50 transition-colors duration-150 flex items-center justify-between ".concat(e===a?"bg-blue-500 text-white hover:bg-blue-600":"text-gray-700"),children:[(0,mr.jsx)("span",{className:"font-medium",children:e}),e===a&&(0,mr.jsx)("div",{className:"w-2 h-2 bg-white rounded-full"})]},e))}),(0,mr.jsxs)("div",{className:"p-3 border-t border-gray-100 bg-gray-50 flex justify-between",children:[(0,mr.jsx)("button",{onClick:()=>{const e=v[0];i(e),p(!1)},className:"text-xs text-gray-500 hover:text-gray-700 px-2 py-1 rounded",children:"Oldest"}),(0,mr.jsx)("button",{onClick:()=>{i(y),p(!1)},className:"text-xs text-blue-500 hover:text-blue-700 px-2 py-1 rounded font-medium",children:"Current"}),(0,mr.jsx)("button",{onClick:()=>{const e=v[v.length-1];i(e),p(!1)},className:"text-xs text-gray-500 hover:text-gray-700 px-2 py-1 rounded",children:"Latest"})]})]})]})]}),(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:(0,mr.jsxs)("a",{href:"/staff/leads",className:"bg-white rounded-xl shadow p-4 flex items-center hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-lg mr-4",children:(0,mr.jsx)(pl,{className:"text-green-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"font-semibold",children:"Add Lead"}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Create a new lead"})]})]})}),(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold font-nunito",children:"Revenue Summary"}),(0,mr.jsxs)("p",{className:"text-sm opacity-90",children:["Total revenue for ",a]})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsxs)("p",{className:"text-3xl font-bold flex items-center justify-end",children:[(0,mr.jsx)(tl,{className:"mr-1"})," ",u.toLocaleString("en-IN",{maximumFractionDigits:2})]}),(0,mr.jsx)("p",{className:"text-sm opacity-90",children:b})]})]})}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6 mb-6",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsx)("h2",{className:"font-semibold text-xl font-nunito",children:"Leads Overview"}),(0,mr.jsxs)("a",{href:"/sinfodemanager/leads",className:"text-blue-500 text-sm flex items-center",children:["View all leads ",(0,mr.jsx)(ao,{className:"ml-1 rotate-45"})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6",children:[(0,mr.jsx)("div",{className:"bg-blue-50 p-4 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)(pl,{className:"text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Leads"}),(0,mr.jsx)("p",{className:"text-2xl font-bold",children:A.totalLeads})]})]})}),(0,mr.jsx)("div",{className:"bg-green-50 p-4 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)(ml,{className:"text-green-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Converted Leads"}),(0,mr.jsx)("p",{className:"text-2xl font-bold",children:A.convertedLeads})]})]})}),(0,mr.jsx)("div",{className:"bg-purple-50 p-4 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)(Oo,{className:"text-purple-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Conversion Rate"}),(0,mr.jsx)("p",{className:"text-2xl font-bold",children:A.totalLeads>0?"".concat((A.convertedLeads/A.totalLeads*100).toFixed(1),"%"):"0%"})]})]})})]})]}),(0,mr.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,mr.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,mr.jsx)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:(0,mr.jsx)("h2",{className:"font-semibold text-xl font-nunito text-gray-800 mb-4 md:mb-0",children:"Revenue Analytics"})}),(0,mr.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:["Showing data for: ",(0,mr.jsx)("span",{className:"font-semibold",children:b})," \u2022 Year: ",(0,mr.jsx)("span",{className:"font-semibold",children:a})]}),c?(0,mr.jsx)("div",{className:"flex justify-center items-center h-80",children:(0,mr.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,mr.jsx)("div",{className:"rounded-full bg-gray-200 h-12 w-12 mb-4"}),(0,mr.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"})]})}):o?(0,mr.jsx)("div",{className:"h-80",children:(0,mr.jsx)(mp,{data:w,options:j})}):(0,mr.jsx)("div",{className:"flex justify-center items-center h-80 text-gray-500",children:(0,mr.jsxs)("p",{children:["Loading revenue data for ",b,"..."]})})]})})})]}),(0,mr.jsx)("style",{jsx:!0,children:"\n        .custom-scrollbar::-webkit-scrollbar {\n          width: 6px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-track {\n          background: #f1f1f1;\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb {\n          background: #c1c1c1;\n          border-radius: 3px;\n        }\n        .custom-scrollbar::-webkit-scrollbar-thumb:hover {\n          background: #a8a8a8;\n        }\n      "})]})}tf.register(km,Mm,bf,gf,Cf,om,Nm,am,lf);const kk=function(){const[e,n]=(0,t.useState)({batch_name:"",course_id:"",branch_id:"",start_date:"",end_date:"",batch_start_time:"",batch_end_time:"",student_limit:""}),[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(null),c=JSON.parse(localStorage.getItem("user")||"{}").branch_id;(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=((await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[]).filter(e=>e.branch_id===c);i(t)}catch(e){console.error("Error fetching courses:",e)}})()},[]);const d=t=>{const{name:r,value:s}=t.target;if(n(N(N({},e),{},{[r]:s})),"course_id"===r){const e=a.find(e=>e.id===parseInt(s));l(e)}};return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:5e3,theme:"colored"}),(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2 font-nunito bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Create New Batch"}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:"Start a new learning journey for your students"})]}),(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-8 max-w-7xl mx-auto",children:[(0,mr.jsxs)("div",{className:"flex-1 bg-white rounded-2xl shadow-xl p-8 border border-gray-100 hover:shadow-2xl transition-all duration-300",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-8",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white p-3 rounded-xl",children:(0,mr.jsx)(el,{className:"text-2xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Batch Information"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"Fill in the details to create a new batch"})]})]}),(0,mr.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),s(!0);try{const t=localStorage.getItem("token"),r=N(N({},e),{},{branch_id:c});await Ua.post("/batches/create",r,{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("\ud83c\udf89 Batch created successfully!"),n({batch_name:"",course_id:"",branch_id:"",start_date:"",end_date:"",batch_start_time:"",batch_end_time:"",student_limit:""}),l(null)}catch(r){console.error(r),pi.error("\u274c Error creating batch")}finally{s(!1)}},className:"space-y-6",children:[(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,mr.jsx)(Al,{className:"text-blue-500"}),"Batch Name *"]}),(0,mr.jsx)("input",{type:"text",name:"batch_name",value:e.batch_name,onChange:d,required:!0,placeholder:"Enter batch name (e.g., Morning Batch 2024)",className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 placeholder-gray-400"})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-green-500"}),"Select Course *"]}),0===a.length?(0,mr.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-xl p-4 text-center",children:(0,mr.jsx)("p",{className:"text-yellow-700",children:"No courses available for your branch. Please create a course first."})}):(0,mr.jsxs)("select",{name:"course_id",value:e.course_id,onChange:d,required:!0,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200 appearance-none bg-white",children:[(0,mr.jsx)("option",{value:"",children:"-- Choose a Course --"}),a.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.course_name," - ",e.course_level," (",e.mode,")"]},e.id))]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,mr.jsx)(uo,{className:"text-purple-500"}),"Start Date *"]}),(0,mr.jsx)("input",{type:"date",name:"start_date",value:e.start_date,onChange:d,required:!0,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-purple-500 focus:border-transparent transition-all duration-200"})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,mr.jsx)(uo,{className:"text-red-500"}),"End Date *"]}),(0,mr.jsx)("input",{type:"date",name:"end_date",value:e.end_date,onChange:d,required:!0,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-red-500 focus:border-transparent transition-all duration-200"})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,mr.jsx)(jo,{className:"text-blue-500"}),"Start Time *"]}),(0,mr.jsx)("input",{type:"time",name:"batch_start_time",value:e.batch_start_time,onChange:d,required:!0,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,mr.jsx)(jo,{className:"text-green-500"}),"End Time *"]}),(0,mr.jsx)("input",{type:"time",name:"batch_end_time",value:e.batch_end_time,onChange:d,required:!0,className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-green-500 focus:border-transparent transition-all duration-200"})]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,mr.jsx)(xl,{className:"text-orange-500"}),"Student Limit *"]}),(0,mr.jsx)("input",{type:"number",name:"student_limit",value:e.student_limit,onChange:d,required:!0,min:"1",max:"100",placeholder:"Maximum number of students",className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-orange-500 focus:border-transparent transition-all duration-200"}),(0,mr.jsx)("p",{className:"text-xs text-gray-500",children:"Recommended: 20-30 students for optimal learning"})]}),(0,mr.jsx)("button",{type:"submit",disabled:r||0===a.length,className:"w-full py-4 px-6 rounded-xl font-semibold text-lg transition-all duration-300 transform hover:scale-105 ".concat(r||0===a.length?"bg-gray-400 cursor-not-allowed":"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 shadow-lg hover:shadow-xl"," text-white flex items-center justify-center gap-3"),children:r?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-white"}),"Creating Batch..."]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)(Zo,{}),"Create Batch"]})})]})]}),(0,mr.jsxs)("div",{className:"lg:w-96 space-y-6",children:[o&&(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[(0,mr.jsxs)("h3",{className:"text-lg font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,mr.jsx)(Uo,{className:"text-blue-500"}),"Selected Course"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Course Name:"}),(0,mr.jsx)("span",{className:"font-semibold text-gray-800",children:o.course_name})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Level:"}),(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat("Beginner"===o.course_level?"bg-green-100 text-green-800":"Intermediate"===o.course_level?"bg-yellow-100 text-yellow-800":"bg-red-100 text-red-800"),children:o.course_level})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Mode:"}),(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-semibold ".concat("Online"===o.mode?"bg-blue-100 text-blue-800":"Offline"===o.mode?"bg-purple-100 text-purple-800":"bg-teal-100 text-teal-800"),children:o.mode})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Duration:"}),(0,mr.jsxs)("span",{className:"font-semibold",children:[o.duration," months"]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-blue-500 to-purple-600 rounded-2xl shadow-xl p-6 text-white",children:[(0,mr.jsxs)("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[(0,mr.jsx)(el,{className:"text-yellow-300"}),"Pro Tips"]}),(0,mr.jsxs)("ul",{className:"space-y-3 text-sm",children:[(0,mr.jsxs)("li",{className:"flex items-start gap-2",children:[(0,mr.jsx)("span",{className:"bg-white/20 rounded-full p-1 mt-1",children:"\ud83d\udca1"}),(0,mr.jsx)("span",{children:"Choose a descriptive batch name for easy identification"})]}),(0,mr.jsxs)("li",{className:"flex items-start gap-2",children:[(0,mr.jsx)("span",{className:"bg-white/20 rounded-full p-1 mt-1",children:"\u23f0"}),(0,mr.jsx)("span",{children:"Ensure time slots don't overlap with existing batches"})]}),(0,mr.jsxs)("li",{className:"flex items-start gap-2",children:[(0,mr.jsx)("span",{className:"bg-white/20 rounded-full p-1 mt-1",children:"\ud83d\udc65"}),(0,mr.jsx)("span",{children:"Set realistic student limits for better learning experience"})]}),(0,mr.jsxs)("li",{className:"flex items-start gap-2",children:[(0,mr.jsx)("span",{className:"bg-white/20 rounded-full p-1 mt-1",children:"\ud83d\udcc5"}),(0,mr.jsx)("span",{children:"Plan dates considering holidays and important events"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-xl p-6 border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Batch Overview"}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-center",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-xl",children:[(0,mr.jsx)(xl,{className:"text-blue-500 text-2xl mx-auto mb-2"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:"0"}),(0,mr.jsx)("p",{className:"text-xs text-gray-600",children:"Active Batches"})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-xl",children:[(0,mr.jsx)(Uo,{className:"text-green-500 text-2xl mx-auto mb-2"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-gray-800",children:a.length}),(0,mr.jsx)("p",{className:"text-xs text-gray-600",children:"Available Courses"})]})]})]})]})]})]})};const Bk=function(){var e,n,r,s,a,i;const[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)(!0),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)({course:"all",status:"all"}),[g,x]=(0,t.useState)(null),[b,y]=(0,t.useState)(!1),[v,w]=(0,t.useState)(!1),[j,_]=(0,t.useState)({batch_name:"",student_limit:"",start_date:"",end_date:"",batch_start_time:"",batch_end_time:"",course_id:"",branch_id:""}),C=JSON.parse(localStorage.getItem("user")||"{}").branch_id,S=e=>{if(!e)return"";let t;if(t=(e.includes("."),e.split(":")),t.length<2)return e;let n=parseInt(t[0]);const r=t[1],s=n>=12?"PM":"AM";return n=n%12||12,"".concat(n,":").concat(r," ").concat(s)},k=e=>{if(!e)return"";let t,n;if(e.includes(".")){const r=e.split(":");t=r[0],n=r[1]}else{if(!e.includes(":"))return e;{const r=e.split(":");t=r[0],n=r[1]}}return"".concat(t.padStart(2,"0"),":").concat(n)},B=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}}),n=Array.isArray(t.data)?t.data:t.data.data||[];l(n);const r=n.filter(e=>e.branch_id===C);d(r)}catch(e){console.error("Error fetching batches:",e),pi.error("Failed to load batches")}finally{h(!1)}};(0,t.useEffect)(()=>{let e=o.filter(e=>e.branch_id===C);if(A&&(e=e.filter(e=>{var t,n,r;return(null===(t=e.batch_name)||void 0===t?void 0:t.toLowerCase().includes(A.toLowerCase()))||(null===(n=e.course)||void 0===n||null===(r=n.course_name)||void 0===r?void 0:r.toLowerCase().includes(A.toLowerCase()))})),"all"!==m.course&&(e=e.filter(e=>e.course_id==m.course)),"all"!==m.status){const t=new Date;"active"===m.status?e=e.filter(e=>new Date(e.start_date)<=t&&new Date(e.end_date)>=t):"upcoming"===m.status?e=e.filter(e=>new Date(e.start_date)>t):"completed"===m.status&&(e=e.filter(e=>new Date(e.end_date)<t))}d(e)},[o,A,m,C]),(0,t.useEffect)(()=>{B()},[]);const E=e=>{const t=new Date,n=new Date(e.start_date),r=new Date(e.end_date);return t<n?{status:"Upcoming",color:"bg-blue-100 text-blue-800 border-blue-200"}:t>r?{status:"Completed",color:"bg-gray-100 text-gray-800 border-gray-200"}:{status:"Active",color:"bg-green-100 text-green-800 border-green-200"}},L=async e=>{try{var t;const n=localStorage.getItem("token"),r=await Ua.get("/batches/show/".concat(e),{headers:{Authorization:"Bearer ".concat(n)}}),s=r.data.data?r.data.data:r.data;x(s),_({batch_name:s.batch_name||"",student_limit:s.student_limit||"",start_date:s.start_date||"",end_date:s.end_date||"",batch_start_time:k(s.batch_start_time)||"",batch_end_time:k(s.batch_end_time)||"",course_id:s.course_id||"",branch_id:s.branch_id||"",course_name:(null===(t=s.course)||void 0===t?void 0:t.course_name)||""}),w(!0)}catch(n){console.error("Error loading batch for edit:",n),pi.error("Failed to load batch for editing")}},M=()=>{f(""),p({course:"all",status:"all"})},F=[...new Set(o.filter(e=>e.branch_id===C).map(e=>{var t;return{id:e.course_id,name:null===(t=e.course)||void 0===t?void 0:t.course_name}}))].filter(e=>e.name);return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50 p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3}),(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2 font-nunito bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Batch Management"}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:"Manage and monitor all your course batches"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Batches"}),(0,mr.jsx)("h3",{className:"text-3xl font-bold text-gray-800",children:c.length})]}),(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-xl",children:(0,mr.jsx)(xl,{className:"text-blue-600 text-2xl"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-600 text-sm",children:"Active Batches"}),(0,mr.jsx)("h3",{className:"text-3xl font-bold text-gray-800",children:c.filter(e=>"Active"===E(e).status).length})]}),(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-xl",children:(0,mr.jsx)(mo,{className:"text-green-600 text-2xl"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-600 text-sm",children:"Upcoming Batches"}),(0,mr.jsx)("h3",{className:"text-3xl font-bold text-gray-800",children:c.filter(e=>"Upcoming"===E(e).status).length})]}),(0,mr.jsx)("div",{className:"bg-yellow-100 p-3 rounded-xl",children:(0,mr.jsx)(uo,{className:"text-yellow-600 text-2xl"})})]})})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,mr.jsx)("div",{className:"flex-1",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search batches by name or course...",value:A,onChange:e=>f(e.target.value),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 pl-12 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),(0,mr.jsx)(rl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]})}),(0,mr.jsx)("div",{className:"flex gap-4",children:(0,mr.jsxs)("button",{onClick:M,className:"px-4 py-3 border-2 bg-blue-500 border-gray-300 text-white rounded-xl font-semibold hover:bg-blue-600 transition-all duration-200 flex items-center gap-2",children:[(0,mr.jsx)(Oo,{}),"Reset"]})})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course"}),(0,mr.jsxs)("select",{value:m.course,onChange:e=>p(N(N({},m),{},{course:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[(0,mr.jsx)("option",{value:"all",children:"All Courses"}),F.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Status"}),(0,mr.jsxs)("select",{value:m.status,onChange:e=>p(N(N({},m),{},{status:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[(0,mr.jsx)("option",{value:"all",children:"All Status"}),(0,mr.jsx)("option",{value:"active",children:"Active"}),(0,mr.jsx)("option",{value:"upcoming",children:"Upcoming"}),(0,mr.jsx)("option",{value:"completed",children:"Completed"})]})]})]})]}),u?(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700",children:"Loading batches..."})]}):0===c.length?(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,mr.jsx)(xl,{className:"text-6xl text-gray-300 mx-auto mb-4"}),(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-600 mb-2",children:"No Batches Found"}),(0,mr.jsx)("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search or filters"}),(0,mr.jsx)("button",{onClick:M,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-200",children:"Reset Filters"})]}):(0,mr.jsx)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-8",children:c.map((e,t)=>{var n,r,s,a;const i=E(e);return(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 border border-gray-100 animate-fade-in",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white relative",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,mr.jsx)("div",{className:"px-3 py-1 rounded-full text-sm font-semibold border ".concat(i.color),children:i.status}),(0,mr.jsxs)("div",{className:"bg-white/20 px-3 py-1 rounded-full text-sm font-semibold",children:[e.student_limit," Students"]})]}),(0,mr.jsx)("h3",{className:"text-xl font-bold mb-2 line-clamp-2",children:e.batch_name}),(0,mr.jsxs)("p",{className:"text-blue-100 opacity-90 flex items-center gap-2",children:[(0,mr.jsx)(Uo,{}),null===(n=e.course)||void 0===n?void 0:n.course_name]})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(lo,{className:"text-green-500"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Branch"}),(0,mr.jsx)("p",{className:"font-semibold",children:null===(r=e.branch)||void 0===r?void 0:r.branch_name})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(uo,{className:"text-blue-500"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Duration"}),(0,mr.jsxs)("p",{className:"font-semibold",children:[e.start_date," to ",e.end_date]})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(jo,{className:"text-purple-500"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Timing"}),(0,mr.jsxs)("p",{className:"font-semibold",children:[S(e.batch_start_time)," - ",S(e.batch_end_time)]})]})]})]}),(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between text-sm text-gray-600 mb-1",children:[(0,mr.jsx)("span",{children:"Enrollment"}),(0,mr.jsxs)("span",{children:[(null===(s=e.students)||void 0===s?void 0:s.length)||0," / ",e.student_limit]})]}),(0,mr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,mr.jsx)("div",{className:"bg-green-500 h-2 rounded-full transition-all duration-500",style:{width:"".concat(((null===(a=e.students)||void 0===a?void 0:a.length)||0)/e.student_limit*100,"%")}})})]})]}),(0,mr.jsx)("div",{className:"border-t border-gray-100 p-4 bg-gray-50",children:(0,mr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,mr.jsx)("button",{onClick:()=>(async e=>{try{const t=localStorage.getItem("token"),n=await Ua.get("/batches/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),r=n.data.data?n.data.data:n.data;x(r),y(!0)}catch(t){console.error("Error fetching batch:",t),pi.error("Failed to load batch details")}})(e.id),className:"bg-blue-500 hover:bg-blue-600 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-md",title:"View Details",children:(0,mr.jsx)(Mo,{size:16})}),(0,mr.jsx)("button",{onClick:()=>L(e.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-md",title:"Edit Batch",children:(0,mr.jsx)(ko,{size:16})}),(0,mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this batch?"))try{const t=localStorage.getItem("token");await Ua.delete("/batches/destroy/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("\u2705 Batch deleted successfully!"),B()}catch(t){console.error("Error deleting batch:",t),pi.error("\u274c Failed to delete batch")}})(e.id),className:"bg-red-500 hover:bg-red-600 text-white p-3 rounded-xl transition-all duration-200 transform hover:scale-105 shadow-md",title:"Delete Batch",children:(0,mr.jsx)(hl,{size:16})})]})})]},e.id)})}),b&&g&&(0,mr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:(0,mr.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-scale-in",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-8 rounded-t-3xl",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold mb-2",children:g.batch_name}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,mr.jsx)("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:null===(e=g.course)||void 0===e?void 0:e.course_name}),(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-sm font-semibold border ".concat(E(g).color),children:E(g).status})]})]}),(0,mr.jsx)("button",{onClick:()=>y(!1),className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-xl transition-all duration-200 transform hover:scale-110",children:"\u2715"})]})}),(0,mr.jsxs)("div",{className:"p-8 space-y-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsx)("div",{className:"bg-blue-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-blue-500 p-2 rounded-lg",children:(0,mr.jsx)(Uo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Course"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:null===(n=g.course)||void 0===n?void 0:n.course_name})]})]})}),(0,mr.jsx)("div",{className:"bg-green-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-green-500 p-2 rounded-lg",children:(0,mr.jsx)(lo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Branch"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:null===(r=g.branch)||void 0===r?void 0:r.branch_name})]})]})}),(0,mr.jsx)("div",{className:"bg-purple-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-purple-500 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Student Limit"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:g.student_limit})]})]})}),(0,mr.jsx)("div",{className:"bg-orange-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-orange-500 p-2 rounded-lg",children:(0,mr.jsx)(uo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Duration"}),(0,mr.jsxs)("p",{className:"font-semibold text-gray-800",children:[g.start_date," to ",g.end_date]})]})]})}),(0,mr.jsx)("div",{className:"bg-teal-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-teal-500 p-2 rounded-lg",children:(0,mr.jsx)(jo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Start Time"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:S(g.batch_start_time)})]})]})}),(0,mr.jsx)("div",{className:"bg-pink-50 p-4 rounded-xl",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-pink-500 p-2 rounded-lg",children:(0,mr.jsx)(jo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"End Time"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:S(g.batch_end_time)})]})]})})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,mr.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,mr.jsx)(xl,{className:"text-green-500"}),"Enrollment Status"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between text-sm",children:[(0,mr.jsx)("span",{className:"text-gray-600",children:"Current Enrollment"}),(0,mr.jsxs)("span",{className:"font-semibold",children:[(null===(s=g.students)||void 0===s?void 0:s.length)||0," students"]})]}),(0,mr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-3",children:(0,mr.jsx)("div",{className:"bg-green-500 h-3 rounded-full transition-all duration-500",style:{width:"".concat(((null===(a=g.students)||void 0===a?void 0:a.length)||0)/g.student_limit*100,"%")}})}),(0,mr.jsxs)("div",{className:"flex justify-between text-xs text-gray-500",children:[(0,mr.jsxs)("span",{children:[(null===(i=g.students)||void 0===i?void 0:i.length)||0," enrolled"]}),(0,mr.jsxs)("span",{children:["Capacity: ",g.student_limit]})]})]})]})]}),(0,mr.jsx)("div",{className:"border-t p-6 bg-gray-50 rounded-b-3xl",children:(0,mr.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,mr.jsxs)("button",{onClick:()=>L(g.id),className:"bg-yellow-500 hover:bg-yellow-600 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 flex items-center gap-2 transform hover:scale-105",children:[(0,mr.jsx)(ko,{}),"Edit Batch"]}),(0,mr.jsx)("button",{onClick:()=>y(!1),className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-6 py-3 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105",children:"Close"})]})})]})}),v&&g&&(0,mr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:(0,mr.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto animate-scale-in",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white p-8 rounded-t-3xl",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold mb-2",children:"Edit Batch"}),(0,mr.jsx)("p",{className:"text-yellow-100",children:"Update batch information"})]}),(0,mr.jsx)("button",{onClick:()=>w(!1),className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-xl transition-all duration-200 transform hover:scale-110",children:"\u2715"})]})}),(0,mr.jsx)("div",{className:"p-8",children:(0,mr.jsxs)("form",{onSubmit:e=>{e.preventDefault(),(async e=>{try{if(!j.batch_name||!j.course_id||!j.start_date||!j.end_date||!j.student_limit||!j.batch_start_time||!j.batch_end_time)return void pi.error("Please fill in all fields");const t=localStorage.getItem("token"),n={batch_name:j.batch_name.trim(),course_id:j.course_id,start_date:j.start_date,end_date:j.end_date,batch_start_time:j.batch_start_time,batch_end_time:j.batch_end_time,student_limit:parseInt(j.student_limit),branch_id:j.branch_id};console.log("Sending update data:",n),await Ua.put("/batches/update/".concat(e),n,{headers:{Authorization:"Bearer ".concat(t)}}),pi.success("\u2705 Batch updated successfully!"),w(!1),B()}catch(t){console.error("Error updating batch:",t),t.response&&(console.error("Response data:",t.response.data),pi.error("\u274c Error: ".concat(t.response.data.message||"Update failed")))}})(g.id)},className:"space-y-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Batch Name *"}),(0,mr.jsx)("input",{type:"text",placeholder:"Enter batch name",value:j.batch_name,onChange:e=>_(N(N({},j),{},{batch_name:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Student Limit *"}),(0,mr.jsx)("input",{type:"number",placeholder:"Maximum students",value:j.student_limit,onChange:e=>_(N(N({},j),{},{student_limit:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0,min:"1"})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Date *"}),(0,mr.jsx)("input",{type:"date",value:j.start_date,onChange:e=>_(N(N({},j),{},{start_date:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Date *"}),(0,mr.jsx)("input",{type:"date",value:j.end_date,onChange:e=>_(N(N({},j),{},{end_date:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Start Time *"}),(0,mr.jsx)("input",{type:"time",value:j.batch_start_time,onChange:e=>_(N(N({},j),{},{batch_start_time:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"End Time *"}),(0,mr.jsx)("input",{type:"time",value:j.batch_end_time,onChange:e=>_(N(N({},j),{},{batch_end_time:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 focus:ring-2 focus:ring-yellow-500 focus:border-transparent transition-all duration-200",required:!0})]})]}),(0,mr.jsx)("div",{className:"bg-gray-50 rounded-xl p-4",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)(Uo,{className:"text-blue-500 text-xl"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Course (Cannot be changed)"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:j.course_name})]})]})}),(0,mr.jsx)("input",{type:"hidden",value:j.course_id}),(0,mr.jsx)("input",{type:"hidden",value:j.branch_id}),(0,mr.jsxs)("div",{className:"flex justify-end gap-4 pt-6",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>w(!1),className:"px-6 py-3 border-2 border-gray-300 text-gray-700 rounded-xl font-semibold hover:bg-gray-50 transition-all duration-200 transform hover:scale-105",children:"Cancel"}),(0,mr.jsxs)("button",{type:"submit",className:"px-6 py-3 bg-gradient-to-r from-yellow-500 to-orange-500 text-white rounded-xl font-semibold hover:shadow-lg transition-all duration-200 flex items-center gap-2 transform hover:scale-105",children:[(0,mr.jsx)(ko,{}),"Update Batch"]})]})]})})]})}),(0,mr.jsx)("style",{jsx:!0,children:"\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        @keyframes scale-in {\n          from { opacity: 0; transform: scale(0.9); }\n          to { opacity: 1; transform: scale(1); }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.5s ease-out;\n        }\n        .animate-scale-in {\n          animation: scale-in 0.3s ease-out;\n        }\n      "})]})};function Ek(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(null),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)({}),[u,h]=(0,t.useState)(""),[A,f]=(0,t.useState)({level:"all",mode:"all",category:"all",duration:"all"}),[m,p]=(0,t.useState)(!0),g=JSON.parse(localStorage.getItem("user")||"{}").branch_id;(0,t.useEffect)(()=>{let t=e;u&&(t=t.filter(e=>{var t,n;return(null===(t=e.course_name)||void 0===t?void 0:t.toLowerCase().includes(u.toLowerCase()))||(null===(n=e.course_category)||void 0===n?void 0:n.toLowerCase().includes(u.toLowerCase()))})),"all"!==A.level&&(t=t.filter(e=>e.course_level===A.level)),"all"!==A.mode&&(t=t.filter(e=>e.mode===A.mode)),"all"!==A.category&&(t=t.filter(e=>e.course_category===A.category)),"all"!==A.duration&&("short"===A.duration?t=t.filter(e=>e.duration<=3):"medium"===A.duration?t=t.filter(e=>e.duration>3&&e.duration<=6):"long"===A.duration&&(t=t.filter(e=>e.duration>6))),i(t)},[e,u,A]),(0,t.useEffect)(()=>{(async()=>{try{p(!0);const e=localStorage.getItem("token"),t=((await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[]).filter(e=>e.branch_id===g);n(t),i(t)}catch(e){console.error("Error fetching courses:",e)}finally{p(!1)}})()},[]);const x=()=>{f({level:"all",mode:"all",category:"all",duration:"all"}),h("")},b={total:e.length,online:e.filter(e=>"Online"===e.mode).length,offline:e.filter(e=>"Offline"===e.mode).length,technical:e.filter(e=>"Technical"===e.course_category).length};return(0,mr.jsxs)("div",{className:"p-6 bg-gradient-to-br from-blue-50 to-indigo-50 min-h-screen",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h1",{className:"text-4xl font-bold text-gray-800 mb-2 font-nunito bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Course Management"}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:"Discover and manage all your courses in one place"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 mb-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 border-l-4 border-blue-500",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-600 text-sm",children:"Total Courses"}),(0,mr.jsx)("h3",{className:"text-3xl font-bold text-gray-800",children:b.total})]}),(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-xl",children:(0,mr.jsx)(oo,{className:"text-blue-600 text-2xl"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 border-l-4 border-green-500",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-600 text-sm",children:"Online Courses"}),(0,mr.jsx)("h3",{className:"text-3xl font-bold text-gray-800",children:b.online})]}),(0,mr.jsx)("div",{className:"bg-green-100 p-3 rounded-xl",children:(0,mr.jsx)(mo,{className:"text-green-600 text-2xl"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg p-6 transform hover:scale-105 transition-all duration-300 border-l-4 border-purple-500",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-600 text-sm",children:"Offline Courses"}),(0,mr.jsx)("h3",{className:"text-3xl font-bold text-gray-800",children:b.offline})]}),(0,mr.jsx)("div",{className:"bg-purple-100 p-3 rounded-xl",children:(0,mr.jsx)(xl,{className:"text-purple-600 text-2xl"})})]})})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-6 mb-8",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-6",children:[(0,mr.jsx)("div",{className:"flex-1",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search courses by name or category...",value:u,onChange:e=>h(e.target.value),className:"w-full border-2 border-gray-200 rounded-xl px-4 py-3 pl-12 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200"}),(0,mr.jsx)(rl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 text-lg"})]})}),(0,mr.jsx)("div",{className:"flex gap-4",children:(0,mr.jsxs)("button",{onClick:x,className:"px-4 py-3 border-2 bg-blue-600 border-gray-300 text-white rounded-xl font-semibold hover:bg-blue-500 transition-all duration-200 flex items-center gap-2",children:[(0,mr.jsx)(Oo,{}),"Reset"]})})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mt-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Level"}),(0,mr.jsxs)("select",{value:A.level,onChange:e=>f(N(N({},A),{},{level:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[(0,mr.jsx)("option",{value:"all",children:"All Levels"}),(0,mr.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,mr.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,mr.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Course Mode"}),(0,mr.jsxs)("select",{value:A.mode,onChange:e=>f(N(N({},A),{},{mode:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[(0,mr.jsx)("option",{value:"all",children:"All Modes"}),(0,mr.jsx)("option",{value:"Online",children:"Online"}),(0,mr.jsx)("option",{value:"Offline",children:"Offline"}),(0,mr.jsx)("option",{value:"Hybrid",children:"Hybrid"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Category"}),(0,mr.jsxs)("select",{value:A.category,onChange:e=>f(N(N({},A),{},{category:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[(0,mr.jsx)("option",{value:"all",children:"All Categories"}),(0,mr.jsx)("option",{value:"Technical",children:"Technical"}),(0,mr.jsx)("option",{value:"Non-Technical",children:"Non-Technical"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Duration"}),(0,mr.jsxs)("select",{value:A.duration,onChange:e=>f(N(N({},A),{},{duration:e.target.value})),className:"w-full border-2 border-gray-200 rounded-xl px-3 py-2 focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200",children:[(0,mr.jsx)("option",{value:"all",children:"All Durations"}),(0,mr.jsx)("option",{value:"short",children:"Short (1-3 months)"}),(0,mr.jsx)("option",{value:"medium",children:"Medium (4-6 months)"}),(0,mr.jsx)("option",{value:"long",children:"Long (7+ months)"})]})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mr.jsxs)("p",{className:"text-gray-600",children:["Showing ",(0,mr.jsx)("span",{className:"font-bold text-blue-600",children:a.length})," of ",(0,mr.jsx)("span",{className:"font-bold",children:e.length})," courses"]}),(0,mr.jsxs)("div",{className:"flex gap-2",children:[(0,mr.jsx)("span",{className:"bg-blue-100 text-blue-600 px-3 py-1 rounded-full text-sm font-semibold",children:"all"!==A.level&&A.level}),(0,mr.jsx)("span",{className:"bg-green-100 text-green-600 px-3 py-1 rounded-full text-sm font-semibold",children:"all"!==A.mode&&A.mode}),(0,mr.jsx)("span",{className:"bg-purple-100 text-purple-600 px-3 py-1 rounded-full text-sm font-semibold",children:"all"!==A.category&&A.category})]})]}),m?(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700",children:"Loading courses..."}),(0,mr.jsx)("p",{className:"text-gray-500 mt-2",children:"Please wait while we fetch your courses"})]}):0===a.length?(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg p-12 text-center",children:[(0,mr.jsx)(oo,{className:"text-6xl text-gray-300 mx-auto mb-4"}),(0,mr.jsx)("h3",{className:"text-2xl font-bold text-gray-600 mb-2",children:"No Courses Found"}),(0,mr.jsx)("p",{className:"text-gray-500 mb-6",children:"Try adjusting your search or filters"}),(0,mr.jsx)("button",{onClick:x,className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-6 py-3 rounded-xl font-semibold hover:shadow-lg transition-all duration-200",children:"Reset Filters"})]}):(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-2 gap-8",children:a.map((e,t)=>(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden hover:shadow-2xl transform hover:-translate-y-2 transition-all duration-300 border border-gray-100 animate-fade-in",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 p-6 text-white relative",children:[(0,mr.jsx)("div",{className:"absolute top-4 left-4 px-3 py-1 rounded-full text-sm font-semibold ".concat("Beginner"===e.course_level?"bg-green-500 text-white":"Intermediate"===e.course_level?"bg-yellow-500 text-white":"bg-red-500 text-white"),children:e.course_level}),(0,mr.jsx)("div",{className:"absolute top-4 right-4 px-3 py-1 rounded-full text-sm font-semibold bg-white ".concat("Online"===e.mode?"text-blue-600":"Offline"===e.mode?"text-purple-600":"text-teal-600"),children:e.mode}),(0,mr.jsxs)("div",{className:"pt-8",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold mb-2 line-clamp-2",children:e.course_name}),(0,mr.jsxs)("p",{className:"text-blue-100 opacity-90 flex items-center gap-2",children:[(0,mr.jsx)(Ko,{}),e.course_category]})]})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"space-y-4 mb-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(jo,{className:"text-blue-500"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Duration"}),(0,mr.jsxs)("p",{className:"font-semibold",children:[e.duration," months"]})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(Uo,{className:"text-green-500"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Category"}),(0,mr.jsx)("p",{className:"font-semibold",children:e.course_category})]})]}),e.branch&&(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-gray-600",children:[(0,mr.jsx)(xl,{className:"text-purple-500"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Branch"}),(0,mr.jsx)("p",{className:"font-semibold",children:e.branch.branch_name})]})]})]}),(0,mr.jsx)("div",{className:"border-t pt-4",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("span",{className:"text-2xl font-bold text-green-600",children:["\u20b9",e.discounted_price||e.actual_price]}),e.discounted_price&&e.actual_price&&(0,mr.jsxs)("span",{className:"text-sm text-gray-500 line-through ml-2",children:["\u20b9",e.actual_price]})]}),e.discounted_price&&e.actual_price&&(0,mr.jsxs)("span",{className:"bg-red-100 text-red-600 px-2 py-1 rounded-full text-sm font-semibold",children:["Save \u20b9",e.actual_price-e.discounted_price]})]})})]}),(0,mr.jsx)("div",{className:"border-t border-gray-100 p-4 bg-gray-50",children:(0,mr.jsx)("div",{className:"flex justify-end gap-3",children:(0,mr.jsxs)("button",{onClick:()=>(async(e,t)=>{try{const n=localStorage.getItem("token"),r=await Ua.get("/courses/".concat(e,"/show"),{headers:{Authorization:"Bearer ".concat(n)}});s(r.data),d(r.data),l(t)}catch(n){console.error("Error fetching course:",n)}})(e.id,"view"),className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-6 py-2 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105 flex items-center gap-2 shadow-md",children:[(0,mr.jsx)(Mo,{}),"View Details"]})})})]},e.id))}),"view"===o&&r&&(0,mr.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4 animate-fade-in",children:(0,mr.jsxs)("div",{className:"bg-white rounded-3xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto animate-scale-in",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 text-white p-8 rounded-t-3xl",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold mb-2",children:r.course_name}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,mr.jsx)("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:r.course_code}),(0,mr.jsx)("span",{className:"bg-white/20 px-3 py-1 rounded-full text-sm",children:r.course_category})]})]}),(0,mr.jsx)("button",{onClick:()=>l(""),className:"bg-white/20 hover:bg-white/30 text-white p-2 rounded-xl transition-all duration-200 transform hover:scale-110",children:"\u2715"})]})}),(0,mr.jsxs)("div",{className:"p-8 space-y-8",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,mr.jsx)("div",{className:"bg-blue-50 p-4 rounded-xl transform hover:scale-105 transition-all duration-200",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-blue-500 p-2 rounded-lg",children:(0,mr.jsx)(Ko,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Level"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:r.course_level})]})]})}),(0,mr.jsx)("div",{className:"bg-green-50 p-4 rounded-xl transform hover:scale-105 transition-all duration-200",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-green-500 p-2 rounded-lg",children:(0,mr.jsx)(jo,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Duration"}),(0,mr.jsxs)("p",{className:"font-semibold text-gray-800",children:[r.duration," months"]})]})]})}),(0,mr.jsx)("div",{className:"bg-purple-50 p-4 rounded-xl transform hover:scale-105 transition-all duration-200",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-purple-500 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Mode"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:r.mode})]})]})}),(0,mr.jsx)("div",{className:"bg-orange-50 p-4 rounded-xl transform hover:scale-105 transition-all duration-200",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-orange-500 p-2 rounded-lg",children:(0,mr.jsx)(tl,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Price"}),(0,mr.jsxs)("p",{className:"font-semibold text-gray-800",children:["\u20b9",r.discounted_price||r.actual_price]})]})]})}),r.branch&&(0,mr.jsx)("div",{className:"bg-teal-50 p-4 rounded-xl transform hover:scale-105 transition-all duration-200",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-teal-500 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Branch"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:r.branch.branch_name})]})]})}),r.trainer&&(0,mr.jsx)("div",{className:"bg-pink-50 p-4 rounded-xl transform hover:scale-105 transition-all duration-200",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3 mb-2",children:[(0,mr.jsx)("div",{className:"bg-pink-500 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-white text-lg"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Trainer"}),(0,mr.jsx)("p",{className:"font-semibold text-gray-800",children:r.trainer.employee_name})]})]})})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,mr.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-blue-500"}),"Course Description"]}),(0,mr.jsx)("div",{className:"prose max-w-none text-gray-700",dangerouslySetInnerHTML:{__html:r.course_description||"<p class='text-gray-500'>No description provided.</p>"}})]}),r.students&&r.students.length>0&&(0,mr.jsxs)("div",{className:"bg-gray-50 rounded-xl p-6",children:[(0,mr.jsxs)("h3",{className:"text-xl font-bold text-gray-800 mb-4 flex items-center gap-2",children:[(0,mr.jsx)(xl,{className:"text-green-500"}),"Enrolled Students (",r.students.length,")"]}),(0,mr.jsx)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:r.students.map(e=>(0,mr.jsx)("div",{className:"bg-white rounded-lg p-4 border border-gray-200 hover:border-blue-300 transition-all duration-200 transform hover:scale-105",children:(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)("img",{src:e.photo_url||"https://cdn-icons-png.flaticon.com/512/3135/3135715.png",alt:e.full_name,className:"w-12 h-12 rounded-full object-cover border-2 border-blue-200"}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h4",{className:"font-semibold text-gray-800 truncate",children:e.full_name}),(0,mr.jsx)("p",{className:"text-sm text-gray-500 truncate",children:e.email}),(0,mr.jsx)("p",{className:"text-xs text-gray-400",children:e.contact_number})]})]})},e.id))})]})]}),(0,mr.jsx)("div",{className:"border-t p-6 bg-gray-50 rounded-b-3xl",children:(0,mr.jsx)("div",{className:"flex justify-end",children:(0,mr.jsx)("button",{onClick:()=>l(""),className:"bg-gradient-to-r from-gray-500 to-gray-600 hover:from-gray-600 hover:to-gray-700 text-white px-8 py-3 rounded-xl font-semibold transition-all duration-200 transform hover:scale-105",children:"Close"})})})]})})]})}function Lk(){const[e,n]=(0,t.useState)("courseList");return(0,mr.jsxs)(A_,{children:[(0,mr.jsxs)("div",{className:"flex h-full bg-gradient-to-br from-gray-50 to-blue-50 min-h-screen",children:[(0,mr.jsxs)("div",{className:"w-80 bg-white rounded-2xl shadow-xl m-4 p-6 space-y-4 flex-shrink-0",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800 mb-2 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Learning Center"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Manage your educational programs"})]}),(0,mr.jsxs)("button",{onClick:()=>n("courseList"),className:"w-full text-left p-4 rounded-2xl transition-all duration-300 flex items-center gap-4 group ".concat("courseList"===e?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg transform -translate-y-1":"bg-white text-gray-700 hover:bg-blue-50 hover:shadow-md"),children:[(0,mr.jsx)("div",{className:"p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ".concat("courseList"===e?"bg-white/20":"bg-blue-100 text-blue-600"),children:(0,mr.jsx)(Wo,{className:"text-lg"})}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("div",{className:"font-semibold",children:"All Courses"}),(0,mr.jsx)("div",{className:"text-sm opacity-80",children:"Browse all courses"})]}),(0,mr.jsx)(so,{className:"transition-all duration-300 ".concat("courseList"===e?"opacity-100":"opacity-0 group-hover:opacity-100")})]}),(0,mr.jsxs)("button",{onClick:()=>n("batchManagement"),className:"w-full text-left p-4 rounded-2xl transition-all duration-300 flex items-center gap-4 group ".concat("batchManagement"===e?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg transform -translate-y-1":"bg-white text-gray-700 hover:bg-blue-50 hover:shadow-md"),children:[(0,mr.jsx)("div",{className:"p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ".concat("batchManagement"===e?"bg-white/20":"bg-green-100 text-green-600"),children:(0,mr.jsx)(Zo,{className:"text-lg"})}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("div",{className:"font-semibold",children:"Add Batches"}),(0,mr.jsx)("div",{className:"text-sm opacity-80",children:"Create new batches"})]}),(0,mr.jsx)(so,{className:"transition-all duration-300 ".concat("batchManagement"===e?"opacity-100":"opacity-0 group-hover:opacity-100")})]}),(0,mr.jsxs)("button",{onClick:()=>n("allBatches"),className:"w-full text-left p-4 rounded-2xl transition-all duration-300 flex items-center gap-4 group ".concat("allBatches"===e?"bg-gradient-to-r from-blue-500 to-purple-500 text-white shadow-lg transform -translate-y-1":"bg-white text-gray-700 hover:bg-blue-50 hover:shadow-md"),children:[(0,mr.jsx)("div",{className:"p-3 rounded-xl transition-all duration-300 group-hover:scale-110 ".concat("allBatches"===e?"bg-white/20":"bg-purple-100 text-purple-600"),children:(0,mr.jsx)(xl,{className:"text-lg"})}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("div",{className:"font-semibold",children:"All Batches"}),(0,mr.jsx)("div",{className:"text-sm opacity-80",children:"Manage all batches"})]}),(0,mr.jsx)(so,{className:"transition-all duration-300 ".concat("allBatches"===e?"opacity-100":"opacity-0 group-hover:opacity-100")})]})]}),(0,mr.jsx)("div",{className:"flex-1 m-4 overflow-hidden",children:(0,mr.jsxs)("div",{className:"h-full overflow-y-auto rounded-2xl",children:["courseList"===e&&(0,mr.jsx)(Ek,{}),"batchManagement"===e&&(0,mr.jsx)(kk,{}),"allBatches"===e&&(0,mr.jsx)(Bk,{})]})})]}),(0,mr.jsx)("style",{jsx:!0,children:"\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        @keyframes scale-in {\n          from { opacity: 0; transform: scale(0.9); }\n          to { opacity: 1; transform: scale(1); }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.5s ease-out;\n        }\n        .animate-scale-in {\n          animation: scale-in 0.3s ease-out;\n        }\n      "})]})}function Mk(){var e,n,r,s;const[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[g,x]=(0,t.useState)("list"),[b,y]=(0,t.useState)(null),[v,w]=(0,t.useState)(""),[j,_]=(0,t.useState)(null),[C,S]=(0,t.useState)(!1),[k,B]=(0,t.useState)(null),[E,L]=(0,t.useState)(!1),[M,F]=(0,t.useState)(!1),[I,D]=(sn(),(0,t.useState)({gender:"all",enrollment_status:"all",batch:"all",course:"all",dateRange:{start:"",end:""}}));(0,t.useEffect)(()=>{function e(e){null===b||e.target.closest(".menu-container")||e.target.closest(".menu-toggle")||y(null)}return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[b]),(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user"));e&&(w(e.role),_(e.branch_id),"branch_manager"===e.role&&f(e.branch_id.toString()))},[]);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});i(t.data||[])}catch(e){console.error("Error fetching students:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),[t,n,r]=await Promise.all([Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}}),Ua.get("/batches",{headers:{Authorization:"Bearer ".concat(e)}}),Ua.get("/courses",{headers:{Authorization:"Bearer ".concat(e)}})]);l(t.data||[]),d(n.data||[]),h(r.data||[])}catch(e){console.error("Error fetching master data:",e)}})()},[]);const T=async e=>{try{const t=localStorage.getItem("token"),n=await Ua.get("/students/show/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}});B(n.data),S(!0)}catch(t){console.error("Error fetching student:",t)}},O=(e,t)=>{D(n=>N(N({},n),{},{[e]:t}))},P=(e,t)=>{D(n=>N(N({},n),{},{dateRange:N(N({},n.dateRange),{},{[e]:t})}))},U=[...new Set(a.map(e=>e.gender).filter(Boolean))],R=[...new Set(a.map(e=>e.enrollment_status).filter(Boolean))],Q=[...new Set(a.flatMap(e=>{var t;return(null===(t=e.courses)||void 0===t?void 0:t.map(e=>{var t;return null===(t=e.batch)||void 0===t?void 0:t.batch_name}))||[]}).filter(Boolean))],z=[...new Set(a.flatMap(e=>{var t;return(null===(t=e.courses)||void 0===t?void 0:t.map(e=>e.course_name))||[]}).filter(Boolean))],H=a.filter(e=>{var t,n;const r=""===m||(e.full_name||"").toLowerCase().includes(m.toLowerCase())||(e.email||"").toLowerCase().includes(m.toLowerCase())||(e.admission_number||"").toLowerCase().includes(m.toLowerCase()),s="admin"!==v||(""===A||e.branch_id===parseInt(A)),a="all"===I.gender||e.gender===I.gender,i="all"===I.enrollment_status||e.enrollment_status===I.enrollment_status,o="all"===I.course||(null===(t=e.courses)||void 0===t?void 0:t.some(e=>e.course_name===I.course)),l="all"===I.batch||(null===(n=e.courses)||void 0===n?void 0:n.some(e=>{var t;return(null===(t=e.batch)||void 0===t?void 0:t.batch_name)===I.batch})),c=new Date(e.admission_date),d=I.dateRange.start?new Date(I.dateRange.start):null,u=I.dateRange.end?new Date(I.dateRange.end):null;return r&&s&&a&&i&&o&&l&&((!d||c>=d)&&(!u||c<=u))}),K=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",W=e=>e.courses&&0!==e.courses.length?e.courses.slice(0,2).map((e,t)=>(0,mr.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-medium ".concat(0===t?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-sm":"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-sm"),children:e.course_name},e.id)):[(0,mr.jsx)("span",{className:"bg-gray-100 text-gray-600 px-3 py-1.5 rounded-full text-xs font-medium",children:"No Courses"},"none")],V=a.length,q=a.filter(e=>"Active"===e.enrollment_status).length,G=a.reduce((e,t)=>{var n;return e+((null===(n=t.courses)||void 0===n?void 0:n.length)||0)},0),Y=a.filter(e=>{const t=new Date(e.admission_date),n=new Date;return t.getMonth()===n.getMonth()&&t.getFullYear()===n.getFullYear()}).length;return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-6",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row justify-between items-start lg:items-center mb-8 gap-6",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"bg-white p-3 rounded-2xl shadow-lg border border-blue-100",children:(0,mr.jsx)(fl,{className:"text-3xl text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Students Management"}),(0,mr.jsxs)("p",{className:"text-gray-600 mt-2 flex items-center gap-2",children:[(0,mr.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Manage and track all student information in one place"]})]})]}),(0,mr.jsx)("div",{className:"flex flex-wrap gap-3",children:(0,mr.jsxs)("div",{className:"flex bg-white border border-gray-200 p-1 rounded-xl shadow-sm",children:[(0,mr.jsx)("button",{onClick:()=>x("list"),className:"px-6 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 ".concat("list"===g?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-transparent text-gray-600 hover:bg-gray-50"),children:"List View"}),(0,mr.jsx)("button",{onClick:()=>x("grid"),className:"px-6 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 ".concat("grid"===g?"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-md":"bg-transparent text-gray-600 hover:bg-gray-50"),children:"Grid View"})]})})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Total Students"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-gray-800 mt-2",children:V}),(0,mr.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,mr.jsx)(mo,{className:"text-green-500 text-sm"}),(0,mr.jsx)("span",{className:"text-xs text-green-600 font-medium",children:"All time"})]})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-br from-blue-50 to-blue-100 p-4 rounded-2xl",children:(0,mr.jsx)(xl,{className:"text-2xl text-blue-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Active Students"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-green-600 mt-2",children:q}),(0,mr.jsxs)("div",{className:"flex items-center gap-1 mt-2",children:[(0,mr.jsx)("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),(0,mr.jsxs)("span",{className:"text-xs text-green-600 font-medium",children:[Math.round(q/V*100),"% active"]})]})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-br from-green-50 to-green-100 p-4 rounded-2xl",children:(0,mr.jsx)(gl,{className:"text-2xl text-green-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"Total Courses"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-purple-600 mt-2",children:G})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-br from-purple-50 to-purple-100 p-4 rounded-2xl",children:(0,mr.jsx)(oo,{className:"text-2xl text-purple-600"})})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-100 p-6 hover:shadow-xl transition-all duration-300 transform hover:-translate-y-1",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-semibold text-gray-500 uppercase tracking-wide",children:"New This Month"}),(0,mr.jsx)("p",{className:"text-3xl font-bold text-orange-600 mt-2",children:Y})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-br from-orange-50 to-orange-100 p-4 rounded-2xl",children:(0,mr.jsx)(uo,{className:"text-2xl text-orange-600"})})]})})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 mb-8",children:[(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row gap-4 items-start lg:items-center",children:[(0,mr.jsx)("div",{className:"flex-1 relative min-w-0",children:(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)(rl,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400 z-10"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search students by name, email, or admission number...",value:m,onChange:e=>p(e.target.value),className:"w-full pl-12 pr-4 py-3.5 border border-gray-300 rounded-xl focus:ring-3 focus:ring-blue-100 focus:border-blue-500 transition-all duration-300 bg-gray-50 hover:bg-white"})]})}),"admin"===v&&(0,mr.jsx)("div",{className:"w-full lg:w-64",children:(0,mr.jsxs)("select",{value:A,onChange:e=>f(e.target.value),className:"w-full p-3.5 border border-gray-300 rounded-xl focus:ring-3 focus:ring-blue-100 focus:border-blue-500 bg-gray-50 hover:bg-white transition-all duration-300 appearance-none",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),o.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})}),(0,mr.jsxs)("button",{onClick:()=>F(!M),className:"px-6 py-3.5 rounded-xl transition-all duration-300 flex items-center gap-3 font-semibold ".concat(Object.values(I).some(e=>"string"===typeof e?"all"!==e:Object.values(e).some(Boolean))?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5":"bg-gradient-to-r from-blue-600 to-purple-600 text-white shadow-lg hover:shadow-xl transform hover:-translate-y-0.5"),children:[(0,mr.jsx)(Oo,{className:"text-sm"}),"Filters",Object.values(I).some(e=>"string"===typeof e?"all"!==e:Object.values(e).some(Boolean))&&(0,mr.jsx)("span",{className:"bg-white text-orange-600 rounded-full w-5 h-5 flex items-center justify-center text-xs font-bold",children:"!"})]})]}),M&&(0,mr.jsxs)("div",{className:"mt-6 p-6 bg-gradient-to-br from-gray-50 to-blue-50 rounded-2xl shadow-inner border border-gray-200",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between mb-6",children:[(0,mr.jsxs)("h2",{className:"text-xl font-bold text-gray-800 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,mr.jsx)(Oo,{className:"text-blue-600 text-lg"})}),"Advanced Filters"]}),(0,mr.jsx)("button",{onClick:()=>{D({gender:"all",enrollment_status:"all",batch:"all",course:"all",dateRange:{start:"",end:""}}),p(""),f("")},className:"px-4 py-2 bg-gradient-to-r from-blue-600 to-purple-600 text-white rounded-xl text-sm font-medium shadow-lg hover:shadow-xl transition-all duration-300 transform hover:-translate-y-0.5",children:"Reset All"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4",children:[(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,mr.jsx)(bl,{className:"text-gray-400"}),"Gender"]}),(0,mr.jsxs)("select",{value:I.gender,onChange:e=>O("gender",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300",children:[(0,mr.jsx)("option",{value:"all",children:"All Genders"}),(0,mr.jsx)("option",{value:"Male",children:"Male"}),(0,mr.jsx)("option",{value:"Female",children:"Female"}),U.filter(e=>!["Male","Female"].includes(e)).map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,mr.jsx)(gl,{className:"text-gray-400"}),"Status"]}),(0,mr.jsxs)("select",{value:I.enrollment_status,onChange:e=>O("enrollment_status",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300",children:[(0,mr.jsx)("option",{value:"all",children:"All Status"}),(0,mr.jsx)("option",{value:"Active",children:"Active"}),(0,mr.jsx)("option",{value:"Inactive",children:"Inactive"}),R.filter(e=>!["Active","Inactive"].includes(e)).map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,mr.jsx)(jo,{className:"text-gray-400"}),"Batch"]}),(0,mr.jsxs)("select",{value:I.batch,onChange:e=>O("batch",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300",children:[(0,mr.jsx)("option",{value:"all",children:"All Batches"}),Q.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-gray-400"}),"Course"]}),(0,mr.jsxs)("select",{value:I.course,onChange:e=>O("course",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300",children:[(0,mr.jsx)("option",{value:"all",children:"All Courses"}),z.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-semibold text-gray-700 flex items-center gap-2",children:[(0,mr.jsx)(uo,{className:"text-gray-400"}),"Admission Date"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 gap-2",children:[(0,mr.jsx)("div",{className:"relative",children:(0,mr.jsx)("input",{type:"date",value:I.dateRange.start,onChange:e=>P("start",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300 appearance-none",placeholder:"Start date"})}),(0,mr.jsx)("div",{className:"relative",children:(0,mr.jsx)("input",{type:"date",value:I.dateRange.end,onChange:e=>P("end",e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300 appearance-none",placeholder:"End date"})})]})]})]})]})]}),(0,mr.jsx)("div",{className:"flex items-center justify-between mb-6",children:(0,mr.jsxs)("div",{className:"text-sm text-gray-600 bg-white px-4 py-2 rounded-xl shadow-sm border border-gray-200",children:["Showing ",(0,mr.jsx)("span",{className:"font-bold text-blue-600",children:H.length})," of"," ",(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:a.length})," students"]})}),"grid"===g?(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-2 gap-6",children:H.map(e=>{var t,n;return(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-200 overflow-hidden group transform hover:-translate-y-2",children:[(0,mr.jsx)("div",{className:"p-6 border-b border-gray-100 bg-gradient-to-r from-gray-50 to-white",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("img",{src:e.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:e.full_name,className:"w-16 h-16 rounded-2xl object-cover border-4 border-white shadow-lg group-hover:border-blue-100 transition-colors"}),(0,mr.jsx)("div",{className:"absolute -bottom-1 -right-1 w-5 h-5 rounded-full border-2 border-white ".concat("Active"===e.enrollment_status?"bg-green-500":"bg-red-500")})]}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h3",{className:"text-lg font-bold text-gray-800 truncate group-hover:text-blue-600 transition-colors",children:e.full_name}),(0,mr.jsxs)("p",{className:"text-gray-500 text-sm flex items-center gap-1 mt-1",children:[(0,mr.jsx)(Bo,{className:"text-gray-400 text-xs"}),(0,mr.jsx)("span",{className:"truncate",children:e.email})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-2 mt-3",children:[(0,mr.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat("Active"===e.enrollment_status?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-sm":"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-sm"),children:e.enrollment_status}),(0,mr.jsx)("span",{className:"px-3 py-1.5 rounded-full text-xs font-bold ".concat("Male"===e.gender?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-sm":"bg-gradient-to-r from-pink-500 to-pink-600 text-white shadow-sm"),children:e.gender})]})]})]})}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"mb-4",children:[(0,mr.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-3 flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-gray-400"}),"Enrolled Courses (",(null===(t=e.courses)||void 0===t?void 0:t.length)||0,")"]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[W(e),e.courses&&e.courses.length>2&&(0,mr.jsxs)("span",{className:"bg-gradient-to-r from-gray-500 to-gray-600 text-white px-3 py-1.5 rounded-full text-xs font-bold shadow-sm",children:["+",e.courses.length-2," more"]})]})]}),(0,mr.jsxs)("div",{className:"space-y-2 text-sm text-gray-600",children:[(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("span",{children:"Admission No:"}),(0,mr.jsx)("span",{className:"font-semibold text-gray-800",children:e.admission_number})]}),(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("span",{children:"Admission Date:"}),(0,mr.jsx)("span",{className:"font-semibold text-gray-800",children:K(e.admission_date)})]})]})]}),(0,mr.jsx)("div",{className:"px-6 py-4 bg-gradient-to-r from-gray-50 to-white border-t border-gray-100",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-500 font-medium",children:null===(n=e.branch)||void 0===n?void 0:n.branch_name}),(0,mr.jsx)("div",{className:"flex items-center gap-2",children:(0,mr.jsxs)("button",{onClick:()=>T(e.id),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center gap-2",children:[(0,mr.jsx)(Mo,{size:12}),"View Details"]})})]})})]},e.id)})}):(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 overflow-hidden",children:(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gradient-to-r from-gray-50 to-blue-50 border-b border-gray-200",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Student Information"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Courses & Batches"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Admission Details"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-4 text-left text-xs font-bold text-gray-700 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"divide-y divide-gray-200",children:H.map(e=>{var t,n;return(0,mr.jsxs)("tr",{className:"hover:bg-blue-50 transition-colors duration-300",children:[(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("img",{src:e.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:e.full_name,className:"w-12 h-12 rounded-xl object-cover border-2 border-white shadow-sm"}),(0,mr.jsx)("div",{className:"absolute -bottom-1 -right-1 w-3 h-3 rounded-full border-2 border-white ".concat("Active"===e.enrollment_status?"bg-green-500":"bg-red-500")})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{className:"font-bold text-gray-900",children:e.full_name}),(0,mr.jsxs)("div",{className:"text-sm text-gray-500 flex items-center gap-1",children:[(0,mr.jsx)(Bo,{className:"text-gray-400 text-xs"}),e.email]}),(0,mr.jsxs)("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-1",children:[(0,mr.jsx)(Xo,{className:"text-gray-400"}),e.contact_number]})]})]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"space-y-2",children:[null===(t=e.courses)||void 0===t?void 0:t.slice(0,2).map(e=>(0,mr.jsx)("div",{className:"text-sm",children:(0,mr.jsx)("div",{className:"font-semibold text-gray-800",children:e.course_name})},e.id)),e.courses&&e.courses.length>2&&(0,mr.jsxs)("div",{className:"text-xs font-medium text-blue-600 bg-blue-50 px-2 py-1 rounded-lg",children:["+",e.courses.length-2," more courses"]})]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"space-y-1",children:[(0,mr.jsx)("div",{className:"text-sm font-semibold text-gray-900",children:K(e.admission_date)}),(0,mr.jsxs)("div",{className:"text-xs text-gray-500 font-medium",children:["#",e.admission_number]}),(0,mr.jsx)("div",{className:"text-xs text-gray-400",children:null===(n=e.branch)||void 0===n?void 0:n.branch_name})]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,mr.jsx)("span",{className:"inline-flex px-3 py-1.5 text-xs font-bold rounded-full ".concat("Active"===e.enrollment_status?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-sm":"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-sm"),children:e.enrollment_status}),(0,mr.jsx)("span",{className:"inline-flex px-3 py-1.5 text-xs font-bold rounded-full ".concat("Male"===e.gender?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-sm":"bg-gradient-to-r from-pink-500 to-pink-600 text-white shadow-sm"),children:e.gender})]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("button",{onClick:()=>T(e.id),className:"bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white px-4 py-2.5 rounded-xl text-sm font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-0.5 flex items-center gap-2",children:[(0,mr.jsx)(Mo,{size:12}),"View Details"]})})]},e.id)})})]})})}),C&&k&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-6xl max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-8 py-6 flex justify-between items-center bg-gradient-to-r from-gray-50 to-white z-10",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-3 rounded-2xl",children:(0,mr.jsx)(fl,{className:"text-2xl text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Student Details"}),(0,mr.jsxs)("p",{className:"text-gray-600",children:["Complete information about ",k.full_name]})]})]}),(0,mr.jsx)("button",{onClick:()=>S(!1),className:"text-gray-500 hover:text-gray-700 transition-colors p-3 hover:bg-gray-100 rounded-2xl",children:(0,mr.jsx)(cl,{size:24})})]}),(0,mr.jsx)("div",{className:"p-8",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[(0,mr.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-100 border border-blue-200 rounded-2xl p-6 text-center shadow-lg",children:[(0,mr.jsx)("img",{src:k.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:k.full_name,className:"w-32 h-32 rounded-2xl object-cover border-4 border-white shadow-lg mx-auto mb-4"}),(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:k.full_name}),(0,mr.jsxs)("p",{className:"text-gray-600 mb-4 flex items-center justify-center gap-2",children:[(0,mr.jsx)(Bo,{className:"text-gray-400"}),k.email]}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsx)("span",{className:"inline-block px-4 py-2 rounded-full text-sm font-bold ".concat("Active"===k.enrollment_status?"bg-gradient-to-r from-green-500 to-green-600 text-white shadow-md":"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-md"),children:k.enrollment_status}),(0,mr.jsx)("span",{className:"inline-block px-4 py-2 rounded-full text-sm font-bold ".concat("Male"===k.gender?"bg-gradient-to-r from-blue-500 to-blue-600 text-white shadow-md":"bg-gradient-to-r from-pink-500 to-pink-600 text-white shadow-md"),children:k.gender})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg",children:(0,mr.jsx)(lo,{className:"text-blue-600"})}),"Branch Details"]}),(0,mr.jsxs)("div",{className:"space-y-3 text-sm",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Branch:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:null===(e=k.branch)||void 0===e?void 0:e.branch_name})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"City:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:null===(n=k.branch)||void 0===n?void 0:n.city})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Contact:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:null===(r=k.branch)||void 0===r?void 0:r.contact_number})]})]})]})]}),(0,mr.jsx)("div",{className:"lg:col-span-3",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg",children:(0,mr.jsx)(gl,{className:"text-purple-600"})}),"Personal Information"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Admission Number:"}),(0,mr.jsxs)("span",{className:"font-bold text-gray-800 bg-gray-100 px-3 py-1 rounded-lg",children:["#",k.admission_number]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Date of Birth:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:K(k.dob)})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Contact Number:"}),(0,mr.jsxs)("span",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,mr.jsx)(Xo,{className:"text-green-500"}),k.contact_number]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-start py-2",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Address:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800 text-right max-w-xs",children:k.address||"N/A"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-2 rounded-lg",children:(0,mr.jsx)(xl,{className:"text-green-600"})}),"Guardian Information"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Name:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:k.guardian_name||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Contact:"}),(0,mr.jsxs)("span",{className:"font-bold text-gray-800 flex items-center gap-2",children:[(0,mr.jsx)(Xo,{className:"text-green-500"}),k.guardian_contact||"N/A"]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-2xl p-6 shadow-sm",children:[(0,mr.jsxs)("h4",{className:"font-bold text-gray-800 mb-4 flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-orange-100 p-2 rounded-lg",children:(0,mr.jsx)(uo,{className:"text-orange-600"})}),"Admission Information"]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Admission Date:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800",children:K(k.admission_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"text-gray-600 font-medium",children:"Total Courses:"}),(0,mr.jsx)("span",{className:"font-bold text-gray-800 bg-blue-100 text-blue-800 px-3 py-1 rounded-lg",children:(null===(s=k.courses)||void 0===s?void 0:s.length)||0})]})]})]})]})})]})}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-white border-t border-gray-200 px-8 py-6 flex justify-end gap-4 bg-gradient-to-r from-gray-50 to-white",children:(0,mr.jsx)("button",{onClick:()=>S(!1),className:"px-6 py-3 bg-gray-300 text-gray-700 rounded-xl hover:bg-gray-400 transition-colors font-semibold",children:"Close"})})]})})]})}const Fk=function(){var e,n,r,s,a,i,o,l,c,d;const[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)([]),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(""),[j,N]=(0,t.useState)(null),[_,C]=(0,t.useState)(!1),[S,k]=(0,t.useState)(""),[B,E]=(0,t.useState)(!1),[L,M]=(0,t.useState)(!1),F=(0,t.useRef)(null),I=JSON.parse(localStorage.getItem("user")||"{}"),D=I.role;I.branch_id,(0,t.useEffect)(()=>{(async()=>{try{E(!0);const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});p(t.data||[]),x(t.data||[])}catch(e){console.error("Error fetching students:",e)}finally{E(!1)}})(),T(),O()},[]);const T=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});f(t.data||[])}catch(e){console.error("Error fetching courses:",e)}},O=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});h(t.data||[])}catch(e){console.error("Error fetching branches:",e)}};(0,t.useEffect)(()=>{let e=m;v&&(e=e.filter(e=>{var t;return null===(t=e.courses)||void 0===t?void 0:t.some(e=>e.id.toString()===v)})),b&&(e=e.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===b})),S&&(e=e.filter(e=>{var t,n,r;return(null===(t=e.full_name)||void 0===t?void 0:t.toLowerCase().includes(S.toLowerCase()))||(null===(n=e.admission_number)||void 0===n?void 0:n.toLowerCase().includes(S.toLowerCase()))||(null===(r=e.email)||void 0===r?void 0:r.toLowerCase().includes(S.toLowerCase()))})),x(e)},[v,b,S,m]);const P=e=>e?new Date(e).toLocaleDateString("en-IN",{day:"2-digit",month:"2-digit",year:"numeric"}):"N/A",U=()=>{y(""),w(""),k("")};return(0,mr.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:[(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4 mb-8",children:[(0,mr.jsx)("div",{className:"bg-white p-4 rounded-2xl shadow-lg",children:(0,mr.jsx)(Qo,{className:"text-3xl text-blue-600"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800 bg-gradient-to-r from-blue-600 to-purple-600 bg-clip-text text-transparent",children:"Student ID Card Generator"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-2",children:"Generate professional ID cards for your students"})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-6 mb-8",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Search Students"}),(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)(rl,{className:"absolute left-3 top-3 text-gray-400"}),(0,mr.jsx)("input",{type:"text",placeholder:"Search by name, admission number, or email...",value:S,onChange:e=>k(e.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-all duration-300"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Course"}),(0,mr.jsxs)("select",{value:v,onChange:e=>w(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300 appearance-none",children:[(0,mr.jsx)("option",{value:"",children:"All Courses"}),A.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),"admin"===D&&(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-semibold text-gray-700 mb-2",children:"Select Branch"}),(0,mr.jsxs)("select",{value:b,onChange:e=>y(e.target.value),className:"w-full p-3 border border-gray-300 rounded-xl focus:ring-2 focus:ring-blue-500 focus:border-blue-500 bg-white transition-all duration-300 appearance-none",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),u.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4 flex-1",children:[(0,mr.jsx)("div",{className:"bg-blue-50 rounded-xl p-3 border border-blue-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-blue-600",children:"Total Students"}),(0,mr.jsx)("p",{className:"text-xl font-bold text-gray-800",children:g.length})]}),(0,mr.jsx)(xl,{className:"text-blue-500"})]})}),(0,mr.jsx)("div",{className:"bg-green-50 rounded-xl p-3 border border-green-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-green-600",children:"Active Students"}),(0,mr.jsx)("p",{className:"text-xl font-bold text-gray-800",children:g.filter(e=>"Active"===e.enrollment_status).length})]}),(0,mr.jsx)(fl,{className:"text-green-500"})]})}),(0,mr.jsx)("div",{className:"bg-purple-50 rounded-xl p-3 border border-purple-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-purple-600",children:"Available Courses"}),(0,mr.jsx)("p",{className:"text-xl font-bold text-gray-800",children:A.length})]}),(0,mr.jsx)(oo,{className:"text-purple-500"})]})})]}),(0,mr.jsx)("div",{className:"flex gap-3",children:(0,mr.jsx)("button",{onClick:U,className:"px-4 py-2 bg-blue-500 text-white rounded-xl hover:bg-blue-600 transition-colors font-medium",children:"Reset Filters"})})]})]}),B?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})}):g.length>0?(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-2 gap-6",children:g.map((e,t)=>{var n,r;return(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-500 border border-gray-200 overflow-hidden group transform hover:-translate-y-2 animate-fade-in",style:{animationDelay:"".concat(100*t,"ms")},children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 text-white",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("img",{src:e.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:e.full_name,className:"w-16 h-16 rounded-2xl object-cover border-4 border-white shadow-lg"}),(0,mr.jsx)("div",{className:"absolute -bottom-1 -right-1 w-4 h-4 rounded-full border-2 border-white ".concat("Active"===e.enrollment_status?"bg-green-500":"bg-red-500")})]}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h3",{className:"font-bold text-lg truncate",children:e.full_name}),(0,mr.jsxs)("p",{className:"text-blue-100 text-sm truncate",children:["#",e.admission_number]}),(0,mr.jsxs)("div",{className:"flex items-center gap-2 mt-1",children:[(0,mr.jsx)("span",{className:"bg-white bg-opacity-20 px-2 py-1 rounded-full text-xs",children:e.gender}),(0,mr.jsx)("span",{className:"px-2 py-1 rounded-full text-xs font-bold ".concat("Active"===e.enrollment_status?"bg-green-500 text-white":"bg-red-500 text-white"),children:e.enrollment_status})]})]})]})}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,mr.jsx)(Bo,{className:"text-gray-400"}),(0,mr.jsx)("span",{className:"truncate",children:e.email})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,mr.jsx)(Xo,{className:"text-gray-400"}),(0,mr.jsx)("span",{children:e.contact_number})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 text-sm text-gray-600",children:[(0,mr.jsx)(uo,{className:"text-gray-400"}),(0,mr.jsxs)("span",{children:["Admitted: ",P(e.admission_date)]})]})]}),(0,mr.jsxs)("div",{className:"mt-4",children:[(0,mr.jsxs)("h4",{className:"text-sm font-semibold text-gray-700 mb-2 flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-gray-400"}),"Enrolled Courses (",(null===(n=e.courses)||void 0===n?void 0:n.length)||0,")"]}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-2",children:[null===(r=e.courses)||void 0===r?void 0:r.slice(0,2).map((e,t)=>(0,mr.jsx)("span",{className:"px-3 py-1 rounded-full text-xs font-medium ".concat(0===t?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.course_name},e.id)),e.courses&&e.courses.length>2&&(0,mr.jsxs)("span",{className:"bg-gray-100 text-gray-600 px-3 py-1 rounded-full text-xs",children:["+",e.courses.length-2," more"]})]})]})]}),(0,mr.jsx)("div",{className:"px-6 py-4 bg-gray-50 border-t border-gray-200",children:(0,mr.jsxs)("button",{onClick:()=>(e=>{N(e),C(!0)})(e),className:"w-full bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 text-white py-3 rounded-xl font-semibold transition-all duration-300 transform hover:scale-105 shadow-lg hover:shadow-xl flex items-center justify-center gap-2",children:[(0,mr.jsx)(Qo,{className:"text-sm"}),"Generate ID Card"]})})]},e.id)})}):(0,mr.jsx)("div",{className:"bg-white rounded-2xl shadow-lg border border-gray-200 p-12 text-center",children:(0,mr.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,mr.jsx)("div",{className:"bg-blue-50 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,mr.jsx)(fl,{className:"text-3xl text-blue-600"})}),(0,mr.jsx)("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"No Students Found"}),(0,mr.jsx)("p",{className:"text-gray-600 mb-6",children:S||v||b?"Try adjusting your search criteria or filters":"No students available for ID card generation"}),(S||v||b)&&(0,mr.jsx)("button",{onClick:U,className:"bg-blue-600 hover:bg-blue-700 text-white px-6 py-3 rounded-xl font-semibold transition-colors",children:"Clear Filters"})]})})]}),_&&j&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:(0,mr.jsxs)("div",{className:"bg-white rounded-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto shadow-2xl border border-gray-200 transform animate-scale-in",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b border-gray-200 px-6 py-4 flex justify-between items-center bg-gradient-to-r from-gray-50 to-white z-10",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-xl",children:(0,mr.jsx)(Qo,{className:"text-xl text-blue-600"})}),(0,mr.jsx)("div",{children:(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Student ID Card"})})]}),(0,mr.jsx)("button",{onClick:()=>{C(!1),N(null),M(!1)},className:"text-gray-500 hover:text-gray-700 transition-colors p-2 hover:bg-gray-100 rounded-xl",children:(0,mr.jsx)(cl,{size:20})})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("div",{id:"id-card-to-print",ref:F,className:"id-card-container mx-auto",children:(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-blue-600 via-purple-600 to-indigo-700 rounded-3xl shadow-2xl overflow-hidden w-96 mx-auto border-8 border-white",children:[(0,mr.jsx)("div",{className:"bg-white bg-opacity-90 backdrop-blur-sm p-4 text-center border-b border-white border-opacity-20",children:(0,mr.jsx)("div",{className:"flex items-center justify-center gap-3 mb-2",children:(0,mr.jsx)("img",{src:"https://www.sinfode.com/wp-content/uploads/2022/12/digital-marketing-institute-in-sikar.webp",alt:"College Logo",className:"w-auto h-auto rounded-lg"})})}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"flex gap-6 items-start",children:[(0,mr.jsxs)("div",{className:"flex-shrink-0",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("img",{src:j.photo_url||"https://cdn-icons-png.flaticon.com/512/149/149071.png",alt:j.full_name,className:"w-24 h-28 rounded-2xl object-cover border-4 border-white shadow-lg"}),(0,mr.jsx)("div",{className:"absolute inset-0 border-2 border-white border-opacity-50 rounded-2xl"})]}),(0,mr.jsx)("div",{className:"mt-2 text-center",children:(0,mr.jsx)("div",{className:"bg-white bg-opacity-20 rounded-lg px-2 py-1",children:(0,mr.jsxs)("span",{className:"text-white text-xs font-bold",children:["ID: #",j.admission_number]})})})]}),(0,mr.jsxs)("div",{className:"flex-1 text-white",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold mb-2 leading-tight",children:j.full_name.toUpperCase()}),(0,mr.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)(xl,{className:"text-white text-opacity-80"}),(0,mr.jsx)("span",{className:"font-medium",children:"Father:"}),(0,mr.jsx)("span",{children:j.guardian_name})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)(Vo,{className:"text-white text-opacity-80"}),(0,mr.jsx)("span",{className:"font-medium",children:"Branch:"}),(0,mr.jsx)("span",{children:null===(e=j.branch)||void 0===e?void 0:e.branch_name})]}),(null===(n=j.courses)||void 0===n?void 0:n[0])&&(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)(oo,{className:"text-white text-opacity-80"}),(0,mr.jsx)("span",{className:"font-medium",children:"Course:"}),(0,mr.jsx)("span",{className:"truncate",children:j.courses[0].course_name.length>17?j.courses[0].course_name.slice(0,17)+"...":j.courses[0].course_name})]}),(null===(r=j.courses)||void 0===r||null===(s=r[0])||void 0===s?void 0:s.batch)&&(0,mr.jsxs)("div",{className:"flex items-center gap-2",children:[(0,mr.jsx)(uo,{className:"text-white text-opacity-80"}),(0,mr.jsx)("span",{className:"font-medium",children:"Batch:"}),(0,mr.jsx)("span",{children:j.courses[0].batch.batch_name})]})]})]})]}),(0,mr.jsx)("div",{className:"mt-6 pt-4 border-t border-white border-opacity-20",children:(0,mr.jsx)("div",{className:"flex justify-between items-center",children:(0,mr.jsxs)("div",{className:"text-white text-xs",children:[(0,mr.jsxs)("div",{children:["Valid Through: ",P(null===(a=j.courses)||void 0===a||null===(i=a[0])||void 0===i||null===(o=i.batch)||void 0===o?void 0:o.end_date)]}),(0,mr.jsx)("div",{className:"text-white text-opacity-70",children:"Authorized Signature"})]})})})]}),(0,mr.jsxs)("div",{className:"bg-black bg-opacity-30 p-3 text-center",children:[(0,mr.jsx)("p",{className:"text-white text-opacity-80 text-xs",children:(null===(l=j.branch)||void 0===l?void 0:l.address)||"Near Kalyan Circle, Front of Sanskrit College, Sikar (Rajasthan)"}),(0,mr.jsxs)("p",{className:"text-white text-opacity-60 text-xs mt-1",children:["Contact: ",(null===(c=j.branch)||void 0===c?void 0:c.contact_number)||"9376306970"," | Email: ",(null===(d=j.branch)||void 0===d?void 0:d.email)||"info@sinfode.com"]})]})]})}),(0,mr.jsxs)("div",{className:"mt-6 bg-blue-50 rounded-xl p-4 border border-blue-200",children:[(0,mr.jsx)("h4",{className:"font-semibold text-blue-800 mb-2",children:"Printing Instructions:"}),(0,mr.jsxs)("ul",{className:"text-sm text-blue-700 list-disc list-inside space-y-1",children:[(0,mr.jsx)("li",{children:"Ensure the ID card is centered on the page"}),(0,mr.jsx)("li",{children:"Use high-quality photo paper for best results"}),(0,mr.jsx)("li",{children:'Check printer settings for correct size (CR80 - 3.375" x 2.125")'})]})]})]}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-gradient-to-r from-gray-50 via-white to-gray-100 border-t border-gray-300 px-6 py-4 flex justify-end",children:L?(0,mr.jsxs)("div",{className:"flex items-center gap-2 text-gray-600",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),(0,mr.jsx)("span",{children:"Downloading..."})]}):(0,mr.jsxs)("div",{className:"flex gap-4",children:[(0,mr.jsxs)("button",{onClick:async()=>{if(F.current){M(!0);try{const e=(await p_()(F.current,{scale:3,useCORS:!0,logging:!1,backgroundColor:null})).toDataURL("image/png",1),t=new g_.default("p","mm",[54,85.6]),n=t.internal.pageSize.getWidth(),r=t.internal.pageSize.getHeight();t.addImage(e,"PNG",0,0,n,r),t.save("ID_Card_".concat(j.admission_number,"_").concat(j.full_name.replace(/\s+/g,"_"),".pdf"))}catch(e){console.error("Error generating PDF:",e),alert("Error downloading PDF. Please try again.")}finally{M(!1)}}},className:"flex items-center gap-3 px-5 py-3 rounded-xl shadow-md bg-gradient-to-r from-red-100 to-red-50 hover:from-red-200 hover:to-red-100 text-gray-800 font-semibold transition-all duration-300 border border-red-200",children:[(0,mr.jsx)(To,{className:"text-red-600 text-xl"}),(0,mr.jsx)("span",{children:"Download PDF"})]}),(0,mr.jsxs)("button",{onClick:async()=>{if(F.current){M(!0);try{const e=await p_()(F.current,{scale:3,useCORS:!0,logging:!1,backgroundColor:null}),t=document.createElement("a");t.download="ID_Card_".concat(j.admission_number,"_").concat(j.full_name.replace(/\s+/g,"_"),".png"),t.href=e.toDataURL("image/png",1),t.click()}catch(e){console.error("Error generating image:",e),alert("Error downloading image. Please try again.")}finally{M(!1)}}},className:"flex items-center gap-3 px-5 py-3 rounded-xl shadow-md bg-gradient-to-r from-blue-100 to-blue-50 hover:from-blue-200 hover:to-blue-100 text-gray-800 font-semibold transition-all duration-300 border border-blue-200",children:[(0,mr.jsx)(zo,{className:"text-blue-600 text-xl"}),(0,mr.jsx)("span",{children:"Download Image"})]})]})})]})}),(0,mr.jsx)("style",{jsx:!0,children:"\n        @keyframes fade-in {\n          from { opacity: 0; transform: translateY(20px); }\n          to { opacity: 1; transform: translateY(0); }\n        }\n        @keyframes scale-in {\n          from { opacity: 0; transform: scale(0.9); }\n          to { opacity: 1; transform: scale(1); }\n        }\n        .animate-fade-in {\n          animation: fade-in 0.6s ease-out forwards;\n        }\n        .animate-scale-in {\n          animation: scale-in 0.3s ease-out forwards;\n        }\n      "})]})};function Ik(){var e,n,r,s,a,i,o,l,c,d,u,h,A,f,m,p,g,x,b,y,v,w,j;const[_,C]=(0,t.useState)([]),[S,k]=(0,t.useState)(!1),[B,E]=(0,t.useState)(!1),[L,M]=(0,t.useState)(!1),[F,I]=(0,t.useState)(!1),[D,T]=(0,t.useState)([]),[O,P]=(0,t.useState)([]),[U,R]=(0,t.useState)([]),[Q,z]=(0,t.useState)([]),[H,K]=(0,t.useState)(!0),[W,V]=(0,t.useState)(!1),[q,G]=(0,t.useState)(null),[Y,J]=(0,t.useState)(null),[X,Z]=(0,t.useState)({}),[$,ee]=(0,t.useState)([]),[te,ne]=(0,t.useState)(null),re=(0,t.useRef)(null),se=JSON.parse(localStorage.getItem("user")||"{}").branch_id,[ae,ie]=(0,t.useState)({title:"",description:"",submit_date:"",staff_id:"",course_id:"",batch_id:"",branch_id:se||""});(0,t.useEffect)(()=>{const e=e=>{re.current&&!re.current.contains(e.target)&&ne(null)};return document.addEventListener("mousedown",e),()=>{document.removeEventListener("mousedown",e)}},[]);const oe=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/assignments/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=t.data.data||t.data;Array.isArray(n)||(n=[]),se&&(n=n.filter(e=>e.branch_id==se)),console.log("Final assignments data:",n),C(n)}catch(e){console.error("Error fetching assignments:",e)}finally{K(!1)}};(0,t.useEffect)(()=>{oe(),(async()=>{try{const e=localStorage.getItem("token");let t=(await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];se&&(t=t.filter(e=>e.branch_id==se)),T(t)}catch(e){console.error("Error fetching staff:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});z(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})(),(async()=>{try{const e=localStorage.getItem("token");let t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];se&&(t=t.filter(e=>e.branch_id==se)),P(t)}catch(e){console.error("Error fetching courses:",e)}})(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=Array.isArray(t.data)?t.data:t.data.data||[];se&&(n=n.filter(e=>e.branch_id==se)),R(n)}catch(e){console.error("Error fetching batches:",e)}})()},[]);const le=e=>{ie(N(N({},ae),{},{[e.target.name]:e.target.value}))},ce=async e=>{G(e),E(!0),V(!0);try{await(async e=>{try{const t=localStorage.getItem("token"),n=(await Ua.get("/assignments/".concat(e,"/submissions"),{headers:{Authorization:"Bearer ".concat(t)}})).data;ee(n.submissions||[]);const r={};return(n.submissions||[]).forEach(e=>{let t=e.status||"Pending";"Done"!==t&&(t="Pending"),r[e.student_id]=t}),Z(r),n}catch(t){return console.error("Error fetching assignment submissions:",t),{submissions:[]}}})(e.id)}catch(t){console.error("Error loading review data:",t)}finally{V(!1)}},de=e=>{G(e),I(!0)},ue=e=>new Date(e).toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}),he=e=>e?new Date("2000-01-01T".concat(e)).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"N/A",Ae=e=>{if(!e.submissions||0===e.submissions.length)return{text:"No Submissions",color:"bg-gray-100 text-gray-700"};const t=e.submissions.length,n=e.submissions.filter(e=>"Done"===e.status).length;return 0===n?{text:"Pending",color:"bg-yellow-100 text-yellow-700"}:n===t?{text:"Completed",color:"bg-green-100 text-green-700"}:{text:"".concat(n,"/").concat(t," Submitted"),color:"bg-blue-100 text-blue-700"}},fe=e=>{const t=new Date,n=new Date(e)-t,r=Math.ceil(n/864e5);return r<0?{text:"Overdue by ".concat(Math.abs(r)," days"),color:"text-red-600",bg:"bg-red-50"}:0===r?{text:"Due today",color:"text-orange-600",bg:"bg-orange-50"}:1===r?{text:"Due tomorrow",color:"text-orange-600",bg:"bg-orange-50"}:{text:"".concat(r," days remaining"),color:"text-green-600",bg:"bg-green-50"}};return H?(0,mr.jsx)("div",{className:"min-h-screen bg-gray-50 p-6 flex justify-center items-center",children:(0,mr.jsx)("div",{className:"text-lg text-gray-600",children:"Loading assignments..."})}):(0,mr.jsxs)("div",{className:"min-h-screen bg-gray-50 p-6",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1}),(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-800",children:"Assignments"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Manage and review student assignments"})]}),(0,mr.jsxs)("button",{onClick:()=>k(!0),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg flex items-center transition-colors duration-200",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6v6m0 0v6m0-6h6m-6 0H6"})}),"New Assignment"]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Total Assignments"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:_.length})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Pending Review"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-yellow-600",children:_.filter(e=>"Pending"===Ae(e).text).length})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"Completed"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:_.filter(e=>"Completed"===Ae(e).text).length})]}),(0,mr.jsxs)("div",{className:"bg-white p-4 rounded-lg shadow border border-gray-100",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700",children:"In Progress"}),(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:_.filter(e=>Ae(e).text.includes("/")).length})]})]}),(0,mr.jsx)("div",{className:"bg-white shadow-md rounded-lg overflow-hidden border border-gray-200",children:(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sr. No."}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Assignment"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Due Date"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Submissions"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:0===_.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"7",className:"px-6 py-8 text-center text-gray-500",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,mr.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,mr.jsx)("p",{className:"text-lg font-medium text-gray-600",children:"No assignments found"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"Create your first assignment to get started"})]})})}):_.map((e,t)=>{(e=>{var t,n,r,s;(null===(t=e.branch)||void 0===t?void 0:t.branch_name)||"Branch ID: ".concat(e.branch_id||"-"),(null===(n=e.course)||void 0===n?void 0:n.course_name)||"Course ID: ".concat(e.course_id||"-"),(null===(r=e.batch)||void 0===r?void 0:r.batch_name)||"Batch ID: ".concat(e.batch_id||"-"),(null===(s=e.teacher)||void 0===s?void 0:s.employee_name)||"Staff ID: ".concat(e.staff_id||"-")})(e);const n=Ae(e);return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors duration-150 cursor-pointer",onClick:()=>de(e),children:[(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-900",children:t+1}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"font-semibold text-gray-900",children:e.title.length>20?e.title.slice(0,20)+"...":e.title}),(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:e.description.length>50?e.description.slice(0,50)+"...":e.description})]})}),(0,mr.jsxs)("td",{className:"px-6 py-4",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-900 font-medium",children:ue(e.submit_date)}),(0,mr.jsx)("div",{className:"text-xs font-medium ".concat(new Date(e.submit_date)<new Date?"text-red-600":"text-green-600"),children:new Date(e.submit_date)<new Date?"Overdue":"Active"})]}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"text-sm text-gray-900 font-medium",children:[e.submissions?e.submissions.length:0," students"]})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsx)("span",{className:"px-3 py-1 inline-flex text-xs leading-5 font-semibold rounded-full ".concat(n.color),children:n.text})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex space-x-2 items-center",onClick:e=>e.stopPropagation(),children:[(0,mr.jsx)("button",{className:"text-white bg-blue-700 hover:bg-blue-800 px-3 py-1 rounded-md font-medium text-sm transition-colors duration-200",onClick:t=>{t.stopPropagation(),(async e=>{try{const t=localStorage.getItem("token"),n=[];if(e.submissions&&e.submissions.length>0&&e.submissions.forEach(e=>{"Done"!==e.status&&n.push({student_id:e.student_id,status:"Done"})}),0===n.length)return void pi.info("No pending submissions to update");const r={assignment_id:e.id,updates:n},s=await Ua.put("/assignments/submissions/bulk-update",r,{headers:{Authorization:"Bearer ".concat(t)}});pi.success(s.data.message||"Submissions updated successfully"),oe()}catch(t){console.error("Error updating submissions:",t),pi.error("Error updating submissions")}})(e)},children:"SUBMIT"}),(0,mr.jsxs)("div",{className:"relative",ref:re,children:[(0,mr.jsx)("button",{className:"text-gray-500 hover:text-gray-700 p-1 rounded hover:bg-gray-100 transition-colors duration-200",onClick:t=>{var n;t.stopPropagation(),n=e.id,ne(te===n?null:n)},children:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 5v.01M12 12v.01M12 19v.01M12 6a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2zm0 7a1 1 0 110-2 1 1 0 010 2z"})})}),te===e.id&&(0,mr.jsxs)("div",{className:"absolute right-0 mt-1 w-48 bg-white rounded-md shadow-lg border border-gray-200 py-1 z-50",children:[(0,mr.jsxs)("button",{onClick:t=>{t.stopPropagation(),de(e),ne(null)},className:"block w-full text-left px-4 py-2 text-sm text-blue-600 hover:bg-blue-50 transition-colors duration-200 flex items-center",children:[(0,mr.jsxs)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]}),"View Details"]}),(0,mr.jsxs)("button",{onClick:t=>{t.stopPropagation(),ce(e),ne(null)},className:"block w-full text-left px-4 py-2 text-sm text-green-600 hover:bg-green-50 transition-colors duration-200 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Review Submissions"]}),(0,mr.jsxs)("button",{onClick:t=>{t.stopPropagation(),(e=>{J(e),M(!0),ne(null)})(e)},className:"block w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50 transition-colors duration-200 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Assignment"]})]})]})]})})]},e.id)})})]})})}),S&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Create Assignment"}),(0,mr.jsx)("button",{onClick:()=>k(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{const e=localStorage.getItem("token"),t=await Ua.post("/assignments",ae,{headers:{Authorization:"Bearer ".concat(e)}});pi.success(t.data.message||"Assignment created successfully"),k(!1),ie({title:"",description:"",submit_date:"",staff_id:"",course_id:"",batch_id:"",branch_id:se||""}),oe()}catch(t){console.error("Error creating assignment:",t),pi.error("Error creating assignment")}},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Title"}),(0,mr.jsx)("input",{type:"text",name:"title",placeholder:"Assignment title",value:ae.title,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:le,required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Description"}),(0,mr.jsx)("textarea",{name:"description",placeholder:"Assignment description",value:ae.description,rows:"3",className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:le,required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Due Date"}),(0,mr.jsx)("input",{type:"date",name:"submit_date",value:ae.submit_date,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:le,required:!0})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Course"}),(0,mr.jsxs)("select",{name:"course_id",value:ae.course_id,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:le,required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Course"}),O.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Batch"}),(0,mr.jsxs)("select",{name:"batch_id",value:ae.batch_id,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:le,required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Batch"}),U.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.batch_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Staff"}),(0,mr.jsxs)("select",{name:"staff_id",value:ae.staff_id,className:"w-full border border-gray-300 p-2 rounded-md focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition-colors duration-200",onChange:le,required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Staff"}),D.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.employee_name},e.id))]})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>k(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Create Assignment"})]})]})]})}),F&&q&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl max-h-[90vh] overflow-y-auto shadow-xl",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-gray-800",children:"Assignment Details"}),(0,mr.jsx)("button",{onClick:()=>I(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200 p-1 rounded-full hover:bg-gray-100",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 p-6 rounded-lg border border-blue-100",children:(0,mr.jsxs)("div",{className:"flex justify-between items-start",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:q.title}),(0,mr.jsx)("p",{className:"text-gray-600 text-lg",children:q.description})]}),(0,mr.jsx)("div",{className:"text-right",children:(0,mr.jsx)("div",{className:"inline-flex items-center px-4 py-2 rounded-full text-sm font-semibold ".concat(fe(q.submit_date).bg," ").concat(fe(q.submit_date).color),children:fe(q.submit_date).text})})]})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),"Assignment Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Due Date:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:ue(q.submit_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Created:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:ue(q.created_at)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Last Updated:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:ue(q.updated_at)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Submissions:"}),(0,mr.jsxs)("span",{className:"text-gray-900",children:[(null===(e=q.submissions)||void 0===e?void 0:e.length)||0," students"]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})}),"Teacher Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(n=q.teacher)||void 0===n?void 0:n.employee_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Email:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(r=q.teacher)||void 0===r?void 0:r.email)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Contact:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(s=q.teacher)||void 0===s?void 0:s.contact_number)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Department:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(a=q.teacher)||void 0===a?void 0:a.department)||"N/A"})]})]})]})]}),(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})}),"Course Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Course Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(i=q.course)||void 0===i?void 0:i.course_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Course Code:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(o=q.course)||void 0===o?void 0:o.course_code)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Duration:"}),(0,mr.jsxs)("span",{className:"text-gray-900",children:[(null===(l=q.course)||void 0===l?void 0:l.duration)||"N/A"," months"]})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Mode:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(c=q.course)||void 0===c?void 0:c.mode)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Level:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(d=q.course)||void 0===d?void 0:d.course_level)||"N/A"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-orange-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 21V5a2 2 0 00-2-2H7a2 2 0 00-2 2v16m14 0h2m-2 0h-5m-9 0H3m2 0h5M9 7h1m-1 4h1m4-4h1m-1 4h1m-5 10v-5a1 1 0 011-1h2a1 1 0 011 1v5m-4 0h4"})}),"Batch Information"]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Batch Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(u=q.batch)||void 0===u?void 0:u.batch_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Start Date:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:ue(null===(h=q.batch)||void 0===h?void 0:h.start_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"End Date:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:ue(null===(A=q.batch)||void 0===A?void 0:A.end_date)})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Batch Time:"}),(0,mr.jsxs)("span",{className:"text-gray-900",children:[he(null===(f=q.batch)||void 0===f?void 0:f.batch_start_time)," - ",he(null===(m=q.batch)||void 0===m?void 0:m.batch_end_time)]})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Student Limit:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(p=q.batch)||void 0===p?void 0:p.student_limit)||"N/A"})]})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsxs)("svg",{className:"w-5 h-5 mr-2 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:[(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"}),(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15 11a3 3 0 11-6 0 3 3 0 016 0z"})]}),"Branch Information"]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Branch Name:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(g=q.branch)||void 0===g?void 0:g.branch_name)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Branch Code:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(x=q.branch)||void 0===x?void 0:x.branch_code)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Address:"}),(0,mr.jsx)("span",{className:"text-gray-900 text-right",children:(null===(b=q.branch)||void 0===b?void 0:b.address)||"N/A"})]})]}),(0,mr.jsxs)("div",{className:"space-y-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"City:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(y=q.branch)||void 0===y?void 0:y.city)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"State:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(v=q.branch)||void 0===v?void 0:v.state)||"N/A"})]}),(0,mr.jsxs)("div",{className:"flex justify-between py-2 border-b border-gray-100",children:[(0,mr.jsx)("span",{className:"font-medium text-gray-600",children:"Contact:"}),(0,mr.jsx)("span",{className:"text-gray-900",children:(null===(w=q.branch)||void 0===w?void 0:w.contact_number)||"N/A"})]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white border border-gray-200 rounded-lg p-6 shadow-sm",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900 mb-4 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-5 h-5 mr-2 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z"})}),"Student Submissions",(0,mr.jsx)("span",{className:"ml-2 bg-indigo-100 text-indigo-800 text-sm font-medium px-2.5 py-0.5 rounded-full",children:(null===(j=q.submissions)||void 0===j?void 0:j.length)||0})]}),q.submissions&&q.submissions.length>0?(0,mr.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:q.submissions.map(e=>(0,mr.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow duration-200",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-3 mb-3",children:[(0,mr.jsx)("img",{src:e.student.photo_url||"/default-avatar.png",alt:e.student.full_name,className:"w-10 h-10 rounded-full object-cover border border-gray-300"}),(0,mr.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,mr.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.student.full_name}),(0,mr.jsxs)("p",{className:"text-sm text-gray-500 truncate",children:["Admission: ",e.student.admission_number]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{className:"flex flex-col",children:[(0,mr.jsx)("span",{className:"text-xs text-gray-500",children:"Status"}),(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("Done"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:e.status})]}),(0,mr.jsxs)("div",{className:"flex flex-col items-end",children:[(0,mr.jsx)("span",{className:"text-xs text-gray-500",children:"Submitted"}),(0,mr.jsx)("span",{className:"text-sm text-gray-900",children:ue(e.updated_at)})]})]}),(0,mr.jsx)("div",{className:"mt-3 pt-3 border-t border-gray-100",children:(0,mr.jsx)("div",{className:"flex justify-between text-xs text-gray-500",children:(0,mr.jsxs)("span",{children:["Contact: ",e.student.contact_number]})})})]},e.id))}):(0,mr.jsxs)("div",{className:"text-center py-8",children:[(0,mr.jsx)("svg",{className:"w-12 h-12 mx-auto text-gray-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,mr.jsx)("p",{className:"mt-2 text-gray-500",children:"No submissions yet"})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{onClick:()=>I(!1),className:"px-6 py-2 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors duration-200 font-medium",children:"Close"}),(0,mr.jsxs)("button",{onClick:()=>{I(!1),ce(q)},className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition-colors duration-200 font-medium flex items-center",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M15.232 5.232l3.536 3.536m-2.036-5.036a2.5 2.5 0 113.536 3.536L6.5 21.036H3v-3.572L16.732 3.732z"})}),"Review Submissions"]})]})]})]})}),B&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-4xl shadow-xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsxs)("h2",{className:"text-xl font-bold text-gray-800",children:["Review Submissions - ",null===q||void 0===q?void 0:q.title]}),(0,mr.jsx)("button",{onClick:()=>E(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),W?(0,mr.jsx)("div",{className:"py-8 text-center text-gray-500",children:"Loading student data..."}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("div",{className:"mb-6 bg-blue-50 p-4 rounded-lg border border-blue-100",children:[(0,mr.jsxs)("p",{className:"text-gray-700",children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Due Date:"})," ",q?ue(q.submit_date):""]}),(0,mr.jsxs)("p",{className:"text-gray-700 mt-1",children:[(0,mr.jsx)("span",{className:"font-semibold",children:"Total Submissions:"})," ",$.length," students"]})]}),(0,mr.jsx)("div",{className:"overflow-x-auto border border-gray-200 rounded-lg",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50 border-b border-gray-200",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Student ID"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Student Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-sm font-medium text-gray-700",children:"Status"})]})}),(0,mr.jsx)("tbody",{children:0===$.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"3",className:"px-4 py-8 text-center text-gray-500",children:(0,mr.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,mr.jsx)("svg",{className:"w-12 h-12 text-gray-400 mb-3",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})}),(0,mr.jsx)("p",{children:"No submissions found for this assignment."})]})})}):$.map(e=>(0,mr.jsxs)("tr",{className:"border-b border-gray-200 hover:bg-gray-50 transition-colors duration-150",children:[(0,mr.jsx)("td",{className:"px-4 py-3 font-medium text-gray-900",children:e.student.id}),(0,mr.jsx)("td",{className:"px-4 py-3",children:e.student.full_name}),(0,mr.jsx)("td",{className:"px-4 py-3",children:(0,mr.jsxs)("select",{value:X[e.student_id]||"Pending",onChange:t=>{return n=e.student_id,r=t.target.value,void Z(e=>N(N({},e),{},{[n]:r}));var n,r},className:"border border-gray-300 rounded px-3 py-1 focus:outline-none focus:ring-2 focus:ring-blue-500 transition-colors duration-200",children:[(0,mr.jsx)("option",{value:"Pending",children:"Pending"}),(0,mr.jsx)("option",{value:"Done",children:"Done"})]})})]},e.id))})]})}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3 mt-6 pt-4 border-t border-gray-200",children:[(0,mr.jsx)("button",{onClick:()=>E(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,mr.jsx)("button",{onClick:async()=>{try{const e=localStorage.getItem("token"),t=Object.keys(X).map(e=>({student_id:parseInt(e),status:X[e]})),n={assignment_id:q.id,updates:t};console.log("Sending bulk update payload:",n);const r=await Ua.put("/assignments/submissions/bulk-update",n,{headers:{Authorization:"Bearer ".concat(e)}});pi.success(r.data.message||"Statuses updated successfully"),E(!1),oe()}catch(e){console.error("Error updating statuses:",e),e.response?(console.error("Backend validation errors:",e.response.data.errors),pi.error("Error: ".concat(e.response.data.message||"Invalid status value"))):pi.error("Error updating statuses")}},className:"px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors duration-200",children:"Update Status"})]})]})]})}),L&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg p-6 w-full max-w-md shadow-xl",children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,mr.jsx)("h2",{className:"text-xl font-bold text-gray-800",children:"Delete Assignment"}),(0,mr.jsx)("button",{onClick:()=>M(!1),className:"text-gray-500 hover:text-gray-700 transition-colors duration-200",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,mr.jsxs)("div",{className:"mb-6",children:[(0,mr.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("svg",{className:"w-6 h-6 text-red-600 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})}),(0,mr.jsx)("span",{className:"text-red-800 font-medium",children:"Warning: This action cannot be undone"})]})}),(0,mr.jsxs)("p",{className:"text-gray-600",children:["Are you sure you want to delete the assignment ",(0,mr.jsxs)("span",{className:"font-semibold",children:['"',null===Y||void 0===Y?void 0:Y.title,'"']}),"? All associated submissions will also be permanently deleted."]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,mr.jsx)("button",{onClick:()=>M(!1),className:"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50 transition-colors duration-200",children:"Cancel"}),(0,mr.jsxs)("button",{onClick:async()=>{if(Y)try{const e=localStorage.getItem("token"),t=await Ua.delete("/assignments/delete/".concat(Y.id),{headers:{Authorization:"Bearer ".concat(e)}});pi.success(t.data.message||"Assignment deleted successfully"),M(!1),J(null),ne(null),oe()}catch(e){console.error("Error deleting assignment:",e),pi.error("Error deleting assignment")}},className:"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700 transition-colors duration-200 flex items-center",children:[(0,mr.jsx)("svg",{className:"w-4 h-4 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})}),"Delete Assignment"]})]})]})})]})}const Dk=e=>{let{formData:n,setFormData:r,setShowModal:s,refreshData:a}=e;const[i,o]=(0,t.useState)({percentage:0,grade:"-",gradeColor:"text-gray-600"}),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)([]),[h,A]=(0,t.useState)([]),[f,m]=(0,t.useState)([]),[p,g]=(0,t.useState)([]),[x,b]=(0,t.useState)(""),[y,v]=(0,t.useState)(""),[w,j]=(0,t.useState)([]),[_,C]=(0,t.useState)([]),[S,k]=(0,t.useState)([]),B=JSON.parse(localStorage.getItem("user")||"{}").branch_id;(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});console.log("Branches API response:",t),u(t.data||[])}catch(e){console.error("Error fetching branches:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];if(console.log("Fetched courses:",t),m(t),B){const e=t.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===B.toString()});console.log("Filtered courses by branch:",e),C(e)}else C(t)}catch(e){console.error("Error fetching courses:",e)}})()},[B]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/batches/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=[];if(Array.isArray(t.data)?n=t.data:t.data&&Array.isArray(t.data.batches)?n=t.data.batches:t.data&&Array.isArray(t.data.data)?n=t.data.data:(console.warn("Unexpected batches API response structure:",t.data),n=[]),console.log("Fetched batches:",n),A(n),B){const e=n.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===B.toString()});k(e)}else k(n)}catch(e){console.error("Error fetching batches:",e),A([])}})()},[B]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});let n=[];Array.isArray(t.data)?n=t.data:t.data&&Array.isArray(t.data.students)?n=t.data.students:t.data&&Array.isArray(t.data.data)?n=t.data.data:(console.warn("Unexpected students API response structure:",t.data),n=[]),console.log("Fetched students:",n),g(n)}catch(e){console.error("Error fetching students:",e),g([])}})()},[]),(0,t.useEffect)(()=>{if(console.log("Filtering batches by course:",{selectedCourse:x,batchesCount:h.length}),x){const e=h.filter(e=>{var t;return(null===(t=e.course_id)||void 0===t?void 0:t.toString())===x});console.log("Filtered batches by course:",e),k(e),1===e.length?(v(e[0].id.toString()),r(t=>N(N({},t),{},{batch:e[0].id.toString()}))):(v(""),r(e=>N(N({},e),{},{batch:""})))}else{const e=h.filter(e=>{var t;return!B||(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===B.toString()});k(e)}},[x,h,B,r]),(0,t.useEffect)(()=>{console.log("Filtering students with:",{userBranchId:B,selectedCourse:x,selectedBatch:y,studentsCount:p.length});let e=p;B&&(e=e.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===B.toString()})),x&&(e=e.filter(e=>{var t;return null===(t=e.courses)||void 0===t?void 0:t.some(e=>{var t;return(null===(t=e.id)||void 0===t?void 0:t.toString())===x})})),y&&(e=e.filter(e=>{var t;return null===(t=e.courses)||void 0===t?void 0:t.some(e=>{var t,n;return(null===(t=e.pivot)||void 0===t||null===(n=t.batch_id)||void 0===n?void 0:n.toString())===y})})),console.log("Filtered students:",e),j(e)},[B,x,y,p]),(0,t.useEffect)(()=>{B&&r(e=>N(N({},e),{},{branch:B.toString()}))},[B,r]),(0,t.useEffect)(()=>{E()},[n.totalMarks,n.obtainedMarks]);const E=()=>{const e=parseFloat(n.totalMarks)||0,t=parseFloat(n.obtainedMarks)||0;if(e>0){const n=t/e*100;let r="F",s="text-red-600";n>=90?(r="A+",s="text-green-600"):n>=80?(r="A",s="text-green-600"):n>=70?(r="B",s="text-blue-600"):n>=60?(r="C",s="text-yellow-600"):n>=50&&(r="D",s="text-orange-600"),o({percentage:n,grade:r,gradeColor:s})}},L=()=>{s(!1),b(""),v(""),r({studentId:"",branch:B?B.toString():"",batch:"",course:"",examDate:"",examName:"",totalMarks:100,obtainedMarks:0})},M=e=>{const{id:t,value:n}=e.target;r(e=>N(N({},e),{},{[t]:n}))},F=e=>{e.target.style.borderColor="#0176d3",e.target.style.boxShadow="0 0 0 2px rgba(1, 118, 211, 0.1)"},I=e=>{e.target.style.borderColor="#dddbda",e.target.style.boxShadow="none"},D=e=>{var t;if(!e.courses||0===e.courses.length)return"No course assigned";const n=e.courses[0];return"".concat(n.course_name," - ").concat((null===(t=n.batch)||void 0===t?void 0:t.batch_name)||"No batch")};return(0,mr.jsxs)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-2xl w-full max-w-4xl mx-4 max-h-screen overflow-y-auto",children:[(0,mr.jsx)("div",{className:"sf-blue text-white px-6 py-4 rounded-t-lg",style:{background:"linear-gradient(135deg, #0176d3 0%, #005fb2 100%)"},children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsx)("h3",{className:"text-xl font-semibold",children:"Add Exam Marks"}),(0,mr.jsx)("button",{onClick:L,className:"text-white hover:text-gray-200 transition-colors",children:(0,mr.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]})}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),n.obtainedMarks>n.totalMarks)pi.error("Obtained marks cannot be greater than total marks!");else if(n.course)if(n.batch)if(n.studentId){c(!0);try{const e=localStorage.getItem("token"),t={student_id:parseInt(n.studentId),batch_id:parseInt(n.batch),branch_id:parseInt(n.branch),course_id:parseInt(n.course),exam_type:n.examName,marks_obtained:parseFloat(n.obtainedMarks),total_marks:parseFloat(n.totalMarks),exam_date:n.examDate};console.log("Submitting exam data:",t);const r=await Ua.post("/exam-marks",t,{headers:{Authorization:"Bearer ".concat(e)}});200!==r.status&&201!==r.status||(pi.success("Exam marks recorded successfully!"),a&&a(),L())}catch(t){console.error("Error submitting exam marks:",t),pi.error("Failed to record exam marks. Please try again.")}finally{c(!1)}}else pi.error("Please select a student!");else pi.error("Please select a batch!");else pi.error("Please select a course!")},className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h4",{className:"text-lg font-medium text-gray-800 border-b pb-2",children:"Student Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),(0,mr.jsxs)("select",{id:"course",required:!0,value:x,onChange:e=>{const t=e.target.value;b(t),r(e=>N(N({},e),{},{course:t,batch:"",studentId:""})),v("")},className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,children:[(0,mr.jsx)("option",{value:"",children:"Select Course"}),_.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),(0,mr.jsxs)("select",{id:"batch",required:!0,value:y,onChange:e=>{const t=e.target.value;v(t),r(e=>N(N({},e),{},{batch:t,studentId:""}))},className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,disabled:!x,children:[(0,mr.jsx)("option",{value:"",children:"Select Batch"}),S.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.batch_name},e.id))]}),x&&0===S.length&&(0,mr.jsx)("p",{className:"text-sm text-yellow-600 mt-1",children:"No batches found for this course. Please select a course that has associated batches."})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Student"}),(0,mr.jsxs)("select",{id:"student",required:!0,onChange:e=>{const t=e.target.value,n=w.find(e=>e.id.toString()===t);n&&r(e=>N(N({},e),{},{studentId:n.id.toString(),studentName:n.full_name}))},className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,disabled:!y,children:[(0,mr.jsx)("option",{value:"",children:"Select Student"}),0===w.length&&y?(0,mr.jsx)("option",{value:"",disabled:!0,children:"No students found in this batch"}):w.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.full_name,e.courses&&e.courses.length>0&&(0,mr.jsxs)("span",{className:"text-gray-500 text-sm",children:[" ","(",D(e),")"]})]},e.id))]}),y&&0===w.length&&(0,mr.jsx)("p",{className:"text-sm text-red-600 mt-1",children:"No students found in the selected batch. Please check if students are enrolled in this course and batch."})]})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h4",{className:"text-lg font-medium text-gray-800 border-b pb-2",children:"Exam Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Date"}),(0,mr.jsx)("input",{type:"date",id:"examDate",required:!0,value:n.examDate,onChange:M,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Exam Name/Type"}),(0,mr.jsx)("input",{type:"text",id:"examName",required:!0,value:n.examName,onChange:M,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,placeholder:"e.g., Mid Term, Final Exam"})]})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h4",{className:"text-lg font-medium text-gray-800 border-b pb-2",children:"Marks Information"}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Total Marks"}),(0,mr.jsx)("input",{type:"number",id:"totalMarks",required:!0,min:"1",value:n.totalMarks,onChange:M,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,placeholder:"Enter total marks"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Obtained Marks"}),(0,mr.jsx)("input",{type:"number",id:"obtainedMarks",required:!0,min:"0",value:n.obtainedMarks,onChange:M,className:"w-full px-4 py-3 sf-input rounded-lg focus:outline-none",style:{border:"1px solid #dddbda",transition:"all 0.2s ease"},onFocus:F,onBlur:I,placeholder:"Enter obtained marks"})]}),(0,mr.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsx)("div",{className:"text-sm text-gray-600 mb-2",children:"Calculated Results:"}),(0,mr.jsxs)("div",{className:"space-y-2",children:[(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm font-medium",children:"Percentage:"}),(0,mr.jsxs)("span",{className:"text-sm font-bold text-blue-600",children:[i.percentage.toFixed(1),"%"]})]}),(0,mr.jsxs)("div",{className:"flex justify-between",children:[(0,mr.jsx)("span",{className:"text-sm font-medium",children:"Grade:"}),(0,mr.jsx)("span",{className:"text-sm font-bold ".concat(i.gradeColor),children:i.grade})]})]})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-4 mt-8 pt-6 border-t",children:[(0,mr.jsx)("button",{type:"button",onClick:L,className:"px-6 py-3 border border-gray-300 rounded-lg text-gray-700 hover:bg-gray-50 transition-colors",disabled:l,children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"sf-button text-white px-8 py-3 rounded-lg font-medium flex items-center space-x-2",style:{background:"#0176d3",transition:"all 0.2s ease",opacity:l?.7:1},onMouseOver:l?void 0:e=>{e.target.style.background="#005fb2",e.target.style.transform="translateY(-1px)"},onMouseOut:l?void 0:e=>{e.target.style.background="#0176d3",e.target.style.transform="translateY(0)"},disabled:l,children:l?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,mr.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,mr.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),(0,mr.jsx)("span",{children:"Processing..."})]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})}),(0,mr.jsx)("span",{children:"Save Record"})]})})]})]})]})]})},Tk=e=>{let{refreshFlag:n}=e;const[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)("all"),[u,h]=(0,t.useState)(!0),A=e=>{const t=o.find(t=>t.id===e);return t?t.branchName:"Branch ".concat(e)};return(0,t.useEffect)(()=>{(async()=>{await(async()=>{try{const e=localStorage.getItem("token");if(!e)return void pi.error("No token found! Please login again.");const t=await Ua.get("exam-marks",{headers:{Authorization:"Bearer ".concat(e)}}),n=[];t.data.students.forEach(e=>{e.exam_marks.forEach(t=>{n.push({id:t.id,studentId:e.id,studentName:e.full_name,branch:A(e.branch_id),course:t.course?t.course.course_name:"N/A",examDate:t.exam_date,examName:t.exam_type,totalMarks:t.total_marks,obtainedMarks:t.marks_obtained,percentage:t.marks_obtained/t.total_marks*100,startTime:e.batch_start_time,endTime:e.batch_end_time,branchId:e.branch_id})})}),s(n),i(n),h(!1)}catch(e){console.error("Error fetching exam records:",e),pi.error("Failed to load exam records"),h(!1)}})()})()},[n]),(0,t.useEffect)(()=>{(e=>{if("all"===e)i(r);else{const t=r.filter(t=>t.branchId==e);i(t)}})(c)},[c,r]),u?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):(0,mr.jsxs)("div",{children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"rounded-lg overflow-hidden",style:{background:"#ffffff",border:"1px solid #dddbda",boxShadow:"0 2px 4px rgba(0,0,0,0.07)"},children:[(0,mr.jsx)("div",{className:"sf-table-header py-4",style:{background:"#f3f2f2",borderBottom:"2px solid #dddbda"},children:(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-800",children:"Exam Records"})}),(0,mr.jsx)("div",{children:(0,mr.jsx)("div",{className:"w-full",children:(0,mr.jsxs)("table",{className:"w-full border-collapse",children:[(0,mr.jsx)("thead",{className:"bg-gray-100 border-b",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Course"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Exam Date"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Exam Name"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Total Marks"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Obtained"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Percentage"}),(0,mr.jsx)("th",{className:"px-4 py-3 text-center text-xs font-semibold text-gray-600 uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"divide-y divide-gray-200 bg-white",children:0===a.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"9",className:"px-6 py-16 text-center text-gray-500",children:"No exam records found"})}):a.map(e=>{const t=(n=e.percentage)>=90?{grade:"A+",class:"bg-green-100 text-green-800"}:n>=80?{grade:"A",class:"bg-green-100 text-green-800"}:n>=70?{grade:"B+",class:"bg-blue-100 text-blue-800"}:n>=60?{grade:"B",class:"bg-blue-100 text-blue-800"}:n>=50?{grade:"C",class:"bg-yellow-100 text-yellow-800"}:n>=40?{grade:"D",class:"bg-orange-100 text-orange-800"}:{grade:"F",class:"bg-red-100 text-red-800"};var n;const o=new Date(e.examDate).toLocaleDateString();return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-4 py-3 text-sm font-medium text-gray-900 truncate",children:e.studentName}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 truncate",children:e.course}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900",children:o}),(0,mr.jsx)("td",{className:"px-4 py-3 text-sm text-gray-900 truncate",children:e.examName}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:e.totalMarks}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center text-sm font-medium text-gray-900",children:e.obtainedMarks}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center",children:(0,mr.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-xs font-semibold ".concat(t.class),children:[e.percentage.toFixed(1),"% (",t.grade,")"]})}),(0,mr.jsx)("td",{className:"px-4 py-3 text-center",children:(0,mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this exam record?"))try{const t=localStorage.getItem("token");await Ua.delete("exam-marks/delete/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}}),s(r.filter(t=>t.id!==e)),i(a.filter(t=>t.id!==e)),pi.success("Exam record deleted successfully!")}catch(t){console.error("Error deleting exam record:",t),pi.error("Failed to delete exam record")}})(e.id),className:"text-red-600 hover:text-red-900 transition-colors p-2 rounded-lg hover:bg-red-50",title:"Delete Record",children:(0,mr.jsx)("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})})]},e.id)})})]})})})]})]})};const Ok=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(0),[u,h]=(0,t.useState)({studentId:"",studentName:"",branch:"",course:"",examDate:"",examName:"",startTime:"",endTime:"",totalMarks:100,obtainedMarks:0}),[A,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)([]),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(""),[j,_]=(0,t.useState)([]),[C,S]=(0,t.useState)("");(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});p(t.data||[])}catch(e){console.error("Error fetching courses:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(b)try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/".concat(b,"/show"),{headers:{Authorization:"Bearer ".concat(e)}});x(t.data.students||[])}catch(e){console.error("Error fetching students:",e)}})()},[b]),(0,t.useEffect)(()=>{if(!v||!g.length)return void _(g);const e=g.filter(e=>{var t;return(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===v});_(e)},[v,g]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/exam-marks",{headers:{Authorization:"Bearer ".concat(e)}});if(t.data&&t.data.length>0){const e=t.data.map(e=>({id:e.id,studentId:e.student_id.toString(),studentName:e.student_name||"Unknown",branch:e.branch_id.toString(),course:e.course_id.toString(),examDate:e.exam_date,examName:e.exam_type,startTime:e.start_time||"",endTime:e.end_time||"",totalMarks:e.total_marks,obtainedMarks:e.marks_obtained,percentage:e.marks_obtained/e.total_marks*100}));n(e)}}catch(e){console.error("Error fetching all exam marks:",e)}})()},[]);const k=e.length,B=e.map(e=>e.percentage);return k>0&&B.reduce((e,t)=>e+t,0),k>0&&Math.max(...B),B.filter(e=>e>=50).length,(0,mr.jsxs)("div",{className:"bg-gray-50 min-h-screen",style:{fontFamily:"'Inter', 'Salesforce Sans', sans-serif"},children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsx)("div",{className:"sf-blue text-white py-6 px-6 shadow-lg",style:{background:"linear-gradient(135deg, #0176d3 0%, #005fb2 100%)"},children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"bg-white bg-opacity-20 p-2 rounded-lg",children:(0,mr.jsx)("svg",{className:"w-8 h-8 text-white",fill:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{d:"M12 2L1 7l11 5 9-4.09V17h2V7L12 2zM4 10v5l8 4 8-4v-5l-8 3.64L4 10z"})})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold",children:"Exam Marks Management"}),(0,mr.jsx)("p",{className:"text-blue-100 text-lg",children:"Comprehensive student assessment tracking system"})]}),(0,mr.jsx)("button",{onClick:()=>i(!0),className:"sf-button text-white border border-white ml-[140px] px-6 py-3 rounded-lg font-medium flex items-center space-x-2 shadow-lg",children:(0,mr.jsx)("span",{children:"+ Add Marks"})})]})})}),(0,mr.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,mr.jsx)(Tk,{records:e,refreshFlag:c,editRecord:()=>{},deleteRecord:()=>{},getGrade:e=>e>=90?{grade:"A+",class:"status-active"}:e>=80?{grade:"A",class:"status-active"}:e>=70?{grade:"B",class:"status-completed"}:e>=60?{grade:"C",class:"status-completed"}:e>=50?{grade:"D",class:"status-pending"}:{grade:"F",class:"bg-red-100 text-red-800"}})}),a&&(0,mr.jsx)(Dk,{formData:u,setFormData:h,editingId:o,refreshData:()=>{d(e=>e+1)},setEditingId:l,setShowModal:i,handleSubmit:()=>{},handleInputChange:e=>{const{id:t,value:n}=e.target;h(e=>N(N({},e),{},{[t]:n}))},handleCourseChange:e=>{y(e.target.value),h(t=>N(N({},t),{},{course:e.target.value}))},handleBranchChange:e=>{w(e.target.value),h(t=>N(N({},t),{},{branch:e.target.value}))},handleStudentSelect:e=>{const t=e.target.value,n=j.find(e=>e.id.toString()===t);n&&h(e=>N(N({},e),{},{studentId:n.id.toString(),studentName:n.name}))},branches:A,courses:m,filteredStudents:j,selectedCourse:b,selectedBranch:v})]})};function Pk(){const[e,n]=(0,t.useState)("assignments");return(0,mr.jsxs)("div",{className:"bg-gradient-to-br from-slate-50 to-blue-50 min-h-screen",children:[(0,mr.jsx)("header",{className:"bg-white shadow-sm border-b border-gray-200",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-4",children:(0,mr.jsx)("div",{className:"flex items-center justify-between",children:(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"w-10 h-10 bg-primary rounded-lg flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-white font-bold text-lg",children:"\ud83d\udcda"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Academic Progress"}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Track student performance and submissions"})]})]})})})}),(0,mr.jsx)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[(0,mr.jsx)("div",{className:"border-b border-gray-200",children:(0,mr.jsx)("nav",{className:"flex space-x-8 px-6",children:[{id:"assignments",label:"\ud83d\udccb Assignment Tracking"},{id:"exams",label:"\ud83d\udcca Test/Exam Marks"}].map(t=>(0,mr.jsx)("button",{onClick:()=>n(t.id),className:"py-4 px-2 border-b-2 font-medium transition-colors ".concat(e===t.id?"border-primary text-primary":"border-transparent text-gray-500 hover:text-gray-700"),children:t.label},t.id))})}),(0,mr.jsxs)("div",{className:"p-6",children:["assignments"===e&&(0,mr.jsx)("div",{children:(0,mr.jsx)(Ik,{})}),"exams"===e&&(0,mr.jsx)("div",{children:(0,mr.jsx)(Ok,{})})]})]})})]})}function Uk(){const[e,n]=(0,t.useState)("studentList"),r=JSON.parse(localStorage.getItem("user")||"{}"),s="branch_manager"===r.role,a=r.branch_id;return(0,mr.jsx)(A_,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsxs)("div",{className:"w-64 bg-white rounded-xl shadow-lg p-6 space-y-3",children:[(0,mr.jsx)("div",{className:"mb-6 pb-4 border-b border-gray-200",children:(0,mr.jsx)("h2",{className:"text-lg font-bold text-gray-800",children:"Student Management"})}),(0,mr.jsx)("button",{onClick:()=>n("studentList"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("studentList"===e?"bg-blue-100 text-blue-700 border border-blue-200 shadow-sm":"hover:bg-gray-100 text-gray-700 border border-transparent"),children:"\ud83d\udccb All Students"}),(0,mr.jsx)("button",{onClick:()=>n("idCard"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("idCard"===e?"bg-blue-100 text-blue-700 border border-blue-200 shadow-sm":"hover:bg-gray-100 text-gray-700 border border-transparent"),children:"\ud83d\udccb  ID Cards"}),(0,mr.jsx)("button",{onClick:()=>n("academic"),className:"w-full text-left px-4 py-4 rounded-xl transition duration-200 ".concat("academic"===e?"bg-blue-100 text-blue-700 border border-blue-200 shadow-sm":"hover:bg-gray-100 text-gray-700 border border-transparent"),children:"\ud83d\udcca Academic Progress"})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto bg-gray-50",children:["studentList"===e&&(0,mr.jsx)(Mk,{isBranchManager:s,branchId:s?a:null}),"idCard"===e&&(0,mr.jsx)(Fk,{isBranchManager:s,branchId:s?a:null}),"academic"===e&&(0,mr.jsx)(Pk,{isBranchManager:s,branchId:s?a:null})]})]})})}const Rk=function(){const[e,n]=(0,t.useState)((new Date).toISOString().slice(0,7)),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}");h(e.branch_id)},[]);const A=()=>{l(null),d(null)},f=r.reduce((e,t)=>{const n=t.student_id;return e[n]||(e[n]={student:t.student,records:[]}),e[n].records.push(t),e},{}),m=(()=>{if(!e||!c)return[];const[t,n]=e.split("-").map(Number),r=new Date(t,n-1,1),s=new Date(t,n,0).getDate(),a=r.getDay(),i=[];for(let e=0;e<a;e++)i.push({date:null,status:null});for(let e=1;e<=s;e++){const r="".concat(t,"-").concat(n.toString().padStart(2,"0"),"-").concat(e.toString().padStart(2,"0")),s=c.find(e=>e.date.startsWith(r));i.push({date:r,status:s?s.status:null,isWeekend:0===new Date(t,n-1,e).getDay()||6===new Date(t,n-1,e).getDay()})}return i})(),p=(()=>{if(!c)return{present:0,absent:0,percentage:0};const e=c.filter(e=>"Present"===e.status).length,t=c.filter(e=>"Absent"===e.status).length,n=e+t;return{present:e,absent:t,percentage:n>0?Math.round(e/n*100):0}})();return(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold mb-6",children:"\ud83d\udcca Monthly Attendance Report"}),(0,mr.jsxs)("div",{className:"flex gap-6 bg-white shadow-md rounded-xl p-6 mb-6",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block mb-1 font-medium",children:"Select Month"}),(0,mr.jsx)("input",{type:"month",className:"border rounded-lg p-2 w-full",value:e,onChange:e=>n(e.target.value)})]}),(0,mr.jsx)("div",{className:"flex items-end",children:(0,mr.jsx)("button",{onClick:async()=>{if(!u||!e)return alert("Select month first");i(!0);try{const t=localStorage.getItem("token"),n=await Ua.get("/attendance/monthly",{headers:{Authorization:"Bearer ".concat(t)},params:{month:e,branch_id:parseInt(u)}});s(n.data||[])}catch(t){console.error("Error fetching attendance:",t),alert("\u274c Failed to fetch attendance")}finally{i(!1)}},className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 transition-colors",disabled:!u,children:"\ud83d\udd0d View Report"})})]}),a&&(0,mr.jsx)("p",{className:"text-gray-500",children:"\u23f3 Fetching attendance..."}),Object.values(f).length>0?(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,mr.jsxs)("table",{className:"w-full border-collapse",children:[(0,mr.jsx)("thead",{className:"bg-indigo-600 text-white",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"p-3 text-left",children:"Admission No"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Student Name"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Total Present"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Total Absent"}),(0,mr.jsx)("th",{className:"p-3 text-left",children:"Action"})]})}),(0,mr.jsx)("tbody",{children:Object.values(f).map(t=>{let{student:n,records:s}=t;const a=s.filter(e=>"Present"===e.status).length,i=s.filter(e=>"Absent"===e.status).length;return(0,mr.jsxs)("tr",{className:"border-b hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"p-3",children:n.admission_number}),(0,mr.jsx)("td",{className:"p-3 font-medium",children:n.full_name}),(0,mr.jsx)("td",{className:"p-3 text-green-600 font-semibold",children:a}),(0,mr.jsx)("td",{className:"p-3 text-red-500 font-semibold",children:i}),(0,mr.jsx)("td",{className:"p-3",children:(0,mr.jsx)("button",{onClick:()=>(async t=>{l(t);try{const n=localStorage.getItem("token"),r=await Ua.get("/attendance/student/".concat(t.id),{headers:{Authorization:"Bearer ".concat(n)},params:{month:e,branch_id:parseInt(u)}});d(r.data||[])}catch(n){console.error("Error fetching student details:",n);const e=r.filter(e=>e.student_id===t.id);d(e)}})(n),className:"px-3 py-1 text-sm bg-indigo-100 text-indigo-700 rounded-md hover:bg-indigo-200",children:"View Details"})})]},n.id)})})]})}):!a&&(0,mr.jsx)("p",{className:"text-center text-gray-500 mt-6",children:"\ud83d\udeab No attendance data found for this month"}),o&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-2xl w-full max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,mr.jsxs)("div",{className:"sticky top-0 bg-white border-b p-6 flex justify-between items-center",children:[(0,mr.jsxs)("h3",{className:"text-xl font-semibold",children:["\ud83d\udcc5 Attendance Details for ",o.full_name]}),(0,mr.jsx)("button",{onClick:A,className:"text-gray-500 hover:text-gray-700 text-2xl",children:"\xd7"})]}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-blue-600",children:"Admission No"}),(0,mr.jsx)("p",{className:"font-semibold",children:o.admission_number})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-green-600",children:"Month"}),(0,mr.jsx)("p",{className:"font-semibold",children:new Date(e+"-01").toLocaleString("default",{month:"long",year:"numeric"})})]}),(0,mr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-sm text-purple-600",children:"Attendance Percentage"}),(0,mr.jsxs)("p",{className:"font-semibold",children:[p.percentage,"%"]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-around mb-6 bg-gray-50 p-4 rounded-lg",children:[(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-green-600",children:p.present}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Days Present"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-red-600",children:p.absent}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Days Absent"})]}),(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:p.present+p.absent}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Days"})]})]}),(0,mr.jsx)("h4",{className:"text-lg font-medium mb-4",children:"Daily Attendance"}),(0,mr.jsx)("div",{className:"grid grid-cols-7 gap-2 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,mr.jsx)("div",{className:"text-center font-medium text-gray-600 py-2",children:e},e))}),(0,mr.jsx)("div",{className:"grid grid-cols-7 gap-2",children:m.map((e,t)=>(0,mr.jsx)("div",{className:"min-h-12 rounded-lg flex flex-col items-center justify-center p-1\n                      ".concat(e.isWeekend?"bg-gray-200":"bg-white"," \n                      ").concat("Present"===e.status?"bg-green-900 text-green-700 border border-green-700":"","\n                      ").concat("Absent"===e.status?"bg-red-900 text-red-700 border border-red-700":"","\n                      ").concat(e.date?"border":"invisible"),children:e.date&&(0,mr.jsx)(mr.Fragment,{children:(0,mr.jsx)("span",{className:"text-xs font-medium",children:new Date(e.date).getDate()})})},t))}),(0,mr.jsxs)("div",{className:"flex justify-center mt-6 gap-4",children:[(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-green-700 border border-green-300 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Present"})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-red-700 border border-red-300 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Absent"})]}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"w-4 h-4 bg-gray-100 mr-1"}),(0,mr.jsx)("span",{className:"text-xs",children:"Weekend/Holiday"})]})]})]}),(0,mr.jsx)("div",{className:"sticky bottom-0 bg-white border-t p-4 flex justify-end",children:(0,mr.jsx)("button",{onClick:A,className:"px-4 py-2 bg-gray-200 text-gray-800 rounded-lg hover:bg-gray-300",children:"Close"})})]})})]})};const Qk=function(){var e;const[n,r]=(0,t.useState)((new Date).getMonth()+1),[s,a]=(0,t.useState)((new Date).getFullYear()),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)({present:0,absent:0,halfday:0,total:0}),[h,A]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}");A(e)},[]);const f=e=>{const t=e.filter(e=>"Present"===e.status).length,n=e.filter(e=>"Absent"===e.status).length,r=e.filter(e=>"Halfday"===e.status).length;u({present:t,absent:n,halfday:r,total:e.length})};(0,t.useEffect)(()=>{h&&(async()=>{if(null!==h&&void 0!==h&&h.branch_id&&null!==h&&void 0!==h&&h.staff_id){c(!0);try{const e=localStorage.getItem("token"),t=await Ua.get("/staff/attendance/history",{headers:{Authorization:"Bearer ".concat(e)},params:{branch_id:parseInt(h.branch_id),staff_id:parseInt(h.staff_id),month:parseInt(n),year:parseInt(s)}});t.data.status&&t.data.data?(o(t.data.data),f(t.data.data)):(o([]),u({present:0,absent:0,halfday:0,total:0}))}catch(e){console.error("Error fetching attendance:",e),alert("\u274c Failed to fetch attendance history"),o([])}finally{c(!1)}}else alert("User data not found")})()},[h,n,s]);const m=e=>{switch(e){case"Present":return"bg-green-100 text-green-800 border border-green-200";case"Absent":return"bg-red-100 text-red-800 border border-red-200";case"Halfday":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},p=(new Date).getFullYear(),g=Array.from({length:5},(e,t)=>p-2+t);return(0,mr.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Attendance"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-2",children:"Track and manage your attendance records"})]}),h&&(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-white text-xl font-semibold",children:(null===(e=h.name)||void 0===e?void 0:e.charAt(0))||"U"})}),(0,mr.jsx)("div",{children:(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:h.name})})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Role"}),(0,mr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:h.role})]})]})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6",children:[(0,mr.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Period"}),(0,mr.jsxs)("div",{className:"flex space-x-4",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),(0,mr.jsx)("select",{value:n,onChange:e=>r(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}].map(e=>(0,mr.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),(0,mr.jsx)("select",{value:s,onChange:e=>a(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:g.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,mr.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-green-600",children:d.present}),(0,mr.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Present"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-red-600",children:d.absent}),(0,mr.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Absent"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:d.halfday}),(0,mr.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Half Day"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:d.total}),(0,mr.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Total Records"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,mr.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Attendance Records - ",new Date(s,n-1).toLocaleDateString("en-IN",{month:"long",year:"numeric"})]}),l&&(0,mr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mr.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Loading..."})]})]})}),(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Day"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recorded At"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.length>0?i.map(e=>(0,mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(e.attendance_date).toLocaleDateString("en-IN")}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(e.attendance_date).toLocaleDateString("en-IN",{weekday:"long"})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(m(e.status)),children:e.status})}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.reason||"-"}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString("en-IN")})]},e.id)):(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center",children:(0,mr.jsx)("div",{className:"text-gray-500",children:l?(0,mr.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,mr.jsx)("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,mr.jsx)("span",{children:"Loading attendance records..."})]}):(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcca"}),(0,mr.jsx)("p",{className:"text-lg font-medium",children:"No attendance records found"}),(0,mr.jsx)("p",{className:"text-sm",children:"No attendance data available for the selected period."})]})})})})})]})})]})]})})};function zk(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)({}),[c,d]=(0,t.useState)((new Date).toISOString().split("T")[0]),[u,h]=(0,t.useState)(!1);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data||[])}catch(e){console.error("Error fetching courses:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{if(a){h(!0);try{const e=localStorage.getItem("token"),t=(await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>{var t;return null===(t=e.courses)||void 0===t?void 0:t.some(e=>e.id.toString()===a)});s(t||[])}catch(e){console.error("Error fetching students:",e),s([])}finally{h(!1)}}else s([])})()},[a]);const A=(e,t)=>{l(n=>N(N({},n),{},{[e]:t}))},f=Object.values(o).filter(e=>"Present"===e).length,m=Object.values(o).filter(e=>"Absent"===e).length;return(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto px-6 py-8",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!0}),(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-indigo-600 to-cyan-500 text-white flex items-center justify-between shadow-lg border-b-4 border-indigo-600 mb-6 rounded-xl px-6 py-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h1",{className:"text-[30px] mb-2 font-nunito",children:"Student Attendance"}),(0,mr.jsxs)("p",{className:"text-white text-lg",children:["Today: ",new Date(c).toLocaleDateString("en-IN")]})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsxs)("div",{className:"text-sm opacity-90",children:["Marked: ",f+m," / ",r.length]}),(0,mr.jsxs)("div",{className:"text-sm opacity-90",children:["Present: ",f," | Absent: ",m]})]})]}),(0,mr.jsxs)("div",{className:"bg-white shadow-md rounded-xl p-6 mb-6 grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Select Course *"}),(0,mr.jsxs)("select",{className:"border border-gray-300 rounded-lg p-3 w-full focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:a,onChange:e=>{i(e.target.value),l({})},children:[(0,mr.jsx)("option",{value:"",children:"-- Select Course --"}),e.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.course_name," (",e.course_code,")"]},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block mb-2 font-medium text-gray-700",children:"Select Date"}),(0,mr.jsx)("input",{type:"date",className:"border border-gray-300 rounded-lg p-3 w-full focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500 transition-all",value:c,onChange:e=>d(e.target.value)})]})]}),a&&(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-md p-6 mb-6",children:(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 text-center",children:[(0,mr.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-200",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:r.length}),(0,mr.jsx)("div",{className:"text-sm text-blue-800",children:"Total Students"})]}),(0,mr.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg border border-green-200",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-green-600",children:f}),(0,mr.jsx)("div",{className:"text-sm text-green-800",children:"Marked Present"})]}),(0,mr.jsxs)("div",{className:"bg-orange-50 p-4 rounded-lg border border-orange-200",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:m}),(0,mr.jsx)("div",{className:"text-sm text-orange-800",children:"Marked Absent"})]}),(0,mr.jsxs)("div",{className:"bg-purple-50 p-4 rounded-lg border border-purple-200",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:r.length-(f+m)}),(0,mr.jsx)("div",{className:"text-sm text-purple-800",children:"Pending"})]})]})}),r.length>0&&(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-md p-4 mb-6",children:(0,mr.jsxs)("div",{className:"flex flex-wrap gap-3 justify-center",children:[(0,mr.jsx)("button",{onClick:()=>{const e={};r.forEach(t=>{e[t.id]="Present"}),l(e)},className:"px-4 py-2 bg-green-500 text-white rounded-lg hover:bg-green-600 transition-colors font-medium flex items-center gap-2",children:"\u2705 Mark All Present"}),(0,mr.jsx)("button",{onClick:()=>{const e={};r.forEach(t=>{e[t.id]="Absent"}),l(e)},className:"px-4 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition-colors font-medium flex items-center gap-2",children:"\u274c Mark All Absent"}),(0,mr.jsx)("button",{onClick:()=>{l({})},className:"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition-colors font-medium flex items-center gap-2",children:"\ud83d\uddd1\ufe0f Clear All"}),(0,mr.jsx)("button",{onClick:async()=>{if(0!==Object.keys(o).length)try{const e=localStorage.getItem("token");h(!0);for(const[t,n]of Object.entries(o))await Ua.post("/attendance/store",{attendance:{student_id:parseInt(t),date:c,status:n,reason:null}},{headers:{Authorization:"Bearer ".concat(e)}});pi.success("\u2705 Attendance saved successfully!"),l({})}catch(e){console.error(e),pi.error("\u274c Error saving attendance")}finally{h(!1)}else pi.warning("\u26a0\ufe0f Please mark attendance for at least one student")},disabled:u||0===Object.keys(o).length,className:"px-6 py-2 bg-indigo-600 text-white rounded-lg hover:bg-indigo-700 disabled:bg-gray-400 disabled:cursor-not-allowed transition-colors font-medium flex items-center gap-2",children:u?"\u23f3 Saving...":"\ud83d\udcbe Save Attendance"})]})}),u?(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600 mx-auto"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-4",children:"Loading students..."})]}):r.length>0?(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-lg overflow-hidden",children:(0,mr.jsx)("div",{className:"p-6 space-y-4",children:r.map(e=>{var t,n,r;const s=null===(t=e.courses)||void 0===t?void 0:t.find(e=>e.id.toString()===a);return(0,mr.jsxs)("div",{className:"flex items-center justify-between p-4 border-2 rounded-lg transition-all ".concat("Present"===o[e.id]?"border-green-200 bg-green-50":"Absent"===o[e.id]?"border-red-200 bg-red-50":"border-gray-200 hover:bg-gray-50"),children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4 flex-1",children:[(0,mr.jsx)("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-400 to-purple-500 rounded-full flex items-center justify-center text-white font-bold text-lg",children:null===(n=e.full_name)||void 0===n?void 0:n.split(" ").map(e=>e[0]).join("").toUpperCase()}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-800 text-lg",children:e.full_name}),(0,mr.jsxs)("div",{className:"flex flex-wrap gap-4 text-sm text-gray-600 mt-1",children:[(0,mr.jsxs)("span",{children:["Admission: #",e.admission_number]}),(0,mr.jsxs)("span",{children:["Contact: ",e.contact_number]}),(0,mr.jsxs)("span",{children:["Batch: ",(null===s||void 0===s||null===(r=s.batch)||void 0===r?void 0:r.batch_name)||"N/A"]})]})]})]}),(0,mr.jsxs)("div",{className:"flex space-x-2",children:[(0,mr.jsx)("button",{onClick:()=>A(e.id,"Present"),className:"px-5 py-3 rounded-lg font-medium transition-all duration-200 min-w-[100px] ".concat("Present"===o[e.id]?"bg-green-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-green-100 hover:text-green-700 border-2 border-green-200"),children:"\u2705 Present"}),(0,mr.jsx)("button",{onClick:()=>A(e.id,"Absent"),className:"px-5 py-3 rounded-lg font-medium transition-all duration-200 min-w-[100px] ".concat("Absent"===o[e.id]?"bg-red-500 text-white shadow-lg":"bg-gray-100 text-gray-700 hover:bg-red-100 hover:text-red-700 border-2 border-red-200"),children:"\u274c Absent"})]})]},e.id)})})}):a?(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,mr.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcdd"}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No students found"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"No students are enrolled in this course"})]}):(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-8 text-center",children:[(0,mr.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udc68\u200d\ud83c\udf93"}),(0,mr.jsx)("h3",{className:"text-xl font-semibold text-gray-700 mb-2",children:"Select a Course to View Students"}),(0,mr.jsx)("p",{className:"text-gray-500",children:"Choose a course from the dropdown above to start marking attendance"})]})]})}function Hk(){const[e,n]=(0,t.useState)("addAttendance");return(0,mr.jsx)(A_,{children:(0,mr.jsxs)("div",{className:"flex flex-col lg:flex-row h-full gap-6",children:[(0,mr.jsx)("div",{className:"lg:w-80 bg-white rounded-xl shadow-md p-4 space-y-3",children:[{id:"addAttendance",label:"\u2795 Add Student Attendance"},{id:"attendanceList",label:"\ud83d\udccb Student Attendance Report"},{id:"myAttendance",label:"\ud83d\udccb My Attendance"}].map(t=>(0,mr.jsxs)("button",{onClick:()=>n(t.id),className:"w-full text-left px-4 py-4 rounded-lg transition-all duration-200 flex items-center gap-3 ".concat(e===t.id?"bg-gradient-to-r from-blue-500 to-indigo-500 text-white shadow-lg":"hover:bg-blue-50 text-gray-700 border border-gray-200"),children:[(0,mr.jsx)("span",{className:"text-lg",children:t.icon}),(0,mr.jsx)("span",{className:"font-medium",children:t.label})]},t.id))}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-4 lg:p-6 overflow-y-auto bg-gray-50",children:["addAttendance"===e&&(0,mr.jsx)(zk,{}),"attendanceList"===e&&(0,mr.jsx)(Rk,{}),"myAttendance"===e&&(0,mr.jsx)(Qk,{})]})]})})}function Kk(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)("leads"),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)(!1),m=JSON.parse(localStorage.getItem("user")||"{}").branch_id,[p,g]=(0,t.useState)({branch_id:m||"",full_name:"",contact_number_primary:"",contact_number_alternate:"",email_address:"",lead_source:"",lead_status:"New",priority:"Medium",notes:"",follow_up_datetime:"",assigned_to:"",course_id:"",budget_range:""});(0,t.useEffect)(()=>{x(),b(),y()},[]);const x=async()=>{try{f(!0);const e=localStorage.getItem("token"),t=await Ua.get("/leads/index",{headers:{Authorization:"Bearer ".concat(e)}});n(t.data)}catch(e){console.error("Error fetching leads:",e),alert("Failed to load leads")}finally{f(!1)}},b=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/staff",{headers:{Authorization:"Bearer ".concat(e)}});d(t.data||[])}catch(e){console.error("Error fetching staff:",e)}},y=async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data||[];h(t)}catch(e){console.error("Error fetching courses:",e)}},v=e=>{const{id:t,value:n}=e.target;if("contact_number_primary"===t||"contact_number_alternate"===t){const e=n.replace(/\D/g,"").slice(0,10);g(n=>N(N({},n),{},{[t]:e}))}else g(e=>N(N({},e),{},{[t]:n}))},w=e.filter(e=>{const t=""===a||e.full_name.toLowerCase().includes(a.toLowerCase())||e.email_address.toLowerCase().includes(a.toLowerCase())||e.contact_number_primary.includes(a),n=""===o||e.lead_status===o;return t&&n}),j=e.length,_=e.filter(e=>"Converted"===e.lead_status).length,C=e.filter(e=>["Contacted","Follow-up","Demo Scheduled"].includes(e.lead_status)).length,S=e.filter(e=>"Lost"===e.lead_status).length;return(0,mr.jsxs)(A_,{children:[(0,mr.jsxs)("div",{className:"min-h-screen",children:[(0,mr.jsx)("header",{className:"bg-white border-b border-sf-border sf-shadow",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,mr.jsx)("div",{className:"flex justify-between items-center h-16",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("div",{className:"w-8 h-8 bg-sf-blue rounded flex items-center justify-center",children:(0,mr.jsx)("i",{className:"fas fa-cloud text-white text-lg"})})}),(0,mr.jsx)("div",{className:"ml-4",children:(0,mr.jsx)("h1",{className:"text-xl font-semibold text-sf-text",children:"Lead Management"})})]})})})}),(0,mr.jsxs)("div",{className:"max-w-full mx-auto sm:px-6 lg:px-8 py-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-lg sf-shadow mb-6",children:(0,mr.jsx)("div",{className:"border-b border-sf-border",children:(0,mr.jsxs)("nav",{className:"flex space-x-8 px-6",children:[(0,mr.jsxs)("button",{onClick:()=>s("leads"),className:"py-4 px-1 border-b-2 ".concat("leads"===r?"border-sf-blue text-sf-blue":"border-transparent text-sf-text-light hover:text-sf-text"," font-medium text-sm"),children:[(0,mr.jsx)("i",{className:"fas fa-users mr-2"}),"Leads"]}),(0,mr.jsxs)("button",{onClick:()=>s("new-lead"),className:"py-4 px-1 border-b-2 ".concat("new-lead"===r?"border-sf-blue text-sf-blue":"border-transparent text-sf-text-light hover:text-sf-text"," font-medium text-sm"),children:[(0,mr.jsx)("i",{className:"fas fa-plus mr-2"}),"New Lead"]}),(0,mr.jsxs)("button",{onClick:()=>s("reports"),className:"py-4 px-1 border-b-2 ".concat("reports"===r?"border-sf-blue text-sf-blue":"border-transparent text-sf-text-light hover:text-sf-text"," font-medium text-sm"),children:[(0,mr.jsx)("i",{className:"fas fa-chart-bar mr-2"}),"Reports"]})]})})}),"leads"===r&&(0,mr.jsxs)("div",{className:"space-y-6",children:[(0,mr.jsx)("div",{className:"bg-white rounded-lg sf-shadow p-6",children:(0,mr.jsxs)("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between space-y-4 sm:space-y-0",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold text-sf-text",children:"Leads"}),(0,mr.jsxs)("span",{className:"bg-sf-blue-light text-sf-blue px-3 py-1 rounded-full text-sm font-medium",children:[w.length," item",1!==w.length?"s":""]})]}),(0,mr.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,mr.jsxs)("div",{className:"relative",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search leads...",className:"pl-10 pr-4 py-2 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent w-64",value:a,onChange:e=>i(e.target.value)}),(0,mr.jsx)("i",{className:"fas fa-search absolute left-3 top-3 text-sf-text-light"})]}),(0,mr.jsxs)("select",{className:"px-4 py-2 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",value:o,onChange:e=>l(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"All Status"}),(0,mr.jsx)("option",{value:"New",children:"New"}),(0,mr.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,mr.jsx)("option",{value:"Follow-up",children:"Follow-up"}),(0,mr.jsx)("option",{value:"Demo Scheduled",children:"Demo Scheduled"}),(0,mr.jsx)("option",{value:"Converted",children:"Converted"}),(0,mr.jsx)("option",{value:"Lost",children:"Lost"})]}),(0,mr.jsxs)("button",{onClick:()=>s("new-lead"),className:"bg-sf-blue hover:bg-sf-blue-dark text-white px-6 py-2 rounded-lg font-medium transition-colors",children:[(0,mr.jsx)("i",{className:"fas fa-plus mr-2"}),"New Lead"]})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-lg sf-shadow overflow-hidden",children:A?(0,mr.jsxs)("div",{className:"p-8 text-center",children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin text-2xl text-sf-blue"}),(0,mr.jsx)("p",{className:"mt-2",children:"Loading leads..."})]}):(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full divide-y divide-sf-border",children:[(0,mr.jsx)("thead",{className:"bg-sf-gray",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Lead"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Contact"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Priority"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Owner"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Source"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-sf-text-light uppercase tracking-wider",children:"Actions"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-sf-border",children:0===w.length?(0,mr.jsx)("tr",{children:(0,mr.jsxs)("td",{colSpan:"7",className:"px-6 py-12 text-center text-sf-text-light",children:[(0,mr.jsx)("i",{className:"fas fa-users text-4xl mb-4"}),(0,mr.jsx)("p",{className:"text-lg",children:"No leads found"}),(0,mr.jsx)("p",{className:"text-sm",children:"Create your first lead to get started"})]})}):w.map(e=>{var t,n,r;return(0,mr.jsxs)("tr",{className:"hover:bg-sf-gray cursor-pointer",children:[(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:(0,mr.jsx)("div",{className:"h-10 w-10 rounded-full bg-sf-blue flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-sm font-medium text-white",children:e.full_name.charAt(0)})})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("div",{className:"text-sm font-medium text-sf-text",children:e.full_name}),(0,mr.jsx)("div",{className:"text-sm text-sf-text-light",children:e.lead_code})]})]})}),(0,mr.jsxs)("td",{className:"px-6 py-4",children:[(0,mr.jsx)("div",{className:"text-sm text-sf-text",children:e.email_address}),(0,mr.jsx)("div",{className:"text-sm text-sf-text-light",children:e.contact_number_primary})]}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(r=e.lead_status,{New:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"New"}),Contacted:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Contacted"}),"Follow-up":(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-orange-100 text-orange-800",children:"Follow-up"}),"Demo Scheduled":(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-purple-100 text-purple-800",children:"Demo Scheduled"}),Converted:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Converted"}),Lost:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"Lost"})}[r]||(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"}))}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(n=e.priority,{High:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-red-100 text-red-800",children:"High"}),Medium:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-yellow-100 text-yellow-800",children:"Medium"}),Low:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Low"})}[n]||(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:"Unknown"}))}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-sf-text",children:(null===(t=e.assigned_to)||void 0===t?void 0:t.employee_name)||"Unassigned"}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-sf-text",children:e.lead_source}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm font-medium",children:(0,mr.jsxs)("div",{className:"flex space-x-2",children:[(0,mr.jsx)("button",{onClick:()=>(e=>{var t;const n={branch_id:e.branch_id,full_name:e.full_name,contact_number_primary:e.contact_number_primary,contact_number_alternate:e.contact_number_alternate||"",email_address:e.email_address,lead_source:e.lead_source,lead_status:e.lead_status,priority:e.priority,notes:e.notes||"",follow_up_datetime:e.follow_up_datetime?e.follow_up_datetime.replace(" ","T").slice(0,16):"",assigned_to:(null===(t=e.assigned_to)||void 0===t?void 0:t.id)||e.assigned_to,course_id:e.course_id,budget_range:e.budget_range||""};g(n),s("new-lead")})(e),className:"text-green-600 hover:text-green-800",children:(0,mr.jsx)("i",{className:"fas fa-edit"})}),(0,mr.jsx)("button",{onClick:()=>(async e=>{if(window.confirm("Are you sure you want to delete this lead?"))try{const t=localStorage.getItem("token");(await Ua.delete("/leads/destroy/".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data.success&&(alert("Lead deleted successfully!"),x())}catch(t){console.error("Error deleting lead:",t),alert("Failed to delete lead")}})(e.id),className:"text-red-600 hover:text-red-800",children:(0,mr.jsx)("i",{className:"fas fa-trash"})})]})})]},e.id)})})]})})})]}),"new-lead"===r&&(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg sf-shadow",children:[(0,mr.jsx)("div",{className:"px-6 py-4 border-b border-sf-border",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold text-sf-text",children:"New Lead"}),(0,mr.jsx)("button",{onClick:()=>s("leads"),className:"text-sf-text-light hover:text-sf-text",children:(0,mr.jsx)("i",{className:"fas fa-times text-xl"})})]})}),(0,mr.jsxs)("form",{onSubmit:async e=>{e.preventDefault();try{f(!0);const e=localStorage.getItem("token"),t=N(N({},p),{},{follow_up_datetime:p.follow_up_datetime?"".concat(p.follow_up_datetime.replace("T"," "),":00"):null});(await Ua.post("/leads/store",t,{headers:{Authorization:"Bearer ".concat(e)}})).data.success&&(alert("Lead created successfully!"),g({branch_id:m||"",full_name:"",contact_number_primary:"",contact_number_alternate:"",email_address:"",lead_source:"",lead_status:"New",priority:"Medium",notes:"",follow_up_datetime:"",assigned_to:"",course_id:"",budget_range:""}),x(),s("leads"))}catch(t){console.error("Error creating lead:",t),alert("Failed to create lead")}finally{f(!1)}},className:"p-6",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Lead Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsx)("div",{className:"md:col-span-2",children:(0,mr.jsx)("input",{type:"hidden",id:"branch_id",value:p.branch_id})}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Full Name ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsx)("input",{type:"text",id:"full_name",value:p.full_name,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Primary Contact"," ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",id:"contact_number_primary",value:p.contact_number_primary,onChange:v,required:!0,maxLength:10,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",placeholder:"10-digit number"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Alternate Contact"}),(0,mr.jsx)("input",{type:"text",inputMode:"numeric",pattern:"[0-9]*",id:"contact_number_alternate",value:p.contact_number_alternate,onChange:v,maxLength:10,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",placeholder:"10-digit number"})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Email Address ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsx)("input",{type:"email",id:"email_address",value:p.email_address,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]})]})]}),(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Lead Details"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Lead Source ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"lead_source",value:p.lead_source,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"",children:"--None--"}),(0,mr.jsx)("option",{value:"instagram",children:"Instagram"}),(0,mr.jsx)("option",{value:"whatsapp",children:"WhatsApp"}),(0,mr.jsx)("option",{value:"walk-in",children:"Walk-in"}),(0,mr.jsx)("option",{value:"offline",children:"Offline"}),(0,mr.jsx)("option",{value:"facebook",children:"Facebook"}),(0,mr.jsx)("option",{value:"website",children:"Website"}),(0,mr.jsx)("option",{value:"googleAds",children:"Google Ads"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Lead Status ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"lead_status",value:p.lead_status,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"New",children:"New"}),(0,mr.jsx)("option",{value:"Contacted",children:"Contacted"}),(0,mr.jsx)("option",{value:"Follow-up",children:"Follow-up"}),(0,mr.jsx)("option",{value:"Demo Scheduled",children:"Demo Scheduled"}),(0,mr.jsx)("option",{value:"Converted",children:"Converted"}),(0,mr.jsx)("option",{value:"Lost",children:"Lost"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Assigned To ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"assigned_to",value:p.assigned_to,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"",children:"--None--"}),c.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.employee_name," - ",e.designation]},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:["Priority ",(0,mr.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,mr.jsxs)("select",{id:"priority",value:p.priority,onChange:v,required:!0,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"Medium",children:"Medium"}),(0,mr.jsx)("option",{value:"High",children:"High"}),(0,mr.jsx)("option",{value:"Low",children:"Low"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Interested Course"}),(0,mr.jsxs)("select",{id:"course_id",value:p.course_id,onChange:v,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",children:[(0,mr.jsx)("option",{value:"",children:"--None--"}),u.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.course_name},e.id))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Budget Range"}),(0,mr.jsx)("input",{type:"number",id:"budget_range",value:p.budget_range,onChange:v,placeholder:"e.g., $1,000 - $5,000",className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]})]})]}),(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h3",{className:"text-lg font-medium text-sf-text mb-4 pb-2 border-b border-sf-border",children:"Follow-up & Additional Information"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Follow-up Date & Time"}),(0,mr.jsx)("input",{type:"datetime-local",id:"follow_up_datetime",value:p.follow_up_datetime,onChange:v,className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent"})]}),(0,mr.jsxs)("div",{className:"md:col-span-2",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-sf-text mb-2",children:"Notes/Remarks"}),(0,mr.jsx)("textarea",{id:"notes",value:p.notes,onChange:v,rows:"4",className:"w-full px-4 py-3 border border-sf-border rounded-lg focus:ring-2 focus:ring-sf-blue focus:border-transparent",placeholder:"Enter any additional notes or remarks..."})]})]})]}),(0,mr.jsxs)("div",{className:"flex justify-end space-x-4 pt-6 border-t border-sf-border",children:[(0,mr.jsx)("button",{type:"button",onClick:()=>s("leads"),className:"px-6 py-3 border border-sf-border text-sf-text rounded-lg hover:bg-sf-gray transition-colors",children:"Cancel"}),(0,mr.jsx)("button",{type:"button",onClick:()=>{g({branch_id:m||"",full_name:"",contact_number_primary:"",contact_number_alternate:"",email_address:"",lead_source:"",lead_status:"New",priority:"Medium",notes:"",follow_up_datetime:"",assigned_to:"",course_id:"",budget_range:""})},className:"px-6 py-3 border border-sf-border text-sf-text rounded-lg hover:bg-sf-gray transition-colors",children:"Clear"}),(0,mr.jsx)("button",{type:"submit",disabled:A,className:"px-8 py-3 bg-sf-blue hover:bg-sf-blue-dark text-white rounded-lg transition-colors font-medium disabled:opacity-50",children:A?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Saving..."]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("i",{className:"fas fa-save mr-2"}),"Save Lead"]})})]})]})]})}),"reports"===r&&(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"bg-white rounded-lg sf-shadow p-6",children:[(0,mr.jsx)("h2",{className:"text-2xl font-semibold text-sf-text mb-6",children:"Lead Reports"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,mr.jsx)("div",{className:"bg-sf-blue-light p-6 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-users text-sf-blue text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"Total Leads"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:j})]})]})}),(0,mr.jsx)("div",{className:"bg-green-50 p-6 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-check-circle text-green-600 text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"Converted"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:_})]})]})}),(0,mr.jsx)("div",{className:"bg-yellow-50 p-6 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-clock text-yellow-600 text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"In Progress"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:C})]})]})}),(0,mr.jsx)("div",{className:"bg-red-50 p-6 rounded-lg",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"flex-shrink-0",children:(0,mr.jsx)("i",{className:"fas fa-times-circle text-red-600 text-2xl"})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("p",{className:"text-sm font-medium text-sf-text-light",children:"Lost"}),(0,mr.jsx)("p",{className:"text-2xl font-semibold text-sf-text",children:S})]})]})})]})]})})]})]}),(0,mr.jsx)("style",{jsx:!0,children:"\n        .bg-sf-blue {\n          background-color: #0176d3;\n        }\n        .bg-sf-blue-dark {\n          background-color: #014486;\n        }\n        .bg-sf-blue-light {\n          background-color: #e3f3ff;\n        }\n        .bg-sf-gray {\n          background-color: #f3f2f2;\n        }\n        .border-sf-border {\n          border-color: #dddbda;\n        }\n        .text-sf-text {\n          color: #080707;\n        }\n        .text-sf-text-light {\n          color: #706e6b;\n        }\n        .sf-shadow {\n          box-shadow: 0 2px 4px 0 rgba(0, 0, 0, 0.1);\n        }\n        .sf-shadow-lg {\n          box-shadow: 0 4px 8px 0 rgba(0, 0, 0, 0.12);\n        }\n      "})]})}const Wk=function(){const[e,n]=(0,t.useState)(""),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(null);return(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}").branch_id;e?i(e):alert("No branch assigned to user! Please contact administrator.")},[]),(0,mr.jsx)("div",{className:"items-center flex justify-center mt-10",children:(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-lg",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create Category"}),(0,mr.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),a)try{const t=localStorage.getItem("token");if(!t)return void alert("No token found! Please login again.");const r={name:e,branch_id:Number(a)},i=await Ua.post("/categories",r,{headers:{Authorization:"Bearer ".concat(t)}});s("\u2705 Category Created: ".concat(i.data.name)),n("")}catch(r){console.error(r),s("\u274c Error creating category")}else s("\u274c No branch assigned to user")},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Category Name"}),(0,mr.jsx)("input",{type:"text",placeholder:"Enter category name",value:e,onChange:e=>n(e.target.value),className:"w-full border rounded-lg px-3 py-2 focus:outline-none focus:ring focus:ring-blue-400",required:!0})]}),(0,mr.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition",children:"Create Category"})]}),r&&(0,mr.jsx)("p",{className:"mt-4 text-center text-sm font-medium text-green-600",children:r})]})})};const Vk=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(null),[u,h]=(0,t.useState)(null),[A,f]=(0,t.useState)({isOpen:!1,category:null});return(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}").branch_id;d(e);(async()=>{try{const t=localStorage.getItem("token");if(!t)return void alert("No token found! Please login again.");const r=await Ua.get("/categories",{headers:{Authorization:"Bearer ".concat(t)}}),a=e?r.data.filter(t=>t.branch_id==e):r.data;n(a),s(a)}catch(t){console.error("Error fetching data:",t),alert("Failed to load data")}finally{i(!1)}})()},[]),(0,t.useEffect)(()=>{let t=e;o&&(t=t.filter(e=>e.name.toLowerCase().includes(o.toLowerCase())||e.branch&&e.branch.branch_name.toLowerCase().includes(o.toLowerCase()))),s(t)},[o,e]),(0,mr.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,mr.jsxs)("div",{className:"bg-white shadow-xl rounded-2xl overflow-hidden",children:[(0,mr.jsxs)("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 p-6 text-white",children:[(0,mr.jsx)("h2",{className:"text-3xl font-bold mb-2",children:c?"My Branch Categories":"All Categories"}),(0,mr.jsx)("p",{className:"text-blue-100",children:c?"Viewing categories for your branch only":"Manage and organize your product categories"})]}),(0,mr.jsx)("div",{className:"p-6 border-b border-gray-200",children:(0,mr.jsx)("div",{className:"flex flex-col md:flex-row gap-4",children:(0,mr.jsxs)("div",{className:"relative flex-1",children:[(0,mr.jsx)("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:(0,mr.jsx)("svg",{className:"h-5 w-5 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,mr.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})}),(0,mr.jsx)("input",{type:"text",placeholder:"Search categories...",className:"pl-10 pr-4 py-2 w-full border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",value:o,onChange:e=>l(e.target.value)})]})})}),(0,mr.jsx)("div",{className:"p-6",children:a?(0,mr.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500"})}):0===r.length?(0,mr.jsxs)("div",{className:"text-center py-12",children:[(0,mr.jsx)("svg",{className:"mx-auto h-16 w-16 text-gray-400",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9.172 16.172a4 4 0 015.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,mr.jsx)("h3",{className:"mt-4 text-lg font-medium text-gray-900",children:"No categories found"}),(0,mr.jsx)("p",{className:"mt-1 text-gray-500",children:c?"No categories found for your branch. Try creating some first.":"Try adjusting your search to find what you're looking for."})]}):(0,mr.jsx)("div",{className:"overflow-x-auto rounded-lg",children:(0,mr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,mr.jsx)("th",{scope:"col",className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created At"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:r.map(e=>(0,mr.jsxs)("tr",{className:"hover:bg-gray-50 transition-colors",children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700 font-semibold",children:e.name}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-700",children:new Date(e.created_at).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})})]},e.id))})]})})})]})})})};const qk=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)(""),[a,i]=(0,t.useState)(""),[o,l]=(0,t.useState)(""),[c,d]=(0,t.useState)(""),[u,h]=(0,t.useState)(""),[A,f]=(0,t.useState)(""),[m,p]=(0,t.useState)(""),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)("");return(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}"),t=e.branch_id,n=e.branch_name||"Your Branch";t?(s(t),i(n)):alert("No branch assigned to user! Please contact administrator.")},[]),(0,t.useEffect)(()=>{if(!r)return;(async()=>{try{const e=localStorage.getItem("token");if(!e)return void alert("No token found! Please login again.");const t=(await Ua.get("/categories",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>e.branch_id==r);n(t)}catch(e){console.error("Error fetching categories:",e),alert("Failed to load categories")}})()},[r]),(0,mr.jsx)("div",{className:"items-center flex justify-center mt-10",children:(0,mr.jsxs)("div",{className:"bg-white shadow-lg rounded-2xl p-8 w-full max-w-2xl",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold mb-6 text-center",children:"Create Expense"}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),r)try{const e=localStorage.getItem("token");if(!e)return void alert("No token found! Please login again.");const t={branch_id:Number(r),category_id:Number(o),payment_to:c,expense_date:u,description:A,amount:Number(m),payment_mode:g},n=await Ua.post("/expenses",t,{headers:{Authorization:"Bearer ".concat(e)}});y("\u2705 Expense Created: ID ".concat(n.data.id)),l(""),d(""),h(""),f(""),p(""),x("")}catch(t){console.error(t),y("\u274c Error creating expense")}else y("\u274c No branch assigned to user")},className:"space-y-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Select Category"}),(0,mr.jsxs)("select",{value:o,onChange:e=>l(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Category --"}),e.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.name},e.id))]}),0===e.length&&r&&(0,mr.jsx)("p",{className:"text-sm text-red-500 mt-1",children:"No categories found for your branch. Please create categories first."})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Payment To"}),(0,mr.jsx)("input",{type:"text",placeholder:"Vendor / Person",value:c,onChange:e=>d(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Expense Date"}),(0,mr.jsx)("input",{type:"date",value:u,onChange:e=>h(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Description"}),(0,mr.jsx)("textarea",{placeholder:"Enter description",value:A,onChange:e=>f(e.target.value),className:"w-full border rounded-lg px-3 py-2"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Amount"}),(0,mr.jsx)("input",{type:"number",placeholder:"Enter amount",value:m,onChange:e=>p(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-gray-700 font-semibold mb-2",children:"Payment Mode"}),(0,mr.jsxs)("select",{value:g,onChange:e=>x(e.target.value),className:"w-full border rounded-lg px-3 py-2",required:!0,children:[(0,mr.jsx)("option",{value:"",children:"-- Select Mode --"}),(0,mr.jsx)("option",{value:"Cash",children:"Cash"}),(0,mr.jsx)("option",{value:"Card",children:"Card"}),(0,mr.jsx)("option",{value:"UPI",children:"UPI"}),(0,mr.jsx)("option",{value:"Bank Transfer",children:"Bank Transfer"})]})]}),(0,mr.jsx)("button",{type:"submit",className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 transition",disabled:!r||0===e.length,children:0===e.length?"No Categories Available":"Save Expense"})]})]})})};const Gk=function(){const[e,n]=(0,t.useState)([]),[r,s]=(0,t.useState)("all"),[a,i]=(0,t.useState)(!0);(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token");if(!e)return void alert("No token found! Please login again.");const t=await Ua.get("/expenses",{headers:{Authorization:"Bearer ".concat(e)}});t.data.status?n(t.data.data):alert("Failed to fetch expenses")}catch(e){console.error("Error fetching expenses:",e),alert("Something went wrong while fetching expenses")}finally{i(!1)}})()},[]),new Set(e.map(e=>e.branch_name));const o="all"===r?e:e.filter(e=>e.branch_name===r);return(0,mr.jsx)("div",{children:(0,mr.jsxs)("div",{className:"shadow-lg rounded-2xl p-8 w-full mx-auto",children:[(0,mr.jsx)("div",{className:"mb-6 flex justify-between items-center",children:(0,mr.jsxs)("h2",{className:"text-2xl font-bold",children:["All Expenses (",o.length,")"]})}),a?(0,mr.jsx)("div",{className:"flex justify-center items-center py-10",children:(0,mr.jsx)("div",{className:"animate-spin rounded-full h-10 w-10 border-t-2 border-b-2 border-purple-600"})}):0===o.length?(0,mr.jsx)("p",{className:"text-center text-gray-500",children:"No expenses found."}):(0,mr.jsx)("div",{className:"space-y-4",children:o.map(e=>(0,mr.jsxs)("div",{className:"bg-white shadow-sm hover:shadow-md transition rounded-xl px-5 py-4",children:[(0,mr.jsx)("h3",{className:"font-semibold text-gray-800 text-lg mb-2",children:e.category}),(0,mr.jsxs)("div",{className:"grid grid-cols-2 gap-2 text-sm text-gray-600",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Branch:"})," ",e.branch_name]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Payment To:"})," ",e.payment_to]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Mode:"})," ",e.payment_mode]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("span",{className:"font-medium",children:"Date:"})," ",e.date]}),(0,mr.jsxs)("p",{className:"col-span-2",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Description:"})," ",e.description||"-"]})]}),(0,mr.jsx)("div",{className:"mt-3 border-t pt-2",children:(0,mr.jsxs)("p",{className:"text-lg font-bold text-purple-600",children:["\u20b9",e.amount]})})]},e.id))})]})})};function Yk(){const[e,n]=(0,t.useState)("createcategory");return(0,mr.jsx)(A_,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsxs)("div",{className:"w-60 bg-white rounded-xl shadow-md p-4 space-y-3",children:[(0,mr.jsx)("button",{onClick:()=>n("createcategory"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("createcategory"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udccb Create Category"}),(0,mr.jsx)("button",{onClick:()=>n("allcategory"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("allcategory"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcca All Categories"}),(0,mr.jsx)("button",{onClick:()=>n("createexpense"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("createexpense"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcb0 Create Expense"}),(0,mr.jsx)("button",{onClick:()=>n("allexpense"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("allexpense"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcca All Expenses"})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto",children:["createcategory"===e&&(0,mr.jsx)(Wk,{}),"allcategory"===e&&(0,mr.jsx)(Vk,{}),"createexpense"===e&&(0,mr.jsx)(qk,{}),"allexpense"===e&&(0,mr.jsx)(Gk,{})]})]})})}const Jk=function(){var e,n,r,s,a,i;const[o,l]=(0,t.useState)("students"),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)({course:"",batch:"",status:"",branch:"",search:"",dateRange:{start:"",end:""}}),[m,p]=(0,t.useState)(!1),[g,x]=(0,t.useState)(new Date),[b,y]=(0,t.useState)([]),[v,w]=(0,t.useState)(null),[j,_]=(0,t.useState)({type:"month",branch_id:"",from:"",to:""}),[C,S]=(0,t.useState)([]),[k,B]=(0,t.useState)(!1),E=async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/students/show",{headers:{Authorization:"Bearer ".concat(e)}});d(t.data||[]),h(t.data||[])}catch(e){console.error("Error fetching students:",e),O("Failed to load student data","error")}},L=async()=>{B(!0);try{const e=localStorage.getItem("token"),t=N(N(N({type:j.type},j.branch_id&&{branch_id:j.branch_id}),"custom"===j.type&&j.from&&{from:j.from}),"custom"===j.type&&j.to&&{to:j.to}),n=await Ua.get("/reports/branch-performance",{headers:{Authorization:"Bearer ".concat(e)},params:t});w(n.data)}catch(e){console.error("Error fetching branch performance:",e),O("Failed to load branch performance data","error")}finally{B(!1)}};(0,t.useEffect)(()=>{E(),(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/branches",{headers:{Authorization:"Bearer ".concat(e)}});S(t.data||[])}catch(e){console.error("Error fetching branches:",e),O("Failed to load branches","error")}})()},[]),(0,t.useEffect)(()=>{D(),T()},[A,c]),(0,t.useEffect)(()=>{"performance"===o&&L()},[o]);const M=(e,t)=>{f(n=>N(N({},n),{},{[e]:t}))},F=(e,t)=>{f(n=>N(N({},n),{},{dateRange:N(N({},n.dateRange),{},{[e]:t})}))},I=(e,t)=>{_(n=>N(N({},n),{},{[e]:t}))},D=()=>{const e=c.filter(e=>{const t=e.admission_date?new Date(e.admission_date):null,n=(!A.dateRange.start||t&&t>=new Date(A.dateRange.start))&&(!A.dateRange.end||t&&t<=new Date(A.dateRange.end));return(!A.course||e.course&&e.course.course_name===A.course)&&(!A.batch||e.batch&&e.batch.batch_name===A.batch)&&(!A.branch||e.branch&&e.branch.branch_name===A.branch)&&(!A.status||e.enrollment_status===A.status)&&n&&(!A.search||e.full_name.toLowerCase().includes(A.search.toLowerCase())||e.email.toLowerCase().includes(A.search.toLowerCase())||e.admission_number.toLowerCase().includes(A.search.toLowerCase()))});h(e)},T=()=>{const e=c.map(e=>({title:e.full_name,start:new Date(e.admission_date),end:new Date(e.admission_date),allDay:!0,extendedProps:{studentId:e.id,course:e.course?e.course.course_name:"N/A",status:e.enrollment_status}}));y(e)},O=(e,t)=>{console.log("".concat(t,": ").concat(e))},P=()=>{const e="data:text/csv;charset=utf-8,ID,Name,Admission Number,Email,Course,Batch,Branch,Status,Admission Date,Contact Number\n"+u.map(e=>"".concat(e.id,",").concat(e.full_name,",").concat(e.admission_number,",").concat(e.email,",").concat(e.course?e.course.course_name:"N/A",",").concat(e.batch?e.batch.batch_name:"N/A",",").concat(e.branch?e.branch.branch_name:"N/A",",").concat(e.enrollment_status,",").concat(e.admission_date,",").concat(e.contact_number)).join("\n"),t=encodeURI(e),n=document.createElement("a");n.setAttribute("href",t),n.setAttribute("download","students_report.csv"),document.body.appendChild(n),n.click(),document.body.removeChild(n),O("Student list exported successfully!","success")},U=e=>{switch(e){case"Active":return"bg-green-100 text-green-800";case"Inactive":return"bg-red-100 text-red-800";case"Pending":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},R=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=c.map(n=>t&&n[e]?n[e][t]:n[e]).filter((e,t,n)=>e&&n.indexOf(e)===t);return n.sort()};return(0,mr.jsx)(A_,{children:(0,mr.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-700 text-white p-6 mb-8",children:(0,mr.jsx)("div",{className:"max-w-7xl mx-auto",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row items-center justify-between",children:[(0,mr.jsxs)("div",{className:"mb-4 md:mb-0",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Reports & Analytics"}),(0,mr.jsx)("p",{className:"text-blue-100",children:"Comprehensive insights and data management"})]}),(0,mr.jsx)("div",{className:"flex flex-wrap gap-4",children:(0,mr.jsxs)("button",{onClick:()=>{P(),O("All reports exported successfully!","success")},className:"bg-gradient-to-r from-green-500 to-green-600 text-white px-6 py-3 rounded-lg font-semibold hover:shadow-lg transition-all duration-200",children:[(0,mr.jsx)("i",{className:"fas fa-download mr-2"}),"Export All"]})})]})})}),(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-md mb-8",children:(0,mr.jsx)("div",{className:"flex flex-wrap border-b border-gray-200",children:(0,mr.jsxs)("button",{onClick:()=>l("students"),className:"px-6 py-4 font-semibold transition-colors duration-200 flex items-center ".concat("students"===o?"border-b-2 border-indigo-600 text-indigo-600":"text-gray-600 hover:text-gray-900"),children:[(0,mr.jsx)("i",{className:"fas fa-users mr-2"}),"Student List"]})})}),"students"===o&&(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Advanced Filters"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Course"}),(0,mr.jsxs)("select",{value:A.course,onChange:e=>M("course",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"",children:"All Courses"}),R("course","course_name").map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Batch"}),(0,mr.jsxs)("select",{value:A.batch,onChange:e=>M("batch",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"",children:"All Batches"}),R("batch","batch_name").map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),(0,mr.jsxs)("select",{value:A.branch,onChange:e=>M("branch",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),R("branch","branch_name").map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Status"}),(0,mr.jsxs)("select",{value:A.status,onChange:e=>M("status",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"",children:"All Status"}),R("enrollment_status").map(e=>(0,mr.jsx)("option",{value:e,children:e},e))]})]})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mb-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Start Date"}),(0,mr.jsx)("input",{type:"date",value:A.dateRange.start,onChange:e=>F("start",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"End Date"}),(0,mr.jsx)("input",{type:"date",value:A.dateRange.end,onChange:e=>F("end",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Search"}),(0,mr.jsx)("input",{type:"text",value:A.search,onChange:e=>M("search",e.target.value),placeholder:"Search students...",className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md",children:[(0,mr.jsxs)("div",{className:"p-6 border-b border-gray-200 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold",children:["Student List ",u.length>0&&"(".concat(u.length," students found)")]}),(0,mr.jsxs)("button",{onClick:P,className:"bg-indigo-600 text-white px-4 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200",children:[(0,mr.jsx)("i",{className:"fas fa-file-excel mr-2"}),"Export Excel"]})]}),m?(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"bg-gray-100 rounded-lg p-4 mb-4",children:[(0,mr.jsx)("h4",{className:"text-lg font-semibold mb-2",children:"Calendar View"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Select a date to view admissions on that day"})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-7 gap-2 mb-4",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(e=>(0,mr.jsx)("div",{className:"text-center font-semibold py-2",children:e},e)),(0,mr.jsxs)("div",{className:"col-span-7 text-center py-8 bg-gray-100 rounded-lg",children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Calendar component would be implemented here with events"}),(0,mr.jsx)("button",{className:"mt-4 bg-indigo-600 text-white px-4 py-2 rounded-lg",onClick:()=>p(!1),children:"Switch to Table View"})]})]})]}):(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Student"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admission No."}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Course/Batch"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Branch"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Admission Date"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.length>0?u.map(e=>(0,mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"h-10 w-10 rounded-full bg-indigo-100 flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-indigo-600 font-semibold",children:e.full_name.charAt(0)})}),(0,mr.jsxs)("div",{className:"ml-4",children:[(0,mr.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.full_name}),(0,mr.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.admission_number}),(0,mr.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[(0,mr.jsx)("div",{children:e.course?e.course.course_name:"N/A"}),(0,mr.jsx)("div",{className:"text-xs text-gray-500",children:e.batch?e.batch.batch_name:"N/A"})]}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.branch?e.branch.branch_name:"N/A"}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(U(e.enrollment_status)),children:e.enrollment_status})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.admission_date})]},e.id)):(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"7",className:"px-6 py-4 text-center text-sm text-gray-500",children:"No students found matching your filters"})})})]})})]})]}),"performance"===o&&(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Branch Performance Filters"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Report Type"}),(0,mr.jsxs)("select",{value:j.type,onChange:e=>I("type",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"month",children:"Monthly"}),(0,mr.jsx)("option",{value:"week",children:"Weekly"}),(0,mr.jsx)("option",{value:"custom",children:"Custom"})]})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Branch"}),(0,mr.jsxs)("select",{value:j.branch_id,onChange:e=>I("branch_id",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",children:[(0,mr.jsx)("option",{value:"",children:"All Branches"}),C.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),"custom"===j.type&&(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"From Date"}),(0,mr.jsx)("input",{type:"date",value:j.from,onChange:e=>I("from",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"To Date"}),(0,mr.jsx)("input",{type:"date",value:j.to,onChange:e=>I("to",e.target.value),className:"w-full p-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500"})]})]})]}),(0,mr.jsx)("div",{className:"mt-4",children:(0,mr.jsx)("button",{onClick:L,disabled:k,className:"bg-indigo-600 text-white px-6 py-2 rounded-lg hover:bg-indigo-700 transition-colors duration-200 disabled:opacity-50",children:k?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin mr-2"}),"Loading..."]}):(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsx)("i",{className:"fas fa-filter mr-2"}),"Apply Filters"]})})})]}),k?(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,mr.jsx)("i",{className:"fas fa-spinner fa-spin text-4xl text-indigo-600 mb-4"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"Loading branch performance data..."})]}):v?(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-6",children:[(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-blue-500",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"rounded-full bg-blue-100 p-3 mr-4",children:(0,mr.jsx)("i",{className:"fas fa-users text-blue-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Leads"}),(0,mr.jsx)("h3",{className:"text-2xl font-bold",children:(null===(e=v.leads)||void 0===e?void 0:e.total)||0})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-green-500",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"rounded-full bg-green-100 p-3 mr-4",children:(0,mr.jsx)("i",{className:"fas fa-user-check text-green-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Converted Leads"}),(0,mr.jsx)("h3",{className:"text-2xl font-bold",children:(null===(n=v.leads)||void 0===n?void 0:n.converted)||0})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-purple-500",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"rounded-full bg-purple-100 p-3 mr-4",children:(0,mr.jsx)("i",{className:"fas fa-graduation-cap text-purple-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"New Admissions"}),(0,mr.jsx)("h3",{className:"text-2xl font-bold",children:v.new_admissions||0})]})]})}),(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 border-l-4 border-red-500",children:(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("div",{className:"rounded-full bg-red-100 p-3 mr-4",children:(0,mr.jsx)("i",{className:"fas fa-money-bill-wave text-red-600 text-xl"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Expenses"}),(0,mr.jsxs)("h3",{className:"text-2xl font-bold",children:["\u20b9",parseFloat(v.total_expense||0).toLocaleString("en-IN")]})]})]})})]}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6 mb-6",children:[(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Lead Conversion"}),(0,mr.jsx)("div",{className:"flex items-center justify-center mb-4",children:(0,mr.jsxs)("div",{className:"relative w-32 h-32",children:[(0,mr.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 36 36",children:[(0,mr.jsx)("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#eee",strokeWidth:"3"}),(0,mr.jsx)("path",{d:"M18 2.0845 a 15.9155 15.9155 0 0 1 0 31.831 a 15.9155 15.9155 0 0 1 0 -31.831",fill:"none",stroke:"#4f46e5",strokeWidth:"3",strokeDasharray:"".concat((null===(r=v.leads)||void 0===r||null===(s=r.conversion_ratio)||void 0===s?void 0:s.replace("%",""))||0,", 100")})]}),(0,mr.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-xl font-bold",children:(null===(a=v.leads)||void 0===a?void 0:a.conversion_ratio)||"0%"})})]})}),(0,mr.jsx)("div",{className:"text-center",children:(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Conversion Ratio"})})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Staff Attendance"}),v.staff_attendance?(0,mr.jsx)("div",{children:Object.entries(v.staff_attendance).map(e=>{let[t,n]=e;return(0,mr.jsxs)("div",{className:"mb-3",children:[(0,mr.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,mr.jsx)("span",{className:"text-sm font-medium capitalize",children:t}),(0,mr.jsx)("span",{className:"text-sm font-medium",children:n})]}),(0,mr.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,mr.jsx)("div",{className:"h-2 rounded-full ".concat("Present"===t?"bg-green-500":"Absent"===t?"bg-red-500":"bg-yellow-500"),style:{width:"".concat((r=n,s=Object.values(v.staff_attendance).reduce((e,t)=>e+t,0),0===s?0:r/s*100),"%")}})})]},t);var r,s})}):(0,mr.jsx)("p",{className:"text-gray-500",children:"No attendance data available"})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Expense Breakdown"}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg mb-2",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Staff Salary"}),(0,mr.jsxs)("span",{className:"font-bold",children:["\u20b9",parseFloat(v.staff_salary||0).toLocaleString("en-IN")]})]}),(0,mr.jsxs)("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[(0,mr.jsx)("span",{className:"font-medium",children:"Other Expenses"}),(0,mr.jsxs)("span",{className:"font-bold",children:["\u20b9",parseFloat(v.other_expenses||0).toLocaleString("en-IN")]})]})]}),(0,mr.jsxs)("div",{className:"bg-indigo-50 p-4 rounded-lg",children:[(0,mr.jsx)("h4",{className:"font-semibold mb-2",children:"Total Expenses"}),(0,mr.jsxs)("p",{className:"text-2xl font-bold text-indigo-700",children:["\u20b9",parseFloat(v.total_expense||0).toLocaleString("en-IN")]})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Leads Details"}),null!==(i=v.leads)&&void 0!==i&&i.details&&v.leads.details.length>0?(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Lead Code"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Name"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Source"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:v.leads.details.map(e=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.lead_code}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.full_name}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:e.contact_number_primary}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat("Converted"===e.lead_status?"bg-green-100 text-green-800":"New"===e.lead_status?"bg-blue-100 text-blue-800":"bg-yellow-100 text-yellow-800"),children:e.lead_status})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900 capitalize",children:e.lead_source})]},e.id))})]})}):(0,mr.jsx)("p",{className:"text-gray-500",children:"No leads data available"})]})]}):(0,mr.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,mr.jsx)("i",{className:"fas fa-chart-bar text-4xl text-gray-400 mb-4"}),(0,mr.jsx)("p",{className:"text-gray-600",children:"No branch performance data available. Apply filters to generate report."})]})]})]})]})})},Xk=e=>{let{label:t,value:n,color:r}=e;return(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"".concat({blue:"bg-blue-100 text-blue-600",green:"bg-green-100 text-green-600",purple:"bg-purple-100 text-purple-600",yellow:"bg-yellow-100 text-yellow-600",red:"bg-red-100 text-red-600",indigo:"bg-indigo-100 text-indigo-600"}[r]," p-2 rounded-lg mr-3"),children:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4h16v16H4z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:t}),(0,mr.jsx)("p",{className:"font-medium",children:n})]})]})},Zk=()=>{var e;const[n,r]=(0,t.useState)(null),[s,a]=(0,t.useState)(null),[i,o]=(0,t.useState)(!0),[l,c]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=localStorage.getItem("user");if(console.log("\ud83d\udfe2 LocalStorage user:",e),e){const t=JSON.parse(e);r(t),(async e=>{try{var t,n;const r=localStorage.getItem("token");if(!r)return console.warn("\u26a0\ufe0f Token not found in localStorage"),c("Authentication token missing. Please log in again."),void o(!1);let s;const i={Authorization:"Bearer ".concat(r)};if("staff"===(null===(t=e.role)||void 0===t?void 0:t.toLowerCase())?(console.log("\ud83d\udd39 Fetching branch..."),s=await Ua.get("branches/".concat(e.branch_id),{headers:i})):console.warn("\u26a0\ufe0f No matching API call condition found for this role."),null!==(n=s)&&void 0!==n&&n.data){console.log("\u2705 Branch API Response:",s.data);const e=s.data.branch?s.data.branch:s.data;a(e)}else console.warn("\u26a0\ufe0f No data received from API.")}catch(l){console.error("\u274c Error fetching branch:",l),c("Failed to load branch data. Please try again later.")}finally{o(!1)}})(t)}else console.warn("\u26a0\ufe0f No user data found in localStorage"),c("User not found. Please log in again."),o(!1)},[]);const h=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})};return i?(0,mr.jsx)(A_,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gray-50 flex items-center justify-center",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,mr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})}):l?(0,mr.jsx)(A_,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gray-50 flex items-center justify-center",children:(0,mr.jsx)("div",{className:"text-center bg-red-50 text-red-600 p-6 rounded-xl shadow-md",children:(0,mr.jsx)("p",{className:"font-semibold",children:l})})})}):n?(0,mr.jsx)(A_,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:(0,mr.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,mr.jsxs)("div",{className:"text-center mb-8",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Profile"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your account information"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 text-white",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,mr.jsx)("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center mb-4 md:mb-0 md:mr-6",children:(0,mr.jsx)("span",{className:"text-3xl font-bold",children:null===(e=n.name)||void 0===e?void 0:e.charAt(0)})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:n.name}),(0,mr.jsx)("p",{className:"text-blue-100 capitalize",children:n.role})]})]})}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Personal Information"}),(0,mr.jsx)(Xk,{label:"Full Name",value:n.name,color:"blue"}),(0,mr.jsx)(Xk,{label:"Email Address",value:n.email,color:"green"}),(0,mr.jsx)(Xk,{label:"Role",value:n.role,color:"purple"})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Account Information"}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-yellow-100 text-yellow-600 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M4 4h16v16H4z"})})}),(0,mr.jsxs)("div",{className:"w-full",children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Password"}),(0,mr.jsxs)("div",{className:"flex items-center justify-between bg-gray-50 rounded-md px-3 py-2",children:[(0,mr.jsx)("p",{className:"font-medium",children:d?n.plain_password||"Not Available":"\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022\u2022"}),(0,mr.jsx)("button",{onClick:()=>u(!d),className:"text-gray-600 hover:text-gray-800",children:d?(0,mr.jsx)(Lo,{}):(0,mr.jsx)(Mo,{})})]})]})]}),(0,mr.jsx)(Xk,{label:"Member Since",value:h(n.created_at),color:"red"}),(0,mr.jsx)(Xk,{label:"Last Updated",value:h(n.updated_at),color:"indigo"}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Account Status"}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"h-2 w-2 bg-green-500 rounded-full mr-2"}),(0,mr.jsx)("p",{className:"font-medium text-green-600",children:"Active"})]})]})]})]})]}),s&&(0,mr.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Branch Details"}),(0,mr.jsxs)("p",{className:"text-gray-600",children:[(0,mr.jsx)("strong",{children:"Name:"})," ",s.branch_name||"N/A"]}),(0,mr.jsxs)("p",{className:"text-gray-600",children:[(0,mr.jsx)("strong",{children:"Location:"})," ",s.state||"N/A"]})]})]})]})]})})}):(0,mr.jsx)(A_,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gray-50 flex items-center justify-center",children:(0,mr.jsx)("p",{className:"text-gray-700",children:"No user data found."})})})},$k=()=>(0,mr.jsxs)(Cn,{children:[(0,mr.jsx)(Nn,{path:"/staff/dashboard",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(Sk,{})})}),(0,mr.jsx)(Nn,{path:"/staff/profile",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(Zk,{})})}),(0,mr.jsx)(Nn,{path:"/staff/course",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(Lk,{})})}),(0,mr.jsx)(Nn,{path:"/staff/student",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(Uk,{})})}),(0,mr.jsx)(Nn,{path:"/staff/attendence",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(Hk,{})})}),(0,mr.jsx)(Nn,{path:"/staff/leads",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(Kk,{})})}),(0,mr.jsx)(Nn,{path:"/staff/expense",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(Yk,{})})}),(0,mr.jsx)(Nn,{path:"/staff/reports",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(Jk,{})})})]}),eB=e=>{let{toggleSidebar:n}=e;const[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),o=(0,t.useRef)(null),[l,c]=(y(e=>e.branch.selectedBranch),(0,t.useState)(null)),d=e=>{o.current&&!o.current.contains(e.target)&&s(!1)};return(0,t.useEffect)(()=>(r?document.addEventListener("click",d):document.removeEventListener("click",d),()=>document.removeEventListener("click",d)),[r]),(0,t.useEffect)(()=>{const e=localStorage.getItem("user");e&&c(JSON.parse(e))},[]),(0,mr.jsxs)("header",{className:"bg-[#F4F9FD] flex items-center justify-between relative z-50",children:[(0,mr.jsx)("nav",{className:"hidden mr-10 mt-2 rounded-2xl text-black md:flex items-center space-x-6 text-lg font-semibold mx-auto",children:(0,mr.jsxs)("div",{ref:o,className:"relative",children:[(0,mr.jsxs)("div",{onClick:()=>s(!r),className:"flex bg-white items-center gap-3 px-4 py-2 rounded-lg cursor-pointer hover:bg-gray-100 transition-colors",children:[(0,mr.jsx)("div",{className:"w-8 h-8 rounded-full overflow-hidden border border-gray-300",children:(0,mr.jsx)("img",{src:"https://sipl.ind.in/wp-content/uploads/2022/07/dummy-user.png",alt:"User",className:"w-full h-full object-cover"})}),(0,mr.jsxs)("div",{className:"hidden sm:flex flex-col text-left",children:[(0,mr.jsxs)("span",{className:"text-gray-700 font-medium",children:["Name :  ",(null===l||void 0===l?void 0:l.name)||"Admin"]}),(0,mr.jsxs)("span",{className:"text-xs text-gray-500",children:["Role : ",(null===l||void 0===l?void 0:l.role)||"Role"]})]})]}),r&&(0,mr.jsxs)("div",{className:"absolute right-0 mt-2 w-48 bg-white text-black rounded shadow-lg overflow-hidden animate-fadeIn",children:[(0,mr.jsx)(or,{to:"/account/profile",children:(0,mr.jsx)("button",{className:"w-full text-left px-4 py-2 hover:bg-gray-100",children:"Profile"})}),(0,mr.jsx)("button",{className:"w-full text-left px-4 py-2 text-red-500 hover:bg-gray-100",onClick:()=>{localStorage.removeItem("token"),localStorage.removeItem("user"),window.location.href="/"},children:"Logout"})]})]})}),a&&(0,mr.jsxs)("nav",{className:"absolute top-24 left-0 w-full bg-white shadow-md flex flex-col md:hidden py-4 space-y-4 text-center z-40",children:[(0,mr.jsx)(or,{to:"/accounts/dashboard",className:"hover:text-blue-600",children:"Dashboard"}),(0,mr.jsx)(or,{to:"/accounts/create-booking",className:"hover:text-blue-600",children:"Bookings"})]})]})},tB=e=>{let{isSidebarOpen:n,toggleSidebar:r}=e;const[s,a]=(0,t.useState)(null),i=y(e=>e.branch.selectedBranch),o=(e,t)=>{if(!e||"/"===e)return t.preventDefault(),void alert("This page is under construction and will be available soon!");r()},l=[{name:"Dashboard",icon:(0,mr.jsx)(al,{}),link:i?"/account/dashboard?branchId=".concat(i):"/account/dashboard"},{name:"Fees",icon:(0,mr.jsx)(yl,{}),link:i?"/account/fees?branchId=".concat(i):"/account/fees"}];return(0,mr.jsxs)("aside",{className:"bg-white rounded-[24px] ml-3 inset-y-0 left-0 transform ".concat(n?"translate-x-0":"-translate-x-full"," md:translate-x-0 transition-transform duration-300 ease-in-out w-[200px] p-4 z-30 shadow-lg md:relative overflow-y-auto max-h-screen"),children:[(0,mr.jsx)("div",{className:"flex-1 flex justify-center md:justify-start",children:(0,mr.jsx)("img",{src:"https://www.sinfode.com/wp-content/uploads/2022/12/digital-marketing-institute-in-sikar.webp",alt:"logo",className:"w-34 h-10"})}),(0,mr.jsx)("nav",{children:(0,mr.jsx)("ul",{className:"space-y-4 mt-4",children:l.map((e,t)=>(0,mr.jsx)("li",{children:e.subMenu?(0,mr.jsxs)(mr.Fragment,{children:[(0,mr.jsxs)("div",{className:"flex items-center text-gray-500 justify-between py-3 px-4 text-[15px] cursor-pointer rounded-4xl transition-all duration-200 ease-in-out",onClick:()=>{return t=e.name,void a(s===t?null:t);var t},children:[(0,mr.jsxs)("div",{className:"flex items-center gap-4",children:[e.icon,(0,mr.jsx)("span",{className:"text-[15px]",children:e.name})]}),s===e.name?(0,mr.jsx)(vo,{}):(0,mr.jsx)(xo,{})]}),s===e.name&&(0,mr.jsx)("ul",{className:"pl-8 space-y-2",children:e.subMenu.map((e,t)=>(0,mr.jsx)("li",{children:(0,mr.jsx)(lr,{to:e.link||"#",className:t=>{let{isActive:n}=t;return"flex items-center mt-3 gap-4 py-2 px-4 rounded-lg transition-all duration-200 ease-in-out text-[15px] ".concat(n?"bg-sky-100 text-blue-600 shadow-lg":e.link&&"/"!==e.link?"bg-white text-gray-500":"opacity-50 cursor-not-allowed")},onClick:t=>o(e.link,t),children:(0,mr.jsx)("span",{className:"text-[15px]",children:e.name})})},t))})]}):(0,mr.jsxs)(lr,{to:e.link||"#",className:t=>{let{isActive:n}=t;return"flex items-center gap-4 py-3 px-4 text-[15px] rounded-lg transition-all duration-200 ease-in-out ".concat(n?"bg-sky-100 text-blue-600 border-1 border-white":e.link&&"/"!==e.link?"text-gray-500":"opacity-50 cursor-not-allowed")},onClick:t=>o(e.link,t),children:[e.icon,(0,mr.jsx)("span",{className:"text-[15px]",children:e.name}),(!e.link||"/"===e.link)&&(0,mr.jsx)("span",{className:"text-xs ml-auto bg-yellow-100 text-yellow-800 px-2 py-1 rounded",children:"Coming Soon"})]})},t))})})]})},nB=e=>{let{children:n}=e;const[r,s]=(0,t.useState)(!1),a=()=>{s(!r)};return(0,mr.jsxs)("div",{className:"flex flex-col h-screen",children:[(0,mr.jsx)(eB,{toggleSidebar:a}),(0,mr.jsxs)("div",{className:"flex flex-1 overflow-hidden",children:[(0,mr.jsx)(tB,{isSidebarOpen:r,toggleSidebar:a}),(0,mr.jsx)("main",{className:"flex-1 bg-gray-100 overflow-auto p-4",children:n})]}),r&&(0,mr.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 z-20 md:hidden",onClick:a})]})};function rB(){var e,n;const[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)((new Date).getFullYear()),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(0),[A,f]=(0,t.useState)({totalLeads:0,convertedLeads:0}),m=JSON.parse(localStorage.getItem("user")||"{}"),p=m.branch_id,g=m.branch_name||"Your Branch";(0,t.useEffect)(()=>{p&&((async()=>{if(p){d(!0);try{var e;const t=localStorage.getItem("token"),n=(await Ua.get("/monthly-revenue",{headers:{Authorization:"Bearer ".concat(t)},params:{year:a,branch_id:p}})).data.branches.find(e=>e.branch_id===p);l(n);const r=(null===n||void 0===n||null===(e=n.monthly_revenue)||void 0===e?void 0:e.reduce((e,t)=>e+parseFloat(t.student_fee||0),0))||0;h(r)}catch(t){console.error("Error fetching revenue data:",t),pi.warning("Failed to load revenue data")}finally{d(!1)}}})(),(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/leads/index",{headers:{Authorization:"Bearer ".concat(e)},params:{branch_id:p}})).data||[],n=t.filter(e=>"Converted"===e.lead_status).length;f({totalLeads:t.length,convertedLeads:n})}catch(e){console.error("Error fetching leads data:",e)}})())},[p,a]);const x={labels:(null===o||void 0===o||null===(e=o.monthly_revenue)||void 0===e?void 0:e.map(e=>e.month.substring(0,3)))||[],datasets:[{label:"Monthly Revenue (\u20b9)",data:(null===o||void 0===o||null===(n=o.monthly_revenue)||void 0===n?void 0:n.map(e=>e.student_fee))||[],backgroundColor:["rgba(255, 99, 132, 0.8)","rgba(54, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)","rgba(75, 192, 192, 0.8)","rgba(153, 102, 255, 0.8)","rgba(255, 159, 64, 0.8)","rgba(199, 199, 199, 0.8)","rgba(83, 102, 255, 0.8)","rgba(40, 159, 64, 0.8)","rgba(210, 99, 132, 0.8)","rgba(130, 162, 235, 0.8)","rgba(255, 206, 86, 0.8)"],borderColor:"rgba(255, 255, 255, 1)",borderWidth:1,borderRadius:6,hoverBackgroundColor:"rgba(54, 162, 235, 1)"}]},b={responsive:!0,plugins:{legend:{position:"top",labels:{color:"#4B5563",font:{size:12,family:"Nunito, sans-serif"}}},title:{display:!0,text:"Monthly Revenue Analysis - ".concat(a),color:"#374151",font:{size:16,weight:"bold",family:"Nunito, sans-serif"}},tooltip:{backgroundColor:"rgba(255, 255, 255, 0.9)",titleColor:"#1F2937",bodyColor:"#1F2937",borderColor:"#E5E7EB",borderWidth:1,padding:10,boxPadding:6,usePointStyle:!0,callbacks:{label:function(e){return"Revenue: \u20b9".concat(e.raw.toLocaleString("en-IN"))}}}},scales:{y:{beginAtZero:!0,grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:"#4B5563",callback:function(e){return"\u20b9"+e.toLocaleString("en-IN")}},title:{display:!0,text:"Revenue (\u20b9)",color:"#4B5563",font:{family:"Nunito, sans-serif"}}},x:{grid:{color:"rgba(0, 0, 0, 0.05)"},ticks:{color:"#4B5563",font:{family:"Nunito, sans-serif"}}}},maintainAspectRatio:!1};return(0,mr.jsx)(nB,{children:(0,mr.jsxs)("div",{className:"p-6 bg-[#F4F9FD] min-h-screen",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center mb-6",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-gray-500",children:"Welcome Back,"}),(0,mr.jsx)("h1",{className:"text-[30px] mb-2 font-nunito",children:"Dashboard"})]}),(0,mr.jsxs)("div",{className:"relative mt-4 md:mt-0 group",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 bg-white/60 backdrop-blur-md border border-gray-200 shadow-md rounded-xl px-4 py-2 hover:shadow-lg transition-all duration-300 cursor-pointer",children:[(0,mr.jsx)(Oo,{className:"text-blue-500 text-lg"}),(0,mr.jsx)("label",{htmlFor:"yearInput",className:"text-gray-700 font-medium text-sm",children:"Enter Year"}),(0,mr.jsxs)("div",{className:"relative flex items-center",children:[(0,mr.jsx)(uo,{className:"absolute left-2 text-gray-400"}),(0,mr.jsx)("input",{id:"yearInput",type:"number",className:"pl-7 w-24 bg-transparent border-none text-gray-800 text-sm font-semibold outline-none focus:ring-0",value:a,onChange:e=>i(parseInt(e.target.value)||""),placeholder:"YYYY"})]}),(0,mr.jsx)(ao,{className:"text-gray-400 text-xs rotate-180 transition-transform duration-300 group-hover:rotate-0"})]}),(0,mr.jsx)("div",{className:"absolute inset-0 -z-10 blur-xl opacity-40 bg-gradient-to-r from-blue-400 to-purple-500 rounded-xl"})]})]}),(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 rounded-xl shadow-lg p-6 mb-6 text-white",children:(0,mr.jsxs)("div",{className:"flex justify-between items-center",children:[(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-xl font-semibold font-nunito",children:"Revenue Summary"}),(0,mr.jsxs)("p",{className:"text-sm opacity-90",children:["Total revenue for ",a]})]}),(0,mr.jsx)("div",{className:"text-right",children:(0,mr.jsxs)("p",{className:"text-3xl font-bold flex items-center justify-end",children:[(0,mr.jsx)(tl,{className:"mr-1"})," ",u.toLocaleString("en-IN",{maximumFractionDigits:2})]})})]})}),(0,mr.jsx)("div",{className:"grid grid-cols-1 gap-6",children:(0,mr.jsx)("div",{className:"lg:col-span-2 space-y-6",children:(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-lg p-6",children:[(0,mr.jsx)("div",{className:"flex flex-col md:flex-row md:justify-between md:items-center mb-6",children:(0,mr.jsx)("h2",{className:"font-semibold text-xl font-nunito text-gray-800 mb-4 md:mb-0",children:"Revenue Analytics"})}),(0,mr.jsxs)("div",{className:"mb-4 text-sm text-gray-600",children:["Showing data for:"," ",(0,mr.jsx)("span",{className:"font-semibold",children:g})]}),c?(0,mr.jsx)("div",{className:"flex justify-center items-center h-80",children:(0,mr.jsxs)("div",{className:"animate-pulse flex flex-col items-center",children:[(0,mr.jsx)("div",{className:"rounded-full bg-gray-200 h-12 w-12 mb-4"}),(0,mr.jsx)("div",{className:"h-4 bg-gray-200 rounded w-32"})]})}):o?(0,mr.jsx)("div",{className:"h-80",children:(0,mr.jsx)(mp,{data:x,options:b})}):(0,mr.jsx)("div",{className:"flex justify-center items-center h-80 text-gray-500",children:(0,mr.jsxs)("p",{children:["Loading revenue data for ",g,"..."]})})]})})})]})})}tf.register(km,Mm,bf,gf,Cf,om,Nm,am,lf);const sB=()=>{const[e,n]=(0,t.useState)(null),[r,s]=(0,t.useState)(null),[a,i]=(0,t.useState)(!0),[o,l]=(0,t.useState)(null),[c,d]=(0,t.useState)(!1);(0,t.useEffect)(()=>{const e=localStorage.getItem("user");if(console.log("\ud83d\udfe2 LocalStorage user:",e),e){const t=JSON.parse(e);n(t),(async e=>{try{var t,n,r;const a=localStorage.getItem("token");if(!a)return console.warn("\u26a0\ufe0f Token not found in localStorage"),l("Authentication token missing. Please log in again."),void i(!1);let o;const c={Authorization:"Bearer ".concat(a)};if("accountant"===(null===(t=e.role)||void 0===t?void 0:t.toLowerCase())?(console.log("\ud83d\udd39 Fetching all branches..."),o=await Ua.get("branches/".concat(e.branch_id),{headers:c})):"accountant"===(null===(n=e.role)||void 0===n?void 0:n.toLowerCase())&&e.branch_id?(console.log("\ud83d\udd39 Fetching branch ".concat(e.branch_id,"...")),o=await Ua.get("branches/".concat(e.branch_id),{headers:c})):console.warn("\u26a0\ufe0f No matching API call condition found for this role."),null!==(r=o)&&void 0!==r&&r.data){console.log("\u2705 Branch API Response:",o.data);const e=o.data.branch?o.data.branch:o.data;s(e)}else console.warn("\u26a0\ufe0f No data received from API.")}catch(o){console.error("\u274c Error fetching branch:",o),l("Failed to load branch data. Please try again later.")}finally{i(!1)}})(t)}else console.warn("\u26a0\ufe0f No user data found in localStorage"),l("User not found. Please log in again."),i(!1)},[]);const u=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"})};return a?(0,mr.jsx)(nB,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gray-50 flex items-center justify-center",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,mr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})}):o?(0,mr.jsx)(nB,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gray-50 flex items-center justify-center",children:(0,mr.jsx)("div",{className:"text-center bg-red-50 text-red-600 p-6 rounded-xl shadow-md",children:(0,mr.jsx)("p",{className:"font-semibold",children:o})})})}):e?(0,mr.jsx)(nB,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gradient-to-br from-blue-50 to-indigo-50",children:(0,mr.jsxs)("div",{className:"max-w-5xl mx-auto",children:[(0,mr.jsxs)("div",{className:"text-center mb-8",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-800",children:"Profile"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-2",children:"Manage your account information"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-2xl shadow-lg overflow-hidden",children:[(0,mr.jsx)("div",{className:"bg-gradient-to-r from-blue-500 to-indigo-600 p-6 text-white",children:(0,mr.jsxs)("div",{className:"flex flex-col md:flex-row items-center",children:[(0,mr.jsx)("div",{className:"w-24 h-24 rounded-full bg-white/20 flex items-center justify-center mb-4 md:mb-0 md:mr-6",children:(0,mr.jsx)("span",{className:"text-3xl font-bold",children:e.name.charAt(0)})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold",children:e.name}),(0,mr.jsx)("p",{className:"text-blue-100",children:e.role.charAt(0).toUpperCase()+e.role.slice(1)})]})]})}),(0,mr.jsxs)("div",{className:"p-6",children:[(0,mr.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Personal Information"}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-blue-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-blue-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Full Name"}),(0,mr.jsx)("p",{className:"font-medium",children:e.name})]})]}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-green-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Email Address"}),(0,mr.jsx)("p",{className:"font-medium",children:e.email})]})]}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-purple-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-purple-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M10 6H5a2 2 0 00-2 2v9a2 2 0 002 2h14a2 2 0 002-2V8a2 2 0 00-2-2h-5m-4 0V5a2 2 0 114 0v1m-4 0a2 2 0 104 0m-5 8a2 2 0 100-4 2 2 0 000 4zm0 0c1.306 0 2.417.835 2.83 2M9 14a3.001 3.001 0 00-2.83 2M15 11h3m-3 4h2"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Role"}),(0,mr.jsx)("p",{className:"font-medium capitalize",children:e.role})]})]})]}),(0,mr.jsxs)("div",{className:"space-y-4",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 border-b pb-2",children:"Account Information"}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-yellow-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 15v2m-6 4h12a2 2 0 002-2v-6a2 2 0 00-2-2H6a2 2 0 00-2 2v6a2 2 0 002 2zm10-10V7a4 4 0 00-8 0v4h8z"})})}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Password"}),(0,mr.jsxs)("div",{className:"flex items-center bg-gray-100 rounded px-2 py-1",children:[(0,mr.jsx)("input",{type:c?"text":"password",value:e.plain_password||"********",readOnly:!0,className:"bg-transparent font-mono text-gray-700 outline-none flex-1"}),(0,mr.jsx)("button",{type:"button",onClick:()=>d(!c),className:"ml-2 text-gray-600 hover:text-gray-800",children:c?(0,mr.jsx)(Lo,{}):(0,mr.jsx)(Mo,{})})]})]})]}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-red-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Member Since"}),(0,mr.jsx)("p",{className:"font-medium",children:u(e.created_at)})]})]}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-indigo-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Last Updated"}),(0,mr.jsx)("p",{className:"font-medium",children:u(e.updated_at)})]})]}),(0,mr.jsxs)("div",{className:"flex items-start",children:[(0,mr.jsx)("div",{className:"bg-gray-100 p-2 rounded-lg mr-3",children:(0,mr.jsx)("svg",{className:"w-5 h-5 text-gray-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,mr.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 12l2 2 4-4m5.618-4.016A11.955 11.955 0 0112 2.944a11.955 11.955 0 01-8.618 3.04A12.02 12.02 0 003 9c0 5.591 3.824 10.29 9 11.622 5.176-1.332 9-6.03 9-11.622 0-1.042-.133-2.052-.382-3.016z"})})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Account Status"}),(0,mr.jsxs)("div",{className:"flex items-center",children:[(0,mr.jsx)("span",{className:"h-2 w-2 bg-green-500 rounded-full mr-2"}),(0,mr.jsx)("p",{className:"font-medium text-green-600",children:"Active"})]})]})]})]})]}),r&&(0,mr.jsxs)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-700 mb-2",children:"Branch Details"}),(0,mr.jsxs)("p",{className:"text-gray-600",children:[(0,mr.jsx)("strong",{children:"Name:"})," ",r.branch_name||"N/A"]}),(0,mr.jsxs)("p",{className:"text-gray-600",children:[(0,mr.jsx)("strong",{children:"Location:"})," ",r.state||"N/A"]})]})]})]})]})})}):(0,mr.jsx)(nB,{children:(0,mr.jsx)("div",{className:"py-6 px-4 min-h-screen bg-gray-50 flex items-center justify-center",children:(0,mr.jsxs)("div",{className:"text-center",children:[(0,mr.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto"}),(0,mr.jsx)("p",{className:"mt-4 text-gray-600",children:"Loading profile..."})]})})})};const aB=function(){var e;const[n,r]=(0,t.useState)((new Date).getMonth()+1),[s,a]=(0,t.useState)((new Date).getFullYear()),[i,o]=(0,t.useState)([]),[l,c]=(0,t.useState)(!1),[d,u]=(0,t.useState)({present:0,absent:0,halfday:0,total:0}),[h,A]=(0,t.useState)(null);(0,t.useEffect)(()=>{const e=JSON.parse(localStorage.getItem("user")||"{}");A(e)},[]);const f=e=>{const t=e.filter(e=>"Present"===e.status).length,n=e.filter(e=>"Absent"===e.status).length,r=e.filter(e=>"Halfday"===e.status).length;u({present:t,absent:n,halfday:r,total:e.length})};(0,t.useEffect)(()=>{h&&(async()=>{if(null!==h&&void 0!==h&&h.branch_id&&null!==h&&void 0!==h&&h.staff_id){c(!0);try{const e=localStorage.getItem("token"),t=await Ua.get("/staff/attendance/history",{headers:{Authorization:"Bearer ".concat(e)},params:{branch_id:parseInt(h.branch_id),staff_id:parseInt(h.staff_id),month:parseInt(n),year:parseInt(s)}});t.data.status&&t.data.data?(o(t.data.data),f(t.data.data)):(o([]),u({present:0,absent:0,halfday:0,total:0}))}catch(e){console.error("Error fetching attendance:",e),alert("\u274c Failed to fetch attendance history"),o([])}finally{c(!1)}}else alert("User data not found")})()},[h,n,s]);const m=e=>{switch(e){case"Present":return"bg-green-100 text-green-800 border border-green-200";case"Absent":return"bg-red-100 text-red-800 border border-red-200";case"Halfday":return"bg-yellow-100 text-yellow-800 border border-yellow-200";default:return"bg-gray-100 text-gray-800 border border-gray-200"}},p=(new Date).getFullYear(),g=Array.from({length:5},(e,t)=>p-2+t);return(0,mr.jsx)(nB,{children:(0,mr.jsx)("div",{className:"min-h-screen bg-gray-50 p-6",children:(0,mr.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,mr.jsxs)("div",{className:"mb-8",children:[(0,mr.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"My Attendance"}),(0,mr.jsx)("p",{className:"text-gray-600 mt-2",children:"Track and manage your attendance records"})]}),h&&(0,mr.jsx)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 mb-6",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,mr.jsx)("div",{className:"w-16 h-16 bg-blue-500 rounded-full flex items-center justify-center",children:(0,mr.jsx)("span",{className:"text-white text-xl font-semibold",children:(null===(e=h.name)||void 0===e?void 0:e.charAt(0))||"U"})}),(0,mr.jsx)("div",{children:(0,mr.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:h.name})})]}),(0,mr.jsxs)("div",{className:"text-right",children:[(0,mr.jsx)("p",{className:"text-sm text-gray-500",children:"Role"}),(0,mr.jsx)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium bg-blue-100 text-blue-800",children:h.role})]})]})}),(0,mr.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6 mb-6",children:[(0,mr.jsxs)("div",{className:"lg:col-span-2 bg-white rounded-xl shadow-sm border border-gray-200 p-6",children:[(0,mr.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Select Period"}),(0,mr.jsxs)("div",{className:"flex space-x-4",children:[(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Month"}),(0,mr.jsx)("select",{value:n,onChange:e=>r(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:[{value:1,label:"January"},{value:2,label:"February"},{value:3,label:"March"},{value:4,label:"April"},{value:5,label:"May"},{value:6,label:"June"},{value:7,label:"July"},{value:8,label:"August"},{value:9,label:"September"},{value:10,label:"October"},{value:11,label:"November"},{value:12,label:"December"}].map(e=>(0,mr.jsx)("option",{value:e.value,children:e.label},e.value))})]}),(0,mr.jsxs)("div",{className:"flex-1",children:[(0,mr.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Year"}),(0,mr.jsx)("select",{value:s,onChange:e=>a(parseInt(e.target.value)),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-blue-500",children:g.map(e=>(0,mr.jsx)("option",{value:e,children:e},e))})]})]})]}),(0,mr.jsxs)("div",{className:"lg:col-span-2 grid grid-cols-2 gap-4",children:[(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-green-600",children:d.present}),(0,mr.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Present"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-red-600",children:d.absent}),(0,mr.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Absent"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-yellow-600",children:d.halfday}),(0,mr.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Half Day"})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 p-6 text-center",children:[(0,mr.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:d.total}),(0,mr.jsx)("div",{className:"text-sm text-gray-600 mt-1",children:"Total Records"})]})]})]}),(0,mr.jsxs)("div",{className:"bg-white rounded-xl shadow-sm border border-gray-200 overflow-hidden",children:[(0,mr.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,mr.jsxs)("div",{className:"flex items-center justify-between",children:[(0,mr.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Attendance Records - ",new Date(s,n-1).toLocaleDateString("en-IN",{month:"long",year:"numeric"})]}),l&&(0,mr.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,mr.jsx)("div",{className:"w-4 h-4 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,mr.jsx)("span",{className:"text-sm text-gray-600",children:"Loading..."})]})]})}),(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"w-full",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Day"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Reason"}),(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Recorded At"})]})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:i.length>0?i.map(e=>(0,mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:new Date(e.attendance_date).toLocaleDateString("en-IN")}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(e.attendance_date).toLocaleDateString("en-IN",{weekday:"long"})}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,mr.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat(m(e.status)),children:e.status})}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-600",children:e.reason||"-"}),(0,mr.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-600",children:new Date(e.created_at).toLocaleDateString("en-IN")})]},e.id)):(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"5",className:"px-6 py-12 text-center",children:(0,mr.jsx)("div",{className:"text-gray-500",children:l?(0,mr.jsxs)("div",{className:"flex items-center justify-center space-x-2",children:[(0,mr.jsx)("div",{className:"w-5 h-5 border-2 border-blue-500 border-t-transparent rounded-full animate-spin"}),(0,mr.jsx)("span",{children:"Loading attendance records..."})]}):(0,mr.jsxs)("div",{children:[(0,mr.jsx)("div",{className:"text-4xl mb-2",children:"\ud83d\udcca"}),(0,mr.jsx)("p",{className:"text-lg font-medium",children:"No attendance records found"}),(0,mr.jsx)("p",{className:"text-sm",children:"No attendance data available for the selected period."})]})})})})})]})})]})]})})})},iB=()=>{var e,n;const[r,s]=(0,t.useState)(!1),[a,i]=(0,t.useState)(!1),[o,l]=(0,t.useState)(!1),[c,d]=(0,t.useState)([]),[u,h]=(0,t.useState)([]),[A,f]=(0,t.useState)([]),[m,p]=(0,t.useState)([]),[g,x]=(0,t.useState)(""),[b,y]=(0,t.useState)(""),[v,w]=(0,t.useState)(""),[j,_]=(0,t.useState)(null),[C,S]=(0,t.useState)([]),[k,B]=(0,t.useState)(!0),[E,L]=(0,t.useState)([]),[M,F]=(0,t.useState)({total_fee:"",due_date:"",paid_amount:"",discount:"",penalty:""}),[I,D]=(0,t.useState)({payment_date:(new Date).toISOString().split("T")[0],payment_mode:"cash",amount_paid:"",note:""}),T=JSON.parse(localStorage.getItem("user")||"{}").branch_id,[O,P]=(0,t.useState)({key:"studentName",direction:"asc"}),[U,R]=(0,t.useState)({searchText:"",status:"",dateFrom:"",dateTo:""});(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=await Ua.get("/fee-structures",{headers:{Authorization:"Bearer ".concat(e)}});L(t.data||[])}catch(e){console.error("Error fetching fee structures:",e)}})()},[]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>e.student&&e.student.branch_id===T);d(t||[]),B(!1)}catch(e){console.error("Error fetching fee records:",e),B(!1)}})()},[T]),(0,t.useEffect)(()=>{(async()=>{try{const e=localStorage.getItem("token"),t=(await Ua.get("/courses/index",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>e.branch_id===T);f(t||[])}catch(e){console.error("Error fetching courses:",e)}})()},[T]),(0,t.useEffect)(()=>{(async()=>{if(b)try{const e=localStorage.getItem("token"),t=((await Ua.get("/courses/".concat(b,"/show"),{headers:{Authorization:"Bearer ".concat(e)}})).data.students||[]).filter(e=>e.branch_id===T);p(t)}catch(e){console.error("Error fetching students:",e)}})()},[b,T]);const Q=m.filter(e=>{var t;return!g||(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===g}),z=(0,t.useMemo)(()=>{let e=[...c].map(e=>{var t;return N(N({},e),{},{studentName:(null===(t=e.student)||void 0===t?void 0:t.full_name)||"",dueDate:e.due_date||"",status:0===e.pending_amount?"Paid":e.pending_amount>0?"Pending":"Advance"})});if(""!==U.searchText.trim()){const t=U.searchText.trim().toLowerCase();e=e.filter(e=>{var n;return e.studentName.toLowerCase().includes(t)||((null===(n=e.student)||void 0===n?void 0:n.admission_number)||"").toLowerCase().includes(t)})}if(U.status&&(e=e.filter(e=>e.status.toLowerCase()===U.status.toLowerCase())),U.dateFrom){const t=new Date(U.dateFrom);e=e.filter(e=>e.dueDate&&new Date(e.dueDate)>=t)}if(U.dateTo){const t=new Date(U.dateTo);e=e.filter(e=>e.dueDate&&new Date(e.dueDate)<=t)}return O.key&&e.sort((e,t)=>{let n=e[O.key],r=t[O.key];return"dueDate"===O.key?(n=n?new Date(n).getTime():0,r=r?new Date(r).getTime():0):"string"===typeof n&&(n=n.toLowerCase(),r=r.toLowerCase()),n<r?"asc"===O.direction?-1:1:n>r?"asc"===O.direction?1:-1:0}),e},[c,U,O]),H=(e,t)=>{var n;const r=new g_.default("p","mm","a4"),s=r.internal.pageSize.getWidth(),a=10,i=n=>{var i,o,l;let c=n;var d;r.line(0,c,s,c),c+=10,c+=3,r.setFont("helvetica","bold"),r.setFontSize(20),r.text("FEE RECEIPT",a,c),r.setFont("helvetica","normal"),r.setFontSize(12),r.text("Admission No.: ".concat((null===t||void 0===t||null===(i=t.student)||void 0===i?void 0:i.admission_number)||""),s-90,c),c+=8,r.text("Date: ".concat((d=null===e||void 0===e?void 0:e.payment_date)?new Date(d).toLocaleDateString():""),s-90,c),c+=10,r.line(a,c,s-a,c),c+=12;const u=s/2;var h;r.line(u,c-40,u,c-12),r.setFont("helvetica","bold"),r.text("Name of Student :",a,c),r.setFont("helvetica","normal"),r.text("".concat((null===t||void 0===t||null===(o=t.student)||void 0===o?void 0:o.full_name)||""),50,c),c+=7,r.setFont("helvetica","bold"),r.text("Guardian Name :",a,c),r.setFont("helvetica","normal"),r.text("".concat((null===t||void 0===t||null===(l=t.student)||void 0===l?void 0:l.guardian_name)||""),50,c),c+=7,r.setFont("helvetica","bold"),r.text("Name of Course :",a,c),r.setFont("helvetica","normal"),r.text("".concat((e=>{if(!e)return"N/A";if(Array.isArray(e.courses)&&e.courses.length>0)return e.courses.map(e=>e.course_name).join(", ");if(Array.isArray(e.course_ids)&&e.course_ids.length>0)return e.course_ids.map(e=>{const t=A.find(t=>t.id===Number(e));return t?t.course_name:null}).filter(Boolean).join(", ");if(e.course_id){const t=A.find(t=>t.id===Number(e.course_id));return t?t.course_name:"N/A"}return"N/A"})(t)),50,c),c+=7,r.line(a,c,s-a,c),c+=14,r.setFont("helvetica","bold"),r.text("Paid Amount :",a,c),r.setFont("helvetica","italic"),r.text((e=>{if(0===e)return"Zero";const t=["","One","Two","Three","Four","Five","Six","Seven","Eight","Nine","Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],n=["","","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=e=>e<20?t[e]:e<100?n[Math.floor(e/10)]+(e%10?" "+t[e%10]:""):e<1e3?t[Math.floor(e/100)]+" Hundred"+(e%100?" "+r(e%100):""):e<1e5?r(Math.floor(e/1e3))+" Thousand"+(e%1e3?" "+r(e%1e3):""):e<1e7?r(Math.floor(e/1e5))+" Lakh"+(e%1e5?" "+r(e%1e5):""):r(Math.floor(e/1e7))+" Crore"+(e%1e7?" "+r(e%1e7):"");return r(e)+" Rupees Only"})(Number((null===e||void 0===e?void 0:e.amount_paid)||0)),45,c),r.rect(s-70,c-6,60,16,"S"),r.setFont("helvetica","bold"),r.setFontSize(16),r.text("Rs. ".concat((h=null===e||void 0===e?void 0:e.amount_paid,Number(h||0).toString())),s-65,c+3),c+=18,r.line(a,c,s-a,c),c+=14,r.setFont("helvetica","normal"),r.setFontSize(12),r.text("Student Sign :  ".concat((null===e||void 0===e?void 0:e.received_by)||""),a,c),r.text("Payment Mode :  ".concat((null===e||void 0===e?void 0:e.payment_mode)||""),s-120,c),r.rect(s-60,c-8,50,20),r.setFont("helvetica","bold"),r.text("Sign & Seal",s-55,c+1),c+=22;const f=n+148-24;r.setFillColor(0,0,0),r.rect(0,f,s,24,"F"),r.addImage("https://i.postimg.cc/c4S3VP48/sinfode-seal.png","PNG",a,f+3,18,18),r.setTextColor(255,255,255),r.setFontSize(14),r.text("SINFODE PRIVATE LIMITED",s/2,f+8,{align:"center"}),r.setFontSize(8),r.text("www.sinfode.com | info@sinfode.com | +91-9676306970",s/2,f+14,{align:"center"}),r.text("Opp. Sanskrit College, Near Kalyan Circle, Sikar - 332001 (Raj.)",s/2,f+20,{align:"center"}),r.setTextColor(0,0,0)};i(0),i(148);const o=((null===t||void 0===t||null===(n=t.student)||void 0===n?void 0:n.full_name)||"student").replace(/\s+/g,"_");r.save("Fee_Receipt_".concat(o,"_").concat(null===e||void 0===e?void 0:e.id,".pdf"))},K=e=>{if(!e)return"N/A";return new Date(e).toLocaleDateString("en-IN")},W=e=>new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(e),V=()=>s(!1),q=()=>{i(!1),_(null)},G=()=>{l(!1),_(null),S([])},Y=e=>{const{name:t,value:n}=e.target;F(e=>N(N({},e),{},{[t]:n}))},J=e=>{const{name:t,value:n}=e.target;D(e=>N(N({},e),{},{[t]:n}))};return k?(0,mr.jsx)("div",{className:"loading",children:"Loading fee records..."}):(0,mr.jsxs)("div",{className:"collection-container",children:[(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!0,draggable:!0,pauseOnHover:!0}),(0,mr.jsx)("div",{className:"collection-header",children:(0,mr.jsx)("h1",{children:"Fee Collection Management"})}),(0,mr.jsxs)("div",{className:"flex items-center gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-200 overflow-x-auto whitespace-nowrap",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search by student name or admission no",value:U.searchText,onChange:e=>R(t=>N(N({},t),{},{searchText:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500 transition w-64"}),(0,mr.jsxs)("select",{value:U.status,onChange:e=>R(t=>N(N({},t),{},{status:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-blue-500 transition w-40",children:[(0,mr.jsx)("option",{value:"",children:"All Status"}),(0,mr.jsx)("option",{value:"Paid",children:"Paid"}),(0,mr.jsx)("option",{value:"Pending",children:"Pending"}),(0,mr.jsx)("option",{value:"Advance",children:"Advance"})]}),(0,mr.jsxs)("label",{className:"flex items-center gap-2 text-gray-600",children:[(0,mr.jsx)("span",{className:"text-sm font-medium",children:"From:"}),(0,mr.jsx)("input",{type:"date",value:U.dateFrom,onChange:e=>R(t=>N(N({},t),{},{dateFrom:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),(0,mr.jsxs)("label",{className:"flex items-center gap-2 text-gray-600",children:[(0,mr.jsx)("span",{className:"text-sm font-medium",children:"To:"}),(0,mr.jsx)("input",{type:"date",value:U.dateTo,onChange:e=>R(t=>N(N({},t),{},{dateTo:e.target.value})),className:"px-3 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 transition"})]}),(0,mr.jsx)("button",{onClick:()=>R({searchText:"",status:"",dateFrom:"",dateTo:""}),className:"px-5 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition font-medium",children:"Clear"})]}),(0,mr.jsxs)("div",{className:"flex items-center justify-between gap-2 bg-white p-4 rounded-xl shadow-sm border border-gray-200 overflow-x-auto whitespace-nowrap",children:[(0,mr.jsxs)("div",{className:"flex items-center gap-3 bg-blue-50 px-5 py-3 rounded-lg min-w-[220px]",children:[(0,mr.jsx)("div",{className:"text-blue-600 text-3xl",children:(0,mr.jsx)("i",{className:"fas fa-receipt"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:z.length}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Total Fee Records"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 bg-green-50 px-5 py-3 rounded-lg min-w-[220px]",children:[(0,mr.jsx)("div",{className:"text-green-600 text-3xl",children:(0,mr.jsx)("i",{className:"fas fa-check-circle"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:z.filter(e=>0===e.pending_amount).length}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Fully Paid"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 bg-yellow-50 px-5 py-3 rounded-lg min-w-[220px]",children:[(0,mr.jsx)("div",{className:"text-yellow-600 text-3xl",children:(0,mr.jsx)("i",{className:"fas fa-clock"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:z.filter(e=>e.pending_amount>0).length}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Pending Payments"})]})]}),(0,mr.jsxs)("div",{className:"flex items-center gap-3 bg-purple-50 px-5 py-3 rounded-lg min-w-[220px]",children:[(0,mr.jsx)("div",{className:"text-purple-600 text-3xl",children:(0,mr.jsx)("i",{className:"fas fa-plus-circle"})}),(0,mr.jsxs)("div",{children:[(0,mr.jsx)("h3",{className:"text-lg font-bold text-gray-800",children:z.filter(e=>e.pending_amount<0).length}),(0,mr.jsx)("p",{className:"text-sm text-gray-600",children:"Advance Payments"})]})]})]}),(0,mr.jsxs)("div",{className:"table-container",children:[(0,mr.jsx)("h2",{children:"Fee Records"}),(0,mr.jsx)("div",{className:"table-responsive",children:(0,mr.jsxs)("table",{className:"fee-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{className:"sortable",children:"Student Name"}),(0,mr.jsx)("th",{className:"sortable",children:"Total Fee"}),(0,mr.jsx)("th",{className:"sortable",children:"Paid Amount"}),(0,mr.jsx)("th",{className:"sortable",children:"Pending Amount"}),(0,mr.jsx)("th",{children:"Status"}),(0,mr.jsx)("th",{children:"Actions"})]})}),(0,mr.jsx)("tbody",{children:0===z.length?(0,mr.jsx)("tr",{children:(0,mr.jsx)("td",{colSpan:"10",className:"no-data",children:"No fee records found"})}):z.map(e=>{return(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{className:"student-info",children:(0,mr.jsx)("div",{className:"student-name",children:e.studentName})}),(0,mr.jsx)("td",{children:W(e.total_fee)}),(0,mr.jsx)("td",{children:W(e.paid_amount)}),(0,mr.jsx)("td",{children:W(e.pending_amount)}),(0,mr.jsx)("td",{children:(t=e.pending_amount,0===t?(0,mr.jsx)("span",{className:"status-badge paid",children:"Paid"}):t>0?(0,mr.jsx)("span",{className:"status-badge pending",children:"Pending"}):(0,mr.jsx)("span",{className:"status-badge advance",children:"Advance"}))}),(0,mr.jsx)("td",{children:(0,mr.jsxs)("div",{className:"action-buttons",children:[(0,mr.jsx)("button",{onClick:()=>(_(e),D({payment_date:(new Date).toISOString().split("T")[0],payment_mode:"cash",amount_paid:"",note:""}),void i(!0)),className:"btn btn-sm btn-primary",children:"Pay"}),e.payments&&e.payments.length>0&&(0,mr.jsx)("button",{onClick:()=>{return _(t=e),S(t.payments||[]),void l(!0);var t},className:"btn btn-sm btn-info payment-history-btn",title:"View Payment History",children:(0,mr.jsx)("i",{className:"fas fa-history"})})]})})]},e.id);var t})})]})})]}),r&&(0,mr.jsx)("div",{className:"modal-backdrop",children:(0,mr.jsxs)("div",{className:"modal",children:[(0,mr.jsxs)("div",{className:"modal-header",children:[(0,mr.jsx)("h3",{children:"Add Fee Collection"}),(0,mr.jsx)("button",{onClick:V,className:"modal-close",children:"\xd7"})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),v)try{const e=localStorage.getItem("token"),t={student_id:v,course_name:b,total_fee:M.total_fee,due_date:M.due_date,paid_amount:M.paid_amount,discount:M.discount,penalty:M.penalty};await Ua.post("/studentfee",t,{headers:{Authorization:"Bearer ".concat(e)}});const n=(await Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>e.student&&e.student.branch_id===T);d(n||[]),pi.warning("Fee record saved successfully!"),V()}catch(t){console.error("Error saving fee data:",t),pi.warning("Error saving fee data. Please try again.")}else pi.warning("Please select a student")},className:"modal-form",children:[(0,mr.jsxs)("div",{className:"form-row",children:[(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Branch"}),(0,mr.jsxs)("select",{value:g,onChange:e=>x(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"Select Branch"}),u.map(e=>(0,mr.jsx)("option",{value:e.id,children:e.branch_name},e.id))]})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Course"}),(0,mr.jsxs)("select",{value:b,onChange:e=>y(e.target.value),children:[(0,mr.jsx)("option",{value:"",children:"Select Course"}),A.filter(e=>{var t;return!g||(null===(t=e.branch_id)||void 0===t?void 0:t.toString())===g}).map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.course_name," (",e.course_code,")"]},e.id))]})]})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Student"}),(0,mr.jsxs)("select",{value:v,onChange:e=>w(e.target.value),required:!0,children:[(0,mr.jsx)("option",{value:"",children:"Select Student"}),Q.map(e=>(0,mr.jsxs)("option",{value:e.id,children:[e.name," - ",e.email]},e.id))]})]}),(0,mr.jsxs)("div",{className:"form-row",children:[(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Total Fee (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"total_fee",value:M.total_fee,onChange:Y,step:"0.01",min:"0",required:!0})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Due Date"}),(0,mr.jsx)("input",{type:"date",name:"due_date",value:M.due_date,onChange:Y})]})]}),(0,mr.jsxs)("div",{className:"form-row",children:[(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Paid Amount (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"paid_amount",value:M.paid_amount,onChange:Y,step:"0.01",min:"0",required:!0})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Discount (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"discount",value:M.discount,onChange:Y,step:"0.01",min:"0"})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Penalty (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"penalty",value:M.penalty,onChange:Y,step:"0.01",min:"0"})]})]}),(0,mr.jsxs)("div",{className:"modal-actions",children:[(0,mr.jsx)("button",{type:"button",onClick:V,className:"btn btn-secondary",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Save Fee Collection"})]})]})]})}),a&&j&&(0,mr.jsx)("div",{className:"modal-backdrop",children:(0,mr.jsxs)("div",{className:"modal",children:[(0,mr.jsxs)("div",{className:"modal-header",children:[(0,mr.jsxs)("h3",{children:["Add Payment for ",null===(e=j.student)||void 0===e?void 0:e.full_name]}),(0,mr.jsx)("button",{onClick:q,className:"modal-close",children:"\xd7"})]}),(0,mr.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),j)try{const e=localStorage.getItem("token"),t={student_fee_id:j.id,payment_date:I.payment_date,payment_mode:I.payment_mode,amount_paid:I.amount_paid,note:I.note};await Ua.post("/student-fee-payments",t,{headers:{Authorization:"Bearer ".concat(e)}});const n=(await Ua.get("/studentfee",{headers:{Authorization:"Bearer ".concat(e)}})).data.filter(e=>e.student&&e.student.branch_id===T);d(n||[]),pi.warning("Payment recorded successfully!"),q()}catch(t){console.error("Error saving payment:",t),pi.warning("Error saving payment. Please try again.")}else pi.warning("No fee record selected")},className:"modal-form",children:[(0,mr.jsxs)("div",{className:"form-row",children:[(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Payment Date"}),(0,mr.jsx)("input",{type:"date",name:"payment_date",value:I.payment_date,onChange:J,required:!0})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Payment Mode"}),(0,mr.jsxs)("select",{name:"payment_mode",value:I.payment_mode,onChange:J,required:!0,children:[(0,mr.jsx)("option",{value:"cash",children:"Cash"}),(0,mr.jsx)("option",{value:"online",children:"Online"}),(0,mr.jsx)("option",{value:"cheque",children:"Cheque"}),(0,mr.jsx)("option",{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Amount Paid (\u20b9)"}),(0,mr.jsx)("input",{type:"number",name:"amount_paid",value:I.amount_paid,onChange:J,step:"0.01",min:"0",required:!0})]}),(0,mr.jsxs)("div",{className:"form-group",children:[(0,mr.jsx)("label",{children:"Note"}),(0,mr.jsx)("textarea",{name:"note",value:I.note,onChange:J,rows:"3"})]}),(0,mr.jsxs)("div",{className:"payment-summary",children:[(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Total Fee:"})," ",W(j.total_fee)]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Already Paid:"})," ",W(j.paid_amount)]}),(0,mr.jsxs)("p",{children:[(0,mr.jsx)("strong",{children:"Pending Amount:"})," ",W(j.pending_amount)]})]}),(0,mr.jsxs)("div",{className:"modal-actions",children:[(0,mr.jsx)("button",{type:"button",onClick:q,className:"btn btn-secondary",children:"Cancel"}),(0,mr.jsx)("button",{type:"submit",className:"btn btn-primary",children:"Record Payment"})]})]})]})}),o&&j&&(0,mr.jsx)("div",{className:"modal-backdrop",children:(0,mr.jsxs)("div",{className:"modal payment-history-modal",children:[(0,mr.jsxs)("div",{className:"modal-header",children:[(0,mr.jsxs)("h3",{children:["Payment History for ",null===(n=j.student)||void 0===n?void 0:n.full_name]}),(0,mr.jsx)("button",{onClick:G,className:"modal-close",children:"\xd7"})]}),(0,mr.jsxs)("div",{className:"payment-history-content",children:[(0,mr.jsxs)("div",{className:"fee-summary",children:[(0,mr.jsx)("h4",{children:"Fee Summary"}),(0,mr.jsxs)("div",{className:"summary-grid",children:[(0,mr.jsxs)("div",{className:"summary-item",children:[(0,mr.jsx)("label",{children:"Total Fee:"}),(0,mr.jsx)("span",{children:W(j.total_fee)})]}),(0,mr.jsxs)("div",{className:"summary-item",children:[(0,mr.jsx)("label",{children:"Paid Amount:"}),(0,mr.jsx)("span",{children:W(j.paid_amount)})]}),(0,mr.jsxs)("div",{className:"summary-item",children:[(0,mr.jsx)("label",{children:"Pending Amount:"}),(0,mr.jsx)("span",{children:W(j.pending_amount)})]})]})]}),(0,mr.jsxs)("div",{className:"payment-history-list",children:[(0,mr.jsx)("h4",{children:"Payment Transactions"}),0===C.length?(0,mr.jsx)("p",{className:"no-payments",children:"No payments recorded yet."}):(0,mr.jsx)("div",{className:"payment-table-container",children:(0,mr.jsxs)("table",{className:"payment-table",children:[(0,mr.jsx)("thead",{children:(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("th",{children:"Date"}),(0,mr.jsx)("th",{children:"Amount"}),(0,mr.jsx)("th",{children:"Mode"}),(0,mr.jsx)("th",{children:"Receipt"})]})}),(0,mr.jsx)("tbody",{children:C.map(e=>(0,mr.jsxs)("tr",{children:[(0,mr.jsx)("td",{children:K(e.payment_date)}),(0,mr.jsx)("td",{children:W(e.amount_paid)}),(0,mr.jsx)("td",{children:(0,mr.jsx)("span",{className:"payment-mode ".concat(e.payment_mode),children:e.payment_mode})}),(0,mr.jsx)("td",{children:(0,mr.jsx)("button",{className:"btn-download-receipt",onClick:()=>H(e,j),title:"Download Receipt",children:(0,mr.jsx)("i",{className:"fas fa-download"})})})]},e.id))})]})})]})]}),(0,mr.jsx)("div",{className:"modal-actions",children:(0,mr.jsx)("button",{type:"button",onClick:G,className:"btn btn-secondary",children:"Close"})})]})})]})},oB=()=>{const[e,n]=(0,t.useState)("overdue"),[r,s]=(0,t.useState)([]),[a,i]=(0,t.useState)([]),[o,l]=(0,t.useState)([]),[c,d]=(0,t.useState)(!1),[u,h]=(0,t.useState)(null),[A,f]=(0,t.useState)({searchText:"",status:"",sortField:"due_date",sortOrder:"asc"}),m=JSON.parse(localStorage.getItem("user")||"{}").branch_id;(0,t.useEffect)(()=>{(async()=>{d(!0);try{const t=localStorage.getItem("token"),n=((await Ua.get("/fee-reminders?type=".concat(e),{headers:{Authorization:"Bearer ".concat(t)}})).data.data||[]).filter(e=>e.fee_structure.student.branch_id===m);"overdue"===e?s(n):"today"===e?i(n):l(n)}catch(t){console.error("Error fetching ".concat(e," data:"),t)}finally{d(!1)}})()},[e,m]);const p=(()=>{let t="overdue"===e?r:"today"===e?a:o;return A.searchText&&(t=t.filter(e=>{var t;const n=e.fee_structure.student;return n.full_name.toLowerCase().includes(A.searchText.toLowerCase())||(null===(t=n.admission_no)||void 0===t?void 0:t.toString().includes(A.searchText.trim()))})),A.status&&(t=t.filter(e=>"Paid"===A.status&&0===e.pending_amount||"Pending"===A.status&&e.pending_amount>0||"Advance"===A.status&&e.pending_amount<0)),t=[...t].sort((e,t)=>{const n=A.sortField;let r=e[n],s=t[n];return"amount"===n&&(r=Number(e.amount),s=Number(t.amount)),"due_date"===n&&(r=new Date(e.due_date),s=new Date(t.due_date)),"asc"===A.sortOrder?r>s?1:-1:r<s?1:-1}),t})();return(0,mr.jsxs)("div",{className:"p-6 max-w-7xl mx-auto",children:[(0,mr.jsx)("h2",{className:"text-2xl font-bold text-center mb-6 text-blue-800",children:"Fee Reminder"}),(0,mr.jsx)("div",{className:"flex justify-center mb-6",children:(0,mr.jsx)("div",{className:"flex gap-2 bg-gray-200 p-1 rounded-full",children:["overdue","today","upcoming"].map(t=>(0,mr.jsx)("button",{onClick:()=>n(t),className:"px-4 py-2 rounded-full text-sm font-medium transition-all ".concat(e===t?"bg-[#3F8CFF] text-white":"bg-transparent text-gray-600 hover:bg-gray-300"),children:"overdue"===t?"Overdue":"today"===t?"Today":"Upcoming (7 Days)"},t))})}),(0,mr.jsxs)("div",{className:"flex items-center gap-4 bg-white p-4 rounded-xl shadow-sm border border-gray-200 overflow-x-auto whitespace-nowrap mb-6",children:[(0,mr.jsx)("input",{type:"text",placeholder:"Search by student name or admission no",value:A.searchText,onChange:e=>f(t=>N(N({},t),{},{searchText:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 w-64"}),(0,mr.jsxs)("select",{value:A.sortField,onChange:e=>f(t=>N(N({},t),{},{sortField:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[(0,mr.jsx)("option",{value:"due_date",children:"Sort by Due Date"}),(0,mr.jsx)("option",{value:"amount",children:"Sort by Amount"})]}),(0,mr.jsxs)("select",{value:A.sortOrder,onChange:e=>f(t=>N(N({},t),{},{sortOrder:e.target.value})),className:"px-4 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 bg-white",children:[(0,mr.jsx)("option",{value:"asc",children:"Ascending"}),(0,mr.jsx)("option",{value:"desc",children:"Descending"})]}),(0,mr.jsx)("button",{onClick:()=>f({searchText:"",status:"",sortField:"due_date",sortOrder:"asc"}),className:"px-5 py-2 bg-red-500 text-white rounded-lg hover:bg-red-600 transition font-medium",children:"Clear"})]}),(0,mr.jsx)("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:c?(0,mr.jsxs)("div",{className:"p-8 text-center",children:[(0,mr.jsx)("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-t-2 border-b-2 border-blue-500"}),(0,mr.jsx)("p",{className:"mt-2 text-gray-600",children:"Loading data..."})]}):p.length>0?(0,mr.jsx)("div",{className:"overflow-x-auto",children:(0,mr.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,mr.jsx)("thead",{className:"bg-gray-50",children:(0,mr.jsx)("tr",{children:["Student","Installment","Amount","Due Date","Status","Action"].map(e=>(0,mr.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:e},e))})}),(0,mr.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:p.map(t=>{return(0,mr.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,mr.jsx)("td",{className:"px-6 py-4 text-sm font-medium text-gray-900",children:t.fee_structure.student.full_name}),(0,mr.jsxs)("td",{className:"px-6 py-4 text-sm text-gray-500",children:["Installment #",t.installment_number]}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm font-semibold text-gray-800",children:(r=t.amount,new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",minimumFractionDigits:2}).format(r))}),(0,mr.jsx)("td",{className:"px-6 py-4 text-sm text-gray-500",children:(n=t.due_date,new Date(n).toLocaleDateString("en-US",{day:"numeric",month:"short",year:"numeric"}))}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsx)("span",{className:"px-2 inline-flex text-xs leading-5 font-semibold rounded-full ".concat("overdue"===e?"bg-red-100 text-red-800":"today"===e?"bg-yellow-100 text-yellow-800":"bg-green-100 text-green-800"),children:"overdue"===e?"Overdue":"today"===e?"Due Today":"Upcoming"})}),(0,mr.jsx)("td",{className:"px-6 py-4",children:(0,mr.jsx)("button",{onClick:()=>(async e=>{try{h(e);const t=localStorage.getItem("token"),n=await Ua.post("/send-manual-reminder",{installment_id:e},{headers:{Authorization:"Bearer ".concat(t)}});pi.success(n.data.message||"Reminder sent successfully!")}catch(r){var t,n;console.error("Error sending reminder:",r),pi.error((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.message)||"Failed to send reminder")}finally{h(null)}})(t.id),disabled:u===t.id,className:"px-3 py-1 rounded-md text-white text-sm font-medium ".concat(u===t.id?"bg-gray-400 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600"),children:u===t.id?"Sending...":"Send Reminder"})})]},t.id);var n,r})})]})}):(0,mr.jsx)("div",{className:"p-8 text-center",children:(0,mr.jsxs)("p",{className:"text-gray-500",children:["No ",e," fees found for your branch."]})})}),(0,mr.jsx)(Ci,{position:"top-right",autoClose:3e3})]})};function lB(){const[e,n]=(0,t.useState)("collection");return(0,mr.jsx)(nB,{children:(0,mr.jsxs)("div",{className:"flex h-full",children:[(0,mr.jsxs)("div",{className:"w-60 bg-white rounded-xl shadow-md p-4 space-y-3",children:[(0,mr.jsx)("button",{onClick:()=>n("collection"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("collection"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\ud83d\udcb0 Fees Collection"}),(0,mr.jsx)("button",{onClick:()=>n("reminder"),className:"block w-full text-left px-4 py-5 rounded-lg ".concat("reminder"===e?"bg-blue-100 text-black":"hover:bg-blue-100 text-black"),children:"\u23f0 Fee Reminder"})]}),(0,mr.jsxs)("div",{className:"flex-1 rounded-lg p-6 overflow-y-auto",children:["collection"===e&&(0,mr.jsx)(iB,{}),"reminder"===e&&(0,mr.jsx)(oB,{})]})]})})}const cB=()=>(0,mr.jsxs)(Cn,{children:[(0,mr.jsx)(Nn,{path:"/account/dashboard",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(rB,{})})}),(0,mr.jsx)(Nn,{path:"/account/profile",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(sB,{})})}),(0,mr.jsx)(Nn,{path:"/account/attendence",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(aB,{})})}),(0,mr.jsx)(Nn,{path:"/account/fees",element:(0,mr.jsx)(Mi,{children:(0,mr.jsx)(lB,{})})})]}),dB=()=>(0,mr.jsxs)(ar,{children:[(0,mr.jsx)(Li,{}),(0,mr.jsx)(MS,{}),(0,mr.jsx)($k,{}),(0,mr.jsx)(Ck,{}),(0,mr.jsx)(cB,{})]}),uB=()=>(0,mr.jsx)(m,{store:$e,children:(0,mr.jsx)(dB,{})}),hB=e=>{e&&e instanceof Function&&n.e(488).then(n.bind(n,2488)).then(t=>{let{getCLS:n,getFID:r,getFCP:s,getLCP:a,getTTFB:i}=t;n(e),r(e),s(e),a(e),i(e)})};r.createRoot(document.getElementById("root")).render((0,mr.jsx)(mr.Fragment,{children:(0,mr.jsx)(uB,{})})),hB()})()})();
//# sourceMappingURL=main.fd1b6b45.js.map